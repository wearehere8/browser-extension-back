{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"百度网盘直链下载助手","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link*","*://yun.baidu.com/share/link*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"data":{"secretCode":"s498065"},"ts":1581085009996},"enabled":true,"position":1,"file_url":"https://greasyfork.org/scripts/39504-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B-%E7%9B%B4%E9%93%BE%E5%8A%A0%E9%80%9F%E7%89%88/code/%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD%E5%8A%A9%E6%89%8B%20%E7%9B%B4%E9%93%BE%E5%8A%A0%E9%80%9F%E7%89%88.user.js","uuid":"563b6811-b3ca-4b69-8cbe-b76c58b3529e","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgIOeZvuW6pue9keebmOebtOmTvuS4i+i9veWKqeaJiwovLyBAbmFtZXNwYWNlICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3N5aHl6MTk5MC9iYWlkdXl1bgovLyBAdmVyc2lvbiAgICAgICAgICAgMi42LjQKLy8gQGljb24gICAgICAgICAgICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS9wcHJlcy9zdGF0aWMvaW1hZ2VzL2Zhdmljb24uaWNvCi8vIEBkZXNjcmlwdGlvbiAgICAgICDjgJDnmb7luqbnvZHnm5jnm7TmjqXkuIvovb3liqnmiYsg55u06ZO+5Yqg6YCf54mI44CR5q2j5byP5pu05ZCN5Li644CQ55m+5bqm572R55uY55u06ZO+5LiL6L295Yqp5omL44CR5YWN5a6i5oi356uv5LiA6ZSu6I635Y+W55m+5bqm572R55uY5paH5Lu255yf5a6e5LiL6L295Zyw5Z2A77yM5pSv5oyB5L2/55SoSURN77yM6L+F6Zu377yMQXJpYTJj5Y2P6K6u562J5LiL6L295bel5YW35LiL6L29Ci8vIEBhdXRob3IgICAgICAgICAgICBzeWh5ejE5OTAKLy8gQGxpY2Vuc2UgICAgICAgICAgIE1JVAovLyBAc3VwcG9ydFVSTCAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL3N5aHl6MTk5MC9iYWlkdXl1bgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3l1bi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vcy8qCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly9wYW4uYmFpZHUuY29tL3NoYXJlL2xpbmsqCi8vIEBtYXRjaCAgICAgICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9zaGFyZS9saW5rKgovLyBAcmVxdWlyZSAgICAgICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vanF1ZXJ5LzEuMTIuNC9qcXVlcnkubWluLmpzCi8vIEByZXF1aXJlICAgICAgICAgICBodHRwczovL2Nkbi5ib290Y3NzLmNvbS9zd2VldGFsZXJ0LzIuMS4yL3N3ZWV0YWxlcnQubWluLmpzCi8vIEBydW4tYXQgICAgICAgICAgICBkb2N1bWVudC1pZGxlCi8vIEBncmFudCAgICAgICAgICAgICB1bnNhZmVXaW5kb3cKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gQGdyYW50ICAgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgR01fb3BlbkluVGFiCi8vID09L1VzZXJTY3JpcHQ9PQoKJ3VzZSBzdHJpY3QnCgo7KGZ1bmN0aW9uICgpIHsKICBjb25zdCBjbGFzc01hcCA9IHsKICAgICdsaXN0JzogJ3pKTXRBRWInLAogICAgJ2dyaWQnOiAnZnlRZ0FFYicsCiAgICAnbGlzdC1ncmlkLXN3aXRjaCc6ICdhdWlhUU55bicsCiAgICAnbGlzdC1zd2l0Y2hlZC1vbic6ICdld1htMWUnLAogICAgJ2dyaWQtc3dpdGNoZWQtb24nOiAna3hoa1gyRW0nLAogICAgJ2xpc3Qtc3dpdGNoJzogJ3J2cFhtNjMnLAogICAgJ2dyaWQtc3dpdGNoJzogJ214Z2RKZ3d2JywKICAgICdjaGVja2JveCc6ICdFT0dleGYnLAogICAgJ2NvbC1pdGVtJzogJ1F4eWZ2ZycsCiAgICAnY2hlY2snOiAnZnlkR05DJywKICAgICdjaGVja2VkJzogJ0V6dWJHZycsCiAgICAnY2hla2JveC1ncmlkJzogJ2NFZWZ5eicsCiAgICAnbGlzdC12aWV3JzogJ3ZkQWZLTWInLAogICAgJ2l0ZW0tYWN0aXZlJzogJ3p3Y2IxMDVMJywKICAgICdncmlkLXZpZXcnOiAnSkt2SEpNYicsCiAgICAnYmFyLXNlYXJjaCc6ICdPRmFQYU8nLAogICAgJ2xpc3QtdG9vbHMnOiAndGN1TEF1JywKICAgICdzaWRlYmFyJzogJ0tIYlFDdWInLAogICAgJ2hlYWRlcic6ICd2eVFITnliJwogIH07CiAgY29uc3QgZXJyb3JNc2cgPSB7CiAgICAnZGlyJzogJ+S4jeaUr+aMgeaVtOS4quaWh+S7tuWkueS4i+i9ve+8jOWPr+i/m+WFpeaWh+S7tuWkueWGheiOt+WPluaWh+S7tumTvuaOpeS4i+i9vScsCiAgICAndW5sb2dpbic6ICfmj5DnpLogOiDlv4XpobvnmbvlvZXnmb7luqbnvZHnm5jlkI7miY3og73mraPluLjkvb/nlKjohJrmnKzlk6YhISEnLAogICAgJ2ZhaWwnOiAn6I635Y+W5LiL6L296ZO+5o6l5aSx6LSl77yB6K+35Yi35paw5ZCO6YeN6K+V77yBJywKICAgICd1bnNlbGVjdGVkJzogJ+acqumAieS4reaWh+S7tu+8jOivt+WLv+WLvumAieaWh+S7tuWkue+8jOWQpuWImeWIt+aWsOWQjumHjeivle+8gScsCiAgICAnbW9yZXRoYW4yJzogJ+WkmuS4quaWh+S7tuivt+eCueWHu+OAkOaYvuekuumTvuaOpeOAkScKICB9OwoKICBsZXQgc2VjcmV0Q29kZSA9IEdNX2dldFZhbHVlKCdzZWNyZXRDb2RlJykgPyBHTV9nZXRWYWx1ZSgnc2VjcmV0Q29kZScpIDogJzQ5ODA2NSc7CiAgY29uc3QgdXNlckFnZW50ID0gIm5ldGRpc2s7Mi4yLjI7cGM7cGMtbWFjOzEwLjE0LjU7bWFjYmFpZHV5dW5ndWFuamlhIjsKCiAgZnVuY3Rpb24gY2xvZyhjMSwgYzIsIGMzKSB7CiAgICBjMSA9IGMxID8gYzEgOiAnJzsKICAgIGMyID0gYzIgPyBjMiA6ICcnOwogICAgYzMgPSBjMyA/IGMzIDogJyc7CiAgICBjb25zb2xlLmdyb3VwKCdb55m+5bqm572R55uY55u06ZO+5LiL6L295Yqp5omLXScpOwogICAgY29uc29sZS5sb2coYzEsIGMyLCBjMyk7CiAgICBjb25zb2xlLmdyb3VwRW5kKCk7CiAgfQoKICBmdW5jdGlvbiBhcmlhMmMobGluaywgZmlsZW5hbWUpIHsKICAgIGxldCBiYWlkdXl1blBsdWdpbl9CRFVTUyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiYWlkdXl1blBsdWdpbl9CRFVTUycpID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JhaWR1eXVuUGx1Z2luX0JEVVNTJykgOiAneyJiYWlkdXl1blBsdWdpbl9CRFVTUyI6IiJ9JzsKICAgIGxldCBCRFVTUyA9IEpTT04ucGFyc2UoYmFpZHV5dW5QbHVnaW5fQkRVU1MpLkJEVVNTOwogICAgaWYgKCFCRFVTUykgewogICAgICBzd2FsKCfor7flhYjlronoo4Xnmb7luqZDb29raWVz6I635Y+W5Yqp5omLJyk7CiAgICAgIEdNX29wZW5JblRhYignaHR0cHM6Ly93d3cuYmFpZHV5dW4ud2lraS8jL3poLWNuL2Nvb2tpZS1wbHVnaW4nLCB7YWN0aXZlOiB0cnVlfSk7CiAgICAgIHJldHVybiAn6K+35YWI5a6J6KOF55m+5bqmQ29va2llc+iOt+WPluWKqeaJi++8jOWuieijheWQjuWIt+aWsOmhtemdoumHjeivlSc7CiAgICB9CiAgICByZXR1cm4gYGFyaWEyYyAiJHtsaW5rfSIgLS1vdXQgIiR7ZmlsZW5hbWV9IiAtLWhlYWRlciAiVXNlci1BZ2VudDogJHt1c2VyQWdlbnR9IiAtLWhlYWRlciAiQ29va2llOiBCRFVTUz0ke0JEVVNTfSJgOwogIH0KCiAgZnVuY3Rpb24gcmVwbGFjZUxpbmsobGluaykgewogICAgcmV0dXJuIGxpbmsucmVwbGFjZSgvJi9nLCAnJmFtcDthbXA7Jyk7CiAgfQoKICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy5hcmlhMmMtbGluayAnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICBsZXQgbGluayA9ICQodGhpcykudGV4dCgpOwogICAgR01fc2V0Q2xpcGJvYXJkKGxpbmssICd0ZXh0Jyk7CiAgICBzd2FsKCflt7LlsIbpk77mjqXlpI3liLbliLDliarotLTmnb/vvIHor7flpI3liLbliLBYZG93buS4reS4i+i9vScpOwogICAgcmV0dXJuIGZhbHNlOwogIH0pOwoKICAvL+e9keebmOmhtemdoueahOS4i+i9veWKqeaJiwogIGZ1bmN0aW9uIFBhbkhlbHBlcigpIHsKICAgIGxldCB5dW5EYXRhLCBzaWduLCB0aW1lc3RhbXAsIGJkc3Rva2VuLCBsb2dpZCwgZmlkX2xpc3Q7CiAgICBsZXQgZmlsZUxpc3QgPSBbXSwgc2VsZWN0RmlsZUxpc3QgPSBbXSwgYmF0Y2hMaW5rTGlzdCA9IFtdLCBiYXRjaExpbmtMaXN0QWxsID0gW10sIGxpbmtMaXN0ID0gW10sCiAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdsaXN0JzsKICAgIGxldCBvYnNlcnZlciwgY3VycmVudFBhZ2UsIGN1cnJlbnRQYXRoLCBjdXJyZW50Q2F0ZWdvcnksIGRpYWxvZywgc2VhcmNoS2V5OwogICAgbGV0IHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgbGV0IHJlc3RBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvL3Bjcy5iYWlkdS5jb20vcmVzdC8yLjAvcGNzLyI7CiAgICBsZXQgY2xpZW50QVBJVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy9kLnBjcy5iYWlkdS5jb20vcmVzdC8yLjAvcGNzLyI7CgogICAgdGhpcy5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICB5dW5EYXRhID0gdW5zYWZlV2luZG93Lnl1bkRhdGE7CiAgICAgIGNsb2coJ+WIneWni+WMluS/oeaBrzonLCB5dW5EYXRhKTsKICAgICAgaWYgKHl1bkRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgIGNsb2coJ+mhtemdouacquato+W4uOWKoOi9ve+8jOaIluiAheeZvuW6puW3sue7j+abtOaWsO+8gScpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpbml0UGFyYW1zKCk7CiAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICBjcmVhdGVPYnNlcnZlcigpOwogICAgICBhZGRCdXR0b24oKTsKICAgICAgY3JlYXRlSWZyYW1lKCk7CiAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6IHRydWV9KTsKICAgICAgY2xvZygn6ISa5pys5Yqg6L295oiQ5Yqf77yBJyk7CiAgICB9OwoKICAgIGZ1bmN0aW9uIGluaXRQYXJhbXMoKSB7CiAgICAgIHNpZ24gPSBnZXRTaWduKCk7CiAgICAgIHRpbWVzdGFtcCA9IGdldFRpbWVzdGFtcCgpOwogICAgICBiZHN0b2tlbiA9IGdldEJEU3Rva2VuKCk7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICBjbG9nKCflvZPliY3mqKHlvI86JywgY3VycmVudFBhZ2UpOwoKICAgICAgaWYgKGN1cnJlbnRQYWdlID09ICdhbGwnKQogICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ2NhdGVnb3J5JykKICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICBpZiAoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpCiAgICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CiAgICAgIHJlZnJlc2hMaXN0R3JpZFN0YXR1cygpOwogICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoRmlsZUxpc3QoKSB7CiAgICAgIGlmIChjdXJyZW50UGFnZSA9PSAnYWxsJykgewogICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgfSBlbHNlIGlmIChjdXJyZW50UGFnZSA9PSAnY2F0ZWdvcnknKSB7CiAgICAgICAgZmlsZUxpc3QgPSBnZXRDYXRlZ29yeUZpbGVMaXN0KCk7CiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBhZ2UgPT0gJ3NlYXJjaCcpIHsKICAgICAgICBmaWxlTGlzdCA9IGdldFNlYXJjaEZpbGVMaXN0KCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoU2VsZWN0TGlzdCgpIHsKICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgIH0KCiAgICBmdW5jdGlvbiByZWZyZXNoTGlzdEdyaWRTdGF0dXMoKSB7CiAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgfQoKICAgIC8v6I635Y+W5b2T5YmN55qE6KeG5Zu+5qih5byPCiAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpIHsKICAgICAgaWYgKCQoJy4nICsgY2xhc3NNYXBbJ2xpc3QnXSkuaXMoJzpoaWRkZW4nKSkgewogICAgICAgIHJldHVybiAnZ3JpZCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdsaXN0JzsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpIHsKICAgICAgcmVnaXN0ZXJIYXNoQ2hhbmdlKCk7CiAgICAgIHJlZ2lzdGVyTGlzdEdyaWRTdGF0dXMoKTsKICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICByZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICByZWdpc3RlclNoYXJlQ2xpY2soKTsKICAgICAgcmVnaXN0ZXJTaWRlYmFyKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJTaWRlYmFyKCkgewogICAgICBpZiAoZ2V0Q29va2llKCdoX3MnKSAhPSAxKSB7CiAgICAgICAgJCgnLicgKyBjbGFzc01hcFsnc2lkZWJhciddKS5hcHBlbmQoJChgPGltZyBjbGFzcz0iVjZkM0ZnIiBzcmM9Imh0dHBzOi8vYmFpZHVwYW4uY2RuLmJjZWJvcy5jb20vYmFpZHUucG5nP3Q9JHtNYXRoLnJhbmRvbSgpfSIgc3R5bGU9Im1hcmdpbjogMCBhdXRvOyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDEwMHB4O2N1cnNvcjogcG9pbnRlciI+YCkpOwogICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuVjZkM0ZnJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgR01fb3BlbkluVGFiKCdodHRwOi8vcGFuLmJhaWR1eXVuLndpa2kvaG9tZScpOwogICAgICAgICAgc2V0Q29va2llKCdoX3MnLCAxLCA2MCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgICAvL+ebkeinhueCueWHu+WIhuS6q+aMiemSrgogICAgZnVuY3Rpb24gcmVnaXN0ZXJTaGFyZUNsaWNrKCkgewogICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW3RpdGxlPSLliIbkuqsiXScsIGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgaW52ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKCQoJyNzaGFyZS1tZXRob2QtcHVibGljJykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICAgICQoIi5zaGFyZS1tZXRob2QtbGluZSIpLnBhcmVudCgpLmFwcGVuZCgnPGRpdiBjbGFzcz0ic2hhcmUtbWV0aG9kLWxpbmUiPjxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9InNoYXJlLW1ldGhvZC1wdWJsaWMiIG5hbWU9InNoYXJlLW1ldGhvZCIgdmFsdWU9InB1YmxpYyIgY2hlY2tlZD48c3BhbiBjbGFzcz0iaWNvbiByYWRpby1pY29uIGljb24tcmFkaW8tbm9uIj48L3NwYW4+PGxhYmVsIGZvcj0ic2hhcmUtbWV0aG9kLXB1YmxpYyI+PGI+5YWs5byA5YiG5LqrPC9iPjxzcGFuPuS7u+S9leS6uuiuv+mXrumTvuaOpeWNs+WPr+afpeeci++8jOS4i+i9ve+8gTwvc3Bhbj48L2Rpdj4nKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW52KTsKICAgICAgICAgICAgJChkb2N1bWVudCkub2ZmKCdjbGljaycsICdbdGl0bGU9IuWIhuS6qyJdJyk7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwKTsKICAgICAgfSk7CiAgICB9CgogICAgLy/nm5Hop4blnLDlnYDmoI8j5qCH562+55qE5Y+Y5YyWCiAgICBmdW5jdGlvbiByZWdpc3Rlckhhc2hDaGFuZ2UoKSB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZWZyZXNoTGlzdEdyaWRTdGF0dXMoKTsKCiAgICAgICAgaWYgKGdldEN1cnJlbnRQYWdlKCkgPT0gJ2FsbCcpIHsKICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKSB7CiAgICAgICAgICAgIGlmIChjdXJyZW50UGF0aCAhPSBnZXRQYXRoKCkpIHsKICAgICAgICAgICAgICBjdXJyZW50UGF0aCA9IGdldFBhdGgoKTsKICAgICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgICByZWZyZXNoU2VsZWN0TGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGdldEN1cnJlbnRQYWdlKCkgPT0gJ2NhdGVnb3J5JykgewogICAgICAgICAgaWYgKGN1cnJlbnRQYWdlID09IGdldEN1cnJlbnRQYWdlKCkpIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXRlZ29yeSAhPSBnZXRDYXRlZ29yeSgpKSB7CiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICAgIGN1cnJlbnRDYXRlZ29yeSA9IGdldENhdGVnb3J5KCk7CiAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICBjdXJyZW50Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGdldEN1cnJlbnRQYWdlKCkgPT0gJ3NlYXJjaCcpIHsKICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA9PSBnZXRDdXJyZW50UGFnZSgpKSB7CiAgICAgICAgICAgIGlmIChzZWFyY2hLZXkgIT0gZ2V0U2VhcmNoS2V5KCkpIHsKICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IGdldEN1cnJlbnRQYWdlKCk7CiAgICAgICAgICAgICAgc2VhcmNoS2V5ID0gZ2V0U2VhcmNoS2V5KCk7CiAgICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgICAgcmVmcmVzaFNlbGVjdExpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY3VycmVudFBhZ2UgPSBnZXRDdXJyZW50UGFnZSgpOwogICAgICAgICAgICBzZWFyY2hLZXkgPSBnZXRTZWFyY2hLZXkoKTsKICAgICAgICAgICAgcmVmcmVzaEZpbGVMaXN0KCk7CiAgICAgICAgICAgIHJlZnJlc2hTZWxlY3RMaXN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvL+ebkeinhuinhuWbvuWPmOWMlgogICAgZnVuY3Rpb24gcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpIHsKICAgICAgbGV0ICRhX2xpc3QgPSAkKCdhW2RhdGEtdHlwZT1saXN0XScpOwogICAgICAkYV9saXN0LmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2xpc3QnOwogICAgICB9KTsKCiAgICAgIGxldCAkYV9ncmlkID0gJCgnYVtkYXRhLXR5cGU9Z3JpZF0nKTsKICAgICAgJGFfZ3JpZC5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9ICdncmlkJzsKICAgICAgfSk7CiAgICB9CgogICAgLy/mlofku7bpgInmi6nmoYYKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQ2hlY2tib3goKSB7CiAgICAgIGxldCAkY2hlY2tib3ggPSAkKCdzcGFuLicgKyBjbGFzc01hcFsnY2hlY2tib3gnXSk7CiAgICAgIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJykgewogICAgICAgICRjaGVja2JveCA9ICQoJy4nICsgY2xhc3NNYXBbJ2NoZWtib3gtZ3JpZCddKTsKICAgICAgfQoKICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICBsZXQgZmlsZW5hbWU7CiAgICAgICAgICBsZXQgaXNBY3RpdmU7CgogICAgICAgICAgaWYgKGxpc3RfZ3JpZF9zdGF0dXMgPT0gJ2xpc3QnKSB7CiAgICAgICAgICAgIGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywgJHBhcmVudCkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKGNsYXNzTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgIH0gZWxzZSBpZiAobGlzdF9ncmlkX3N0YXR1cyA9PSAnZ3JpZCcpIHsKICAgICAgICAgICAgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGEnLCAkKHRoaXMpKS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICBpc0FjdGl2ZSA9ICEkKHRoaXMpLmhhc0NsYXNzKGNsYXNzTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNBY3RpdmUpIHsKICAgICAgICAgICAgY2xvZygn5Y+W5raI6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3RGaWxlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFtpXS5maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3Quc3BsaWNlKGksIDEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xvZygn6YCJ5Lit5paH5Lu2OicgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lID09IGZpbGVuYW1lKSB7CiAgICAgICAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgIHBhdGg6IGVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgICAgZnNfaWQ6IGVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgIGlzZGlyOiBlbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJDaGVja2JveCgpIHsKICAgICAgbGV0ICRjaGVja2JveCA9ICQoJ3NwYW4uJyArIGNsYXNzTWFwWydjaGVja2JveCddKTsKICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgIH0pOwogICAgfQoKICAgIC8v5YWo6YCJ5qGGCiAgICBmdW5jdGlvbiByZWdpc3RlckFsbENoZWNrYm94KCkgewogICAgICBsZXQgJGNoZWNrYm94ID0gJCgnZGl2LicgKyBjbGFzc01hcFsnY29sLWl0ZW0nXSArICcuJyArIGNsYXNzTWFwWydjaGVjayddKTsKICAgICAgJGNoZWNrYm94LmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBsZXQgJHBhcmVudCA9ICQodGhpcykucGFyZW50KCk7CiAgICAgICAgICBpZiAoJHBhcmVudC5oYXNDbGFzcyhjbGFzc01hcFsnY2hlY2tlZCddKSkgewogICAgICAgICAgICBjbG9nKCflj5bmtojlhajpgIknKTsKICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsb2coJ+WFqOmDqOmAieS4rScpOwogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgICAkLmVhY2goZmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgICAgICBmaWxlbmFtZTogZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICBmc19pZDogZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgIGlzZGlyOiBlbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiB1bnJlZ2lzdGVyQWxsQ2hlY2tib3goKSB7CiAgICAgIGxldCAkY2hlY2tib3ggPSAkKCdkaXYuJyArIGNsYXNzTWFwWydjb2wtaXRlbSddICsgJy4nICsgY2xhc3NNYXBbJ2NoZWNrJ10pOwogICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgfSk7CiAgICB9CgogICAgLy/ljZXkuKrmlofku7bpgInkuK3vvIzngrnlh7vmlofku7bkuI3mmK/ngrnlh7vpgInkuK3moYbvvIzkvJrlj6rpgInkuK3or6Xmlofku7YKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRmlsZVNlbGVjdCgpIHsKICAgICAgbGV0ICRkZCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2xpc3QtdmlldyddICsgJyBkZCcpOwogICAgICAkZGQuZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGxldCBub2RlTmFtZSA9IGUudGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICBpZiAobm9kZU5hbWUgIT0gJ3NwYW4nICYmIG5vZGVOYW1lICE9ICdhJyAmJiBub2RlTmFtZSAhPSAnZW0nKSB7CiAgICAgICAgICAgIGNsb2coJ3NoaWZ0S2V5OicgKyBlLnNoaWZ0S2V5KTsKICAgICAgICAgICAgaWYgKCFlLnNoaWZ0S2V5KSB7CiAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCAkKHRoaXMpKS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgIGNsb2coJ+mAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgICBsZXQgb2JqID0gewogICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgZnNfaWQ6IGVsZW1lbnQuZnNfaWQsCiAgICAgICAgICAgICAgICAgICAgaXNkaXI6IGVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICAgbGV0ICRkZF9zZWxlY3QgPSAkKCdkaXYuJyArIGNsYXNzTWFwWydsaXN0LXZpZXcnXSArICcgZGQuJyArIGNsYXNzTWFwWydpdGVtLWFjdGl2ZSddKTsKICAgICAgICAgICAgICAkLmVhY2goJGRkX3NlbGVjdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWUgPSAkKCdkaXYuZmlsZS1uYW1lIGRpdi50ZXh0IGEnLCAkKGVsZW1lbnQpKS5hdHRyKCd0aXRsZScpOwogICAgICAgICAgICAgICAgY2xvZygn6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnNlcnZlcl9maWxlbmFtZSA9PSBmaWxlbmFtZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBlbGVtZW50LnBhdGgsCiAgICAgICAgICAgICAgICAgICAgICBmc19pZDogZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgICAgIGlzZGlyOiBlbGVtZW50LmlzZGlyCiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJGaWxlU2VsZWN0KCkgewogICAgICBsZXQgJGRkID0gJCgnZGl2LicgKyBjbGFzc01hcFsnbGlzdC12aWV3J10gKyAnIGRkJyk7CiAgICAgICRkZC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICB9KTsKICAgIH0KCiAgICAvL+ebkeinhuaWh+S7tuWIl+ihqOaYvuekuuWPmOWMlgogICAgZnVuY3Rpb24gY3JlYXRlT2JzZXJ2ZXIoKSB7CiAgICAgIGxldCBNdXRhdGlvbk9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI7CiAgICAgIGxldCBvcHRpb25zID0gewogICAgICAgICdjaGlsZExpc3QnOiB0cnVlCiAgICAgIH07CiAgICAgIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykgewogICAgICAgIHVucmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgIHVucmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgICAgcmVnaXN0ZXJDaGVja2JveCgpOwogICAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgICByZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgfSk7CgogICAgICBsZXQgbGlzdF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc01hcFsnbGlzdC12aWV3J10pOwogICAgICBsZXQgZ3JpZF92aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBjbGFzc01hcFsnZ3JpZC12aWV3J10pOwoKICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShsaXN0X3ZpZXcsIG9wdGlvbnMpOwogICAgICBvYnNlcnZlci5vYnNlcnZlKGdyaWRfdmlldywgb3B0aW9ucyk7CiAgICB9CgogICAgLy/miJHnmoTnvZHnm5ggLSDmt7vliqDliqnmiYvmjInpkq4KICAgIGZ1bmN0aW9uIGFkZEJ1dHRvbigpIHsKICAgICAgJCgnZGl2LicgKyBjbGFzc01hcFsnYmFyLXNlYXJjaCddKS5jc3MoJ3dpZHRoJywgJzE4JScpOwogICAgICBsZXQgJGRyb3Bkb3duYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIj48L3NwYW4+Jyk7CiAgICAgIGxldCAkZHJvcGRvd25idXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiBnLWJ1dHRvbi1ibHVlIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxlbSBjbGFzcz0iaWNvbiBpY29uLXNwZWVkIiB0aXRsZT0i55m+5bqm572R55uY5LiL6L295Yqp5omLIj48L2VtPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6IDYwcHg7Ij7kuIvovb3liqnmiYs8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgbGV0ICRkcm9wZG93bmJ1dHRvbl9zcGFuID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMDRweCI+PC9zcGFuPicpOwoKICAgICAgbGV0ICRkaXJlY3RidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgbGV0ICRkaXJlY3RidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICBsZXQgJGRpcmVjdGJ1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+YXJpYTJj5LiL6L29PC9zcGFuPjwvc3Bhbj48L2E+Jyk7CiAgICAgIGxldCAkZGlyZWN0YnV0dG9uX21lbnUgPSAkKCc8c3BhbiBjbGFzcz0ibWVudSIgc3R5bGU9IndpZHRoOjEyMHB4O2xlZnQ6NzlweCI+PC9zcGFuPicpOwogICAgICBsZXQgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGh0dHBsaW5rLWRpcmVjdCIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuaYvuekuumTvuaOpTwvYT4nKTsKICAgICAgJGRpcmVjdGJ1dHRvbl9tZW51LmFwcGVuZCgkZGlyZWN0YnV0dG9uX2JhdGNoaHR0cGxpbmtfYnV0dG9uKTsKICAgICAgJGRpcmVjdGJ1dHRvbi5hcHBlbmQoJGRpcmVjdGJ1dHRvbl9zcGFuLmFwcGVuZCgkZGlyZWN0YnV0dG9uX2EpLmFwcGVuZCgkZGlyZWN0YnV0dG9uX21lbnUpKTsKICAgICAgJGRpcmVjdGJ1dHRvbi5ob3ZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgJGRpcmVjdGJ1dHRvbl9zcGFuLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICB9KTsKICAgICAgJGRpcmVjdGJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgIGxldCAkYXBpYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctYnV0dG9uLW1lbnUiIHN0eWxlPSJkaXNwbGF5OmJsb2NrIj48L3NwYW4+Jyk7CiAgICAgIGxldCAkYXBpYnV0dG9uX3NwYW4gPSAkKCc8c3BhbiBjbGFzcz0iZy1kcm9wZG93bi1idXR0b24gZy1kcm9wZG93bi1idXR0b24tc2Vjb25kIiBtZW51bGV2ZWw9IjIiPjwvc3Bhbj4nKTsKICAgICAgbGV0ICRhcGlidXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PHNwYW4gY2xhc3M9ImctYnV0dG9uLXJpZ2h0Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG8iPkFQSeS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICBsZXQgJGFwaWJ1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc3cHgiPjwvc3Bhbj4nKTsKICAgICAgbGV0ICRhcGlidXR0b25fZG93bmxvYWRfYnV0dG9uID0gJCgnPGEgaWQ9ImRvd25sb2FkLWFwaSIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuebtOaOpeS4i+i9vTwvYT4nKTsKICAgICAgbGV0ICRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24gPSAkKCc8YSBpZD0iYmF0Y2hodHRwbGluay1hcGkiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mmL7npLrpk77mjqU8L2E+Jyk7CiAgICAgIGxldCAkc2V0dGluZ19idXR0b24gPSAkKCc8YSBpZD0iYXBwaWQtc2V0dGluZyIgY2xhc3M9ImctYnV0dG9uLW1lbnUiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiPuiEmuacrOmFjee9rjwvYT4nKTsKICAgICAgJGFwaWJ1dHRvbl9tZW51LmFwcGVuZCgkYXBpYnV0dG9uX2Rvd25sb2FkX2J1dHRvbikuYXBwZW5kKCRhcGlidXR0b25fYmF0Y2hodHRwbGlua19idXR0b24pLmFwcGVuZCgkc2V0dGluZ19idXR0b24pOwogICAgICAkYXBpYnV0dG9uLmFwcGVuZCgkYXBpYnV0dG9uX3NwYW4uYXBwZW5kKCRhcGlidXR0b25fYSkuYXBwZW5kKCRhcGlidXR0b25fbWVudSkpOwogICAgICAkYXBpYnV0dG9uLmhvdmVyKGZ1bmN0aW9uICgpIHsKICAgICAgICAkYXBpYnV0dG9uX3NwYW4udG9nZ2xlQ2xhc3MoJ2J1dHRvbi1vcGVuJyk7CiAgICAgIH0pOwogICAgICAkYXBpYnV0dG9uX2Rvd25sb2FkX2J1dHRvbi5jbGljayhkb3dubG9hZENsaWNrKTsKICAgICAgJGFwaWJ1dHRvbl9iYXRjaGh0dHBsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKICAgICAgJHNldHRpbmdfYnV0dG9uLmNsaWNrKHNldFNldHRpbmcpOwoKICAgICAgbGV0ICRvdXRlcmxpbmtidXR0b24gPSAkKCc8c3BhbiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImRpc3BsYXk6YmxvY2siPjwvc3Bhbj4nKTsKICAgICAgbGV0ICRvdXRlcmxpbmtidXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWRyb3Bkb3duLWJ1dHRvbiBnLWRyb3Bkb3duLWJ1dHRvbi1zZWNvbmQiIG1lbnVsZXZlbD0iMiI+PC9zcGFuPicpOwogICAgICBsZXQgJG91dGVybGlua2J1dHRvbl9hID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiPjxzcGFuIGNsYXNzPSJ0ZXh0IiBzdHlsZT0id2lkdGg6YXV0byI+YXJpYeWklumTvuS4i+i9vTwvc3Bhbj48L3NwYW4+PC9hPicpOwogICAgICBsZXQgJG91dGVybGlua2J1dHRvbl9tZW51ID0gJCgnPHNwYW4gY2xhc3M9Im1lbnUiIHN0eWxlPSJ3aWR0aDoxMjBweDtsZWZ0Ojc5cHgiPjwvc3Bhbj4nKTsKICAgICAgbGV0ICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbiA9ICQoJzxhIGlkPSJiYXRjaGxpbmstb3V0ZXJsaW5rIiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S66ZO+5o6lPC9hPicpOwogICAgICAkb3V0ZXJsaW5rYnV0dG9uX21lbnUuYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbik7CiAgICAgICRvdXRlcmxpbmtidXR0b24uYXBwZW5kKCRvdXRlcmxpbmtidXR0b25fc3Bhbi5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9hKS5hcHBlbmQoJG91dGVybGlua2J1dHRvbl9tZW51KSk7CiAgICAgICRvdXRlcmxpbmtidXR0b24uaG92ZXIoZnVuY3Rpb24gKCkgewogICAgICAgICRvdXRlcmxpbmtidXR0b25fc3Bhbi50b2dnbGVDbGFzcygnYnV0dG9uLW9wZW4nKTsKICAgICAgfSk7CiAgICAgICRvdXRlcmxpbmtidXR0b25fYmF0Y2hsaW5rX2J1dHRvbi5jbGljayhiYXRjaENsaWNrKTsKCiAgICAgIGxldCAkZ2l0aHViID0gJCgnPGlmcmFtZSBzcmM9Imh0dHBzOi8vZ2hidG5zLmNvbS9naXRodWItYnRuLmh0bWw/dXNlcj1zeWh5ejE5OTAmcmVwbz1iYWlkdXl1biZ0eXBlPXN0YXImY291bnQ9dHJ1ZSIgZnJhbWVib3JkZXI9IjAiIHNjcm9sbGluZz0iMCIgc3R5bGU9ImhlaWdodDogMjBweDttYXgtd2lkdGg6IDEyMHB4O3BhZGRpbmc6IDAgNXB4O2JveC1zaXppbmc6IGJvcmRlci1ib3g7bWFyZ2luLXRvcDogNXB4OyI+PC9pZnJhbWU+Jyk7CiAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkYXBpYnV0dG9uKS5hcHBlbmQoJGRpcmVjdGJ1dHRvbikuYXBwZW5kKCRvdXRlcmxpbmtidXR0b24pLmFwcGVuZCgkZ2l0aHViKTsKICAgICAgJGRyb3Bkb3duYnV0dG9uLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYSkuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9zcGFuKTsKCiAgICAgICRkcm9wZG93bmJ1dHRvbi5ob3ZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgJGRyb3Bkb3duYnV0dG9uLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICB9KTsKCiAgICAgICQoJy4nICsgY2xhc3NNYXBbJ2xpc3QtdG9vbHMnXSkuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbik7CiAgICAgICQoJy4nICsgY2xhc3NNYXBbJ2xpc3QtdG9vbHMnXSkuY3NzKCdoZWlnaHQnLCAnNDBweCcpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNldFNldHRpbmcoKSB7CiAgICAgIGxldCBzdHIgPSBwcm9tcHQoJ+ivt+i+k+WFpeelnuenmOS7o+eggSAsIOS4jeaHguivt+WLv+i+k+WFpSAsIOWQpuWImeWQjuaenOiHqui0nycsIHNlY3JldENvZGUpOwogICAgICBpZiAoL15cZHsxLDZ9JC8udGVzdChzdHIpKSB7CiAgICAgICAgR01fc2V0VmFsdWUoJ3NlY3JldENvZGUnLCBzdHIpOwogICAgICAgIHN3YWwoJ+elnuenmOS7o+eggeaJp+ihjOaIkOWKnyAsIOeCueWHu+ehruWumuWwhuiHquWKqOWIt+aWsCcpOwogICAgICAgIGhpc3RvcnkuZ28oMCk7CiAgICAgIH0KICAgIH0KCiAgICAvLyDmiJHnmoTnvZHnm5ggLSDkuIvovb0KICAgIGZ1bmN0aW9uIGRvd25sb2FkQ2xpY2soZXZlbnQpIHsKICAgICAgY2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJywgc2VsZWN0RmlsZUxpc3QpOwogICAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgIGxldCBkb3dubG9hZExpbms7CgogICAgICBpZiAoaWQgPT0gJ2Rvd25sb2FkLWRpcmVjdCcpIHsKICAgICAgICBsZXQgZG93bmxvYWRUeXBlOwogICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHN3YWwoZXJyb3JNc2cudW5zZWxlY3RlZCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAxKQogICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgICAgZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT09IDApCiAgICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdkbGluayc7CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnYmF0Y2gnOwogICAgICAgIH0KCiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICBsZXQgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSShkb3dubG9hZFR5cGUpOwogICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICAgIGlmIChkb3dubG9hZFR5cGUgPT0gJ2RsaW5rJykKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rWzBdLmRsaW5rOwogICAgICAgICAgZWxzZSBpZiAoZG93bmxvYWRUeXBlID09ICdiYXRjaCcpIHsKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAxKQogICAgICAgICAgICAgIGRvd25sb2FkTGluayA9IGRvd25sb2FkTGluayArICcmemlwbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lKSArICcuemlwJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN3YWwoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT0gLTEpIHsKICAgICAgICAgIHN3YWwoJ+aWh+S7tuS4jeWtmOWcqOaIluW3suiiq+eZvuW6puWSjOiwkO+8jOaXoOazleS4i+i9ve+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LmVycm5vID09IDExMikgewogICAgICAgICAgc3dhbCgi6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+V77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN3YWwoIuWPkeeUn+mUmeivr++8gSIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBzd2FsKGVycm9yTXNnLnVuc2VsZWN0ZWQpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgc3dhbChlcnJvck1zZy5tb3JldGhhbjIpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSkgewogICAgICAgICAgICBzd2FsKGVycm9yTXNnLmRpcik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGlkID09ICdkb3dubG9hZC1hcGknKSB7CiAgICAgICAgICBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgIH0KICAgICAgfQogICAgICBleGVjRG93bmxvYWQoZG93bmxvYWRMaW5rKTsKICAgIH0KCiAgICAvL+aIkeeahOe9keebmCAtIOaYvuekuumTvuaOpQogICAgZnVuY3Rpb24gbGlua0NsaWNrKGV2ZW50KSB7CiAgICAgIGNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgbGV0IGlkID0gZXZlbnQudGFyZ2V0LmlkOwogICAgICBsZXQgbGlua0xpc3QsIHRpcDsKCiAgICAgIGlmIChpZC5pbmRleE9mKCdkaXJlY3QnKSAhPSAtMSkgewogICAgICAgIGxldCBkb3dubG9hZFR5cGU7CiAgICAgICAgbGV0IGRvd25sb2FkTGluazsKICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBzd2FsKGVycm9yTXNnLnVuc2VsZWN0ZWQpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpIHsKICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PT0gMSkKICAgICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2JhdGNoJzsKICAgICAgICAgIGVsc2UgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09PSAwKQogICAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnZGxpbmsnOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgICAgZG93bmxvYWRUeXBlID0gJ2JhdGNoJzsKICAgICAgICB9CiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KHNlbGVjdEZpbGVMaXN0KTsKICAgICAgICBsZXQgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSShkb3dubG9hZFR5cGUpOwogICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICAgIGlmIChkb3dubG9hZFR5cGUgPT0gJ2RsaW5rJykKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rWzBdLmRsaW5rOwogICAgICAgICAgZWxzZSBpZiAoZG93bmxvYWRUeXBlID09ICdiYXRjaCcpIHsKICAgICAgICAgICAgY2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJywgc2VsZWN0RmlsZUxpc3QpOwogICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbms7CiAgICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDEpCiAgICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rICsgJyZ6aXBuYW1lPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUpICsgJy56aXAnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgc3dhbCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJubyA9PSAtMSkgewogICAgICAgICAgc3dhbCgn5paH5Lu25LiN5a2Y5Zyo5oiW5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgICBzd2FsKCLpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5XvvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3dhbCgi5Y+R55Sf6ZSZ6K+v77yBIik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGxldCBodHRwbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywgJ2h0dHA6Jyk7CiAgICAgICAgbGV0IGh0dHBzbGluayA9IGRvd25sb2FkTGluay5yZXBsYWNlKC9eKFtBLVphLXpdKyk6LywgJ2h0dHBzOicpOwogICAgICAgIGxldCBmaWxlbmFtZSA9ICcnOwogICAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09IDEpCiAgICAgICAgICAgIGZpbGVuYW1lID0gZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBpZiAoaW5kZXggPT0gMCkKICAgICAgICAgICAgICBmaWxlbmFtZSA9IGVsZW1lbnQuZmlsZW5hbWU7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lICsgJywnICsgZWxlbWVudC5maWxlbmFtZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBsaW5rTGlzdCA9IHsKICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSwKICAgICAgICAgIHVybHM6IFsKICAgICAgICAgICAge3VybDogaHR0cGxpbmssIHJhbms6IDF9LAogICAgICAgICAgICB7dXJsOiBodHRwc2xpbmssIHJhbms6IDJ9CiAgICAgICAgICBdCiAgICAgICAgfTsKICAgICAgICB0aXAgPSAn5pi+56S65qih5ouf55m+5bqm572R55uY572R6aG16I635Y+W55qE6ZO+5o6l77yM5Y+v5Lul5L2/55So5Y+z6ZSu6L+F6Zu35oiWSURN5LiL6L2977yM5aSa5paH5Lu25omT5YyFKOmZkDMwMGsp5LiL6L2955qE6ZO+5o6l5Y+v5Lul55u05o6l5aSN5Yi25L2/55SoJzsKICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6ICfkuIvovb3pk77mjqUnLCB0eXBlOiAnbGluaycsIGxpc3Q6IGxpbmtMaXN0LCB0aXA6IHRpcH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHN3YWwoZXJyb3JNc2cudW5zZWxlY3RlZCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICBzd2FsKGVycm9yTXNnLm1vcmV0aGFuMik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxKSB7CiAgICAgICAgICAgIHN3YWwoZXJyb3JNc2cuZGlyKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoaWQuaW5kZXhPZignYXBpJykgIT0gLTEpIHsKICAgICAgICAgIGxldCBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmtXaXRoUkVTVEFQSUJhaWR1KHNlbGVjdEZpbGVMaXN0WzBdLnBhdGgpOwogICAgICAgICAgbGV0IGh0dHBsaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCAnaHR0cDonKTsKICAgICAgICAgIGxldCBodHRwc2xpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sICdodHRwczonKTsKICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICBmaWxlbmFtZTogc2VsZWN0RmlsZUxpc3RbMF0uZmlsZW5hbWUsCiAgICAgICAgICAgIHVybHM6IFsKICAgICAgICAgICAgICB7dXJsOiBodHRwbGluaywgcmFuazogMX0sCiAgICAgICAgICAgICAge3VybDogaHR0cHNsaW5rLCByYW5rOiAyfQogICAgICAgICAgICBdCiAgICAgICAgICB9OwoKICAgICAgICAgIHRpcCA9ICfmmL7npLrmqKHmi59BUFDojrflj5bnmoTpk77mjqUo5L2/55So55m+5bqm5LqRSUQp77yM5Y+v5Lul5Y+z6ZSu5L2/55So6L+F6Zu35oiWSURN5LiL6L2977yM55u05o6l5aSN5Yi26ZO+5o6l5peg5pWIJzsKICAgICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTogJ+S4i+i9vemTvuaOpScsIHR5cGU6ICdsaW5rJywgbGlzdDogbGlua0xpc3QsIHRpcDogdGlwfSk7CiAgICAgICAgfSBlbHNlIGlmIChpZC5pbmRleE9mKCdvdXRlcmxpbmsnKSAhPSAtMSkgewogICAgICAgICAgZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShzZWxlY3RGaWxlTGlzdFswXS5wYXRoLCBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT0gMCkgewogICAgICAgICAgICAgIGxpbmtMaXN0ID0gewogICAgICAgICAgICAgICAgZmlsZW5hbWU6IHNlbGVjdEZpbGVMaXN0WzBdLmZpbGVuYW1lLAogICAgICAgICAgICAgICAgdXJsczogcmVzdWx0LnVybHMKICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJubyA9PSAxKSB7CiAgICAgICAgICAgICAgc3dhbCgn5paH5Lu25LiN5a2Y5Zyo77yBJyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5lcnJubyA9PSAyKSB7CiAgICAgICAgICAgICAgc3dhbCgn5paH5Lu25LiN5a2Y5Zyo5oiW6ICF5bey6KKr55m+5bqm5ZKM6LCQ77yM5peg5rOV5LiL6L2977yBJyk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHN3YWwoJ+WPkeeUn+mUmeivr++8gScpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aXAgPSAn5bem6ZSu54K55Ye76LCD55SoSURN5LiL6L2977yIPGI+5aSN5Yi26ZO+5o6l5peg5pWIPC9iPu+8iSc7CiAgICAgICAgICAgIGRpYWxvZy5vcGVuKHsKICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9vemTvuaOpScsCiAgICAgICAgICAgICAgdHlwZTogJ0dNbGluaycsCiAgICAgICAgICAgICAgbGlzdDogbGlua0xpc3QsCiAgICAgICAgICAgICAgdGlwOiB0aXAsCiAgICAgICAgICAgICAgc2hvd2NvcHk6IGZhbHNlLAogICAgICAgICAgICAgIHNob3dlZGl0OiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8vIOaIkeeahOe9keebmCAtIOaJuemHj+S4i+i9vQogICAgZnVuY3Rpb24gYmF0Y2hDbGljayhldmVudCkgewogICAgICBjbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLCBzZWxlY3RGaWxlTGlzdCk7CiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBzd2FsKGVycm9yTXNnLnVuc2VsZWN0ZWQpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgaWQgPSBldmVudC50YXJnZXQuaWQ7CiAgICAgIGxldCBsaW5rVHlwZSwgdGlwOwogICAgICBsaW5rVHlwZSA9IGlkLmluZGV4T2YoJ2h0dHBzJykgPT0gLTEgPyAoaWQuaW5kZXhPZignaHR0cCcpID09IC0xID8gbG9jYXRpb24ucHJvdG9jb2wgKyAnOicgOiAnaHR0cDonKSA6ICdodHRwczonOwogICAgICBiYXRjaExpbmtMaXN0ID0gW107CiAgICAgIGJhdGNoTGlua0xpc3RBbGwgPSBbXTsKICAgICAgaWYgKGlkLmluZGV4T2YoJ2RpcmVjdCcpICE9IC0xKSB7ICAvL2FyaWHkuIvovb0KICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0RGlyZWN0QmF0Y2hMaW5rKGxpbmtUeXBlKTsKICAgICAgICB0aXAgPSAn6K+35YWI5a6J6KOFIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3d3dy5iYWlkdXl1bi53aWtpLyMvemgtY24vY29va2llLXBsdWdpbiI+55m+5bqmQ29va2llc+iOt+WPluWKqeaJizwvYT4g6K+35bCG6ZO+5o6l5aSN5Yi25Yiw5pSv5oyBQXJpYeeahOS4i+i9veWZqOS4rSwg5o6o6I2Q5L2/55SoIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2JhaWR1d3AuY3RmaWxlLmNvbS9kaXIvMzk5NDA0MS0zNTI0MDY2NS1lMWVhMzcvIj5YZG93bjwvYT7vvIjku4XmlK/mjIEzMDBN5Lul5LiL55qE5paH5Lu25aS577yJJzsKICAgICAgICBpZiAoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgIHN3YWwoJ+ayoeaciemTvuaOpeWPr+S7peaYvuekuu+8jEFQSemTvuaOpeS4jeimgeWFqOmDqOmAieS4reaWh+S7tuWkue+8gScpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBkaWFsb2cub3Blbih7dGl0bGU6ICdBcmlh6ZO+5o6lJywgdHlwZTogJ2JhdGNoQXJpYScsIGxpc3Q6IGJhdGNoTGlua0xpc3QsIHRpcDogdGlwLCBzaG93Y29weTogdHJ1ZX0pOwogICAgICB9IGVsc2UgaWYgKGlkLmluZGV4T2YoJ2FwaScpICE9IC0xKSB7CiAgICAgICAgYmF0Y2hMaW5rTGlzdCA9IGdldEFQSUJhdGNoTGluayhsaW5rVHlwZSk7CiAgICAgICAgdGlwID0gJ+ebtOaOpeWkjeWItumTvuaOpeaXoOaViO+8jOivt+WuieijhSBJRE0g5Y+K5rWP6KeI5Zmo5omp5bGV5ZCO5L2/55So77yIPGEgaHJlZj0iaHR0cHM6Ly93d3cuYmFpZHV5dW4ud2lraS8jL3poLWNuLyIgdGFyZ2V0PSJfYmxhbmsiPuiEmuacrOS9v+eUqOivtOaYjjwvYT7vvIknOwogICAgICAgIGlmIChiYXRjaExpbmtMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgc3dhbCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTogJ0FQSeS4i+i9vemTvuaOpScsIHR5cGU6ICdiYXRjaCcsIGxpc3Q6IGJhdGNoTGlua0xpc3QsIHRpcDogdGlwLCBzaG93Y29weTogdHJ1ZX0pOwogICAgICB9IGVsc2UgaWYgKGlkLmluZGV4T2YoJ291dGVybGluaycpICE9IC0xKSB7CiAgICAgICAgZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rQWxsKGZ1bmN0aW9uIChiYXRjaExpbmtMaXN0QWxsKSB7CiAgICAgICAgICBiYXRjaExpbmtMaXN0ID0gZ2V0T3V0ZXJsaW5rQmF0Y2hMaW5rRmlyc3QoYmF0Y2hMaW5rTGlzdEFsbCk7CiAgICAgICAgICBpZiAoYmF0Y2hMaW5rTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgc3dhbCgn5rKh5pyJ6ZO+5o6l5Y+v5Lul5pi+56S677yMQVBJ6ZO+5o6l5LiN6KaB5YWo6YOo6YCJ5Lit5paH5Lu25aS577yBJyk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICAgIGxldCB0aXAgPSAn6K+35YWI5a6J6KOFIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3d3dy5iYWlkdXl1bi53aWtpLyMvemgtY24vY29va2llLXBsdWdpbiI+55m+5bqmQ29va2llc+iOt+WPluWKqeaJizwvYT4g6K+35bCG6ZO+5o6l5aSN5Yi25Yiw5pSv5oyBQXJpYeeahOS4i+i9veWZqOS4rSwg5o6o6I2Q5L2/55SoIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2JhaWR1d3AuY3RmaWxlLmNvbS9kaXIvMzk5NDA0MS0zNTI0MDY2NS1lMWVhMzcvIj5YZG93bjwvYT4nOwogICAgICAgICAgZGlhbG9nLm9wZW4oewogICAgICAgICAgICB0aXRsZTogJ+S4i+i9vemTvuaOpe+8iOS7heaYvuekuuaWh+S7tumTvuaOpe+8iScsCiAgICAgICAgICAgIHR5cGU6ICdiYXRjaEFyaWEnLAogICAgICAgICAgICBsaXN0OiBiYXRjaExpbmtMaXN0LAogICAgICAgICAgICBhbGxsaXN0OiBiYXRjaExpbmtMaXN0QWxsLAogICAgICAgICAgICB0aXA6IHRpcCwKICAgICAgICAgICAgc2hvd2NvcHk6IHRydWUsCiAgICAgICAgICAgIHNob3dhbGw6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgLy/miJHnmoTnvZHnm5ggLSDojrflj5bnm7Tpk77kuIvovb3lnLDlnYAKICAgIGZ1bmN0aW9uIGdldERpcmVjdEJhdGNoTGluayhsaW5rVHlwZSkgewogICAgICBsZXQgbGlzdCA9IFtdOwogICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIGxldCBkb3dubG9hZFR5cGUsIGRvd25sb2FkTGluaywgcmVzdWx0OwogICAgICAgIGlmIChlbGVtZW50LmlzZGlyID09IDApCiAgICAgICAgICBkb3dubG9hZFR5cGUgPSAnZGxpbmsnOwogICAgICAgIGVsc2UKICAgICAgICAgIGRvd25sb2FkVHlwZSA9ICdiYXRjaCc7CiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KFtlbGVtZW50XSk7CiAgICAgICAgcmVzdWx0ID0gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSShkb3dubG9hZFR5cGUpOwogICAgICAgIGlmIChyZXN1bHQuZXJybm8gPT0gMCkgewogICAgICAgICAgaWYgKGRvd25sb2FkVHlwZSA9PSAnZGxpbmsnKQogICAgICAgICAgICBkb3dubG9hZExpbmsgPSByZXN1bHQuZGxpbmtbMF0uZGxpbms7CiAgICAgICAgICBlbHNlIGlmIChkb3dubG9hZFR5cGUgPT0gJ2JhdGNoJykKICAgICAgICAgICAgZG93bmxvYWRMaW5rID0gcmVzdWx0LmRsaW5rOwogICAgICAgICAgZG93bmxvYWRMaW5rID0gZG93bmxvYWRMaW5rLnJlcGxhY2UoL14oW0EtWmEtel0rKTovLCBsaW5rVHlwZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRvd25sb2FkTGluayA9ICdlcnJvcic7CiAgICAgICAgfQogICAgICAgIGxpc3QucHVzaCh7ZmlsZW5hbWU6IGVsZW1lbnQuZmlsZW5hbWUsIGRvd25sb2FkbGluazogZG93bmxvYWRMaW5rfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gbGlzdDsKICAgIH0KCiAgICAvL+aIkeeahOe9keebmCAtIOiOt+WPlkFQSeS4i+i9veWcsOWdgAogICAgZnVuY3Rpb24gZ2V0QVBJQmF0Y2hMaW5rKGxpbmtUeXBlKSB7CiAgICAgIGxldCBsaXN0ID0gW107CiAgICAgICQuZWFjaChzZWxlY3RGaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgaWYgKGVsZW1lbnQuaXNkaXIgPT0gMSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsZXQgZG93bmxvYWRMaW5rOwogICAgICAgIGRvd25sb2FkTGluayA9IGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUoZWxlbWVudC5wYXRoKTsKICAgICAgICBkb3dubG9hZExpbmsgPSBkb3dubG9hZExpbmsucmVwbGFjZSgvXihbQS1aYS16XSspOi8sIGxpbmtUeXBlKTsKICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOiBlbGVtZW50LmZpbGVuYW1lLCBkb3dubG9hZGxpbms6IGRvd25sb2FkTGlua30pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGxpc3Q7CiAgICB9CgogICAgLy/miJHnmoTnvZHnm5ggLSDojrflj5ZBUEnkuIvovb3lnLDlnYAKICAgIGZ1bmN0aW9uIGdldE91dGVybGlua0JhdGNoTGlua0FsbChjYikgewogICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmlzZGlyID09IDEpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShlbGVtZW50LnBhdGgsIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGxldCBsaXN0ID0gW107CiAgICAgICAgICBpZiAocmVzdWx0LmVycm5vID09IDApIHsKICAgICAgICAgICAgbGlzdC5wdXNoKHtmaWxlbmFtZTogZWxlbWVudC5maWxlbmFtZSwgbGlua3M6IHJlc3VsdC51cmxzfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaXN0LnB1c2goe2ZpbGVuYW1lOiBlbGVtZW50LmZpbGVuYW1lLCBsaW5rczogW3tyYW5rOiAxLCB1cmw6ICdlcnJvcid9XX0pOwogICAgICAgICAgfQogICAgICAgICAgY2IobGlzdCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8v5oiR55qE572R55uYIC0g6I635Y+W5aSW6ZO+5LiL6L295Zyw5Z2ACiAgICBmdW5jdGlvbiBnZXRPdXRlcmxpbmtCYXRjaExpbmtGaXJzdChsaXN0KSB7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgJC5lYWNoKGxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIHJlc3VsdC5wdXNoKHtmaWxlbmFtZTogZWxlbWVudC5maWxlbmFtZSwgZG93bmxvYWRsaW5rOiBlbGVtZW50LmxpbmtzWzBdLnVybH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTaWduKCkgewogICAgICBsZXQgc2lnbkZuYzsKICAgICAgdHJ5IHsKICAgICAgICBzaWduRm5jID0gbmV3IEZ1bmN0aW9uKCJyZXR1cm4gIiArIHl1bkRhdGEuc2lnbjIpKCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZS5tZXNzYWdlKTsKICAgICAgfQogICAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHNpZ25GbmMoeXVuRGF0YS5zaWduNSwgeXVuRGF0YS5zaWduMSkpOwogICAgfQoKICAgIC8v6I635Y+W5b2T5YmN55uu5b2VCiAgICBmdW5jdGlvbiBnZXRQYXRoKCkgewogICAgICBsZXQgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgIGxldCByZWd4ID0gbmV3IFJlZ0V4cCgicGF0aD0oW14mXSopKCZ8JCkiLCAnaScpOwogICAgICBsZXQgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgLy9jb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHJlc3VsdFsxXSk7CiAgICB9CgogICAgLy/ojrflj5bliIbnsbvmmL7npLrnmoTnsbvliKvvvIzljbPlnLDlnYDmoI/kuK3nmoR0eXBlCiAgICBmdW5jdGlvbiBnZXRDYXRlZ29yeSgpIHsKICAgICAgbGV0IGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogICAgICBsZXQgcmVneCA9IG5ldyBSZWdFeHAoInR5cGU9KFteJl0qKSgmfCQpIiwgJ2knKTsKICAgICAgbGV0IHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzFdKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnZXRTZWFyY2hLZXkoKSB7CiAgICAgIGxldCBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAgICAgbGV0IHJlZ3ggPSBuZXcgUmVnRXhwKCJrZXk9KFteJl0qKSgmfCQpIiwgJ2knKTsKICAgICAgbGV0IHJlc3VsdCA9IGhhc2gubWF0Y2gocmVneCk7CiAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0WzFdKTsKICAgIH0KCiAgICAvL+iOt+WPluW9k+WJjemhtemdoihhbGzmiJbogIVjYXRlZ29yeeaIlnNlYXJjaCkKICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRQYWdlKCkgewogICAgICBsZXQgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgIHJldHVybiBoYXNoLnN1YnN0cmluZyhoYXNoLmluZGV4T2YoJyMnKSArIDIsIGhhc2guaW5kZXhPZignPycpKTsKICAgIH0KCiAgICAvL+iOt+WPluaWh+S7tuWIl+ihqAogICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKSB7CiAgICAgIGxldCBmaWxlbGlzdCA9IFtdOwogICAgICBsZXQgbGlzdFVybCA9IHBhbkFQSVVybCArICJsaXN0IjsKICAgICAgbGV0IHBhdGggPSBnZXRQYXRoKCk7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBkaXI6IHBhdGgsCiAgICAgICAgYmRzdG9rZW46IGJkc3Rva2VuLAogICAgICAgIGxvZ2lkOiBsb2dpZCwKICAgICAgICBvcmRlcjogJ3NpemUnLAogICAgICAgIGRlc2M6IDAsCiAgICAgICAgY2xpZW50dHlwZTogMCwKICAgICAgICBzaG93ZW1wdHk6IDAsCiAgICAgICAgd2ViOiAxLAogICAgICAgIGNoYW5uZWw6ICdjaHVubGVpJywKICAgICAgICBhcHBpZDogc2VjcmV0Q29kZQogICAgICB9OwoKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IGxpc3RVcmwsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgZmlsZWxpc3QgPSAwID09PSByZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICB9CgogICAgLy/ojrflj5bliIbnsbvpobXpnaLkuIvnmoTmlofku7bliJfooagKICAgIGZ1bmN0aW9uIGdldENhdGVnb3J5RmlsZUxpc3QoKSB7CiAgICAgIGxldCBmaWxlbGlzdCA9IFtdOwogICAgICBsZXQgbGlzdFVybCA9IHBhbkFQSVVybCArICJjYXRlZ29yeWxpc3QiOwogICAgICBsZXQgY2F0ZWdvcnkgPSBnZXRDYXRlZ29yeSgpOwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LAogICAgICAgIGJkc3Rva2VuOiBiZHN0b2tlbiwKICAgICAgICBsb2dpZDogbG9naWQsCiAgICAgICAgb3JkZXI6ICdzaXplJywKICAgICAgICBkZXNjOiAwLAogICAgICAgIGNsaWVudHR5cGU6IDAsCiAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgIHdlYjogMSwKICAgICAgICBjaGFubmVsOiAnY2h1bmxlaScsCiAgICAgICAgYXBwaWQ6IHNlY3JldENvZGUKICAgICAgfTsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IGxpc3RVcmwsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgZmlsZWxpc3QgPSAwID09PSByZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmluZm8gOiBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0U2VhcmNoRmlsZUxpc3QoKSB7CiAgICAgIGxldCBmaWxlbGlzdCA9IFtdOwogICAgICBsZXQgbGlzdFVybCA9IHBhbkFQSVVybCArICdzZWFyY2gnOwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIHNlYXJjaEtleSA9IGdldFNlYXJjaEtleSgpOwogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHJlY3Vyc2lvbjogMSwKICAgICAgICBvcmRlcjogJ3RpbWUnLAogICAgICAgIGRlc2M6IDEsCiAgICAgICAgc2hvd2VtcHR5OiAwLAogICAgICAgIHdlYjogMSwKICAgICAgICBwYWdlOiAxLAogICAgICAgIG51bTogMTAwLAogICAgICAgIGtleTogc2VhcmNoS2V5LAogICAgICAgIGNoYW5uZWw6ICdjaHVubGVpJywKICAgICAgICBhcHBfaWQ6IDI1MDI1OCwKICAgICAgICBiZHN0b2tlbjogYmRzdG9rZW4sCiAgICAgICAgbG9naWQ6IGxvZ2lkLAogICAgICAgIGNsaWVudHR5cGU6IDAKICAgICAgfTsKICAgICAgJC5hamF4KHsKICAgICAgICB1cmw6IGxpc3RVcmwsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgZGF0YTogcGFyYW1zLAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgZmlsZWxpc3QgPSAwID09PSByZXNwb25zZS5lcnJubyA/IHJlc3BvbnNlLmxpc3QgOiBbXTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZmlsZWxpc3Q7CiAgICB9CgogICAgLy/nlJ/miJDkuIvovb3ml7bnmoRmaWRfbGlzdOWPguaVsAogICAgZnVuY3Rpb24gZ2V0RmlkTGlzdChsaXN0KSB7CiAgICAgIGxldCBmaWRsaXN0ID0gbnVsbDsKICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKQogICAgICAgIHJldHVybiBudWxsOwogICAgICBsZXQgZmlsZWlkbGlzdCA9IFtdOwogICAgICAkLmVhY2gobGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgZmlsZWlkbGlzdC5wdXNoKGVsZW1lbnQuZnNfaWQpOwogICAgICB9KTsKICAgICAgZmlkbGlzdCA9ICdbJyArIGZpbGVpZGxpc3QgKyAnXSc7CiAgICAgIHJldHVybiBmaWRsaXN0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldFRpbWVzdGFtcCgpIHsKICAgICAgcmV0dXJuIHl1bkRhdGEudGltZXN0YW1wOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEJEU3Rva2VuKCkgewogICAgICByZXR1cm4geXVuRGF0YS5NWUJEU1RPS0VOOwogICAgfQoKICAgIC8v6I635Y+W55u05o6l5LiL6L295Zyw5Z2ACiAgICAvL+i/meS4quWcsOWdgOS4jeaYr+ebtOaOpeS4i+i9veWcsOWdgO+8jOiuv+mXrui/meS4quWcsOWdgOS8mui/lOWbnjMwMu+8jHJlc3BvbnNlIGhlYWRlcuS4reeahGxvY2F0aW9u5omN5piv55yf5a6e5LiL6L295Zyw5Z2ACiAgICAvL+aaguaXtuayoeacieaJvuWIsOaPkOWPluaWueazlQogICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aFBhbkFQSSh0eXBlKSB7CiAgICAgIGxldCBkb3dubG9hZFVybCA9IHBhbkFQSVVybCArICJkb3dubG9hZCI7CiAgICAgIGxldCByZXN1bHQ7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBzaWduOiBzaWduLAogICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wLAogICAgICAgIGZpZGxpc3Q6IGZpZF9saXN0LAogICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgY2hhbm5lbDogJ2NodW5sZWknLAogICAgICAgIHdlYjogMSwKICAgICAgICBhcHBfaWQ6IHNlY3JldENvZGUsCiAgICAgICAgYmRzdG9rZW46IGJkc3Rva2VuLAogICAgICAgIGxvZ2lkOiBsb2dpZCwKICAgICAgICBjbGllbnR0eXBlOiAwCiAgICAgIH07CiAgICAgICQuYWpheCh7CiAgICAgICAgdXJsOiBkb3dubG9hZFVybCwKICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXN1bHQgPSByZXNwb25zZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQoKICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhSRVNUQVBJQmFpZHUocGF0aCkgewogICAgICBsZXQgbGluayA9IHJlc3RBUElVcmwgKyAnZmlsZT9tZXRob2Q9ZG93bmxvYWQmcGF0aD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhdGgpICsgJyZyYW5kb209JyArIE1hdGgucmFuZG9tKCkgKyAnJmFwcF9pZD0nICsgc2VjcmV0Q29kZTsKICAgICAgcmV0dXJuIGxpbms7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0RG93bmxvYWRMaW5rV2l0aENsaWVudEFQSShwYXRoLCBjYikgewogICAgICBsZXQgcmVzdWx0OwogICAgICBsZXQgdXJsID0gY2xpZW50QVBJVXJsICsgJ2ZpbGU/bWV0aG9kPWxvY2F0ZWRvd25sb2FkJmFwcF9pZD0nICsgc2VjcmV0Q29kZSArICcmdmVyPTQuMCZwYXRoPScgKyBlbmNvZGVVUklDb21wb25lbnQocGF0aCk7CgogICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgIlVzZXItQWdlbnQiOiAibmV0ZGlzazs2LjcuMS45O1BDO1BDLVdpbmRvd3M7MTAuMC4xNzc2MztXaW5kb3dzQmFpZHVZdW5HdWFuSmlhIiwKICAgICAgICB9LAogICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICBpZiAocmVzdWx0LmVycm9yX2NvZGUgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC51cmxzID09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gMjsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgJC5lYWNoKHJlc3VsdC51cmxzLCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgcmVzdWx0LnVybHNbaW5kZXhdLnVybCA9IGVsZW1lbnQudXJsLnJlcGxhY2UoJ1xcJywgJycpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXN1bHQuZXJybm8gPSAwOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJyb3JfY29kZSA9PSAzMTA2NikgewogICAgICAgICAgICAgIHJlc3VsdC5lcnJubyA9IDE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVzdWx0LmVycm5vID0gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlc3VsdCA9IHt9OwogICAgICAgICAgICByZXN1bHQuZXJybm8gPSAtMTsKICAgICAgICAgIH0KICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBleGVjRG93bmxvYWQobGluaykgewogICAgICBjbG9nKCLkuIvovb3pk77mjqXvvJoiICsgbGluayk7CiAgICAgICQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpLmF0dHIoJ3NyYycsIGxpbmspOwogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUlmcmFtZSgpIHsKICAgICAgbGV0ICRkaXYgPSAkKCc8ZGl2IGNsYXNzPSJoZWxwZXItaGlkZSIgc3R5bGU9InBhZGRpbmc6MDttYXJnaW46MDtkaXNwbGF5OmJsb2NrIj48L2Rpdj4nKTsKICAgICAgbGV0ICRpZnJhbWUgPSAkKCc8aWZyYW1lIHNyYz0iamF2YXNjcmlwdDp2b2lkKDApIiBpZD0iaGVscGVyZG93bmxvYWRpZnJhbWUiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvaWZyYW1lPicpOwogICAgICAkZGl2LmFwcGVuZCgkaWZyYW1lKTsKICAgICAgJCgnYm9keScpLmFwcGVuZCgkZGl2KTsKCiAgICB9CiAgfQoKICAvL+WIhuS6q+mhtemdoueahOS4i+i9veWKqeaJiwogIGZ1bmN0aW9uIFBhblNoYXJlSGVscGVyKCkgewogICAgbGV0IHl1bkRhdGEsIHNpZ24sIHRpbWVzdGFtcCwgYmRzdG9rZW4sIGNoYW5uZWwsIGNsaWVudHR5cGUsIHdlYiwgYXBwX2lkLCBsb2dpZCwgZW5jcnlwdCwgcHJvZHVjdCwgdWssCiAgICAgICAgcHJpbWFyeWlkLCBmaWRfbGlzdCwgZXh0cmEsIHNoYXJlaWQ7CiAgICBsZXQgdmNvZGU7CiAgICBsZXQgc2hhcmVUeXBlLCBidXR0b25UYXJnZXQsIGN1cnJlbnRQYXRoLCBsaXN0X2dyaWRfc3RhdHVzLCBvYnNlcnZlciwgZGlhbG9nLCB2Y29kZURpYWxvZzsKICAgIGxldCBmaWxlTGlzdCA9IFtdLCBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgbGV0IHBhbkFQSVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL2FwaS8iOwogICAgdmFyIHBhbkhpZ2hBUElVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArICIvLyIgKyBsb2NhdGlvbi5ob3N0ICsgIi9zaGFyZS9kb3dubG9hZD8iOwogICAgbGV0IHNoYXJlTGlzdFVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiL3NoYXJlL2xpc3QiOwoKICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgeXVuRGF0YSA9IHVuc2FmZVdpbmRvdy55dW5EYXRhOwogICAgICBjbG9nKCfliJ3lp4vljJbkv6Hmga86JywgeXVuRGF0YSk7CiAgICAgIGlmICh5dW5EYXRhID09PSB1bmRlZmluZWQgfHwgeXVuRGF0YS5GSUxFSU5GTyA9PSBudWxsKSB7CiAgICAgICAgY2xvZygn6aG16Z2i5pyq5q2j5bi45Yqg6L2977yM5oiW6ICF55m+5bqm5bey57uP5pu05paw77yBJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGluaXRQYXJhbXMoKTsKICAgICAgYWRkQnV0dG9uKCk7CiAgICAgIGRpYWxvZyA9IG5ldyBEaWFsb2coe2FkZENvcHk6IGZhbHNlfSk7CiAgICAgIHZjb2RlRGlhbG9nID0gbmV3IFZDb2RlRGlhbG9nKHJlZnJlc2hWQ29kZSwgY29uZmlybUNsaWNrKTsKICAgICAgY3JlYXRlSWZyYW1lKCk7CgogICAgICBpZiAoIWlzU2luZ2xlU2hhcmUoKSkgewogICAgICAgIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcigpOwogICAgICAgIGNyZWF0ZU9ic2VydmVyKCk7CiAgICAgIH0KCiAgICAgIGNsb2coJ+WIhuS6q+WKqeaJi+WKoOi9veaIkOWKnyEnKTsKICAgIH07CgogICAgZnVuY3Rpb24gaW5pdFBhcmFtcygpIHsKICAgICAgc2hhcmVUeXBlID0gZ2V0U2hhcmVUeXBlKCk7CiAgICAgIHNpZ24gPSB5dW5EYXRhLlNJR047CiAgICAgIHRpbWVzdGFtcCA9IHl1bkRhdGEuVElNRVNUQU1QOwogICAgICBiZHN0b2tlbiA9IHl1bkRhdGEuTVlCRFNUT0tFTjsKICAgICAgY2hhbm5lbCA9ICdjaHVubGVpJzsKICAgICAgY2xpZW50dHlwZSA9IDA7CiAgICAgIHdlYiA9IDE7CiAgICAgIGFwcF9pZCA9IHNlY3JldENvZGU7CiAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgZW5jcnlwdCA9IDA7CiAgICAgIHByb2R1Y3QgPSAnc2hhcmUnOwogICAgICBwcmltYXJ5aWQgPSB5dW5EYXRhLlNIQVJFX0lEOwogICAgICB1ayA9IHl1bkRhdGEuU0hBUkVfVUs7CgogICAgICBpZiAoc2hhcmVUeXBlID09ICdzZWNyZXQnKSB7CiAgICAgICAgZXh0cmEgPSBnZXRFeHRyYSgpOwogICAgICB9CiAgICAgIGlmIChpc1NpbmdsZVNoYXJlKCkpIHsKICAgICAgICBsZXQgb2JqID0ge307CiAgICAgICAgaWYgKHl1bkRhdGEuQ0FURUdPUlkgPT0gMikgewogICAgICAgICAgb2JqLmZpbGVuYW1lID0geXVuRGF0YS5GSUxFTkFNRTsKICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5QQVRIOwogICAgICAgICAgb2JqLmZzX2lkID0geXVuRGF0YS5GU19JRDsKICAgICAgICAgIG9iai5pc2RpciA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG9iai5maWxlbmFtZSA9IHl1bkRhdGEuRklMRUlORk9bMF0uc2VydmVyX2ZpbGVuYW1lLAogICAgICAgICAgICAgIG9iai5wYXRoID0geXVuRGF0YS5GSUxFSU5GT1swXS5wYXRoLAogICAgICAgICAgICAgIG9iai5mc19pZCA9IHl1bkRhdGEuRklMRUlORk9bMF0uZnNfaWQsCiAgICAgICAgICAgICAgb2JqLmlzZGlyID0geXVuRGF0YS5GSUxFSU5GT1swXS5pc2RpcjsKICAgICAgICB9CiAgICAgICAgc2VsZWN0RmlsZUxpc3QucHVzaChvYmopOwogICAgICB9IGVsc2UgewogICAgICAgIHNoYXJlaWQgPSB5dW5EYXRhLlNIQVJFX0lEOwogICAgICAgIGN1cnJlbnRQYXRoID0gZ2V0UGF0aCgpOwogICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSBnZXRMaXN0R3JpZFN0YXR1cygpOwogICAgICAgIGZpbGVMaXN0ID0gZ2V0RmlsZUxpc3QoKTsKICAgICAgfQogICAgfQoKICAgIC8v5Yik5pat5YiG5Lqr57G75Z6L77yIcHVibGlj5oiW6ICFc2VjcmV077yJCiAgICBmdW5jdGlvbiBnZXRTaGFyZVR5cGUoKSB7CiAgICAgIHJldHVybiB5dW5EYXRhLlNIQVJFX1BVQkxJQyA9PT0gMSA/ICdwdWJsaWMnIDogJ3NlY3JldCc7CiAgICB9CgogICAgLy/liKTmlq3mmK/ljZXkuKrmlofku7bliIbkuqvov5jmmK/mlofku7blpLnmiJbogIXlpJrmlofku7bliIbkuqsKICAgIGZ1bmN0aW9uIGlzU2luZ2xlU2hhcmUoKSB7CiAgICAgIHJldHVybiB5dW5EYXRhLmdldENvbnRleHQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTsKICAgIH0KCiAgICAvL+WIpOaWreaYr+WQpuS4uuiHquW3seeahOWIhuS6q+mTvuaOpQogICAgZnVuY3Rpb24gaXNTZWxmU2hhcmUoKSB7CiAgICAgIHJldHVybiB5dW5EYXRhLk1ZU0VMRiA9PSAxID8gdHJ1ZSA6IGZhbHNlOwogICAgfQoKICAgIGZ1bmN0aW9uIGdldEV4dHJhKCkgewogICAgICBsZXQgc2VLZXkgPSBkZWNvZGVVUklDb21wb25lbnQoZ2V0Q29va2llKCdCRENMTkQnKSk7CiAgICAgIHJldHVybiAneycgKyAnInNla2V5IjoiJyArIHNlS2V5ICsgJyInICsgIn0iOwogICAgfQoKICAgIC8v6I635Y+W5b2T5YmN55uu5b2VCiAgICBmdW5jdGlvbiBnZXRQYXRoKCkgewogICAgICBsZXQgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgICAgIGxldCByZWd4ID0gbmV3IFJlZ0V4cCgicGF0aD0oW14mXSopKCZ8JCkiLCAnaScpOwogICAgICBsZXQgcmVzdWx0ID0gaGFzaC5tYXRjaChyZWd4KTsKICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRbMV0pOwogICAgfQoKICAgIC8v6I635Y+W5b2T5YmN55qE6KeG5Zu+5qih5byPCiAgICBmdW5jdGlvbiBnZXRMaXN0R3JpZFN0YXR1cygpIHsKICAgICAgbGV0IHN0YXR1cyA9ICdsaXN0JzsKICAgICAgaWYgKCQoJy5saXN0LXN3aXRjaGVkLW9uJykubGVuZ3RoID4gMCkgewogICAgICAgIHN0YXR1cyA9ICdsaXN0JzsKICAgICAgfSBlbHNlIGlmICgkKCcuZ3JpZC1zd2l0Y2hlZC1vbicpLmxlbmd0aCA+IDApIHsKICAgICAgICBzdGF0dXMgPSAnZ3JpZCc7CiAgICAgIH0KICAgICAgcmV0dXJuIHN0YXR1czsKICAgIH0KCiAgICAvL+a3u+WKoOS4i+i9veWKqeaJi+aMiemSrgogICAgZnVuY3Rpb24gYWRkQnV0dG9uKCkgewogICAgICBpZiAoaXNTaW5nbGVTaGFyZSgpKSB7CiAgICAgICAgJCgnZGl2LnNsaWRlLXNob3ctcmlnaHQnKS5jc3MoJ3dpZHRoJywgJzUwMHB4Jyk7CiAgICAgICAgJCgnZGl2LmZyYW1lLW1haW4nKS5jc3MoJ3dpZHRoJywgJzk2JScpOwogICAgICAgICQoJ2Rpdi5zaGFyZS1maWxlLXZpZXdlcicpLmNzcygnd2lkdGgnLCAnNzQwcHgnKS5jc3MoJ21hcmdpbi1sZWZ0JywgJ2F1dG8nKS5jc3MoJ21hcmdpbi1yaWdodCcsICdhdXRvJyk7CiAgICAgIH0gZWxzZQogICAgICAgICQoJ2Rpdi5zbGlkZS1zaG93LXJpZ2h0JykuY3NzKCd3aWR0aCcsICc1MDBweCcpOwogICAgICBsZXQgJGRyb3Bkb3duYnV0dG9uID0gJCgnPHNwYW4gY2xhc3M9ImctZHJvcGRvd24tYnV0dG9uIj48L3NwYW4+Jyk7CiAgICAgIGxldCAkZHJvcGRvd25idXR0b25fYSA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiBnLWJ1dHRvbi1ibHVlIiBkYXRhLWJ1dHRvbi1pZD0iYjIwMCIgZGF0YS1idXR0b24taW5kZXg9IjIwMCIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+PC9hPicpOwogICAgICBsZXQgJGRyb3Bkb3duYnV0dG9uX2Ffc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCI+PGVtIGNsYXNzPSJpY29uIGljb24tc3BlZWQiIHRpdGxlPSLnmb7luqbnvZHnm5jkuIvovb3liqnmiYsiPjwvZW0+PHNwYW4gY2xhc3M9InRleHQiIHN0eWxlPSJ3aWR0aDogNjBweDsiPuS4i+i9veWKqeaJizwvc3Bhbj48L3NwYW4+Jyk7CiAgICAgIGxldCAkZHJvcGRvd25idXR0b25fc3BhbiA9ICQoJzxzcGFuIGNsYXNzPSJtZW51IiBzdHlsZT0id2lkdGg6YXV0bzt6LWluZGV4OjQxIj48L3NwYW4+Jyk7CgogICAgICBsZXQgJGRvd25sb2FkQnV0dG9uID0gJCgnPGEgZGF0YS1tZW51LWlkPSJiLW1lbnUyMDciIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7nm7TmjqXkuIvovb08L2E+Jyk7CiAgICAgIGxldCAkbGlua0J1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA4IiBjbGFzcz0iZy1idXR0b24tbWVudSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5pi+56S655u06ZO+PC9hPicpOwogICAgICBsZXQgJGFyaWNsaW5rQnV0dG9uID0gJCgnPGEgZGF0YS1tZW51LWlkPSJiLW1lbnUyMDgiIGNsYXNzPSJnLWJ1dHRvbi1tZW51IiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7Ij7mmL7npLrpk77mjqUoYXJpYyk8L2E+Jyk7CiAgICAgIGxldCAkaGlnaEJ1dHRvbiA9ICQoJzxhIGRhdGEtbWVudS1pZD0iYi1tZW51MjA5IiBjbGFzcz0iZy1idXR0b24tbWVudSIgc3R5bGU9ImNvbG9yOiAjZmYwMDA5OyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyI+5YWN55m75b2V5LiL6L29PC9hPicpOwoKICAgICAgbGV0ICRnaXRodWIgPSAkKCc8aWZyYW1lIHNyYz0iaHR0cHM6Ly9naGJ0bnMuY29tL2dpdGh1Yi1idG4uaHRtbD91c2VyPXN5aHl6MTk5MCZyZXBvPWJhaWR1eXVuJnR5cGU9c3RhciZjb3VudD10cnVlIiBmcmFtZWJvcmRlcj0iMCIgc2Nyb2xsaW5nPSIwIiBzdHlsZT0iaGVpZ2h0OiAyMHB4O21heC13aWR0aDogMTA4cHg7cGFkZGluZzogMCA1cHg7Ym94LXNpemluZzogYm9yZGVyLWJveDttYXJnaW4tdG9wOiA1cHg7Ij48L2lmcmFtZT4nKTsKCiAgICAgICRkcm9wZG93bmJ1dHRvbl9zcGFuLmFwcGVuZCgkZG93bmxvYWRCdXR0b24pLmFwcGVuZCgkbGlua0J1dHRvbikuYXBwZW5kKCRhcmljbGlua0J1dHRvbikuYXBwZW5kKCRoaWdoQnV0dG9uKS5hcHBlbmQoJGdpdGh1Yik7CiAgICAgICRkcm9wZG93bmJ1dHRvbl9hLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYV9zcGFuKTsKICAgICAgJGRyb3Bkb3duYnV0dG9uLmFwcGVuZCgkZHJvcGRvd25idXR0b25fYSkuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbl9zcGFuKTsKCiAgICAgICRkcm9wZG93bmJ1dHRvbi5ob3ZlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgJGRyb3Bkb3duYnV0dG9uLnRvZ2dsZUNsYXNzKCdidXR0b24tb3BlbicpOwogICAgICB9KTsKICAgICAgJGRvd25sb2FkQnV0dG9uLmNsaWNrKGRvd25sb2FkQnV0dG9uQ2xpY2spOwogICAgICAkbGlua0J1dHRvbi5jbGljayhsaW5rQnV0dG9uQ2xpY2spOwogICAgICAkYXJpY2xpbmtCdXR0b24uY2xpY2soYXJpY2xpbmtCdXR0b25DbGljayk7CiAgICAgICRoaWdoQnV0dG9uLmNsaWNrKGhpZ2hCdXR0b25DbGljayk7CgogICAgICAkKCdkaXYubW9kdWxlLXNoYXJlLXRvcC1iYXIgZGl2LmJhciBkaXYueC1idXR0b24tYm94JykuYXBwZW5kKCRkcm9wZG93bmJ1dHRvbik7CiAgICB9CgogICAgZnVuY3Rpb24gaGlnaEJ1dHRvbkNsaWNrKCkgewogICAgICBpZiAoYmRzdG9rZW4gIT09IG51bGwpIHsKICAgICAgICBzd2FsKCfor7fpgIDlh7rlvZPliY3otKblj7flkI7ojrflj5bvvIzmiJbkvb/nlKjpmpDnp4Ev5peg55eV5qih5byP5omT5byA5q2k6aG16Z2iJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBjbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLCBzZWxlY3RGaWxlTGlzdCk7CiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBzd2FsKGVycm9yTXNnLnVuc2VsZWN0ZWQpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSkgewogICAgICAgIHN3YWwoZXJyb3JNc2cuZGlyKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGxldCBkb3dubG9hZExpbmsgPSBnZXRIaWdoRG93bmxvYWRMaW5rKCk7CgogICAgICBpZiAoZG93bmxvYWRMaW5rID09PSB1bmRlZmluZWQpIHJldHVybjsKICAgICAgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAtMTkpIHsKICAgICAgICBzd2FsKCfojrflj5bovr7liLDkuIrpmZDvvIzor7fmm7TmjaJJUOaIlumHjeaWsOeUn+aIkOWIhuS6q+mTvuaOpScpOwogICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpIHsKICAgICAgICBzd2FsKCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgbGV0IHRpcCA9ICfjgJDmma7pgJrpk77mjqXjgJHlt6bplK7miJblj7PplK7osIPnlKhJRE3kuIvovb3vvIzjgJBhcmlh6ZO+5o6l44CR6LCD55SoIFhkb3duIOS4i+i9vSc7CiAgICAgICAgZGlhbG9nLm9wZW4oewogICAgICAgICAgdGl0bGU6ICfpq5jpgJ/pk77mjqXvvIjku4XmlK/mjIHljZXmlofku7bvvIknLAogICAgICAgICAgdHlwZTogJ2hpZ2hMaW5rJywKICAgICAgICAgIGxpc3Q6IGRvd25sb2FkTGluay5kbGluaywKICAgICAgICAgIHRpcDogdGlwCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dhbChlcnJvck1zZy5mYWlsKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGFyaWNsaW5rQnV0dG9uQ2xpY2soKSB7CiAgICAgIGlmIChiZHN0b2tlbiA9PT0gbnVsbCkgewogICAgICAgIHN3YWwoZXJyb3JNc2cudW5sb2dpbik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGNsb2coJ+mAieS4reaWh+S7tuWIl+ihqO+8micsIHNlbGVjdEZpbGVMaXN0KTsKICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHN3YWwoZXJyb3JNc2cudW5zZWxlY3RlZCk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxKSB7CiAgICAgICAgc3dhbChlcnJvck1zZy5kaXIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgYnV0dG9uVGFyZ2V0ID0gJ2xpbmsnOwogICAgICBsZXQgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rKCk7CgogICAgICBpZiAoZG93bmxvYWRMaW5rID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICAgIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT0gLTIwKSB7CiAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgIGlmICghdmNvZGUgfHwgdmNvZGUuZXJybm8gIT09IDApIHsKICAgICAgICAgIHN3YWwoJ+iOt+WPlumqjOivgeeggeWksei0pe+8gScpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICB2Y29kZURpYWxvZy5vcGVuKHZjb2RlKTsKICAgICAgfSBlbHNlIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT0gMTEyKSB7CiAgICAgICAgc3dhbCgn6aG16Z2i6L+H5pyf77yM6K+35Yi35paw6YeN6K+VJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PT0gMCkgewogICAgICAgIGxldCB0aXAgPSAn6K+35YWI5a6J6KOFIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL3d3dy5iYWlkdXl1bi53aWtpLyMvemgtY24vY29va2llLXBsdWdpbiI+55m+5bqmQ29va2llc+iOt+WPluWKqeaJizwvYT4g6K+35bCG6ZO+5o6l5aSN5Yi25Yiw5pSv5oyBQXJpYeeahOS4i+i9veWZqOS4rSwg5o6o6I2Q5L2/55SoIDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSJodHRwczovL2JhaWR1d3AuY3RmaWxlLmNvbS9kaXIvMzk5NDA0MS0zNTI0MDY2NS1lMWVhMzcvIj5YZG93bjwvYT4nOwogICAgICAgIGRpYWxvZy5vcGVuKHsKICAgICAgICAgIHRpdGxlOiAn5LiL6L296ZO+5o6l77yI5LuF5pi+56S65paH5Lu26ZO+5o6l77yJJywKICAgICAgICAgIHR5cGU6ICdzaGFyZUFyaWFMaW5rJywKICAgICAgICAgIGxpc3Q6IGRvd25sb2FkTGluay5saXN0LAogICAgICAgICAgdGlwOiB0aXAsCiAgICAgICAgICBzaG93Y29weTogdHJ1ZQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN3YWwoZXJyb3JNc2cuZmFpbCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVJZnJhbWUoKSB7CiAgICAgIGxldCAkZGl2ID0gJCgnPGRpdiBjbGFzcz0iaGVscGVyLWhpZGUiIHN0eWxlPSJwYWRkaW5nOjA7bWFyZ2luOjA7ZGlzcGxheTpibG9jayI+PC9kaXY+Jyk7CiAgICAgIGxldCAkaWZyYW1lID0gJCgnPGlmcmFtZSBzcmM9ImphdmFzY3JpcHQ6dm9pZCgwKSIgaWQ9ImhlbHBlcmRvd25sb2FkaWZyYW1lIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2lmcmFtZT4nKTsKICAgICAgJGRpdi5hcHBlbmQoJGlmcmFtZSk7CiAgICAgICQoJ2JvZHknKS5hcHBlbmQoJGRpdik7CiAgICB9CgogICAgZnVuY3Rpb24gcmVnaXN0ZXJFdmVudExpc3RlbmVyKCkgewogICAgICByZWdpc3Rlckhhc2hDaGFuZ2UoKTsKICAgICAgcmVnaXN0ZXJMaXN0R3JpZFN0YXR1cygpOwogICAgICByZWdpc3RlckNoZWNrYm94KCk7CiAgICAgIHJlZ2lzdGVyQWxsQ2hlY2tib3goKTsKICAgICAgcmVnaXN0ZXJGaWxlU2VsZWN0KCk7CiAgICAgIHJlZ2lzdGVyU2lkZWJhcigpOwogICAgfQoKCiAgICBmdW5jdGlvbiByZWdpc3RlclNpZGViYXIoKSB7CiAgICAgIGlmIChnZXRDb29raWUoJ3NfcycpICE9IDEpIHsKICAgICAgICBsZXQgc2lkZWJhciwgc2lkZXRlbXA7CiAgICAgICAgaWYgKCQoJy5iZC1hc2lkZScpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHNpZGViYXIgPSAkKCcuYmQtYXNpZGUnKTsKICAgICAgICAgIHNpZGV0ZW1wID0gJChgPGltZyBjbGFzcz0iSzVhOFR1IiBzcmM9Imh0dHBzOi8vYmFpZHVwYW4uY2RuLmJjZWJvcy5jb20vYmFpZHVfc2hhcmUucG5nP3Q9JHtNYXRoLnJhbmRvbSgpfSIgc3R5bGU9ImN1cnNvcjpwb2ludGVyO21hcmdpbjogMCBhdXRvOyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDA7IHJpZ2h0OiAwOyBib3R0b206IDEwMHB4OyI+YCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNpZGViYXIgPSAkKCcubW9kdWxlLWFzaWRlJyk7CiAgICAgICAgICBzaWRldGVtcCA9ICQoYDxpbWcgY2xhc3M9Iks1YThUdSIgc3JjPSJodHRwczovL2JhaWR1cGFuLmNkbi5iY2Vib3MuY29tL2JhaWR1X3NoYXJlLnBuZz90PSR7TWF0aC5yYW5kb20oKX0iIHN0eWxlPSJjdXJzb3I6cG9pbnRlcjttYXJnaW46IDEwcHggMCI+YCk7CiAgICAgICAgfQogICAgICAgIHNpZGViYXIuYXBwZW5kKHNpZGV0ZW1wKTsKICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLks1YThUdScsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIEdNX29wZW5JblRhYignaHR0cDovL3Bhbi5iYWlkdXl1bi53aWtpL3NoYXJlJyk7CiAgICAgICAgICBzZXRDb29raWUoJ3NfcycsIDEsIDYwKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQoKICAgIC8v55uR6KeG5Zyw5Z2A5qCPI+agh+etvuWPmOWMlgogICAgZnVuY3Rpb24gcmVnaXN0ZXJIYXNoQ2hhbmdlKCkgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbGlzdF9ncmlkX3N0YXR1cyA9IGdldExpc3RHcmlkU3RhdHVzKCk7CiAgICAgICAgaWYgKGN1cnJlbnRQYXRoID09IGdldFBhdGgoKSkgewoKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY3VycmVudFBhdGggPSBnZXRQYXRoKCk7CiAgICAgICAgICByZWZyZXNoRmlsZUxpc3QoKTsKICAgICAgICAgIHJlZnJlc2hTZWxlY3RGaWxlTGlzdCgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmcmVzaEZpbGVMaXN0KCkgewogICAgICBmaWxlTGlzdCA9IGdldEZpbGVMaXN0KCk7CiAgICB9CgogICAgZnVuY3Rpb24gcmVmcmVzaFNlbGVjdEZpbGVMaXN0KCkgewogICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgfQoKICAgIC8v55uR6KeG6KeG5Zu+5Y+Y5YyWCiAgICBmdW5jdGlvbiByZWdpc3Rlckxpc3RHcmlkU3RhdHVzKCkgewogICAgICBsZXQgJGFfbGlzdCA9ICQoJ2FbZGF0YS10eXBlPWxpc3RdJyk7CiAgICAgICRhX2xpc3QuY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGxpc3RfZ3JpZF9zdGF0dXMgPSAnbGlzdCc7CiAgICAgIH0pOwoKICAgICAgbGV0ICRhX2dyaWQgPSAkKCdhW2RhdGEtdHlwZT1ncmlkXScpOwogICAgICAkYV9ncmlkLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsaXN0X2dyaWRfc3RhdHVzID0gJ2dyaWQnOwogICAgICB9KTsKICAgIH0KCiAgICAvL+ebkeinhuaWh+S7tumAieaLqeahhgogICAgZnVuY3Rpb24gcmVnaXN0ZXJDaGVja2JveCgpIHsKICAgICAgbGV0ICRjaGVja2JveCA9ICQoJ3NwYW4uJyArIGNsYXNzTWFwWydjaGVja2JveCddKTsKICAgICAgaWYgKGxpc3RfZ3JpZF9zdGF0dXMgPT0gJ2dyaWQnKSB7CiAgICAgICAgJGNoZWNrYm94ID0gJCgnLicgKyBjbGFzc01hcFsnY2hla2JveC1ncmlkJ10pOwogICAgICB9CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgbGV0ICRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudCgpOwogICAgICAgICAgbGV0IGZpbGVuYW1lOwogICAgICAgICAgbGV0IGlzQWN0aXZlOwoKICAgICAgICAgIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdsaXN0JykgewogICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgZGl2LnRleHQgYScsICRwYXJlbnQpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgIGlzQWN0aXZlID0gJCh0aGlzKS5wYXJlbnRzKCdkZCcpLmhhc0NsYXNzKCdKUy1pdGVtLWFjdGl2ZScpOwogICAgICAgICAgfSBlbHNlIGlmIChsaXN0X2dyaWRfc3RhdHVzID09ICdncmlkJykgewogICAgICAgICAgICBmaWxlbmFtZSA9ICQoJ2Rpdi5maWxlLW5hbWUgYScsICQodGhpcykpLmF0dHIoJ3RpdGxlJyk7CiAgICAgICAgICAgIGlzQWN0aXZlID0gISQodGhpcykuaGFzQ2xhc3MoJ0pTLWl0ZW0tYWN0aXZlJyk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGlzQWN0aXZlKSB7CiAgICAgICAgICAgIGNsb2coJ+WPlua2iOmAieS4reaWh+S7tu+8micgKyBmaWxlbmFtZSk7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0RmlsZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICBpZiAoc2VsZWN0RmlsZUxpc3RbaV0uZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnNwbGljZShpLCAxKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsb2coJ+mAieS4reaWh+S7tjogJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICBmc19pZDogZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgaXNkaXI6IGVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5yZWdpc3RlckNoZWNrYm94KCkgewogICAgICBsZXQgJGNoZWNrYm94ID0gJCgnc3Bhbi4nICsgY2xhc3NNYXBbJ2NoZWNrYm94J10pOwogICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLnVuYmluZCgnY2xpY2snKTsKICAgICAgfSk7CiAgICB9CgogICAgLy/nm5Hop4blhajpgInmoYYKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyQWxsQ2hlY2tib3goKSB7CiAgICAgIGxldCAkY2hlY2tib3ggPSAkKCdkaXYuJyArIGNsYXNzTWFwWydjb2wtaXRlbSddICsgJy4nICsgY2xhc3NNYXBbJ2NoZWNrJ10pOwogICAgICAkY2hlY2tib3guZWFjaChmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAkKGVsZW1lbnQpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGxldCAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgIGlmICgkcGFyZW50Lmhhc0NsYXNzKGNsYXNzTWFwWydjaGVja2VkJ10pKSB7CiAgICAgICAgICAgIGNsb2coJ+WPlua2iOWFqOmAiScpOwogICAgICAgICAgICBzZWxlY3RGaWxlTGlzdCA9IFtdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xvZygn5YWo6YOo6YCJ5LitJyk7CiAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0ID0gW107CiAgICAgICAgICAgICQuZWFjaChmaWxlTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgICAgbGV0IG9iaiA9IHsKICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgIHBhdGg6IGVsZW1lbnQucGF0aCwKICAgICAgICAgICAgICAgIGZzX2lkOiBlbGVtZW50LmZzX2lkLAogICAgICAgICAgICAgICAgaXNkaXI6IGVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHNlbGVjdEZpbGVMaXN0LnB1c2gob2JqKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXJBbGxDaGVja2JveCgpIHsKICAgICAgbGV0ICRjaGVja2JveCA9ICQoJ2Rpdi4nICsgY2xhc3NNYXBbJ2NvbC1pdGVtJ10gKyAnLicgKyBjbGFzc01hcFsnY2hlY2snXSk7CiAgICAgICRjaGVja2JveC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkudW5iaW5kKCdjbGljaycpOwogICAgICB9KTsKICAgIH0KCiAgICAvL+ebkeinhuWNleS4quaWh+S7tumAieS4rQogICAgZnVuY3Rpb24gcmVnaXN0ZXJGaWxlU2VsZWN0KCkgewogICAgICBsZXQgJGRkID0gJCgnZGl2LicgKyBjbGFzc01hcFsnbGlzdC12aWV3J10gKyAnIGRkJyk7CiAgICAgICRkZC5lYWNoKGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICQoZWxlbWVudCkuYmluZCgnY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgbGV0IG5vZGVOYW1lID0gZS50YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIGlmIChub2RlTmFtZSAhPSAnc3BhbicgJiYgbm9kZU5hbWUgIT0gJ2EnICYmIG5vZGVOYW1lICE9ICdlbScpIHsKICAgICAgICAgICAgc2VsZWN0RmlsZUxpc3QgPSBbXTsKICAgICAgICAgICAgbGV0IGZpbGVuYW1lID0gJCgnZGl2LmZpbGUtbmFtZSBkaXYudGV4dCBhJywgJCh0aGlzKSkuYXR0cigndGl0bGUnKTsKICAgICAgICAgICAgY2xvZygn6YCJ5Lit5paH5Lu277yaJyArIGZpbGVuYW1lKTsKICAgICAgICAgICAgJC5lYWNoKGZpbGVMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zZXJ2ZXJfZmlsZW5hbWUgPT0gZmlsZW5hbWUpIHsKICAgICAgICAgICAgICAgIGxldCBvYmogPSB7CiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLAogICAgICAgICAgICAgICAgICBmc19pZDogZWxlbWVudC5mc19pZCwKICAgICAgICAgICAgICAgICAgaXNkaXI6IGVsZW1lbnQuaXNkaXIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBzZWxlY3RGaWxlTGlzdC5wdXNoKG9iaik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdW5yZWdpc3RlckZpbGVTZWxlY3QoKSB7CiAgICAgIGxldCAkZGQgPSAkKCdkaXYuJyArIGNsYXNzTWFwWydsaXN0LXZpZXcnXSArICcgZGQnKTsKICAgICAgJGRkLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgJChlbGVtZW50KS51bmJpbmQoJ2NsaWNrJyk7CiAgICAgIH0pOwogICAgfQoKICAgIC8v55uR6KeG5paH5Lu25YiX6KGo5pi+56S65Y+Y5YyWCiAgICBmdW5jdGlvbiBjcmVhdGVPYnNlcnZlcigpIHsKICAgICAgbGV0IE11dGF0aW9uT2JzZXJ2ZXIgPSB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcjsKICAgICAgbGV0IG9wdGlvbnMgPSB7CiAgICAgICAgJ2NoaWxkTGlzdCc6IHRydWUKICAgICAgfTsKICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7CiAgICAgICAgdW5yZWdpc3RlckNoZWNrYm94KCk7CiAgICAgICAgdW5yZWdpc3RlckFsbENoZWNrYm94KCk7CiAgICAgICAgdW5yZWdpc3RlckZpbGVTZWxlY3QoKTsKICAgICAgICByZWdpc3RlckNoZWNrYm94KCk7CiAgICAgICAgcmVnaXN0ZXJBbGxDaGVja2JveCgpOwogICAgICAgIHJlZ2lzdGVyRmlsZVNlbGVjdCgpOwogICAgICB9KTsKCiAgICAgIGxldCBsaXN0X3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzTWFwWydsaXN0LXZpZXcnXSk7CiAgICAgIGxldCBncmlkX3ZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuJyArIGNsYXNzTWFwWydncmlkLXZpZXcnXSk7CgogICAgICBvYnNlcnZlci5vYnNlcnZlKGxpc3Rfdmlldywgb3B0aW9ucyk7CiAgICAgIG9ic2VydmVyLm9ic2VydmUoZ3JpZF92aWV3LCBvcHRpb25zKTsKICAgIH0KCiAgICAvL+iOt+WPluaWh+S7tuS/oeaBr+WIl+ihqAogICAgZnVuY3Rpb24gZ2V0RmlsZUxpc3QoKSB7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgaWYgKGdldFBhdGgoKSA9PSAnLycpIHsKICAgICAgICByZXN1bHQgPSB5dW5EYXRhLkZJTEVJTkZPOwogICAgICB9IGVsc2UgewogICAgICAgIGxvZ2lkID0gZ2V0TG9nSUQoKTsKICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgdWs6IHVrLAogICAgICAgICAgc2hhcmVpZDogc2hhcmVpZCwKICAgICAgICAgIG9yZGVyOiAnb3RoZXInLAogICAgICAgICAgZGVzYzogMSwKICAgICAgICAgIHNob3dlbXB0eTogMCwKICAgICAgICAgIHdlYjogd2ViLAogICAgICAgICAgZGlyOiBnZXRQYXRoKCksCiAgICAgICAgICB0OiBNYXRoLnJhbmRvbSgpLAogICAgICAgICAgYmRzdG9rZW46IGJkc3Rva2VuLAogICAgICAgICAgY2hhbm5lbDogY2hhbm5lbCwKICAgICAgICAgIGNsaWVudHR5cGU6IGNsaWVudHR5cGUsCiAgICAgICAgICBhcHBfaWQ6IGFwcF9pZCwKICAgICAgICAgIGxvZ2lkOiBsb2dpZAogICAgICAgIH07CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogc2hhcmVMaXN0VXJsLAogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIGFzeW5jOiBmYWxzZSwKICAgICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJybm8gPT09IDApIHsKICAgICAgICAgICAgICByZXN1bHQgPSByZXNwb25zZS5saXN0OwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBkb3dubG9hZEJ1dHRvbkNsaWNrKCkgewogICAgICBpZiAoYmRzdG9rZW4gPT09IG51bGwpIHsKICAgICAgICBzd2FsKGVycm9yTXNnLnVubG9naW4pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBjbG9nKCfpgInkuK3mlofku7bliJfooajvvJonLCBzZWxlY3RGaWxlTGlzdCk7CiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICBzd2FsKGVycm9yTXNnLnVuc2VsZWN0ZWQpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID4gMSkgewogICAgICAgIHN3YWwoZXJyb3JNc2cubW9yZXRoYW4yKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmIChzZWxlY3RGaWxlTGlzdFswXS5pc2RpciA9PSAxKSB7CiAgICAgICAgc3dhbChlcnJvck1zZy5kaXIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBidXR0b25UYXJnZXQgPSAnZG93bmxvYWQnOwogICAgICBsZXQgZG93bmxvYWRMaW5rID0gZ2V0RG93bmxvYWRMaW5rKCk7CgogICAgICBpZiAoZG93bmxvYWRMaW5rID09PSB1bmRlZmluZWQpIHJldHVybjsKCiAgICAgIGlmIChkb3dubG9hZExpbmsuZXJybm8gPT0gLTIwKSB7CiAgICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAgIGlmICh2Y29kZS5lcnJubyAhPT0gMCkgewogICAgICAgICAgc3dhbCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZjb2RlRGlhbG9nLm9wZW4odmNvZGUpOwogICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpIHsKICAgICAgICBzd2FsKCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKCiAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgbGV0IGxpbmsgPSBkb3dubG9hZExpbmsubGlzdFswXS5kbGluazsKICAgICAgICBleGVjRG93bmxvYWQobGluayk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3dhbChlcnJvck1zZy5mYWlsKTsKCiAgICAgIH0KICAgIH0KCiAgICAvL+iOt+WPlumqjOivgeeggQogICAgZnVuY3Rpb24gZ2V0VkNvZGUoKSB7CiAgICAgIGxldCB1cmwgPSBwYW5BUElVcmwgKyAnZ2V0dmNvZGUnOwogICAgICBsZXQgcmVzdWx0OwogICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgcHJvZDogJ3BhbicsCiAgICAgICAgdDogTWF0aC5yYW5kb20oKSwKICAgICAgICBiZHN0b2tlbjogYmRzdG9rZW4sCiAgICAgICAgY2hhbm5lbDogY2hhbm5lbCwKICAgICAgICBjbGllbnR0eXBlOiBjbGllbnR0eXBlLAogICAgICAgIHdlYjogd2ViLAogICAgICAgIGFwcF9pZDogYXBwX2lkLAogICAgICAgIGxvZ2lkOiBsb2dpZAogICAgICB9OwogICAgICAkLmFqYXgoewogICAgICAgIHVybDogdXJsLAogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgYXN5bmM6IGZhbHNlLAogICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLy/liLfmlrDpqozor4HnoIEKICAgIGZ1bmN0aW9uIHJlZnJlc2hWQ29kZSgpIHsKICAgICAgdmNvZGUgPSBnZXRWQ29kZSgpOwogICAgICAkKCcjZGlhbG9nLWltZycpLmF0dHIoJ3NyYycsIHZjb2RlLmltZyk7CiAgICB9CgogICAgLy/pqozor4HnoIHnoa7orqTmj5DkuqQKICAgIGZ1bmN0aW9uIGNvbmZpcm1DbGljaygpIHsKICAgICAgbGV0IHZhbCA9ICQoJyNkaWFsb2ctaW5wdXQnKS52YWwoKTsKICAgICAgaWYgKHZhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAkKCcjZGlhbG9nLWVycicpLnRleHQoJ+ivt+i+k+WFpemqjOivgeeggScpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmICh2YWwubGVuZ3RoIDwgNCkgewogICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCByZXN1bHQgPSBnZXREb3dubG9hZExpbmtXaXRoVkNvZGUodmFsKTsKICAgICAgaWYgKHJlc3VsdC5lcnJubyA9PSAtMjApIHsKICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgn6aqM6K+B56CB6L6T5YWl6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWlJyk7CiAgICAgICAgcmVmcmVzaFZDb2RlKCk7CiAgICAgICAgaWYgKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCkgewogICAgICAgICAgc3dhbCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZjb2RlRGlhbG9nLm9wZW4oKTsKICAgICAgfSBlbHNlIGlmIChyZXN1bHQuZXJybm8gPT09IDApIHsKICAgICAgICB2Y29kZURpYWxvZy5jbG9zZSgpOwogICAgICAgIGlmIChidXR0b25UYXJnZXQgPT0gJ2Rvd25sb2FkJykgewogICAgICAgICAgaWYgKHJlc3VsdC5saXN0Lmxlbmd0aCA+IDEgfHwgcmVzdWx0Lmxpc3RbMF0uaXNkaXIgPT0gMSkgewogICAgICAgICAgICBzd2FsKGVycm9yTXNnLm1vcmV0aGFuMik7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICAgIGxldCBsaW5rID0gcmVzdWx0Lmxpc3RbMF0uZGxpbms7CiAgICAgICAgICBleGVjRG93bmxvYWQobGluayk7CiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UYXJnZXQgPT0gJ2xpbmsnKSB7CiAgICAgICAgICBsZXQgdGlwID0gJ+ebtOaOpeWkjeWItumTvuaOpeaXoOaViO+8jOivt+WuieijhSBJRE0g5Y+K5rWP6KeI5Zmo5omp5bGV5ZCO5L2/55So77yIPGEgaHJlZj0iaHR0cHM6Ly93d3cuYmFpZHV5dW4ud2lraS8jL3poLWNuLyIgdGFyZ2V0PSJfYmxhbmsiPuiEmuacrOS9v+eUqOivtOaYjjwvYT7vvIknOwogICAgICAgICAgZGlhbG9nLm9wZW4oe3RpdGxlOiAn5LiL6L296ZO+5o6l77yI5LuF5pi+56S65paH5Lu26ZO+5o6l77yJJywgdHlwZTogJ3NoYXJlTGluaycsIGxpc3Q6IHJlc3VsdC5saXN0LCB0aXA6IHRpcH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKCflj5HnlJ/plJnor6/vvIEnKTsKCiAgICAgIH0KICAgIH0KCiAgICAvL+eUn+aIkOS4i+i9veeUqOeahGZpZF9saXN05Y+C5pWwCiAgICBmdW5jdGlvbiBnZXRGaWRMaXN0KCkgewogICAgICBsZXQgZmlkbGlzdCA9IFtdOwogICAgICAkLmVhY2goc2VsZWN0RmlsZUxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgIGZpZGxpc3QucHVzaChlbGVtZW50LmZzX2lkKTsKICAgICAgfSk7CiAgICAgIHJldHVybiAnWycgKyBmaWRsaXN0ICsgJ10nOwogICAgfQoKICAgIGZ1bmN0aW9uIGxpbmtCdXR0b25DbGljaygpIHsKICAgICAgaWYgKGJkc3Rva2VuID09PSBudWxsKSB7CiAgICAgICAgc3dhbChlcnJvck1zZy51bmxvZ2luKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgY2xvZygn6YCJ5Lit5paH5Lu25YiX6KGo77yaJywgc2VsZWN0RmlsZUxpc3QpOwogICAgICBpZiAoc2VsZWN0RmlsZUxpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgc3dhbChlcnJvck1zZy51bnNlbGVjdGVkKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHNlbGVjdEZpbGVMaXN0WzBdLmlzZGlyID09IDEpIHsKICAgICAgICBzd2FsKGVycm9yTXNnLmRpcik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICBidXR0b25UYXJnZXQgPSAnbGluayc7CiAgICAgIGxldCBkb3dubG9hZExpbmsgPSBnZXREb3dubG9hZExpbmsoKTsKCiAgICAgIGlmIChkb3dubG9hZExpbmsgPT09IHVuZGVmaW5lZCkgcmV0dXJuOwoKICAgICAgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAtMjApIHsKICAgICAgICB2Y29kZSA9IGdldFZDb2RlKCk7CiAgICAgICAgaWYgKCF2Y29kZSB8fCB2Y29kZS5lcnJubyAhPT0gMCkgewogICAgICAgICAgc3dhbCgn6I635Y+W6aqM6K+B56CB5aSx6LSl77yBJyk7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHZjb2RlRGlhbG9nLm9wZW4odmNvZGUpOwogICAgICB9IGVsc2UgaWYgKGRvd25sb2FkTGluay5lcnJubyA9PSAxMTIpIHsKICAgICAgICBzd2FsKCfpobXpnaLov4fmnJ/vvIzor7fliLfmlrDph43or5UnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAoZG93bmxvYWRMaW5rLmVycm5vID09PSAwKSB7CiAgICAgICAgbGV0IHRpcCA9ICLoi6VJRE3kuIvovb3lpLHotKXvvIzor7fkvb/nlKhBcmlhMmPpk77mjqXmiJblsIbmlofku7bkv53lrZjoh7PnvZHnm5jlkI7kvb/nlKhBUEnkuIvovb0iOwogICAgICAgIGRpYWxvZy5vcGVuKHt0aXRsZTogJ+S4i+i9vemTvuaOpe+8iOS7heaYvuekuuaWh+S7tumTvuaOpe+8iScsIHR5cGU6ICdzaGFyZUxpbmsnLCBsaXN0OiBkb3dubG9hZExpbmsubGlzdCwgdGlwOiB0aXB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzd2FsKGVycm9yTXNnLmZhaWwpOwogICAgICB9CiAgICB9CgogICAgLy/ojrflj5bkuIvovb3pk77mjqUKICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGluaygpIHsKICAgICAgaWYgKGJkc3Rva2VuID09PSBudWxsKSB7CiAgICAgICAgc3dhbChlcnJvck1zZy51bmxvZ2luKTsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IHJlc3VsdDsKICAgICAgICBpZiAoaXNTaW5nbGVTaGFyZSkgewogICAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgICBsb2dpZCA9IGdldExvZ0lEKCk7CiAgICAgICAgICBsZXQgdXJsID0gcGFuQVBJVXJsICsgJ3NoYXJlZG93bmxvYWQ/c2lnbj0nICsgc2lnbiArICcmdGltZXN0YW1wPScgKyB0aW1lc3RhbXAgKyAnJmJkc3Rva2VuPScgKyBiZHN0b2tlbiArICcmY2hhbm5lbD0nICsgY2hhbm5lbCArICcmY2xpZW50dHlwZT0nICsgY2xpZW50dHlwZSArICcmd2ViPScgKyB3ZWIgKyAnJmFwcF9pZD0nICsgYXBwX2lkICsgJyZsb2dpZD0nICsgbG9naWQ7CiAgICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgICBlbmNyeXB0OiBlbmNyeXB0LAogICAgICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICAgICAgICB1azogdWssCiAgICAgICAgICAgIHByaW1hcnlpZDogcHJpbWFyeWlkLAogICAgICAgICAgICBmaWRfbGlzdDogZmlkX2xpc3QKICAgICAgICAgIH07CiAgICAgICAgICBpZiAoc2hhcmVUeXBlID09ICdzZWNyZXQnKSB7CiAgICAgICAgICAgIHBhcmFtcy5leHRyYSA9IGV4dHJhOwogICAgICAgICAgfQogICAgICAgICAgLyppZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSB8fCBzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIHBhcmFtcy50eXBlID0gJ2JhdGNoJzsKICAgICAgICAgIH0qLwogICAgICAgICAgJC5hamF4KHsKICAgICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICAgIGRhdGE6IHBhcmFtcywKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICB9CiAgICB9CgogICAgLy/ojrflj5bpq5jpgJ/kuIvovb3pk77mjqUKICAgIGZ1bmN0aW9uIGdldEhpZ2hEb3dubG9hZExpbmsoKSB7CiAgICAgIGxldCByZXN1bHQ7CiAgICAgIGlmIChpc1NpbmdsZVNoYXJlKSB7CiAgICAgICAgbGV0IGhpZ2ggPSB7CiAgICAgICAgICBiZHN0b2tlbjogeXVuRGF0YS5NWUJEU1RPS0VOLAogICAgICAgICAgd2ViOiA1LAogICAgICAgICAgYXBwX2lkOiAyNTA1MjgsCiAgICAgICAgICBsb2dpZDogZ2V0TG9nSUQoKSwKICAgICAgICAgIGNoYW5uZWw6ICdjaHVubGVpJywKICAgICAgICAgIGNsaWVudHR5cGU6IDUsCiAgICAgICAgICB1azogeXVuRGF0YS5TSEFSRV9VSywKICAgICAgICAgIHNoYXJlaWQ6IHl1bkRhdGEuU0hBUkVfSUQsCiAgICAgICAgICBmaWRfbGlzdDogZ2V0RmlkTGlzdCgpLAogICAgICAgICAgc2lnbjogeXVuRGF0YS5TSUdOLAogICAgICAgICAgdGltZXN0YW1wOiB5dW5EYXRhLlRJTUVTVEFNUCwKICAgICAgICB9OwogICAgICAgIGxldCB1cmwgPSBwYW5IaWdoQVBJVXJsICsgJ3NpZ249JyArIGhpZ2guc2lnbiArICcmdGltZXN0YW1wPScgKyBoaWdoLnRpbWVzdGFtcCArICcmYmRzdG9rZW49JyArIGhpZ2guYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGhpZ2guY2hhbm5lbCArICcmY2xpZW50dHlwZT0nICsgaGlnaC5jbGllbnR0eXBlICsgJyZ3ZWI9JyArIGhpZ2gud2ViICsgJyZhcHBfaWQ9JyArIGhpZ2guYXBwX2lkICsgJyZsb2dpZD0nICsgaGlnaC5sb2dpZCArICcmZmlkX2xpc3Q9JyArIGhpZ2guZmlkX2xpc3QgKyAnJnVrPScgKyBoaWdoLnVrICsgJyZzaGFyZWlkPScgKyBoaWdoLnNoYXJlaWQ7CiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIGFzeW5jOiBmYWxzZSwKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJybm8gPT0gMCkgewogICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3BvbnNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJubyA9PSAtMTkpIHsgIC8v6aqM6K+B56CBCiAgICAgICAgICAgICAgc3dhbCgn6K+35bCd6K+V5pu05o2iSVDmiJbph43mlrDliIbkuqsnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CgogICAgLy/mnInpqozor4HnoIHovpPlhaXml7bojrflj5bkuIvovb3pk77mjqUKICAgIGZ1bmN0aW9uIGdldERvd25sb2FkTGlua1dpdGhWQ29kZSh2Y29kZUlucHV0KSB7CiAgICAgIGxldCByZXN1bHQ7CiAgICAgIGlmIChpc1NpbmdsZVNoYXJlKSB7CiAgICAgICAgZmlkX2xpc3QgPSBnZXRGaWRMaXN0KCk7CiAgICAgICAgbGV0IHVybCA9IHBhbkFQSVVybCArICdzaGFyZWRvd25sb2FkP3NpZ249JyArIHNpZ24gKyAnJnRpbWVzdGFtcD0nICsgdGltZXN0YW1wICsgJyZiZHN0b2tlbj0nICsgYmRzdG9rZW4gKyAnJmNoYW5uZWw9JyArIGNoYW5uZWwgKyAnJmNsaWVudHR5cGU9JyArIGNsaWVudHR5cGUgKyAnJndlYj0nICsgd2ViICsgJyZhcHBfaWQ9JyArIGFwcF9pZCArICcmbG9naWQ9JyArIGxvZ2lkOwogICAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgICBlbmNyeXB0OiBlbmNyeXB0LAogICAgICAgICAgcHJvZHVjdDogcHJvZHVjdCwKICAgICAgICAgIHZjb2RlX2lucHV0OiB2Y29kZUlucHV0LAogICAgICAgICAgdmNvZGVfc3RyOiB2Y29kZS52Y29kZSwKICAgICAgICAgIHVrOiB1aywKICAgICAgICAgIHByaW1hcnlpZDogcHJpbWFyeWlkLAogICAgICAgICAgZmlkX2xpc3Q6IGZpZF9saXN0CiAgICAgICAgfTsKICAgICAgICBpZiAoc2hhcmVUeXBlID09ICdzZWNyZXQnKSB7CiAgICAgICAgICBwYXJhbXMuZXh0cmEgPSBleHRyYTsKICAgICAgICB9CiAgICAgICAgLyppZiAoc2VsZWN0RmlsZUxpc3RbMF0uaXNkaXIgPT0gMSB8fCBzZWxlY3RGaWxlTGlzdC5sZW5ndGggPiAxKSB7CiAgICAgICAgICBwYXJhbXMudHlwZSA9ICdiYXRjaCc7CiAgICAgICAgfSovCiAgICAgICAgJC5hamF4KHsKICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICBkYXRhOiBwYXJhbXMsCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmVzdWx0ID0gcmVzcG9uc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0KCiAgICBmdW5jdGlvbiBleGVjRG93bmxvYWQobGluaykgewogICAgICBjbG9nKCfkuIvovb3pk77mjqXvvJonICsgbGluayk7CiAgICAgICQoJyNoZWxwZXJkb3dubG9hZGlmcmFtZScpLmF0dHIoJ3NyYycsIGxpbmspOwogICAgfQogIH0KCiAgZnVuY3Rpb24gYmFzZTY0RW5jb2RlKHQpIHsKICAgIGxldCBhLCByLCBlLCBuLCBpLCBzLCBvID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iOwogICAgZm9yIChlID0gdC5sZW5ndGgsIHIgPSAwLCBhID0gIiI7IGUgPiByOykgewogICAgICBpZiAobiA9IDI1NSAmIHQuY2hhckNvZGVBdChyKyspLCByID09IGUpIHsKICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQpOwogICAgICAgIGEgKz0gIj09IjsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBpZiAoaSA9IHQuY2hhckNvZGVBdChyKyspLCByID09IGUpIHsKICAgICAgICBhICs9IG8uY2hhckF0KG4gPj4gMik7CiAgICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQgfCAoMjQwICYgaSkgPj4gNCk7CiAgICAgICAgYSArPSBvLmNoYXJBdCgoMTUgJiBpKSA8PCAyKTsKICAgICAgICBhICs9ICI9IjsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBzID0gdC5jaGFyQ29kZUF0KHIrKyk7CiAgICAgIGEgKz0gby5jaGFyQXQobiA+PiAyKTsKICAgICAgYSArPSBvLmNoYXJBdCgoMyAmIG4pIDw8IDQgfCAoMjQwICYgaSkgPj4gNCk7CiAgICAgIGEgKz0gby5jaGFyQXQoKDE1ICYgaSkgPDwgMiB8ICgxOTIgJiBzKSA+PiA2KTsKICAgICAgYSArPSBvLmNoYXJBdCg2MyAmIHMpOwogICAgfQogICAgcmV0dXJuIGE7CiAgfQoKICBmdW5jdGlvbiBkZXRlY3RQYWdlKCkgewogICAgbGV0IHJlZ3ggPSAvW1wvXS4rW1wvXS9nOwogICAgbGV0IHBhZ2UgPSBsb2NhdGlvbi5wYXRobmFtZS5tYXRjaChyZWd4KTsKICAgIHJldHVybiBwYWdlWzBdLnJlcGxhY2UoL1wvL2csICcnKTsKICB9CgogIGZ1bmN0aW9uIGdldENvb2tpZShlKSB7CiAgICBsZXQgbywgdDsKICAgIGxldCBuID0gZG9jdW1lbnQsIGMgPSBkZWNvZGVVUkk7CiAgICByZXR1cm4gbi5jb29raWUubGVuZ3RoID4gMCAmJiAobyA9IG4uY29va2llLmluZGV4T2YoZSArICI9IiksIC0xICE9IG8pID8gKG8gPSBvICsgZS5sZW5ndGggKyAxLCB0ID0gbi5jb29raWUuaW5kZXhPZigiOyIsIG8pLCAtMSA9PSB0ICYmICh0ID0gbi5jb29raWUubGVuZ3RoKSwgYyhuLmNvb2tpZS5zdWJzdHJpbmcobywgdCkpKSA6ICIiOwogIH0KCiAgZnVuY3Rpb24gc2V0Q29va2llKGtleSwgdmFsdWUsIHQpIHsKICAgIHZhciBvRGF0ZSA9IG5ldyBEYXRlKCk7ICAvL+WIm+W7uuaXpeacn+WvueixoQogICAgb0RhdGUuc2V0VGltZShvRGF0ZS5nZXRUaW1lKCkgKyB0ICogNjAgKiAxMDAwKTsgLy/orr7nva7ov4fmnJ/ml7bpl7QKICAgIGRvY3VtZW50LmNvb2tpZSA9IGtleSArICc9JyArIHZhbHVlICsgJztleHBpcmVzPScgKyBvRGF0ZS50b0dNVFN0cmluZygpOyAgLy/orr7nva5jb29raWXnmoTlkI3np7DvvIzmlbDlgLzvvIzov4fmnJ/ml7bpl7QKICB9CgogIGZ1bmN0aW9uIHJlbW92ZUNvb2tpZShrZXkpIHsKICAgIHNldENvb2tpZShrZXksICcnLCAtMSk7ICAvL2Nvb2tpZeeahOi/h+acn+aXtumXtOiuvuS4uuaYqOWkqQogIH0KCiAgZnVuY3Rpb24gZ2V0TG9nSUQoKSB7CiAgICBsZXQgbmFtZSA9ICJCQUlEVUlEIjsKICAgIGxldCB1ID0gIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9+77yBQCPvv6Ul4oCm4oCmJiI7CiAgICBsZXQgZCA9IC9bXHVEODAwLVx1REJGRl1bXHVEQzAwLVx1REZGRkZdfFteXHgwMC1ceDdGXS9nOwogICAgbGV0IGYgPSBTdHJpbmcuZnJvbUNoYXJDb2RlOwoKICAgIGZ1bmN0aW9uIGwoZSkgewogICAgICBpZiAoZS5sZW5ndGggPCAyKSB7CiAgICAgICAgbGV0IG4gPSBlLmNoYXJDb2RlQXQoMCk7CiAgICAgICAgcmV0dXJuIDEyOCA+IG4gPyBlIDogMjA0OCA+IG4gPyBmKDE5MiB8IG4gPj4+IDYpICsgZigxMjggfCA2MyAmIG4pIDogZigyMjQgfCBuID4+PiAxMiAmIDE1KSArIGYoMTI4IHwgbiA+Pj4gNiAmIDYzKSArIGYoMTI4IHwgNjMgJiBuKTsKICAgICAgfQogICAgICBsZXQgbiA9IDY1NTM2ICsgMTAyNCAqIChlLmNoYXJDb2RlQXQoMCkgLSA1NTI5NikgKyAoZS5jaGFyQ29kZUF0KDEpIC0gNTYzMjApOwogICAgICByZXR1cm4gZigyNDAgfCBuID4+PiAxOCAmIDcpICsgZigxMjggfCBuID4+PiAxMiAmIDYzKSArIGYoMTI4IHwgbiA+Pj4gNiAmIDYzKSArIGYoMTI4IHwgNjMgJiBuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnKGUpIHsKICAgICAgcmV0dXJuIChlICsgIiIgKyBNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKGQsIGwpOwogICAgfQoKICAgIGZ1bmN0aW9uIG0oZSkgewogICAgICBsZXQgbiA9IFswLCAyLCAxXVtlLmxlbmd0aCAlIDNdOwogICAgICBsZXQgdCA9IGUuY2hhckNvZGVBdCgwKSA8PCAxNiB8IChlLmxlbmd0aCA+IDEgPyBlLmNoYXJDb2RlQXQoMSkgOiAwKSA8PCA4IHwgKGUubGVuZ3RoID4gMiA/IGUuY2hhckNvZGVBdCgyKSA6IDApOwogICAgICBsZXQgbyA9IFt1LmNoYXJBdCh0ID4+PiAxOCksIHUuY2hhckF0KHQgPj4+IDEyICYgNjMpLCBuID49IDIgPyAiPSIgOiB1LmNoYXJBdCh0ID4+PiA2ICYgNjMpLCBuID49IDEgPyAiPSIgOiB1LmNoYXJBdCg2MyAmIHQpXTsKICAgICAgcmV0dXJuIG8uam9pbigiIik7CiAgICB9CgogICAgZnVuY3Rpb24gaChlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UoL1tcc1xTXXsxLDN9L2csIG0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHAoKSB7CiAgICAgIHJldHVybiBoKGcoKG5ldyBEYXRlKCkpLmdldFRpbWUoKSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHcoZSwgbikgewogICAgICByZXR1cm4gbiA/IHAoU3RyaW5nKGUpKS5yZXBsYWNlKC9bK1wvXS9nLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAiKyIgPT0gZSA/ICItIiA6ICJfIjsKICAgICAgfSkucmVwbGFjZSgvPS9nLCAiIikgOiBwKFN0cmluZyhlKSk7CiAgICB9CgogICAgcmV0dXJuIHcoZ2V0Q29va2llKG5hbWUpKTsKICB9CgogIGZ1bmN0aW9uIERpYWxvZygpIHsKICAgIGxldCBsaW5rTGlzdCA9IFtdOwogICAgbGV0IHNob3dQYXJhbXM7CiAgICBsZXQgZGlhbG9nLCBzaGFkb3c7CgogICAgZnVuY3Rpb24gY3JlYXRlRGlhbG9nKCkgewogICAgICBsZXQgc2NyZWVuV2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoOwogICAgICBsZXQgZGlhbG9nTGVmdCA9IHNjcmVlbldpZHRoID4gODAwID8gKHNjcmVlbldpZHRoIC0gODAwKSAvIDIgOiAwOwogICAgICBsZXQgJGRpYWxvZ19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ciIHN0eWxlPSJ3aWR0aDogODAwcHg7IHRvcDogMHB4OyBib3R0b206IGF1dG87IGxlZnQ6ICcgKyBkaWFsb2dMZWZ0ICsgJ3B4OyByaWdodDogYXV0bzsgZGlzcGxheTogaGlkZGVuOyB2aXNpYmlsaXR5OiB2aXNpYmxlOyB6LWluZGV4OiA1MjsiPjwvZGl2PicpOwogICAgICBsZXQgJGRpYWxvZ19oZWFkZXIgPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctaGVhZGVyIj48aDM+PHNwYW4gY2xhc3M9ImRpYWxvZy10aXRsZSIgc3R5bGU9ImRpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjc0MHB4O3doaXRlLXNwYWNlOm5vd3JhcDtvdmVyZmxvdy14OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48L3NwYW4+PC9oMz48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfY29udHJvbCA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIj7Dlzwvc3Bhbj48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfYm9keSA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1ib2R5IiBzdHlsZT0ibWF4LWhlaWdodDo0NTBweDtvdmVyZmxvdy15OmF1dG87cGFkZGluZzowIDIwcHg7Ij48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfdGlwID0gJCgnPGRpdiBjbGFzcz0iZGlhbG9nLXRpcCIgc3R5bGU9InBhZGRpbmctbGVmdDoyMHB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItdG9wOiAxcHggc29saWQgI2M0ZGJmZTtjb2xvcjogI2RjMzczYzsiPjxwPjwvcD48L2Rpdj4nKTsKCiAgICAgICRkaWFsb2dfZGl2LmFwcGVuZCgkZGlhbG9nX2hlYWRlci5hcHBlbmQoJGRpYWxvZ19jb250cm9sKSkuYXBwZW5kKCRkaWFsb2dfYm9keSk7CgogICAgICBsZXQgJGRpYWxvZ19idXR0b24gPSAkKCc8ZGl2IGNsYXNzPSJkaWFsb2ctYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfYnV0dG9uX2RpdiA9ICQoJzxkaXYgc3R5bGU9ImRpc3BsYXk6dGFibGU7bWFyZ2luOmF1dG8iPjwvZGl2PicpOwogICAgICBsZXQgJGRpYWxvZ19jb3B5X2J1dHRvbiA9ICQoJzxidXR0b24gaWQ9ImRpYWxvZy1jb3B5LWJ1dHRvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZTt3aWR0aDogMTAwcHg7IG1hcmdpbjogNXB4IDAgMTBweCAwOyBjdXJzb3I6IHBvaW50ZXI7IGJhY2tncm91bmQ6ICNjYzMyMzU7IGJvcmRlcjogbm9uZTsgaGVpZ2h0OiAzMHB4OyBjb2xvcjogI2ZmZjsgYm9yZGVyLXJhZGl1czogM3B4OyI+5aSN5Yi25YWo6YOo6ZO+5o6lPC9idXR0b24+Jyk7CiAgICAgIGxldCAkZGlhbG9nX2VkaXRfYnV0dG9uID0gJCgnPGJ1dHRvbiBpZD0iZGlhbG9nLWVkaXQtYnV0dG9uIiBzdHlsZT0iZGlzcGxheTpub25lIj7nvJbovpE8L2J1dHRvbj4nKTsKICAgICAgbGV0ICRkaWFsb2dfZXhpdF9idXR0b24gPSAkKCc8YnV0dG9uIGlkPSJkaWFsb2ctZXhpdC1idXR0b24iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPumAgOWHujwvYnV0dG9uPicpOwoKICAgICAgJGRpYWxvZ19idXR0b25fZGl2LmFwcGVuZCgkZGlhbG9nX2NvcHlfYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19lZGl0X2J1dHRvbikuYXBwZW5kKCRkaWFsb2dfZXhpdF9idXR0b24pOwogICAgICAkZGlhbG9nX2J1dHRvbi5hcHBlbmQoJGRpYWxvZ19idXR0b25fZGl2KTsKICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfYnV0dG9uKTsKCiAgICAgICRkaWFsb2dfY29weV9idXR0b24uY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgIGxldCBjb250ZW50ID0gJyc7CiAgICAgICAgaWYgKHNob3dQYXJhbXMudHlwZSA9PSAnYmF0Y2gnKSB7CiAgICAgICAgICAkLmVhY2gobGlua0xpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICBpZiAoZWxlbWVudC5kb3dubG9hZGxpbmsgPT0gJ2Vycm9yJykKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmIChpbmRleCA9PSBsaW5rTGlzdC5sZW5ndGggLSAxKQogICAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgZWxlbWVudC5kb3dubG9hZGxpbms7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJ1xyXG4nOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChzaG93UGFyYW1zLnR5cGUgPT0gJ2JhdGNoQXJpYScpIHsKICAgICAgICAgICQuZWFjaChsaW5rTGlzdCwgZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7CiAgICAgICAgICAgIGlmIChlbGVtZW50LmRvd25sb2FkbGluayA9PSAnZXJyb3InKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgaWYgKGluZGV4ID09IGxpbmtMaXN0Lmxlbmd0aCAtIDEpCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBhcmlhMmMoZWxlbWVudC5kb3dubG9hZGxpbmssIGVsZW1lbnQuZmlsZW5hbWUpOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBhcmlhMmMoZWxlbWVudC5kb3dubG9hZGxpbmssIGVsZW1lbnQuZmlsZW5hbWUpICsgJ1xyXG4nOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChzaG93UGFyYW1zLnR5cGUgPT0gJ3NoYXJlQXJpYUxpbmsnKSB7CiAgICAgICAgICAkLmVhY2gobGlua0xpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlbGVtZW50KTsKICAgICAgICAgICAgaWYgKGVsZW1lbnQudXJsID09ICdlcnJvcicpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGFyaWEyYyhlbGVtZW50LmRsaW5rLCBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSk7CiAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICBjb250ZW50ID0gYXJpYTJjKGVsZW1lbnQuZGxpbmssIGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lKSArICdcclxuJzsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBHTV9zZXRDbGlwYm9hcmQoY29udGVudCwgJ3RleHQnKTsKICAgICAgICBzd2FsKCflt7LlsIbpk77mjqXlpI3liLbliLDliarotLTmnb/vvIEnKTsKICAgICAgfSk7CgogICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLCBkaWFsb2cpOwogICAgICAgIGxldCAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JywgZGlhbG9nKTsKICAgICAgICAkZGlhbG9nX2l0ZW0uaGlkZSgpOwogICAgICAgICRkaWFsb2dfY29weV9idXR0b24uaGlkZSgpOwogICAgICAgICRkaWFsb2dfZWRpdF9idXR0b24uaGlkZSgpOwogICAgICAgICRkaWFsb2dfdGV4dGFyZWEuc2hvdygpOwogICAgICAgICRkaWFsb2dfcmFkaW9fZGl2LnNob3coKTsKICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLnNob3coKTsKICAgICAgfSk7CgogICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmNsaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgJGRpYWxvZ190ZXh0YXJlYSA9ICQoJ2Rpdi5kaWFsb2ctYm9keSB0ZXh0YXJlYVtuYW1lPWRpYWxvZy10ZXh0YXJlYV0nLCBkaWFsb2cpOwogICAgICAgIGxldCAkZGlhbG9nX2l0ZW0gPSAkKCdkaXYuZGlhbG9nLWJvZHkgZGl2JywgZGlhbG9nKTsKICAgICAgICAkZGlhbG9nX3RleHRhcmVhLmhpZGUoKTsKICAgICAgICAkZGlhbG9nX3JhZGlvX2Rpdi5oaWRlKCk7CiAgICAgICAgJGRpYWxvZ19pdGVtLnNob3coKTsKICAgICAgICAkZGlhbG9nX2V4aXRfYnV0dG9uLmhpZGUoKTsKICAgICAgICAkZGlhbG9nX2NvcHlfYnV0dG9uLnNob3coKTsKICAgICAgICAkZGlhbG9nX2VkaXRfYnV0dG9uLnNob3coKTsKICAgICAgfSk7CgogICAgICAkZGlhbG9nX2Rpdi5hcHBlbmQoJGRpYWxvZ190aXApOwogICAgICAkKCdib2R5JykuYXBwZW5kKCRkaWFsb2dfZGl2KTsKICAgICAgJGRpYWxvZ19jb250cm9sLmNsaWNrKGRpYWxvZ0NvbnRyb2wpOwogICAgICByZXR1cm4gJGRpYWxvZ19kaXY7CiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlU2hhZG93KCkgewogICAgICBsZXQgJHNoYWRvdyA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1zaGFkb3ciIHN0eWxlPSJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDBweDsgdG9wOiAwcHg7IHotaW5kZXg6IDUwOyBiYWNrZ3JvdW5kOiByZ2IoMCwgMCwgMCkgbm9uZSByZXBlYXQgc2Nyb2xsIDAlIDAlOyBvcGFjaXR5OiAwLjU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IGRpc3BsYXk6IG5vbmU7Ij48L2Rpdj4nKTsKICAgICAgJCgnYm9keScpLmFwcGVuZCgkc2hhZG93KTsKICAgICAgcmV0dXJuICRzaGFkb3c7CiAgICB9CgogICAgdGhpcy5vcGVuID0gZnVuY3Rpb24gKHBhcmFtcykgewogICAgICBzaG93UGFyYW1zID0gcGFyYW1zOwogICAgICBsaW5rTGlzdCA9IFtdOwogICAgICBpZiAocGFyYW1zLnR5cGUgPT0gJ2xpbmsnKSB7CiAgICAgICAgbGlua0xpc3QgPSBwYXJhbXMubGlzdC51cmxzOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJywgZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSArICLvvJoiICsgcGFyYW1zLmxpc3QuZmlsZW5hbWUpOwogICAgICAgICQuZWFjaChwYXJhbXMubGlzdC51cmxzLCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgIGVsZW1lbnQudXJsID0gcmVwbGFjZUxpbmsoZWxlbWVudC51cmwpOwogICAgICAgICAgbGV0ICRkaXYgPSAkKCc8ZGl2PjxkaXYgc3R5bGU9IndpZHRoOjMwcHg7ZmxvYXQ6bGVmdCI+JyArIGVsZW1lbnQucmFuayArICc6PC9kaXY+PGRpdiBzdHlsZT0id2hpdGUtc3BhY2U6bm93cmFwO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSInICsgZWxlbWVudC51cmwgKyAnIj4nICsgZWxlbWVudC51cmwgKyAnPC9hPjwvZGl2PjwvZGl2PicpOwoKICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsIGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnYmF0Y2gnIHx8IHBhcmFtcy50eXBlID09ICdiYXRjaEFyaWEnKSB7CiAgICAgICAgbGlua0xpc3QgPSBwYXJhbXMubGlzdDsKICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsIGRpYWxvZykudGV4dChwYXJhbXMudGl0bGUpOwogICAgICAgIGlmIChwYXJhbXMuc2hvd2FsbCkgewogICAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgbGV0ICRpdGVtX2RpdiA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tY29udGFpbmVyIiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48L2Rpdj4nKTsKICAgICAgICAgICAgbGV0ICRpdGVtX25hbWUgPSAkKCc8ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIiB0aXRsZT0iJyArIGVsZW1lbnQuZmlsZW5hbWUgKyAnIj4nICsgZWxlbWVudC5maWxlbmFtZSArICc8L2Rpdj4nKTsKICAgICAgICAgICAgbGV0ICRpdGVtX3NlcCA9ICQoJzxkaXYgc3R5bGU9IndpZHRoOjEycHg7ZmxvYXQ6bGVmdCI+PHNwYW4+77yaPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICBsZXQgJGl0ZW1fbGlua19kaXYgPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWxpbmsiIHN0eWxlPSJmbG9hdDpsZWZ0O3dpZHRoOjYxOHB4OyI+PC9kaXY+Jyk7CiAgICAgICAgICAgIGxldCAkaXRlbV9maXJzdDsKICAgICAgICAgICAgaWYgKHBhcmFtcy50eXBlID09ICdiYXRjaEFyaWEnKSB7CiAgICAgICAgICAgICAgbGV0IGxpbmsgPSBhcmlhMmMoZWxlbWVudC5kb3dubG9hZGxpbmssIGVsZW1lbnQuZmlsZW5hbWUpOwogICAgICAgICAgICAgICRpdGVtX2ZpcnN0ID0gJCgnPGRpdiBjbGFzcz0iaXRlbS1maXJzdCIgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSJqYXZhc2N0aXB0OnZvaWQoMCkiIGNsYXNzPSJhcmlhMmMtbGluayIgYWx0PSLlj4zlh7vlpI3liLbpk77mjqXlnLDlnYAiPicgKyBsaW5rICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAkaXRlbV9maXJzdCA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZmlyc3QiIHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyI+PGEgaHJlZj0iJyArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJyI+JyArIGVsZW1lbnQuZG93bmxvYWRsaW5rICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgJGl0ZW1fbGlua19kaXYuYXBwZW5kKCRpdGVtX2ZpcnN0KTsKICAgICAgICAgICAgJC5lYWNoKHBhcmFtcy5hbGxsaXN0W2luZGV4XS5saW5rcywgZnVuY3Rpb24gKG4sIGl0ZW0pIHsKICAgICAgICAgICAgICBsZXQgJGl0ZW07CiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZG93bmxvYWRsaW5rID09IGl0ZW0udXJsKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnYmF0Y2hBcmlhJykgewogICAgICAgICAgICAgICAgbGV0IGxpbmsgPSBhcmlhMmMoaXRlbS51cmwsIGVsZW1lbnQuZmlsZW5hbWUpOwogICAgICAgICAgICAgICAgJGl0ZW0gPSAkKCc8ZGl2IGNsYXNzPSJpdGVtLWV4IiBzdHlsZT0iZGlzcGxheTpub25lO292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj48YSBocmVmPSJqYXZhc2N0aXB0OnZvaWQoMCkiIGNsYXNzPSJhcmlhMmMtbGluayIgYWx0PSLlj4zlh7vlpI3liLbpk77mjqXlnLDlnYAiPicgKyBsaW5rICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaXRlbS51cmwgPSByZXBsYWNlTGluayhpdGVtLnVybCk7CiAgICAgICAgICAgICAgICAkaXRlbSA9ICQoJzxkaXYgY2xhc3M9Iml0ZW0tZXgiIHN0eWxlPSJkaXNwbGF5Om5vbmU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiPjxhIGhyZWY9IicgKyBpdGVtLnVybCArICciPicgKyBpdGVtLnVybCArICc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAkaXRlbV9saW5rX2Rpdi5hcHBlbmQoJGl0ZW0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbGV0ICRpdGVtX2V4ID0gJCgnPGRpdiBzdHlsZT0id2lkdGg6MTVweDtmbG9hdDpsZWZ0O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyO2ZvbnQtc2l6ZToxNnB4Ij48c3Bhbj4rPC9zcGFuPjwvZGl2PicpOwogICAgICAgICAgICAkaXRlbV9kaXYuYXBwZW5kKCRpdGVtX25hbWUpLmFwcGVuZCgkaXRlbV9zZXApLmFwcGVuZCgkaXRlbV9saW5rX2RpdikuYXBwZW5kKCRpdGVtX2V4KTsKICAgICAgICAgICAgJGl0ZW1fZXguY2xpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGxldCAkcGFyZW50ID0gJCh0aGlzKS5wYXJlbnQoKTsKICAgICAgICAgICAgICAkcGFyZW50LnRvZ2dsZUNsYXNzKCdzaG93YWxsJyk7CiAgICAgICAgICAgICAgaWYgKCRwYXJlbnQuaGFzQ2xhc3MoJ3Nob3dhbGwnKSkgewogICAgICAgICAgICAgICAgJCh0aGlzKS50ZXh0KCctJyk7CiAgICAgICAgICAgICAgICAkKCdkaXYuaXRlbS1saW5rIGRpdi5pdGVtLWV4JywgJHBhcmVudCkuc2hvdygpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAkKHRoaXMpLnRleHQoJysnKTsKICAgICAgICAgICAgICAgICQoJ2Rpdi5pdGVtLWxpbmsgZGl2Lml0ZW0tZXgnLCAkcGFyZW50KS5oaWRlKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JywgZGlhbG9nKS5hcHBlbmQoJGl0ZW1fZGl2KTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkLmVhY2gocGFyYW1zLmxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgICBsZXQgJGRpdjsKICAgICAgICAgICAgaWYgKHBhcmFtcy50eXBlID09ICdiYXRjaEFyaWEnKSB7CiAgICAgICAgICAgICAgbGV0IGxpbmsgPSBhcmlhMmMoZWxlbWVudC5kb3dubG9hZGxpbmssIGVsZW1lbnQuZmlsZW5hbWUpOwogICAgICAgICAgICAgICRkaXYgPSAkKCc8ZGl2IHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXAiPjxkaXYgc3R5bGU9IndpZHRoOjEwMHB4O2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiIHRpdGxlPSInICsgZWxlbWVudC5maWxlbmFtZSArICciPicgKyBlbGVtZW50LmZpbGVuYW1lICsgJzwvZGl2PjxzcGFuPu+8mjwvc3Bhbj48YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJhcmlhMmMtbGluayI+JyArIGxpbmsgKyAnPC9hPjwvZGl2PicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICRkaXYgPSAkKCc8ZGl2IHN0eWxlPSJvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpczt3aGl0ZS1zcGFjZTpub3dyYXAiPjxkaXYgc3R5bGU9IndpZHRoOjEwMHB4O2Zsb2F0OmxlZnQ7b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXMiIHRpdGxlPSInICsgZWxlbWVudC5maWxlbmFtZSArICciPicgKyBlbGVtZW50LmZpbGVuYW1lICsgJzwvZGl2PjxzcGFuPu+8mjwvc3Bhbj48YSBocmVmPSInICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnIj4nICsgZWxlbWVudC5kb3dubG9hZGxpbmsgKyAnPC9hPjwvZGl2PicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsIGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnc2hhcmVMaW5rJykgewogICAgICAgIGxpbmtMaXN0ID0gcGFyYW1zLmxpc3Q7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1oZWFkZXIgaDMgc3Bhbi5kaWFsb2ctdGl0bGUnLCBkaWFsb2cpLnRleHQocGFyYW1zLnRpdGxlKTsKICAgICAgICAkLmVhY2gocGFyYW1zLmxpc3QsIGZ1bmN0aW9uIChpbmRleCwgZWxlbWVudCkgewogICAgICAgICAgZWxlbWVudC5kbGluayA9IHJlcGxhY2VMaW5rKGVsZW1lbnQuZGxpbmspOwogICAgICAgICAgY29uc29sZS5sb2coZWxlbWVudC5kbGluayk7CiAgICAgICAgICBpZiAoZWxlbWVudC5pc2RpciA9PSAxKSByZXR1cm47CiAgICAgICAgICBsZXQgJGRpdiA9ICQoJzxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIgdGl0bGU9IicgKyBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSArICciPicgKyBlbGVtZW50LnNlcnZlcl9maWxlbmFtZSArICc8L2Rpdj48c3Bhbj7vvJo8L3NwYW4+PGEgaHJlZj0iJyArIGVsZW1lbnQuZGxpbmsgKyAnIj4nICsgZWxlbWVudC5kbGluayArICc8L2E+PC9kaXY+Jyk7CiAgICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLCBkaWFsb2cpLmFwcGVuZCgkZGl2KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgaWYgKHBhcmFtcy50eXBlID09ICdoaWdoTGluaycpIHsKICAgICAgICBsZXQgbGluayA9IHBhcmFtcy5saXN0OwogICAgICAgIGxpbmsgPSByZXBsYWNlTGluayhsaW5rKTsKICAgICAgICAkKCdkaXYuZGlhbG9nLWhlYWRlciBoMyBzcGFuLmRpYWxvZy10aXRsZScsIGRpYWxvZykudGV4dChwYXJhbXMudGl0bGUpOwogICAgICAgIGxldCAkZGl2ID0gJCgnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIj7mma7pgJrpk77mjqU8L2Rpdj48c3Bhbj7vvJo8L3NwYW4+PGEgaHJlZj0iJyArIGxpbmsgKyAnIj4nICsgbGluayArICc8L2E+PC9kaXY+Jyk7CiAgICAgICAgbGV0IGFpcmFMaW5rID0gYGFyaWEyYyAiJHtsaW5rfSIgLS1oZWFkZXIgIlVzZXItQWdlbnQ6ICR7dXNlckFnZW50fSJgOwogICAgICAgIGxldCAkZGl2MiA9ICQoJzxkaXYgc3R5bGU9Im92ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO3doaXRlLXNwYWNlOm5vd3JhcCI+PGRpdiBzdHlsZT0id2lkdGg6MTAwcHg7ZmxvYXQ6bGVmdDtvdmVyZmxvdzpoaWRkZW47dGV4dC1vdmVyZmxvdzplbGxpcHNpcyIiPkFyaWHpk77mjqU8L2Rpdj48c3Bhbj7vvJo8L3NwYW4+PGEgaHJlZj0iamF2YXNjdGlwdDp2b2lkKDApIiBjbGFzcz0iYXJpYTJjLWxpbmsiPicgKyBhaXJhTGluayArICc8L2E+PC9kaXY+Jyk7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1ib2R5JywgZGlhbG9nKS5hcHBlbmQoJGRpdikuYXBwZW5kKCRkaXYyKTsKICAgICAgfQoKCiAgICAgIGlmIChwYXJhbXMudHlwZSA9PSAnc2hhcmVBcmlhTGluaycpIHsKICAgICAgICBsaW5rTGlzdCA9IHBhcmFtcy5saXN0OwogICAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJywgZGlhbG9nKS50ZXh0KHBhcmFtcy50aXRsZSk7CiAgICAgICAgJC5lYWNoKHBhcmFtcy5saXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgIGlmIChlbGVtZW50LmlzZGlyID09IDEpIHJldHVybjsKICAgICAgICAgIGxldCBsaW5rID0gYXJpYTJjKGVsZW1lbnQuZGxpbmssIGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lKTsKICAgICAgICAgIGxldCAkZGl2ID0gJCgnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7d2hpdGUtc3BhY2U6bm93cmFwIj48ZGl2IHN0eWxlPSJ3aWR0aDoxMDBweDtmbG9hdDpsZWZ0O292ZXJmbG93OmhpZGRlbjt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzIiB0aXRsZT0iJyArIGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lICsgJyI+JyArIGVsZW1lbnQuc2VydmVyX2ZpbGVuYW1lICsgJzwvZGl2PjxzcGFuPu+8mjwvc3Bhbj48YSBocmVmPSJqYXZhc2N0aXB0OnZvaWQoMCkiIGNsYXNzPSJhcmlhMmMtbGluayIgYWx0PSLlj4zlh7vlpI3liLbpk77mjqXlnLDlnYAiPicgKyBsaW5rICsgJzwvYT48L2Rpdj4nKTsKICAgICAgICAgICQoJ2Rpdi5kaWFsb2ctYm9keScsIGRpYWxvZykuYXBwZW5kKCRkaXYpOwogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAocGFyYW1zLnRpcCkgewogICAgICAgICQoJ2Rpdi5kaWFsb2ctdGlwIHAnLCBkaWFsb2cpLmh0bWwocGFyYW1zLnRpcCk7CiAgICAgIH0KCiAgICAgIGlmIChwYXJhbXMuc2hvd2NvcHkpIHsKICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbicsIGRpYWxvZykuc2hvdygpOwogICAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctY29weS1idXR0b24nLCBkaWFsb2cpLnNob3coKTsKICAgICAgfQogICAgICBpZiAocGFyYW1zLnNob3dlZGl0KSB7CiAgICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24nLCBkaWFsb2cpLnNob3coKTsKICAgICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWVkaXQtYnV0dG9uJywgZGlhbG9nKS5zaG93KCk7CiAgICAgICAgbGV0ICRkaWFsb2dfdGV4dGFyZWEgPSAkKCc8dGV4dGFyZWEgbmFtZT0iZGlhbG9nLXRleHRhcmVhIiBzdHlsZT0iZGlzcGxheTpub25lO3Jlc2l6ZTpub25lO3dpZHRoOjc1OHB4O2hlaWdodDozMDBweDt3aGl0ZS1zcGFjZTpwcmU7d29yZC13cmFwOm5vcm1hbDtvdmVyZmxvdy14OnNjcm9sbCI+PC90ZXh0YXJlYT4nKTsKICAgICAgICBsZXQgY29udGVudCA9ICcnOwogICAgICAgIGlmIChzaG93UGFyYW1zLnR5cGUgPT0gJ2JhdGNoJykgewogICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgaWYgKGVsZW1lbnQuZG93bmxvYWRsaW5rID09ICdlcnJvcicpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQuZG93bmxvYWRsaW5rOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LmRvd25sb2FkbGluayArICdcclxuJzsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSBpZiAoc2hvd1BhcmFtcy50eXBlID09ICdsaW5rJykgewogICAgICAgICAgJC5lYWNoKGxpbmtMaXN0LCBmdW5jdGlvbiAoaW5kZXgsIGVsZW1lbnQpIHsKICAgICAgICAgICAgaWYgKGVsZW1lbnQudXJsID09ICdlcnJvcicpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoaW5kZXggPT0gbGlua0xpc3QubGVuZ3RoIC0gMSkKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudCArIGVsZW1lbnQudXJsOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBlbGVtZW50LnVybCArICdcclxuJzsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICAkZGlhbG9nX3RleHRhcmVhLnZhbChjb250ZW50KTsKICAgICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLCBkaWFsb2cpLmFwcGVuZCgkZGlhbG9nX3RleHRhcmVhKTsKICAgICAgfQoKICAgICAgc2hhZG93LnNob3coKTsKICAgICAgZGlhbG9nLnNob3coKTsKICAgIH07CgogICAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgZGlhbG9nQ29udHJvbCgpOwogICAgfTsKCiAgICBmdW5jdGlvbiBkaWFsb2dDb250cm9sKCkgewogICAgICAkKCdkaXYuZGlhbG9nLWJvZHknLCBkaWFsb2cpLmNoaWxkcmVuKCkucmVtb3ZlKCk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctaGVhZGVyIGgzIHNwYW4uZGlhbG9nLXRpdGxlJywgZGlhbG9nKS50ZXh0KCcnKTsKICAgICAgJCgnZGl2LmRpYWxvZy10aXAgcCcsIGRpYWxvZykudGV4dCgnJyk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uJywgZGlhbG9nKS5oaWRlKCk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctcmFkaW8gaW5wdXRbdHlwZT1yYWRpb11bbmFtZT1zaG93bW9kZV1bdmFsdWU9bXVsdGldJywgZGlhbG9nKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctcmFkaW8nLCBkaWFsb2cpLmhpZGUoKTsKICAgICAgJCgnZGl2LmRpYWxvZy1idXR0b24gYnV0dG9uI2RpYWxvZy1jb3B5LWJ1dHRvbicsIGRpYWxvZykuaGlkZSgpOwogICAgICAkKCdkaXYuZGlhbG9nLWJ1dHRvbiBidXR0b24jZGlhbG9nLWVkaXQtYnV0dG9uJywgZGlhbG9nKS5oaWRlKCk7CiAgICAgICQoJ2Rpdi5kaWFsb2ctYnV0dG9uIGJ1dHRvbiNkaWFsb2ctZXhpdC1idXR0b24nLCBkaWFsb2cpLmhpZGUoKTsKICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgc2hhZG93LmhpZGUoKTsKICAgIH0KCiAgICBkaWFsb2cgPSBjcmVhdGVEaWFsb2coKTsKICAgIHNoYWRvdyA9IGNyZWF0ZVNoYWRvdygpOwogIH0KCiAgZnVuY3Rpb24gVkNvZGVEaWFsb2cocmVmcmVzaFZDb2RlLCBjb25maXJtQ2xpY2spIHsKICAgIGxldCBkaWFsb2csIHNoYWRvdzsKCiAgICBmdW5jdGlvbiBjcmVhdGVEaWFsb2coKSB7CiAgICAgIGxldCBzY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgIGxldCBkaWFsb2dMZWZ0ID0gc2NyZWVuV2lkdGggPiA1MjAgPyAoc2NyZWVuV2lkdGggLSA1MjApIC8gMiA6IDA7CiAgICAgIGxldCAkZGlhbG9nX2RpdiA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZyIgaWQ9ImRpYWxvZy12Y29kZSIgc3R5bGU9IndpZHRoOjUyMHB4O3RvcDowcHg7Ym90dG9tOmF1dG87bGVmdDonICsgZGlhbG9nTGVmdCArICdweDtyaWdodDphdXRvO2Rpc3BsYXk6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ei1pbmRleDo1MiI+PC9kaXY+Jyk7CiAgICAgIGxldCAkZGlhbG9nX2hlYWRlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1oZWFkZXIiPjxoMz48c3BhbiBjbGFzcz0iZGlhbG9nLWhlYWRlci10aXRsZSI+PGVtIGNsYXNzPSJzZWxlY3QtdGV4dCI+5o+Q56S6PC9lbT48L3NwYW4+PC9oMz48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfY29udHJvbCA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1jb250cm9sIj48c3BhbiBjbGFzcz0iZGlhbG9nLWljb24gZGlhbG9nLWNsb3NlIGljb24gaWNvbi1jbG9zZSI+PHNwYW4gY2xhc3M9InNpY29uIj54PC9zcGFuPjwvc3Bhbj48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfYm9keSA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1ib2R5Ij48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfYm9keV9kaXYgPSAkKCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOmNlbnRlcjtwYWRkaW5nOjIycHgiPjwvZGl2PicpOwogICAgICBsZXQgJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeSA9ICQoJzxkaXYgY2xhc3M9ImRvd25sb2FkLXZlcmlmeSIgc3R5bGU9Im1hcmdpbi10b3A6MTBweDtwYWRkaW5nOjAgMjhweDt0ZXh0LWFsaWduOmxlZnQ7Zm9udC1zaXplOjEycHg7Ij48L2Rpdj4nKTsKICAgICAgbGV0ICRkaWFsb2dfdmVyaWZ5X2JvZHkgPSAkKCc8ZGl2IGNsYXNzPSJ2ZXJpZnktYm9keSI+6K+36L6T5YWl6aqM6K+B56CB77yaPC9kaXY+Jyk7CiAgICAgIGxldCAkZGlhbG9nX2lucHV0ID0gJCgnPGlucHV0IGlkPSJkaWFsb2ctaW5wdXQiIHR5cGU9InRleHQiIHN0eWxlPSJwYWRkaW5nOjNweDt3aWR0aDo4NXB4O2hlaWdodDoyM3B4O2JvcmRlcjoxcHggc29saWQgI2M2YzZjNjtiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIGNsYXNzPSJpbnB1dC1jb2RlIiBtYXhsZW5ndGg9IjQiPicpOwogICAgICBsZXQgJGRpYWxvZ19pbWcgPSAkKCc8aW1nIGlkPSJkaWFsb2ctaW1nIiBjbGFzcz0iaW1nLWNvZGUiIHN0eWxlPSJtYXJnaW4tbGVmdDoxMHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTsiIGFsdD0i54K55Ye75o2i5LiA5bygIiBzcmM9IiIgd2lkdGg9IjEwMCIgaGVpZ2h0PSIzMCI+Jyk7CiAgICAgIGxldCAkZGlhbG9nX3JlZnJlc2ggPSAkKCc8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJ0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lOyIgY2xhc3M9InVuZGVybGluZSI+5o2i5LiA5bygPC9hPicpOwogICAgICBsZXQgJGRpYWxvZ19lcnIgPSAkKCc8ZGl2IGlkPSJkaWFsb2ctZXJyIiBzdHlsZT0icGFkZGluZy1sZWZ0Ojg0cHg7aGVpZ2h0OjE4cHg7Y29sb3I6I2Q4MDAwMCIgY2xhc3M9InZlcmlmeS1lcnJvciI+PC9kaXY+Jyk7CiAgICAgIGxldCAkZGlhbG9nX2Zvb3RlciA9ICQoJzxkaXYgY2xhc3M9ImRpYWxvZy1mb290ZXIgZy1jbGVhcmZpeCI+PC9kaXY+Jyk7CiAgICAgIGxldCAkZGlhbG9nX2NvbmZpcm1fYnV0dG9uID0gJCgnPGEgY2xhc3M9ImctYnV0dG9uIGctYnV0dG9uLWJsdWUiIGRhdGEtYnV0dG9uLWlkPSIiIGRhdGEtYnV0dG9uLWluZGV4IGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9InBhZGRpbmctbGVmdDozNnB4Ij48c3BhbiBjbGFzcz0iZy1idXR0b24tcmlnaHQiIHN0eWxlPSJwYWRkaW5nLXJpZ2h0OjM2cHg7Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOmF1dG87Ij7noa7lrpo8L3NwYW4+PC9zcGFuPjwvYT4nKTsKICAgICAgbGV0ICRkaWFsb2dfY2FuY2VsX2J1dHRvbiA9ICQoJzxhIGNsYXNzPSJnLWJ1dHRvbiIgZGF0YS1idXR0b24taWQ9IiIgZGF0YS1idXR0b24taW5kZXggaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgc3R5bGU9InBhZGRpbmctbGVmdDogMzZweDsiPjxzcGFuIGNsYXNzPSJnLWJ1dHRvbi1yaWdodCIgc3R5bGU9InBhZGRpbmctcmlnaHQ6IDM2cHg7Ij48c3BhbiBjbGFzcz0idGV4dCIgc3R5bGU9IndpZHRoOiBhdXRvOyI+5Y+W5raIPC9zcGFuPjwvc3Bhbj48L2E+Jyk7CgogICAgICAkZGlhbG9nX2hlYWRlci5hcHBlbmQoJGRpYWxvZ19jb250cm9sKTsKICAgICAgJGRpYWxvZ192ZXJpZnlfYm9keS5hcHBlbmQoJGRpYWxvZ19pbnB1dCkuYXBwZW5kKCRkaWFsb2dfaW1nKS5hcHBlbmQoJGRpYWxvZ19yZWZyZXNoKTsKICAgICAgJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeS5hcHBlbmQoJGRpYWxvZ192ZXJpZnlfYm9keSkuYXBwZW5kKCRkaWFsb2dfZXJyKTsKICAgICAgJGRpYWxvZ19ib2R5X2Rpdi5hcHBlbmQoJGRpYWxvZ19ib2R5X2Rvd25sb2FkX3ZlcmlmeSk7CiAgICAgICRkaWFsb2dfYm9keS5hcHBlbmQoJGRpYWxvZ19ib2R5X2Rpdik7CiAgICAgICRkaWFsb2dfZm9vdGVyLmFwcGVuZCgkZGlhbG9nX2NvbmZpcm1fYnV0dG9uKS5hcHBlbmQoJGRpYWxvZ19jYW5jZWxfYnV0dG9uKTsKICAgICAgJGRpYWxvZ19kaXYuYXBwZW5kKCRkaWFsb2dfaGVhZGVyKS5hcHBlbmQoJGRpYWxvZ19ib2R5KS5hcHBlbmQoJGRpYWxvZ19mb290ZXIpOwogICAgICAkKCdib2R5JykuYXBwZW5kKCRkaWFsb2dfZGl2KTsKCiAgICAgICRkaWFsb2dfY29udHJvbC5jbGljayhkaWFsb2dDb250cm9sKTsKICAgICAgJGRpYWxvZ19pbWcuY2xpY2socmVmcmVzaFZDb2RlKTsKICAgICAgJGRpYWxvZ19yZWZyZXNoLmNsaWNrKHJlZnJlc2hWQ29kZSk7CiAgICAgICRkaWFsb2dfaW5wdXQua2V5cHJlc3MoZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgaWYgKGV2ZW50LndoaWNoID09IDEzKQogICAgICAgICAgY29uZmlybUNsaWNrKCk7CiAgICAgIH0pOwogICAgICAkZGlhbG9nX2NvbmZpcm1fYnV0dG9uLmNsaWNrKGNvbmZpcm1DbGljayk7CiAgICAgICRkaWFsb2dfY2FuY2VsX2J1dHRvbi5jbGljayhkaWFsb2dDb250cm9sKTsKICAgICAgJGRpYWxvZ19pbnB1dC5jbGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgJCgnI2RpYWxvZy1lcnInKS50ZXh0KCcnKTsKICAgICAgfSk7CiAgICAgIHJldHVybiAkZGlhbG9nX2RpdjsKICAgIH0KCiAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbiAodmNvZGUpIHsKICAgICAgaWYgKHZjb2RlKQogICAgICAgICQoJyNkaWFsb2ctaW1nJykuYXR0cignc3JjJywgdmNvZGUuaW1nKTsKICAgICAgZGlhbG9nLnNob3coKTsKICAgICAgc2hhZG93LnNob3coKTsKICAgIH07CiAgICB0aGlzLmNsb3NlID0gZnVuY3Rpb24gKCkgewogICAgICBkaWFsb2dDb250cm9sKCk7CiAgICB9OwogICAgZGlhbG9nID0gY3JlYXRlRGlhbG9nKCk7CiAgICBzaGFkb3cgPSAkKCdkaXYuZGlhbG9nLXNoYWRvdycpOwoKICAgIGZ1bmN0aW9uIGRpYWxvZ0NvbnRyb2woKSB7CiAgICAgICQoJyNkaWFsb2ctaW1nJywgZGlhbG9nKS5hdHRyKCdzcmMnLCAnJyk7CiAgICAgICQoJyNkaWFsb2ctZXJyJykudGV4dCgnJyk7CiAgICAgIGRpYWxvZy5oaWRlKCk7CiAgICAgIHNoYWRvdy5oaWRlKCk7CiAgICB9CiAgfQoKICAoZnVuY3Rpb24gKCkgewogICAgbGV0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgc2NyaXB0LnR5cGUgPSAidGV4dC9qYXZhc2NyaXB0IjsKICAgIHNjcmlwdC5zcmMgPSAiaHR0cHM6Ly9qcy51c2Vycy41MS5sYS8xOTk4ODExNy5qcyI7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKHNjcmlwdCk7CgogICAgLy/op6PlhrNodHRwc+aXoOazleWKoOi9vWh0dHDotYTmupDnmoTpl67popgKICAgIGxldCBvTWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKTsKICAgIG9NZXRhLmh0dHBFcXVpdiA9ICdDb250ZW50LVNlY3VyaXR5LVBvbGljeSc7CiAgICBvTWV0YS5jb250ZW50ID0gJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChvTWV0YSk7CiAgfSkoKTsKCiAgJChmdW5jdGlvbiAoKSB7CiAgICBjbGFzc01hcFsnZGVmYXVsdC1kb20nXSA9ICgkKCcuaWNvbi11cGxvYWQnKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycpKTsKICAgIGNsYXNzTWFwWydiYXInXSA9ICgkKCcuaWNvbi11cGxvYWQnKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hdHRyKCdjbGFzcycpKTsKICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICBsZXQgdG9wYmFyID0gJCgnLicgKyBjbGFzc01hcFsnaGVhZGVyJ10pOwogICAgICBsZXQgdG9wdGVtcCA9ICQoJzxzcGFuIGNsYXNzPSJjTUVNRUYiIG5vZGUtdHlwZT0iaGVscC1hdXRob3IiPjxhIGhyZWY9Imh0dHBzOi8vd3d3LmJhaWR1eXVuLndpa2kiIHN0eWxlPSJjb2xvcjogI2RkZCIgdGFyZ2V0PSJfYmxhbmsiPuWKqeaJi+S9v+eUqOaVmeeoizwvYT48L3NwYW4+Jyk7CiAgICAgIHRvcGJhci5hcHBlbmQodG9wdGVtcCk7CiAgICB9LCA1MDAwKTsKICAgIHN3aXRjaCAoZGV0ZWN0UGFnZSgpKSB7CiAgICAgIGNhc2UgJ2Rpc2snOgogICAgICAgIGxldCBwYW5IZWxwZXIgPSBuZXcgUGFuSGVscGVyKCk7CiAgICAgICAgcGFuSGVscGVyLmluaXQoKTsKICAgICAgICByZXR1cm47CiAgICAgIGNhc2UgJ3NoYXJlJzoKICAgICAgY2FzZSAncyc6CiAgICAgICAgbGV0IHBhblNoYXJlSGVscGVyID0gbmV3IFBhblNoYXJlSGVscGVyKCk7CiAgICAgICAgcGFuU2hhcmVIZWxwZXIuaW5pdCgpOwogICAgICAgIHJldHVybjsKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm47CiAgICB9CiAgfSk7Cn0pKCk7Cg==","requires":[{"meta":{"name":"jquery.min.js","url":"https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js","ts":1581084579098,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="},{"meta":{"name":"sweetalert.min.js","url":"https://cdn.bootcss.com/sweetalert/2.1.2/sweetalert.min.js","ts":1581084579127,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuc3dhbD1lKCk6dC5zd2FsPWUoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBlKG8pe2lmKG5bb10pcmV0dXJuIG5bb10uZXhwb3J0czt2YXIgcj1uW29dPXtpOm8sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdFtvXS5jYWxsKHIuZXhwb3J0cyxyLHIuZXhwb3J0cyxlKSxyLmw9ITAsci5leHBvcnRzfXZhciBuPXt9O3JldHVybiBlLm09dCxlLmM9bixlLmQ9ZnVuY3Rpb24odCxuLG8pe2Uubyh0LG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6b30pfSxlLm49ZnVuY3Rpb24odCl7dmFyIG49dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChuLCJhIixuKSxufSxlLm89ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsZSl9LGUucD0iIixlKGUucz04KX0oW2Z1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPSJzd2FsLWJ1dHRvbiI7ZS5DTEFTU19OQU1FUz17TU9EQUw6InN3YWwtbW9kYWwiLE9WRVJMQVk6InN3YWwtb3ZlcmxheSIsU0hPV19NT0RBTDoic3dhbC1vdmVybGF5LS1zaG93LW1vZGFsIixNT0RBTF9USVRMRToic3dhbC10aXRsZSIsTU9EQUxfVEVYVDoic3dhbC10ZXh0IixJQ09OOiJzd2FsLWljb24iLElDT05fQ1VTVE9NOiJzd2FsLWljb24tLWN1c3RvbSIsQ09OVEVOVDoic3dhbC1jb250ZW50IixGT09URVI6InN3YWwtZm9vdGVyIixCVVRUT05fQ09OVEFJTkVSOiJzd2FsLWJ1dHRvbi1jb250YWluZXIiLEJVVFRPTjpvLENPTkZJUk1fQlVUVE9OOm8rIi0tY29uZmlybSIsQ0FOQ0VMX0JVVFRPTjpvKyItLWNhbmNlbCIsREFOR0VSX0JVVFRPTjpvKyItLWRhbmdlciIsQlVUVE9OX0xPQURJTkc6bysiLS1sb2FkaW5nIixCVVRUT05fTE9BREVSOm8rIl9fbG9hZGVyIn0sZS5kZWZhdWx0PWUuQ0xBU1NfTkFNRVN9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZ2V0Tm9kZT1mdW5jdGlvbih0KXt2YXIgZT0iLiIrdDtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sZS5zdHJpbmdUb05vZGU9ZnVuY3Rpb24odCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIGUuaW5uZXJIVE1MPXQudHJpbSgpLGUuZmlyc3RDaGlsZH0sZS5pbnNlcnRBZnRlcj1mdW5jdGlvbih0LGUpe3ZhciBuPWUubmV4dFNpYmxpbmc7ZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LG4pfSxlLnJlbW92ZU5vZGU9ZnVuY3Rpb24odCl7dC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHQpfSxlLnRocm93RXJyPWZ1bmN0aW9uKHQpe3Rocm93IHQ9dC5yZXBsYWNlKC8gKyg/PSApL2csIiIpLCJTd2VldEFsZXJ0OiAiKyh0PXQudHJpbSgpKX0sZS5pc1BsYWluT2JqZWN0PWZ1bmN0aW9uKHQpe2lmKCJbb2JqZWN0IE9iamVjdF0iIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiExO3ZhciBlPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gbnVsbD09PWV8fGU9PT1PYmplY3QucHJvdG90eXBlfSxlLm9yZGluYWxTdWZmaXhPZj1mdW5jdGlvbih0KXt2YXIgZT10JTEwLG49dCUxMDA7cmV0dXJuIDE9PT1lJiYxMSE9PW4/dCsic3QiOjI9PT1lJiYxMiE9PW4/dCsibmQiOjM9PT1lJiYxMyE9PW4/dCsicmQiOnQrInRoIn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyh0KXtmb3IodmFyIG4gaW4gdCllLmhhc093blByb3BlcnR5KG4pfHwoZVtuXT10W25dKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbyhuKDI1KSk7dmFyIHI9bigyNik7ZS5vdmVybGF5TWFya3VwPXIuZGVmYXVsdCxvKG4oMjcpKSxvKG4oMjgpKSxvKG4oMjkpKTt2YXIgaT1uKDApLGE9aS5kZWZhdWx0Lk1PREFMX1RJVExFLHM9aS5kZWZhdWx0Lk1PREFMX1RFWFQsYz1pLmRlZmF1bHQuSUNPTixsPWkuZGVmYXVsdC5GT09URVI7ZS5pY29uTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytjKyciPjwvZGl2PicsZS50aXRsZU1hcmt1cD0nXG4gIDxkaXYgY2xhc3M9IicrYSsnIj48L2Rpdj5cbicsZS50ZXh0TWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytzKyciPjwvZGl2PicsZS5mb290ZXJNYXJrdXA9J1xuICA8ZGl2IGNsYXNzPSInK2wrJyI+PC9kaXY+XG4nfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpO2UuQ09ORklSTV9LRVk9ImNvbmZpcm0iLGUuQ0FOQ0VMX0tFWT0iY2FuY2VsIjt2YXIgcj17dmlzaWJsZTohMCx0ZXh0Om51bGwsdmFsdWU6bnVsbCxjbGFzc05hbWU6IiIsY2xvc2VNb2RhbDohMH0saT1PYmplY3QuYXNzaWduKHt9LHIse3Zpc2libGU6ITEsdGV4dDoiQ2FuY2VsIix2YWx1ZTpudWxsfSksYT1PYmplY3QuYXNzaWduKHt9LHIse3RleHQ6Ik9LIix2YWx1ZTohMH0pO2UuZGVmYXVsdEJ1dHRvbkxpc3Q9e2NhbmNlbDppLGNvbmZpcm06YX07dmFyIHM9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UgZS5DT05GSVJNX0tFWTpyZXR1cm4gYTtjYXNlIGUuQ0FOQ0VMX0tFWTpyZXR1cm4gaTtkZWZhdWx0OnZhciBuPXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxyLHt0ZXh0Om4sdmFsdWU6dH0pfX0sYz1mdW5jdGlvbih0LGUpe3ZhciBuPXModCk7cmV0dXJuITA9PT1lP09iamVjdC5hc3NpZ24oe30sbix7dmlzaWJsZTohMH0pOiJzdHJpbmciPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LG4se3Zpc2libGU6ITAsdGV4dDplfSk6by5pc1BsYWluT2JqZWN0KGUpP09iamVjdC5hc3NpZ24oe3Zpc2libGU6ITB9LG4sZSk6T2JqZWN0LmFzc2lnbih7fSxuLHt2aXNpYmxlOiExfSl9LGw9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXt9LG49MCxvPU9iamVjdC5rZXlzKHQpO248by5sZW5ndGg7bisrKXt2YXIgcj1vW25dLGE9dFtyXSxzPWMocixhKTtlW3JdPXN9cmV0dXJuIGUuY2FuY2VsfHwoZS5jYW5jZWw9aSksZX0sdT1mdW5jdGlvbih0KXt2YXIgbj17fTtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMTpuW2UuQ0FOQ0VMX0tFWV09T2JqZWN0LmFzc2lnbih7fSxpLHt2aXNpYmxlOiExfSk7YnJlYWs7Y2FzZSAyOm5bZS5DQU5DRUxfS0VZXT1jKGUuQ0FOQ0VMX0tFWSx0WzBdKSxuW2UuQ09ORklSTV9LRVldPWMoZS5DT05GSVJNX0tFWSx0WzFdKTticmVhaztkZWZhdWx0Om8udGhyb3dFcnIoIkludmFsaWQgbnVtYmVyIG9mICdidXR0b25zJyBpbiBhcnJheSAoIit0Lmxlbmd0aCsiKS5cbiAgICAgIElmIHlvdSB3YW50IG1vcmUgdGhhbiAyIGJ1dHRvbnMsIHlvdSBuZWVkIHRvIHVzZSBhbiBvYmplY3QhIil9cmV0dXJuIG59O2UuZ2V0QnV0dG9uTGlzdE9wdHM9ZnVuY3Rpb24odCl7dmFyIG49ZS5kZWZhdWx0QnV0dG9uTGlzdDtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHQ/bltlLkNPTkZJUk1fS0VZXT1jKGUuQ09ORklSTV9LRVksdCk6QXJyYXkuaXNBcnJheSh0KT9uPXUodCk6by5pc1BsYWluT2JqZWN0KHQpP249bCh0KTohMD09PXQ/bj11KFshMCwhMF0pOiExPT09dD9uPXUoWyExLCExXSk6dm9pZCAwPT09dCYmKG49ZS5kZWZhdWx0QnV0dG9uTGlzdCksbn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDIpLGk9bigwKSxhPWkuZGVmYXVsdC5NT0RBTCxzPWkuZGVmYXVsdC5PVkVSTEFZLGM9bigzMCksbD1uKDMxKSx1PW4oMzIpLGY9bigzMyk7ZS5pbmplY3RFbEludG9Nb2RhbD1mdW5jdGlvbih0KXt2YXIgZT1vLmdldE5vZGUoYSksbj1vLnN0cmluZ1RvTm9kZSh0KTtyZXR1cm4gZS5hcHBlbmRDaGlsZChuKSxufTt2YXIgZD1mdW5jdGlvbih0KXt0LmNsYXNzTmFtZT1hLHQudGV4dENvbnRlbnQ9IiJ9LHA9ZnVuY3Rpb24odCxlKXtkKHQpO3ZhciBuPWUuY2xhc3NOYW1lO24mJnQuY2xhc3NMaXN0LmFkZChuKX07ZS5pbml0TW9kYWxDb250ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPW8uZ2V0Tm9kZShhKTtwKGUsdCksYy5kZWZhdWx0KHQuaWNvbiksbC5pbml0VGl0bGUodC50aXRsZSksbC5pbml0VGV4dCh0LnRleHQpLGYuZGVmYXVsdCh0LmNvbnRlbnQpLHUuZGVmYXVsdCh0LmJ1dHRvbnMsdC5kYW5nZXJNb2RlKX07dmFyIG09ZnVuY3Rpb24oKXt2YXIgdD1vLmdldE5vZGUocyksZT1vLnN0cmluZ1RvTm9kZShyLm1vZGFsTWFya3VwKTt0LmFwcGVuZENoaWxkKGUpfTtlLmRlZmF1bHQ9bX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigzKSxyPXtpc09wZW46ITEscHJvbWlzZTpudWxsLGFjdGlvbnM6e30sdGltZXI6bnVsbH0saT1PYmplY3QuYXNzaWduKHt9LHIpO2UucmVzZXRTdGF0ZT1mdW5jdGlvbigpe2k9T2JqZWN0LmFzc2lnbih7fSxyKX0sZS5zZXRBY3Rpb25WYWx1ZT1mdW5jdGlvbih0KXtpZigic3RyaW5nIj09dHlwZW9mIHQpcmV0dXJuIGEoby5DT05GSVJNX0tFWSx0KTtmb3IodmFyIGUgaW4gdClhKGUsdFtlXSl9O3ZhciBhPWZ1bmN0aW9uKHQsZSl7aS5hY3Rpb25zW3RdfHwoaS5hY3Rpb25zW3RdPXt9KSxPYmplY3QuYXNzaWduKGkuYWN0aW9uc1t0XSx7dmFsdWU6ZX0pfTtlLnNldEFjdGlvbk9wdGlvbnNGb3I9ZnVuY3Rpb24odCxlKXt2YXIgbj0odm9pZCAwPT09ZT97fTplKS5jbG9zZU1vZGFsLG89dm9pZCAwPT09bnx8bjtPYmplY3QuYXNzaWduKGkuYWN0aW9uc1t0XSx7Y2xvc2VNb2RhbDpvfSl9LGUuZGVmYXVsdD1pfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigzKSxpPW4oMCksYT1pLmRlZmF1bHQuT1ZFUkxBWSxzPWkuZGVmYXVsdC5TSE9XX01PREFMLGM9aS5kZWZhdWx0LkJVVFRPTixsPWkuZGVmYXVsdC5CVVRUT05fTE9BRElORyx1PW4oNSk7ZS5vcGVuTW9kYWw9ZnVuY3Rpb24oKXtvLmdldE5vZGUoYSkuY2xhc3NMaXN0LmFkZChzKSx1LmRlZmF1bHQuaXNPcGVuPSEwfTt2YXIgZj1mdW5jdGlvbigpe28uZ2V0Tm9kZShhKS5jbGFzc0xpc3QucmVtb3ZlKHMpLHUuZGVmYXVsdC5pc09wZW49ITF9O2Uub25BY3Rpb249ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ci5DQU5DRUxfS0VZKTt2YXIgZT11LmRlZmF1bHQuYWN0aW9uc1t0XSxuPWUudmFsdWU7aWYoITE9PT1lLmNsb3NlTW9kYWwpe3ZhciBpPWMrIi0tIit0O28uZ2V0Tm9kZShpKS5jbGFzc0xpc3QuYWRkKGwpfWVsc2UgZigpO3UuZGVmYXVsdC5wcm9taXNlLnJlc29sdmUobil9LGUuZ2V0U3RhdGU9ZnVuY3Rpb24oKXt2YXIgdD1PYmplY3QuYXNzaWduKHt9LHUuZGVmYXVsdCk7cmV0dXJuIGRlbGV0ZSB0LnByb21pc2UsZGVsZXRlIHQudGltZXIsdH0sZS5zdG9wTG9hZGluZz1mdW5jdGlvbigpe2Zvcih2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIitjKSxlPTA7ZTx0Lmxlbmd0aDtlKyspe3RbZV0uY2xhc3NMaXN0LnJlbW92ZShsKX19fSxmdW5jdGlvbih0LGUpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKHQpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfXQuZXhwb3J0cz1ufSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpe3QuZXhwb3J0cz1lLnN3ZWV0QWxlcnQ9big5KX0pLmNhbGwoZSxuKDcpKX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbihlKXt0LmV4cG9ydHM9ZS5zd2FsPW4oMTApfSkuY2FsbChlLG4oNykpfSxmdW5jdGlvbih0LGUsbil7InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJm4oMTEpLG4oMTYpO3ZhciBvPW4oMjMpLmRlZmF1bHQ7dC5leHBvcnRzPW99LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDEyKTsic3RyaW5nIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sIiJdXSk7dmFyIHI9e2luc2VydEF0OiJ0b3AifTtyLnRyYW5zZm9ybT12b2lkIDA7bigxNCkobyxyKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtlPXQuZXhwb3J0cz1uKDEzKSh2b2lkIDApLGUucHVzaChbdC5pLCcuc3dhbC1pY29uLS1lcnJvcntib3JkZXItY29sb3I6I2YyNzQ3NDstd2Via2l0LWFuaW1hdGlvbjphbmltYXRlRXJyb3JJY29uIC41czthbmltYXRpb246YW5pbWF0ZUVycm9ySWNvbiAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX3gtbWFya3twb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrOy13ZWJraXQtYW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXM7YW5pbWF0aW9uOmFuaW1hdGVYTWFyayAuNXN9LnN3YWwtaWNvbi0tZXJyb3JfX2xpbmV7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjVweDt3aWR0aDo0N3B4O2JhY2tncm91bmQtY29sb3I6I2YyNzQ3NDtkaXNwbGF5OmJsb2NrO3RvcDozN3B4O2JvcmRlci1yYWRpdXM6MnB4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1sZWZ0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg0NWRlZyk7bGVmdDoxN3B4fS5zd2FsLWljb24tLWVycm9yX19saW5lLS1yaWdodHstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7cmlnaHQ6MTZweH1ALXdlYmtpdC1rZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUBrZXlmcmFtZXMgYW5pbWF0ZUVycm9ySWNvbnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVYKDEwMGRlZyk7dHJhbnNmb3JtOnJvdGF0ZVgoMTAwZGVnKTtvcGFjaXR5OjB9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWCgwZGVnKTt0cmFuc2Zvcm06cm90YXRlWCgwZGVnKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19QGtleWZyYW1lcyBhbmltYXRlWE1hcmt7MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH01MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCk7bWFyZ2luLXRvcDoyNnB4O29wYWNpdHk6MH04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4xNSk7dHJhbnNmb3JtOnNjYWxlKDEuMTUpO21hcmdpbi10b3A6LTZweH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSk7bWFyZ2luLXRvcDowO29wYWNpdHk6MX19LnN3YWwtaWNvbi0td2FybmluZ3tib3JkZXItY29sb3I6I2Y4YmI4Njstd2Via2l0LWFuaW1hdGlvbjpwdWxzZVdhcm5pbmcgLjc1cyBpbmZpbml0ZSBhbHRlcm5hdGU7YW5pbWF0aW9uOnB1bHNlV2FybmluZyAuNzVzIGluZmluaXRlIGFsdGVybmF0ZX0uc3dhbC1pY29uLS13YXJuaW5nX19ib2R5e3dpZHRoOjVweDtoZWlnaHQ6NDdweDt0b3A6MTBweDtib3JkZXItcmFkaXVzOjJweDttYXJnaW4tbGVmdDotMnB4fS5zd2FsLWljb24tLXdhcm5pbmdfX2JvZHksLnN3YWwtaWNvbi0td2FybmluZ19fZG90e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO2JhY2tncm91bmQtY29sb3I6I2Y4YmI4Nn0uc3dhbC1pY29uLS13YXJuaW5nX19kb3R7d2lkdGg6N3B4O2hlaWdodDo3cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6LTRweDtib3R0b206LTExcHh9QC13ZWJraXQta2V5ZnJhbWVzIHB1bHNlV2FybmluZ3swJXtib3JkZXItY29sb3I6I2Y4ZDQ4Nn10b3tib3JkZXItY29sb3I6I2Y4YmI4Nn19QGtleWZyYW1lcyBwdWxzZVdhcm5pbmd7MCV7Ym9yZGVyLWNvbG9yOiNmOGQ0ODZ9dG97Ym9yZGVyLWNvbG9yOiNmOGJiODZ9fS5zd2FsLWljb24tLXN1Y2Nlc3N7Ym9yZGVyLWNvbG9yOiNhNWRjODZ9LnN3YWwtaWNvbi0tc3VjY2VzczphZnRlciwuc3dhbC1pY29uLS1zdWNjZXNzOmJlZm9yZXtjb250ZW50OiIiO2JvcmRlci1yYWRpdXM6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjYwcHg7aGVpZ2h0OjEyMHB4O2JhY2tncm91bmQ6I2ZmZjstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpfS5zd2FsLWljb24tLXN1Y2Nlc3M6YmVmb3Jle2JvcmRlci1yYWRpdXM6MTIwcHggMCAwIDEyMHB4O3RvcDotN3B4O2xlZnQ6LTMzcHg7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo2MHB4IDYwcHg7dHJhbnNmb3JtLW9yaWdpbjo2MHB4IDYwcHh9LnN3YWwtaWNvbi0tc3VjY2VzczphZnRlcntib3JkZXItcmFkaXVzOjAgMTIwcHggMTIwcHggMDt0b3A6LTExcHg7bGVmdDozMHB4Oy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCA2MHB4O3RyYW5zZm9ybS1vcmlnaW46MCA2MHB4Oy13ZWJraXQtYW5pbWF0aW9uOnJvdGF0ZVBsYWNlaG9sZGVyIDQuMjVzIGVhc2UtaW47YW5pbWF0aW9uOnJvdGF0ZVBsYWNlaG9sZGVyIDQuMjVzIGVhc2UtaW59LnN3YWwtaWNvbi0tc3VjY2Vzc19fcmluZ3t3aWR0aDo4MHB4O2hlaWdodDo4MHB4O2JvcmRlcjo0cHggc29saWQgaHNsYSg5OCw1NSUsNjklLC4yKTtib3JkZXItcmFkaXVzOjUwJTtib3gtc2l6aW5nOmNvbnRlbnQtYm94O3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTRweDt0b3A6LTRweDt6LWluZGV4OjJ9LnN3YWwtaWNvbi0tc3VjY2Vzc19faGlkZS1jb3JuZXJze3dpZHRoOjVweDtoZWlnaHQ6OTBweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzoxcHg7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyOHB4O3RvcDo4cHg7ei1pbmRleDoxOy13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKX0uc3dhbC1pY29uLS1zdWNjZXNzX19saW5le2hlaWdodDo1cHg7YmFja2dyb3VuZC1jb2xvcjojYTVkYzg2O2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXJhZGl1czoycHg7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyfS5zd2FsLWljb24tLXN1Y2Nlc3NfX2xpbmUtLXRpcHt3aWR0aDoyNXB4O2xlZnQ6MTRweDt0b3A6NDZweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoNDVkZWcpO3RyYW5zZm9ybTpyb3RhdGUoNDVkZWcpOy13ZWJraXQtYW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzVGlwIC43NXM7YW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzVGlwIC43NXN9LnN3YWwtaWNvbi0tc3VjY2Vzc19fbGluZS0tbG9uZ3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweDstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7LXdlYmtpdC1hbmltYXRpb246YW5pbWF0ZVN1Y2Nlc3NMb25nIC43NXM7YW5pbWF0aW9uOmFuaW1hdGVTdWNjZXNzTG9uZyAuNzVzfUAtd2Via2l0LWtleWZyYW1lcyByb3RhdGVQbGFjZWhvbGRlcnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTEyJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX19QGtleWZyYW1lcyByb3RhdGVQbGFjZWhvbGRlcnswJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQ1ZGVnKTt0cmFuc2Zvcm06cm90YXRlKC00NWRlZyl9NSV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKC00NWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDVkZWcpfTEyJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoLTQwNWRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgtNDA1ZGVnKX19QC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGVTdWNjZXNzVGlwezAle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NTQle3dpZHRoOjA7bGVmdDoxcHg7dG9wOjE5cHh9NzAle3dpZHRoOjUwcHg7bGVmdDotOHB4O3RvcDozN3B4fTg0JXt3aWR0aDoxN3B4O2xlZnQ6MjFweDt0b3A6NDhweH10b3t3aWR0aDoyNXB4O2xlZnQ6MTRweDt0b3A6NDVweH19QGtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc1RpcHswJXt3aWR0aDowO2xlZnQ6MXB4O3RvcDoxOXB4fTU0JXt3aWR0aDowO2xlZnQ6MXB4O3RvcDoxOXB4fTcwJXt3aWR0aDo1MHB4O2xlZnQ6LThweDt0b3A6MzdweH04NCV7d2lkdGg6MTdweDtsZWZ0OjIxcHg7dG9wOjQ4cHh9dG97d2lkdGg6MjVweDtsZWZ0OjE0cHg7dG9wOjQ1cHh9fUAtd2Via2l0LWtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc0xvbmd7MCV7d2lkdGg6MDtyaWdodDo0NnB4O3RvcDo1NHB4fTY1JXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9ODQle3dpZHRoOjU1cHg7cmlnaHQ6MDt0b3A6MzVweH10b3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweH19QGtleWZyYW1lcyBhbmltYXRlU3VjY2Vzc0xvbmd7MCV7d2lkdGg6MDtyaWdodDo0NnB4O3RvcDo1NHB4fTY1JXt3aWR0aDowO3JpZ2h0OjQ2cHg7dG9wOjU0cHh9ODQle3dpZHRoOjU1cHg7cmlnaHQ6MDt0b3A6MzVweH10b3t3aWR0aDo0N3B4O3JpZ2h0OjhweDt0b3A6MzhweH19LnN3YWwtaWNvbi0taW5mb3tib3JkZXItY29sb3I6I2M5ZGFlMX0uc3dhbC1pY29uLS1pbmZvOmJlZm9yZXt3aWR0aDo1cHg7aGVpZ2h0OjI5cHg7Ym90dG9tOjE3cHg7Ym9yZGVyLXJhZGl1czoycHg7bWFyZ2luLWxlZnQ6LTJweH0uc3dhbC1pY29uLS1pbmZvOmFmdGVyLC5zd2FsLWljb24tLWluZm86YmVmb3Jle2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7YmFja2dyb3VuZC1jb2xvcjojYzlkYWUxfS5zd2FsLWljb24tLWluZm86YWZ0ZXJ7d2lkdGg6N3B4O2hlaWdodDo3cHg7Ym9yZGVyLXJhZGl1czo1MCU7bWFyZ2luLWxlZnQ6LTNweDt0b3A6MTlweH0uc3dhbC1pY29ue3dpZHRoOjgwcHg7aGVpZ2h0OjgwcHg7Ym9yZGVyLXdpZHRoOjRweDtib3JkZXItc3R5bGU6c29saWQ7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzowO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaXppbmc6Y29udGVudC1ib3g7bWFyZ2luOjIwcHggYXV0b30uc3dhbC1pY29uOmZpcnN0LWNoaWxke21hcmdpbi10b3A6MzJweH0uc3dhbC1pY29uLS1jdXN0b217d2lkdGg6YXV0bztoZWlnaHQ6YXV0bzttYXgtd2lkdGg6MTAwJTtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjB9LnN3YWwtaWNvbiBpbWd7bWF4LXdpZHRoOjEwMCU7bWF4LWhlaWdodDoxMDAlfS5zd2FsLXRpdGxle2NvbG9yOnJnYmEoMCwwLDAsLjY1KTtmb250LXdlaWdodDo2MDA7dGV4dC10cmFuc2Zvcm06bm9uZTtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO3BhZGRpbmc6MTNweCAxNnB4O2ZvbnQtc2l6ZToyN3B4O2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW4tYm90dG9tOjB9LnN3YWwtdGl0bGU6Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDoyNnB4fS5zd2FsLXRpdGxlOm5vdCg6Zmlyc3QtY2hpbGQpe3BhZGRpbmctYm90dG9tOjB9LnN3YWwtdGl0bGU6bm90KDpsYXN0LWNoaWxkKXttYXJnaW4tYm90dG9tOjEzcHh9LnN3YWwtdGV4dHtmb250LXNpemU6MTZweDtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDt2ZXJ0aWNhbC1hbGlnbjp0b3A7dGV4dC1hbGlnbjpsZWZ0O2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowO3BhZGRpbmc6MCAxMHB4O2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjpyZ2JhKDAsMCwwLC42NCk7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwcHgpO292ZXJmbG93LXdyYXA6YnJlYWstd29yZDtib3gtc2l6aW5nOmJvcmRlci1ib3h9LnN3YWwtdGV4dDpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOjQ1cHh9LnN3YWwtdGV4dDpsYXN0LWNoaWxke21hcmdpbi1ib3R0b206NDVweH0uc3dhbC1mb290ZXJ7dGV4dC1hbGlnbjpyaWdodDtwYWRkaW5nLXRvcDoxM3B4O21hcmdpbi10b3A6MTNweDtwYWRkaW5nOjEzcHggMTZweDtib3JkZXItcmFkaXVzOmluaGVyaXQ7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9LnN3YWwtYnV0dG9uLWNvbnRhaW5lcnttYXJnaW46NXB4O2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5zd2FsLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOiM3Y2QxZjk7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTtib3gtc2hhZG93Om5vbmU7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC13ZWlnaHQ6NjAwO2ZvbnQtc2l6ZToxNHB4O3BhZGRpbmc6MTBweCAyNHB4O21hcmdpbjowO2N1cnNvcjpwb2ludGVyfS5zd2FsLWJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNzhjYmYyfS5zd2FsLWJ1dHRvbjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojNzBiY2UwfS5zd2FsLWJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSg0MywxMTQsMTY1LC4yOSl9LnN3YWwtYnV0dG9uW2Rpc2FibGVkXXtvcGFjaXR5Oi41O2N1cnNvcjpkZWZhdWx0fS5zd2FsLWJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lcntib3JkZXI6MH0uc3dhbC1idXR0b24tLWNhbmNlbHtjb2xvcjojNTU1O2JhY2tncm91bmQtY29sb3I6I2VmZWZlZn0uc3dhbC1idXR0b24tLWNhbmNlbDpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZThlOGU4fS5zd2FsLWJ1dHRvbi0tY2FuY2VsOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNkN2Q3ZDd9LnN3YWwtYnV0dG9uLS1jYW5jZWw6Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSgxMTYsMTM2LDE1MCwuMjkpfS5zd2FsLWJ1dHRvbi0tZGFuZ2Vye2JhY2tncm91bmQtY29sb3I6I2U2NDk0Mn0uc3dhbC1idXR0b24tLWRhbmdlcjpub3QoW2Rpc2FibGVkXSk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZGY0NzQwfS5zd2FsLWJ1dHRvbi0tZGFuZ2VyOmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiNjZjQyM2J9LnN3YWwtYnV0dG9uLS1kYW5nZXI6Zm9jdXN7Ym94LXNoYWRvdzowIDAgMCAxcHggI2ZmZiwwIDAgMCAzcHggcmdiYSgxNjUsNDMsNDMsLjI5KX0uc3dhbC1jb250ZW50e3BhZGRpbmc6MCAyMHB4O21hcmdpbi10b3A6MjBweDtmb250LXNpemU6bWVkaXVtfS5zd2FsLWNvbnRlbnQ6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjIwcHh9LnN3YWwtY29udGVudF9faW5wdXQsLnN3YWwtY29udGVudF9fdGV4dGFyZWF7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjpub25lO2ZvbnQtc2l6ZToxNHB4O2Rpc3BsYXk6YmxvY2s7Ym94LXNpemluZzpib3JkZXItYm94O3dpZHRoOjEwMCU7Ym9yZGVyOjFweCBzb2xpZCByZ2JhKDAsMCwwLC4xNCk7cGFkZGluZzoxMHB4IDEzcHg7Ym9yZGVyLXJhZGl1czoycHg7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjJzfS5zd2FsLWNvbnRlbnRfX2lucHV0OmZvY3VzLC5zd2FsLWNvbnRlbnRfX3RleHRhcmVhOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXItY29sb3I6IzZkYjhmZn0uc3dhbC1jb250ZW50X190ZXh0YXJlYXtyZXNpemU6dmVydGljYWx9LnN3YWwtYnV0dG9uLS1sb2FkaW5ne2NvbG9yOnRyYW5zcGFyZW50fS5zd2FsLWJ1dHRvbi0tbG9hZGluZ34uc3dhbC1idXR0b25fX2xvYWRlcntvcGFjaXR5OjF9LnN3YWwtYnV0dG9uX19sb2FkZXJ7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OmF1dG87d2lkdGg6NDNweDt6LWluZGV4OjI7bGVmdDo1MCU7dG9wOjUwJTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTt0ZXh0LWFsaWduOmNlbnRlcjtwb2ludGVyLWV2ZW50czpub25lO29wYWNpdHk6MH0uc3dhbC1idXR0b25fX2xvYWRlciBkaXZ7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6bm9uZTt2ZXJ0aWNhbC1hbGlnbjpiYXNlbGluZTt3aWR0aDo5cHg7aGVpZ2h0OjlweDtwYWRkaW5nOjA7Ym9yZGVyOm5vbmU7bWFyZ2luOjJweDtvcGFjaXR5Oi40O2JvcmRlci1yYWRpdXM6N3B4O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjkpO3RyYW5zaXRpb246YmFja2dyb3VuZCAuMnM7LXdlYmtpdC1hbmltYXRpb246c3dhbC1sb2FkaW5nLWFuaW0gMXMgaW5maW5pdGU7YW5pbWF0aW9uOnN3YWwtbG9hZGluZy1hbmltIDFzIGluZmluaXRlfS5zd2FsLWJ1dHRvbl9fbG9hZGVyIGRpdjpudGgtY2hpbGQoM24rMil7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LjE1czthbmltYXRpb24tZGVsYXk6LjE1c30uc3dhbC1idXR0b25fX2xvYWRlciBkaXY6bnRoLWNoaWxkKDNuKzMpey13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi4zczthbmltYXRpb24tZGVsYXk6LjNzfUAtd2Via2l0LWtleWZyYW1lcyBzd2FsLWxvYWRpbmctYW5pbXswJXtvcGFjaXR5Oi40fTIwJXtvcGFjaXR5Oi40fTUwJXtvcGFjaXR5OjF9dG97b3BhY2l0eTouNH19QGtleWZyYW1lcyBzd2FsLWxvYWRpbmctYW5pbXswJXtvcGFjaXR5Oi40fTIwJXtvcGFjaXR5Oi40fTUwJXtvcGFjaXR5OjF9dG97b3BhY2l0eTouNH19LnN3YWwtb3ZlcmxheXtwb3NpdGlvbjpmaXhlZDt0b3A6MDtib3R0b206MDtsZWZ0OjA7cmlnaHQ6MDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MDtvdmVyZmxvdy15OmF1dG87YmFja2dyb3VuZC1jb2xvcjpyZ2JhKDAsMCwwLC40KTt6LWluZGV4OjEwMDAwO3BvaW50ZXItZXZlbnRzOm5vbmU7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuM3N9LnN3YWwtb3ZlcmxheTpiZWZvcmV7Y29udGVudDoiICI7ZGlzcGxheTppbmxpbmUtYmxvY2s7dmVydGljYWwtYWxpZ246bWlkZGxlO2hlaWdodDoxMDAlfS5zd2FsLW92ZXJsYXktLXNob3ctbW9kYWx7b3BhY2l0eToxO3BvaW50ZXItZXZlbnRzOmF1dG99LnN3YWwtb3ZlcmxheS0tc2hvdy1tb2RhbCAuc3dhbC1tb2RhbHtvcGFjaXR5OjE7cG9pbnRlci1ldmVudHM6YXV0bztib3gtc2l6aW5nOmJvcmRlci1ib3g7LXdlYmtpdC1hbmltYXRpb246c2hvd1N3ZWV0QWxlcnQgLjNzO2FuaW1hdGlvbjpzaG93U3dlZXRBbGVydCAuM3M7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfS5zd2FsLW1vZGFse3dpZHRoOjQ3OHB4O29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO2JhY2tncm91bmQtY29sb3I6I2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtib3JkZXItcmFkaXVzOjVweDtwb3NpdGlvbjpzdGF0aWM7bWFyZ2luOjIwcHggYXV0bztkaXNwbGF5OmlubGluZS1ibG9jazt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7dHJhbnNmb3JtOnNjYWxlKDEpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlO3RyYW5zZm9ybS1vcmlnaW46NTAlIDUwJTt6LWluZGV4OjEwMDAxO3RyYW5zaXRpb246b3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzO3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyxvcGFjaXR5IC4yczt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3Msb3BhY2l0eSAuMnMsLXdlYmtpdC10cmFuc2Zvcm0gLjNzfUBtZWRpYSAobWF4LXdpZHRoOjUwMHB4KXsuc3dhbC1tb2RhbHt3aWR0aDpjYWxjKDEwMCUgLSAyMHB4KX19QC13ZWJraXQta2V5ZnJhbWVzIHNob3dTd2VldEFsZXJ0ezAley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX0xJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNSk7dHJhbnNmb3JtOnNjYWxlKC41KX00NSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMS4wNSk7dHJhbnNmb3JtOnNjYWxlKDEuMDUpfTgwJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguOTUpO3RyYW5zZm9ybTpzY2FsZSguOTUpfXRvey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEpO3RyYW5zZm9ybTpzY2FsZSgxKX19QGtleWZyYW1lcyBzaG93U3dlZXRBbGVydHswJXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9MSV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjUpO3RyYW5zZm9ybTpzY2FsZSguNSl9NDUley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEuMDUpO3RyYW5zZm9ybTpzY2FsZSgxLjA1KX04MCV7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjk1KTt0cmFuc2Zvcm06c2NhbGUoLjk1KX10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9fScsIiJdKX0sZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBuKHQsZSl7dmFyIG49dFsxXXx8IiIscj10WzNdO2lmKCFyKXJldHVybiBuO2lmKGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hKXt2YXIgaT1vKHIpO3JldHVybltuXS5jb25jYXQoci5zb3VyY2VzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4iLyojIHNvdXJjZVVSTD0iK3Iuc291cmNlUm9vdCt0KyIgKi8ifSkpLmNvbmNhdChbaV0pLmpvaW4oIlxuIil9cmV0dXJuW25dLmpvaW4oIlxuIil9ZnVuY3Rpb24gbyh0KXtyZXR1cm4iLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpKSkrIiAqLyJ9dC5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO3JldHVybiBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGUpe3ZhciBvPW4oZSx0KTtyZXR1cm4gZVsyXT8iQG1lZGlhICIrZVsyXSsieyIrbysifSI6b30pLmpvaW4oIiIpfSxlLmk9ZnVuY3Rpb24odCxuKXsic3RyaW5nIj09dHlwZW9mIHQmJih0PVtbbnVsbCx0LCIiXV0pO2Zvcih2YXIgbz17fSxyPTA7cjx0aGlzLmxlbmd0aDtyKyspe3ZhciBpPXRoaXNbcl1bMF07Im51bWJlciI9PXR5cGVvZiBpJiYob1tpXT0hMCl9Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGE9dFtyXTsibnVtYmVyIj09dHlwZW9mIGFbMF0mJm9bYVswXV18fChuJiYhYVsyXT9hWzJdPW46biYmKGFbMl09IigiK2FbMl0rIikgYW5kICgiK24rIikiKSxlLnB1c2goYSkpfX0sZX19LGZ1bmN0aW9uKHQsZSxuKXtmdW5jdGlvbiBvKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl0scj1tW28uaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgaT0wO2k8ci5wYXJ0cy5sZW5ndGg7aSsrKXIucGFydHNbaV0oby5wYXJ0c1tpXSk7Zm9yKDtpPG8ucGFydHMubGVuZ3RoO2krKylyLnBhcnRzLnB1c2godShvLnBhcnRzW2ldLGUpKX1lbHNle2Zvcih2YXIgYT1bXSxpPTA7aTxvLnBhcnRzLmxlbmd0aDtpKyspYS5wdXNoKHUoby5wYXJ0c1tpXSxlKSk7bVtvLmlkXT17aWQ6by5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiByKHQsZSl7Zm9yKHZhciBuPVtdLG89e30scj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgaT10W3JdLGE9ZS5iYXNlP2lbMF0rZS5iYXNlOmlbMF0scz1pWzFdLGM9aVsyXSxsPWlbM10sdT17Y3NzOnMsbWVkaWE6Yyxzb3VyY2VNYXA6bH07b1thXT9vW2FdLnBhcnRzLnB1c2godSk6bi5wdXNoKG9bYV09e2lkOmEscGFydHM6W3VdfSl9cmV0dXJuIG59ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPXYodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuIik7dmFyIG89d1t3Lmxlbmd0aC0xXTtpZigidG9wIj09PXQuaW5zZXJ0QXQpbz9vLm5leHRTaWJsaW5nP24uaW5zZXJ0QmVmb3JlKGUsby5uZXh0U2libGluZyk6bi5hcHBlbmRDaGlsZChlKTpuLmluc2VydEJlZm9yZShlLG4uZmlyc3RDaGlsZCksdy5wdXNoKGUpO2Vsc2V7aWYoImJvdHRvbSIhPT10Lmluc2VydEF0KXRocm93IG5ldyBFcnJvcigiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuIik7bi5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gYSh0KXtpZihudWxsPT09dC5wYXJlbnROb2RlKXJldHVybiExO3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt2YXIgZT13LmluZGV4T2YodCk7ZT49MCYmdy5zcGxpY2UoZSwxKX1mdW5jdGlvbiBzKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7cmV0dXJuIHQuYXR0cnMudHlwZT0idGV4dC9jc3MiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBjKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtyZXR1cm4gdC5hdHRycy50eXBlPSJ0ZXh0L2NzcyIsdC5hdHRycy5yZWw9InN0eWxlc2hlZXQiLGwoZSx0LmF0dHJzKSxpKHQsZSksZX1mdW5jdGlvbiBsKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gdSh0LGUpe3ZhciBuLG8scixpO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShpPWUudHJhbnNmb3JtKHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1pfWlmKGUuc2luZ2xldG9uKXt2YXIgbD1oKys7bj1nfHwoZz1zKGUpKSxvPWYuYmluZChudWxsLG4sbCwhMSkscj1mLmJpbmQobnVsbCxuLGwsITApfWVsc2UgdC5zb3VyY2VNYXAmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwmJiJmdW5jdGlvbiI9PXR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMJiYiZnVuY3Rpb24iPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmImZ1bmN0aW9uIj09dHlwZW9mIEJsb2ImJiJmdW5jdGlvbiI9PXR5cGVvZiBidG9hPyhuPWMoZSksbz1wLmJpbmQobnVsbCxuLGUpLHI9ZnVuY3Rpb24oKXthKG4pLG4uaHJlZiYmVVJMLnJldm9rZU9iamVjdFVSTChuLmhyZWYpfSk6KG49cyhlKSxvPWQuYmluZChudWxsLG4pLHI9ZnVuY3Rpb24oKXthKG4pfSk7cmV0dXJuIG8odCksZnVuY3Rpb24oZSl7aWYoZSl7aWYoZS5jc3M9PT10LmNzcyYmZS5tZWRpYT09PXQubWVkaWEmJmUuc291cmNlTWFwPT09dC5zb3VyY2VNYXApcmV0dXJuO28odD1lKX1lbHNlIHIoKX19ZnVuY3Rpb24gZih0LGUsbixvKXt2YXIgcj1uPyIiOm8uY3NzO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD14KGUscik7ZWxzZXt2YXIgaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSxhPXQuY2hpbGROb2RlczthW2VdJiZ0LnJlbW92ZUNoaWxkKGFbZV0pLGEubGVuZ3RoP3QuaW5zZXJ0QmVmb3JlKGksYVtlXSk6dC5hcHBlbmRDaGlsZChpKX19ZnVuY3Rpb24gZCh0LGUpe3ZhciBuPWUuY3NzLG89ZS5tZWRpYTtpZihvJiZ0LnNldEF0dHJpYnV0ZSgibWVkaWEiLG8pLHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19ZnVuY3Rpb24gcCh0LGUsbil7dmFyIG89bi5jc3Mscj1uLnNvdXJjZU1hcCxpPXZvaWQgMD09PWUuY29udmVydFRvQWJzb2x1dGVVcmxzJiZyOyhlLmNvbnZlcnRUb0Fic29sdXRlVXJsc3x8aSkmJihvPXkobykpLHImJihvKz0iXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKSkrIiAqLyIpO3ZhciBhPW5ldyBCbG9iKFtvXSx7dHlwZToidGV4dC9jc3MifSkscz10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwoYSkscyYmVVJMLnJldm9rZU9iamVjdFVSTChzKX12YXIgbT17fSxiPWZ1bmN0aW9uKHQpe3ZhciBlO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1lJiYoZT10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksZX19KGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSksdj1mdW5jdGlvbih0KXt2YXIgZT17fTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PWVbbl0mJihlW25dPXQuY2FsbCh0aGlzLG4pKSxlW25dfX0oZnVuY3Rpb24odCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCl9KSxnPW51bGwsaD0wLHc9W10seT1uKDE1KTt0LmV4cG9ydHM9ZnVuY3Rpb24odCxlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIERFQlVHJiZERUJVRyYmIm9iamVjdCIhPXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudCIpO2U9ZXx8e30sZS5hdHRycz0ib2JqZWN0Ij09dHlwZW9mIGUuYXR0cnM/ZS5hdHRyczp7fSxlLnNpbmdsZXRvbnx8KGUuc2luZ2xldG9uPWIoKSksZS5pbnNlcnRJbnRvfHwoZS5pbnNlcnRJbnRvPSJoZWFkIiksZS5pbnNlcnRBdHx8KGUuaW5zZXJ0QXQ9ImJvdHRvbSIpO3ZhciBuPXIodCxlKTtyZXR1cm4gbyhuLGUpLGZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1bXSxhPTA7YTxuLmxlbmd0aDthKyspe3ZhciBzPW5bYV0sYz1tW3MuaWRdO2MucmVmcy0tLGkucHVzaChjKX1pZih0KXtvKHIodCxlKSxlKX1mb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIGM9aVthXTtpZigwPT09Yy5yZWZzKXtmb3IodmFyIGw9MDtsPGMucGFydHMubGVuZ3RoO2wrKyljLnBhcnRzW2xdKCk7ZGVsZXRlIG1bYy5pZF19fX19O3ZhciB4PWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKCJcbiIpfX0oKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9ZnVuY3Rpb24odCl7dmFyIGU9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighZSl0aHJvdyBuZXcgRXJyb3IoImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uIik7aWYoIXR8fCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gdDt2YXIgbj1lLnByb3RvY29sKyIvLyIrZS5ob3N0LG89bitlLnBhdGhuYW1lLnJlcGxhY2UoL1wvW15cL10qJC8sIi8iKTtyZXR1cm4gdC5yZXBsYWNlKC91cmxccypcKCgoPzpbXikoXXxcKCg/OlteKShdK3xcKFteKShdKlwpKSpcKSkqKVwpL2dpLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS50cmltKCkucmVwbGFjZSgvXiIoLiopIiQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KS5yZXBsYWNlKC9eJyguKiknJC8sZnVuY3Rpb24odCxlKXtyZXR1cm4gZX0pO2lmKC9eKCN8ZGF0YTp8aHR0cDpcL1wvfGh0dHBzOlwvXC98ZmlsZTpcL1wvXC8pL2kudGVzdChyKSlyZXR1cm4gdDt2YXIgaTtyZXR1cm4gaT0wPT09ci5pbmRleE9mKCIvLyIpP3I6MD09PXIuaW5kZXhPZigiLyIpP24rcjpvK3IucmVwbGFjZSgvXlwuXC8vLCIiKSwidXJsKCIrSlNPTi5zdHJpbmdpZnkoaSkrIikifSl9fSxmdW5jdGlvbih0LGUsbil7dmFyIG89bigxNyk7InVuZGVmaW5lZCI9PXR5cGVvZiB3aW5kb3d8fHdpbmRvdy5Qcm9taXNlfHwod2luZG93LlByb21pc2U9byksbigyMSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8KFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlKXsidXNlIHN0cmljdCI7cmV0dXJuIm51bWJlciIhPXR5cGVvZiBlJiYoZT0wKSwhKGUrdC5sZW5ndGg+dGhpcy5sZW5ndGgpJiYtMSE9PXRoaXMuaW5kZXhPZih0LGUpfSksQXJyYXkucHJvdG90eXBlLmluY2x1ZGVzfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCJpbmNsdWRlcyIse3ZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCcidGhpcyIgaXMgbnVsbCBvciBub3QgZGVmaW5lZCcpO3ZhciBuPU9iamVjdCh0aGlzKSxvPW4ubGVuZ3RoPj4+MDtpZigwPT09bylyZXR1cm4hMTtmb3IodmFyIHI9MHxlLGk9TWF0aC5tYXgocj49MD9yOm8tTWF0aC5hYnMociksMCk7aTxvOyl7aWYoZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fCJudW1iZXIiPT10eXBlb2YgdCYmIm51bWJlciI9PXR5cGVvZiBlJiZpc05hTih0KSYmaXNOYU4oZSl9KG5baV0sdCkpcmV0dXJuITA7aSsrfXJldHVybiExfX0pLCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZmdW5jdGlvbih0KXt0LmZvckVhY2goZnVuY3Rpb24odCl7dC5oYXNPd25Qcm9wZXJ0eSgicmVtb3ZlIil8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJyZW1vdmUiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKX19KX0pfShbRWxlbWVudC5wcm90b3R5cGUsQ2hhcmFjdGVyRGF0YS5wcm90b3R5cGUsRG9jdW1lbnRUeXBlLnByb3RvdHlwZV0pfSxmdW5jdGlvbih0LGUsbil7KGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihuKXtmdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHIodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXt0LmFwcGx5KGUsYXJndW1lbnRzKX19ZnVuY3Rpb24gaSh0KXtpZigib2JqZWN0IiE9dHlwZW9mIHRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvbWlzZXMgbXVzdCBiZSBjb25zdHJ1Y3RlZCB2aWEgbmV3Iik7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQpdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTt0aGlzLl9zdGF0ZT0wLHRoaXMuX2hhbmRsZWQ9ITEsdGhpcy5fdmFsdWU9dm9pZCAwLHRoaXMuX2RlZmVycmVkcz1bXSxmKHQsdGhpcyl9ZnVuY3Rpb24gYSh0LGUpe2Zvcig7Mz09PXQuX3N0YXRlOyl0PXQuX3ZhbHVlO2lmKDA9PT10Ll9zdGF0ZSlyZXR1cm4gdm9pZCB0Ll9kZWZlcnJlZHMucHVzaChlKTt0Ll9oYW5kbGVkPSEwLGkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uKCl7dmFyIG49MT09PXQuX3N0YXRlP2Uub25GdWxmaWxsZWQ6ZS5vblJlamVjdGVkO2lmKG51bGw9PT1uKXJldHVybiB2b2lkKDE9PT10Ll9zdGF0ZT9zOmMpKGUucHJvbWlzZSx0Ll92YWx1ZSk7dmFyIG87dHJ5e289bih0Ll92YWx1ZSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgYyhlLnByb21pc2UsdCl9cyhlLnByb21pc2Usbyl9KX1mdW5jdGlvbiBzKHQsZSl7dHJ5e2lmKGU9PT10KXRocm93IG5ldyBUeXBlRXJyb3IoIkEgcHJvbWlzZSBjYW5ub3QgYmUgcmVzb2x2ZWQgd2l0aCBpdHNlbGYuIik7aWYoZSYmKCJvYmplY3QiPT10eXBlb2YgZXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUpKXt2YXIgbj1lLnRoZW47aWYoZSBpbnN0YW5jZW9mIGkpcmV0dXJuIHQuX3N0YXRlPTMsdC5fdmFsdWU9ZSx2b2lkIGwodCk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4pcmV0dXJuIHZvaWQgZihyKG4sZSksdCl9dC5fc3RhdGU9MSx0Ll92YWx1ZT1lLGwodCl9Y2F0Y2goZSl7Yyh0LGUpfX1mdW5jdGlvbiBjKHQsZSl7dC5fc3RhdGU9Mix0Ll92YWx1ZT1lLGwodCl9ZnVuY3Rpb24gbCh0KXsyPT09dC5fc3RhdGUmJjA9PT10Ll9kZWZlcnJlZHMubGVuZ3RoJiZpLl9pbW1lZGlhdGVGbihmdW5jdGlvbigpe3QuX2hhbmRsZWR8fGkuX3VuaGFuZGxlZFJlamVjdGlvbkZuKHQuX3ZhbHVlKX0pO2Zvcih2YXIgZT0wLG49dC5fZGVmZXJyZWRzLmxlbmd0aDtlPG47ZSsrKWEodCx0Ll9kZWZlcnJlZHNbZV0pO3QuX2RlZmVycmVkcz1udWxsfWZ1bmN0aW9uIHUodCxlLG4pe3RoaXMub25GdWxmaWxsZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDpudWxsLHRoaXMub25SZWplY3RlZD0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGwsdGhpcy5wcm9taXNlPW59ZnVuY3Rpb24gZih0LGUpe3ZhciBuPSExO3RyeXt0KGZ1bmN0aW9uKHQpe258fChuPSEwLHMoZSx0KSl9LGZ1bmN0aW9uKHQpe258fChuPSEwLGMoZSx0KSl9KX1jYXRjaCh0KXtpZihuKXJldHVybjtuPSEwLGMoZSx0KX19dmFyIGQ9c2V0VGltZW91dDtpLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50aGVuKG51bGwsdCl9LGkucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCxlKXt2YXIgbj1uZXcgdGhpcy5jb25zdHJ1Y3RvcihvKTtyZXR1cm4gYSh0aGlzLG5ldyB1KHQsZSxuKSksbn0saS5hbGw9ZnVuY3Rpb24odCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gbyhpLGEpe3RyeXtpZihhJiYoIm9iamVjdCI9PXR5cGVvZiBhfHwiZnVuY3Rpb24iPT10eXBlb2YgYSkpe3ZhciBzPWEudGhlbjtpZigiZnVuY3Rpb24iPT10eXBlb2YgcylyZXR1cm4gdm9pZCBzLmNhbGwoYSxmdW5jdGlvbih0KXtvKGksdCl9LG4pfWVbaV09YSwwPT0tLXImJnQoZSl9Y2F0Y2godCl7bih0KX19aWYoMD09PWUubGVuZ3RoKXJldHVybiB0KFtdKTtmb3IodmFyIHI9ZS5sZW5ndGgsaT0wO2k8ZS5sZW5ndGg7aSsrKW8oaSxlW2ldKX0pfSxpLnJlc29sdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJvYmplY3QiPT10eXBlb2YgdCYmdC5jb25zdHJ1Y3Rvcj09PWk/dDpuZXcgaShmdW5jdGlvbihlKXtlKHQpfSl9LGkucmVqZWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaShmdW5jdGlvbihlLG4pe24odCl9KX0saS5yYWNlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaShmdW5jdGlvbihlLG4pe2Zvcih2YXIgbz0wLHI9dC5sZW5ndGg7bzxyO28rKyl0W29dLnRoZW4oZSxuKX0pfSxpLl9pbW1lZGlhdGVGbj0iZnVuY3Rpb24iPT10eXBlb2YgZSYmZnVuY3Rpb24odCl7ZSh0KX18fGZ1bmN0aW9uKHQpe2QodCwwKX0saS5fdW5oYW5kbGVkUmVqZWN0aW9uRm49ZnVuY3Rpb24odCl7InVuZGVmaW5lZCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlJiZjb25zb2xlLndhcm4oIlBvc3NpYmxlIFVuaGFuZGxlZCBQcm9taXNlIFJlamVjdGlvbjoiLHQpfSxpLl9zZXRJbW1lZGlhdGVGbj1mdW5jdGlvbih0KXtpLl9pbW1lZGlhdGVGbj10fSxpLl9zZXRVbmhhbmRsZWRSZWplY3Rpb25Gbj1mdW5jdGlvbih0KXtpLl91bmhhbmRsZWRSZWplY3Rpb25Gbj10fSx2b2lkIDAhPT10JiZ0LmV4cG9ydHM/dC5leHBvcnRzPWk6bi5Qcm9taXNlfHwobi5Qcm9taXNlPWkpfSh0aGlzKX0pLmNhbGwoZSxuKDE4KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbih0LGUsbil7ZnVuY3Rpb24gbyh0LGUpe3RoaXMuX2lkPXQsdGhpcy5fY2xlYXJGbj1lfXZhciByPUZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseTtlLnNldFRpbWVvdXQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG8oci5jYWxsKHNldFRpbWVvdXQsd2luZG93LGFyZ3VtZW50cyksY2xlYXJUaW1lb3V0KX0sZS5zZXRJbnRlcnZhbD1mdW5jdGlvbigpe3JldHVybiBuZXcgbyhyLmNhbGwoc2V0SW50ZXJ2YWwsd2luZG93LGFyZ3VtZW50cyksY2xlYXJJbnRlcnZhbCl9LGUuY2xlYXJUaW1lb3V0PWUuY2xlYXJJbnRlcnZhbD1mdW5jdGlvbih0KXt0JiZ0LmNsb3NlKCl9LG8ucHJvdG90eXBlLnVucmVmPW8ucHJvdG90eXBlLnJlZj1mdW5jdGlvbigpe30sby5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLl9jbGVhckZuLmNhbGwod2luZG93LHRoaXMuX2lkKX0sZS5lbnJvbGw9ZnVuY3Rpb24odCxlKXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9ZX0sZS51bmVucm9sbD1mdW5jdGlvbih0KXtjbGVhclRpbWVvdXQodC5faWRsZVRpbWVvdXRJZCksdC5faWRsZVRpbWVvdXQ9LTF9LGUuX3VucmVmQWN0aXZlPWUuYWN0aXZlPWZ1bmN0aW9uKHQpe2NsZWFyVGltZW91dCh0Ll9pZGxlVGltZW91dElkKTt2YXIgZT10Ll9pZGxlVGltZW91dDtlPj0wJiYodC5faWRsZVRpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fb25UaW1lb3V0JiZ0Ll9vblRpbWVvdXQoKX0sZSkpfSxuKDE5KSxlLnNldEltbWVkaWF0ZT1zZXRJbW1lZGlhdGUsZS5jbGVhckltbWVkaWF0ZT1jbGVhckltbWVkaWF0ZX0sZnVuY3Rpb24odCxlLG4peyhmdW5jdGlvbih0LGUpeyFmdW5jdGlvbih0LG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBvKHQpeyJmdW5jdGlvbiIhPXR5cGVvZiB0JiYodD1uZXcgRnVuY3Rpb24oIiIrdCkpO2Zvcih2YXIgZT1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKSxuPTA7bjxlLmxlbmd0aDtuKyspZVtuXT1hcmd1bWVudHNbbisxXTt2YXIgbz17Y2FsbGJhY2s6dCxhcmdzOmV9O3JldHVybiBsW2NdPW8scyhjKSxjKyt9ZnVuY3Rpb24gcih0KXtkZWxldGUgbFt0XX1mdW5jdGlvbiBpKHQpe3ZhciBlPXQuY2FsbGJhY2ssbz10LmFyZ3M7c3dpdGNoKG8ubGVuZ3RoKXtjYXNlIDA6ZSgpO2JyZWFrO2Nhc2UgMTplKG9bMF0pO2JyZWFrO2Nhc2UgMjplKG9bMF0sb1sxXSk7YnJlYWs7Y2FzZSAzOmUob1swXSxvWzFdLG9bMl0pO2JyZWFrO2RlZmF1bHQ6ZS5hcHBseShuLG8pfX1mdW5jdGlvbiBhKHQpe2lmKHUpc2V0VGltZW91dChhLDAsdCk7ZWxzZXt2YXIgZT1sW3RdO2lmKGUpe3U9ITA7dHJ5e2koZSl9ZmluYWxseXtyKHQpLHU9ITF9fX19aWYoIXQuc2V0SW1tZWRpYXRlKXt2YXIgcyxjPTEsbD17fSx1PSExLGY9dC5kb2N1bWVudCxkPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO2Q9ZCYmZC5zZXRUaW1lb3V0P2Q6dCwiW29iamVjdCBwcm9jZXNzXSI9PT17fS50b1N0cmluZy5jYWxsKHQucHJvY2Vzcyk/ZnVuY3Rpb24oKXtzPWZ1bmN0aW9uKHQpe2UubmV4dFRpY2soZnVuY3Rpb24oKXthKHQpfSl9fSgpOmZ1bmN0aW9uKCl7aWYodC5wb3N0TWVzc2FnZSYmIXQuaW1wb3J0U2NyaXB0cyl7dmFyIGU9ITAsbj10Lm9ubWVzc2FnZTtyZXR1cm4gdC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtlPSExfSx0LnBvc3RNZXNzYWdlKCIiLCIqIiksdC5vbm1lc3NhZ2U9bixlfX0oKT9mdW5jdGlvbigpe3ZhciBlPSJzZXRJbW1lZGlhdGUkIitNYXRoLnJhbmRvbSgpKyIkIixuPWZ1bmN0aW9uKG4pe24uc291cmNlPT09dCYmInN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJjA9PT1uLmRhdGEuaW5kZXhPZihlKSYmYSgrbi5kYXRhLnNsaWNlKGUubGVuZ3RoKSl9O3QuYWRkRXZlbnRMaXN0ZW5lcj90LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG4sITEpOnQuYXR0YWNoRXZlbnQoIm9ubWVzc2FnZSIsbikscz1mdW5jdGlvbihuKXt0LnBvc3RNZXNzYWdlKGUrbiwiKiIpfX0oKTp0Lk1lc3NhZ2VDaGFubmVsP2Z1bmN0aW9uKCl7dmFyIHQ9bmV3IE1lc3NhZ2VDaGFubmVsO3QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKHQpe2EodC5kYXRhKX0scz1mdW5jdGlvbihlKXt0LnBvcnQyLnBvc3RNZXNzYWdlKGUpfX0oKTpmJiYib25yZWFkeXN0YXRlY2hhbmdlImluIGYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik/ZnVuY3Rpb24oKXt2YXIgdD1mLmRvY3VtZW50RWxlbWVudDtzPWZ1bmN0aW9uKGUpe3ZhciBuPWYuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXthKGUpLG4ub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdC5yZW1vdmVDaGlsZChuKSxuPW51bGx9LHQuYXBwZW5kQ2hpbGQobil9fSgpOmZ1bmN0aW9uKCl7cz1mdW5jdGlvbih0KXtzZXRUaW1lb3V0KGEsMCx0KX19KCksZC5zZXRJbW1lZGlhdGU9byxkLmNsZWFySW1tZWRpYXRlPXJ9fSgidW5kZWZpbmVkIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09dD90aGlzOnQ6c2VsZil9KS5jYWxsKGUsbig3KSxuKDIwKSl9LGZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCIpfWZ1bmN0aW9uIHIodCl7aWYodT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQodCwwKTtpZigodT09PW58fCF1KSYmc2V0VGltZW91dClyZXR1cm4gdT1zZXRUaW1lb3V0LHNldFRpbWVvdXQodCwwKTt0cnl7cmV0dXJuIHUodCwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIHUuY2FsbChudWxsLHQsMCl9Y2F0Y2goZSl7cmV0dXJuIHUuY2FsbCh0aGlzLHQsMCl9fX1mdW5jdGlvbiBpKHQpe2lmKGY9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dCh0KTtpZigoZj09PW98fCFmKSYmY2xlYXJUaW1lb3V0KXJldHVybiBmPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQodCk7dHJ5e3JldHVybiBmKHQpfWNhdGNoKGUpe3RyeXtyZXR1cm4gZi5jYWxsKG51bGwsdCl9Y2F0Y2goZSl7cmV0dXJuIGYuY2FsbCh0aGlzLHQpfX19ZnVuY3Rpb24gYSgpe2ImJnAmJihiPSExLHAubGVuZ3RoP209cC5jb25jYXQobSk6dj0tMSxtLmxlbmd0aCYmcygpKX1mdW5jdGlvbiBzKCl7aWYoIWIpe3ZhciB0PXIoYSk7Yj0hMDtmb3IodmFyIGU9bS5sZW5ndGg7ZTspe2ZvcihwPW0sbT1bXTsrK3Y8ZTspcCYmcFt2XS5ydW4oKTt2PS0xLGU9bS5sZW5ndGh9cD1udWxsLGI9ITEsaSh0KX19ZnVuY3Rpb24gYyh0LGUpe3RoaXMuZnVuPXQsdGhpcy5hcnJheT1lfWZ1bmN0aW9uIGwoKXt9dmFyIHUsZixkPXQuZXhwb3J0cz17fTshZnVuY3Rpb24oKXt0cnl7dT0iZnVuY3Rpb24iPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om59Y2F0Y2godCl7dT1ufXRyeXtmPSJmdW5jdGlvbiI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0Om99Y2F0Y2godCl7Zj1vfX0oKTt2YXIgcCxtPVtdLGI9ITEsdj0tMTtkLm5leHRUaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKWVbbi0xXT1hcmd1bWVudHNbbl07bS5wdXNoKG5ldyBjKHQsZSkpLDEhPT1tLmxlbmd0aHx8Ynx8cihzKX0sYy5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZC50aXRsZT0iYnJvd3NlciIsZC5icm93c2VyPSEwLGQuZW52PXt9LGQuYXJndj1bXSxkLnZlcnNpb249IiIsZC52ZXJzaW9ucz17fSxkLm9uPWwsZC5hZGRMaXN0ZW5lcj1sLGQub25jZT1sLGQub2ZmPWwsZC5yZW1vdmVMaXN0ZW5lcj1sLGQucmVtb3ZlQWxsTGlzdGVuZXJzPWwsZC5lbWl0PWwsZC5wcmVwZW5kTGlzdGVuZXI9bCxkLnByZXBlbmRPbmNlTGlzdGVuZXI9bCxkLmxpc3RlbmVycz1mdW5jdGlvbih0KXtyZXR1cm5bXX0sZC5iaW5kaW5nPWZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZC5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm4iLyJ9LGQuY2hkaXI9ZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQiKX0sZC51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtuKDIyKS5wb2x5ZmlsbCgpfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG8odCxlKXtpZih2b2lkIDA9PT10fHxudWxsPT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY29udmVydCBmaXJzdCBhcmd1bWVudCB0byBvYmplY3QiKTtmb3IodmFyIG49T2JqZWN0KHQpLG89MTtvPGFyZ3VtZW50cy5sZW5ndGg7bysrKXt2YXIgcj1hcmd1bWVudHNbb107aWYodm9pZCAwIT09ciYmbnVsbCE9PXIpZm9yKHZhciBpPU9iamVjdC5rZXlzKE9iamVjdChyKSksYT0wLHM9aS5sZW5ndGg7YTxzO2ErKyl7dmFyIGM9aVthXSxsPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixjKTt2b2lkIDAhPT1sJiZsLmVudW1lcmFibGUmJihuW2NdPXJbY10pfX1yZXR1cm4gbn1mdW5jdGlvbiByKCl7T2JqZWN0LmFzc2lnbnx8T2JqZWN0LmRlZmluZVByb3BlcnR5KE9iamVjdCwiYXNzaWduIix7ZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6b30pfXQuZXhwb3J0cz17YXNzaWduOm8scG9seWZpbGw6cn19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMjQpLHI9big2KSxpPW4oNSksYT1uKDM2KSxzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93KXt2YXIgbj1hLmdldE9wdHMuYXBwbHkodm9pZCAwLHQpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0LGUpe2kuZGVmYXVsdC5wcm9taXNlPXtyZXNvbHZlOnQscmVqZWN0OmV9LG8uZGVmYXVsdChuKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ci5vcGVuTW9kYWwoKX0pfSl9fTtzLmNsb3NlPXIub25BY3Rpb24scy5nZXRTdGF0ZT1yLmdldFN0YXRlLHMuc2V0QWN0aW9uVmFsdWU9aS5zZXRBY3Rpb25WYWx1ZSxzLnN0b3BMb2FkaW5nPXIuc3RvcExvYWRpbmcscy5zZXREZWZhdWx0cz1hLnNldERlZmF1bHRzLGUuZGVmYXVsdD1zfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigwKSxpPXIuZGVmYXVsdC5NT0RBTCxhPW4oNCkscz1uKDM0KSxjPW4oMzUpLGw9bigxKTtlLmluaXQ9ZnVuY3Rpb24odCl7by5nZXROb2RlKGkpfHwoZG9jdW1lbnQuYm9keXx8bC50aHJvd0VycigiWW91IGNhbiBvbmx5IHVzZSBTd2VldEFsZXJ0IEFGVEVSIHRoZSBET00gaGFzIGxvYWRlZCEiKSxzLmRlZmF1bHQoKSxhLmRlZmF1bHQoKSksYS5pbml0TW9kYWxDb250ZW50KHQpLGMuZGVmYXVsdCh0KX0sZS5kZWZhdWx0PWUuaW5pdH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5NT0RBTDtlLm1vZGFsTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciIHJvbGU9ImRpYWxvZyIgYXJpYS1tb2RhbD0idHJ1ZSI+PC9kaXY+JyxlLmRlZmF1bHQ9ZS5tb2RhbE1hcmt1cH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5PVkVSTEFZLGk9JzxkaXYgXG4gICAgY2xhc3M9IicrcisnIlxuICAgIHRhYkluZGV4PSItMSI+XG4gIDwvZGl2Pic7ZS5kZWZhdWx0PWl9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMCkscj1vLmRlZmF1bHQuSUNPTjtlLmVycm9ySWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0tZXJyb3IiLGU9dCsiX19saW5lIjtyZXR1cm4nXG4gICAgPGRpdiBjbGFzcz0iJyt0KydfX3gtbWFyayI+XG4gICAgICA8c3BhbiBjbGFzcz0iJytlKyIgIitlKyctLWxlZnQiPjwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPSInK2UrIiAiK2UrJy0tcmlnaHQiPjwvc3Bhbj5cbiAgICA8L2Rpdj5cbiAgJ30sZS53YXJuaW5nSWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0td2FybmluZyI7cmV0dXJuJ1xuICAgIDxzcGFuIGNsYXNzPSInK3QrJ19fYm9keSI+XG4gICAgICA8c3BhbiBjbGFzcz0iJyt0KydfX2RvdCI+PC9zcGFuPlxuICAgIDwvc3Bhbj5cbiAgJ30sZS5zdWNjZXNzSWNvbk1hcmt1cD1mdW5jdGlvbigpe3ZhciB0PXIrIi0tc3VjY2VzcyI7cmV0dXJuJ1xuICAgIDxzcGFuIGNsYXNzPSInK3QrIl9fbGluZSAiK3QrJ19fbGluZS0tbG9uZyI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPSInK3QrIl9fbGluZSAiK3QrJ19fbGluZS0tdGlwIj48L3NwYW4+XG5cbiAgICA8ZGl2IGNsYXNzPSInK3QrJ19fcmluZyI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz0iJyt0KydfX2hpZGUtY29ybmVycyI+PC9kaXY+XG4gICd9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDApLHI9by5kZWZhdWx0LkNPTlRFTlQ7ZS5jb250ZW50TWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciPlxuXG4gIDwvZGl2PlxuJ30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigwKSxyPW8uZGVmYXVsdC5CVVRUT05fQ09OVEFJTkVSLGk9by5kZWZhdWx0LkJVVFRPTixhPW8uZGVmYXVsdC5CVVRUT05fTE9BREVSO2UuYnV0dG9uTWFya3VwPSdcbiAgPGRpdiBjbGFzcz0iJytyKyciPlxuXG4gICAgPGJ1dHRvblxuICAgICAgY2xhc3M9IicraSsnIlxuICAgID48L2J1dHRvbj5cblxuICAgIDxkaXYgY2xhc3M9IicrYSsnIj5cbiAgICAgIDxkaXY+PC9kaXY+XG4gICAgICA8ZGl2PjwvZGl2PlxuICAgICAgPGRpdj48L2Rpdj5cbiAgICA8L2Rpdj5cblxuICA8L2Rpdj5cbid9LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oNCkscj1uKDIpLGk9bigwKSxhPWkuZGVmYXVsdC5JQ09OLHM9aS5kZWZhdWx0LklDT05fQ1VTVE9NLGM9WyJlcnJvciIsIndhcm5pbmciLCJzdWNjZXNzIiwiaW5mbyJdLGw9e2Vycm9yOnIuZXJyb3JJY29uTWFya3VwKCksd2FybmluZzpyLndhcm5pbmdJY29uTWFya3VwKCksc3VjY2VzczpyLnN1Y2Nlc3NJY29uTWFya3VwKCl9LHU9ZnVuY3Rpb24odCxlKXt2YXIgbj1hKyItLSIrdDtlLmNsYXNzTGlzdC5hZGQobik7dmFyIG89bFt0XTtvJiYoZS5pbm5lckhUTUw9byl9LGY9ZnVuY3Rpb24odCxlKXtlLmNsYXNzTGlzdC5hZGQocyk7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7bi5zcmM9dCxlLmFwcGVuZENoaWxkKG4pfSxkPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPW8uaW5qZWN0RWxJbnRvTW9kYWwoci5pY29uTWFya3VwKTtjLmluY2x1ZGVzKHQpP3UodCxlKTpmKHQsZSl9fTtlLmRlZmF1bHQ9ZH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigyKSxyPW4oNCksaT1mdW5jdGlvbih0KXtuYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKCJBcHBsZVdlYktpdCIpJiYodC5zdHlsZS5kaXNwbGF5PSJub25lIix0Lm9mZnNldEhlaWdodCx0LnN0eWxlLmRpc3BsYXk9IiIpfTtlLmluaXRUaXRsZT1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1yLmluamVjdEVsSW50b01vZGFsKG8udGl0bGVNYXJrdXApO2UudGV4dENvbnRlbnQ9dCxpKGUpfX0sZS5pbml0VGV4dD1mdW5jdGlvbih0KXtpZih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7dC5zcGxpdCgiXG4iKS5mb3JFYWNoKGZ1bmN0aW9uKHQsbixvKXtlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKSxuPG8ubGVuZ3RoLTEmJmUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSl9KTt2YXIgbj1yLmluamVjdEVsSW50b01vZGFsKG8udGV4dE1hcmt1cCk7bi5hcHBlbmRDaGlsZChlKSxpKG4pfX19LGZ1bmN0aW9uKHQsZSxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPW4oMSkscj1uKDQpLGk9bigwKSxhPWkuZGVmYXVsdC5CVVRUT04scz1pLmRlZmF1bHQuREFOR0VSX0JVVFRPTixjPW4oMyksbD1uKDIpLHU9big2KSxmPW4oNSksZD1mdW5jdGlvbih0LGUsbil7dmFyIHI9ZS50ZXh0LGk9ZS52YWx1ZSxkPWUuY2xhc3NOYW1lLHA9ZS5jbG9zZU1vZGFsLG09by5zdHJpbmdUb05vZGUobC5idXR0b25NYXJrdXApLGI9bS5xdWVyeVNlbGVjdG9yKCIuIithKSx2PWErIi0tIit0O2lmKGIuY2xhc3NMaXN0LmFkZCh2KSxkKXsoQXJyYXkuaXNBcnJheShkKT9kOmQuc3BsaXQoIiAiKSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0Lmxlbmd0aD4wfSkuZm9yRWFjaChmdW5jdGlvbih0KXtiLmNsYXNzTGlzdC5hZGQodCl9KX1uJiZ0PT09Yy5DT05GSVJNX0tFWSYmYi5jbGFzc0xpc3QuYWRkKHMpLGIudGV4dENvbnRlbnQ9cjt2YXIgZz17fTtyZXR1cm4gZ1t0XT1pLGYuc2V0QWN0aW9uVmFsdWUoZyksZi5zZXRBY3Rpb25PcHRpb25zRm9yKHQse2Nsb3NlTW9kYWw6cH0pLGIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7cmV0dXJuIHUub25BY3Rpb24odCl9KSxtfSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG49ci5pbmplY3RFbEludG9Nb2RhbChsLmZvb3Rlck1hcmt1cCk7Zm9yKHZhciBvIGluIHQpe3ZhciBpPXRbb10sYT1kKG8saSxlKTtpLnZpc2libGUmJm4uYXBwZW5kQ2hpbGQoYSl9MD09PW4uY2hpbGRyZW4ubGVuZ3RoJiZuLnJlbW92ZSgpfTtlLmRlZmF1bHQ9cH0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigzKSxyPW4oNCksaT1uKDIpLGE9big1KSxzPW4oNiksYz1uKDApLGw9Yy5kZWZhdWx0LkNPTlRFTlQsdT1mdW5jdGlvbih0KXt0LmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixmdW5jdGlvbih0KXt2YXIgZT10LnRhcmdldCxuPWUudmFsdWU7YS5zZXRBY3Rpb25WYWx1ZShuKX0pLHQuYWRkRXZlbnRMaXN0ZW5lcigia2V5dXAiLGZ1bmN0aW9uKHQpe2lmKCJFbnRlciI9PT10LmtleSlyZXR1cm4gcy5vbkFjdGlvbihvLkNPTkZJUk1fS0VZKX0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt0LmZvY3VzKCksYS5zZXRBY3Rpb25WYWx1ZSgiIil9LDApfSxmPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpLHI9bCsiX18iK2U7by5jbGFzc0xpc3QuYWRkKHIpO2Zvcih2YXIgaSBpbiBuKXt2YXIgYT1uW2ldO29baV09YX0iaW5wdXQiPT09ZSYmdShvKSx0LmFwcGVuZENoaWxkKG8pfSxkPWZ1bmN0aW9uKHQpe2lmKHQpe3ZhciBlPXIuaW5qZWN0RWxJbnRvTW9kYWwoaS5jb250ZW50TWFya3VwKSxuPXQuZWxlbWVudCxvPXQuYXR0cmlidXRlczsic3RyaW5nIj09dHlwZW9mIG4/ZihlLG4sbyk6ZS5hcHBlbmRDaGlsZChuKX19O2UuZGVmYXVsdD1kfSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9bigyKSxpPWZ1bmN0aW9uKCl7dmFyIHQ9by5zdHJpbmdUb05vZGUoci5vdmVybGF5TWFya3VwKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHQpfTtlLmRlZmF1bHQ9aX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89big1KSxyPW4oNiksaT1uKDEpLGE9bigzKSxzPW4oMCksYz1zLmRlZmF1bHQuTU9EQUwsbD1zLmRlZmF1bHQuQlVUVE9OLHU9cy5kZWZhdWx0Lk9WRVJMQVksZj1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCksdigpfSxkPWZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxnKCl9LHA9ZnVuY3Rpb24odCl7aWYoby5kZWZhdWx0LmlzT3Blbilzd2l0Y2godC5rZXkpe2Nhc2UiRXNjYXBlIjpyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfX0sbT1mdW5jdGlvbih0KXtpZihvLmRlZmF1bHQuaXNPcGVuKXN3aXRjaCh0LmtleSl7Y2FzZSJUYWIiOnJldHVybiBmKHQpfX0sYj1mdW5jdGlvbih0KXtpZihvLmRlZmF1bHQuaXNPcGVuKXJldHVybiJUYWIiPT09dC5rZXkmJnQuc2hpZnRLZXk/ZCh0KTp2b2lkIDB9LHY9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUobCk7dCYmKHQudGFiSW5kZXg9MCx0LmZvY3VzKCkpfSxnPWZ1bmN0aW9uKCl7dmFyIHQ9aS5nZXROb2RlKGMpLGU9dC5xdWVyeVNlbGVjdG9yQWxsKCIuIitsKSxuPWUubGVuZ3RoLTEsbz1lW25dO28mJm8uZm9jdXMoKX0saD1mdW5jdGlvbih0KXt0W3QubGVuZ3RoLTFdLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLG0pfSx3PWZ1bmN0aW9uKHQpe3RbMF0uYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsYil9LHk9ZnVuY3Rpb24oKXt2YXIgdD1pLmdldE5vZGUoYyksZT10LnF1ZXJ5U2VsZWN0b3JBbGwoIi4iK2wpO2UubGVuZ3RoJiYoaChlKSx3KGUpKX0seD1mdW5jdGlvbih0KXtpZihpLmdldE5vZGUodSk9PT10LnRhcmdldClyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfSxfPWZ1bmN0aW9uKHQpe3ZhciBlPWkuZ2V0Tm9kZSh1KTtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIix4KSx0JiZlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIix4KX0saz1mdW5jdGlvbih0KXtvLmRlZmF1bHQudGltZXImJmNsZWFyVGltZW91dChvLmRlZmF1bHQudGltZXIpLHQmJihvLmRlZmF1bHQudGltZXI9d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gci5vbkFjdGlvbihhLkNBTkNFTF9LRVkpfSx0KSl9LE89ZnVuY3Rpb24odCl7dC5jbG9zZU9uRXNjP2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIixwKTpkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIscCksdC5kYW5nZXJNb2RlP3YoKTpnKCkseSgpLF8odC5jbG9zZU9uQ2xpY2tPdXRzaWRlKSxrKHQudGltZXIpfTtlLmRlZmF1bHQ9T30sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG89bigxKSxyPW4oMyksaT1uKDM3KSxhPW4oMzgpLHM9e3RpdGxlOm51bGwsdGV4dDpudWxsLGljb246bnVsbCxidXR0b25zOnIuZGVmYXVsdEJ1dHRvbkxpc3QsY29udGVudDpudWxsLGNsYXNzTmFtZTpudWxsLGNsb3NlT25DbGlja091dHNpZGU6ITAsY2xvc2VPbkVzYzohMCxkYW5nZXJNb2RlOiExLHRpbWVyOm51bGx9LGM9T2JqZWN0LmFzc2lnbih7fSxzKTtlLnNldERlZmF1bHRzPWZ1bmN0aW9uKHQpe2M9T2JqZWN0LmFzc2lnbih7fSxzLHQpfTt2YXIgbD1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LmJ1dHRvbixuPXQmJnQuYnV0dG9ucztyZXR1cm4gdm9pZCAwIT09ZSYmdm9pZCAwIT09biYmby50aHJvd0VycigiQ2Fubm90IHNldCBib3RoICdidXR0b24nIGFuZCAnYnV0dG9ucycgb3B0aW9ucyEiKSx2b2lkIDAhPT1lP3tjb25maXJtOmV9Om59LHU9ZnVuY3Rpb24odCl7cmV0dXJuIG8ub3JkaW5hbFN1ZmZpeE9mKHQrMSl9LGY9ZnVuY3Rpb24odCxlKXtvLnRocm93RXJyKHUoZSkrIiBhcmd1bWVudCAoJyIrdCsiJykgaXMgaW52YWxpZCIpfSxkPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCsxLHI9ZVtuXTtvLmlzUGxhaW5PYmplY3Qocil8fHZvaWQgMD09PXJ8fG8udGhyb3dFcnIoIkV4cGVjdGVkICIrdShuKSsiIGFyZ3VtZW50ICgnIityKyInKSB0byBiZSBhIHBsYWluIG9iamVjdCIpfSxwPWZ1bmN0aW9uKHQsZSl7dmFyIG49dCsxLHI9ZVtuXTt2b2lkIDAhPT1yJiZvLnRocm93RXJyKCJVbmV4cGVjdGVkICIrdShuKSsiIGFyZ3VtZW50ICgiK3IrIikiKX0sbT1mdW5jdGlvbih0LGUsbixyKXt2YXIgaT10eXBlb2YgZSxhPSJzdHJpbmciPT09aSxzPWUgaW5zdGFuY2VvZiBFbGVtZW50O2lmKGEpe2lmKDA9PT1uKXJldHVybnt0ZXh0OmV9O2lmKDE9PT1uKXJldHVybnt0ZXh0OmUsdGl0bGU6clswXX07aWYoMj09PW4pcmV0dXJuIGQobixyKSx7aWNvbjplfTtmKGUsbil9ZWxzZXtpZihzJiYwPT09bilyZXR1cm4gZChuLHIpLHtjb250ZW50OmV9O2lmKG8uaXNQbGFpbk9iamVjdChlKSlyZXR1cm4gcChuLHIpLGU7ZihlLG4pfX07ZS5nZXRPcHRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3ZhciBuPXt9O3QuZm9yRWFjaChmdW5jdGlvbihlLG8pe3ZhciByPW0oMCxlLG8sdCk7T2JqZWN0LmFzc2lnbihuLHIpfSk7dmFyIG89bChuKTtuLmJ1dHRvbnM9ci5nZXRCdXR0b25MaXN0T3B0cyhvKSxkZWxldGUgbi5idXR0b24sbi5jb250ZW50PWkuZ2V0Q29udGVudE9wdHMobi5jb250ZW50KTt2YXIgdT1PYmplY3QuYXNzaWduKHt9LHMsYyxuKTtyZXR1cm4gT2JqZWN0LmtleXModSkuZm9yRWFjaChmdW5jdGlvbih0KXthLkRFUFJFQ0FURURfT1BUU1t0XSYmYS5sb2dEZXByZWNhdGlvbih0KX0pLHV9fSxmdW5jdGlvbih0LGUsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1uKDEpLHI9e2VsZW1lbnQ6ImlucHV0IixhdHRyaWJ1dGVzOntwbGFjZWhvbGRlcjoiIn19O2UuZ2V0Q29udGVudE9wdHM9ZnVuY3Rpb24odCl7dmFyIGU9e307cmV0dXJuIG8uaXNQbGFpbk9iamVjdCh0KT9PYmplY3QuYXNzaWduKGUsdCk6dCBpbnN0YW5jZW9mIEVsZW1lbnQ/e2VsZW1lbnQ6dH06ImlucHV0Ij09PXQ/cjpudWxsfX0sZnVuY3Rpb24odCxlLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5sb2dEZXByZWNhdGlvbj1mdW5jdGlvbih0KXt2YXIgbj1lLkRFUFJFQ0FURURfT1BUU1t0XSxvPW4ub25seVJlbmFtZSxyPW4ucmVwbGFjZW1lbnQsaT1uLnN1Yk9wdGlvbixhPW4ubGluayxzPW8/InJlbmFtZWQiOiJkZXByZWNhdGVkIixjPSdTd2VldEFsZXJ0IHdhcm5pbmc6ICInK3QrJyIgb3B0aW9uIGhhcyBiZWVuICcrcysiLiI7aWYocil7Yys9IiBQbGVhc2UgdXNlIisoaT8nICInK2krJyIgaW4gJzoiICIpKyciJytyKyciIGluc3RlYWQuJ312YXIgbD0iaHR0cHM6Ly9zd2VldGFsZXJ0LmpzLm9yZyI7Yys9YT8iIE1vcmUgZGV0YWlsczogIitsK2E6IiBNb3JlIGRldGFpbHM6ICIrbCsiL2d1aWRlcy8jdXBncmFkaW5nLWZyb20tMXgiLGNvbnNvbGUud2FybihjKX0sZS5ERVBSRUNBVEVEX09QVFM9e3R5cGU6e3JlcGxhY2VtZW50OiJpY29uIixsaW5rOiIvZG9jcy8jaWNvbiJ9LGltYWdlVXJsOntyZXBsYWNlbWVudDoiaWNvbiIsbGluazoiL2RvY3MvI2ljb24ifSxjdXN0b21DbGFzczp7cmVwbGFjZW1lbnQ6ImNsYXNzTmFtZSIsb25seVJlbmFtZTohMCxsaW5rOiIvZG9jcy8jY2xhc3NuYW1lIn0saW1hZ2VTaXplOnt9LHNob3dDYW5jZWxCdXR0b246e3JlcGxhY2VtZW50OiJidXR0b25zIixsaW5rOiIvZG9jcy8jYnV0dG9ucyJ9LHNob3dDb25maXJtQnV0dG9uOntyZXBsYWNlbWVudDoiYnV0dG9uIixsaW5rOiIvZG9jcy8jYnV0dG9uIn0sY29uZmlybUJ1dHRvblRleHQ6e3JlcGxhY2VtZW50OiJidXR0b24iLGxpbms6Ii9kb2NzLyNidXR0b24ifSxjb25maXJtQnV0dG9uQ29sb3I6e30sY2FuY2VsQnV0dG9uVGV4dDp7cmVwbGFjZW1lbnQ6ImJ1dHRvbnMiLGxpbms6Ii9kb2NzLyNidXR0b25zIn0sY2xvc2VPbkNvbmZpcm06e3JlcGxhY2VtZW50OiJidXR0b24iLHN1Yk9wdGlvbjoiY2xvc2VNb2RhbCIsbGluazoiL2RvY3MvI2J1dHRvbiJ9LGNsb3NlT25DYW5jZWw6e3JlcGxhY2VtZW50OiJidXR0b25zIixzdWJPcHRpb246ImNsb3NlTW9kYWwiLGxpbms6Ii9kb2NzLyNidXR0b25zIn0sc2hvd0xvYWRlck9uQ29uZmlybTp7cmVwbGFjZW1lbnQ6ImJ1dHRvbnMifSxhbmltYXRpb246e30saW5wdXRUeXBlOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxpbnB1dFZhbHVlOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxpbnB1dFBsYWNlaG9sZGVyOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxodG1sOntyZXBsYWNlbWVudDoiY29udGVudCIsbGluazoiL2RvY3MvI2NvbnRlbnQifSxhbGxvd0VzY2FwZUtleTp7cmVwbGFjZW1lbnQ6ImNsb3NlT25Fc2MiLG9ubHlSZW5hbWU6ITAsbGluazoiL2RvY3MvI2Nsb3Nlb25lc2MifSxhbGxvd0NsaWNrT3V0c2lkZTp7cmVwbGFjZW1lbnQ6ImNsb3NlT25DbGlja091dHNpZGUiLG9ubHlSZW5hbWU6ITAsbGluazoiL2RvY3MvI2Nsb3Nlb25jbGlja291dHNpZGUifX19XSl9KTs="}]},{"name":"Local YouTube Downloader","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://*.youtube.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":["googlevideo.com"]}},"storage":{"data":{},"ts":1574751670061},"enabled":false,"position":2,"file_url":"https://greasyfork.org/scripts/369400-local-youtube-downloader/code/Local%20YouTube%20Downloader.user.js","uuid":"e3f81ad1-d0d4-4595-b692-a317b6376a73","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBMb2NhbCBZb3VUdWJlIERvd25sb2FkZXIKLy8gQG5hbWU6emgtVFcgICDmnKzlnLAgWW91VHViZSDkuIvovInlmagKLy8gQG5hbWU6emgtQ04gICDmnKzlnLAgWW91VHViZSDkuIvovb3lmagKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2Jsb2cubWFwbGUzMTQyLm5ldC8KLy8gQHZlcnNpb24gICAgICAwLjkuMTcKLy8gQGRlc2NyaXB0aW9uICBHZXQgeW91dHViZSByYXcgbGluayB3aXRob3V0IGV4dGVybmFsIHNlcnZpY2UuCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5LiN6ZyA6KaB6YCP6YGO56ys5LiJ5pa555qE5pyN5YuZ5bCx6IO95LiL6LyJIFlvdVR1YmUg5b2x54mH44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAg5LiN6ZyA6KaB6YCP6L+H56ys5LiJ5pa555qE5pyN5Yqh5bCx6IO95LiL6L29IFlvdVR1YmUg5b2x54mH44CCCi8vIEBhdXRob3IgICAgICAgbWFwbGUzMTQyCi8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly8qLnlvdXR1YmUuY29tLyoKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3VucGtnLmNvbS92dWVAMi42LjEwL2Rpc3QvdnVlLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly91bnBrZy5jb20veGZldGNoLWpzQDAuMy40L3hmZXRjaC5taW4uanMKLy8gQHJlcXVpcmUgICAgICBodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2ZmbXBlZ0AwLjUuMi9kaXN0L2ZmbXBlZy5taW4uanMKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAY29ubmVjdCAgICAgIGdvb2dsZXZpZGVvLmNvbQovLyBAY29tcGF0aWJsZSAgIGZpcmVmb3ggPj01MgovLyBAY29tcGF0aWJsZSAgIGNocm9tZSA+PTU1Ci8vIEBsaWNlbnNlICAgICAgTUlUCi8vID09L1VzZXJTY3JpcHQ9PQoKOyhmdW5jdGlvbigpIHsKCSd1c2Ugc3RyaWN0JwoJY29uc3QgREVCVUcgPSB0cnVlCgljb25zdCBSRVNUT1JFX09SSUdJTkFMX1RJVExFX0ZPUl9DVVJSRU5UX1ZJREVPID0gdHJ1ZQoJY29uc3QgY3JlYXRlTG9nZ2VyID0gKGNvbnNvbGUsIHRhZykgPT4KCQlPYmplY3Qua2V5cyhjb25zb2xlKQoJCQkubWFwKGsgPT4gWwoJCQkJaywKCQkJCSguLi5hcmdzKSA9PgoJCQkJCURFQlVHCgkJCQkJCT8gY29uc29sZVtrXSh0YWcgKyAnOiAnICsgYXJnc1swXSwgLi4uYXJncy5zbGljZSgxKSkKCQkJCQkJOiB2b2lkIDAKCQkJXSkKCQkJLnJlZHVjZSgoYWNjLCBbaywgZm5dKSA9PiAoKGFjY1trXSA9IGZuKSwgYWNjKSwge30pCgljb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoY29uc29sZSwgJ1lUREwnKQoJY29uc3Qgc2xlZXAgPSBtcyA9PiBuZXcgUHJvbWlzZShyZXMgPT4gc2V0VGltZW91dChyZXMsIG1zKSkKCgljb25zdCBMQU5HX0ZBTExCQUNLID0gJ2VuJwoJY29uc3QgTE9DQUxFID0gewoJCWVuOiB7CgkJCXRvZ2dsZWxpbmtzOiAnU2hvdy9IaWRlIExpbmtzJywKCQkJc3RyZWFtOiAnU3RyZWFtJywKCQkJYWRhcHRpdmU6ICdBZGFwdGl2ZScsCgkJCXZpZGVvaWQ6ICdWaWRlbyBJZDogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjoKCQkJCSdJbiBicm93c2VyIGFkYXB0aXZlIHZpZGVvICYgYXVkaW8gbWVyZ2VyIChGRm1wZWcpJywKCQkJZGxtcDQ6ICdEb3dubG9hZCBoaWdoZXN0IHJlc29sdXRpb24gbXA0IGluIG9uZSBjbGljaycKCQl9LAoJCSd6aC10dyc6IHsKCQkJdG9nZ2xlbGlua3M6ICfpoa/npLogLyDpmrHol4/pgKPntZAnLAoJCQlzdHJlYW06ICfkuLLmtYEgU3RyZWFtJywKCQkJYWRhcHRpdmU6ICfoh6rpganmh4kgQWRhcHRpdmUnLAoJCQl2aWRlb2lkOiAn5b2x54mHIElEOiAnLAoJCQlpbmJyb3dzZXJfYWRhcHRpdmVfbWVyZ2VyOgoJCQkJJ+eAj+imveWZqOeJiOiHqumBqeaHieW9seeJh+WPiuiBsumfs+WQiOaIkOWZqCAoRkZtcGVnKScsCgkJCWRsbXA0OiAn5LiA6Y215LiL6LyJ6auY55Wr6LOqIG1wNCcKCQl9LAoJCXpoOiB7CgkJCXRvZ2dsZWxpbmtzOiAn5pi+56S6IC8g6ZqQ6JeP6ZO+5o6lJywKCQkJc3RyZWFtOiAn5Liy5rWBIFN0cmVhbScsCgkJCWFkYXB0aXZlOiAn6Ieq6YCC5bqUIEFkYXB0aXZlJywKCQkJdmlkZW9pZDogJ+inhumikSBJRDogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjoKCQkJCSfmtY/op4jlmajniYjoh6rpgILlupTop4bpopHlj4rlo7Dpn7PlkIjmiJDlmaggKEZGbXBlZyknLAoJCQlkbG1wNDogJ+S4gOmUruS4i+i9vemrmOeUu+i0qCBtcDQnCgkJfSwKCQlrcjogewoJCQl0b2dnbGVsaW5rczogJ+unge2BrCDrs7TsnbTquLAv7Iio6riw6riwJywKCQkJc3RyZWFtOiAn7Iqk7Yq466as67CNJywKCQkJYWRhcHRpdmU6ICfsobDsoJUg6rCA64ql7ZWcJywKCQkJdmlkZW9pZDogJ1ZpZGVvIElkOiAnCgkJfSwKCQllczogewoJCQl0b2dnbGVsaW5rczogJ01vc3RyYXIvT2N1bHRhciBMaW5rcycsCgkJCXN0cmVhbTogJ1N0cmVhbScsCgkJCWFkYXB0aXZlOiAnQWRhcHRhYmxlJywKCQkJdmlkZW9pZDogJ0lkIGRlbCBWaWRlbzogJywKCQkJaW5icm93c2VyX2FkYXB0aXZlX21lcmdlcjogJ0Fjb3BsYXIgQXVkaW8gYSBWaWRlbyAoRkZtcGVnKScKCQl9LAoJCWhlOiB7CgkJCXRvZ2dsZWxpbmtzOiAn15TXpteSL9eU16HXqteoINen15nXqdeV16jXmdedJywKCQkJc3RyZWFtOiAn16HXmNeo15nXnScsCgkJCWFkYXB0aXZlOiAn15DXk9ek15jXmdeR15knLAoJCQl2aWRlb2lkOiAn157XlteU15Qg16HXqNeY15XXnzogJwoJCX0KCX0KCWNvbnN0IGZpbmRMYW5nID0gbCA9PiB7CgkJLy8gbGFuZ3VhZ2UgcmVzb2x1dGlvbiBsb2dpYzogemgtdHcgLS0oaWYgbm90IGV4aXN0cyktLT4gemggLS0oaWYgbm90IGV4aXN0cyktLT4gTEFOR19GQUxMQkFDSyhlbikKCQlsID0gbC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoJ18nLCAnLScpCgkJaWYgKGwgaW4gTE9DQUxFKSByZXR1cm4gbAoJCWVsc2UgaWYgKGwubGVuZ3RoID4gMikgcmV0dXJuIGZpbmRMYW5nKGwuc3BsaXQoJy0nKVswXSkKCQllbHNlIHJldHVybiBMQU5HX0ZBTExCQUNLCgl9Cgljb25zdCAkID0gKHMsIHggPSBkb2N1bWVudCkgPT4geC5xdWVyeVNlbGVjdG9yKHMpCgljb25zdCAkZWwgPSAodGFnLCBvcHRzKSA9PiB7CgkJY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZykKCQlPYmplY3QuYXNzaWduKGVsLCBvcHRzKQoJCXJldHVybiBlbAoJfQoJY29uc3QgZXNjYXBlUmVnRXhwID0gcyA9PiBzLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXVxcXS9nLCAnXFwkJicpCgljb25zdCBwYXJzZURlY3NpZyA9IGRhdGEgPT4gewoJCXRyeSB7CgkJCWlmIChkYXRhLnN0YXJ0c1dpdGgoJ3ZhciBzY3JpcHQnKSkgewoJCQkJLy8gdGhleSBpbmplY3QgdGhlIHNjcmlwdCB2aWEgc2NyaXB0IHRhZwoJCQkJY29uc3Qgb2JqID0ge30KCQkJCWNvbnN0IGRvY3VtZW50ID0gewoJCQkJCWNyZWF0ZUVsZW1lbnQ6ICgpID0+IG9iaiwKCQkJCQloZWFkOiB7IGFwcGVuZENoaWxkOiAoKSA9PiB7fSB9CgkJCQl9CgkJCQlldmFsKGRhdGEpCgkJCQlkYXRhID0gb2JqLmlubmVySFRNTAoJCQl9CgkJCWNvbnN0IGZubmFtZXJlc3VsdCA9IC89KFthLXpBLVowLTlcJF0rPylcKGRlY29kZVVSSUNvbXBvbmVudC8uZXhlYygKCQkJCWRhdGEKCQkJKQoJCQljb25zdCBmbm5hbWUgPSBmbm5hbWVyZXN1bHRbMV0KCQkJY29uc3QgX2FyZ25hbWVmbmJvZHlyZXN1bHQgPSBuZXcgUmVnRXhwKAoJCQkJZXNjYXBlUmVnRXhwKGZubmFtZSkgKyAnPWZ1bmN0aW9uXFwoKC4rPylcXCl7KC4rPyl9JwoJCQkpLmV4ZWMoZGF0YSkKCQkJY29uc3QgW18sIGFyZ25hbWUsIGZuYm9keV0gPSBfYXJnbmFtZWZuYm9keXJlc3VsdAoJCQljb25zdCBoZWxwZXJuYW1lcmVzdWx0ID0gLzsoLis/KVwuLis/XCgvLmV4ZWMoZm5ib2R5KQoJCQljb25zdCBoZWxwZXJuYW1lID0gaGVscGVybmFtZXJlc3VsdFsxXQoJCQljb25zdCBoZWxwZXJyZXN1bHQgPSBuZXcgUmVnRXhwKAoJCQkJJ3ZhciAnICsgZXNjYXBlUmVnRXhwKGhlbHBlcm5hbWUpICsgJz17W1xcc1xcU10rP307JwoJCQkpLmV4ZWMoZGF0YSkKCQkJY29uc3QgaGVscGVyID0gaGVscGVycmVzdWx0WzBdCgkJCWxvZ2dlci5sb2coCgkJCQlgcGFyc2VkZWNzaWcgcmVzdWx0OiAlcz0+eyVzXG4lc31gLAoJCQkJYXJnbmFtZSwKCQkJCWhlbHBlciwKCQkJCWZuYm9keQoJCQkpCgkJCXJldHVybiBuZXcgRnVuY3Rpb24oW2FyZ25hbWVdLCBoZWxwZXIgKyAnXG4nICsgZm5ib2R5KQoJCX0gY2F0Y2ggKGUpIHsKCQkJbG9nZ2VyLmVycm9yKCdwYXJzZWRlY3NpZyBlcnJvcjogJW8nLCBlKQoJCQlsb2dnZXIuaW5mbygnc2NyaXB0IGNvbnRlbnQ6ICVzJywgZGF0YSkKCQkJbG9nZ2VyLmluZm8oCgkJCQknSWYgeW91IGVuY291bnRlciB0aGlzIGVycm9yLCBwbGVhc2UgY29weSB0aGUgZnVsbCAic2NyaXB0IGNvbnRlbnQiIHRvIGh0dHBzOi8vcGFzdGViaW4uY29tLyBmb3IgbWUuJwoJCQkpCgkJfQoJfQoJY29uc3QgcGFyc2VRdWVyeSA9IHMgPT4KCQlbLi4ubmV3IFVSTFNlYXJjaFBhcmFtcyhzKS5lbnRyaWVzKCldLnJlZHVjZSgKCQkJKGFjYywgW2ssIHZdKSA9PiAoKGFjY1trXSA9IHYpLCBhY2MpLAoJCQl7fQoJCSkKCWNvbnN0IGdldFZpZGVvID0gYXN5bmMgKGlkLCBkZWNzaWcpID0+IHsKCQlyZXR1cm4geGYKCQkJLmdldCgKCQkJCWBodHRwczovL3d3dy55b3V0dWJlLmNvbS9nZXRfdmlkZW9faW5mbz92aWRlb19pZD0ke2lkfSZlbD1kZXRhaWxwYWdlYAoJCQkpCgkJCS50ZXh0KCkKCQkJLnRoZW4oYXN5bmMgZGF0YSA9PiB7CgkJCQljb25zdCBvYmogPSBwYXJzZVF1ZXJ5KGRhdGEpCgkJCQljb25zdCBwbGF5ZXJSZXNwb25zZSA9IEpTT04ucGFyc2Uob2JqLnBsYXllcl9yZXNwb25zZSkKCQkJCWxvZ2dlci5sb2coYHZpZGVvICVzIGRhdGE6ICVvYCwgaWQsIG9iaikKCQkJCWxvZ2dlci5sb2coYHZpZGVvICVzIHBsYXllclJlc3BvbnNlOiAlb2AsIGlkLCBwbGF5ZXJSZXNwb25zZSkKCQkJCWlmIChvYmouc3RhdHVzID09PSAnZmFpbCcpIHsKCQkJCQl0aHJvdyBvYmoKCQkJCX0KCQkJCWxldCBzdHJlYW0gPSBbXQoJCQkJaWYgKHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuZm9ybWF0cykgewoJCQkJCXN0cmVhbSA9IHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuZm9ybWF0cy5tYXAoeCA9PgoJCQkJCQlPYmplY3QuYXNzaWduKHgsIHBhcnNlUXVlcnkoeC5jaXBoZXIpKQoJCQkJCSkKCQkJCQlsb2dnZXIubG9nKGB2aWRlbyAlcyBzdHJlYW06ICVvYCwgaWQsIHN0cmVhbSkKCQkJCQlpZiAoc3RyZWFtWzBdLnNwICYmIHN0cmVhbVswXS5zcC5pbmNsdWRlcygnc2lnJykpIHsKCQkJCQkJc3RyZWFtID0gc3RyZWFtCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgczogZGVjc2lnKHgucykgfSkpCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgdXJsOiB4LnVybCArIGAmc2lnPSR7eC5zfWAgfSkpCgkJCQkJfQoJCQkJfQoKCQkJCWxldCBhZGFwdGl2ZSA9IFtdCgkJCQlpZiAocGxheWVyUmVzcG9uc2Uuc3RyZWFtaW5nRGF0YS5hZGFwdGl2ZUZvcm1hdHMpIHsKCQkJCQlhZGFwdGl2ZSA9IHBsYXllclJlc3BvbnNlLnN0cmVhbWluZ0RhdGEuYWRhcHRpdmVGb3JtYXRzLm1hcCgKCQkJCQkJeCA9PiBPYmplY3QuYXNzaWduKHgsIHBhcnNlUXVlcnkoeC5jaXBoZXIpKQoJCQkJCSkKCQkJCQlsb2dnZXIubG9nKGB2aWRlbyAlcyBhZGFwdGl2ZTogJW9gLCBpZCwgYWRhcHRpdmUpCgkJCQkJaWYgKGFkYXB0aXZlWzBdLnNwICYmIGFkYXB0aXZlWzBdLnNwLmluY2x1ZGVzKCdzaWcnKSkgewoJCQkJCQlhZGFwdGl2ZSA9IGFkYXB0aXZlCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgczogZGVjc2lnKHgucykgfSkpCgkJCQkJCQkubWFwKHggPT4gKHsgLi4ueCwgdXJsOiB4LnVybCArIGAmc2lnPSR7eC5zfWAgfSkpCgkJCQkJfQoJCQkJfQoJCQkJbG9nZ2VyLmxvZyhgdmlkZW8gJXMgcmVzdWx0OiAlb2AsIGlkLCB7IHN0cmVhbSwgYWRhcHRpdmUgfSkKCQkJCXJldHVybiB7IHN0cmVhbSwgYWRhcHRpdmUsIG1ldGE6IG9iaiB9CgkJCX0pCgl9Cgljb25zdCBnZXRWaWRlb0RldGFpbHMgPSBpZCA9PgoJCXhmCgkJCS5nZXQoJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3lvdXR1YmUvdjMvdmlkZW9zJywgewoJCQkJcXM6IHsKCQkJCQlrZXk6ICdBSXphU3lBX3pkZndFeTJVTGZQQ1Rsd2s5RGZoQlZzMkg1cUdOVTgnLAoJCQkJCXBhcnQ6ICdzbmlwcGV0JywKCQkJCQlpZAoJCQkJfQoJCQl9KQoJCQkuanNvbihyID0+IHIuaXRlbXNbMF0pCgljb25zdCB3b3JrZXJNZXNzYWdlSGFuZGxlciA9IGFzeW5jIGUgPT4gewoJCWNvbnN0IGRlY3NpZyA9IGF3YWl0IHhmLmdldChlLmRhdGEucGF0aCkudGV4dChwYXJzZURlY3NpZykKCQljb25zdCByZXN1bHQgPSBhd2FpdCBnZXRWaWRlbyhlLmRhdGEuaWQsIGRlY3NpZykKCQlzZWxmLnBvc3RNZXNzYWdlKHJlc3VsdCkKCX0KCWNvbnN0IHl0ZGxXb3JrZXJDb2RlID0gYAppbXBvcnRTY3JpcHRzKCdodHRwczovL3VucGtnLmNvbS94ZmV0Y2gtanNAMC4zLjQveGZldGNoLm1pbi5qcycpCmNvbnN0IERFQlVHPSR7REVCVUd9CmNvbnN0IGxvZ2dlcj0oJHtjcmVhdGVMb2dnZXJ9KShjb25zb2xlLCAnWVRETCcpCmNvbnN0IGVzY2FwZVJlZ0V4cD0ke2VzY2FwZVJlZ0V4cH0KY29uc3QgcGFyc2VRdWVyeT0ke3BhcnNlUXVlcnl9CmNvbnN0IHBhcnNlRGVjc2lnPSR7cGFyc2VEZWNzaWd9CmNvbnN0IGdldFZpZGVvPSR7Z2V0VmlkZW99CnNlbGYub25tZXNzYWdlPSR7d29ya2VyTWVzc2FnZUhhbmRsZXJ9YAoJY29uc3QgeXRkbFdvcmtlciA9IG5ldyBXb3JrZXIoCgkJVVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbeXRkbFdvcmtlckNvZGVdKSkKCSkKCWNvbnN0IHdvcmtlckdldFZpZGVvID0gKGlkLCBwYXRoKSA9PiB7CgkJbG9nZ2VyLmxvZyhgd29ya2VyR2V0VmlkZW8gc3RhcnQ6ICVzICVzYCwgaWQsIHBhdGgpCgkJcmV0dXJuIG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4gewoJCQljb25zdCBjYWxsYmFjayA9IGUgPT4gewoJCQkJeXRkbFdvcmtlci5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgY2FsbGJhY2spCgkJCQlsb2dnZXIubG9nKCd3b3JrZXJHZXRWaWRlbyBlbmQ6ICVvJywgZS5kYXRhKQoJCQkJcmVzKGUuZGF0YSkKCQkJfQoJCQl5dGRsV29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBjYWxsYmFjaykKCQkJeXRkbFdvcmtlci5wb3N0TWVzc2FnZSh7IGlkLCBwYXRoIH0pCgkJfSkKCX0KCgkvLyB2aWRlbyBkb3dubG9hZGVyCgljb25zdCB4aHJEb3dubG9hZEJ1ZmZlciA9ICh1cmwsIHByb2dyZXNzQ2IpID0+IHsKCQlsZXQgY29udHJvbCwgb3V0cmVqCgkJY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4gewoJCQlpZiAodHlwZW9mIEdNX3htbGh0dHBSZXF1ZXN0ID09PSAndW5kZWZpbmVkJykgewoJCQkJcmV0dXJuIGFsZXJ0KAoJCQkJCSJZb3VyIHVzZXJzY3JpcHQgbWFuYWdlciBkb2Vzbid0IHN1cHBvcnQgdGhpcyBmZWF0dXJlLiIKCQkJCSkKCQkJfQoJCQkvLyB1c2UgZ214aHIgdG8gYnlwYXNzIENPUlMgcHJvYmxlbSB3aGVuIGNvbWluZyBmcm9tIGhvbWUgcGFnZQoJCQljb25zdCBzdGFydCA9IERhdGUubm93KCkKCQkJY29uc3QgeGhyID0ge30KCQkJeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcicKCQkJeGhyLm9ubG9hZCA9IHJlc3AgPT4gcmVzKHJlc3AucmVzcG9uc2UpCgkJCXhoci5vbmVycm9yID0gcmVqCgkJCXhoci5vbnByb2dyZXNzID0gZSA9PiB7CgkJCQlpZiAoIWUubGVuZ3RoQ29tcHV0YWJsZSkgcmV0dXJuCgkJCQljb25zdCBkdCA9IChEYXRlLm5vdygpIC0gc3RhcnQpIC8gMTAwMCAvLyB1bml0OiBzZWNvbmQKCQkJCXByb2dyZXNzQ2IoewoJCQkJCXRvdGFsOiBlLnRvdGFsLCAvLyBieXRlcwoJCQkJCWxvYWRlZDogZS5sb2FkZWQsIC8vIGJ5dGVzCgkJCQkJc3BlZWQ6IGUubG9hZGVkIC8gZHQgLy8gYnl0ZXMvcwoJCQkJfSkKCQkJfQoJCQl4aHIubWV0aG9kID0gJ0dFVCcKCQkJeGhyLnVybCA9IHVybAoKCQkJLy8gYWJvcnQgaGFjawoJCQljb250cm9sID0gR01feG1saHR0cFJlcXVlc3QoeGhyKQoJCQlvdXRyZWogPSByZWoKCQl9KQoJCXByb21pc2UuYWJvcnQgPSAoKSA9PiB7CgkJCWNvbnRyb2wuYWJvcnQoKQoJCQlvdXRyZWooJ2Fib3J0ZWQnKQoJCX0KCQlyZXR1cm4gcHJvbWlzZQoJfQoKCWNvbnN0IGZmV29ya2VyID0gRkZtcGVnLmNyZWF0ZVdvcmtlcih7CgkJbG9nZ2VyOiBERUJVRyA/IG0gPT4gbG9nZ2VyLmxvZyhtLm1lc3NhZ2UpIDogKCkgPT4ge30KCX0pCglsZXQgZmZXb3JrZXJMb2FkZWQgPSBmYWxzZQoJY29uc3QgbWVyZ2VWaWRlbyA9IGFzeW5jICh2aWRlbywgYXVkaW8pID0+IHsKCQlpZiAoIWZmV29ya2VyTG9hZGVkKSBhd2FpdCBmZldvcmtlci5sb2FkKCkKCQlhd2FpdCBmZldvcmtlci53cml0ZSgndmlkZW8ubXA0JywgdmlkZW8pCgkJYXdhaXQgZmZXb3JrZXIud3JpdGUoJ2F1ZGlvLm1wNCcsIGF1ZGlvKQoJCWF3YWl0IGZmV29ya2VyLnJ1bigKCQkJJy1pIC9kYXRhL3ZpZGVvLm1wNCAtaSAvZGF0YS9hdWRpby5tcDQgLWMgY29weSBvdXRwdXQubXA0JywKCQkJewoJCQkJaW5wdXQ6IFsndmlkZW8ubXA0JywgJ2F1ZGlvLm1wNCddLAoJCQkJb3V0cHV0OiAnb3V0cHV0Lm1wNCcKCQkJfQoJCSkKCQljb25zdCB7IGRhdGEgfSA9IGF3YWl0IGZmV29ya2VyLnJlYWQoJ291dHB1dC5tcDQnKQoJCXJldHVybiBkYXRhCgl9Cgljb25zdCB0cmlnZ2VyRG93bmxvYWQgPSAodXJsLCBmaWxlbmFtZSkgPT4gewoJCWNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKCQlhLmhyZWYgPSB1cmwKCQlhLmRvd25sb2FkID0gZmlsZW5hbWUKCQlkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpCgkJYS5jbGljaygpCgkJYS5yZW1vdmUoKQoJfQoJY29uc3QgZGxNb2RhbFRlbXBsYXRlID0gYAo8ZGl2IHN0eWxlPSJ3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyI+Cgk8ZGl2IHYtaWY9Im1lcmdpbmciIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgYWxpZ24taXRlbXM6IGNlbnRlcjsgZm9udC1zaXplOiAyNHB4OyI+TWVyZ2luZyB2aWRlbywgcGxlYXNlIHdhaXQuLi48L2Rpdj4KCTxkaXYgdi1lbHNlIHN0eWxlPSJoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyI+CiAJCTxkaXYgc3R5bGU9ImZsZXg6IDE7IG1hcmdpbjogMTBweDsiPgoJCQk8cCBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyI+VmlkZW88L3A+CgkJCTxwcm9ncmVzcyBzdHlsZT0id2lkdGg6IDEwMCU7IiA6dmFsdWU9InZpZGVvLnByb2dyZXNzIiBtaW49IjAiIG1heD0iMTAwIj48L3Byb2dyZXNzPgoJCQk8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Ij4KCQkJCTxzcGFuPnt7dmlkZW8uc3BlZWR9fSBrQi9zPC9zcGFuPgoJCQkJPHNwYW4+e3t2aWRlby5sb2FkZWR9fS97e3ZpZGVvLnRvdGFsfX0gTUI8L3NwYW4+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgc3R5bGU9ImZsZXg6IDE7IG1hcmdpbjogMTBweDsiPgoJCQk8cCBzdHlsZT0iZm9udC1zaXplOiAyNHB4OyI+QXVkaW88L3A+CgkJCTxwcm9ncmVzcyBzdHlsZT0id2lkdGg6IDEwMCU7IiA6dmFsdWU9ImF1ZGlvLnByb2dyZXNzIiBtaW49IjAiIG1heD0iMTAwIj48L3Byb2dyZXNzPgoJCQk8ZGl2IHN0eWxlPSJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47Ij4KCQkJCTxzcGFuPnt7YXVkaW8uc3BlZWR9fSBrQi9zPC9zcGFuPgoJCQkJPHNwYW4+e3thdWRpby5sb2FkZWR9fS97e2F1ZGlvLnRvdGFsfX0gTUI8L3NwYW4+CgkJCTwvZGl2PgoJCTwvZGl2PgoJPC9kaXY+CjwvZGl2PgpgCglmdW5jdGlvbiBvcGVuRG93bmxvYWRNb2RlbChhZGFwdGl2ZSwgdGl0bGUpIHsKCQljb25zdCB3aW4gPSBvcGVuKAoJCQknJywKCQkJJ1ZpZGVvIERvd25sb2FkJywKCQkJYHRvb2xiYXI9bm8saGVpZ2h0PSR7c2NyZWVuLmhlaWdodCAvIDJ9LHdpZHRoPSR7c2NyZWVuLndpZHRoIC8KCQkJCTJ9LGxlZnQ9JHtzY3JlZW5MZWZ0fSx0b3A9JHtzY3JlZW5Ub3B9YAoJCSkKCQljb25zdCBkaXYgPSB3aW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykKCQl3aW4uZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpCgkJd2luLmRvY3VtZW50LnRpdGxlID0gYERvd25sb2FkaW5nICIke3RpdGxlfSJgCgkJY29uc3QgZGxNb2RhbEFwcCA9IG5ldyBWdWUoewoJCQl0ZW1wbGF0ZTogZGxNb2RhbFRlbXBsYXRlLAoJCQlkYXRhKCkgewoJCQkJcmV0dXJuIHsKCQkJCQl2aWRlbzogewoJCQkJCQlwcm9ncmVzczogMCwKCQkJCQkJdG90YWw6IDAsCgkJCQkJCWxvYWRlZDogMCwKCQkJCQkJc3BlZWQ6IDAKCQkJCQl9LAoJCQkJCWF1ZGlvOiB7CgkJCQkJCXByb2dyZXNzOiAwLAoJCQkJCQl0b3RhbDogMCwKCQkJCQkJbG9hZGVkOiAwLAoJCQkJCQlzcGVlZDogMAoJCQkJCX0sCgkJCQkJbWVyZ2luZzogZmFsc2UKCQkJCX0KCQkJfSwKCQkJbWV0aG9kczogewoJCQkJYXN5bmMgc3RhcnQoYWRhcHRpdmUsIHRpdGxlKSB7CgkJCQkJd2luLm9uYmVmb3JldW5sb2FkID0gKCkgPT4gdHJ1ZQoJCQkJCS8vIFlvdVR1YmUncyBkZWZhdWx0IG9yZGVyIGlzIGRlc2NlbmRpbmcgYnkgdmlkZW8gcXVhbGl0eQoJCQkJCWNvbnN0IHZVcmwgPSBhZGFwdGl2ZQoJCQkJCQkuZmlsdGVyKHggPT4geC5taW1lVHlwZS5pbmNsdWRlcygndmlkZW8vbXA0JykpCgkJCQkJCS5tYXAodiA9PiB7CgkJCQkJCQljb25zdCBbXywgcXVhbGl0eSwgZnBzXSA9IC8oXGQrKXAoXGQqKS8uZXhlYygKCQkJCQkJCQl2LnF1YWxpdHlMYWJlbAoJCQkJCQkJKQoJCQkJCQkJdi5xdWFsaXR5TnVtID0gcGFyc2VJbnQocXVhbGl0eSkKCQkJCQkJCXYuZnBzID0gZnBzID8gcGFyc2VJbnQoZnBzKSA6IDMwCgkJCQkJCQlyZXR1cm4gdgoJCQkJCQl9KQoJCQkJCQkuc29ydCgoYSwgYikgPT4gewoJCQkJCQkJaWYgKGEucXVhbGl0eU51bSA9PT0gYi5xdWFsaXR5TnVtKQoJCQkJCQkJCXJldHVybiBiLmZwcyAtIGEuZnBzIC8vIGV4OiAzMC02MD0tMzAsIHRoZW4gYSB3aWxsIGJlIHB1dCBiZWZvcmUgYgoJCQkJCQkJcmV0dXJuIGIucXVhbGl0eU51bSAtIGEucXVhbGl0eU51bQoJCQkJCQl9KVswXS51cmwKCQkJCQljb25zdCBhVXJsID0gYWRhcHRpdmUuZmluZCh4ID0+CgkJCQkJCXgubWltZVR5cGUuaW5jbHVkZXMoJ2F1ZGlvL21wNCcpCgkJCQkJKS51cmwKCQkJCQljb25zdCB2UHJvbWlzZSA9IHhockRvd25sb2FkQnVmZmVyKHZVcmwsIGUgPT4gewoJCQkJCQl0aGlzLnZpZGVvLnByb2dyZXNzID0gKGUubG9hZGVkIC8gZS50b3RhbCkgKiAxMDAKCQkJCQkJdGhpcy52aWRlby5sb2FkZWQgPSAoZS5sb2FkZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLnZpZGVvLnRvdGFsID0gKGUudG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLnZpZGVvLnNwZWVkID0gKGUuc3BlZWQgLyAxMDI0KS50b0ZpeGVkKDIpCgkJCQkJfSkKCQkJCQljb25zdCBhUHJvbWlzZSA9IHhockRvd25sb2FkQnVmZmVyKGFVcmwsIGUgPT4gewoJCQkJCQl0aGlzLmF1ZGlvLnByb2dyZXNzID0gKGUubG9hZGVkIC8gZS50b3RhbCkgKiAxMDAKCQkJCQkJdGhpcy5hdWRpby5sb2FkZWQgPSAoZS5sb2FkZWQgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLmF1ZGlvLnRvdGFsID0gKGUudG90YWwgLyAxMDI0IC8gMTAyNCkudG9GaXhlZCgyKQoJCQkJCQl0aGlzLmF1ZGlvLnNwZWVkID0gKGUuc3BlZWQgLyAxMDI0KS50b0ZpeGVkKDIpCgkJCQkJfSkKCQkJCQl3aW4ub251bmxvYWQgPSAoKSA9PiB7CgkJCQkJCS8vIGJlY2F1c2UgR01feG1saHR0cFJlcXVlc3Qgd29uJ3QgYXV0b21hdGljYWxseSBzdG9wIHdoZW4gd2luZG93IGNsb3NlcwoJCQkJCQl2UHJvbWlzZS5hYm9ydCgpCgkJCQkJCWFQcm9taXNlLmFib3J0KCkKCQkJCQl9CgkJCQkJY29uc3QgW3ZidWYsIGFidWZdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3ZQcm9taXNlLCBhUHJvbWlzZV0pCgkJCQkJdGhpcy5tZXJnaW5nID0gdHJ1ZQoJCQkJCWNvbnN0IHZhcnIgPSBuZXcgVWludDhBcnJheSh2YnVmKQoJCQkJCWNvbnN0IGFhcnIgPSBuZXcgVWludDhBcnJheShhYnVmKQoJCQkJCWNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmFjZShbCgkJCQkJCW1lcmdlVmlkZW8odmFyciwgYWFyciksCgkJCQkJCXNsZWVwKDEwMDAgKiAyNSkudGhlbigoKSA9PiBudWxsKQoJCQkJCV0pCgkJCQkJaWYgKCFyZXN1bHQpIHsKCQkJCQkJYWxlcnQoJ0FuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIG1lcmdpbmcgdmlkZW8nKQoJCQkJCQljb25zdCBidnVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3ZhcnJdKSkKCQkJCQkJY29uc3QgYmF1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFthYXJyXSkpCgkJCQkJCXRyaWdnZXJEb3dubG9hZChidnVybCwgdGl0bGUgKyAnLXZpZGVvb25seS5tcDQnKQoJCQkJCQl0cmlnZ2VyRG93bmxvYWQoYmF1cmwsIHRpdGxlICsgJy1hdWRpb29ubHkubXA0JykKCQkJCQkJcmV0dXJuIHRoaXMuY2xvc2UoKQoJCQkJCX0KCQkJCQl0aGlzLm1lcmdpbmcgPSBmYWxzZQoJCQkJCWNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW3Jlc3VsdF0pKQoJCQkJCXRyaWdnZXJEb3dubG9hZCh1cmwsIHRpdGxlICsgJy5tcDQnKQoJCQkJCXdpbi5vbmJlZm9yZXVubG9hZCA9IG51bGwKCQkJCQl3aW4uY2xvc2UoKQoJCQkJfQoJCQl9CgkJfSkuJG1vdW50KGRpdikKCQlkbE1vZGFsQXBwLnN0YXJ0KGFkYXB0aXZlLCB0aXRsZSkKCX0KCgljb25zdCB0ZW1wbGF0ZSA9IGAKPGRpdiBjbGFzcz0iYm94IiA6Y2xhc3M9InsnZGFyayc6ZGFya30iPgoJPGRpdiB2LWlmPSJhZGFwdGl2ZS5sZW5ndGgiIGNsYXNzPSJvZi1oIHQtY2VudGVyIGMtcG9pbnRlciBsaC0yMCI+CgkJPGEgY2xhc3M9ImZzLTE0cHgiIEBjbGljaz0iZGxtcDQiIHYtdGV4dD0ic3RyaW5ncy5kbG1wNCI+PC9hPgoJPC9kaXY+Cgk8ZGl2IEBjbGljaz0iaGlkZT0haGlkZSIgY2xhc3M9ImJveC10b2dnbGUgZGl2LWEgdC1jZW50ZXIgZnMtMTRweCBjLXBvaW50ZXIgbGgtMjAiIHYtdGV4dD0ic3RyaW5ncy50b2dnbGVsaW5rcyI+PC9kaXY+Cgk8ZGl2IDpjbGFzcz0ieydoaWRlJzpoaWRlfSI+CgkJPGRpdiBjbGFzcz0idC1jZW50ZXIgZnMtMTRweCIgdi10ZXh0PSJzdHJpbmdzLnZpZGVvaWQraWQiPjwvZGl2PgoJCTxkaXYgY2xhc3M9ImQtZmxleCI+CgkJCTxkaXYgY2xhc3M9ImYtMSBvZi1oIj4KCQkJCTxkaXYgY2xhc3M9InQtY2VudGVyIGZzLTE0cHgiIHYtdGV4dD0ic3RyaW5ncy5zdHJlYW0iPjwvZGl2PgoJCQkJPGEgY2xhc3M9Inl0ZGwtbGluay1idG4gZnMtMTRweCIgdGFyZ2V0PSJfYmxhbmsiIHYtZm9yPSJ2aWQgaW4gc3RyZWFtIiA6aHJlZj0idmlkLnVybCIgOnRpdGxlPSJ2aWQudHlwZSIgdi10ZXh0PSJ2aWQucXVhbGl0eXx8dmlkLnR5cGUiPjwvYT4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9ImYtMSBvZi1oIj4KCQkJCTxkaXYgY2xhc3M9InQtY2VudGVyIGZzLTE0cHgiIHYtdGV4dD0ic3RyaW5ncy5hZGFwdGl2ZSI+PC9kaXY+CgkJCQk8YSBjbGFzcz0ieXRkbC1saW5rLWJ0biBmcy0xNHB4IiB0YXJnZXQ9Il9ibGFuayIgdi1mb3I9InZpZCBpbiBhZGFwdGl2ZSIgOmhyZWY9InZpZC51cmwiIDp0aXRsZT0idmlkLnR5cGUiIHYtdGV4dD0iW3ZpZC5xdWFsaXR5TGFiZWwsdmlkLm1pbWVUeXBlXS5maWx0ZXIoeD0+eCkuam9pbignOicpIj48L2E+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9Im9mLWggdC1jZW50ZXIiPgoJCQk8YSBjbGFzcz0iZnMtMTRweCIgaHJlZj0iaHR0cHM6Ly9tYXBsZTMxNDIuZ2l0aHViLmlvL21lcmdlbXA0LyIgdGFyZ2V0PSJfYmxhbmsiIHYtdGV4dD0ic3RyaW5ncy5pbmJyb3dzZXJfYWRhcHRpdmVfbWVyZ2VyIj48L2E+CgkJPC9kaXY+Cgk8L2Rpdj4KPC9kaXY+CmAuc2xpY2UoMSkKCWNvbnN0IGFwcCA9IG5ldyBWdWUoewoJCWRhdGEoKSB7CgkJCXJldHVybiB7CgkJCQloaWRlOiB0cnVlLAoJCQkJaWQ6ICcnLAoJCQkJc3RyZWFtOiBbXSwKCQkJCWFkYXB0aXZlOiBbXSwKCQkJCW1ldGE6IG51bGwsCgkJCQlkYXJrOiBmYWxzZSwKCQkJCWxhbmc6IGZpbmRMYW5nKG5hdmlnYXRvci5sYW5ndWFnZSkKCQkJfQoJCX0sCgkJY29tcHV0ZWQ6IHsKCQkJc3RyaW5ncygpIHsKCQkJCXJldHVybiBMT0NBTEVbdGhpcy5sYW5nLnRvTG93ZXJDYXNlKCldCgkJCX0KCQl9LAoJCW1ldGhvZHM6IHsKCQkJZGxtcDQoKSB7CgkJCQljb25zdCByID0gSlNPTi5wYXJzZSh0aGlzLm1ldGEucGxheWVyX3Jlc3BvbnNlKQoJCQkJb3BlbkRvd25sb2FkTW9kZWwodGhpcy5hZGFwdGl2ZSwgci52aWRlb0RldGFpbHMudGl0bGUpCgkJCX0KCQl9LAoJCXRlbXBsYXRlCgl9KQoJbG9nZ2VyLmxvZyhgZGVmYXVsdCBsYW5ndWFnZTogJXNgLCBhcHAubGFuZykKCgkvLyBhdHRhY2ggZWxlbWVudAoJY29uc3Qgc2hhZG93SG9zdCA9ICRlbCgnZGl2JykKCWNvbnN0IHNoYWRvdyA9IHNoYWRvd0hvc3QuYXR0YWNoU2hhZG93CgkJPyBzaGFkb3dIb3N0LmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdjbG9zZWQnIH0pCgkJOiBzaGFkb3dIb3N0IC8vIG5vIHNoYWRvdyBkb20KCWxvZ2dlci5sb2coJ3NoYWRvd0hvc3Q6ICVvJywgc2hhZG93SG9zdCkKCWNvbnN0IGNvbnRhaW5lciA9ICRlbCgnZGl2JykKCXNoYWRvdy5hcHBlbmRDaGlsZChjb250YWluZXIpCglhcHAuJG1vdW50KGNvbnRhaW5lcikKCglpZiAoREVCVUcgJiYgdHlwZW9mIHVuc2FmZVdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHsKCQkvLyBleHBvc2Ugc29tZSBmdW5jdGlvbnMgZm9yIGRlYnVnZ2luZwoJCXVuc2FmZVdpbmRvdy4kYXBwID0gYXBwCgkJdW5zYWZlV2luZG93LnBhcnNlUXVlcnkgPSBwYXJzZVF1ZXJ5CgkJdW5zYWZlV2luZG93LnBhcnNlRGVjc2lnID0gcGFyc2VEZWNzaWcKCQl1bnNhZmVXaW5kb3cuZ2V0VmlkZW8gPSBnZXRWaWRlbwoJfQoKCWNvbnN0IGdldExhbmdDb2RlID0gKCkgPT4gewoJCWlmICh0eXBlb2YgeXRwbGF5ZXIgIT09ICd1bmRlZmluZWQnICYmIHl0cGxheWVyLmNvbmZpZykgewoJCQlyZXR1cm4geXRwbGF5ZXIuY29uZmlnLmFyZ3MuaG9zdF9sYW5ndWFnZQoJCX0gZWxzZSBpZiAodHlwZW9mIHl0ICE9PSAndW5kZWZpbmVkJykgewoJCQlyZXR1cm4geXQuY29uZmlnXy5HQVBJX0xPQ0FMRQoJCX0gZWxzZSB7CgkJCXJldHVybiBuYXZpZ2F0b3IubGFuZ3VhZ2UKCQl9CgkJcmV0dXJuIG51bGwKCX0KCWNvbnN0IHRleHRUb0h0bWwgPSB0ID0+IHsKCQkvLyBVUkxzIHN0YXJ0aW5nIHdpdGggaHR0cDovLywgaHR0cHM6Ly8KCQl0ID0gdC5yZXBsYWNlKAoJCQkvKFxiKGh0dHBzPyk6XC9cL1stQS1aMC05KyZAI1wvJT89fl98ITosLjtdKlstQS1aMC05KyZAI1wvJT1+X3xdKS9naW0sCgkJCSc8YSBocmVmPSIkMSIgdGFyZ2V0PSJfYmxhbmsiPiQxPC9hPicKCQkpCgkJdCA9IHQucmVwbGFjZSgvXG4vZywgJzxicj4nKQoJCXJldHVybiB0Cgl9Cgljb25zdCBhcHBseU9yaWdpbmFsVGl0bGUgPSBtZXRhID0+IHsKCQljb25zdCBkYXRhID0gZXZhbChgKCR7bWV0YS5wbGF5ZXJfcmVzcG9uc2V9KWApLnZpZGVvRGV0YWlscyAvLyBub3QgYSB2YWxpZCBqc29uLCBzbyBKU09OLnBhcnNlIHdvbid0IHdvcmsKCQlpZiAoJCgnI2Vvdy10aXRsZScpKSB7CgkJCS8vIGxlZ2FjeSB5b3V0dWJlCgkJCSQoJyNlb3ctdGl0bGUnKS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGUKCQkJJCgnI2Vvdy1kZXNjcmlwdGlvbicpLmlubmVySFRNTCA9IHRleHRUb0h0bWwoZGF0YS5zaG9ydERlc2NyaXB0aW9uKQoJCX0gZWxzZSBpZiAoJCgnaDEudGl0bGUnKSkgewoJCQkvLyBuZXcgeW91dHViZSAocG9seW1lcikKCQkJJCgnaDEudGl0bGUnKS50ZXh0Q29udGVudCA9IGRhdGEudGl0bGUKCQkJJCgneXQtZm9ybWF0dGVkLXN0cmluZy5jb250ZW50JykuaW5uZXJIVE1MID0gdGV4dFRvSHRtbCgKCQkJCWRhdGEuc2hvcnREZXNjcmlwdGlvbgoJCQkpCgkJfQoJfQoJY29uc3QgbG9hZCA9IGFzeW5jIGlkID0+IHsKCQl0cnkgewoJCQljb25zdCBiYXNlanMgPQoJCQkJdHlwZW9mIHl0cGxheWVyICE9PSAndW5kZWZpbmVkJyAmJiB5dHBsYXllci5jb25maWcKCQkJCQk/ICdodHRwczovLycgKyBsb2NhdGlvbi5ob3N0ICsgeXRwbGF5ZXIuY29uZmlnLmFzc2V0cy5qcwoJCQkJCTogJCgnc2NyaXB0W3NyYyQ9ImJhc2UuanMiXScpLnNyYwoJCQljb25zdCBkYXRhID0gYXdhaXQgd29ya2VyR2V0VmlkZW8oaWQsIGJhc2VqcykKCQkJbG9nZ2VyLmxvZygndmlkZW8gbG9hZGVkOiAlcycsIGlkKQoJCQlpZiAoUkVTVE9SRV9PUklHSU5BTF9USVRMRV9GT1JfQ1VSUkVOVF9WSURFTykgewoJCQkJdHJ5IHsKCQkJCQlhcHBseU9yaWdpbmFsVGl0bGUoZGF0YS5tZXRhKQoJCQkJfSBjYXRjaCAoZSkgewoJCQkJCS8vIGp1c3QgbWFrZSBzdXJlIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgd29yayBldmVuIGlmIG9yaWdpbmFsIHRpdGxlIGFwcGxpZXIgZG9lc24ndCB3b3JrCgkJCQl9CgkJCX0KCQkJYXBwLmlkID0gaWQKCQkJYXBwLnN0cmVhbSA9IGRhdGEuc3RyZWFtCgkJCWFwcC5hZGFwdGl2ZSA9IGRhdGEuYWRhcHRpdmUKCQkJYXBwLm1ldGEgPSBkYXRhLm1ldGEKCgkJCWNvbnN0IGFjdExhbmcgPSBnZXRMYW5nQ29kZSgpCgkJCWlmIChhY3RMYW5nICE9PSBudWxsKSB7CgkJCQljb25zdCBsYW5nID0gZmluZExhbmcoYWN0TGFuZykKCQkJCWxvZ2dlci5sb2coJ3lvdXR1YmUgdWkgbGFuZzogJXMnLCBhY3RMYW5nKQoJCQkJbG9nZ2VyLmxvZygneXRkbCBsYW5nOicsIGxhbmcpCgkJCQlhcHAubGFuZyA9IGxhbmcKCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQlsb2dnZXIuZXJyb3IoJ2xvYWQnLCBlcnIpCgkJfQoJfQoJbGV0IHByZXYgPSBudWxsCglzZXRJbnRlcnZhbCgoKSA9PiB7CgkJY29uc3QgZWwgPQoJCQkkKCcjaW5mby1jb250ZW50cycpIHx8CgkJCSQoJyN3YXRjaC1oZWFkZXInKSB8fAoJCQkkKAoJCQkJJy5wYWdlLWNvbnRhaW5lcjpub3QoW2hpZGRlbl0pIHl0bS1pdGVtLXNlY3Rpb24tcmVuZGVyZXI+bGF6eS1saXN0JwoJCQkpCgkJaWYgKGVsICYmICFlbC5jb250YWlucyhzaGFkb3dIb3N0KSkgewoJCQllbC5hcHBlbmRDaGlsZChzaGFkb3dIb3N0KQoJCX0KCQlpZiAobG9jYXRpb24uaHJlZiAhPT0gcHJldikgewoJCQlsb2dnZXIubG9nKGBwYWdlIGNoYW5nZTogJHtwcmV2fSAtPiAke2xvY2F0aW9uLmhyZWZ9YCkKCQkJcHJldiA9IGxvY2F0aW9uLmhyZWYKCQkJaWYgKGxvY2F0aW9uLnBhdGhuYW1lID09PSAnL3dhdGNoJykgewoJCQkJc2hhZG93SG9zdC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJwoJCQkJY29uc3QgaWQgPSBwYXJzZVF1ZXJ5KGxvY2F0aW9uLnNlYXJjaCkudgoJCQkJbG9nZ2VyLmxvZygnc3RhcnQgbG9hZGluZyBuZXcgdmlkZW86ICVzJywgaWQpCgkJCQlhcHAuaGlkZSA9IHRydWUgLy8gZm9sZCBpdAoJCQkJbG9hZChpZCkKCQkJfSBlbHNlIHsKCQkJCXNoYWRvd0hvc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJwoJCQl9CgkJfQoJfSwgMTAwMCkKCgkvLyBsaXN0ZW4gdG8gZGFyayBtb2RlIHRvZ2dsZQoJY29uc3QgJGh0bWwgPSAkKCdodG1sJykKCW5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHsKCQlhcHAuZGFyayA9ICRodG1sLmdldEF0dHJpYnV0ZSgnZGFyaycpID09PSAndHJ1ZScKCX0pLm9ic2VydmUoJGh0bWwsIHsgYXR0cmlidXRlczogdHJ1ZSB9KQoJYXBwLmRhcmsgPSAkaHRtbC5nZXRBdHRyaWJ1dGUoJ2RhcmsnKSA9PT0gJ3RydWUnCgoJY29uc3QgY3NzID0gYAouaGlkZXsKCWRpc3BsYXk6IG5vbmU7Cn0KLnQtY2VudGVyewoJdGV4dC1hbGlnbjogY2VudGVyOwp9Ci5kLWZsZXh7CglkaXNwbGF5OiBmbGV4Owp9Ci5mLTF7CglmbGV4OiAxOwp9Ci5mcy0xNHB4ewoJZm9udC1zaXplOiAxNHB4Owp9Ci5vZi1oewoJb3ZlcmZsb3c6IGhpZGRlbjsKfQouYm94ewoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLXl0LWJvcmRlci1jb2xvcik7Cglmb250LWZhbWlseTogQXJpYWw7Cn0KLmJveC10b2dnbGV7CgltYXJnaW46IDNweDsKCXVzZXItc2VsZWN0OiBub25lOwoJLW1vei11c2VyLXNlbGVjdDogLW1vei1ub25lOwp9Ci55dGRsLWxpbmstYnRuewoJZGlzcGxheTogYmxvY2s7Cglib3JkZXI6IDFweCBzb2xpZCAhaW1wb3J0YW50OwoJYm9yZGVyLXJhZGl1czogM3B4OwoJdGV4dC1kZWNvcmF0aW9uOiBub25lICFpbXBvcnRhbnQ7CglvdXRsaW5lOiAwOwoJdGV4dC1hbGlnbjogY2VudGVyOwoJcGFkZGluZzogMnB4OwoJbWFyZ2luOiA1cHg7Cgljb2xvcjogYmxhY2s7Cn0KYSwgLmRpdi1hewoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJY29sb3I6IHZhcigtLXl0LWJ1dHRvbi1jb2xvciwgaW5oZXJpdCk7Cn0KYTpob3ZlciwgLmRpdi1hOmhvdmVyewoJY29sb3I6IHZhcigtLXl0LXNwZWMtY2FsbC10by1hY3Rpb24sIGJsdWUpOwp9Ci5ib3guZGFya3sKCWNvbG9yOiB2YXIoLS15dGQtdmlkZW8tcHJpbWFyeS1pbmZvLXJlbmRlcmVyLXRpdGxlLWNvbG9yLCB2YXIoLS15dC1wcmltYXJ5LXRleHQtY29sb3IpKTsKfQouYm94LmRhcmsgLnl0ZGwtbGluay1idG57Cgljb2xvcjogdmFyKC0teXRkLXZpZGVvLXByaW1hcnktaW5mby1yZW5kZXJlci10aXRsZS1jb2xvciwgdmFyKC0teXQtcHJpbWFyeS10ZXh0LWNvbG9yKSk7Cn0KLmJveC5kYXJrIC55dGRsLWxpbmstYnRuOmhvdmVyewoJY29sb3I6IHJnYmEoMjAwLCAyMDAsIDI1NSwgMC44KTsKfQouYm94LmRhcmsgLmJveC10b2dnbGU6aG92ZXJ7Cgljb2xvcjogcmdiYSgyMDAsIDIwMCwgMjU1LCAwLjgpOwp9Ci5jLXBvaW50ZXJ7CgljdXJzb3I6IHBvaW50ZXI7Cn0KLmxoLTIwewoJbGluZS1oZWlnaHQ6IDIwcHg7Cn0KYAoJc2hhZG93LmFwcGVuZENoaWxkKCRlbCgnc3R5bGUnLCB7IHRleHRDb250ZW50OiBjc3MgfSkpCn0pKCkK","requires":[{"meta":{"name":"vue.js","url":"https://unpkg.com/vue@2.6.10/dist/vue.js","ts":1580289830754,"mimetype":"text/javascript"},"source":"LyohCiAqIFZ1ZS5qcyB2Mi42LjEwCiAqIChjKSAyMDE0LTIwMTkgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHsKICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6CiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDoKICAoZ2xvYmFsID0gZ2xvYmFsIHx8IHNlbGYsIGdsb2JhbC5WdWUgPSBmYWN0b3J5KCkpOwp9KHRoaXMsIGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnOwoKICAvKiAgKi8KCiAgdmFyIGVtcHR5T2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSh7fSk7CgogIC8vIFRoZXNlIGhlbHBlcnMgcHJvZHVjZSBiZXR0ZXIgVk0gY29kZSBpbiBKUyBlbmdpbmVzIGR1ZSB0byB0aGVpcgogIC8vIGV4cGxpY2l0bmVzcyBhbmQgZnVuY3Rpb24gaW5saW5pbmcuCiAgZnVuY3Rpb24gaXNVbmRlZiAodikgewogICAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsCiAgfQoKICBmdW5jdGlvbiBpc0RlZiAodikgewogICAgcmV0dXJuIHYgIT09IHVuZGVmaW5lZCAmJiB2ICE9PSBudWxsCiAgfQoKICBmdW5jdGlvbiBpc1RydWUgKHYpIHsKICAgIHJldHVybiB2ID09PSB0cnVlCiAgfQoKICBmdW5jdGlvbiBpc0ZhbHNlICh2KSB7CiAgICByZXR1cm4gdiA9PT0gZmFsc2UKICB9CgogIC8qKgogICAqIENoZWNrIGlmIHZhbHVlIGlzIHByaW1pdGl2ZS4KICAgKi8KICBmdW5jdGlvbiBpc1ByaW1pdGl2ZSAodmFsdWUpIHsKICAgIHJldHVybiAoCiAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHwKICAgICAgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyB8fAogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgdHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJyB8fAogICAgICB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJwogICAgKQogIH0KCiAgLyoqCiAgICogUXVpY2sgb2JqZWN0IGNoZWNrIC0gdGhpcyBpcyBwcmltYXJpbHkgdXNlZCB0byB0ZWxsCiAgICogT2JqZWN0cyBmcm9tIHByaW1pdGl2ZSB2YWx1ZXMgd2hlbiB3ZSBrbm93IHRoZSB2YWx1ZQogICAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS4KICAgKi8KICBmdW5jdGlvbiBpc09iamVjdCAob2JqKSB7CiAgICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnCiAgfQoKICAvKioKICAgKiBHZXQgdGhlIHJhdyB0eXBlIHN0cmluZyBvZiBhIHZhbHVlLCBlLmcuLCBbb2JqZWN0IE9iamVjdF0uCiAgICovCiAgdmFyIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7CgogIGZ1bmN0aW9uIHRvUmF3VHlwZSAodmFsdWUpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2YWx1ZSkuc2xpY2UoOCwgLTEpCiAgfQoKICAvKioKICAgKiBTdHJpY3Qgb2JqZWN0IHR5cGUgY2hlY2suIE9ubHkgcmV0dXJucyB0cnVlCiAgICogZm9yIHBsYWluIEphdmFTY3JpcHQgb2JqZWN0cy4KICAgKi8KICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBPYmplY3RdJwogIH0KCiAgZnVuY3Rpb24gaXNSZWdFeHAgKHYpIHsKICAgIHJldHVybiBfdG9TdHJpbmcuY2FsbCh2KSA9PT0gJ1tvYmplY3QgUmVnRXhwXScKICB9CgogIC8qKgogICAqIENoZWNrIGlmIHZhbCBpcyBhIHZhbGlkIGFycmF5IGluZGV4LgogICAqLwogIGZ1bmN0aW9uIGlzVmFsaWRBcnJheUluZGV4ICh2YWwpIHsKICAgIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7CiAgICByZXR1cm4gbiA+PSAwICYmIE1hdGguZmxvb3IobikgPT09IG4gJiYgaXNGaW5pdGUodmFsKQogIH0KCiAgZnVuY3Rpb24gaXNQcm9taXNlICh2YWwpIHsKICAgIHJldHVybiAoCiAgICAgIGlzRGVmKHZhbCkgJiYKICAgICAgdHlwZW9mIHZhbC50aGVuID09PSAnZnVuY3Rpb24nICYmCiAgICAgIHR5cGVvZiB2YWwuY2F0Y2ggPT09ICdmdW5jdGlvbicKICAgICkKICB9CgogIC8qKgogICAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLgogICAqLwogIGZ1bmN0aW9uIHRvU3RyaW5nICh2YWwpIHsKICAgIHJldHVybiB2YWwgPT0gbnVsbAogICAgICA/ICcnCiAgICAgIDogQXJyYXkuaXNBcnJheSh2YWwpIHx8IChpc1BsYWluT2JqZWN0KHZhbCkgJiYgdmFsLnRvU3RyaW5nID09PSBfdG9TdHJpbmcpCiAgICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpCiAgICAgICAgOiBTdHJpbmcodmFsKQogIH0KCiAgLyoqCiAgICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuCiAgICogSWYgdGhlIGNvbnZlcnNpb24gZmFpbHMsIHJldHVybiBvcmlnaW5hbCBzdHJpbmcuCiAgICovCiAgZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkgewogICAgdmFyIG4gPSBwYXJzZUZsb2F0KHZhbCk7CiAgICByZXR1cm4gaXNOYU4obikgPyB2YWwgOiBuCiAgfQoKICAvKioKICAgKiBNYWtlIGEgbWFwIGFuZCByZXR1cm4gYSBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYSBrZXkKICAgKiBpcyBpbiB0aGF0IG1hcC4KICAgKi8KICBmdW5jdGlvbiBtYWtlTWFwICgKICAgIHN0ciwKICAgIGV4cGVjdHNMb3dlckNhc2UKICApIHsKICAgIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICBtYXBbbGlzdFtpXV0gPSB0cnVlOwogICAgfQogICAgcmV0dXJuIGV4cGVjdHNMb3dlckNhc2UKICAgICAgPyBmdW5jdGlvbiAodmFsKSB7IHJldHVybiBtYXBbdmFsLnRvTG93ZXJDYXNlKCldOyB9CiAgICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH0KICB9CgogIC8qKgogICAqIENoZWNrIGlmIGEgdGFnIGlzIGEgYnVpbHQtaW4gdGFnLgogICAqLwogIHZhciBpc0J1aWx0SW5UYWcgPSBtYWtlTWFwKCdzbG90LGNvbXBvbmVudCcsIHRydWUpOwoKICAvKioKICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUuCiAgICovCiAgdmFyIGlzUmVzZXJ2ZWRBdHRyaWJ1dGUgPSBtYWtlTWFwKCdrZXkscmVmLHNsb3Qsc2xvdC1zY29wZSxpcycpOwoKICAvKioKICAgKiBSZW1vdmUgYW4gaXRlbSBmcm9tIGFuIGFycmF5LgogICAqLwogIGZ1bmN0aW9uIHJlbW92ZSAoYXJyLCBpdGVtKSB7CiAgICBpZiAoYXJyLmxlbmd0aCkgewogICAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTsKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKICAgICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSkKICAgICAgfQogICAgfQogIH0KCiAgLyoqCiAgICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS4KICAgKi8KICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5OwogIGZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHsKICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KQogIH0KCiAgLyoqCiAgICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLgogICAqLwogIGZ1bmN0aW9uIGNhY2hlZCAoZm4pIHsKICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICByZXR1cm4gKGZ1bmN0aW9uIGNhY2hlZEZuIChzdHIpIHsKICAgICAgdmFyIGhpdCA9IGNhY2hlW3N0cl07CiAgICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKQogICAgfSkKICB9CgogIC8qKgogICAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuCiAgICovCiAgdmFyIGNhbWVsaXplUkUgPSAvLShcdykvZzsKICB2YXIgY2FtZWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pCiAgfSk7CgogIC8qKgogICAqIENhcGl0YWxpemUgYSBzdHJpbmcuCiAgICovCiAgdmFyIGNhcGl0YWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zbGljZSgxKQogIH0pOwoKICAvKioKICAgKiBIeXBoZW5hdGUgYSBjYW1lbENhc2Ugc3RyaW5nLgogICAqLwogIHZhciBoeXBoZW5hdGVSRSA9IC9cQihbQS1aXSkvZzsKICB2YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiBzdHIucmVwbGFjZShoeXBoZW5hdGVSRSwgJy0kMScpLnRvTG93ZXJDYXNlKCkKICB9KTsKCiAgLyoqCiAgICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LAogICAqIGUuZy4sIFBoYW50b21KUyAxLnguIFRlY2huaWNhbGx5LCB3ZSBkb24ndCBuZWVkIHRoaXMgYW55bW9yZQogICAqIHNpbmNlIG5hdGl2ZSBiaW5kIGlzIG5vdyBwZXJmb3JtYW50IGVub3VnaCBpbiBtb3N0IGJyb3dzZXJzLgogICAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW4KICAgKiBQaGFudG9tSlMgMS54LCBzbyB0aGlzIG11c3QgYmUga2VwdCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eS4KICAgKi8KCiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICBmdW5jdGlvbiBwb2x5ZmlsbEJpbmQgKGZuLCBjdHgpIHsKICAgIGZ1bmN0aW9uIGJvdW5kRm4gKGEpIHsKICAgICAgdmFyIGwgPSBhcmd1bWVudHMubGVuZ3RoOwogICAgICByZXR1cm4gbAogICAgICAgID8gbCA+IDEKICAgICAgICAgID8gZm4uYXBwbHkoY3R4LCBhcmd1bWVudHMpCiAgICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKQogICAgICAgIDogZm4uY2FsbChjdHgpCiAgICB9CgogICAgYm91bmRGbi5fbGVuZ3RoID0gZm4ubGVuZ3RoOwogICAgcmV0dXJuIGJvdW5kRm4KICB9CgogIGZ1bmN0aW9uIG5hdGl2ZUJpbmQgKGZuLCBjdHgpIHsKICAgIHJldHVybiBmbi5iaW5kKGN0eCkKICB9CgogIHZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQKICAgID8gbmF0aXZlQmluZAogICAgOiBwb2x5ZmlsbEJpbmQ7CgogIC8qKgogICAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LgogICAqLwogIGZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7CiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7CiAgICB2YXIgaSA9IGxpc3QubGVuZ3RoIC0gc3RhcnQ7CiAgICB2YXIgcmV0ID0gbmV3IEFycmF5KGkpOwogICAgd2hpbGUgKGktLSkgewogICAgICByZXRbaV0gPSBsaXN0W2kgKyBzdGFydF07CiAgICB9CiAgICByZXR1cm4gcmV0CiAgfQoKICAvKioKICAgKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuCiAgICovCiAgZnVuY3Rpb24gZXh0ZW5kICh0bywgX2Zyb20pIHsKICAgIGZvciAodmFyIGtleSBpbiBfZnJvbSkgewogICAgICB0b1trZXldID0gX2Zyb21ba2V5XTsKICAgIH0KICAgIHJldHVybiB0bwogIH0KCiAgLyoqCiAgICogTWVyZ2UgYW4gQXJyYXkgb2YgT2JqZWN0cyBpbnRvIGEgc2luZ2xlIE9iamVjdC4KICAgKi8KICBmdW5jdGlvbiB0b09iamVjdCAoYXJyKSB7CiAgICB2YXIgcmVzID0ge307CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICBpZiAoYXJyW2ldKSB7CiAgICAgICAgZXh0ZW5kKHJlcywgYXJyW2ldKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KCiAgLyoqCiAgICogUGVyZm9ybSBubyBvcGVyYXRpb24uCiAgICogU3R1YmJpbmcgYXJncyB0byBtYWtlIEZsb3cgaGFwcHkgd2l0aG91dCBsZWF2aW5nIHVzZWxlc3MgdHJhbnNwaWxlZCBjb2RlCiAgICogd2l0aCAuLi5yZXN0IChodHRwczovL2Zsb3cub3JnL2Jsb2cvMjAxNy8wNS8wNy9TdHJpY3QtRnVuY3Rpb24tQ2FsbC1Bcml0eS8pLgogICAqLwogIGZ1bmN0aW9uIG5vb3AgKGEsIGIsIGMpIHt9CgogIC8qKgogICAqIEFsd2F5cyByZXR1cm4gZmFsc2UuCiAgICovCiAgdmFyIG5vID0gZnVuY3Rpb24gKGEsIGIsIGMpIHsgcmV0dXJuIGZhbHNlOyB9OwoKICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVudXNlZC12YXJzICovCgogIC8qKgogICAqIFJldHVybiB0aGUgc2FtZSB2YWx1ZS4KICAgKi8KICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfTsKCiAgLyoqCiAgICogR2VuZXJhdGUgYSBzdHJpbmcgY29udGFpbmluZyBzdGF0aWMga2V5cyBmcm9tIGNvbXBpbGVyIG1vZHVsZXMuCiAgICovCiAgZnVuY3Rpb24gZ2VuU3RhdGljS2V5cyAobW9kdWxlcykgewogICAgcmV0dXJuIG1vZHVsZXMucmVkdWNlKGZ1bmN0aW9uIChrZXlzLCBtKSB7CiAgICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pCiAgICB9LCBbXSkuam9pbignLCcpCiAgfQoKICAvKioKICAgKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcywKICAgKiBpZiB0aGV5IGFyZSBwbGFpbiBvYmplY3RzLCBkbyB0aGV5IGhhdmUgdGhlIHNhbWUgc2hhcGU/CiAgICovCiAgZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikgewogICAgaWYgKGEgPT09IGIpIHsgcmV0dXJuIHRydWUgfQogICAgdmFyIGlzT2JqZWN0QSA9IGlzT2JqZWN0KGEpOwogICAgdmFyIGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpOwogICAgaWYgKGlzT2JqZWN0QSAmJiBpc09iamVjdEIpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgaXNBcnJheUEgPSBBcnJheS5pc0FycmF5KGEpOwogICAgICAgIHZhciBpc0FycmF5QiA9IEFycmF5LmlzQXJyYXkoYik7CiAgICAgICAgaWYgKGlzQXJyYXlBICYmIGlzQXJyYXlCKSB7CiAgICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHsKICAgICAgICAgICAgcmV0dXJuIGxvb3NlRXF1YWwoZSwgYltpXSkKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSkgewogICAgICAgICAgcmV0dXJuIGEuZ2V0VGltZSgpID09PSBiLmdldFRpbWUoKQogICAgICAgIH0gZWxzZSBpZiAoIWlzQXJyYXlBICYmICFpc0FycmF5QikgewogICAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7CiAgICAgICAgICB2YXIga2V5c0IgPSBPYmplY3Qua2V5cyhiKTsKICAgICAgICAgIHJldHVybiBrZXlzQS5sZW5ndGggPT09IGtleXNCLmxlbmd0aCAmJiBrZXlzQS5ldmVyeShmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgIH0gZWxzZSBpZiAoIWlzT2JqZWN0QSAmJiAhaXNPYmplY3RCKSB7CiAgICAgIHJldHVybiBTdHJpbmcoYSkgPT09IFN0cmluZyhiKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQoKICAvKioKICAgKiBSZXR1cm4gdGhlIGZpcnN0IGluZGV4IGF0IHdoaWNoIGEgbG9vc2VseSBlcXVhbCB2YWx1ZSBjYW4gYmUKICAgKiBmb3VuZCBpbiB0aGUgYXJyYXkgKGlmIHZhbHVlIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGUgYXJyYXkgbXVzdAogICAqIGNvbnRhaW4gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIHNoYXBlKSwgb3IgLTEgaWYgaXQgaXMgbm90IHByZXNlbnQuCiAgICovCiAgZnVuY3Rpb24gbG9vc2VJbmRleE9mIChhcnIsIHZhbCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKGxvb3NlRXF1YWwoYXJyW2ldLCB2YWwpKSB7IHJldHVybiBpIH0KICAgIH0KICAgIHJldHVybiAtMQogIH0KCiAgLyoqCiAgICogRW5zdXJlIGEgZnVuY3Rpb24gaXMgY2FsbGVkIG9ubHkgb25jZS4KICAgKi8KICBmdW5jdGlvbiBvbmNlIChmbikgewogICAgdmFyIGNhbGxlZCA9IGZhbHNlOwogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFjYWxsZWQpIHsKICAgICAgICBjYWxsZWQgPSB0cnVlOwogICAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBTU1JfQVRUUiA9ICdkYXRhLXNlcnZlci1yZW5kZXJlZCc7CgogIHZhciBBU1NFVF9UWVBFUyA9IFsKICAgICdjb21wb25lbnQnLAogICAgJ2RpcmVjdGl2ZScsCiAgICAnZmlsdGVyJwogIF07CgogIHZhciBMSUZFQ1lDTEVfSE9PS1MgPSBbCiAgICAnYmVmb3JlQ3JlYXRlJywKICAgICdjcmVhdGVkJywKICAgICdiZWZvcmVNb3VudCcsCiAgICAnbW91bnRlZCcsCiAgICAnYmVmb3JlVXBkYXRlJywKICAgICd1cGRhdGVkJywKICAgICdiZWZvcmVEZXN0cm95JywKICAgICdkZXN0cm95ZWQnLAogICAgJ2FjdGl2YXRlZCcsCiAgICAnZGVhY3RpdmF0ZWQnLAogICAgJ2Vycm9yQ2FwdHVyZWQnLAogICAgJ3NlcnZlclByZWZldGNoJwogIF07CgogIC8qICAqLwoKCgogIHZhciBjb25maWcgPSAoewogICAgLyoqCiAgICAgKiBPcHRpb24gbWVyZ2Ugc3RyYXRlZ2llcyAodXNlZCBpbiBjb3JlL3V0aWwvb3B0aW9ucykKICAgICAqLwogICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICBvcHRpb25NZXJnZVN0cmF0ZWdpZXM6IE9iamVjdC5jcmVhdGUobnVsbCksCgogICAgLyoqCiAgICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLgogICAgICovCiAgICBzaWxlbnQ6IGZhbHNlLAoKICAgIC8qKgogICAgICogU2hvdyBwcm9kdWN0aW9uIG1vZGUgdGlwIG1lc3NhZ2Ugb24gYm9vdD8KICAgICAqLwogICAgcHJvZHVjdGlvblRpcDogImRldmVsb3BtZW50IiAhPT0gJ3Byb2R1Y3Rpb24nLAoKICAgIC8qKgogICAgICogV2hldGhlciB0byBlbmFibGUgZGV2dG9vbHMKICAgICAqLwogICAgZGV2dG9vbHM6ICJkZXZlbG9wbWVudCIgIT09ICdwcm9kdWN0aW9uJywKCiAgICAvKioKICAgICAqIFdoZXRoZXIgdG8gcmVjb3JkIHBlcmYKICAgICAqLwogICAgcGVyZm9ybWFuY2U6IGZhbHNlLAoKICAgIC8qKgogICAgICogRXJyb3IgaGFuZGxlciBmb3Igd2F0Y2hlciBlcnJvcnMKICAgICAqLwogICAgZXJyb3JIYW5kbGVyOiBudWxsLAoKICAgIC8qKgogICAgICogV2FybiBoYW5kbGVyIGZvciB3YXRjaGVyIHdhcm5zCiAgICAgKi8KICAgIHdhcm5IYW5kbGVyOiBudWxsLAoKICAgIC8qKgogICAgICogSWdub3JlIGNlcnRhaW4gY3VzdG9tIGVsZW1lbnRzCiAgICAgKi8KICAgIGlnbm9yZWRFbGVtZW50czogW10sCgogICAgLyoqCiAgICAgKiBDdXN0b20gdXNlciBrZXkgYWxpYXNlcyBmb3Igdi1vbgogICAgICovCiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgIGtleUNvZGVzOiBPYmplY3QuY3JlYXRlKG51bGwpLAoKICAgIC8qKgogICAgICogQ2hlY2sgaWYgYSB0YWcgaXMgcmVzZXJ2ZWQgc28gdGhhdCBpdCBjYW5ub3QgYmUgcmVnaXN0ZXJlZCBhcyBhCiAgICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uCiAgICAgKi8KICAgIGlzUmVzZXJ2ZWRUYWc6IG5vLAoKICAgIC8qKgogICAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHVzZWQgYXMgYSBjb21wb25lbnQKICAgICAqIHByb3AuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uCiAgICAgKi8KICAgIGlzUmVzZXJ2ZWRBdHRyOiBubywKCiAgICAvKioKICAgICAqIENoZWNrIGlmIGEgdGFnIGlzIGFuIHVua25vd24gZWxlbWVudC4KICAgICAqIFBsYXRmb3JtLWRlcGVuZGVudC4KICAgICAqLwogICAgaXNVbmtub3duRWxlbWVudDogbm8sCgogICAgLyoqCiAgICAgKiBHZXQgdGhlIG5hbWVzcGFjZSBvZiBhbiBlbGVtZW50CiAgICAgKi8KICAgIGdldFRhZ05hbWVzcGFjZTogbm9vcCwKCiAgICAvKioKICAgICAqIFBhcnNlIHRoZSByZWFsIHRhZyBuYW1lIGZvciB0aGUgc3BlY2lmaWMgcGxhdGZvcm0uCiAgICAgKi8KICAgIHBhcnNlUGxhdGZvcm1UYWdOYW1lOiBpZGVudGl0eSwKCiAgICAvKioKICAgICAqIENoZWNrIGlmIGFuIGF0dHJpYnV0ZSBtdXN0IGJlIGJvdW5kIHVzaW5nIHByb3BlcnR5LCBlLmcuIHZhbHVlCiAgICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuCiAgICAgKi8KICAgIG11c3RVc2VQcm9wOiBubywKCiAgICAvKioKICAgICAqIFBlcmZvcm0gdXBkYXRlcyBhc3luY2hyb25vdXNseS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBieSBWdWUgVGVzdCBVdGlscwogICAgICogVGhpcyB3aWxsIHNpZ25pZmljYW50bHkgcmVkdWNlIHBlcmZvcm1hbmNlIGlmIHNldCB0byBmYWxzZS4KICAgICAqLwogICAgYXN5bmM6IHRydWUsCgogICAgLyoqCiAgICAgKiBFeHBvc2VkIGZvciBsZWdhY3kgcmVhc29ucwogICAgICovCiAgICBfbGlmZWN5Y2xlSG9va3M6IExJRkVDWUNMRV9IT09LUwogIH0pOwoKICAvKiAgKi8KCiAgLyoqCiAgICogdW5pY29kZSBsZXR0ZXJzIHVzZWQgZm9yIHBhcnNpbmcgaHRtbCB0YWdzLCBjb21wb25lbnQgbmFtZXMgYW5kIHByb3BlcnR5IHBhdGhzLgogICAqIHVzaW5nIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTMvc2VtYW50aWNzLXNjcmlwdGluZy5odG1sI3BvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lCiAgICogc2tpcHBpbmcgXHUxMDAwMC1cdUVGRkZGIGR1ZSB0byBpdCBmcmVlemluZyB1cCBQaGFudG9tSlMKICAgKi8KICB2YXIgdW5pY29kZVJlZ0V4cCA9IC9hLXpBLVpcdTAwQjdcdTAwQzAtXHUwMEQ2XHUwMEQ4LVx1MDBGNlx1MDBGOC1cdTAzN0RcdTAzN0YtXHUxRkZGXHUyMDBDLVx1MjAwRFx1MjAzRi1cdTIwNDBcdTIwNzAtXHUyMThGXHUyQzAwLVx1MkZFRlx1MzAwMS1cdUQ3RkZcdUY5MDAtXHVGRENGXHVGREYwLVx1RkZGRC87CgogIC8qKgogICAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgXwogICAqLwogIGZ1bmN0aW9uIGlzUmVzZXJ2ZWQgKHN0cikgewogICAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7CiAgICByZXR1cm4gYyA9PT0gMHgyNCB8fCBjID09PSAweDVGCiAgfQoKICAvKioKICAgKiBEZWZpbmUgYSBwcm9wZXJ0eS4KICAgKi8KICBmdW5jdGlvbiBkZWYgKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICB2YWx1ZTogdmFsLAogICAgICBlbnVtZXJhYmxlOiAhIWVudW1lcmFibGUsCiAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0pOwogIH0KCiAgLyoqCiAgICogUGFyc2Ugc2ltcGxlIHBhdGguCiAgICovCiAgdmFyIGJhaWxSRSA9IG5ldyBSZWdFeHAoKCJbXiIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgIi4kX1xcZF0iKSk7CiAgZnVuY3Rpb24gcGFyc2VQYXRoIChwYXRoKSB7CiAgICBpZiAoYmFpbFJFLnRlc3QocGF0aCkpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcuJyk7CiAgICByZXR1cm4gZnVuY3Rpb24gKG9iaikgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlZ21lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKCFvYmopIHsgcmV0dXJuIH0KICAgICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dOwogICAgICB9CiAgICAgIHJldHVybiBvYmoKICAgIH0KICB9CgogIC8qICAqLwoKICAvLyBjYW4gd2UgdXNlIF9fcHJvdG9fXz8KICB2YXIgaGFzUHJvdG8gPSAnX19wcm90b19fJyBpbiB7fTsKCiAgLy8gQnJvd3NlciBlbnZpcm9ubWVudCBzbmlmZmluZwogIHZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJzsKICB2YXIgaW5XZWV4ID0gdHlwZW9mIFdYRW52aXJvbm1lbnQgIT09ICd1bmRlZmluZWQnICYmICEhV1hFbnZpcm9ubWVudC5wbGF0Zm9ybTsKICB2YXIgd2VleFBsYXRmb3JtID0gaW5XZWV4ICYmIFdYRW52aXJvbm1lbnQucGxhdGZvcm0udG9Mb3dlckNhc2UoKTsKICB2YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTsKICB2YXIgaXNJRSA9IFVBICYmIC9tc2llfHRyaWRlbnQvLnRlc3QoVUEpOwogIHZhciBpc0lFOSA9IFVBICYmIFVBLmluZGV4T2YoJ21zaWUgOS4wJykgPiAwOwogIHZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDsKICB2YXIgaXNBbmRyb2lkID0gKFVBICYmIFVBLmluZGV4T2YoJ2FuZHJvaWQnKSA+IDApIHx8ICh3ZWV4UGxhdGZvcm0gPT09ICdhbmRyb2lkJyk7CiAgdmFyIGlzSU9TID0gKFVBICYmIC9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChVQSkpIHx8ICh3ZWV4UGxhdGZvcm0gPT09ICdpb3MnKTsKICB2YXIgaXNDaHJvbWUgPSBVQSAmJiAvY2hyb21lXC9cZCsvLnRlc3QoVUEpICYmICFpc0VkZ2U7CiAgdmFyIGlzUGhhbnRvbUpTID0gVUEgJiYgL3BoYW50b21qcy8udGVzdChVQSk7CiAgdmFyIGlzRkYgPSBVQSAmJiBVQS5tYXRjaCgvZmlyZWZveFwvKFxkKykvKTsKCiAgLy8gRmlyZWZveCBoYXMgYSAid2F0Y2giIGZ1bmN0aW9uIG9uIE9iamVjdC5wcm90b3R5cGUuLi4KICB2YXIgbmF0aXZlV2F0Y2ggPSAoe30pLndhdGNoOwoKICB2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7CiAgaWYgKGluQnJvd3NlcikgewogICAgdHJ5IHsKICAgICAgdmFyIG9wdHMgPSB7fTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9wdHMsICdwYXNzaXZlJywgKHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7CiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLwogICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4NQogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdC1wYXNzaXZlJywgbnVsbCwgb3B0cyk7CiAgICB9IGNhdGNoIChlKSB7fQogIH0KCiAgLy8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlCiAgLy8gdnVlLXNlcnZlci1yZW5kZXJlciBjYW4gc2V0IFZVRV9FTlYKICB2YXIgX2lzU2VydmVyOwogIHZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmIChfaXNTZXJ2ZXIgPT09IHVuZGVmaW5lZCkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKCFpbkJyb3dzZXIgJiYgIWluV2VleCAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgewogICAgICAgIC8vIGRldGVjdCBwcmVzZW5jZSBvZiB2dWUtc2VydmVyLXJlbmRlcmVyIGFuZCBhdm9pZAogICAgICAgIC8vIFdlYnBhY2sgc2hpbW1pbmcgdGhlIHByb2Nlc3MKICAgICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXSAmJiBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgX2lzU2VydmVyID0gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBfaXNTZXJ2ZXIKICB9OwoKICAvLyBkZXRlY3QgZGV2dG9vbHMKICB2YXIgZGV2dG9vbHMgPSBpbkJyb3dzZXIgJiYgd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX187CgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gaXNOYXRpdmUgKEN0b3IpIHsKICAgIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKQogIH0KCiAgdmFyIGhhc1N5bWJvbCA9CiAgICB0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTeW1ib2wpICYmCiAgICB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUmVmbGVjdC5vd25LZXlzKTsKCiAgdmFyIF9TZXQ7CiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovIC8vICRmbG93LWRpc2FibGUtbGluZQogIGlmICh0eXBlb2YgU2V0ICE9PSAndW5kZWZpbmVkJyAmJiBpc05hdGl2ZShTZXQpKSB7CiAgICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS4KICAgIF9TZXQgPSBTZXQ7CiAgfSBlbHNlIHsKICAgIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy4KICAgIF9TZXQgPSAvKkBfX1BVUkVfXyovKGZ1bmN0aW9uICgpIHsKICAgICAgZnVuY3Rpb24gU2V0ICgpIHsKICAgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIH0KICAgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKGtleSkgewogICAgICAgIHJldHVybiB0aGlzLnNldFtrZXldID09PSB0cnVlCiAgICAgIH07CiAgICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChrZXkpIHsKICAgICAgICB0aGlzLnNldFtrZXldID0gdHJ1ZTsKICAgICAgfTsKICAgICAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHsKICAgICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIH07CgogICAgICByZXR1cm4gU2V0OwogICAgfSgpKTsKICB9CgogIC8qICAqLwoKICB2YXIgd2FybiA9IG5vb3A7CiAgdmFyIHRpcCA9IG5vb3A7CiAgdmFyIGdlbmVyYXRlQ29tcG9uZW50VHJhY2UgPSAobm9vcCk7IC8vIHdvcmsgYXJvdW5kIGZsb3cgY2hlY2sKICB2YXIgZm9ybWF0Q29tcG9uZW50TmFtZSA9IChub29wKTsKCiAgewogICAgdmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7CiAgICB2YXIgY2xhc3NpZnlSRSA9IC8oPzpefFstX10pKFx3KS9nOwogICAgdmFyIGNsYXNzaWZ5ID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gc3RyCiAgICAgIC5yZXBsYWNlKGNsYXNzaWZ5UkUsIGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRvVXBwZXJDYXNlKCk7IH0pCiAgICAgIC5yZXBsYWNlKC9bLV9dL2csICcnKTsgfTsKCiAgICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHsKICAgICAgdmFyIHRyYWNlID0gdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnOwoKICAgICAgaWYgKGNvbmZpZy53YXJuSGFuZGxlcikgewogICAgICAgIGNvbmZpZy53YXJuSGFuZGxlci5jYWxsKG51bGwsIG1zZywgdm0sIHRyYWNlKTsKICAgICAgfSBlbHNlIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCgiW1Z1ZSB3YXJuXTogIiArIG1zZyArIHRyYWNlKSk7CiAgICAgIH0KICAgIH07CgogICAgdGlwID0gZnVuY3Rpb24gKG1zZywgdm0pIHsKICAgICAgaWYgKGhhc0NvbnNvbGUgJiYgKCFjb25maWcuc2lsZW50KSkgewogICAgICAgIGNvbnNvbGUud2FybigiW1Z1ZSB0aXBdOiAiICsgbXNnICsgKAogICAgICAgICAgdm0gPyBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlKHZtKSA6ICcnCiAgICAgICAgKSk7CiAgICAgIH0KICAgIH07CgogICAgZm9ybWF0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSwgaW5jbHVkZUZpbGUpIHsKICAgICAgaWYgKHZtLiRyb290ID09PSB2bSkgewogICAgICAgIHJldHVybiAnPFJvb3Q+JwogICAgICB9CiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHZtID09PSAnZnVuY3Rpb24nICYmIHZtLmNpZCAhPSBudWxsCiAgICAgICAgPyB2bS5vcHRpb25zCiAgICAgICAgOiB2bS5faXNWdWUKICAgICAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9ucwogICAgICAgICAgOiB2bTsKICAgICAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUgfHwgb3B0aW9ucy5fY29tcG9uZW50VGFnOwogICAgICB2YXIgZmlsZSA9IG9wdGlvbnMuX19maWxlOwogICAgICBpZiAoIW5hbWUgJiYgZmlsZSkgewogICAgICAgIHZhciBtYXRjaCA9IGZpbGUubWF0Y2goLyhbXi9cXF0rKVwudnVlJC8pOwogICAgICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTsKICAgICAgfQoKICAgICAgcmV0dXJuICgKICAgICAgICAobmFtZSA/ICgiPCIgKyAoY2xhc3NpZnkobmFtZSkpICsgIj4iKSA6ICI8QW5vbnltb3VzPiIpICsKICAgICAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyAoIiBhdCAiICsgZmlsZSkgOiAnJykKICAgICAgKQogICAgfTsKCiAgICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gKHN0ciwgbikgewogICAgICB2YXIgcmVzID0gJyc7CiAgICAgIHdoaWxlIChuKSB7CiAgICAgICAgaWYgKG4gJSAyID09PSAxKSB7IHJlcyArPSBzdHI7IH0KICAgICAgICBpZiAobiA+IDEpIHsgc3RyICs9IHN0cjsgfQogICAgICAgIG4gPj49IDE7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlcwogICAgfTsKCiAgICBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gZnVuY3Rpb24gKHZtKSB7CiAgICAgIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkgewogICAgICAgIHZhciB0cmVlID0gW107CiAgICAgICAgdmFyIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA9IDA7CiAgICAgICAgd2hpbGUgKHZtKSB7CiAgICAgICAgICBpZiAodHJlZS5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIHZhciBsYXN0ID0gdHJlZVt0cmVlLmxlbmd0aCAtIDFdOwogICAgICAgICAgICBpZiAobGFzdC5jb25zdHJ1Y3RvciA9PT0gdm0uY29uc3RydWN0b3IpIHsKICAgICAgICAgICAgICBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UrKzsKICAgICAgICAgICAgICB2bSA9IHZtLiRwYXJlbnQ7CiAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPiAwKSB7CiAgICAgICAgICAgICAgdHJlZVt0cmVlLmxlbmd0aCAtIDFdID0gW2xhc3QsIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZV07CiAgICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgdHJlZS5wdXNoKHZtKTsKICAgICAgICAgIHZtID0gdm0uJHBhcmVudDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICdcblxuZm91bmQgaW5cblxuJyArIHRyZWUKICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHZtLCBpKSB7IHJldHVybiAoIiIgKyAoaSA9PT0gMCA/ICctLS0+ICcgOiByZXBlYXQoJyAnLCA1ICsgaSAqIDIpKSArIChBcnJheS5pc0FycmF5KHZtKQogICAgICAgICAgICAgID8gKChmb3JtYXRDb21wb25lbnROYW1lKHZtWzBdKSkgKyAiLi4uICgiICsgKHZtWzFdKSArICIgcmVjdXJzaXZlIGNhbGxzKSIpCiAgICAgICAgICAgICAgOiBmb3JtYXRDb21wb25lbnROYW1lKHZtKSkpOyB9KQogICAgICAgICAgLmpvaW4oJ1xuJykKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gKCJcblxuKGZvdW5kIGluICIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgIikiKQogICAgICB9CiAgICB9OwogIH0KCiAgLyogICovCgogIHZhciB1aWQgPSAwOwoKICAvKioKICAgKiBBIGRlcCBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGUKICAgKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LgogICAqLwogIHZhciBEZXAgPSBmdW5jdGlvbiBEZXAgKCkgewogICAgdGhpcy5pZCA9IHVpZCsrOwogICAgdGhpcy5zdWJzID0gW107CiAgfTsKCiAgRGVwLnByb3RvdHlwZS5hZGRTdWIgPSBmdW5jdGlvbiBhZGRTdWIgKHN1YikgewogICAgdGhpcy5zdWJzLnB1c2goc3ViKTsKICB9OwoKICBEZXAucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uIHJlbW92ZVN1YiAoc3ViKSB7CiAgICByZW1vdmUodGhpcy5zdWJzLCBzdWIpOwogIH07CgogIERlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHsKICAgIGlmIChEZXAudGFyZ2V0KSB7CiAgICAgIERlcC50YXJnZXQuYWRkRGVwKHRoaXMpOwogICAgfQogIH07CgogIERlcC5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gbm90aWZ5ICgpIHsKICAgIC8vIHN0YWJpbGl6ZSB0aGUgc3Vic2NyaWJlciBsaXN0IGZpcnN0CiAgICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpOwogICAgaWYgKCFjb25maWcuYXN5bmMpIHsKICAgICAgLy8gc3VicyBhcmVuJ3Qgc29ydGVkIGluIHNjaGVkdWxlciBpZiBub3QgcnVubmluZyBhc3luYwogICAgICAvLyB3ZSBuZWVkIHRvIHNvcnQgdGhlbSBub3cgdG8gbWFrZSBzdXJlIHRoZXkgZmlyZSBpbiBjb3JyZWN0CiAgICAgIC8vIG9yZGVyCiAgICAgIHN1YnMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pOwogICAgfQogICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdWJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBzdWJzW2ldLnVwZGF0ZSgpOwogICAgfQogIH07CgogIC8vIFRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC4KICAvLyBUaGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIG9ubHkgb25lIHdhdGNoZXIKICAvLyBjYW4gYmUgZXZhbHVhdGVkIGF0IGEgdGltZS4KICBEZXAudGFyZ2V0ID0gbnVsbDsKICB2YXIgdGFyZ2V0U3RhY2sgPSBbXTsKCiAgZnVuY3Rpb24gcHVzaFRhcmdldCAodGFyZ2V0KSB7CiAgICB0YXJnZXRTdGFjay5wdXNoKHRhcmdldCk7CiAgICBEZXAudGFyZ2V0ID0gdGFyZ2V0OwogIH0KCiAgZnVuY3Rpb24gcG9wVGFyZ2V0ICgpIHsKICAgIHRhcmdldFN0YWNrLnBvcCgpOwogICAgRGVwLnRhcmdldCA9IHRhcmdldFN0YWNrW3RhcmdldFN0YWNrLmxlbmd0aCAtIDFdOwogIH0KCiAgLyogICovCgogIHZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlICgKICAgIHRhZywKICAgIGRhdGEsCiAgICBjaGlsZHJlbiwKICAgIHRleHQsCiAgICBlbG0sCiAgICBjb250ZXh0LAogICAgY29tcG9uZW50T3B0aW9ucywKICAgIGFzeW5jRmFjdG9yeQogICkgewogICAgdGhpcy50YWcgPSB0YWc7CiAgICB0aGlzLmRhdGEgPSBkYXRhOwogICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgdGhpcy50ZXh0ID0gdGV4dDsKICAgIHRoaXMuZWxtID0gZWxtOwogICAgdGhpcy5ucyA9IHVuZGVmaW5lZDsKICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CiAgICB0aGlzLmZuQ29udGV4dCA9IHVuZGVmaW5lZDsKICAgIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkOwogICAgdGhpcy5mblNjb3BlSWQgPSB1bmRlZmluZWQ7CiAgICB0aGlzLmtleSA9IGRhdGEgJiYgZGF0YS5rZXk7CiAgICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zOwogICAgdGhpcy5jb21wb25lbnRJbnN0YW5jZSA9IHVuZGVmaW5lZDsKICAgIHRoaXMucGFyZW50ID0gdW5kZWZpbmVkOwogICAgdGhpcy5yYXcgPSBmYWxzZTsKICAgIHRoaXMuaXNTdGF0aWMgPSBmYWxzZTsKICAgIHRoaXMuaXNSb290SW5zZXJ0ID0gdHJ1ZTsKICAgIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7CiAgICB0aGlzLmlzQ2xvbmVkID0gZmFsc2U7CiAgICB0aGlzLmlzT25jZSA9IGZhbHNlOwogICAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7CiAgICB0aGlzLmFzeW5jTWV0YSA9IHVuZGVmaW5lZDsKICAgIHRoaXMuaXNBc3luY1BsYWNlaG9sZGVyID0gZmFsc2U7CiAgfTsKCiAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgY2hpbGQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTsKCiAgLy8gREVQUkVDQVRFRDogYWxpYXMgZm9yIGNvbXBvbmVudEluc3RhbmNlIGZvciBiYWNrd2FyZHMgY29tcGF0LgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgcHJvdG90eXBlQWNjZXNzb3JzLmNoaWxkLmdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNvbXBvbmVudEluc3RhbmNlCiAgfTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFZOb2RlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7CgogIHZhciBjcmVhdGVFbXB0eVZOb2RlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgIGlmICggdGV4dCA9PT0gdm9pZCAwICkgdGV4dCA9ICcnOwoKICAgIHZhciBub2RlID0gbmV3IFZOb2RlKCk7CiAgICBub2RlLnRleHQgPSB0ZXh0OwogICAgbm9kZS5pc0NvbW1lbnQgPSB0cnVlOwogICAgcmV0dXJuIG5vZGUKICB9OwoKICBmdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUgKHZhbCkgewogICAgcmV0dXJuIG5ldyBWTm9kZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBTdHJpbmcodmFsKSkKICB9CgogIC8vIG9wdGltaXplZCBzaGFsbG93IGNsb25lCiAgLy8gdXNlZCBmb3Igc3RhdGljIG5vZGVzIGFuZCBzbG90IG5vZGVzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmV1c2VkIGFjcm9zcwogIC8vIG11bHRpcGxlIHJlbmRlcnMsIGNsb25pbmcgdGhlbSBhdm9pZHMgZXJyb3JzIHdoZW4gRE9NIG1hbmlwdWxhdGlvbnMgcmVseQogIC8vIG9uIHRoZWlyIGVsbSByZWZlcmVuY2UuCiAgZnVuY3Rpb24gY2xvbmVWTm9kZSAodm5vZGUpIHsKICAgIHZhciBjbG9uZWQgPSBuZXcgVk5vZGUoCiAgICAgIHZub2RlLnRhZywKICAgICAgdm5vZGUuZGF0YSwKICAgICAgLy8gIzc5NzUKICAgICAgLy8gY2xvbmUgY2hpbGRyZW4gYXJyYXkgdG8gYXZvaWQgbXV0YXRpbmcgb3JpZ2luYWwgaW4gY2FzZSBvZiBjbG9uaW5nCiAgICAgIC8vIGEgY2hpbGQuCiAgICAgIHZub2RlLmNoaWxkcmVuICYmIHZub2RlLmNoaWxkcmVuLnNsaWNlKCksCiAgICAgIHZub2RlLnRleHQsCiAgICAgIHZub2RlLmVsbSwKICAgICAgdm5vZGUuY29udGV4dCwKICAgICAgdm5vZGUuY29tcG9uZW50T3B0aW9ucywKICAgICAgdm5vZGUuYXN5bmNGYWN0b3J5CiAgICApOwogICAgY2xvbmVkLm5zID0gdm5vZGUubnM7CiAgICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYzsKICAgIGNsb25lZC5rZXkgPSB2bm9kZS5rZXk7CiAgICBjbG9uZWQuaXNDb21tZW50ID0gdm5vZGUuaXNDb21tZW50OwogICAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDsKICAgIGNsb25lZC5mbk9wdGlvbnMgPSB2bm9kZS5mbk9wdGlvbnM7CiAgICBjbG9uZWQuZm5TY29wZUlkID0gdm5vZGUuZm5TY29wZUlkOwogICAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTsKICAgIGNsb25lZC5pc0Nsb25lZCA9IHRydWU7CiAgICByZXR1cm4gY2xvbmVkCiAgfQoKICAvKgogICAqIG5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBwbGF5IHdlbGwgd2l0aAogICAqIGR5bmFtaWNhbGx5IGFjY2Vzc2luZyBtZXRob2RzIG9uIEFycmF5IHByb3RvdHlwZQogICAqLwoKICB2YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTsKICB2YXIgYXJyYXlNZXRob2RzID0gT2JqZWN0LmNyZWF0ZShhcnJheVByb3RvKTsKCiAgdmFyIG1ldGhvZHNUb1BhdGNoID0gWwogICAgJ3B1c2gnLAogICAgJ3BvcCcsCiAgICAnc2hpZnQnLAogICAgJ3Vuc2hpZnQnLAogICAgJ3NwbGljZScsCiAgICAnc29ydCcsCiAgICAncmV2ZXJzZScKICBdOwoKICAvKioKICAgKiBJbnRlcmNlcHQgbXV0YXRpbmcgbWV0aG9kcyBhbmQgZW1pdCBldmVudHMKICAgKi8KICBtZXRob2RzVG9QYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHsKICAgIC8vIGNhY2hlIG9yaWdpbmFsIG1ldGhvZAogICAgdmFyIG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdOwogICAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yICgpIHsKICAgICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsKICAgICAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTsKCiAgICAgIHZhciByZXN1bHQgPSBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgdmFyIG9iID0gdGhpcy5fX29iX187CiAgICAgIHZhciBpbnNlcnRlZDsKICAgICAgc3dpdGNoIChtZXRob2QpIHsKICAgICAgICBjYXNlICdwdXNoJzoKICAgICAgICBjYXNlICd1bnNoaWZ0JzoKICAgICAgICAgIGluc2VydGVkID0gYXJnczsKICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAnc3BsaWNlJzoKICAgICAgICAgIGluc2VydGVkID0gYXJncy5zbGljZSgyKTsKICAgICAgICAgIGJyZWFrCiAgICAgIH0KICAgICAgaWYgKGluc2VydGVkKSB7IG9iLm9ic2VydmVBcnJheShpbnNlcnRlZCk7IH0KICAgICAgLy8gbm90aWZ5IGNoYW5nZQogICAgICBvYi5kZXAubm90aWZ5KCk7CiAgICAgIHJldHVybiByZXN1bHQKICAgIH0pOwogIH0pOwoKICAvKiAgKi8KCiAgdmFyIGFycmF5S2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFycmF5TWV0aG9kcyk7CgogIC8qKgogICAqIEluIHNvbWUgY2FzZXMgd2UgbWF5IHdhbnQgdG8gZGlzYWJsZSBvYnNlcnZhdGlvbiBpbnNpZGUgYSBjb21wb25lbnQncwogICAqIHVwZGF0ZSBjb21wdXRhdGlvbi4KICAgKi8KICB2YXIgc2hvdWxkT2JzZXJ2ZSA9IHRydWU7CgogIGZ1bmN0aW9uIHRvZ2dsZU9ic2VydmluZyAodmFsdWUpIHsKICAgIHNob3VsZE9ic2VydmUgPSB2YWx1ZTsKICB9CgogIC8qKgogICAqIE9ic2VydmVyIGNsYXNzIHRoYXQgaXMgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZAogICAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRoZSB0YXJnZXQKICAgKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdAogICAqIGNvbGxlY3QgZGVwZW5kZW5jaWVzIGFuZCBkaXNwYXRjaCB1cGRhdGVzLgogICAqLwogIHZhciBPYnNlcnZlciA9IGZ1bmN0aW9uIE9ic2VydmVyICh2YWx1ZSkgewogICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7CiAgICB0aGlzLnZtQ291bnQgPSAwOwogICAgZGVmKHZhbHVlLCAnX19vYl9fJywgdGhpcyk7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgaWYgKGhhc1Byb3RvKSB7CiAgICAgICAgcHJvdG9BdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvcHlBdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cyk7CiAgICAgIH0KICAgICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53YWxrKHZhbHVlKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBXYWxrIHRocm91Z2ggYWxsIHByb3BlcnRpZXMgYW5kIGNvbnZlcnQgdGhlbSBpbnRvCiAgICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuCiAgICogdmFsdWUgdHlwZSBpcyBPYmplY3QuCiAgICovCiAgT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHsKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykgewogICAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0pOwogICAgfQogIH07CgogIC8qKgogICAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLgogICAqLwogIE9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXkgPSBmdW5jdGlvbiBvYnNlcnZlQXJyYXkgKGl0ZW1zKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBvYnNlcnZlKGl0ZW1zW2ldKTsKICAgIH0KICB9OwoKICAvLyBoZWxwZXJzCgogIC8qKgogICAqIEF1Z21lbnQgYSB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGludGVyY2VwdGluZwogICAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fCiAgICovCiAgZnVuY3Rpb24gcHJvdG9BdWdtZW50ICh0YXJnZXQsIHNyYykgewogICAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi8KICAgIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7CiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovCiAgfQoKICAvKioKICAgKiBBdWdtZW50IGEgdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZwogICAqIGhpZGRlbiBwcm9wZXJ0aWVzLgogICAqLwogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gY29weUF1Z21lbnQgKHRhcmdldCwgc3JjLCBrZXlzKSB7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIHZhciBrZXkgPSBrZXlzW2ldOwogICAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKTsKICAgIH0KICB9CgogIC8qKgogICAqIEF0dGVtcHQgdG8gY3JlYXRlIGFuIG9ic2VydmVyIGluc3RhbmNlIGZvciBhIHZhbHVlLAogICAqIHJldHVybnMgdGhlIG5ldyBvYnNlcnZlciBpZiBzdWNjZXNzZnVsbHkgb2JzZXJ2ZWQsCiAgICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuCiAgICovCiAgZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUsIGFzUm9vdERhdGEpIHsKICAgIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgVk5vZGUpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgb2I7CiAgICBpZiAoaGFzT3duKHZhbHVlLCAnX19vYl9fJykgJiYgdmFsdWUuX19vYl9fIGluc3RhbmNlb2YgT2JzZXJ2ZXIpIHsKICAgICAgb2IgPSB2YWx1ZS5fX29iX187CiAgICB9IGVsc2UgaWYgKAogICAgICBzaG91bGRPYnNlcnZlICYmCiAgICAgICFpc1NlcnZlclJlbmRlcmluZygpICYmCiAgICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiYKICAgICAgT2JqZWN0LmlzRXh0ZW5zaWJsZSh2YWx1ZSkgJiYKICAgICAgIXZhbHVlLl9pc1Z1ZQogICAgKSB7CiAgICAgIG9iID0gbmV3IE9ic2VydmVyKHZhbHVlKTsKICAgIH0KICAgIGlmIChhc1Jvb3REYXRhICYmIG9iKSB7CiAgICAgIG9iLnZtQ291bnQrKzsKICAgIH0KICAgIHJldHVybiBvYgogIH0KCiAgLyoqCiAgICogRGVmaW5lIGEgcmVhY3RpdmUgcHJvcGVydHkgb24gYW4gT2JqZWN0LgogICAqLwogIGZ1bmN0aW9uIGRlZmluZVJlYWN0aXZlJCQxICgKICAgIG9iaiwKICAgIGtleSwKICAgIHZhbCwKICAgIGN1c3RvbVNldHRlciwKICAgIHNoYWxsb3cKICApIHsKICAgIHZhciBkZXAgPSBuZXcgRGVwKCk7CgogICAgdmFyIHByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIGtleSk7CiAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICAvLyBjYXRlciBmb3IgcHJlLWRlZmluZWQgZ2V0dGVyL3NldHRlcnMKICAgIHZhciBnZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXQ7CiAgICB2YXIgc2V0dGVyID0gcHJvcGVydHkgJiYgcHJvcGVydHkuc2V0OwogICAgaWYgKCghZ2V0dGVyIHx8IHNldHRlcikgJiYgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgewogICAgICB2YWwgPSBvYmpba2V5XTsKICAgIH0KCiAgICB2YXIgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUodmFsKTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgewogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgIGdldDogZnVuY3Rpb24gcmVhY3RpdmVHZXR0ZXIgKCkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7CiAgICAgICAgaWYgKERlcC50YXJnZXQpIHsKICAgICAgICAgIGRlcC5kZXBlbmQoKTsKICAgICAgICAgIGlmIChjaGlsZE9iKSB7CiAgICAgICAgICAgIGNoaWxkT2IuZGVwLmRlcGVuZCgpOwogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgICAgICAgICAgICBkZXBlbmRBcnJheSh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHZhbHVlCiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkgewogICAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7CiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovCiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqLwogICAgICAgIGlmIChjdXN0b21TZXR0ZXIpIHsKICAgICAgICAgIGN1c3RvbVNldHRlcigpOwogICAgICAgIH0KICAgICAgICAvLyAjNzk4MTogZm9yIGFjY2Vzc29yIHByb3BlcnRpZXMgd2l0aG91dCBzZXR0ZXIKICAgICAgICBpZiAoZ2V0dGVyICYmICFzZXR0ZXIpIHsgcmV0dXJuIH0KICAgICAgICBpZiAoc2V0dGVyKSB7CiAgICAgICAgICBzZXR0ZXIuY2FsbChvYmosIG5ld1ZhbCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhbCA9IG5ld1ZhbDsKICAgICAgICB9CiAgICAgICAgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUobmV3VmFsKTsKICAgICAgICBkZXAubm90aWZ5KCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqCiAgICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kCiAgICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndAogICAqIGFscmVhZHkgZXhpc3QuCiAgICovCiAgZnVuY3Rpb24gc2V0ICh0YXJnZXQsIGtleSwgdmFsKSB7CiAgICBpZiAoaXNVbmRlZih0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHRhcmdldCkKICAgICkgewogICAgICB3YXJuKCgiQ2Fubm90IHNldCByZWFjdGl2ZSBwcm9wZXJ0eSBvbiB1bmRlZmluZWQsIG51bGwsIG9yIHByaW1pdGl2ZSB2YWx1ZTogIiArICgodGFyZ2V0KSkpKTsKICAgIH0KICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkgewogICAgICB0YXJnZXQubGVuZ3RoID0gTWF0aC5tYXgodGFyZ2V0Lmxlbmd0aCwga2V5KTsKICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEsIHZhbCk7CiAgICAgIHJldHVybiB2YWwKICAgIH0KICAgIGlmIChrZXkgaW4gdGFyZ2V0ICYmICEoa2V5IGluIE9iamVjdC5wcm90b3R5cGUpKSB7CiAgICAgIHRhcmdldFtrZXldID0gdmFsOwogICAgICByZXR1cm4gdmFsCiAgICB9CiAgICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187CiAgICBpZiAodGFyZ2V0Ll9pc1Z1ZSB8fCAob2IgJiYgb2Iudm1Db3VudCkpIHsKICAgICAgd2FybigKICAgICAgICAnQXZvaWQgYWRkaW5nIHJlYWN0aXZlIHByb3BlcnRpZXMgdG8gYSBWdWUgaW5zdGFuY2Ugb3IgaXRzIHJvb3QgJGRhdGEgJyArCiAgICAgICAgJ2F0IHJ1bnRpbWUgLSBkZWNsYXJlIGl0IHVwZnJvbnQgaW4gdGhlIGRhdGEgb3B0aW9uLicKICAgICAgKTsKICAgICAgcmV0dXJuIHZhbAogICAgfQogICAgaWYgKCFvYikgewogICAgICB0YXJnZXRba2V5XSA9IHZhbDsKICAgICAgcmV0dXJuIHZhbAogICAgfQogICAgZGVmaW5lUmVhY3RpdmUkJDEob2IudmFsdWUsIGtleSwgdmFsKTsKICAgIG9iLmRlcC5ub3RpZnkoKTsKICAgIHJldHVybiB2YWwKICB9CgogIC8qKgogICAqIERlbGV0ZSBhIHByb3BlcnR5IGFuZCB0cmlnZ2VyIGNoYW5nZSBpZiBuZWNlc3NhcnkuCiAgICovCiAgZnVuY3Rpb24gZGVsICh0YXJnZXQsIGtleSkgewogICAgaWYgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpCiAgICApIHsKICAgICAgd2FybigoIkNhbm5vdCBkZWxldGUgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6ICIgKyAoKHRhcmdldCkpKSk7CiAgICB9CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0YXJnZXQpICYmIGlzVmFsaWRBcnJheUluZGV4KGtleSkpIHsKICAgICAgdGFyZ2V0LnNwbGljZShrZXksIDEpOwogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBvYiA9ICh0YXJnZXQpLl9fb2JfXzsKICAgIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkgewogICAgICB3YXJuKAogICAgICAgICdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgKwogICAgICAgICctIGp1c3Qgc2V0IGl0IHRvIG51bGwuJwogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIGlmICghaGFzT3duKHRhcmdldCwga2V5KSkgewogICAgICByZXR1cm4KICAgIH0KICAgIGRlbGV0ZSB0YXJnZXRba2V5XTsKICAgIGlmICghb2IpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICBvYi5kZXAubm90aWZ5KCk7CiAgfQoKICAvKioKICAgKiBDb2xsZWN0IGRlcGVuZGVuY2llcyBvbiBhcnJheSBlbGVtZW50cyB3aGVuIHRoZSBhcnJheSBpcyB0b3VjaGVkLCBzaW5jZQogICAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLgogICAqLwogIGZ1bmN0aW9uIGRlcGVuZEFycmF5ICh2YWx1ZSkgewogICAgZm9yICh2YXIgZSA9ICh2b2lkIDApLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBlID0gdmFsdWVbaV07CiAgICAgIGUgJiYgZS5fX29iX18gJiYgZS5fX29iX18uZGVwLmRlcGVuZCgpOwogICAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkgewogICAgICAgIGRlcGVuZEFycmF5KGUpOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogT3B0aW9uIG92ZXJ3cml0aW5nIHN0cmF0ZWdpZXMgYXJlIGZ1bmN0aW9ucyB0aGF0IGhhbmRsZQogICAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uCiAgICogdmFsdWUgaW50byB0aGUgZmluYWwgdmFsdWUuCiAgICovCiAgdmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7CgogIC8qKgogICAqIE9wdGlvbnMgd2l0aCByZXN0cmljdGlvbnMKICAgKi8KICB7CiAgICBzdHJhdHMuZWwgPSBzdHJhdHMucHJvcHNEYXRhID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQsIHZtLCBrZXkpIHsKICAgICAgaWYgKCF2bSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAib3B0aW9uIFwiIiArIGtleSArICJcIiBjYW4gb25seSBiZSB1c2VkIGR1cmluZyBpbnN0YW5jZSAiICsKICAgICAgICAgICdjcmVhdGlvbiB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkLicKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiBkZWZhdWx0U3RyYXQocGFyZW50LCBjaGlsZCkKICAgIH07CiAgfQoKICAvKioKICAgKiBIZWxwZXIgdGhhdCByZWN1cnNpdmVseSBtZXJnZXMgdHdvIGRhdGEgb2JqZWN0cyB0b2dldGhlci4KICAgKi8KICBmdW5jdGlvbiBtZXJnZURhdGEgKHRvLCBmcm9tKSB7CiAgICBpZiAoIWZyb20pIHsgcmV0dXJuIHRvIH0KICAgIHZhciBrZXksIHRvVmFsLCBmcm9tVmFsOwoKICAgIHZhciBrZXlzID0gaGFzU3ltYm9sCiAgICAgID8gUmVmbGVjdC5vd25LZXlzKGZyb20pCiAgICAgIDogT2JqZWN0LmtleXMoZnJvbSk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGtleSA9IGtleXNbaV07CiAgICAgIC8vIGluIGNhc2UgdGhlIG9iamVjdCBpcyBhbHJlYWR5IG9ic2VydmVkLi4uCiAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH0KICAgICAgdG9WYWwgPSB0b1trZXldOwogICAgICBmcm9tVmFsID0gZnJvbVtrZXldOwogICAgICBpZiAoIWhhc093bih0bywga2V5KSkgewogICAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTsKICAgICAgfSBlbHNlIGlmICgKICAgICAgICB0b1ZhbCAhPT0gZnJvbVZhbCAmJgogICAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmCiAgICAgICAgaXNQbGFpbk9iamVjdChmcm9tVmFsKQogICAgICApIHsKICAgICAgICBtZXJnZURhdGEodG9WYWwsIGZyb21WYWwpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdG8KICB9CgogIC8qKgogICAqIERhdGEKICAgKi8KICBmdW5jdGlvbiBtZXJnZURhdGFPckZuICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0KICApIHsKICAgIGlmICghdm0pIHsKICAgICAgLy8gaW4gYSBWdWUuZXh0ZW5kIG1lcmdlLCBib3RoIHNob3VsZCBiZSBmdW5jdGlvbnMKICAgICAgaWYgKCFjaGlsZFZhbCkgewogICAgICAgIHJldHVybiBwYXJlbnRWYWwKICAgICAgfQogICAgICBpZiAoIXBhcmVudFZhbCkgewogICAgICAgIHJldHVybiBjaGlsZFZhbAogICAgICB9CiAgICAgIC8vIHdoZW4gcGFyZW50VmFsICYgY2hpbGRWYWwgYXJlIGJvdGggcHJlc2VudCwKICAgICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlCiAgICAgIC8vIG1lcmdlZCByZXN1bHQgb2YgYm90aCBmdW5jdGlvbnMuLi4gbm8gbmVlZCB0bwogICAgICAvLyBjaGVjayBpZiBwYXJlbnRWYWwgaXMgYSBmdW5jdGlvbiBoZXJlIGJlY2F1c2UKICAgICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuCiAgICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWREYXRhRm4gKCkgewogICAgICAgIHJldHVybiBtZXJnZURhdGEoCiAgICAgICAgICB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbicgPyBjaGlsZFZhbC5jYWxsKHRoaXMsIHRoaXMpIDogY2hpbGRWYWwsCiAgICAgICAgICB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nID8gcGFyZW50VmFsLmNhbGwodGhpcywgdGhpcykgOiBwYXJlbnRWYWwKICAgICAgICApCiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiBtZXJnZWRJbnN0YW5jZURhdGFGbiAoKSB7CiAgICAgICAgLy8gaW5zdGFuY2UgbWVyZ2UKICAgICAgICB2YXIgaW5zdGFuY2VEYXRhID0gdHlwZW9mIGNoaWxkVmFsID09PSAnZnVuY3Rpb24nCiAgICAgICAgICA/IGNoaWxkVmFsLmNhbGwodm0sIHZtKQogICAgICAgICAgOiBjaGlsZFZhbDsKICAgICAgICB2YXIgZGVmYXVsdERhdGEgPSB0eXBlb2YgcGFyZW50VmFsID09PSAnZnVuY3Rpb24nCiAgICAgICAgICA/IHBhcmVudFZhbC5jYWxsKHZtLCB2bSkKICAgICAgICAgIDogcGFyZW50VmFsOwogICAgICAgIGlmIChpbnN0YW5jZURhdGEpIHsKICAgICAgICAgIHJldHVybiBtZXJnZURhdGEoaW5zdGFuY2VEYXRhLCBkZWZhdWx0RGF0YSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGRlZmF1bHREYXRhCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzdHJhdHMuZGF0YSA9IGZ1bmN0aW9uICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0KICApIHsKICAgIGlmICghdm0pIHsKICAgICAgaWYgKGNoaWxkVmFsICYmIHR5cGVvZiBjaGlsZFZhbCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnVGhlICJkYXRhIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArCiAgICAgICAgICAndGhhdCByZXR1cm5zIGEgcGVyLWluc3RhbmNlIHZhbHVlIGluIGNvbXBvbmVudCAnICsKICAgICAgICAgICdkZWZpbml0aW9ucy4nLAogICAgICAgICAgdm0KICAgICAgICApOwoKICAgICAgICByZXR1cm4gcGFyZW50VmFsCiAgICAgIH0KICAgICAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbCkKICAgIH0KCiAgICByZXR1cm4gbWVyZ2VEYXRhT3JGbihwYXJlbnRWYWwsIGNoaWxkVmFsLCB2bSkKICB9OwoKICAvKioKICAgKiBIb29rcyBhbmQgcHJvcHMgYXJlIG1lcmdlZCBhcyBhcnJheXMuCiAgICovCiAgZnVuY3Rpb24gbWVyZ2VIb29rICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsCiAgKSB7CiAgICB2YXIgcmVzID0gY2hpbGRWYWwKICAgICAgPyBwYXJlbnRWYWwKICAgICAgICA/IHBhcmVudFZhbC5jb25jYXQoY2hpbGRWYWwpCiAgICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKQogICAgICAgICAgPyBjaGlsZFZhbAogICAgICAgICAgOiBbY2hpbGRWYWxdCiAgICAgIDogcGFyZW50VmFsOwogICAgcmV0dXJuIHJlcwogICAgICA/IGRlZHVwZUhvb2tzKHJlcykKICAgICAgOiByZXMKICB9CgogIGZ1bmN0aW9uIGRlZHVwZUhvb2tzIChob29rcykgewogICAgdmFyIHJlcyA9IFtdOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykgewogICAgICBpZiAocmVzLmluZGV4T2YoaG9va3NbaV0pID09PSAtMSkgewogICAgICAgIHJlcy5wdXNoKGhvb2tzW2ldKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgTElGRUNZQ0xFX0hPT0tTLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHsKICAgIHN0cmF0c1tob29rXSA9IG1lcmdlSG9vazsKICB9KTsKCiAgLyoqCiAgICogQXNzZXRzCiAgICoKICAgKiBXaGVuIGEgdm0gaXMgcHJlc2VudCAoaW5zdGFuY2UgY3JlYXRpb24pLCB3ZSBuZWVkIHRvIGRvCiAgICogYSB0aHJlZS13YXkgbWVyZ2UgYmV0d2VlbiBjb25zdHJ1Y3RvciBvcHRpb25zLCBpbnN0YW5jZQogICAqIG9wdGlvbnMgYW5kIHBhcmVudCBvcHRpb25zLgogICAqLwogIGZ1bmN0aW9uIG1lcmdlQXNzZXRzICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0sCiAgICBrZXkKICApIHsKICAgIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFZhbCB8fCBudWxsKTsKICAgIGlmIChjaGlsZFZhbCkgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgICAgcmV0dXJuIGV4dGVuZChyZXMsIGNoaWxkVmFsKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHJlcwogICAgfQogIH0KCiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7CiAgfSk7CgogIC8qKgogICAqIFdhdGNoZXJzLgogICAqCiAgICogV2F0Y2hlcnMgaGFzaGVzIHNob3VsZCBub3Qgb3ZlcndyaXRlIG9uZQogICAqIGFub3RoZXIsIHNvIHdlIG1lcmdlIHRoZW0gYXMgYXJyYXlzLgogICAqLwogIHN0cmF0cy53YXRjaCA9IGZ1bmN0aW9uICgKICAgIHBhcmVudFZhbCwKICAgIGNoaWxkVmFsLAogICAgdm0sCiAgICBrZXkKICApIHsKICAgIC8vIHdvcmsgYXJvdW5kIEZpcmVmb3gncyBPYmplY3QucHJvdG90eXBlLndhdGNoLi4uCiAgICBpZiAocGFyZW50VmFsID09PSBuYXRpdmVXYXRjaCkgeyBwYXJlbnRWYWwgPSB1bmRlZmluZWQ7IH0KICAgIGlmIChjaGlsZFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgY2hpbGRWYWwgPSB1bmRlZmluZWQ7IH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKCFjaGlsZFZhbCkgeyByZXR1cm4gT2JqZWN0LmNyZWF0ZShwYXJlbnRWYWwgfHwgbnVsbCkgfQogICAgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgIH0KICAgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9CiAgICB2YXIgcmV0ID0ge307CiAgICBleHRlbmQocmV0LCBwYXJlbnRWYWwpOwogICAgZm9yICh2YXIga2V5JDEgaW4gY2hpbGRWYWwpIHsKICAgICAgdmFyIHBhcmVudCA9IHJldFtrZXkkMV07CiAgICAgIHZhciBjaGlsZCA9IGNoaWxkVmFsW2tleSQxXTsKICAgICAgaWYgKHBhcmVudCAmJiAhQXJyYXkuaXNBcnJheShwYXJlbnQpKSB7CiAgICAgICAgcGFyZW50ID0gW3BhcmVudF07CiAgICAgIH0KICAgICAgcmV0W2tleSQxXSA9IHBhcmVudAogICAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZCkKICAgICAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGQpID8gY2hpbGQgOiBbY2hpbGRdOwogICAgfQogICAgcmV0dXJuIHJldAogIH07CgogIC8qKgogICAqIE90aGVyIG9iamVjdCBoYXNoZXMuCiAgICovCiAgc3RyYXRzLnByb3BzID0KICBzdHJhdHMubWV0aG9kcyA9CiAgc3RyYXRzLmluamVjdCA9CiAgc3RyYXRzLmNvbXB1dGVkID0gZnVuY3Rpb24gKAogICAgcGFyZW50VmFsLAogICAgY2hpbGRWYWwsCiAgICB2bSwKICAgIGtleQogICkgewogICAgaWYgKGNoaWxkVmFsICYmICJkZXZlbG9wbWVudCIgIT09ICdwcm9kdWN0aW9uJykgewogICAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTsKICAgIH0KICAgIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9CiAgICB2YXIgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7CiAgICBpZiAoY2hpbGRWYWwpIHsgZXh0ZW5kKHJldCwgY2hpbGRWYWwpOyB9CiAgICByZXR1cm4gcmV0CiAgfTsKICBzdHJhdHMucHJvdmlkZSA9IG1lcmdlRGF0YU9yRm47CgogIC8qKgogICAqIERlZmF1bHQgc3RyYXRlZ3kuCiAgICovCiAgdmFyIGRlZmF1bHRTdHJhdCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7CiAgICByZXR1cm4gY2hpbGRWYWwgPT09IHVuZGVmaW5lZAogICAgICA/IHBhcmVudFZhbAogICAgICA6IGNoaWxkVmFsCiAgfTsKCiAgLyoqCiAgICogVmFsaWRhdGUgY29tcG9uZW50IG5hbWVzCiAgICovCiAgZnVuY3Rpb24gY2hlY2tDb21wb25lbnRzIChvcHRpb25zKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5jb21wb25lbnRzKSB7CiAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShrZXkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gdmFsaWRhdGVDb21wb25lbnROYW1lIChuYW1lKSB7CiAgICBpZiAoIW5ldyBSZWdFeHAoKCJeW2EtekEtWl1bXFwtXFwuMC05XyIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgIl0qJCIpKS50ZXN0KG5hbWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6ICInICsgbmFtZSArICciLiBDb21wb25lbnQgbmFtZXMgJyArCiAgICAgICAgJ3Nob3VsZCBjb25mb3JtIHRvIHZhbGlkIGN1c3RvbSBlbGVtZW50IG5hbWUgaW4gaHRtbDUgc3BlY2lmaWNhdGlvbi4nCiAgICAgICk7CiAgICB9CiAgICBpZiAoaXNCdWlsdEluVGFnKG5hbWUpIHx8IGNvbmZpZy5pc1Jlc2VydmVkVGFnKG5hbWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ0RvIG5vdCB1c2UgYnVpbHQtaW4gb3IgcmVzZXJ2ZWQgSFRNTCBlbGVtZW50cyBhcyBjb21wb25lbnQgJyArCiAgICAgICAgJ2lkOiAnICsgbmFtZQogICAgICApOwogICAgfQogIH0KCiAgLyoqCiAgICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlCiAgICogT2JqZWN0LWJhc2VkIGZvcm1hdC4KICAgKi8KICBmdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucywgdm0pIHsKICAgIHZhciBwcm9wcyA9IG9wdGlvbnMucHJvcHM7CiAgICBpZiAoIXByb3BzKSB7IHJldHVybiB9CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgaSwgdmFsLCBuYW1lOwogICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcHMpKSB7CiAgICAgIGkgPSBwcm9wcy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICB2YWwgPSBwcm9wc1tpXTsKICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZSh2YWwpOwogICAgICAgICAgcmVzW25hbWVdID0geyB0eXBlOiBudWxsIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHsKICAgICAgZm9yICh2YXIga2V5IGluIHByb3BzKSB7CiAgICAgICAgdmFsID0gcHJvcHNba2V5XTsKICAgICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTsKICAgICAgICByZXNbbmFtZV0gPSBpc1BsYWluT2JqZWN0KHZhbCkKICAgICAgICAgID8gdmFsCiAgICAgICAgICA6IHsgdHlwZTogdmFsIH07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcInByb3BzXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgIiArCiAgICAgICAgImJ1dCBnb3QgIiArICh0b1Jhd1R5cGUocHJvcHMpKSArICIuIiwKICAgICAgICB2bQogICAgICApOwogICAgfQogICAgb3B0aW9ucy5wcm9wcyA9IHJlczsKICB9CgogIC8qKgogICAqIE5vcm1hbGl6ZSBhbGwgaW5qZWN0aW9ucyBpbnRvIE9iamVjdC1iYXNlZCBmb3JtYXQKICAgKi8KICBmdW5jdGlvbiBub3JtYWxpemVJbmplY3QgKG9wdGlvbnMsIHZtKSB7CiAgICB2YXIgaW5qZWN0ID0gb3B0aW9ucy5pbmplY3Q7CiAgICBpZiAoIWluamVjdCkgeyByZXR1cm4gfQogICAgdmFyIG5vcm1hbGl6ZWQgPSBvcHRpb25zLmluamVjdCA9IHt9OwogICAgaWYgKEFycmF5LmlzQXJyYXkoaW5qZWN0KSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluamVjdC5sZW5ndGg7IGkrKykgewogICAgICAgIG5vcm1hbGl6ZWRbaW5qZWN0W2ldXSA9IHsgZnJvbTogaW5qZWN0W2ldIH07CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChpbmplY3QpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBpbmplY3QpIHsKICAgICAgICB2YXIgdmFsID0gaW5qZWN0W2tleV07CiAgICAgICAgbm9ybWFsaXplZFtrZXldID0gaXNQbGFpbk9iamVjdCh2YWwpCiAgICAgICAgICA/IGV4dGVuZCh7IGZyb206IGtleSB9LCB2YWwpCiAgICAgICAgICA6IHsgZnJvbTogdmFsIH07CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcImluamVjdFwiOiBleHBlY3RlZCBhbiBBcnJheSBvciBhbiBPYmplY3QsICIgKwogICAgICAgICJidXQgZ290ICIgKyAodG9SYXdUeXBlKGluamVjdCkpICsgIi4iLAogICAgICAgIHZtCiAgICAgICk7CiAgICB9CiAgfQoKICAvKioKICAgKiBOb3JtYWxpemUgcmF3IGZ1bmN0aW9uIGRpcmVjdGl2ZXMgaW50byBvYmplY3QgZm9ybWF0LgogICAqLwogIGZ1bmN0aW9uIG5vcm1hbGl6ZURpcmVjdGl2ZXMgKG9wdGlvbnMpIHsKICAgIHZhciBkaXJzID0gb3B0aW9ucy5kaXJlY3RpdmVzOwogICAgaWYgKGRpcnMpIHsKICAgICAgZm9yICh2YXIga2V5IGluIGRpcnMpIHsKICAgICAgICB2YXIgZGVmJCQxID0gZGlyc1trZXldOwogICAgICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICBkaXJzW2tleV0gPSB7IGJpbmQ6IGRlZiQkMSwgdXBkYXRlOiBkZWYkJDEgfTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGFzc2VydE9iamVjdFR5cGUgKG5hbWUsIHZhbHVlLCB2bSkgewogICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkgewogICAgICB3YXJuKAogICAgICAgICJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXCIiICsgbmFtZSArICJcIjogZXhwZWN0ZWQgYW4gT2JqZWN0LCAiICsKICAgICAgICAiYnV0IGdvdCAiICsgKHRvUmF3VHlwZSh2YWx1ZSkpICsgIi4iLAogICAgICAgIHZtCiAgICAgICk7CiAgICB9CiAgfQoKICAvKioKICAgKiBNZXJnZSB0d28gb3B0aW9uIG9iamVjdHMgaW50byBhIG5ldyBvbmUuCiAgICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS4KICAgKi8KICBmdW5jdGlvbiBtZXJnZU9wdGlvbnMgKAogICAgcGFyZW50LAogICAgY2hpbGQsCiAgICB2bQogICkgewogICAgewogICAgICBjaGVja0NvbXBvbmVudHMoY2hpbGQpOwogICAgfQoKICAgIGlmICh0eXBlb2YgY2hpbGQgPT09ICdmdW5jdGlvbicpIHsKICAgICAgY2hpbGQgPSBjaGlsZC5vcHRpb25zOwogICAgfQoKICAgIG5vcm1hbGl6ZVByb3BzKGNoaWxkLCB2bSk7CiAgICBub3JtYWxpemVJbmplY3QoY2hpbGQsIHZtKTsKICAgIG5vcm1hbGl6ZURpcmVjdGl2ZXMoY2hpbGQpOwoKICAgIC8vIEFwcGx5IGV4dGVuZHMgYW5kIG1peGlucyBvbiB0aGUgY2hpbGQgb3B0aW9ucywKICAgIC8vIGJ1dCBvbmx5IGlmIGl0IGlzIGEgcmF3IG9wdGlvbnMgb2JqZWN0IHRoYXQgaXNuJ3QKICAgIC8vIHRoZSByZXN1bHQgb2YgYW5vdGhlciBtZXJnZU9wdGlvbnMgY2FsbC4KICAgIC8vIE9ubHkgbWVyZ2VkIG9wdGlvbnMgaGFzIHRoZSBfYmFzZSBwcm9wZXJ0eS4KICAgIGlmICghY2hpbGQuX2Jhc2UpIHsKICAgICAgaWYgKGNoaWxkLmV4dGVuZHMpIHsKICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5leHRlbmRzLCB2bSk7CiAgICAgIH0KICAgICAgaWYgKGNoaWxkLm1peGlucykgewogICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgcGFyZW50ID0gbWVyZ2VPcHRpb25zKHBhcmVudCwgY2hpbGQubWl4aW5zW2ldLCB2bSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdmFyIG9wdGlvbnMgPSB7fTsKICAgIHZhciBrZXk7CiAgICBmb3IgKGtleSBpbiBwYXJlbnQpIHsKICAgICAgbWVyZ2VGaWVsZChrZXkpOwogICAgfQogICAgZm9yIChrZXkgaW4gY2hpbGQpIHsKICAgICAgaWYgKCFoYXNPd24ocGFyZW50LCBrZXkpKSB7CiAgICAgICAgbWVyZ2VGaWVsZChrZXkpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBtZXJnZUZpZWxkIChrZXkpIHsKICAgICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0OwogICAgICBvcHRpb25zW2tleV0gPSBzdHJhdChwYXJlbnRba2V5XSwgY2hpbGRba2V5XSwgdm0sIGtleSk7CiAgICB9CiAgICByZXR1cm4gb3B0aW9ucwogIH0KCiAgLyoqCiAgICogUmVzb2x2ZSBhbiBhc3NldC4KICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3MKICAgKiB0byBhc3NldHMgZGVmaW5lZCBpbiBpdHMgYW5jZXN0b3IgY2hhaW4uCiAgICovCiAgZnVuY3Rpb24gcmVzb2x2ZUFzc2V0ICgKICAgIG9wdGlvbnMsCiAgICB0eXBlLAogICAgaWQsCiAgICB3YXJuTWlzc2luZwogICkgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBhc3NldHMgPSBvcHRpb25zW3R5cGVdOwogICAgLy8gY2hlY2sgbG9jYWwgcmVnaXN0cmF0aW9uIHZhcmlhdGlvbnMgZmlyc3QKICAgIGlmIChoYXNPd24oYXNzZXRzLCBpZCkpIHsgcmV0dXJuIGFzc2V0c1tpZF0gfQogICAgdmFyIGNhbWVsaXplZElkID0gY2FtZWxpemUoaWQpOwogICAgaWYgKGhhc093bihhc3NldHMsIGNhbWVsaXplZElkKSkgeyByZXR1cm4gYXNzZXRzW2NhbWVsaXplZElkXSB9CiAgICB2YXIgUGFzY2FsQ2FzZUlkID0gY2FwaXRhbGl6ZShjYW1lbGl6ZWRJZCk7CiAgICBpZiAoaGFzT3duKGFzc2V0cywgUGFzY2FsQ2FzZUlkKSkgeyByZXR1cm4gYXNzZXRzW1Bhc2NhbENhc2VJZF0gfQogICAgLy8gZmFsbGJhY2sgdG8gcHJvdG90eXBlIGNoYWluCiAgICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fCBhc3NldHNbY2FtZWxpemVkSWRdIHx8IGFzc2V0c1tQYXNjYWxDYXNlSWRdOwogICAgaWYgKHdhcm5NaXNzaW5nICYmICFyZXMpIHsKICAgICAgd2FybigKICAgICAgICAnRmFpbGVkIHRvIHJlc29sdmUgJyArIHR5cGUuc2xpY2UoMCwgLTEpICsgJzogJyArIGlkLAogICAgICAgIG9wdGlvbnMKICAgICAgKTsKICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIC8qICAqLwoKCgogIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcCAoCiAgICBrZXksCiAgICBwcm9wT3B0aW9ucywKICAgIHByb3BzRGF0YSwKICAgIHZtCiAgKSB7CiAgICB2YXIgcHJvcCA9IHByb3BPcHRpb25zW2tleV07CiAgICB2YXIgYWJzZW50ID0gIWhhc093bihwcm9wc0RhdGEsIGtleSk7CiAgICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTsKICAgIC8vIGJvb2xlYW4gY2FzdGluZwogICAgdmFyIGJvb2xlYW5JbmRleCA9IGdldFR5cGVJbmRleChCb29sZWFuLCBwcm9wLnR5cGUpOwogICAgaWYgKGJvb2xlYW5JbmRleCA+IC0xKSB7CiAgICAgIGlmIChhYnNlbnQgJiYgIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7CiAgICAgICAgdmFsdWUgPSBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7CiAgICAgICAgLy8gb25seSBjYXN0IGVtcHR5IHN0cmluZyAvIHNhbWUgbmFtZSB0byBib29sZWFuIGlmCiAgICAgICAgLy8gYm9vbGVhbiBoYXMgaGlnaGVyIHByaW9yaXR5CiAgICAgICAgdmFyIHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTsKICAgICAgICBpZiAoc3RyaW5nSW5kZXggPCAwIHx8IGJvb2xlYW5JbmRleCA8IHN0cmluZ0luZGV4KSB7CiAgICAgICAgICB2YWx1ZSA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlCiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkgewogICAgICB2YWx1ZSA9IGdldFByb3BEZWZhdWx0VmFsdWUodm0sIHByb3AsIGtleSk7CiAgICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSwKICAgICAgLy8gbWFrZSBzdXJlIHRvIG9ic2VydmUgaXQuCiAgICAgIHZhciBwcmV2U2hvdWxkT2JzZXJ2ZSA9IHNob3VsZE9ic2VydmU7CiAgICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTsKICAgICAgb2JzZXJ2ZSh2YWx1ZSk7CiAgICAgIHRvZ2dsZU9ic2VydmluZyhwcmV2U2hvdWxkT2JzZXJ2ZSk7CiAgICB9CiAgICB7CiAgICAgIGFzc2VydFByb3AocHJvcCwga2V5LCB2YWx1ZSwgdm0sIGFic2VudCk7CiAgICB9CiAgICByZXR1cm4gdmFsdWUKICB9CgogIC8qKgogICAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuCiAgICovCiAgZnVuY3Rpb24gZ2V0UHJvcERlZmF1bHRWYWx1ZSAodm0sIHByb3AsIGtleSkgewogICAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZAogICAgaWYgKCFoYXNPd24ocHJvcCwgJ2RlZmF1bHQnKSkgewogICAgICByZXR1cm4gdW5kZWZpbmVkCiAgICB9CiAgICB2YXIgZGVmID0gcHJvcC5kZWZhdWx0OwogICAgLy8gd2FybiBhZ2FpbnN0IG5vbi1mYWN0b3J5IGRlZmF1bHRzIGZvciBPYmplY3QgJiBBcnJheQogICAgaWYgKGlzT2JqZWN0KGRlZikpIHsKICAgICAgd2FybigKICAgICAgICAnSW52YWxpZCBkZWZhdWx0IHZhbHVlIGZvciBwcm9wICInICsga2V5ICsgJyI6ICcgKwogICAgICAgICdQcm9wcyB3aXRoIHR5cGUgT2JqZWN0L0FycmF5IG11c3QgdXNlIGEgZmFjdG9yeSBmdW5jdGlvbiAnICsKICAgICAgICAndG8gcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLicsCiAgICAgICAgdm0KICAgICAgKTsKICAgIH0KICAgIC8vIHRoZSByYXcgcHJvcCB2YWx1ZSB3YXMgYWxzbyB1bmRlZmluZWQgZnJvbSBwcmV2aW91cyByZW5kZXIsCiAgICAvLyByZXR1cm4gcHJldmlvdXMgZGVmYXVsdCB2YWx1ZSB0byBhdm9pZCB1bm5lY2Vzc2FyeSB3YXRjaGVyIHRyaWdnZXIKICAgIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgJiYKICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhW2tleV0gPT09IHVuZGVmaW5lZCAmJgogICAgICB2bS5fcHJvcHNba2V5XSAhPT0gdW5kZWZpbmVkCiAgICApIHsKICAgICAgcmV0dXJuIHZtLl9wcm9wc1trZXldCiAgICB9CiAgICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlcwogICAgLy8gYSB2YWx1ZSBpcyBGdW5jdGlvbiBpZiBpdHMgcHJvdG90eXBlIGlzIGZ1bmN0aW9uIGV2ZW4gYWNyb3NzIGRpZmZlcmVudCBleGVjdXRpb24gY29udGV4dAogICAgcmV0dXJuIHR5cGVvZiBkZWYgPT09ICdmdW5jdGlvbicgJiYgZ2V0VHlwZShwcm9wLnR5cGUpICE9PSAnRnVuY3Rpb24nCiAgICAgID8gZGVmLmNhbGwodm0pCiAgICAgIDogZGVmCiAgfQoKICAvKioKICAgKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuCiAgICovCiAgZnVuY3Rpb24gYXNzZXJ0UHJvcCAoCiAgICBwcm9wLAogICAgbmFtZSwKICAgIHZhbHVlLAogICAgdm0sCiAgICBhYnNlbnQKICApIHsKICAgIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkgewogICAgICB3YXJuKAogICAgICAgICdNaXNzaW5nIHJlcXVpcmVkIHByb3A6ICInICsgbmFtZSArICciJywKICAgICAgICB2bQogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIGlmICh2YWx1ZSA9PSBudWxsICYmICFwcm9wLnJlcXVpcmVkKSB7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHR5cGUgPSBwcm9wLnR5cGU7CiAgICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlOwogICAgdmFyIGV4cGVjdGVkVHlwZXMgPSBbXTsKICAgIGlmICh0eXBlKSB7CiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkgewogICAgICAgIHR5cGUgPSBbdHlwZV07CiAgICAgIH0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykgewogICAgICAgIHZhciBhc3NlcnRlZFR5cGUgPSBhc3NlcnRUeXBlKHZhbHVlLCB0eXBlW2ldKTsKICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goYXNzZXJ0ZWRUeXBlLmV4cGVjdGVkVHlwZSB8fCAnJyk7CiAgICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoIXZhbGlkKSB7CiAgICAgIHdhcm4oCiAgICAgICAgZ2V0SW52YWxpZFR5cGVNZXNzYWdlKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSwKICAgICAgICB2bQogICAgICApOwogICAgICByZXR1cm4KICAgIH0KICAgIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjsKICAgIGlmICh2YWxpZGF0b3IpIHsKICAgICAgaWYgKCF2YWxpZGF0b3IodmFsdWUpKSB7CiAgICAgICAgd2FybigKICAgICAgICAgICdJbnZhbGlkIHByb3A6IGN1c3RvbSB2YWxpZGF0b3IgY2hlY2sgZmFpbGVkIGZvciBwcm9wICInICsgbmFtZSArICciLicsCiAgICAgICAgICB2bQogICAgICAgICk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBzaW1wbGVDaGVja1JFID0gL14oU3RyaW5nfE51bWJlcnxCb29sZWFufEZ1bmN0aW9ufFN5bWJvbCkkLzsKCiAgZnVuY3Rpb24gYXNzZXJ0VHlwZSAodmFsdWUsIHR5cGUpIHsKICAgIHZhciB2YWxpZDsKICAgIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpOwogICAgaWYgKHNpbXBsZUNoZWNrUkUudGVzdChleHBlY3RlZFR5cGUpKSB7CiAgICAgIHZhciB0ID0gdHlwZW9mIHZhbHVlOwogICAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpOwogICAgICAvLyBmb3IgcHJpbWl0aXZlIHdyYXBwZXIgb2JqZWN0cwogICAgICBpZiAoIXZhbGlkICYmIHQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZXhwZWN0ZWRUeXBlID09PSAnT2JqZWN0JykgewogICAgICB2YWxpZCA9IGlzUGxhaW5PYmplY3QodmFsdWUpOwogICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdBcnJheScpIHsKICAgICAgdmFsaWQgPSBBcnJheS5pc0FycmF5KHZhbHVlKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhbGlkID0gdmFsdWUgaW5zdGFuY2VvZiB0eXBlOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgdmFsaWQ6IHZhbGlkLAogICAgICBleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZQogICAgfQogIH0KCiAgLyoqCiAgICogVXNlIGZ1bmN0aW9uIHN0cmluZyBuYW1lIHRvIGNoZWNrIGJ1aWx0LWluIHR5cGVzLAogICAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZwogICAqIGFjcm9zcyBkaWZmZXJlbnQgdm1zIC8gaWZyYW1lcy4KICAgKi8KICBmdW5jdGlvbiBnZXRUeXBlIChmbikgewogICAgdmFyIG1hdGNoID0gZm4gJiYgZm4udG9TdHJpbmcoKS5tYXRjaCgvXlxzKmZ1bmN0aW9uIChcdyspLyk7CiAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnCiAgfQoKICBmdW5jdGlvbiBpc1NhbWVUeXBlIChhLCBiKSB7CiAgICByZXR1cm4gZ2V0VHlwZShhKSA9PT0gZ2V0VHlwZShiKQogIH0KCiAgZnVuY3Rpb24gZ2V0VHlwZUluZGV4ICh0eXBlLCBleHBlY3RlZFR5cGVzKSB7CiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhwZWN0ZWRUeXBlcykpIHsKICAgICAgcmV0dXJuIGlzU2FtZVR5cGUoZXhwZWN0ZWRUeXBlcywgdHlwZSkgPyAwIDogLTEKICAgIH0KICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBleHBlY3RlZFR5cGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgIGlmIChpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXNbaV0sIHR5cGUpKSB7CiAgICAgICAgcmV0dXJuIGkKICAgICAgfQogICAgfQogICAgcmV0dXJuIC0xCiAgfQoKICBmdW5jdGlvbiBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UgKG5hbWUsIHZhbHVlLCBleHBlY3RlZFR5cGVzKSB7CiAgICB2YXIgbWVzc2FnZSA9ICJJbnZhbGlkIHByb3A6IHR5cGUgY2hlY2sgZmFpbGVkIGZvciBwcm9wIFwiIiArIG5hbWUgKyAiXCIuIiArCiAgICAgICIgRXhwZWN0ZWQgIiArIChleHBlY3RlZFR5cGVzLm1hcChjYXBpdGFsaXplKS5qb2luKCcsICcpKTsKICAgIHZhciBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdOwogICAgdmFyIHJlY2VpdmVkVHlwZSA9IHRvUmF3VHlwZSh2YWx1ZSk7CiAgICB2YXIgZXhwZWN0ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIGV4cGVjdGVkVHlwZSk7CiAgICB2YXIgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7CiAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIHNwZWNpZnkgZXhwZWN0ZWQgdmFsdWUKICAgIGlmIChleHBlY3RlZFR5cGVzLmxlbmd0aCA9PT0gMSAmJgogICAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmCiAgICAgICAgIWlzQm9vbGVhbihleHBlY3RlZFR5cGUsIHJlY2VpdmVkVHlwZSkpIHsKICAgICAgbWVzc2FnZSArPSAiIHdpdGggdmFsdWUgIiArIGV4cGVjdGVkVmFsdWU7CiAgICB9CiAgICBtZXNzYWdlICs9ICIsIGdvdCAiICsgcmVjZWl2ZWRUeXBlICsgIiAiOwogICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBzcGVjaWZ5IHJlY2VpdmVkIHZhbHVlCiAgICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHsKICAgICAgbWVzc2FnZSArPSAid2l0aCB2YWx1ZSAiICsgcmVjZWl2ZWRWYWx1ZSArICIuIjsKICAgIH0KICAgIHJldHVybiBtZXNzYWdlCiAgfQoKICBmdW5jdGlvbiBzdHlsZVZhbHVlICh2YWx1ZSwgdHlwZSkgewogICAgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7CiAgICAgIHJldHVybiAoIlwiIiArIHZhbHVlICsgIlwiIikKICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ051bWJlcicpIHsKICAgICAgcmV0dXJuICgiIiArIChOdW1iZXIodmFsdWUpKSkKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAoIiIgKyB2YWx1ZSkKICAgIH0KICB9CgogIGZ1bmN0aW9uIGlzRXhwbGljYWJsZSAodmFsdWUpIHsKICAgIHZhciBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTsKICAgIHJldHVybiBleHBsaWNpdFR5cGVzLnNvbWUoZnVuY3Rpb24gKGVsZW0pIHsgcmV0dXJuIHZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IGVsZW07IH0pCiAgfQoKICBmdW5jdGlvbiBpc0Jvb2xlYW4gKCkgewogICAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsKICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07CgogICAgcmV0dXJuIGFyZ3Muc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gZWxlbS50b0xvd2VyQ2FzZSgpID09PSAnYm9vbGVhbic7IH0pCiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHsKICAgIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLgogICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVleC9pc3N1ZXMvMTUwNQogICAgcHVzaFRhcmdldCgpOwogICAgdHJ5IHsKICAgICAgaWYgKHZtKSB7CiAgICAgICAgdmFyIGN1ciA9IHZtOwogICAgICAgIHdoaWxlICgoY3VyID0gY3VyLiRwYXJlbnQpKSB7CiAgICAgICAgICB2YXIgaG9va3MgPSBjdXIuJG9wdGlvbnMuZXJyb3JDYXB0dXJlZDsKICAgICAgICAgIGlmIChob29rcykgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHZhciBjYXB0dXJlID0gaG9va3NbaV0uY2FsbChjdXIsIGVyciwgdm0sIGluZm8pID09PSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChjYXB0dXJlKSB7IHJldHVybiB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgZ2xvYmFsSGFuZGxlRXJyb3IoZSwgY3VyLCAnZXJyb3JDYXB0dXJlZCBob29rJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGVyciwgdm0sIGluZm8pOwogICAgfSBmaW5hbGx5IHsKICAgICAgcG9wVGFyZ2V0KCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyAoCiAgICBoYW5kbGVyLAogICAgY29udGV4dCwKICAgIGFyZ3MsCiAgICB2bSwKICAgIGluZm8KICApIHsKICAgIHZhciByZXM7CiAgICB0cnkgewogICAgICByZXMgPSBhcmdzID8gaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKSA6IGhhbmRsZXIuY2FsbChjb250ZXh0KTsKICAgICAgaWYgKHJlcyAmJiAhcmVzLl9pc1Z1ZSAmJiBpc1Byb21pc2UocmVzKSAmJiAhcmVzLl9oYW5kbGVkKSB7CiAgICAgICAgcmVzLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBoYW5kbGVFcnJvcihlLCB2bSwgaW5mbyArICIgKFByb21pc2UvYXN5bmMpIik7IH0pOwogICAgICAgIC8vIGlzc3VlICM5NTExCiAgICAgICAgLy8gYXZvaWQgY2F0Y2ggdHJpZ2dlcmluZyBtdWx0aXBsZSB0aW1lcyB3aGVuIG5lc3RlZCBjYWxscwogICAgICAgIHJlcy5faGFuZGxlZCA9IHRydWU7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8pOwogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHsKICAgIGlmIChjb25maWcuZXJyb3JIYW5kbGVyKSB7CiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlcnIsIHZtLCBpbmZvKQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgLy8gaWYgdGhlIHVzZXIgaW50ZW50aW9uYWxseSB0aHJvd3MgdGhlIG9yaWdpbmFsIGVycm9yIGluIHRoZSBoYW5kbGVyLAogICAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2UKICAgICAgICBpZiAoZSAhPT0gZXJyKSB7CiAgICAgICAgICBsb2dFcnJvcihlLCBudWxsLCAnY29uZmlnLmVycm9ySGFuZGxlcicpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgbG9nRXJyb3IoZXJyLCB2bSwgaW5mbyk7CiAgfQoKICBmdW5jdGlvbiBsb2dFcnJvciAoZXJyLCB2bSwgaW5mbykgewogICAgewogICAgICB3YXJuKCgiRXJyb3IgaW4gIiArIGluZm8gKyAiOiBcIiIgKyAoZXJyLnRvU3RyaW5nKCkpICsgIlwiIiksIHZtKTsKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAoKGluQnJvd3NlciB8fCBpbldlZXgpICYmIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykgewogICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBlcnIKICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgaXNVc2luZ01pY3JvVGFzayA9IGZhbHNlOwoKICB2YXIgY2FsbGJhY2tzID0gW107CiAgdmFyIHBlbmRpbmcgPSBmYWxzZTsKCiAgZnVuY3Rpb24gZmx1c2hDYWxsYmFja3MgKCkgewogICAgcGVuZGluZyA9IGZhbHNlOwogICAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTsKICAgIGNhbGxiYWNrcy5sZW5ndGggPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3BpZXMubGVuZ3RoOyBpKyspIHsKICAgICAgY29waWVzW2ldKCk7CiAgICB9CiAgfQoKICAvLyBIZXJlIHdlIGhhdmUgYXN5bmMgZGVmZXJyaW5nIHdyYXBwZXJzIHVzaW5nIG1pY3JvdGFza3MuCiAgLy8gSW4gMi41IHdlIHVzZWQgKG1hY3JvKSB0YXNrcyAoaW4gY29tYmluYXRpb24gd2l0aCBtaWNyb3Rhc2tzKS4KICAvLyBIb3dldmVyLCBpdCBoYXMgc3VidGxlIHByb2JsZW1zIHdoZW4gc3RhdGUgaXMgY2hhbmdlZCByaWdodCBiZWZvcmUgcmVwYWludAogIC8vIChlLmcuICM2ODEzLCBvdXQtaW4gdHJhbnNpdGlvbnMpLgogIC8vIEFsc28sIHVzaW5nIChtYWNybykgdGFza3MgaW4gZXZlbnQgaGFuZGxlciB3b3VsZCBjYXVzZSBzb21lIHdlaXJkIGJlaGF2aW9ycwogIC8vIHRoYXQgY2Fubm90IGJlIGNpcmN1bXZlbnRlZCAoZS5nLiAjNzEwOSwgIzcxNTMsICM3NTQ2LCAjNzgzNCwgIzgxMDkpLgogIC8vIFNvIHdlIG5vdyB1c2UgbWljcm90YXNrcyBldmVyeXdoZXJlLCBhZ2Fpbi4KICAvLyBBIG1ham9yIGRyYXdiYWNrIG9mIHRoaXMgdHJhZGVvZmYgaXMgdGhhdCB0aGVyZSBhcmUgc29tZSBzY2VuYXJpb3MKICAvLyB3aGVyZSBtaWNyb3Rhc2tzIGhhdmUgdG9vIGhpZ2ggYSBwcmlvcml0eSBhbmQgZmlyZSBpbiBiZXR3ZWVuIHN1cHBvc2VkbHkKICAvLyBzZXF1ZW50aWFsIGV2ZW50cyAoZS5nLiAjNDUyMSwgIzY2OTAsIHdoaWNoIGhhdmUgd29ya2Fyb3VuZHMpCiAgLy8gb3IgZXZlbiBiZXR3ZWVuIGJ1YmJsaW5nIG9mIHRoZSBzYW1lIGV2ZW50ICgjNjU2NikuCiAgdmFyIHRpbWVyRnVuYzsKCiAgLy8gVGhlIG5leHRUaWNrIGJlaGF2aW9yIGxldmVyYWdlcyB0aGUgbWljcm90YXNrIHF1ZXVlLCB3aGljaCBjYW4gYmUgYWNjZXNzZWQKICAvLyB2aWEgZWl0aGVyIG5hdGl2ZSBQcm9taXNlLnRoZW4gb3IgTXV0YXRpb25PYnNlcnZlci4KICAvLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW4KICAvLyBVSVdlYlZpZXcgaW4gaU9TID49IDkuMy4zIHdoZW4gdHJpZ2dlcmVkIGluIHRvdWNoIGV2ZW50IGhhbmRsZXJzLiBJdAogIC8vIGNvbXBsZXRlbHkgc3RvcHMgd29ya2luZyBhZnRlciB0cmlnZ2VyaW5nIGEgZmV3IHRpbWVzLi4uIHNvLCBpZiBuYXRpdmUKICAvLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6CiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQsICRmbG93LWRpc2FibGUtbGluZSAqLwogIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJvbWlzZSkpIHsKICAgIHZhciBwID0gUHJvbWlzZS5yZXNvbHZlKCk7CiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHAudGhlbihmbHVzaENhbGxiYWNrcyk7CiAgICAgIC8vIEluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dAogICAgICAvLyBpdCBjYW4gZ2V0IHN0dWNrIGluIGEgd2VpcmQgc3RhdGUgd2hlcmUgY2FsbGJhY2tzIGFyZSBwdXNoZWQgaW50byB0aGUKICAgICAgLy8gbWljcm90YXNrIHF1ZXVlIGJ1dCB0aGUgcXVldWUgaXNuJ3QgYmVpbmcgZmx1c2hlZCwgdW50aWwgdGhlIGJyb3dzZXIKICAgICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuCiAgICAgIC8vICJmb3JjZSIgdGhlIG1pY3JvdGFzayBxdWV1ZSB0byBiZSBmbHVzaGVkIGJ5IGFkZGluZyBhbiBlbXB0eSB0aW1lci4KICAgICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH0KICAgIH07CiAgICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTsKICB9IGVsc2UgaWYgKCFpc0lFICYmIHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoCiAgICBpc05hdGl2ZShNdXRhdGlvbk9ic2VydmVyKSB8fAogICAgLy8gUGhhbnRvbUpTIGFuZCBpT1MgNy54CiAgICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nCiAgKSkgewogICAgLy8gVXNlIE11dGF0aW9uT2JzZXJ2ZXIgd2hlcmUgbmF0aXZlIFByb21pc2UgaXMgbm90IGF2YWlsYWJsZSwKICAgIC8vIGUuZy4gUGhhbnRvbUpTLCBpT1M3LCBBbmRyb2lkIDQuNAogICAgLy8gKCM2NDY2IE11dGF0aW9uT2JzZXJ2ZXIgaXMgdW5yZWxpYWJsZSBpbiBJRTExKQogICAgdmFyIGNvdW50ZXIgPSAxOwogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2hDYWxsYmFja3MpOwogICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKGNvdW50ZXIpKTsKICAgIG9ic2VydmVyLm9ic2VydmUodGV4dE5vZGUsIHsKICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZQogICAgfSk7CiAgICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjsKICAgICAgdGV4dE5vZGUuZGF0YSA9IFN0cmluZyhjb3VudGVyKTsKICAgIH07CiAgICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTsKICB9IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKHNldEltbWVkaWF0ZSkpIHsKICAgIC8vIEZhbGxiYWNrIHRvIHNldEltbWVkaWF0ZS4KICAgIC8vIFRlY2hpbmljYWxseSBpdCBsZXZlcmFnZXMgdGhlIChtYWNybykgdGFzayBxdWV1ZSwKICAgIC8vIGJ1dCBpdCBpcyBzdGlsbCBhIGJldHRlciBjaG9pY2UgdGhhbiBzZXRUaW1lb3V0LgogICAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkgewogICAgICBzZXRJbW1lZGlhdGUoZmx1c2hDYWxsYmFja3MpOwogICAgfTsKICB9IGVsc2UgewogICAgLy8gRmFsbGJhY2sgdG8gc2V0VGltZW91dC4KICAgIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbmV4dFRpY2sgKGNiLCBjdHgpIHsKICAgIHZhciBfcmVzb2x2ZTsKICAgIGNhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGNiKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNiLmNhbGwoY3R4KTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBoYW5kbGVFcnJvcihlLCBjdHgsICduZXh0VGljaycpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChfcmVzb2x2ZSkgewogICAgICAgIF9yZXNvbHZlKGN0eCk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKCFwZW5kaW5nKSB7CiAgICAgIHBlbmRpbmcgPSB0cnVlOwogICAgICB0aW1lckZ1bmMoKTsKICAgIH0KICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgaWYgKCFjYiAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgX3Jlc29sdmUgPSByZXNvbHZlOwogICAgICB9KQogICAgfQogIH0KCiAgLyogICovCgogIHZhciBtYXJrOwogIHZhciBtZWFzdXJlOwoKICB7CiAgICB2YXIgcGVyZiA9IGluQnJvd3NlciAmJiB3aW5kb3cucGVyZm9ybWFuY2U7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICgKICAgICAgcGVyZiAmJgogICAgICBwZXJmLm1hcmsgJiYKICAgICAgcGVyZi5tZWFzdXJlICYmCiAgICAgIHBlcmYuY2xlYXJNYXJrcyAmJgogICAgICBwZXJmLmNsZWFyTWVhc3VyZXMKICAgICkgewogICAgICBtYXJrID0gZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gcGVyZi5tYXJrKHRhZyk7IH07CiAgICAgIG1lYXN1cmUgPSBmdW5jdGlvbiAobmFtZSwgc3RhcnRUYWcsIGVuZFRhZykgewogICAgICAgIHBlcmYubWVhc3VyZShuYW1lLCBzdGFydFRhZywgZW5kVGFnKTsKICAgICAgICBwZXJmLmNsZWFyTWFya3Moc3RhcnRUYWcpOwogICAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpOwogICAgICAgIC8vIHBlcmYuY2xlYXJNZWFzdXJlcyhuYW1lKQogICAgICB9OwogICAgfQogIH0KCiAgLyogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoIFByb3h5ICovCgogIHZhciBpbml0UHJveHk7CgogIHsKICAgIHZhciBhbGxvd2VkR2xvYmFscyA9IG1ha2VNYXAoCiAgICAgICdJbmZpbml0eSx1bmRlZmluZWQsTmFOLGlzRmluaXRlLGlzTmFOLCcgKwogICAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArCiAgICAgICdNYXRoLE51bWJlcixEYXRlLEFycmF5LE9iamVjdCxCb29sZWFuLFN0cmluZyxSZWdFeHAsTWFwLFNldCxKU09OLEludGwsJyArCiAgICAgICdyZXF1aXJlJyAvLyBmb3IgV2VicGFjay9Ccm93c2VyaWZ5CiAgICApOwoKICAgIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgewogICAgICB3YXJuKAogICAgICAgICJQcm9wZXJ0eSBvciBtZXRob2QgXCIiICsga2V5ICsgIlwiIGlzIG5vdCBkZWZpbmVkIG9uIHRoZSBpbnN0YW5jZSBidXQgIiArCiAgICAgICAgJ3JlZmVyZW5jZWQgZHVyaW5nIHJlbmRlci4gTWFrZSBzdXJlIHRoYXQgdGhpcyBwcm9wZXJ0eSBpcyByZWFjdGl2ZSwgJyArCiAgICAgICAgJ2VpdGhlciBpbiB0aGUgZGF0YSBvcHRpb24sIG9yIGZvciBjbGFzcy1iYXNlZCBjb21wb25lbnRzLCBieSAnICsKICAgICAgICAnaW5pdGlhbGl6aW5nIHRoZSBwcm9wZXJ0eS4gJyArCiAgICAgICAgJ1NlZTogaHR0cHM6Ly92dWVqcy5vcmcvdjIvZ3VpZGUvcmVhY3Rpdml0eS5odG1sI0RlY2xhcmluZy1SZWFjdGl2ZS1Qcm9wZXJ0aWVzLicsCiAgICAgICAgdGFyZ2V0CiAgICAgICk7CiAgICB9OwoKICAgIHZhciB3YXJuUmVzZXJ2ZWRQcmVmaXggPSBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsKICAgICAgd2FybigKICAgICAgICAiUHJvcGVydHkgXCIiICsga2V5ICsgIlwiIG11c3QgYmUgYWNjZXNzZWQgd2l0aCBcIiRkYXRhLiIgKyBrZXkgKyAiXCIgYmVjYXVzZSAiICsKICAgICAgICAncHJvcGVydGllcyBzdGFydGluZyB3aXRoICIkIiBvciAiXyIgYXJlIG5vdCBwcm94aWVkIGluIHRoZSBWdWUgaW5zdGFuY2UgdG8gJyArCiAgICAgICAgJ3ByZXZlbnQgY29uZmxpY3RzIHdpdGggVnVlIGludGVybmFscycgKwogICAgICAgICdTZWU6IGh0dHBzOi8vdnVlanMub3JnL3YyL2FwaS8jZGF0YScsCiAgICAgICAgdGFyZ2V0CiAgICAgICk7CiAgICB9OwoKICAgIHZhciBoYXNQcm94eSA9CiAgICAgIHR5cGVvZiBQcm94eSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUHJveHkpOwoKICAgIGlmIChoYXNQcm94eSkgewogICAgICB2YXIgaXNCdWlsdEluTW9kaWZpZXIgPSBtYWtlTWFwKCdzdG9wLHByZXZlbnQsc2VsZixjdHJsLHNoaWZ0LGFsdCxtZXRhLGV4YWN0Jyk7CiAgICAgIGNvbmZpZy5rZXlDb2RlcyA9IG5ldyBQcm94eShjb25maWcua2V5Q29kZXMsIHsKICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCAodGFyZ2V0LCBrZXksIHZhbHVlKSB7CiAgICAgICAgICBpZiAoaXNCdWlsdEluTW9kaWZpZXIoa2V5KSkgewogICAgICAgICAgICB3YXJuKCgiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuIiArIGtleSkpOwogICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRhcmdldFtrZXldID0gdmFsdWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICB2YXIgaGFzSGFuZGxlciA9IHsKICAgICAgaGFzOiBmdW5jdGlvbiBoYXMgKHRhcmdldCwga2V5KSB7CiAgICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7CiAgICAgICAgdmFyIGlzQWxsb3dlZCA9IGFsbG93ZWRHbG9iYWxzKGtleSkgfHwKICAgICAgICAgICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkuY2hhckF0KDApID09PSAnXycgJiYgIShrZXkgaW4gdGFyZ2V0LiRkYXRhKSk7CiAgICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkgewogICAgICAgICAgaWYgKGtleSBpbiB0YXJnZXQuJGRhdGEpIHsgd2FyblJlc2VydmVkUHJlZml4KHRhcmdldCwga2V5KTsgfQogICAgICAgICAgZWxzZSB7IHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTsgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gaGFzIHx8ICFpc0FsbG93ZWQKICAgICAgfQogICAgfTsKCiAgICB2YXIgZ2V0SGFuZGxlciA9IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQgKHRhcmdldCwga2V5KSB7CiAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmICEoa2V5IGluIHRhcmdldCkpIHsKICAgICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0LiRkYXRhKSB7IHdhcm5SZXNlcnZlZFByZWZpeCh0YXJnZXQsIGtleSk7IH0KICAgICAgICAgIGVsc2UgeyB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7IH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRhcmdldFtrZXldCiAgICAgIH0KICAgIH07CgogICAgaW5pdFByb3h5ID0gZnVuY3Rpb24gaW5pdFByb3h5ICh2bSkgewogICAgICBpZiAoaGFzUHJveHkpIHsKICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJveHkgaGFuZGxlciB0byB1c2UKICAgICAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zOwogICAgICAgIHZhciBoYW5kbGVycyA9IG9wdGlvbnMucmVuZGVyICYmIG9wdGlvbnMucmVuZGVyLl93aXRoU3RyaXBwZWQKICAgICAgICAgID8gZ2V0SGFuZGxlcgogICAgICAgICAgOiBoYXNIYW5kbGVyOwogICAgICAgIHZtLl9yZW5kZXJQcm94eSA9IG5ldyBQcm94eSh2bSwgaGFuZGxlcnMpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtOwogICAgICB9CiAgICB9OwogIH0KCiAgLyogICovCgogIHZhciBzZWVuT2JqZWN0cyA9IG5ldyBfU2V0KCk7CgogIC8qKgogICAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkCiAgICogZ2V0dGVycywgc28gdGhhdCBldmVyeSBuZXN0ZWQgcHJvcGVydHkgaW5zaWRlIHRoZSBvYmplY3QKICAgKiBpcyBjb2xsZWN0ZWQgYXMgYSAiZGVlcCIgZGVwZW5kZW5jeS4KICAgKi8KICBmdW5jdGlvbiB0cmF2ZXJzZSAodmFsKSB7CiAgICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7CiAgICBzZWVuT2JqZWN0cy5jbGVhcigpOwogIH0KCiAgZnVuY3Rpb24gX3RyYXZlcnNlICh2YWwsIHNlZW4pIHsKICAgIHZhciBpLCBrZXlzOwogICAgdmFyIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKTsKICAgIGlmICgoIWlzQSAmJiAhaXNPYmplY3QodmFsKSkgfHwgT2JqZWN0LmlzRnJvemVuKHZhbCkgfHwgdmFsIGluc3RhbmNlb2YgVk5vZGUpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICBpZiAodmFsLl9fb2JfXykgewogICAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDsKICAgICAgaWYgKHNlZW4uaGFzKGRlcElkKSkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHNlZW4uYWRkKGRlcElkKTsKICAgIH0KICAgIGlmIChpc0EpIHsKICAgICAgaSA9IHZhbC5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtpXSwgc2Vlbik7IH0KICAgIH0gZWxzZSB7CiAgICAgIGtleXMgPSBPYmplY3Qua2V5cyh2YWwpOwogICAgICBpID0ga2V5cy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgbm9ybWFsaXplRXZlbnQgPSBjYWNoZWQoZnVuY3Rpb24gKG5hbWUpIHsKICAgIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJzsKICAgIG5hbWUgPSBwYXNzaXZlID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7CiAgICB2YXIgb25jZSQkMSA9IG5hbWUuY2hhckF0KDApID09PSAnfic7IC8vIFByZWZpeGVkIGxhc3QsIGNoZWNrZWQgZmlyc3QKICAgIG5hbWUgPSBvbmNlJCQxID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7CiAgICB2YXIgY2FwdHVyZSA9IG5hbWUuY2hhckF0KDApID09PSAnISc7CiAgICBuYW1lID0gY2FwdHVyZSA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lOwogICAgcmV0dXJuIHsKICAgICAgbmFtZTogbmFtZSwKICAgICAgb25jZTogb25jZSQkMSwKICAgICAgY2FwdHVyZTogY2FwdHVyZSwKICAgICAgcGFzc2l2ZTogcGFzc2l2ZQogICAgfQogIH0pOwoKICBmdW5jdGlvbiBjcmVhdGVGbkludm9rZXIgKGZucywgdm0pIHsKICAgIGZ1bmN0aW9uIGludm9rZXIgKCkgewogICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7CgogICAgICB2YXIgZm5zID0gaW52b2tlci5mbnM7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZucykpIHsKICAgICAgICB2YXIgY2xvbmVkID0gZm5zLnNsaWNlKCk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbG9uZWQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzJDEsIHZtLCAidi1vbiBoYW5kbGVyIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIHJldHVybiBoYW5kbGVyIHJldHVybiB2YWx1ZSBmb3Igc2luZ2xlIGhhbmRsZXJzCiAgICAgICAgcmV0dXJuIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGZucywgbnVsbCwgYXJndW1lbnRzLCB2bSwgInYtb24gaGFuZGxlciIpCiAgICAgIH0KICAgIH0KICAgIGludm9rZXIuZm5zID0gZm5zOwogICAgcmV0dXJuIGludm9rZXIKICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUxpc3RlbmVycyAoCiAgICBvbiwKICAgIG9sZE9uLAogICAgYWRkLAogICAgcmVtb3ZlJCQxLAogICAgY3JlYXRlT25jZUhhbmRsZXIsCiAgICB2bQogICkgewogICAgdmFyIG5hbWUsIGRlZiQkMSwgY3VyLCBvbGQsIGV2ZW50OwogICAgZm9yIChuYW1lIGluIG9uKSB7CiAgICAgIGRlZiQkMSA9IGN1ciA9IG9uW25hbWVdOwogICAgICBvbGQgPSBvbGRPbltuYW1lXTsKICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTsKICAgICAgaWYgKGlzVW5kZWYoY3VyKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiSW52YWxpZCBoYW5kbGVyIGZvciBldmVudCBcIiIgKyAoZXZlbnQubmFtZSkgKyAiXCI6IGdvdCAiICsgU3RyaW5nKGN1ciksCiAgICAgICAgICB2bQogICAgICAgICk7CiAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZihvbGQpKSB7CiAgICAgICAgaWYgKGlzVW5kZWYoY3VyLmZucykpIHsKICAgICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pOwogICAgICAgIH0KICAgICAgICBpZiAoaXNUcnVlKGV2ZW50Lm9uY2UpKSB7CiAgICAgICAgICBjdXIgPSBvbltuYW1lXSA9IGNyZWF0ZU9uY2VIYW5kbGVyKGV2ZW50Lm5hbWUsIGN1ciwgZXZlbnQuY2FwdHVyZSk7CiAgICAgICAgfQogICAgICAgIGFkZChldmVudC5uYW1lLCBjdXIsIGV2ZW50LmNhcHR1cmUsIGV2ZW50LnBhc3NpdmUsIGV2ZW50LnBhcmFtcyk7CiAgICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHsKICAgICAgICBvbGQuZm5zID0gY3VyOwogICAgICAgIG9uW25hbWVdID0gb2xkOwogICAgICB9CiAgICB9CiAgICBmb3IgKG5hbWUgaW4gb2xkT24pIHsKICAgICAgaWYgKGlzVW5kZWYob25bbmFtZV0pKSB7CiAgICAgICAgZXZlbnQgPSBub3JtYWxpemVFdmVudChuYW1lKTsKICAgICAgICByZW1vdmUkJDEoZXZlbnQubmFtZSwgb2xkT25bbmFtZV0sIGV2ZW50LmNhcHR1cmUpOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gbWVyZ2VWTm9kZUhvb2sgKGRlZiwgaG9va0tleSwgaG9vaykgewogICAgaWYgKGRlZiBpbnN0YW5jZW9mIFZOb2RlKSB7CiAgICAgIGRlZiA9IGRlZi5kYXRhLmhvb2sgfHwgKGRlZi5kYXRhLmhvb2sgPSB7fSk7CiAgICB9CiAgICB2YXIgaW52b2tlcjsKICAgIHZhciBvbGRIb29rID0gZGVmW2hvb2tLZXldOwoKICAgIGZ1bmN0aW9uIHdyYXBwZWRIb29rICgpIHsKICAgICAgaG9vay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAvLyBpbXBvcnRhbnQ6IHJlbW92ZSBtZXJnZWQgaG9vayB0byBlbnN1cmUgaXQncyBjYWxsZWQgb25seSBvbmNlCiAgICAgIC8vIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrCiAgICAgIHJlbW92ZShpbnZva2VyLmZucywgd3JhcHBlZEhvb2spOwogICAgfQoKICAgIGlmIChpc1VuZGVmKG9sZEhvb2spKSB7CiAgICAgIC8vIG5vIGV4aXN0aW5nIGhvb2sKICAgICAgaW52b2tlciA9IGNyZWF0ZUZuSW52b2tlcihbd3JhcHBlZEhvb2tdKTsKICAgIH0gZWxzZSB7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoaXNEZWYob2xkSG9vay5mbnMpICYmIGlzVHJ1ZShvbGRIb29rLm1lcmdlZCkpIHsKICAgICAgICAvLyBhbHJlYWR5IGEgbWVyZ2VkIGludm9rZXIKICAgICAgICBpbnZva2VyID0gb2xkSG9vazsKICAgICAgICBpbnZva2VyLmZucy5wdXNoKHdyYXBwZWRIb29rKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBleGlzdGluZyBwbGFpbiBob29rCiAgICAgICAgaW52b2tlciA9IGNyZWF0ZUZuSW52b2tlcihbb2xkSG9vaywgd3JhcHBlZEhvb2tdKTsKICAgICAgfQogICAgfQoKICAgIGludm9rZXIubWVyZ2VkID0gdHJ1ZTsKICAgIGRlZltob29rS2V5XSA9IGludm9rZXI7CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSAoCiAgICBkYXRhLAogICAgQ3RvciwKICAgIHRhZwogICkgewogICAgLy8gd2UgYXJlIG9ubHkgZXh0cmFjdGluZyByYXcgdmFsdWVzIGhlcmUuCiAgICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGQKICAgIC8vIGNvbXBvbmVudCBpdHNlbGYuCiAgICB2YXIgcHJvcE9wdGlvbnMgPSBDdG9yLm9wdGlvbnMucHJvcHM7CiAgICBpZiAoaXNVbmRlZihwcm9wT3B0aW9ucykpIHsKICAgICAgcmV0dXJuCiAgICB9CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgYXR0cnMgPSBkYXRhLmF0dHJzOwogICAgdmFyIHByb3BzID0gZGF0YS5wcm9wczsKICAgIGlmIChpc0RlZihhdHRycykgfHwgaXNEZWYocHJvcHMpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykgewogICAgICAgIHZhciBhbHRLZXkgPSBoeXBoZW5hdGUoa2V5KTsKICAgICAgICB7CiAgICAgICAgICB2YXIga2V5SW5Mb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTsKICAgICAgICAgIGlmICgKICAgICAgICAgICAga2V5ICE9PSBrZXlJbkxvd2VyQ2FzZSAmJgogICAgICAgICAgICBhdHRycyAmJiBoYXNPd24oYXR0cnMsIGtleUluTG93ZXJDYXNlKQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRpcCgKICAgICAgICAgICAgICAiUHJvcCBcIiIgKyBrZXlJbkxvd2VyQ2FzZSArICJcIiBpcyBwYXNzZWQgdG8gY29tcG9uZW50ICIgKwogICAgICAgICAgICAgIChmb3JtYXRDb21wb25lbnROYW1lKHRhZyB8fCBDdG9yKSkgKyAiLCBidXQgdGhlIGRlY2xhcmVkIHByb3AgbmFtZSBpcyIgKwogICAgICAgICAgICAgICIgXCIiICsga2V5ICsgIlwiLiAiICsKICAgICAgICAgICAgICAiTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgY2FtZWxDYXNlZCAiICsKICAgICAgICAgICAgICAicHJvcHMgbmVlZCB0byB1c2UgdGhlaXIga2ViYWItY2FzZSBlcXVpdmFsZW50cyB3aGVuIHVzaW5nIGluLURPTSAiICsKICAgICAgICAgICAgICAidGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiIgKyBhbHRLZXkgKyAiXCIgaW5zdGVhZCBvZiBcIiIgKyBrZXkgKyAiXCIuIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8CiAgICAgICAgY2hlY2tQcm9wKHJlcywgYXR0cnMsIGtleSwgYWx0S2V5LCBmYWxzZSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIGZ1bmN0aW9uIGNoZWNrUHJvcCAoCiAgICByZXMsCiAgICBoYXNoLAogICAga2V5LAogICAgYWx0S2V5LAogICAgcHJlc2VydmUKICApIHsKICAgIGlmIChpc0RlZihoYXNoKSkgewogICAgICBpZiAoaGFzT3duKGhhc2gsIGtleSkpIHsKICAgICAgICByZXNba2V5XSA9IGhhc2hba2V5XTsKICAgICAgICBpZiAoIXByZXNlcnZlKSB7CiAgICAgICAgICBkZWxldGUgaGFzaFtrZXldOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9IGVsc2UgaWYgKGhhc093bihoYXNoLCBhbHRLZXkpKSB7CiAgICAgICAgcmVzW2tleV0gPSBoYXNoW2FsdEtleV07CiAgICAgICAgaWYgKCFwcmVzZXJ2ZSkgewogICAgICAgICAgZGVsZXRlIGhhc2hbYWx0S2V5XTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfQogICAgfQogICAgcmV0dXJuIGZhbHNlCiAgfQoKICAvKiAgKi8KCiAgLy8gVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGF0dGVtcHRzIHRvIG1pbmltaXplIHRoZSBuZWVkIGZvciBub3JtYWxpemF0aW9uIGJ5CiAgLy8gc3RhdGljYWxseSBhbmFseXppbmcgdGhlIHRlbXBsYXRlIGF0IGNvbXBpbGUgdGltZS4KICAvLwogIC8vIEZvciBwbGFpbiBIVE1MIG1hcmt1cCwgbm9ybWFsaXphdGlvbiBjYW4gYmUgY29tcGxldGVseSBza2lwcGVkIGJlY2F1c2UgdGhlCiAgLy8gZ2VuZXJhdGVkIHJlbmRlciBmdW5jdGlvbiBpcyBndWFyYW50ZWVkIHRvIHJldHVybiBBcnJheTxWTm9kZT4uIFRoZXJlIGFyZQogIC8vIHR3byBjYXNlcyB3aGVyZSBleHRyYSBub3JtYWxpemF0aW9uIGlzIG5lZWRlZDoKCiAgLy8gMS4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29tcG9uZW50cyAtIGJlY2F1c2UgYSBmdW5jdGlvbmFsIGNvbXBvbmVudAogIC8vIG1heSByZXR1cm4gYW4gQXJyYXkgaW5zdGVhZCBvZiBhIHNpbmdsZSByb290LiBJbiB0aGlzIGNhc2UsIGp1c3QgYSBzaW1wbGUKICAvLyBub3JtYWxpemF0aW9uIGlzIG5lZWRlZCAtIGlmIGFueSBjaGlsZCBpcyBhbiBBcnJheSwgd2UgZmxhdHRlbiB0aGUgd2hvbGUKICAvLyB0aGluZyB3aXRoIEFycmF5LnByb3RvdHlwZS5jb25jYXQuIEl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgb25seSAxLWxldmVsIGRlZXAKICAvLyBiZWNhdXNlIGZ1bmN0aW9uYWwgY29tcG9uZW50cyBhbHJlYWR5IG5vcm1hbGl6ZSB0aGVpciBvd24gY2hpbGRyZW4uCiAgZnVuY3Rpb24gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4gKGNoaWxkcmVuKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuW2ldKSkgewogICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCBjaGlsZHJlbikKICAgICAgfQogICAgfQogICAgcmV0dXJuIGNoaWxkcmVuCiAgfQoKICAvLyAyLiBXaGVuIHRoZSBjaGlsZHJlbiBjb250YWlucyBjb25zdHJ1Y3RzIHRoYXQgYWx3YXlzIGdlbmVyYXRlZCBuZXN0ZWQgQXJyYXlzLAogIC8vIGUuZy4gPHRlbXBsYXRlPiwgPHNsb3Q+LCB2LWZvciwgb3Igd2hlbiB0aGUgY2hpbGRyZW4gaXMgcHJvdmlkZWQgYnkgdXNlcgogIC8vIHdpdGggaGFuZC13cml0dGVuIHJlbmRlciBmdW5jdGlvbnMgLyBKU1guIEluIHN1Y2ggY2FzZXMgYSBmdWxsIG5vcm1hbGl6YXRpb24KICAvLyBpcyBuZWVkZWQgdG8gY2F0ZXIgdG8gYWxsIHBvc3NpYmxlIHR5cGVzIG9mIGNoaWxkcmVuIHZhbHVlcy4KICBmdW5jdGlvbiBub3JtYWxpemVDaGlsZHJlbiAoY2hpbGRyZW4pIHsKICAgIHJldHVybiBpc1ByaW1pdGl2ZShjaGlsZHJlbikKICAgICAgPyBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV0KICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkcmVuKQogICAgICAgID8gbm9ybWFsaXplQXJyYXlDaGlsZHJlbihjaGlsZHJlbikKICAgICAgICA6IHVuZGVmaW5lZAogIH0KCiAgZnVuY3Rpb24gaXNUZXh0Tm9kZSAobm9kZSkgewogICAgcmV0dXJuIGlzRGVmKG5vZGUpICYmIGlzRGVmKG5vZGUudGV4dCkgJiYgaXNGYWxzZShub2RlLmlzQ29tbWVudCkKICB9CgogIGZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4gKGNoaWxkcmVuLCBuZXN0ZWRJbmRleCkgewogICAgdmFyIHJlcyA9IFtdOwogICAgdmFyIGksIGMsIGxhc3RJbmRleCwgbGFzdDsKICAgIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICBjID0gY2hpbGRyZW5baV07CiAgICAgIGlmIChpc1VuZGVmKGMpIHx8IHR5cGVvZiBjID09PSAnYm9vbGVhbicpIHsgY29udGludWUgfQogICAgICBsYXN0SW5kZXggPSByZXMubGVuZ3RoIC0gMTsKICAgICAgbGFzdCA9IHJlc1tsYXN0SW5kZXhdOwogICAgICAvLyAgbmVzdGVkCiAgICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7CiAgICAgICAgaWYgKGMubGVuZ3RoID4gMCkgewogICAgICAgICAgYyA9IG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oYywgKChuZXN0ZWRJbmRleCB8fCAnJykgKyAiXyIgKyBpKSk7CiAgICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzCiAgICAgICAgICBpZiAoaXNUZXh0Tm9kZShjWzBdKSAmJiBpc1RleHROb2RlKGxhc3QpKSB7CiAgICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIChjWzBdKS50ZXh0KTsKICAgICAgICAgICAgYy5zaGlmdCgpOwogICAgICAgICAgfQogICAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBjKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaXNQcmltaXRpdmUoYykpIHsKICAgICAgICBpZiAoaXNUZXh0Tm9kZShsYXN0KSkgewogICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcwogICAgICAgICAgLy8gdGhpcyBpcyBuZWNlc3NhcnkgZm9yIFNTUiBoeWRyYXRpb24gYmVjYXVzZSB0ZXh0IG5vZGVzIGFyZQogICAgICAgICAgLy8gZXNzZW50aWFsbHkgbWVyZ2VkIHdoZW4gcmVuZGVyZWQgdG8gSFRNTCBzdHJpbmdzCiAgICAgICAgICByZXNbbGFzdEluZGV4XSA9IGNyZWF0ZVRleHRWTm9kZShsYXN0LnRleHQgKyBjKTsKICAgICAgICB9IGVsc2UgaWYgKGMgIT09ICcnKSB7CiAgICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZQogICAgICAgICAgcmVzLnB1c2goY3JlYXRlVGV4dFZOb2RlKGMpKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGlzVGV4dE5vZGUoYykgJiYgaXNUZXh0Tm9kZShsYXN0KSkgewogICAgICAgICAgLy8gbWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcwogICAgICAgICAgcmVzW2xhc3RJbmRleF0gPSBjcmVhdGVUZXh0Vk5vZGUobGFzdC50ZXh0ICsgYy50ZXh0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gZGVmYXVsdCBrZXkgZm9yIG5lc3RlZCBhcnJheSBjaGlsZHJlbiAobGlrZWx5IGdlbmVyYXRlZCBieSB2LWZvcikKICAgICAgICAgIGlmIChpc1RydWUoY2hpbGRyZW4uX2lzVkxpc3QpICYmCiAgICAgICAgICAgIGlzRGVmKGMudGFnKSAmJgogICAgICAgICAgICBpc1VuZGVmKGMua2V5KSAmJgogICAgICAgICAgICBpc0RlZihuZXN0ZWRJbmRleCkpIHsKICAgICAgICAgICAgYy5rZXkgPSAiX192bGlzdCIgKyBuZXN0ZWRJbmRleCArICJfIiArIGkgKyAiX18iOwogICAgICAgICAgfQogICAgICAgICAgcmVzLnB1c2goYyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzCiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdFByb3ZpZGUgKHZtKSB7CiAgICB2YXIgcHJvdmlkZSA9IHZtLiRvcHRpb25zLnByb3ZpZGU7CiAgICBpZiAocHJvdmlkZSkgewogICAgICB2bS5fcHJvdmlkZWQgPSB0eXBlb2YgcHJvdmlkZSA9PT0gJ2Z1bmN0aW9uJwogICAgICAgID8gcHJvdmlkZS5jYWxsKHZtKQogICAgICAgIDogcHJvdmlkZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGluaXRJbmplY3Rpb25zICh2bSkgewogICAgdmFyIHJlc3VsdCA9IHJlc29sdmVJbmplY3Qodm0uJG9wdGlvbnMuaW5qZWN0LCB2bSk7CiAgICBpZiAocmVzdWx0KSB7CiAgICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7CiAgICAgIE9iamVjdC5rZXlzKHJlc3VsdCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICB7CiAgICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCByZXN1bHRba2V5XSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICJBdm9pZCBtdXRhdGluZyBhbiBpbmplY3RlZCB2YWx1ZSBkaXJlY3RseSBzaW5jZSB0aGUgY2hhbmdlcyB3aWxsIGJlICIgKwogICAgICAgICAgICAgICJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuICIgKwogICAgICAgICAgICAgICJpbmplY3Rpb24gYmVpbmcgbXV0YXRlZDogXCIiICsga2V5ICsgIlwiIiwKICAgICAgICAgICAgICB2bQogICAgICAgICAgICApOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUluamVjdCAoaW5qZWN0LCB2bSkgewogICAgaWYgKGluamVjdCkgewogICAgICAvLyBpbmplY3QgaXMgOmFueSBiZWNhdXNlIGZsb3cgaXMgbm90IHNtYXJ0IGVub3VnaCB0byBmaWd1cmUgb3V0IGNhY2hlZAogICAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgdmFyIGtleXMgPSBoYXNTeW1ib2wKICAgICAgICA/IFJlZmxlY3Qub3duS2V5cyhpbmplY3QpCiAgICAgICAgOiBPYmplY3Qua2V5cyhpbmplY3QpOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07CiAgICAgICAgLy8gIzY1NzQgaW4gY2FzZSB0aGUgaW5qZWN0IG9iamVjdCBpcyBvYnNlcnZlZC4uLgogICAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH0KICAgICAgICB2YXIgcHJvdmlkZUtleSA9IGluamVjdFtrZXldLmZyb207CiAgICAgICAgdmFyIHNvdXJjZSA9IHZtOwogICAgICAgIHdoaWxlIChzb3VyY2UpIHsKICAgICAgICAgIGlmIChzb3VyY2UuX3Byb3ZpZGVkICYmIGhhc093bihzb3VyY2UuX3Byb3ZpZGVkLCBwcm92aWRlS2V5KSkgewogICAgICAgICAgICByZXN1bHRba2V5XSA9IHNvdXJjZS5fcHJvdmlkZWRbcHJvdmlkZUtleV07CiAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICB9CiAgICAgICAgICBzb3VyY2UgPSBzb3VyY2UuJHBhcmVudDsKICAgICAgICB9CiAgICAgICAgaWYgKCFzb3VyY2UpIHsKICAgICAgICAgIGlmICgnZGVmYXVsdCcgaW4gaW5qZWN0W2tleV0pIHsKICAgICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDsKICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0eXBlb2YgcHJvdmlkZURlZmF1bHQgPT09ICdmdW5jdGlvbicKICAgICAgICAgICAgICA/IHByb3ZpZGVEZWZhdWx0LmNhbGwodm0pCiAgICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHdhcm4oKCJJbmplY3Rpb24gXCIiICsga2V5ICsgIlwiIG5vdCBmb3VuZCIpLCB2bSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQKICAgIH0KICB9CgogIC8qICAqLwoKCgogIC8qKgogICAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgcmF3IGNoaWxkcmVuIFZOb2RlcyBpbnRvIGEgc2xvdCBvYmplY3QuCiAgICovCiAgZnVuY3Rpb24gcmVzb2x2ZVNsb3RzICgKICAgIGNoaWxkcmVuLAogICAgY29udGV4dAogICkgewogICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgIHJldHVybiB7fQogICAgfQogICAgdmFyIHNsb3RzID0ge307CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTsKICAgICAgdmFyIGRhdGEgPSBjaGlsZC5kYXRhOwogICAgICAvLyByZW1vdmUgc2xvdCBhdHRyaWJ1dGUgaWYgdGhlIG5vZGUgaXMgcmVzb2x2ZWQgYXMgYSBWdWUgc2xvdCBub2RlCiAgICAgIGlmIChkYXRhICYmIGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy5zbG90KSB7CiAgICAgICAgZGVsZXRlIGRhdGEuYXR0cnMuc2xvdDsKICAgICAgfQogICAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGUKICAgICAgLy8gc2FtZSBjb250ZXh0LgogICAgICBpZiAoKGNoaWxkLmNvbnRleHQgPT09IGNvbnRleHQgfHwgY2hpbGQuZm5Db250ZXh0ID09PSBjb250ZXh0KSAmJgogICAgICAgIGRhdGEgJiYgZGF0YS5zbG90ICE9IG51bGwKICAgICAgKSB7CiAgICAgICAgdmFyIG5hbWUgPSBkYXRhLnNsb3Q7CiAgICAgICAgdmFyIHNsb3QgPSAoc2xvdHNbbmFtZV0gfHwgKHNsb3RzW25hbWVdID0gW10pKTsKICAgICAgICBpZiAoY2hpbGQudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgICAgICBzbG90LnB1c2guYXBwbHkoc2xvdCwgY2hpbGQuY2hpbGRyZW4gfHwgW10pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzbG90LnB1c2goY2hpbGQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAoc2xvdHMuZGVmYXVsdCB8fCAoc2xvdHMuZGVmYXVsdCA9IFtdKSkucHVzaChjaGlsZCk7CiAgICAgIH0KICAgIH0KICAgIC8vIGlnbm9yZSBzbG90cyB0aGF0IGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZQogICAgZm9yICh2YXIgbmFtZSQxIGluIHNsb3RzKSB7CiAgICAgIGlmIChzbG90c1tuYW1lJDFdLmV2ZXJ5KGlzV2hpdGVzcGFjZSkpIHsKICAgICAgICBkZWxldGUgc2xvdHNbbmFtZSQxXTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHNsb3RzCiAgfQoKICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKG5vZGUpIHsKICAgIHJldHVybiAobm9kZS5pc0NvbW1lbnQgJiYgIW5vZGUuYXN5bmNGYWN0b3J5KSB8fCBub2RlLnRleHQgPT09ICcgJwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3BlZFNsb3RzICgKICAgIHNsb3RzLAogICAgbm9ybWFsU2xvdHMsCiAgICBwcmV2U2xvdHMKICApIHsKICAgIHZhciByZXM7CiAgICB2YXIgaGFzTm9ybWFsU2xvdHMgPSBPYmplY3Qua2V5cyhub3JtYWxTbG90cykubGVuZ3RoID4gMDsKICAgIHZhciBpc1N0YWJsZSA9IHNsb3RzID8gISFzbG90cy4kc3RhYmxlIDogIWhhc05vcm1hbFNsb3RzOwogICAgdmFyIGtleSA9IHNsb3RzICYmIHNsb3RzLiRrZXk7CiAgICBpZiAoIXNsb3RzKSB7CiAgICAgIHJlcyA9IHt9OwogICAgfSBlbHNlIGlmIChzbG90cy5fbm9ybWFsaXplZCkgewogICAgICAvLyBmYXN0IHBhdGggMTogY2hpbGQgY29tcG9uZW50IHJlLXJlbmRlciBvbmx5LCBwYXJlbnQgZGlkIG5vdCBjaGFuZ2UKICAgICAgcmV0dXJuIHNsb3RzLl9ub3JtYWxpemVkCiAgICB9IGVsc2UgaWYgKAogICAgICBpc1N0YWJsZSAmJgogICAgICBwcmV2U2xvdHMgJiYKICAgICAgcHJldlNsb3RzICE9PSBlbXB0eU9iamVjdCAmJgogICAgICBrZXkgPT09IHByZXZTbG90cy4ka2V5ICYmCiAgICAgICFoYXNOb3JtYWxTbG90cyAmJgogICAgICAhcHJldlNsb3RzLiRoYXNOb3JtYWwKICAgICkgewogICAgICAvLyBmYXN0IHBhdGggMjogc3RhYmxlIHNjb3BlZCBzbG90cyB3LyBubyBub3JtYWwgc2xvdHMgdG8gcHJveHksCiAgICAgIC8vIG9ubHkgbmVlZCB0byBub3JtYWxpemUgb25jZQogICAgICByZXR1cm4gcHJldlNsb3RzCiAgICB9IGVsc2UgewogICAgICByZXMgPSB7fTsKICAgICAgZm9yICh2YXIga2V5JDEgaW4gc2xvdHMpIHsKICAgICAgICBpZiAoc2xvdHNba2V5JDFdICYmIGtleSQxWzBdICE9PSAnJCcpIHsKICAgICAgICAgIHJlc1trZXkkMV0gPSBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXkkMSwgc2xvdHNba2V5JDFdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIC8vIGV4cG9zZSBub3JtYWwgc2xvdHMgb24gc2NvcGVkU2xvdHMKICAgIGZvciAodmFyIGtleSQyIGluIG5vcm1hbFNsb3RzKSB7CiAgICAgIGlmICghKGtleSQyIGluIHJlcykpIHsKICAgICAgICByZXNba2V5JDJdID0gcHJveHlOb3JtYWxTbG90KG5vcm1hbFNsb3RzLCBrZXkkMik7CiAgICAgIH0KICAgIH0KICAgIC8vIGF2b3JpYXogc2VlbXMgdG8gbW9jayBhIG5vbi1leHRlbnNpYmxlICRzY29wZWRTbG90cyBvYmplY3QKICAgIC8vIGFuZCB3aGVuIHRoYXQgaXMgcGFzc2VkIGRvd24gdGhpcyB3b3VsZCBjYXVzZSBhbiBlcnJvcgogICAgaWYgKHNsb3RzICYmIE9iamVjdC5pc0V4dGVuc2libGUoc2xvdHMpKSB7CiAgICAgIChzbG90cykuX25vcm1hbGl6ZWQgPSByZXM7CiAgICB9CiAgICBkZWYocmVzLCAnJHN0YWJsZScsIGlzU3RhYmxlKTsKICAgIGRlZihyZXMsICcka2V5Jywga2V5KTsKICAgIGRlZihyZXMsICckaGFzTm9ybWFsJywgaGFzTm9ybWFsU2xvdHMpOwogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdChub3JtYWxTbG90cywga2V5LCBmbikgewogICAgdmFyIG5vcm1hbGl6ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID8gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IGZuKHt9KTsKICAgICAgcmVzID0gcmVzICYmIHR5cGVvZiByZXMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHJlcykKICAgICAgICA/IFtyZXNdIC8vIHNpbmdsZSB2bm9kZQogICAgICAgIDogbm9ybWFsaXplQ2hpbGRyZW4ocmVzKTsKICAgICAgcmV0dXJuIHJlcyAmJiAoCiAgICAgICAgcmVzLmxlbmd0aCA9PT0gMCB8fAogICAgICAgIChyZXMubGVuZ3RoID09PSAxICYmIHJlc1swXS5pc0NvbW1lbnQpIC8vICM5NjU4CiAgICAgICkgPyB1bmRlZmluZWQKICAgICAgICA6IHJlcwogICAgfTsKICAgIC8vIHRoaXMgaXMgYSBzbG90IHVzaW5nIHRoZSBuZXcgdi1zbG90IHN5bnRheCB3aXRob3V0IHNjb3BlLiBhbHRob3VnaCBpdCBpcwogICAgLy8gY29tcGlsZWQgYXMgYSBzY29wZWQgc2xvdCwgcmVuZGVyIGZuIHVzZXJzIHdvdWxkIGV4cGVjdCBpdCB0byBiZSBwcmVzZW50CiAgICAvLyBvbiB0aGlzLiRzbG90cyBiZWNhdXNlIHRoZSB1c2FnZSBpcyBzZW1hbnRpY2FsbHkgYSBub3JtYWwgc2xvdC4KICAgIGlmIChmbi5wcm94eSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9ybWFsU2xvdHMsIGtleSwgewogICAgICAgIGdldDogbm9ybWFsaXplZCwKICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBub3JtYWxpemVkCiAgfQoKICBmdW5jdGlvbiBwcm94eU5vcm1hbFNsb3Qoc2xvdHMsIGtleSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNsb3RzW2tleV07IH0KICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHYtZm9yIGxpc3RzLgogICAqLwogIGZ1bmN0aW9uIHJlbmRlckxpc3QgKAogICAgdmFsLAogICAgcmVuZGVyCiAgKSB7CiAgICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldCA9IG5ldyBBcnJheSh2YWwubGVuZ3RoKTsKICAgICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICByZXRbaV0gPSByZW5kZXIodmFsW2ldLCBpKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykgewogICAgICByZXQgPSBuZXcgQXJyYXkodmFsKTsKICAgICAgZm9yIChpID0gMDsgaSA8IHZhbDsgaSsrKSB7CiAgICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWwpKSB7CiAgICAgIGlmIChoYXNTeW1ib2wgJiYgdmFsW1N5bWJvbC5pdGVyYXRvcl0pIHsKICAgICAgICByZXQgPSBbXTsKICAgICAgICB2YXIgaXRlcmF0b3IgPSB2YWxbU3ltYm9sLml0ZXJhdG9yXSgpOwogICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7CiAgICAgICAgd2hpbGUgKCFyZXN1bHQuZG9uZSkgewogICAgICAgICAgcmV0LnB1c2gocmVuZGVyKHJlc3VsdC52YWx1ZSwgcmV0Lmxlbmd0aCkpOwogICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTsKICAgICAgICByZXQgPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpOwogICAgICAgIGZvciAoaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAga2V5ID0ga2V5c1tpXTsKICAgICAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxba2V5XSwga2V5LCBpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICghaXNEZWYocmV0KSkgewogICAgICByZXQgPSBbXTsKICAgIH0KICAgIChyZXQpLl9pc1ZMaXN0ID0gdHJ1ZTsKICAgIHJldHVybiByZXQKICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIDxzbG90PgogICAqLwogIGZ1bmN0aW9uIHJlbmRlclNsb3QgKAogICAgbmFtZSwKICAgIGZhbGxiYWNrLAogICAgcHJvcHMsCiAgICBiaW5kT2JqZWN0CiAgKSB7CiAgICB2YXIgc2NvcGVkU2xvdEZuID0gdGhpcy4kc2NvcGVkU2xvdHNbbmFtZV07CiAgICB2YXIgbm9kZXM7CiAgICBpZiAoc2NvcGVkU2xvdEZuKSB7IC8vIHNjb3BlZCBzbG90CiAgICAgIHByb3BzID0gcHJvcHMgfHwge307CiAgICAgIGlmIChiaW5kT2JqZWN0KSB7CiAgICAgICAgaWYgKCFpc09iamVjdChiaW5kT2JqZWN0KSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgJ3Nsb3Qgdi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QnLAogICAgICAgICAgICB0aGlzCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBwcm9wcyA9IGV4dGVuZChleHRlbmQoe30sIGJpbmRPYmplY3QpLCBwcm9wcyk7CiAgICAgIH0KICAgICAgbm9kZXMgPSBzY29wZWRTbG90Rm4ocHJvcHMpIHx8IGZhbGxiYWNrOwogICAgfSBlbHNlIHsKICAgICAgbm9kZXMgPSB0aGlzLiRzbG90c1tuYW1lXSB8fCBmYWxsYmFjazsKICAgIH0KCiAgICB2YXIgdGFyZ2V0ID0gcHJvcHMgJiYgcHJvcHMuc2xvdDsKICAgIGlmICh0YXJnZXQpIHsKICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJywgeyBzbG90OiB0YXJnZXQgfSwgbm9kZXMpCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbm9kZXMKICAgIH0KICB9CgogIC8qICAqLwoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgcmVzb2x2aW5nIGZpbHRlcnMKICAgKi8KICBmdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkgewogICAgcmV0dXJuIHJlc29sdmVBc3NldCh0aGlzLiRvcHRpb25zLCAnZmlsdGVycycsIGlkLCB0cnVlKSB8fCBpZGVudGl0eQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGlzS2V5Tm90TWF0Y2ggKGV4cGVjdCwgYWN0dWFsKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3QpKSB7CiAgICAgIHJldHVybiBleHBlY3QuaW5kZXhPZihhY3R1YWwpID09PSAtMQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsCiAgICB9CiAgfQoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3IgY2hlY2tpbmcga2V5Q29kZXMgZnJvbSBjb25maWcuCiAgICogZXhwb3NlZCBhcyBWdWUucHJvdG90eXBlLl9rCiAgICogcGFzc2luZyBpbiBldmVudEtleU5hbWUgYXMgbGFzdCBhcmd1bWVudCBzZXBhcmF0ZWx5IGZvciBiYWNrd2FyZHMgY29tcGF0CiAgICovCiAgZnVuY3Rpb24gY2hlY2tLZXlDb2RlcyAoCiAgICBldmVudEtleUNvZGUsCiAgICBrZXksCiAgICBidWlsdEluS2V5Q29kZSwKICAgIGV2ZW50S2V5TmFtZSwKICAgIGJ1aWx0SW5LZXlOYW1lCiAgKSB7CiAgICB2YXIgbWFwcGVkS2V5Q29kZSA9IGNvbmZpZy5rZXlDb2Rlc1trZXldIHx8IGJ1aWx0SW5LZXlDb2RlOwogICAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnLmtleUNvZGVzW2tleV0pIHsKICAgICAgcmV0dXJuIGlzS2V5Tm90TWF0Y2goYnVpbHRJbktleU5hbWUsIGV2ZW50S2V5TmFtZSkKICAgIH0gZWxzZSBpZiAobWFwcGVkS2V5Q29kZSkgewogICAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpCiAgICB9IGVsc2UgaWYgKGV2ZW50S2V5TmFtZSkgewogICAgICByZXR1cm4gaHlwaGVuYXRlKGV2ZW50S2V5TmFtZSkgIT09IGtleQogICAgfQogIH0KCiAgLyogICovCgogIC8qKgogICAqIFJ1bnRpbWUgaGVscGVyIGZvciBtZXJnaW5nIHYtYmluZD0ib2JqZWN0IiBpbnRvIGEgVk5vZGUncyBkYXRhLgogICAqLwogIGZ1bmN0aW9uIGJpbmRPYmplY3RQcm9wcyAoCiAgICBkYXRhLAogICAgdGFnLAogICAgdmFsdWUsCiAgICBhc1Byb3AsCiAgICBpc1N5bmMKICApIHsKICAgIGlmICh2YWx1ZSkgewogICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAndi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3Qgb3IgQXJyYXkgdmFsdWUnLAogICAgICAgICAgdGhpcwogICAgICAgICk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgdmFyIGhhc2g7CiAgICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAga2V5ID09PSAnY2xhc3MnIHx8CiAgICAgICAgICAgIGtleSA9PT0gJ3N0eWxlJyB8fAogICAgICAgICAgICBpc1Jlc2VydmVkQXR0cmlidXRlKGtleSkKICAgICAgICAgICkgewogICAgICAgICAgICBoYXNoID0gZGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciB0eXBlID0gZGF0YS5hdHRycyAmJiBkYXRhLmF0dHJzLnR5cGU7CiAgICAgICAgICAgIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywgdHlwZSwga2V5KQogICAgICAgICAgICAgID8gZGF0YS5kb21Qcm9wcyB8fCAoZGF0YS5kb21Qcm9wcyA9IHt9KQogICAgICAgICAgICAgIDogZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KTsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBjYW1lbGl6ZWRLZXkgPSBjYW1lbGl6ZShrZXkpOwogICAgICAgICAgdmFyIGh5cGhlbmF0ZWRLZXkgPSBoeXBoZW5hdGUoa2V5KTsKICAgICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBoYXNoKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gaGFzaCkpIHsKICAgICAgICAgICAgaGFzaFtrZXldID0gdmFsdWVba2V5XTsKCiAgICAgICAgICAgIGlmIChpc1N5bmMpIHsKICAgICAgICAgICAgICB2YXIgb24gPSBkYXRhLm9uIHx8IChkYXRhLm9uID0ge30pOwogICAgICAgICAgICAgIG9uWygidXBkYXRlOiIgKyBrZXkpXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgIHZhbHVlW2tleV0gPSAkZXZlbnQ7CiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgbG9vcCgga2V5ICk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkYXRhCiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogUnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyBzdGF0aWMgdHJlZXMuCiAgICovCiAgZnVuY3Rpb24gcmVuZGVyU3RhdGljICgKICAgIGluZGV4LAogICAgaXNJbkZvcgogICkgewogICAgdmFyIGNhY2hlZCA9IHRoaXMuX3N0YXRpY1RyZWVzIHx8ICh0aGlzLl9zdGF0aWNUcmVlcyA9IFtdKTsKICAgIHZhciB0cmVlID0gY2FjaGVkW2luZGV4XTsKICAgIC8vIGlmIGhhcyBhbHJlYWR5LXJlbmRlcmVkIHN0YXRpYyB0cmVlIGFuZCBub3QgaW5zaWRlIHYtZm9yLAogICAgLy8gd2UgY2FuIHJldXNlIHRoZSBzYW1lIHRyZWUuCiAgICBpZiAodHJlZSAmJiAhaXNJbkZvcikgewogICAgICByZXR1cm4gdHJlZQogICAgfQogICAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLgogICAgdHJlZSA9IGNhY2hlZFtpbmRleF0gPSB0aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tpbmRleF0uY2FsbCgKICAgICAgdGhpcy5fcmVuZGVyUHJveHksCiAgICAgIG51bGwsCiAgICAgIHRoaXMgLy8gZm9yIHJlbmRlciBmbnMgZ2VuZXJhdGVkIGZvciBmdW5jdGlvbmFsIGNvbXBvbmVudCB0ZW1wbGF0ZXMKICAgICk7CiAgICBtYXJrU3RhdGljKHRyZWUsICgiX19zdGF0aWNfXyIgKyBpbmRleCksIGZhbHNlKTsKICAgIHJldHVybiB0cmVlCiAgfQoKICAvKioKICAgKiBSdW50aW1lIGhlbHBlciBmb3Igdi1vbmNlLgogICAqIEVmZmVjdGl2ZWx5IGl0IG1lYW5zIG1hcmtpbmcgdGhlIG5vZGUgYXMgc3RhdGljIHdpdGggYSB1bmlxdWUga2V5LgogICAqLwogIGZ1bmN0aW9uIG1hcmtPbmNlICgKICAgIHRyZWUsCiAgICBpbmRleCwKICAgIGtleQogICkgewogICAgbWFya1N0YXRpYyh0cmVlLCAoIl9fb25jZV9fIiArIGluZGV4ICsgKGtleSA/ICgiXyIgKyBrZXkpIDogIiIpKSwgdHJ1ZSk7CiAgICByZXR1cm4gdHJlZQogIH0KCiAgZnVuY3Rpb24gbWFya1N0YXRpYyAoCiAgICB0cmVlLAogICAga2V5LAogICAgaXNPbmNlCiAgKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0cmVlKSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWVbaV0sIChrZXkgKyAiXyIgKyBpKSwgaXNPbmNlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWNOb2RlIChub2RlLCBrZXksIGlzT25jZSkgewogICAgbm9kZS5pc1N0YXRpYyA9IHRydWU7CiAgICBub2RlLmtleSA9IGtleTsKICAgIG5vZGUuaXNPbmNlID0gaXNPbmNlOwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGJpbmRPYmplY3RMaXN0ZW5lcnMgKGRhdGEsIHZhbHVlKSB7CiAgICBpZiAodmFsdWUpIHsKICAgICAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAndi1vbiB3aXRob3V0IGFyZ3VtZW50IGV4cGVjdHMgYW4gT2JqZWN0IHZhbHVlJywKICAgICAgICAgIHRoaXMKICAgICAgICApOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBvbiA9IGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9OwogICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgewogICAgICAgICAgdmFyIGV4aXN0aW5nID0gb25ba2V5XTsKICAgICAgICAgIHZhciBvdXJzID0gdmFsdWVba2V5XTsKICAgICAgICAgIG9uW2tleV0gPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgb3VycykgOiBvdXJzOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMgKAogICAgZm5zLCAvLyBzZWUgZmxvdy92bm9kZQogICAgcmVzLAogICAgLy8gdGhlIGZvbGxvd2luZyBhcmUgYWRkZWQgaW4gMi42CiAgICBoYXNEeW5hbWljS2V5cywKICAgIGNvbnRlbnRIYXNoS2V5CiAgKSB7CiAgICByZXMgPSByZXMgfHwgeyAkc3RhYmxlOiAhaGFzRHluYW1pY0tleXMgfTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBzbG90ID0gZm5zW2ldOwogICAgICBpZiAoQXJyYXkuaXNBcnJheShzbG90KSkgewogICAgICAgIHJlc29sdmVTY29wZWRTbG90cyhzbG90LCByZXMsIGhhc0R5bmFtaWNLZXlzKTsKICAgICAgfSBlbHNlIGlmIChzbG90KSB7CiAgICAgICAgLy8gbWFya2VyIGZvciByZXZlcnNlIHByb3h5aW5nIHYtc2xvdCB3aXRob3V0IHNjb3BlIG9uIHRoaXMuJHNsb3RzCiAgICAgICAgaWYgKHNsb3QucHJveHkpIHsKICAgICAgICAgIHNsb3QuZm4ucHJveHkgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXNbc2xvdC5rZXldID0gc2xvdC5mbjsKICAgICAgfQogICAgfQogICAgaWYgKGNvbnRlbnRIYXNoS2V5KSB7CiAgICAgIChyZXMpLiRrZXkgPSBjb250ZW50SGFzaEtleTsKICAgIH0KICAgIHJldHVybiByZXMKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBiaW5kRHluYW1pY0tleXMgKGJhc2VPYmosIHZhbHVlcykgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgdmFyIGtleSA9IHZhbHVlc1tpXTsKICAgICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleSkgewogICAgICAgIGJhc2VPYmpbdmFsdWVzW2ldXSA9IHZhbHVlc1tpICsgMV07CiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSAnJyAmJiBrZXkgIT09IG51bGwpIHsKICAgICAgICAvLyBudWxsIGlzIGEgc3BlaWNhbCB2YWx1ZSBmb3IgZXhwbGljaXRseSByZW1vdmluZyBhIGJpbmRpbmcKICAgICAgICB3YXJuKAogICAgICAgICAgKCJJbnZhbGlkIHZhbHVlIGZvciBkeW5hbWljIGRpcmVjdGl2ZSBhcmd1bWVudCAoZXhwZWN0ZWQgc3RyaW5nIG9yIG51bGwpOiAiICsga2V5KSwKICAgICAgICAgIHRoaXMKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gYmFzZU9iagogIH0KCiAgLy8gaGVscGVyIHRvIGR5bmFtaWNhbGx5IGFwcGVuZCBtb2RpZmllciBydW50aW1lIG1hcmtlcnMgdG8gZXZlbnQgbmFtZXMuCiAgLy8gZW5zdXJlIG9ubHkgYXBwZW5kIHdoZW4gdmFsdWUgaXMgYWxyZWFkeSBzdHJpbmcsIG90aGVyd2lzZSBpdCB3aWxsIGJlIGNhc3QKICAvLyB0byBzdHJpbmcgYW5kIGNhdXNlIHRoZSB0eXBlIGNoZWNrIHRvIG1pc3MuCiAgZnVuY3Rpb24gcHJlcGVuZE1vZGlmaWVyICh2YWx1ZSwgc3ltYm9sKSB7CiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyA/IHN5bWJvbCArIHZhbHVlIDogdmFsdWUKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbnN0YWxsUmVuZGVySGVscGVycyAodGFyZ2V0KSB7CiAgICB0YXJnZXQuX28gPSBtYXJrT25jZTsKICAgIHRhcmdldC5fbiA9IHRvTnVtYmVyOwogICAgdGFyZ2V0Ll9zID0gdG9TdHJpbmc7CiAgICB0YXJnZXQuX2wgPSByZW5kZXJMaXN0OwogICAgdGFyZ2V0Ll90ID0gcmVuZGVyU2xvdDsKICAgIHRhcmdldC5fcSA9IGxvb3NlRXF1YWw7CiAgICB0YXJnZXQuX2kgPSBsb29zZUluZGV4T2Y7CiAgICB0YXJnZXQuX20gPSByZW5kZXJTdGF0aWM7CiAgICB0YXJnZXQuX2YgPSByZXNvbHZlRmlsdGVyOwogICAgdGFyZ2V0Ll9rID0gY2hlY2tLZXlDb2RlczsKICAgIHRhcmdldC5fYiA9IGJpbmRPYmplY3RQcm9wczsKICAgIHRhcmdldC5fdiA9IGNyZWF0ZVRleHRWTm9kZTsKICAgIHRhcmdldC5fZSA9IGNyZWF0ZUVtcHR5Vk5vZGU7CiAgICB0YXJnZXQuX3UgPSByZXNvbHZlU2NvcGVkU2xvdHM7CiAgICB0YXJnZXQuX2cgPSBiaW5kT2JqZWN0TGlzdGVuZXJzOwogICAgdGFyZ2V0Ll9kID0gYmluZER5bmFtaWNLZXlzOwogICAgdGFyZ2V0Ll9wID0gcHJlcGVuZE1vZGlmaWVyOwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0ICgKICAgIGRhdGEsCiAgICBwcm9wcywKICAgIGNoaWxkcmVuLAogICAgcGFyZW50LAogICAgQ3RvcgogICkgewogICAgdmFyIHRoaXMkMSA9IHRoaXM7CgogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICAvLyBlbnN1cmUgdGhlIGNyZWF0ZUVsZW1lbnQgZnVuY3Rpb24gaW4gZnVuY3Rpb25hbCBjb21wb25lbnRzCiAgICAvLyBnZXRzIGEgdW5pcXVlIGNvbnRleHQgLSB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBuYW1lZCBzbG90IGNoZWNrCiAgICB2YXIgY29udGV4dFZtOwogICAgaWYgKGhhc093bihwYXJlbnQsICdfdWlkJykpIHsKICAgICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpOwogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgY29udGV4dFZtLl9vcmlnaW5hbCA9IHBhcmVudDsKICAgIH0gZWxzZSB7CiAgICAgIC8vIHRoZSBjb250ZXh0IHZtIHBhc3NlZCBpbiBpcyBhIGZ1bmN0aW9uYWwgY29udGV4dCBhcyB3ZWxsLgogICAgICAvLyBpbiB0aGlzIGNhc2Ugd2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgYXJlIGFibGUgdG8gZ2V0IGEgaG9sZCB0byB0aGUKICAgICAgLy8gcmVhbCBjb250ZXh0IGluc3RhbmNlLgogICAgICBjb250ZXh0Vm0gPSBwYXJlbnQ7CiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsOwogICAgfQogICAgdmFyIGlzQ29tcGlsZWQgPSBpc1RydWUob3B0aW9ucy5fY29tcGlsZWQpOwogICAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7CgogICAgdGhpcy5kYXRhID0gZGF0YTsKICAgIHRoaXMucHJvcHMgPSBwcm9wczsKICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgIHRoaXMucGFyZW50ID0gcGFyZW50OwogICAgdGhpcy5saXN0ZW5lcnMgPSBkYXRhLm9uIHx8IGVtcHR5T2JqZWN0OwogICAgdGhpcy5pbmplY3Rpb25zID0gcmVzb2x2ZUluamVjdChvcHRpb25zLmluamVjdCwgcGFyZW50KTsKICAgIHRoaXMuc2xvdHMgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghdGhpcyQxLiRzbG90cykgewogICAgICAgIG5vcm1hbGl6ZVNjb3BlZFNsb3RzKAogICAgICAgICAgZGF0YS5zY29wZWRTbG90cywKICAgICAgICAgIHRoaXMkMS4kc2xvdHMgPSByZXNvbHZlU2xvdHMoY2hpbGRyZW4sIHBhcmVudCkKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzJDEuJHNsb3RzCiAgICB9OwoKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc2NvcGVkU2xvdHMnLCAoewogICAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZVNjb3BlZFNsb3RzKGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuc2xvdHMoKSkKICAgICAgfQogICAgfSkpOwoKICAgIC8vIHN1cHBvcnQgZm9yIGNvbXBpbGVkIGZ1bmN0aW9uYWwgdGVtcGxhdGUKICAgIGlmIChpc0NvbXBpbGVkKSB7CiAgICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKQogICAgICB0aGlzLiRvcHRpb25zID0gb3B0aW9uczsKICAgICAgLy8gcHJlLXJlc29sdmUgc2xvdHMgZm9yIHJlbmRlclNsb3QoKQogICAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTsKICAgICAgdGhpcy4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyhkYXRhLnNjb3BlZFNsb3RzLCB0aGlzLiRzbG90cyk7CiAgICB9CgogICAgaWYgKG9wdGlvbnMuX3Njb3BlSWQpIHsKICAgICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7CiAgICAgICAgdmFyIHZub2RlID0gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsKICAgICAgICBpZiAodm5vZGUgJiYgIUFycmF5LmlzQXJyYXkodm5vZGUpKSB7CiAgICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkOwogICAgICAgICAgdm5vZGUuZm5Db250ZXh0ID0gcGFyZW50OwogICAgICAgIH0KICAgICAgICByZXR1cm4gdm5vZGUKICAgICAgfTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsgfTsKICAgIH0KICB9CgogIGluc3RhbGxSZW5kZXJIZWxwZXJzKEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0LnByb3RvdHlwZSk7CgogIGZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQgKAogICAgQ3RvciwKICAgIHByb3BzRGF0YSwKICAgIGRhdGEsCiAgICBjb250ZXh0Vm0sCiAgICBjaGlsZHJlbgogICkgewogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICB2YXIgcHJvcHMgPSB7fTsKICAgIHZhciBwcm9wT3B0aW9ucyA9IG9wdGlvbnMucHJvcHM7CiAgICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBwcm9wT3B0aW9ucykgewogICAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhIHx8IGVtcHR5T2JqZWN0KTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKGlzRGVmKGRhdGEuYXR0cnMpKSB7IG1lcmdlUHJvcHMocHJvcHMsIGRhdGEuYXR0cnMpOyB9CiAgICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLnByb3BzKTsgfQogICAgfQoKICAgIHZhciByZW5kZXJDb250ZXh0ID0gbmV3IEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0KAogICAgICBkYXRhLAogICAgICBwcm9wcywKICAgICAgY2hpbGRyZW4sCiAgICAgIGNvbnRleHRWbSwKICAgICAgQ3RvcgogICAgKTsKCiAgICB2YXIgdm5vZGUgPSBvcHRpb25zLnJlbmRlci5jYWxsKG51bGwsIHJlbmRlckNvbnRleHQuX2MsIHJlbmRlckNvbnRleHQpOwoKICAgIGlmICh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSB7CiAgICAgIHJldHVybiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2RlLCBkYXRhLCByZW5kZXJDb250ZXh0LnBhcmVudCwgb3B0aW9ucywgcmVuZGVyQ29udGV4dCkKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2bm9kZSkpIHsKICAgICAgdmFyIHZub2RlcyA9IG5vcm1hbGl6ZUNoaWxkcmVuKHZub2RlKSB8fCBbXTsKICAgICAgdmFyIHJlcyA9IG5ldyBBcnJheSh2bm9kZXMubGVuZ3RoKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICByZXNbaV0gPSBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0KHZub2Rlc1tpXSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpOwogICAgICB9CiAgICAgIHJldHVybiByZXMKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQgKHZub2RlLCBkYXRhLCBjb250ZXh0Vm0sIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpIHsKICAgIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkCiAgICAvLyAoZS5nLiBpdCB3YXMgZnJvbSBhIGNhY2hlZCBub3JtYWwgc2xvdCkgdGhlIGZuQ29udGV4dCBjYXVzZXMgbmFtZWQgc2xvdHMKICAgIC8vIHRoYXQgc2hvdWxkIG5vdCBiZSBtYXRjaGVkIHRvIG1hdGNoLgogICAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7CiAgICBjbG9uZS5mbkNvbnRleHQgPSBjb250ZXh0Vm07CiAgICBjbG9uZS5mbk9wdGlvbnMgPSBvcHRpb25zOwogICAgewogICAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID0gcmVuZGVyQ29udGV4dDsKICAgIH0KICAgIGlmIChkYXRhLnNsb3QpIHsKICAgICAgKGNsb25lLmRhdGEgfHwgKGNsb25lLmRhdGEgPSB7fSkpLnNsb3QgPSBkYXRhLnNsb3Q7CiAgICB9CiAgICByZXR1cm4gY2xvbmUKICB9CgogIGZ1bmN0aW9uIG1lcmdlUHJvcHMgKHRvLCBmcm9tKSB7CiAgICBmb3IgKHZhciBrZXkgaW4gZnJvbSkgewogICAgICB0b1tjYW1lbGl6ZShrZXkpXSA9IGZyb21ba2V5XTsKICAgIH0KICB9CgogIC8qICAqLwoKICAvKiAgKi8KCiAgLyogICovCgogIC8qICAqLwoKICAvLyBpbmxpbmUgaG9va3MgdG8gYmUgaW52b2tlZCBvbiBjb21wb25lbnQgVk5vZGVzIGR1cmluZyBwYXRjaAogIHZhciBjb21wb25lbnRWTm9kZUhvb2tzID0gewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykgewogICAgICBpZiAoCiAgICAgICAgdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgJiYKICAgICAgICAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmCiAgICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUKICAgICAgKSB7CiAgICAgICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoCiAgICAgICAgdmFyIG1vdW50ZWROb2RlID0gdm5vZGU7IC8vIHdvcmsgYXJvdW5kIGZsb3cKICAgICAgICBjb21wb25lbnRWTm9kZUhvb2tzLnByZXBhdGNoKG1vdW50ZWROb2RlLCBtb3VudGVkTm9kZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjcmVhdGVDb21wb25lbnRJbnN0YW5jZUZvclZub2RlKAogICAgICAgICAgdm5vZGUsCiAgICAgICAgICBhY3RpdmVJbnN0YW5jZQogICAgICAgICk7CiAgICAgICAgY2hpbGQuJG1vdW50KGh5ZHJhdGluZyA/IHZub2RlLmVsbSA6IHVuZGVmaW5lZCwgaHlkcmF0aW5nKTsKICAgICAgfQogICAgfSwKCiAgICBwcmVwYXRjaDogZnVuY3Rpb24gcHJlcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSkgewogICAgICB2YXIgb3B0aW9ucyA9IHZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICAgIHZhciBjaGlsZCA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7CiAgICAgIHVwZGF0ZUNoaWxkQ29tcG9uZW50KAogICAgICAgIGNoaWxkLAogICAgICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzCiAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMsIC8vIHVwZGF0ZWQgbGlzdGVuZXJzCiAgICAgICAgdm5vZGUsIC8vIG5ldyBwYXJlbnQgdm5vZGUKICAgICAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlbgogICAgICApOwogICAgfSwKCiAgICBpbnNlcnQ6IGZ1bmN0aW9uIGluc2VydCAodm5vZGUpIHsKICAgICAgdmFyIGNvbnRleHQgPSB2bm9kZS5jb250ZXh0OwogICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNNb3VudGVkKSB7CiAgICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCA9IHRydWU7CiAgICAgICAgY2FsbEhvb2soY29tcG9uZW50SW5zdGFuY2UsICdtb3VudGVkJyk7CiAgICAgIH0KICAgICAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgICAgaWYgKGNvbnRleHQuX2lzTW91bnRlZCkgewogICAgICAgICAgLy8gdnVlLXJvdXRlciMxMjEyCiAgICAgICAgICAvLyBEdXJpbmcgdXBkYXRlcywgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCdzIGNoaWxkIGNvbXBvbmVudHMgbWF5CiAgICAgICAgICAvLyBjaGFuZ2UsIHNvIGRpcmVjdGx5IHdhbGtpbmcgdGhlIHRyZWUgaGVyZSBtYXkgY2FsbCBhY3RpdmF0ZWQgaG9va3MKICAgICAgICAgIC8vIG9uIGluY29ycmVjdCBjaGlsZHJlbi4gSW5zdGVhZCB3ZSBwdXNoIHRoZW0gaW50byBhIHF1ZXVlIHdoaWNoIHdpbGwKICAgICAgICAgIC8vIGJlIHByb2Nlc3NlZCBhZnRlciB0aGUgd2hvbGUgcGF0Y2ggcHJvY2VzcyBlbmRlZC4KICAgICAgICAgIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50KGNvbXBvbmVudEluc3RhbmNlKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgdHJ1ZSAvKiBkaXJlY3QgKi8pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkgewogICAgICB2YXIgY29tcG9uZW50SW5zdGFuY2UgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZTsKICAgICAgaWYgKCFjb21wb25lbnRJbnN0YW5jZS5faXNEZXN0cm95ZWQpIHsKICAgICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7CiAgICAgICAgICBjb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICB2YXIgaG9va3NUb01lcmdlID0gT2JqZWN0LmtleXMoY29tcG9uZW50Vk5vZGVIb29rcyk7CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAoCiAgICBDdG9yLAogICAgZGF0YSwKICAgIGNvbnRleHQsCiAgICBjaGlsZHJlbiwKICAgIHRhZwogICkgewogICAgaWYgKGlzVW5kZWYoQ3RvcikpIHsKICAgICAgcmV0dXJuCiAgICB9CgogICAgdmFyIGJhc2VDdG9yID0gY29udGV4dC4kb3B0aW9ucy5fYmFzZTsKCiAgICAvLyBwbGFpbiBvcHRpb25zIG9iamVjdDogdHVybiBpdCBpbnRvIGEgY29uc3RydWN0b3IKICAgIGlmIChpc09iamVjdChDdG9yKSkgewogICAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpOwogICAgfQoKICAgIC8vIGlmIGF0IHRoaXMgc3RhZ2UgaXQncyBub3QgYSBjb25zdHJ1Y3RvciBvciBhbiBhc3luYyBjb21wb25lbnQgZmFjdG9yeSwKICAgIC8vIHJlamVjdC4KICAgIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykgewogICAgICB7CiAgICAgICAgd2FybigoIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246ICIgKyAoU3RyaW5nKEN0b3IpKSksIGNvbnRleHQpOwogICAgICB9CiAgICAgIHJldHVybgogICAgfQoKICAgIC8vIGFzeW5jIGNvbXBvbmVudAogICAgdmFyIGFzeW5jRmFjdG9yeTsKICAgIGlmIChpc1VuZGVmKEN0b3IuY2lkKSkgewogICAgICBhc3luY0ZhY3RvcnkgPSBDdG9yOwogICAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IpOwogICAgICBpZiAoQ3RvciA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgbm9kZSBmb3IgYXN5bmMgY29tcG9uZW50LCB3aGljaCBpcyByZW5kZXJlZAogICAgICAgIC8vIGFzIGEgY29tbWVudCBub2RlIGJ1dCBwcmVzZXJ2ZXMgYWxsIHRoZSByYXcgaW5mb3JtYXRpb24gZm9yIHRoZSBub2RlLgogICAgICAgIC8vIHRoZSBpbmZvcm1hdGlvbiB3aWxsIGJlIHVzZWQgZm9yIGFzeW5jIHNlcnZlci1yZW5kZXJpbmcgYW5kIGh5ZHJhdGlvbi4KICAgICAgICByZXR1cm4gY3JlYXRlQXN5bmNQbGFjZWhvbGRlcigKICAgICAgICAgIGFzeW5jRmFjdG9yeSwKICAgICAgICAgIGRhdGEsCiAgICAgICAgICBjb250ZXh0LAogICAgICAgICAgY2hpbGRyZW4sCiAgICAgICAgICB0YWcKICAgICAgICApCiAgICAgIH0KICAgIH0KCiAgICBkYXRhID0gZGF0YSB8fCB7fTsKCiAgICAvLyByZXNvbHZlIGNvbnN0cnVjdG9yIG9wdGlvbnMgaW4gY2FzZSBnbG9iYWwgbWl4aW5zIGFyZSBhcHBsaWVkIGFmdGVyCiAgICAvLyBjb21wb25lbnQgY29uc3RydWN0b3IgY3JlYXRpb24KICAgIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7CgogICAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50cwogICAgaWYgKGlzRGVmKGRhdGEubW9kZWwpKSB7CiAgICAgIHRyYW5zZm9ybU1vZGVsKEN0b3Iub3B0aW9ucywgZGF0YSk7CiAgICB9CgogICAgLy8gZXh0cmFjdCBwcm9wcwogICAgdmFyIHByb3BzRGF0YSA9IGV4dHJhY3RQcm9wc0Zyb21WTm9kZURhdGEoZGF0YSwgQ3RvciwgdGFnKTsKCiAgICAvLyBmdW5jdGlvbmFsIGNvbXBvbmVudAogICAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuZnVuY3Rpb25hbCkpIHsKICAgICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbikKICAgIH0KCiAgICAvLyBleHRyYWN0IGxpc3RlbmVycywgc2luY2UgdGhlc2UgbmVlZHMgdG8gYmUgdHJlYXRlZCBhcwogICAgLy8gY2hpbGQgY29tcG9uZW50IGxpc3RlbmVycyBpbnN0ZWFkIG9mIERPTSBsaXN0ZW5lcnMKICAgIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uOwogICAgLy8gcmVwbGFjZSB3aXRoIGxpc3RlbmVycyB3aXRoIC5uYXRpdmUgbW9kaWZpZXIKICAgIC8vIHNvIGl0IGdldHMgcHJvY2Vzc2VkIGR1cmluZyBwYXJlbnQgY29tcG9uZW50IHBhdGNoLgogICAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247CgogICAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuYWJzdHJhY3QpKSB7CiAgICAgIC8vIGFic3RyYWN0IGNvbXBvbmVudHMgZG8gbm90IGtlZXAgYW55dGhpbmcKICAgICAgLy8gb3RoZXIgdGhhbiBwcm9wcyAmIGxpc3RlbmVycyAmIHNsb3QKCiAgICAgIC8vIHdvcmsgYXJvdW5kIGZsb3cKICAgICAgdmFyIHNsb3QgPSBkYXRhLnNsb3Q7CiAgICAgIGRhdGEgPSB7fTsKICAgICAgaWYgKHNsb3QpIHsKICAgICAgICBkYXRhLnNsb3QgPSBzbG90OwogICAgICB9CiAgICB9CgogICAgLy8gaW5zdGFsbCBjb21wb25lbnQgbWFuYWdlbWVudCBob29rcyBvbnRvIHRoZSBwbGFjZWhvbGRlciBub2RlCiAgICBpbnN0YWxsQ29tcG9uZW50SG9va3MoZGF0YSk7CgogICAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGUKICAgIHZhciBuYW1lID0gQ3Rvci5vcHRpb25zLm5hbWUgfHwgdGFnOwogICAgdmFyIHZub2RlID0gbmV3IFZOb2RlKAogICAgICAoInZ1ZS1jb21wb25lbnQtIiArIChDdG9yLmNpZCkgKyAobmFtZSA/ICgiLSIgKyBuYW1lKSA6ICcnKSksCiAgICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsCiAgICAgIHsgQ3RvcjogQ3RvciwgcHJvcHNEYXRhOiBwcm9wc0RhdGEsIGxpc3RlbmVyczogbGlzdGVuZXJzLCB0YWc6IHRhZywgY2hpbGRyZW46IGNoaWxkcmVuIH0sCiAgICAgIGFzeW5jRmFjdG9yeQogICAgKTsKCiAgICByZXR1cm4gdm5vZGUKICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUgKAogICAgdm5vZGUsIC8vIHdlIGtub3cgaXQncyBNb3VudGVkQ29tcG9uZW50Vk5vZGUgYnV0IGZsb3cgZG9lc24ndAogICAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZQogICkgewogICAgdmFyIG9wdGlvbnMgPSB7CiAgICAgIF9pc0NvbXBvbmVudDogdHJ1ZSwKICAgICAgX3BhcmVudFZub2RlOiB2bm9kZSwKICAgICAgcGFyZW50OiBwYXJlbnQKICAgIH07CiAgICAvLyBjaGVjayBpbmxpbmUtdGVtcGxhdGUgcmVuZGVyIGZ1bmN0aW9ucwogICAgdmFyIGlubGluZVRlbXBsYXRlID0gdm5vZGUuZGF0YS5pbmxpbmVUZW1wbGF0ZTsKICAgIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHsKICAgICAgb3B0aW9ucy5yZW5kZXIgPSBpbmxpbmVUZW1wbGF0ZS5yZW5kZXI7CiAgICAgIG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zID0gaW5saW5lVGVtcGxhdGUuc3RhdGljUmVuZGVyRm5zOwogICAgfQogICAgcmV0dXJuIG5ldyB2bm9kZS5jb21wb25lbnRPcHRpb25zLkN0b3Iob3B0aW9ucykKICB9CgogIGZ1bmN0aW9uIGluc3RhbGxDb21wb25lbnRIb29rcyAoZGF0YSkgewogICAgdmFyIGhvb2tzID0gZGF0YS5ob29rIHx8IChkYXRhLmhvb2sgPSB7fSk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzVG9NZXJnZS5sZW5ndGg7IGkrKykgewogICAgICB2YXIga2V5ID0gaG9va3NUb01lcmdlW2ldOwogICAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldOwogICAgICB2YXIgdG9NZXJnZSA9IGNvbXBvbmVudFZOb2RlSG9va3Nba2V5XTsKICAgICAgaWYgKGV4aXN0aW5nICE9PSB0b01lcmdlICYmICEoZXhpc3RpbmcgJiYgZXhpc3RpbmcuX21lcmdlZCkpIHsKICAgICAgICBob29rc1trZXldID0gZXhpc3RpbmcgPyBtZXJnZUhvb2skMSh0b01lcmdlLCBleGlzdGluZykgOiB0b01lcmdlOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBtZXJnZUhvb2skMSAoZjEsIGYyKSB7CiAgICB2YXIgbWVyZ2VkID0gZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgLy8gZmxvdyBjb21wbGFpbnMgYWJvdXQgZXh0cmEgYXJncyB3aGljaCBpcyB3aHkgd2UgdXNlIGFueQogICAgICBmMShhLCBiKTsKICAgICAgZjIoYSwgYik7CiAgICB9OwogICAgbWVyZ2VkLl9tZXJnZWQgPSB0cnVlOwogICAgcmV0dXJuIG1lcmdlZAogIH0KCiAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGluZm8gKHZhbHVlIGFuZCBjYWxsYmFjaykgaW50bwogIC8vIHByb3AgYW5kIGV2ZW50IGhhbmRsZXIgcmVzcGVjdGl2ZWx5LgogIGZ1bmN0aW9uIHRyYW5zZm9ybU1vZGVsIChvcHRpb25zLCBkYXRhKSB7CiAgICB2YXIgcHJvcCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwucHJvcCkgfHwgJ3ZhbHVlJzsKICAgIHZhciBldmVudCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQpIHx8ICdpbnB1dCcKICAgIDsoZGF0YS5hdHRycyB8fCAoZGF0YS5hdHRycyA9IHt9KSlbcHJvcF0gPSBkYXRhLm1vZGVsLnZhbHVlOwogICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTsKICAgIHZhciBleGlzdGluZyA9IG9uW2V2ZW50XTsKICAgIHZhciBjYWxsYmFjayA9IGRhdGEubW9kZWwuY2FsbGJhY2s7CiAgICBpZiAoaXNEZWYoZXhpc3RpbmcpKSB7CiAgICAgIGlmICgKICAgICAgICBBcnJheS5pc0FycmF5KGV4aXN0aW5nKQogICAgICAgICAgPyBleGlzdGluZy5pbmRleE9mKGNhbGxiYWNrKSA9PT0gLTEKICAgICAgICAgIDogZXhpc3RpbmcgIT09IGNhbGxiYWNrCiAgICAgICkgewogICAgICAgIG9uW2V2ZW50XSA9IFtjYWxsYmFja10uY29uY2F0KGV4aXN0aW5nKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgb25bZXZlbnRdID0gY2FsbGJhY2s7CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgdmFyIFNJTVBMRV9OT1JNQUxJWkUgPSAxOwogIHZhciBBTFdBWVNfTk9STUFMSVpFID0gMjsKCiAgLy8gd3JhcHBlciBmdW5jdGlvbiBmb3IgcHJvdmlkaW5nIGEgbW9yZSBmbGV4aWJsZSBpbnRlcmZhY2UKICAvLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3cKICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50ICgKICAgIGNvbnRleHQsCiAgICB0YWcsCiAgICBkYXRhLAogICAgY2hpbGRyZW4sCiAgICBub3JtYWxpemF0aW9uVHlwZSwKICAgIGFsd2F5c05vcm1hbGl6ZQogICkgewogICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgaXNQcmltaXRpdmUoZGF0YSkpIHsKICAgICAgbm9ybWFsaXphdGlvblR5cGUgPSBjaGlsZHJlbjsKICAgICAgY2hpbGRyZW4gPSBkYXRhOwogICAgICBkYXRhID0gdW5kZWZpbmVkOwogICAgfQogICAgaWYgKGlzVHJ1ZShhbHdheXNOb3JtYWxpemUpKSB7CiAgICAgIG5vcm1hbGl6YXRpb25UeXBlID0gQUxXQVlTX05PUk1BTElaRTsKICAgIH0KICAgIHJldHVybiBfY3JlYXRlRWxlbWVudChjb250ZXh0LCB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSkKICB9CgogIGZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50ICgKICAgIGNvbnRleHQsCiAgICB0YWcsCiAgICBkYXRhLAogICAgY2hpbGRyZW4sCiAgICBub3JtYWxpemF0aW9uVHlwZQogICkgewogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKChkYXRhKS5fX29iX18pKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6ICIgKyAoSlNPTi5zdHJpbmdpZnkoZGF0YSkpICsgIlxuIiArCiAgICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsCiAgICAgICAgY29udGV4dAogICAgICApOwogICAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpCiAgICB9CiAgICAvLyBvYmplY3Qgc3ludGF4IGluIHYtYmluZAogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEuaXMpKSB7CiAgICAgIHRhZyA9IGRhdGEuaXM7CiAgICB9CiAgICBpZiAoIXRhZykgewogICAgICAvLyBpbiBjYXNlIG9mIGNvbXBvbmVudCA6aXMgc2V0IHRvIGZhbHN5IHZhbHVlCiAgICAgIHJldHVybiBjcmVhdGVFbXB0eVZOb2RlKCkKICAgIH0KICAgIC8vIHdhcm4gYWdhaW5zdCBub24tcHJpbWl0aXZlIGtleQogICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEua2V5KSAmJiAhaXNQcmltaXRpdmUoZGF0YS5rZXkpCiAgICApIHsKICAgICAgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnQXZvaWQgdXNpbmcgbm9uLXByaW1pdGl2ZSB2YWx1ZSBhcyBrZXksICcgKwogICAgICAgICAgJ3VzZSBzdHJpbmcvbnVtYmVyIHZhbHVlIGluc3RlYWQuJywKICAgICAgICAgIGNvbnRleHQKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICAvLyBzdXBwb3J0IHNpbmdsZSBmdW5jdGlvbiBjaGlsZHJlbiBhcyBkZWZhdWx0IHNjb3BlZCBzbG90CiAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYKICAgICAgdHlwZW9mIGNoaWxkcmVuWzBdID09PSAnZnVuY3Rpb24nCiAgICApIHsKICAgICAgZGF0YSA9IGRhdGEgfHwge307CiAgICAgIGRhdGEuc2NvcGVkU2xvdHMgPSB7IGRlZmF1bHQ6IGNoaWxkcmVuWzBdIH07CiAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDA7CiAgICB9CiAgICBpZiAobm9ybWFsaXphdGlvblR5cGUgPT09IEFMV0FZU19OT1JNQUxJWkUpIHsKICAgICAgY2hpbGRyZW4gPSBub3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7CiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBTSU1QTEVfTk9STUFMSVpFKSB7CiAgICAgIGNoaWxkcmVuID0gc2ltcGxlTm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pOwogICAgfQogICAgdmFyIHZub2RlLCBuczsKICAgIGlmICh0eXBlb2YgdGFnID09PSAnc3RyaW5nJykgewogICAgICB2YXIgQ3RvcjsKICAgICAgbnMgPSAoY29udGV4dC4kdm5vZGUgJiYgY29udGV4dC4kdm5vZGUubnMpIHx8IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTsKICAgICAgaWYgKGNvbmZpZy5pc1Jlc2VydmVkVGFnKHRhZykpIHsKICAgICAgICAvLyBwbGF0Zm9ybSBidWlsdC1pbiBlbGVtZW50cwogICAgICAgIHZub2RlID0gbmV3IFZOb2RlKAogICAgICAgICAgY29uZmlnLnBhcnNlUGxhdGZvcm1UYWdOYW1lKHRhZyksIGRhdGEsIGNoaWxkcmVuLAogICAgICAgICAgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQKICAgICAgICApOwogICAgICB9IGVsc2UgaWYgKCghZGF0YSB8fCAhZGF0YS5wcmUpICYmIGlzRGVmKEN0b3IgPSByZXNvbHZlQXNzZXQoY29udGV4dC4kb3B0aW9ucywgJ2NvbXBvbmVudHMnLCB0YWcpKSkgewogICAgICAgIC8vIGNvbXBvbmVudAogICAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIHVua25vd24gb3IgdW5saXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50cwogICAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzCiAgICAgICAgLy8gcGFyZW50IG5vcm1hbGl6ZXMgY2hpbGRyZW4KICAgICAgICB2bm9kZSA9IG5ldyBWTm9kZSgKICAgICAgICAgIHRhZywgZGF0YSwgY2hpbGRyZW4sCiAgICAgICAgICB1bmRlZmluZWQsIHVuZGVmaW5lZCwgY29udGV4dAogICAgICAgICk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIC8vIGRpcmVjdCBjb21wb25lbnQgb3B0aW9ucyAvIGNvbnN0cnVjdG9yCiAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pOwogICAgfQogICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpKSB7CiAgICAgIHJldHVybiB2bm9kZQogICAgfSBlbHNlIGlmIChpc0RlZih2bm9kZSkpIHsKICAgICAgaWYgKGlzRGVmKG5zKSkgeyBhcHBseU5TKHZub2RlLCBucyk7IH0KICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7IHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpOyB9CiAgICAgIHJldHVybiB2bm9kZQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKQogICAgfQogIH0KCiAgZnVuY3Rpb24gYXBwbHlOUyAodm5vZGUsIG5zLCBmb3JjZSkgewogICAgdm5vZGUubnMgPSBuczsKICAgIGlmICh2bm9kZS50YWcgPT09ICdmb3JlaWduT2JqZWN0JykgewogICAgICAvLyB1c2UgZGVmYXVsdCBuYW1lc3BhY2UgaW5zaWRlIGZvcmVpZ25PYmplY3QKICAgICAgbnMgPSB1bmRlZmluZWQ7CiAgICAgIGZvcmNlID0gdHJ1ZTsKICAgIH0KICAgIGlmIChpc0RlZih2bm9kZS5jaGlsZHJlbikpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB2bm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICB2YXIgY2hpbGQgPSB2bm9kZS5jaGlsZHJlbltpXTsKICAgICAgICBpZiAoaXNEZWYoY2hpbGQudGFnKSAmJiAoCiAgICAgICAgICBpc1VuZGVmKGNoaWxkLm5zKSB8fCAoaXNUcnVlKGZvcmNlKSAmJiBjaGlsZC50YWcgIT09ICdzdmcnKSkpIHsKICAgICAgICAgIGFwcGx5TlMoY2hpbGQsIG5zLCBmb3JjZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICAvLyByZWYgIzUzMTgKICAvLyBuZWNlc3NhcnkgdG8gZW5zdXJlIHBhcmVudCByZS1yZW5kZXIgd2hlbiBkZWVwIGJpbmRpbmdzIGxpa2UgOnN0eWxlIGFuZAogIC8vIDpjbGFzcyBhcmUgdXNlZCBvbiBzbG90IG5vZGVzCiAgZnVuY3Rpb24gcmVnaXN0ZXJEZWVwQmluZGluZ3MgKGRhdGEpIHsKICAgIGlmIChpc09iamVjdChkYXRhLnN0eWxlKSkgewogICAgICB0cmF2ZXJzZShkYXRhLnN0eWxlKTsKICAgIH0KICAgIGlmIChpc09iamVjdChkYXRhLmNsYXNzKSkgewogICAgICB0cmF2ZXJzZShkYXRhLmNsYXNzKTsKICAgIH0KICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbml0UmVuZGVyICh2bSkgewogICAgdm0uX3Zub2RlID0gbnVsbDsgLy8gdGhlIHJvb3Qgb2YgdGhlIGNoaWxkIHRyZWUKICAgIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7IC8vIHYtb25jZSBjYWNoZWQgdHJlZXMKICAgIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7CiAgICB2YXIgcGFyZW50Vm5vZGUgPSB2bS4kdm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTsgLy8gdGhlIHBsYWNlaG9sZGVyIG5vZGUgaW4gcGFyZW50IHRyZWUKICAgIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDsKICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiwgcmVuZGVyQ29udGV4dCk7CiAgICB2bS4kc2NvcGVkU2xvdHMgPSBlbXB0eU9iamVjdDsKICAgIC8vIGJpbmQgdGhlIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZQogICAgLy8gc28gdGhhdCB3ZSBnZXQgcHJvcGVyIHJlbmRlciBjb250ZXh0IGluc2lkZSBpdC4KICAgIC8vIGFyZ3Mgb3JkZXI6IHRhZywgZGF0YSwgY2hpbGRyZW4sIG5vcm1hbGl6YXRpb25UeXBlLCBhbHdheXNOb3JtYWxpemUKICAgIC8vIGludGVybmFsIHZlcnNpb24gaXMgdXNlZCBieSByZW5kZXIgZnVuY3Rpb25zIGNvbXBpbGVkIGZyb20gdGVtcGxhdGVzCiAgICB2bS5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50KHZtLCBhLCBiLCBjLCBkLCBmYWxzZSk7IH07CiAgICAvLyBub3JtYWxpemF0aW9uIGlzIGFsd2F5cyBhcHBsaWVkIGZvciB0aGUgcHVibGljIHZlcnNpb24sIHVzZWQgaW4KICAgIC8vIHVzZXItd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLgogICAgdm0uJGNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudCh2bSwgYSwgYiwgYywgZCwgdHJ1ZSk7IH07CgogICAgLy8gJGF0dHJzICYgJGxpc3RlbmVycyBhcmUgZXhwb3NlZCBmb3IgZWFzaWVyIEhPQyBjcmVhdGlvbi4KICAgIC8vIHRoZXkgbmVlZCB0byBiZSByZWFjdGl2ZSBzbyB0aGF0IEhPQ3MgdXNpbmcgdGhlbSBhcmUgYWx3YXlzIHVwZGF0ZWQKICAgIHZhciBwYXJlbnREYXRhID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuZGF0YTsKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgewogICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRhdHRycycsIHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdCwgZnVuY3Rpb24gKCkgewogICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybigiJGF0dHJzIGlzIHJlYWRvbmx5LiIsIHZtKTsKICAgICAgfSwgdHJ1ZSk7CiAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCAnJGxpc3RlbmVycycsIG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyB8fCBlbXB0eU9iamVjdCwgZnVuY3Rpb24gKCkgewogICAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybigiJGxpc3RlbmVycyBpcyByZWFkb25seS4iLCB2bSk7CiAgICAgIH0sIHRydWUpOwogICAgfQogIH0KCiAgdmFyIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7CgogIGZ1bmN0aW9uIHJlbmRlck1peGluIChWdWUpIHsKICAgIC8vIGluc3RhbGwgcnVudGltZSBjb252ZW5pZW5jZSBoZWxwZXJzCiAgICBpbnN0YWxsUmVuZGVySGVscGVycyhWdWUucHJvdG90eXBlKTsKCiAgICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikgewogICAgICByZXR1cm4gbmV4dFRpY2soZm4sIHRoaXMpCiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgdmFyIHJlZiA9IHZtLiRvcHRpb25zOwogICAgICB2YXIgcmVuZGVyID0gcmVmLnJlbmRlcjsKICAgICAgdmFyIF9wYXJlbnRWbm9kZSA9IHJlZi5fcGFyZW50Vm5vZGU7CgogICAgICBpZiAoX3BhcmVudFZub2RlKSB7CiAgICAgICAgdm0uJHNjb3BlZFNsb3RzID0gbm9ybWFsaXplU2NvcGVkU2xvdHMoCiAgICAgICAgICBfcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cywKICAgICAgICAgIHZtLiRzbG90cywKICAgICAgICAgIHZtLiRzY29wZWRTbG90cwogICAgICAgICk7CiAgICAgIH0KCiAgICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3MKICAgICAgLy8gdG8gdGhlIGRhdGEgb24gdGhlIHBsYWNlaG9sZGVyIG5vZGUuCiAgICAgIHZtLiR2bm9kZSA9IF9wYXJlbnRWbm9kZTsKICAgICAgLy8gcmVuZGVyIHNlbGYKICAgICAgdmFyIHZub2RlOwogICAgICB0cnkgewogICAgICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBtYWludGFpbiBhIHN0YWNrIGJlY2F1ZXMgYWxsIHJlbmRlciBmbnMgYXJlIGNhbGxlZAogICAgICAgIC8vIHNlcGFyYXRlbHkgZnJvbSBvbmUgYW5vdGhlci4gTmVzdGVkIGNvbXBvbmVudCdzIHJlbmRlciBmbnMgYXJlIGNhbGxlZAogICAgICAgIC8vIHdoZW4gcGFyZW50IGNvbXBvbmVudCBpcyBwYXRjaGVkLgogICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IHZtOwogICAgICAgIHZub2RlID0gcmVuZGVyLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgInJlbmRlciIpOwogICAgICAgIC8vIHJldHVybiBlcnJvciByZW5kZXIgcmVzdWx0LAogICAgICAgIC8vIG9yIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50CiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgICAgICBpZiAodm0uJG9wdGlvbnMucmVuZGVyRXJyb3IpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHZub2RlID0gdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50LCBlKTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sICJyZW5kZXJFcnJvciIpOwogICAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gaWYgdGhlIHJldHVybmVkIGFycmF5IGNvbnRhaW5zIG9ubHkgYSBzaW5nbGUgbm9kZSwgYWxsb3cgaXQKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpICYmIHZub2RlLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHZub2RlID0gdm5vZGVbMF07CiAgICAgIH0KICAgICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dAogICAgICBpZiAoISh2bm9kZSBpbnN0YW5jZW9mIFZOb2RlKSkgewogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZub2RlKSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgJ011bHRpcGxlIHJvb3Qgbm9kZXMgcmV0dXJuZWQgZnJvbSByZW5kZXIgZnVuY3Rpb24uIFJlbmRlciBmdW5jdGlvbiAnICsKICAgICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICB2bm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTsKICAgICAgfQogICAgICAvLyBzZXQgcGFyZW50CiAgICAgIHZub2RlLnBhcmVudCA9IF9wYXJlbnRWbm9kZTsKICAgICAgcmV0dXJuIHZub2RlCiAgICB9OwogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGVuc3VyZUN0b3IgKGNvbXAsIGJhc2UpIHsKICAgIGlmICgKICAgICAgY29tcC5fX2VzTW9kdWxlIHx8CiAgICAgIChoYXNTeW1ib2wgJiYgY29tcFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJykKICAgICkgewogICAgICBjb21wID0gY29tcC5kZWZhdWx0OwogICAgfQogICAgcmV0dXJuIGlzT2JqZWN0KGNvbXApCiAgICAgID8gYmFzZS5leHRlbmQoY29tcCkKICAgICAgOiBjb21wCiAgfQoKICBmdW5jdGlvbiBjcmVhdGVBc3luY1BsYWNlaG9sZGVyICgKICAgIGZhY3RvcnksCiAgICBkYXRhLAogICAgY29udGV4dCwKICAgIGNoaWxkcmVuLAogICAgdGFnCiAgKSB7CiAgICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTsKICAgIG5vZGUuYXN5bmNGYWN0b3J5ID0gZmFjdG9yeTsKICAgIG5vZGUuYXN5bmNNZXRhID0geyBkYXRhOiBkYXRhLCBjb250ZXh0OiBjb250ZXh0LCBjaGlsZHJlbjogY2hpbGRyZW4sIHRhZzogdGFnIH07CiAgICByZXR1cm4gbm9kZQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUFzeW5jQ29tcG9uZW50ICgKICAgIGZhY3RvcnksCiAgICBiYXNlQ3RvcgogICkgewogICAgaWYgKGlzVHJ1ZShmYWN0b3J5LmVycm9yKSAmJiBpc0RlZihmYWN0b3J5LmVycm9yQ29tcCkpIHsKICAgICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wCiAgICB9CgogICAgaWYgKGlzRGVmKGZhY3RvcnkucmVzb2x2ZWQpKSB7CiAgICAgIHJldHVybiBmYWN0b3J5LnJlc29sdmVkCiAgICB9CgogICAgdmFyIG93bmVyID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlOwogICAgaWYgKG93bmVyICYmIGlzRGVmKGZhY3Rvcnkub3duZXJzKSAmJiBmYWN0b3J5Lm93bmVycy5pbmRleE9mKG93bmVyKSA9PT0gLTEpIHsKICAgICAgLy8gYWxyZWFkeSBwZW5kaW5nCiAgICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpOwogICAgfQoKICAgIGlmIChpc1RydWUoZmFjdG9yeS5sb2FkaW5nKSAmJiBpc0RlZihmYWN0b3J5LmxvYWRpbmdDb21wKSkgewogICAgICByZXR1cm4gZmFjdG9yeS5sb2FkaW5nQ29tcAogICAgfQoKICAgIGlmIChvd25lciAmJiAhaXNEZWYoZmFjdG9yeS5vd25lcnMpKSB7CiAgICAgIHZhciBvd25lcnMgPSBmYWN0b3J5Lm93bmVycyA9IFtvd25lcl07CiAgICAgIHZhciBzeW5jID0gdHJ1ZTsKICAgICAgdmFyIHRpbWVyTG9hZGluZyA9IG51bGw7CiAgICAgIHZhciB0aW1lclRpbWVvdXQgPSBudWxsCgogICAgICA7KG93bmVyKS4kb24oJ2hvb2s6ZGVzdHJveWVkJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKG93bmVycywgb3duZXIpOyB9KTsKCiAgICAgIHZhciBmb3JjZVJlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJDb21wbGV0ZWQpIHsKICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG93bmVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIChvd25lcnNbaV0pLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJlbmRlckNvbXBsZXRlZCkgewogICAgICAgICAgb3duZXJzLmxlbmd0aCA9IDA7CiAgICAgICAgICBpZiAodGltZXJMb2FkaW5nICE9PSBudWxsKSB7CiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lckxvYWRpbmcpOwogICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHRpbWVyVGltZW91dCAhPT0gbnVsbCkgewogICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJUaW1lb3V0KTsKICAgICAgICAgICAgdGltZXJUaW1lb3V0ID0gbnVsbDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICB2YXIgcmVzb2x2ZSA9IG9uY2UoZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNhY2hlIHJlc29sdmVkCiAgICAgICAgZmFjdG9yeS5yZXNvbHZlZCA9IGVuc3VyZUN0b3IocmVzLCBiYXNlQ3Rvcik7CiAgICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZQogICAgICAgIC8vIChhc3luYyByZXNvbHZlcyBhcmUgc2hpbW1lZCBhcyBzeW5jaHJvbm91cyBkdXJpbmcgU1NSKQogICAgICAgIGlmICghc3luYykgewogICAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG93bmVycy5sZW5ndGggPSAwOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB2YXIgcmVqZWN0ID0gb25jZShmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgd2FybigKICAgICAgICAgICJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6ICIgKyAoU3RyaW5nKGZhY3RvcnkpKSArCiAgICAgICAgICAocmVhc29uID8gKCJcblJlYXNvbjogIiArIHJlYXNvbikgOiAnJykKICAgICAgICApOwogICAgICAgIGlmIChpc0RlZihmYWN0b3J5LmVycm9yQ29tcCkpIHsKICAgICAgICAgIGZhY3RvcnkuZXJyb3IgPSB0cnVlOwogICAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7CgogICAgICBpZiAoaXNPYmplY3QocmVzKSkgewogICAgICAgIGlmIChpc1Byb21pc2UocmVzKSkgewogICAgICAgICAgLy8gKCkgPT4gUHJvbWlzZQogICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHsKICAgICAgICAgICAgcmVzLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShyZXMuY29tcG9uZW50KSkgewogICAgICAgICAgcmVzLmNvbXBvbmVudC50aGVuKHJlc29sdmUsIHJlamVjdCk7CgogICAgICAgICAgaWYgKGlzRGVmKHJlcy5lcnJvcikpIHsKICAgICAgICAgICAgZmFjdG9yeS5lcnJvckNvbXAgPSBlbnN1cmVDdG9yKHJlcy5lcnJvciwgYmFzZUN0b3IpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpc0RlZihyZXMubG9hZGluZykpIHsKICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nQ29tcCA9IGVuc3VyZUN0b3IocmVzLmxvYWRpbmcsIGJhc2VDdG9yKTsKICAgICAgICAgICAgaWYgKHJlcy5kZWxheSA9PT0gMCkgewogICAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGltZXJMb2FkaW5nID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkgJiYgaXNVbmRlZihmYWN0b3J5LmVycm9yKSkgewogICAgICAgICAgICAgICAgICBmYWN0b3J5LmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcihmYWxzZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgcmVzLmRlbGF5IHx8IDIwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaXNEZWYocmVzLnRpbWVvdXQpKSB7CiAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IG51bGw7CiAgICAgICAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHsKICAgICAgICAgICAgICAgIHJlamVjdCgKICAgICAgICAgICAgICAgICAgInRpbWVvdXQgKCIgKyAocmVzLnRpbWVvdXQpICsgIm1zKSIKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCByZXMudGltZW91dCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBzeW5jID0gZmFsc2U7CiAgICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHkKICAgICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZwogICAgICAgID8gZmFjdG9yeS5sb2FkaW5nQ29tcAogICAgICAgIDogZmFjdG9yeS5yZXNvbHZlZAogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGlzQXN5bmNQbGFjZWhvbGRlciAobm9kZSkgewogICAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZCAoY2hpbGRyZW4pIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGMgPSBjaGlsZHJlbltpXTsKICAgICAgICBpZiAoaXNEZWYoYykgJiYgKGlzRGVmKGMuY29tcG9uZW50T3B0aW9ucykgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpKSkgewogICAgICAgICAgcmV0dXJuIGMKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC8qICAqLwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdEV2ZW50cyAodm0pIHsKICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgdm0uX2hhc0hvb2tFdmVudCA9IGZhbHNlOwogICAgLy8gaW5pdCBwYXJlbnQgYXR0YWNoZWQgZXZlbnRzCiAgICB2YXIgbGlzdGVuZXJzID0gdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVyczsKICAgIGlmIChsaXN0ZW5lcnMpIHsKICAgICAgdXBkYXRlQ29tcG9uZW50TGlzdGVuZXJzKHZtLCBsaXN0ZW5lcnMpOwogICAgfQogIH0KCiAgdmFyIHRhcmdldDsKCiAgZnVuY3Rpb24gYWRkIChldmVudCwgZm4pIHsKICAgIHRhcmdldC4kb24oZXZlbnQsIGZuKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSQxIChldmVudCwgZm4pIHsKICAgIHRhcmdldC4kb2ZmKGV2ZW50LCBmbik7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVPbmNlSGFuZGxlciAoZXZlbnQsIGZuKSB7CiAgICB2YXIgX3RhcmdldCA9IHRhcmdldDsKICAgIHJldHVybiBmdW5jdGlvbiBvbmNlSGFuZGxlciAoKSB7CiAgICAgIHZhciByZXMgPSBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICBpZiAocmVzICE9PSBudWxsKSB7CiAgICAgICAgX3RhcmdldC4kb2ZmKGV2ZW50LCBvbmNlSGFuZGxlcik7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyAoCiAgICB2bSwKICAgIGxpc3RlbmVycywKICAgIG9sZExpc3RlbmVycwogICkgewogICAgdGFyZ2V0ID0gdm07CiAgICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIGFkZCwgcmVtb3ZlJDEsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSk7CiAgICB0YXJnZXQgPSB1bmRlZmluZWQ7CiAgfQoKICBmdW5jdGlvbiBldmVudHNNaXhpbiAoVnVlKSB7CiAgICB2YXIgaG9va1JFID0gL15ob29rOi87CiAgICBWdWUucHJvdG90eXBlLiRvbiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIHZtLiRvbihldmVudFtpXSwgZm4pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAodm0uX2V2ZW50c1tldmVudF0gfHwgKHZtLl9ldmVudHNbZXZlbnRdID0gW10pKS5wdXNoKGZuKTsKICAgICAgICAvLyBvcHRpbWl6ZSBob29rOmV2ZW50IGNvc3QgYnkgdXNpbmcgYSBib29sZWFuIGZsYWcgbWFya2VkIGF0IHJlZ2lzdHJhdGlvbgogICAgICAgIC8vIGluc3RlYWQgb2YgYSBoYXNoIGxvb2t1cAogICAgICAgIGlmIChob29rUkUudGVzdChldmVudCkpIHsKICAgICAgICAgIHZtLl9oYXNIb29rRXZlbnQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdm0KICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kb25jZSA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgZnVuY3Rpb24gb24gKCkgewogICAgICAgIHZtLiRvZmYoZXZlbnQsIG9uKTsKICAgICAgICBmbi5hcHBseSh2bSwgYXJndW1lbnRzKTsKICAgICAgfQogICAgICBvbi5mbiA9IGZuOwogICAgICB2bS4kb24oZXZlbnQsIG9uKTsKICAgICAgcmV0dXJuIHZtCiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuJG9mZiA9IGZ1bmN0aW9uIChldmVudCwgZm4pIHsKICAgICAgdmFyIHZtID0gdGhpczsKICAgICAgLy8gYWxsCiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgewogICAgICAgIHZtLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIGFycmF5IG9mIGV2ZW50cwogICAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAwLCBsID0gZXZlbnQubGVuZ3RoOyBpJDEgPCBsOyBpJDErKykgewogICAgICAgICAgdm0uJG9mZihldmVudFtpJDFdLCBmbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIHNwZWNpZmljIGV2ZW50CiAgICAgIHZhciBjYnMgPSB2bS5fZXZlbnRzW2V2ZW50XTsKICAgICAgaWYgKCFjYnMpIHsKICAgICAgICByZXR1cm4gdm0KICAgICAgfQogICAgICBpZiAoIWZuKSB7CiAgICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsOwogICAgICAgIHJldHVybiB2bQogICAgICB9CiAgICAgIC8vIHNwZWNpZmljIGhhbmRsZXIKICAgICAgdmFyIGNiOwogICAgICB2YXIgaSA9IGNicy5sZW5ndGg7CiAgICAgIHdoaWxlIChpLS0pIHsKICAgICAgICBjYiA9IGNic1tpXTsKICAgICAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikgewogICAgICAgICAgY2JzLnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB2bQogICAgfTsKCiAgICBWdWUucHJvdG90eXBlLiRlbWl0ID0gZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIHsKICAgICAgICB2YXIgbG93ZXJDYXNlRXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpOwogICAgICAgIGlmIChsb3dlckNhc2VFdmVudCAhPT0gZXZlbnQgJiYgdm0uX2V2ZW50c1tsb3dlckNhc2VFdmVudF0pIHsKICAgICAgICAgIHRpcCgKICAgICAgICAgICAgIkV2ZW50IFwiIiArIGxvd2VyQ2FzZUV2ZW50ICsgIlwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50ICIgKwogICAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgIiBidXQgdGhlIGhhbmRsZXIgaXMgcmVnaXN0ZXJlZCBmb3IgXCIiICsgZXZlbnQgKyAiXCIuICIgKwogICAgICAgICAgICAiTm90ZSB0aGF0IEhUTUwgYXR0cmlidXRlcyBhcmUgY2FzZS1pbnNlbnNpdGl2ZSBhbmQgeW91IGNhbm5vdCB1c2UgIiArCiAgICAgICAgICAgICJ2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gIiArCiAgICAgICAgICAgICJZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcIiIgKyAoaHlwaGVuYXRlKGV2ZW50KSkgKyAiXCIgaW5zdGVhZCBvZiBcIiIgKyBldmVudCArICJcIi4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgY2JzID0gdm0uX2V2ZW50c1tldmVudF07CiAgICAgIGlmIChjYnMpIHsKICAgICAgICBjYnMgPSBjYnMubGVuZ3RoID4gMSA/IHRvQXJyYXkoY2JzKSA6IGNiczsKICAgICAgICB2YXIgYXJncyA9IHRvQXJyYXkoYXJndW1lbnRzLCAxKTsKICAgICAgICB2YXIgaW5mbyA9ICJldmVudCBoYW5kbGVyIGZvciBcIiIgKyBldmVudCArICJcIiI7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhjYnNbaV0sIHZtLCBhcmdzLCB2bSwgaW5mbyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB2bQogICAgfTsKICB9CgogIC8qICAqLwoKICB2YXIgYWN0aXZlSW5zdGFuY2UgPSBudWxsOwogIHZhciBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTsKCiAgZnVuY3Rpb24gc2V0QWN0aXZlSW5zdGFuY2Uodm0pIHsKICAgIHZhciBwcmV2QWN0aXZlSW5zdGFuY2UgPSBhY3RpdmVJbnN0YW5jZTsKICAgIGFjdGl2ZUluc3RhbmNlID0gdm07CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBhY3RpdmVJbnN0YW5jZSA9IHByZXZBY3RpdmVJbnN0YW5jZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7CiAgICB2YXIgb3B0aW9ucyA9IHZtLiRvcHRpb25zOwoKICAgIC8vIGxvY2F0ZSBmaXJzdCBub24tYWJzdHJhY3QgcGFyZW50CiAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnQ7CiAgICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7CiAgICAgIHdoaWxlIChwYXJlbnQuJG9wdGlvbnMuYWJzdHJhY3QgJiYgcGFyZW50LiRwYXJlbnQpIHsKICAgICAgICBwYXJlbnQgPSBwYXJlbnQuJHBhcmVudDsKICAgICAgfQogICAgICBwYXJlbnQuJGNoaWxkcmVuLnB1c2godm0pOwogICAgfQoKICAgIHZtLiRwYXJlbnQgPSBwYXJlbnQ7CiAgICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtOwoKICAgIHZtLiRjaGlsZHJlbiA9IFtdOwogICAgdm0uJHJlZnMgPSB7fTsKCiAgICB2bS5fd2F0Y2hlciA9IG51bGw7CiAgICB2bS5faW5hY3RpdmUgPSBudWxsOwogICAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7CiAgICB2bS5faXNNb3VudGVkID0gZmFsc2U7CiAgICB2bS5faXNEZXN0cm95ZWQgPSBmYWxzZTsKICAgIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBsaWZlY3ljbGVNaXhpbiAoVnVlKSB7CiAgICBWdWUucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAodm5vZGUsIGh5ZHJhdGluZykgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICB2YXIgcHJldkVsID0gdm0uJGVsOwogICAgICB2YXIgcHJldlZub2RlID0gdm0uX3Zub2RlOwogICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2Uodm0pOwogICAgICB2bS5fdm5vZGUgPSB2bm9kZTsKICAgICAgLy8gVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gaXMgaW5qZWN0ZWQgaW4gZW50cnkgcG9pbnRzCiAgICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLgogICAgICBpZiAoIXByZXZWbm9kZSkgewogICAgICAgIC8vIGluaXRpYWwgcmVuZGVyCiAgICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHZtLiRlbCwgdm5vZGUsIGh5ZHJhdGluZywgZmFsc2UgLyogcmVtb3ZlT25seSAqLyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdXBkYXRlcwogICAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyhwcmV2Vm5vZGUsIHZub2RlKTsKICAgICAgfQogICAgICByZXN0b3JlQWN0aXZlSW5zdGFuY2UoKTsKICAgICAgLy8gdXBkYXRlIF9fdnVlX18gcmVmZXJlbmNlCiAgICAgIGlmIChwcmV2RWwpIHsKICAgICAgICBwcmV2RWwuX192dWVfXyA9IG51bGw7CiAgICAgIH0KICAgICAgaWYgKHZtLiRlbCkgewogICAgICAgIHZtLiRlbC5fX3Z1ZV9fID0gdm07CiAgICAgIH0KICAgICAgLy8gaWYgcGFyZW50IGlzIGFuIEhPQywgdXBkYXRlIGl0cyAkZWwgYXMgd2VsbAogICAgICBpZiAodm0uJHZub2RlICYmIHZtLiRwYXJlbnQgJiYgdm0uJHZub2RlID09PSB2bS4kcGFyZW50Ll92bm9kZSkgewogICAgICAgIHZtLiRwYXJlbnQuJGVsID0gdm0uJGVsOwogICAgICB9CiAgICAgIC8vIHVwZGF0ZWQgaG9vayBpcyBjYWxsZWQgYnkgdGhlIHNjaGVkdWxlciB0byBlbnN1cmUgdGhhdCBjaGlsZHJlbiBhcmUKICAgICAgLy8gdXBkYXRlZCBpbiBhIHBhcmVudCdzIHVwZGF0ZWQgaG9vay4KICAgIH07CgogICAgVnVlLnByb3RvdHlwZS4kZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5fd2F0Y2hlcikgewogICAgICAgIHZtLl93YXRjaGVyLnVwZGF0ZSgpOwogICAgICB9CiAgICB9OwoKICAgIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2bSA9IHRoaXM7CiAgICAgIGlmICh2bS5faXNCZWluZ0Rlc3Ryb3llZCkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGNhbGxIb29rKHZtLCAnYmVmb3JlRGVzdHJveScpOwogICAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7CiAgICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gcGFyZW50CiAgICAgIHZhciBwYXJlbnQgPSB2bS4kcGFyZW50OwogICAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7CiAgICAgICAgcmVtb3ZlKHBhcmVudC4kY2hpbGRyZW4sIHZtKTsKICAgICAgfQogICAgICAvLyB0ZWFyZG93biB3YXRjaGVycwogICAgICBpZiAodm0uX3dhdGNoZXIpIHsKICAgICAgICB2bS5fd2F0Y2hlci50ZWFyZG93bigpOwogICAgICB9CiAgICAgIHZhciBpID0gdm0uX3dhdGNoZXJzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpOwogICAgICB9CiAgICAgIC8vIHJlbW92ZSByZWZlcmVuY2UgZnJvbSBkYXRhIG9iCiAgICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLgogICAgICBpZiAodm0uX2RhdGEuX19vYl9fKSB7CiAgICAgICAgdm0uX2RhdGEuX19vYl9fLnZtQ291bnQtLTsKICAgICAgfQogICAgICAvLyBjYWxsIHRoZSBsYXN0IGhvb2suLi4KICAgICAgdm0uX2lzRGVzdHJveWVkID0gdHJ1ZTsKICAgICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlCiAgICAgIHZtLl9fcGF0Y2hfXyh2bS5fdm5vZGUsIG51bGwpOwogICAgICAvLyBmaXJlIGRlc3Ryb3llZCBob29rCiAgICAgIGNhbGxIb29rKHZtLCAnZGVzdHJveWVkJyk7CiAgICAgIC8vIHR1cm4gb2ZmIGFsbCBpbnN0YW5jZSBsaXN0ZW5lcnMuCiAgICAgIHZtLiRvZmYoKTsKICAgICAgLy8gcmVtb3ZlIF9fdnVlX18gcmVmZXJlbmNlCiAgICAgIGlmICh2bS4kZWwpIHsKICAgICAgICB2bS4kZWwuX192dWVfXyA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gcmVsZWFzZSBjaXJjdWxhciByZWZlcmVuY2UgKCM2NzU5KQogICAgICBpZiAodm0uJHZub2RlKSB7CiAgICAgICAgdm0uJHZub2RlLnBhcmVudCA9IG51bGw7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBtb3VudENvbXBvbmVudCAoCiAgICB2bSwKICAgIGVsLAogICAgaHlkcmF0aW5nCiAgKSB7CiAgICB2bS4kZWwgPSBlbDsKICAgIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7CiAgICAgIHZtLiRvcHRpb25zLnJlbmRlciA9IGNyZWF0ZUVtcHR5Vk5vZGU7CiAgICAgIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB8fAogICAgICAgICAgdm0uJG9wdGlvbnMuZWwgfHwgZWwpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICsKICAgICAgICAgICAgJ2NvbXBpbGVyIGlzIG5vdCBhdmFpbGFibGUuIEVpdGhlciBwcmUtY29tcGlsZSB0aGUgdGVtcGxhdGVzIGludG8gJyArCiAgICAgICAgICAgICdyZW5kZXIgZnVuY3Rpb25zLCBvciB1c2UgdGhlIGNvbXBpbGVyLWluY2x1ZGVkIGJ1aWxkLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAnRmFpbGVkIHRvIG1vdW50IGNvbXBvbmVudDogdGVtcGxhdGUgb3IgcmVuZGVyIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgY2FsbEhvb2sodm0sICdiZWZvcmVNb3VudCcpOwoKICAgIHZhciB1cGRhdGVDb21wb25lbnQ7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykgewogICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG5hbWUgPSB2bS5fbmFtZTsKICAgICAgICB2YXIgaWQgPSB2bS5fdWlkOwogICAgICAgIHZhciBzdGFydFRhZyA9ICJ2dWUtcGVyZi1zdGFydDoiICsgaWQ7CiAgICAgICAgdmFyIGVuZFRhZyA9ICJ2dWUtcGVyZi1lbmQ6IiArIGlkOwoKICAgICAgICBtYXJrKHN0YXJ0VGFnKTsKICAgICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7CiAgICAgICAgbWFyayhlbmRUYWcpOwogICAgICAgIG1lYXN1cmUoKCJ2dWUgIiArIG5hbWUgKyAiIHJlbmRlciIpLCBzdGFydFRhZywgZW5kVGFnKTsKCiAgICAgICAgbWFyayhzdGFydFRhZyk7CiAgICAgICAgdm0uX3VwZGF0ZSh2bm9kZSwgaHlkcmF0aW5nKTsKICAgICAgICBtYXJrKGVuZFRhZyk7CiAgICAgICAgbWVhc3VyZSgoInZ1ZSAiICsgbmFtZSArICIgcGF0Y2giKSwgc3RhcnRUYWcsIGVuZFRhZyk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdm0uX3VwZGF0ZSh2bS5fcmVuZGVyKCksIGh5ZHJhdGluZyk7CiAgICAgIH07CiAgICB9CgogICAgLy8gd2Ugc2V0IHRoaXMgdG8gdm0uX3dhdGNoZXIgaW5zaWRlIHRoZSB3YXRjaGVyJ3MgY29uc3RydWN0b3IKICAgIC8vIHNpbmNlIHRoZSB3YXRjaGVyJ3MgaW5pdGlhbCBwYXRjaCBtYXkgY2FsbCAkZm9yY2VVcGRhdGUgKGUuZy4gaW5zaWRlIGNoaWxkCiAgICAvLyBjb21wb25lbnQncyBtb3VudGVkIGhvb2spLCB3aGljaCByZWxpZXMgb24gdm0uX3dhdGNoZXIgYmVpbmcgYWxyZWFkeSBkZWZpbmVkCiAgICBuZXcgV2F0Y2hlcih2bSwgdXBkYXRlQ29tcG9uZW50LCBub29wLCB7CiAgICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlICgpIHsKICAgICAgICBpZiAodm0uX2lzTW91bnRlZCAmJiAhdm0uX2lzRGVzdHJveWVkKSB7CiAgICAgICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgdHJ1ZSAvKiBpc1JlbmRlcldhdGNoZXIgKi8pOwogICAgaHlkcmF0aW5nID0gZmFsc2U7CgogICAgLy8gbWFudWFsbHkgbW91bnRlZCBpbnN0YW5jZSwgY2FsbCBtb3VudGVkIG9uIHNlbGYKICAgIC8vIG1vdW50ZWQgaXMgY2FsbGVkIGZvciByZW5kZXItY3JlYXRlZCBjaGlsZCBjb21wb25lbnRzIGluIGl0cyBpbnNlcnRlZCBob29rCiAgICBpZiAodm0uJHZub2RlID09IG51bGwpIHsKICAgICAgdm0uX2lzTW91bnRlZCA9IHRydWU7CiAgICAgIGNhbGxIb29rKHZtLCAnbW91bnRlZCcpOwogICAgfQogICAgcmV0dXJuIHZtCiAgfQoKICBmdW5jdGlvbiB1cGRhdGVDaGlsZENvbXBvbmVudCAoCiAgICB2bSwKICAgIHByb3BzRGF0YSwKICAgIGxpc3RlbmVycywKICAgIHBhcmVudFZub2RlLAogICAgcmVuZGVyQ2hpbGRyZW4KICApIHsKICAgIHsKICAgICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTsKICAgIH0KCiAgICAvLyBkZXRlcm1pbmUgd2hldGhlciBjb21wb25lbnQgaGFzIHNsb3QgY2hpbGRyZW4KICAgIC8vIHdlIG5lZWQgdG8gZG8gdGhpcyBiZWZvcmUgb3ZlcndyaXRpbmcgJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLgoKICAgIC8vIGNoZWNrIGlmIHRoZXJlIGFyZSBkeW5hbWljIHNjb3BlZFNsb3RzIChoYW5kLXdyaXR0ZW4gb3IgY29tcGlsZWQgYnV0IHdpdGgKICAgIC8vIGR5bmFtaWMgc2xvdCBuYW1lcykuIFN0YXRpYyBzY29wZWQgc2xvdHMgY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBoYXMgdGhlCiAgICAvLyAiJHN0YWJsZSIgbWFya2VyLgogICAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90czsKICAgIHZhciBvbGRTY29wZWRTbG90cyA9IHZtLiRzY29wZWRTbG90czsKICAgIHZhciBoYXNEeW5hbWljU2NvcGVkU2xvdCA9ICEhKAogICAgICAobmV3U2NvcGVkU2xvdHMgJiYgIW5ld1Njb3BlZFNsb3RzLiRzdGFibGUpIHx8CiAgICAgIChvbGRTY29wZWRTbG90cyAhPT0gZW1wdHlPYmplY3QgJiYgIW9sZFNjb3BlZFNsb3RzLiRzdGFibGUpIHx8CiAgICAgIChuZXdTY29wZWRTbG90cyAmJiB2bS4kc2NvcGVkU2xvdHMuJGtleSAhPT0gbmV3U2NvcGVkU2xvdHMuJGtleSkKICAgICk7CgogICAgLy8gQW55IHN0YXRpYyBzbG90IGNoaWxkcmVuIGZyb20gdGhlIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGR1cmluZyBwYXJlbnQncwogICAgLy8gdXBkYXRlLiBEeW5hbWljIHNjb3BlZCBzbG90cyBtYXkgYWxzbyBoYXZlIGNoYW5nZWQuIEluIHN1Y2ggY2FzZXMsIGEgZm9yY2VkCiAgICAvLyB1cGRhdGUgaXMgbmVjZXNzYXJ5IHRvIGVuc3VyZSBjb3JyZWN0bmVzcy4KICAgIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gISEoCiAgICAgIHJlbmRlckNoaWxkcmVuIHx8ICAgICAgICAgICAgICAgLy8gaGFzIG5ldyBzdGF0aWMgc2xvdHMKICAgICAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuIHx8ICAvLyBoYXMgb2xkIHN0YXRpYyBzbG90cwogICAgICBoYXNEeW5hbWljU2NvcGVkU2xvdAogICAgKTsKCiAgICB2bS4kb3B0aW9ucy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTsKICAgIHZtLiR2bm9kZSA9IHBhcmVudFZub2RlOyAvLyB1cGRhdGUgdm0ncyBwbGFjZWhvbGRlciBub2RlIHdpdGhvdXQgcmUtcmVuZGVyCgogICAgaWYgKHZtLl92bm9kZSkgeyAvLyB1cGRhdGUgY2hpbGQgdHJlZSdzIHBhcmVudAogICAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7CiAgICB9CiAgICB2bS4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW4gPSByZW5kZXJDaGlsZHJlbjsKCiAgICAvLyB1cGRhdGUgJGF0dHJzIGFuZCAkbGlzdGVuZXJzIGhhc2gKICAgIC8vIHRoZXNlIGFyZSBhbHNvIHJlYWN0aXZlIHNvIHRoZXkgbWF5IHRyaWdnZXIgY2hpbGQgdXBkYXRlIGlmIHRoZSBjaGlsZAogICAgLy8gdXNlZCB0aGVtIGR1cmluZyByZW5kZXIKICAgIHZtLiRhdHRycyA9IHBhcmVudFZub2RlLmRhdGEuYXR0cnMgfHwgZW1wdHlPYmplY3Q7CiAgICB2bS4kbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0OwoKICAgIC8vIHVwZGF0ZSBwcm9wcwogICAgaWYgKHByb3BzRGF0YSAmJiB2bS4kb3B0aW9ucy5wcm9wcykgewogICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpOwogICAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7CiAgICAgIHZhciBwcm9wS2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyB8fCBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wS2V5cy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBrZXkgPSBwcm9wS2V5c1tpXTsKICAgICAgICB2YXIgcHJvcE9wdGlvbnMgPSB2bS4kb3B0aW9ucy5wcm9wczsgLy8gd3RmIGZsb3c/CiAgICAgICAgcHJvcHNba2V5XSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BPcHRpb25zLCBwcm9wc0RhdGEsIHZtKTsKICAgICAgfQogICAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7CiAgICAgIC8vIGtlZXAgYSBjb3B5IG9mIHJhdyBwcm9wc0RhdGEKICAgICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhOwogICAgfQoKICAgIC8vIHVwZGF0ZSBsaXN0ZW5lcnMKICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycyB8fCBlbXB0eU9iamVjdDsKICAgIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzOwogICAgdm0uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyA9IGxpc3RlbmVyczsKICAgIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyh2bSwgbGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMpOwoKICAgIC8vIHJlc29sdmUgc2xvdHMgKyBmb3JjZSB1cGRhdGUgaWYgaGFzIGNoaWxkcmVuCiAgICBpZiAobmVlZHNGb3JjZVVwZGF0ZSkgewogICAgICB2bS4kc2xvdHMgPSByZXNvbHZlU2xvdHMocmVuZGVyQ2hpbGRyZW4sIHBhcmVudFZub2RlLmNvbnRleHQpOwogICAgICB2bS4kZm9yY2VVcGRhdGUoKTsKICAgIH0KCiAgICB7CiAgICAgIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IGZhbHNlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaXNJbkluYWN0aXZlVHJlZSAodm0pIHsKICAgIHdoaWxlICh2bSAmJiAodm0gPSB2bS4kcGFyZW50KSkgewogICAgICBpZiAodm0uX2luYWN0aXZlKSB7IHJldHVybiB0cnVlIH0KICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgZnVuY3Rpb24gYWN0aXZhdGVDaGlsZENvbXBvbmVudCAodm0sIGRpcmVjdCkgewogICAgaWYgKGRpcmVjdCkgewogICAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTsKICAgICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0gZWxzZSBpZiAodm0uX2RpcmVjdEluYWN0aXZlKSB7CiAgICAgIHJldHVybgogICAgfQogICAgaWYgKHZtLl9pbmFjdGl2ZSB8fCB2bS5faW5hY3RpdmUgPT09IG51bGwpIHsKICAgICAgdm0uX2luYWN0aXZlID0gZmFsc2U7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudCh2bS4kY2hpbGRyZW5baV0pOwogICAgICB9CiAgICAgIGNhbGxIb29rKHZtLCAnYWN0aXZhdGVkJyk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQgKHZtLCBkaXJlY3QpIHsKICAgIGlmIChkaXJlY3QpIHsKICAgICAgdm0uX2RpcmVjdEluYWN0aXZlID0gdHJ1ZTsKICAgICAgaWYgKGlzSW5JbmFjdGl2ZVRyZWUodm0pKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgIH0KICAgIGlmICghdm0uX2luYWN0aXZlKSB7CiAgICAgIHZtLl9pbmFjdGl2ZSA9IHRydWU7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7CiAgICAgIH0KICAgICAgY2FsbEhvb2sodm0sICdkZWFjdGl2YXRlZCcpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2FsbEhvb2sgKHZtLCBob29rKSB7CiAgICAvLyAjNzU3MyBkaXNhYmxlIGRlcCBjb2xsZWN0aW9uIHdoZW4gaW52b2tpbmcgbGlmZWN5Y2xlIGhvb2tzCiAgICBwdXNoVGFyZ2V0KCk7CiAgICB2YXIgaGFuZGxlcnMgPSB2bS4kb3B0aW9uc1tob29rXTsKICAgIHZhciBpbmZvID0gaG9vayArICIgaG9vayI7CiAgICBpZiAoaGFuZGxlcnMpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBqOyBpKyspIHsKICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhoYW5kbGVyc1tpXSwgdm0sIG51bGwsIHZtLCBpbmZvKTsKICAgICAgfQogICAgfQogICAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHsKICAgICAgdm0uJGVtaXQoJ2hvb2s6JyArIGhvb2spOwogICAgfQogICAgcG9wVGFyZ2V0KCk7CiAgfQoKICAvKiAgKi8KCiAgdmFyIE1BWF9VUERBVEVfQ09VTlQgPSAxMDA7CgogIHZhciBxdWV1ZSA9IFtdOwogIHZhciBhY3RpdmF0ZWRDaGlsZHJlbiA9IFtdOwogIHZhciBoYXMgPSB7fTsKICB2YXIgY2lyY3VsYXIgPSB7fTsKICB2YXIgd2FpdGluZyA9IGZhbHNlOwogIHZhciBmbHVzaGluZyA9IGZhbHNlOwogIHZhciBpbmRleCA9IDA7CgogIC8qKgogICAqIFJlc2V0IHRoZSBzY2hlZHVsZXIncyBzdGF0ZS4KICAgKi8KICBmdW5jdGlvbiByZXNldFNjaGVkdWxlclN0YXRlICgpIHsKICAgIGluZGV4ID0gcXVldWUubGVuZ3RoID0gYWN0aXZhdGVkQ2hpbGRyZW4ubGVuZ3RoID0gMDsKICAgIGhhcyA9IHt9OwogICAgewogICAgICBjaXJjdWxhciA9IHt9OwogICAgfQogICAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7CiAgfQoKICAvLyBBc3luYyBlZGdlIGNhc2UgIzY1NjYgcmVxdWlyZXMgc2F2aW5nIHRoZSB0aW1lc3RhbXAgd2hlbiBldmVudCBsaXN0ZW5lcnMgYXJlCiAgLy8gYXR0YWNoZWQuIEhvd2V2ZXIsIGNhbGxpbmcgcGVyZm9ybWFuY2Uubm93KCkgaGFzIGEgcGVyZiBvdmVyaGVhZCBlc3BlY2lhbGx5CiAgLy8gaWYgdGhlIHBhZ2UgaGFzIHRob3VzYW5kcyBvZiBldmVudCBsaXN0ZW5lcnMuIEluc3RlYWQsIHdlIHRha2UgYSB0aW1lc3RhbXAKICAvLyBldmVyeSB0aW1lIHRoZSBzY2hlZHVsZXIgZmx1c2hlcyBhbmQgdXNlIHRoYXQgZm9yIGFsbCBldmVudCBsaXN0ZW5lcnMKICAvLyBhdHRhY2hlZCBkdXJpbmcgdGhhdCBmbHVzaC4KICB2YXIgY3VycmVudEZsdXNoVGltZXN0YW1wID0gMDsKCiAgLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC4KICB2YXIgZ2V0Tm93ID0gRGF0ZS5ub3c7CgogIC8vIERldGVybWluZSB3aGF0IGV2ZW50IHRpbWVzdGFtcCB0aGUgYnJvd3NlciBpcyB1c2luZy4gQW5ub3lpbmdseSwgdGhlCiAgLy8gdGltZXN0YW1wIGNhbiBlaXRoZXIgYmUgaGktcmVzIChyZWxhdGl2ZSB0byBwYWdlIGxvYWQpIG9yIGxvdy1yZXMKICAvLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGUKICAvLyBzYW1lIHRpbWVzdGFtcCB0eXBlIHdoZW4gc2F2aW5nIHRoZSBmbHVzaCB0aW1lc3RhbXAuCiAgLy8gQWxsIElFIHZlcnNpb25zIHVzZSBsb3ctcmVzIGV2ZW50IHRpbWVzdGFtcHMsIGFuZCBoYXZlIHByb2JsZW1hdGljIGNsb2NrCiAgLy8gaW1wbGVtZW50YXRpb25zICgjOTYzMikKICBpZiAoaW5Ccm93c2VyICYmICFpc0lFKSB7CiAgICB2YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7CiAgICBpZiAoCiAgICAgIHBlcmZvcm1hbmNlICYmCiAgICAgIHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicgJiYKICAgICAgZ2V0Tm93KCkgPiBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKS50aW1lU3RhbXAKICAgICkgewogICAgICAvLyBpZiB0aGUgZXZlbnQgdGltZXN0YW1wLCBhbHRob3VnaCBldmFsdWF0ZWQgQUZURVIgdGhlIERhdGUubm93KCksIGlzCiAgICAgIC8vIHNtYWxsZXIgdGhhbiBpdCwgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCwKICAgICAgLy8gYW5kIHdlIG5lZWQgdG8gdXNlIHRoZSBoaS1yZXMgdmVyc2lvbiBmb3IgZXZlbnQgbGlzdGVuZXIgdGltZXN0YW1wcyBhcwogICAgICAvLyB3ZWxsLgogICAgICBnZXROb3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTsgfTsKICAgIH0KICB9CgogIC8qKgogICAqIEZsdXNoIGJvdGggcXVldWVzIGFuZCBydW4gdGhlIHdhdGNoZXJzLgogICAqLwogIGZ1bmN0aW9uIGZsdXNoU2NoZWR1bGVyUXVldWUgKCkgewogICAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7CiAgICBmbHVzaGluZyA9IHRydWU7CiAgICB2YXIgd2F0Y2hlciwgaWQ7CgogICAgLy8gU29ydCBxdWV1ZSBiZWZvcmUgZmx1c2guCiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdDoKICAgIC8vIDEuIENvbXBvbmVudHMgYXJlIHVwZGF0ZWQgZnJvbSBwYXJlbnQgdG8gY2hpbGQuIChiZWNhdXNlIHBhcmVudCBpcyBhbHdheXMKICAgIC8vICAgIGNyZWF0ZWQgYmVmb3JlIHRoZSBjaGlsZCkKICAgIC8vIDIuIEEgY29tcG9uZW50J3MgdXNlciB3YXRjaGVycyBhcmUgcnVuIGJlZm9yZSBpdHMgcmVuZGVyIHdhdGNoZXIgKGJlY2F1c2UKICAgIC8vICAgIHVzZXIgd2F0Y2hlcnMgYXJlIGNyZWF0ZWQgYmVmb3JlIHRoZSByZW5kZXIgd2F0Y2hlcikKICAgIC8vIDMuIElmIGEgY29tcG9uZW50IGlzIGRlc3Ryb3llZCBkdXJpbmcgYSBwYXJlbnQgY29tcG9uZW50J3Mgd2F0Y2hlciBydW4sCiAgICAvLyAgICBpdHMgd2F0Y2hlcnMgY2FuIGJlIHNraXBwZWQuCiAgICBxdWV1ZS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhLmlkIC0gYi5pZDsgfSk7CgogICAgLy8gZG8gbm90IGNhY2hlIGxlbmd0aCBiZWNhdXNlIG1vcmUgd2F0Y2hlcnMgbWlnaHQgYmUgcHVzaGVkCiAgICAvLyBhcyB3ZSBydW4gZXhpc3Rpbmcgd2F0Y2hlcnMKICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgrKykgewogICAgICB3YXRjaGVyID0gcXVldWVbaW5kZXhdOwogICAgICBpZiAod2F0Y2hlci5iZWZvcmUpIHsKICAgICAgICB3YXRjaGVyLmJlZm9yZSgpOwogICAgICB9CiAgICAgIGlkID0gd2F0Y2hlci5pZDsKICAgICAgaGFzW2lkXSA9IG51bGw7CiAgICAgIHdhdGNoZXIucnVuKCk7CiAgICAgIC8vIGluIGRldiBidWlsZCwgY2hlY2sgYW5kIHN0b3AgY2lyY3VsYXIgdXBkYXRlcy4KICAgICAgaWYgKGhhc1tpZF0gIT0gbnVsbCkgewogICAgICAgIGNpcmN1bGFyW2lkXSA9IChjaXJjdWxhcltpZF0gfHwgMCkgKyAxOwogICAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBNQVhfVVBEQVRFX0NPVU5UKSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAnWW91IG1heSBoYXZlIGFuIGluZmluaXRlIHVwZGF0ZSBsb29wICcgKyAoCiAgICAgICAgICAgICAgd2F0Y2hlci51c2VyCiAgICAgICAgICAgICAgICA/ICgiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXCIiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyAiXCIiKQogICAgICAgICAgICAgICAgOiAiaW4gYSBjb21wb25lbnQgcmVuZGVyIGZ1bmN0aW9uLiIKICAgICAgICAgICAgKSwKICAgICAgICAgICAgd2F0Y2hlci52bQogICAgICAgICAgKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLy8ga2VlcCBjb3BpZXMgb2YgcG9zdCBxdWV1ZXMgYmVmb3JlIHJlc2V0dGluZyBzdGF0ZQogICAgdmFyIGFjdGl2YXRlZFF1ZXVlID0gYWN0aXZhdGVkQ2hpbGRyZW4uc2xpY2UoKTsKICAgIHZhciB1cGRhdGVkUXVldWUgPSBxdWV1ZS5zbGljZSgpOwoKICAgIHJlc2V0U2NoZWR1bGVyU3RhdGUoKTsKCiAgICAvLyBjYWxsIGNvbXBvbmVudCB1cGRhdGVkIGFuZCBhY3RpdmF0ZWQgaG9va3MKICAgIGNhbGxBY3RpdmF0ZWRIb29rcyhhY3RpdmF0ZWRRdWV1ZSk7CiAgICBjYWxsVXBkYXRlZEhvb2tzKHVwZGF0ZWRRdWV1ZSk7CgogICAgLy8gZGV2dG9vbCBob29rCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChkZXZ0b29scyAmJiBjb25maWcuZGV2dG9vbHMpIHsKICAgICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNhbGxVcGRhdGVkSG9va3MgKHF1ZXVlKSB7CiAgICB2YXIgaSA9IHF1ZXVlLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgdmFyIHdhdGNoZXIgPSBxdWV1ZVtpXTsKICAgICAgdmFyIHZtID0gd2F0Y2hlci52bTsKICAgICAgaWYgKHZtLl93YXRjaGVyID09PSB3YXRjaGVyICYmIHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkgewogICAgICAgIGNhbGxIb29rKHZtLCAndXBkYXRlZCcpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBRdWV1ZSBhIGtlcHQtYWxpdmUgY29tcG9uZW50IHRoYXQgd2FzIGFjdGl2YXRlZCBkdXJpbmcgcGF0Y2guCiAgICogVGhlIHF1ZXVlIHdpbGwgYmUgcHJvY2Vzc2VkIGFmdGVyIHRoZSBlbnRpcmUgdHJlZSBoYXMgYmVlbiBwYXRjaGVkLgogICAqLwogIGZ1bmN0aW9uIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50ICh2bSkgewogICAgLy8gc2V0dGluZyBfaW5hY3RpdmUgdG8gZmFsc2UgaGVyZSBzbyB0aGF0IGEgcmVuZGVyIGZ1bmN0aW9uIGNhbgogICAgLy8gcmVseSBvbiBjaGVja2luZyB3aGV0aGVyIGl0J3MgaW4gYW4gaW5hY3RpdmUgdHJlZSAoZS5nLiByb3V0ZXItdmlldykKICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlOwogICAgYWN0aXZhdGVkQ2hpbGRyZW4ucHVzaCh2bSk7CiAgfQoKICBmdW5jdGlvbiBjYWxsQWN0aXZhdGVkSG9va3MgKHF1ZXVlKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7CiAgICAgIHF1ZXVlW2ldLl9pbmFjdGl2ZSA9IHRydWU7CiAgICAgIGFjdGl2YXRlQ2hpbGRDb21wb25lbnQocXVldWVbaV0sIHRydWUgLyogdHJ1ZSAqLyk7CiAgICB9CiAgfQoKICAvKioKICAgKiBQdXNoIGEgd2F0Y2hlciBpbnRvIHRoZSB3YXRjaGVyIHF1ZXVlLgogICAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQncwogICAqIHB1c2hlZCB3aGVuIHRoZSBxdWV1ZSBpcyBiZWluZyBmbHVzaGVkLgogICAqLwogIGZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikgewogICAgdmFyIGlkID0gd2F0Y2hlci5pZDsKICAgIGlmIChoYXNbaWRdID09IG51bGwpIHsKICAgICAgaGFzW2lkXSA9IHRydWU7CiAgICAgIGlmICghZmx1c2hpbmcpIHsKICAgICAgICBxdWV1ZS5wdXNoKHdhdGNoZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIGlmIGFscmVhZHkgZmx1c2hpbmcsIHNwbGljZSB0aGUgd2F0Y2hlciBiYXNlZCBvbiBpdHMgaWQKICAgICAgICAvLyBpZiBhbHJlYWR5IHBhc3QgaXRzIGlkLCBpdCB3aWxsIGJlIHJ1biBuZXh0IGltbWVkaWF0ZWx5LgogICAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTsKICAgICAgICB3aGlsZSAoaSA+IGluZGV4ICYmIHF1ZXVlW2ldLmlkID4gd2F0Y2hlci5pZCkgewogICAgICAgICAgaS0tOwogICAgICAgIH0KICAgICAgICBxdWV1ZS5zcGxpY2UoaSArIDEsIDAsIHdhdGNoZXIpOwogICAgICB9CiAgICAgIC8vIHF1ZXVlIHRoZSBmbHVzaAogICAgICBpZiAoIXdhaXRpbmcpIHsKICAgICAgICB3YWl0aW5nID0gdHJ1ZTsKCiAgICAgICAgaWYgKCFjb25maWcuYXN5bmMpIHsKICAgICAgICAgIGZsdXNoU2NoZWR1bGVyUXVldWUoKTsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgICBuZXh0VGljayhmbHVzaFNjaGVkdWxlclF1ZXVlKTsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgoKCiAgdmFyIHVpZCQyID0gMDsKCiAgLyoqCiAgICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsCiAgICogYW5kIGZpcmVzIGNhbGxiYWNrIHdoZW4gdGhlIGV4cHJlc3Npb24gdmFsdWUgY2hhbmdlcy4KICAgKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy4KICAgKi8KICB2YXIgV2F0Y2hlciA9IGZ1bmN0aW9uIFdhdGNoZXIgKAogICAgdm0sCiAgICBleHBPckZuLAogICAgY2IsCiAgICBvcHRpb25zLAogICAgaXNSZW5kZXJXYXRjaGVyCiAgKSB7CiAgICB0aGlzLnZtID0gdm07CiAgICBpZiAoaXNSZW5kZXJXYXRjaGVyKSB7CiAgICAgIHZtLl93YXRjaGVyID0gdGhpczsKICAgIH0KICAgIHZtLl93YXRjaGVycy5wdXNoKHRoaXMpOwogICAgLy8gb3B0aW9ucwogICAgaWYgKG9wdGlvbnMpIHsKICAgICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7CiAgICAgIHRoaXMudXNlciA9ICEhb3B0aW9ucy51c2VyOwogICAgICB0aGlzLmxhenkgPSAhIW9wdGlvbnMubGF6eTsKICAgICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7CiAgICAgIHRoaXMuYmVmb3JlID0gb3B0aW9ucy5iZWZvcmU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTsKICAgIH0KICAgIHRoaXMuY2IgPSBjYjsKICAgIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nCiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7CiAgICB0aGlzLmRpcnR5ID0gdGhpcy5sYXp5OyAvLyBmb3IgbGF6eSB3YXRjaGVycwogICAgdGhpcy5kZXBzID0gW107CiAgICB0aGlzLm5ld0RlcHMgPSBbXTsKICAgIHRoaXMuZGVwSWRzID0gbmV3IF9TZXQoKTsKICAgIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTsKICAgIHRoaXMuZXhwcmVzc2lvbiA9IGV4cE9yRm4udG9TdHJpbmcoKTsKICAgIC8vIHBhcnNlIGV4cHJlc3Npb24gZm9yIGdldHRlcgogICAgaWYgKHR5cGVvZiBleHBPckZuID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZ2V0dGVyID0gcGFyc2VQYXRoKGV4cE9yRm4pOwogICAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7CiAgICAgICAgdGhpcy5nZXR0ZXIgPSBub29wOwogICAgICAgIHdhcm4oCiAgICAgICAgICAiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFwiIiArIGV4cE9yRm4gKyAiXCIgIiArCiAgICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgKwogICAgICAgICAgJ0ZvciBmdWxsIGNvbnRyb2wsIHVzZSBhIGZ1bmN0aW9uIGluc3RlYWQuJywKICAgICAgICAgIHZtCiAgICAgICAgKTsKICAgICAgfQogICAgfQogICAgdGhpcy52YWx1ZSA9IHRoaXMubGF6eQogICAgICA/IHVuZGVmaW5lZAogICAgICA6IHRoaXMuZ2V0KCk7CiAgfTsKCiAgLyoqCiAgICogRXZhbHVhdGUgdGhlIGdldHRlciwgYW5kIHJlLWNvbGxlY3QgZGVwZW5kZW5jaWVzLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoKSB7CiAgICBwdXNoVGFyZ2V0KHRoaXMpOwogICAgdmFyIHZhbHVlOwogICAgdmFyIHZtID0gdGhpcy52bTsKICAgIHRyeSB7CiAgICAgIHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh2bSwgdm0pOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAodGhpcy51c2VyKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm0sICgiZ2V0dGVyIGZvciB3YXRjaGVyIFwiIiArICh0aGlzLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IGUKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgLy8gInRvdWNoIiBldmVyeSBwcm9wZXJ0eSBzbyB0aGV5IGFyZSBhbGwgdHJhY2tlZCBhcwogICAgICAvLyBkZXBlbmRlbmNpZXMgZm9yIGRlZXAgd2F0Y2hpbmcKICAgICAgaWYgKHRoaXMuZGVlcCkgewogICAgICAgIHRyYXZlcnNlKHZhbHVlKTsKICAgICAgfQogICAgICBwb3BUYXJnZXQoKTsKICAgICAgdGhpcy5jbGVhbnVwRGVwcygpOwogICAgfQogICAgcmV0dXJuIHZhbHVlCiAgfTsKCiAgLyoqCiAgICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS4KICAgKi8KICBXYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkgewogICAgdmFyIGlkID0gZGVwLmlkOwogICAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoaWQpKSB7CiAgICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7CiAgICAgIHRoaXMubmV3RGVwcy5wdXNoKGRlcCk7CiAgICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkgewogICAgICAgIGRlcC5hZGRTdWIodGhpcyk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBDbGVhbiB1cCBmb3IgZGVwZW5kZW5jeSBjb2xsZWN0aW9uLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkgewogICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoOwogICAgd2hpbGUgKGktLSkgewogICAgICB2YXIgZGVwID0gdGhpcy5kZXBzW2ldOwogICAgICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhkZXAuaWQpKSB7CiAgICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzKTsKICAgICAgfQogICAgfQogICAgdmFyIHRtcCA9IHRoaXMuZGVwSWRzOwogICAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkczsKICAgIHRoaXMubmV3RGVwSWRzID0gdG1wOwogICAgdGhpcy5uZXdEZXBJZHMuY2xlYXIoKTsKICAgIHRtcCA9IHRoaXMuZGVwczsKICAgIHRoaXMuZGVwcyA9IHRoaXMubmV3RGVwczsKICAgIHRoaXMubmV3RGVwcyA9IHRtcDsKICAgIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwOwogIH07CgogIC8qKgogICAqIFN1YnNjcmliZXIgaW50ZXJmYWNlLgogICAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuCiAgICovCiAgV2F0Y2hlci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAodGhpcy5sYXp5KSB7CiAgICAgIHRoaXMuZGlydHkgPSB0cnVlOwogICAgfSBlbHNlIGlmICh0aGlzLnN5bmMpIHsKICAgICAgdGhpcy5ydW4oKTsKICAgIH0gZWxzZSB7CiAgICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTsKICAgIH0KICB9OwoKICAvKioKICAgKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS4KICAgKiBXaWxsIGJlIGNhbGxlZCBieSB0aGUgc2NoZWR1bGVyLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIHJ1biAoKSB7CiAgICBpZiAodGhpcy5hY3RpdmUpIHsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5nZXQoKTsKICAgICAgaWYgKAogICAgICAgIHZhbHVlICE9PSB0aGlzLnZhbHVlIHx8CiAgICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuCiAgICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heQogICAgICAgIC8vIGhhdmUgbXV0YXRlZC4KICAgICAgICBpc09iamVjdCh2YWx1ZSkgfHwKICAgICAgICB0aGlzLmRlZXAKICAgICAgKSB7CiAgICAgICAgLy8gc2V0IG5ldyB2YWx1ZQogICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgICAgIGlmICh0aGlzLnVzZXIpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBoYW5kbGVFcnJvcihlLCB0aGlzLnZtLCAoImNhbGxiYWNrIGZvciB3YXRjaGVyIFwiIiArICh0aGlzLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy52bSwgdmFsdWUsIG9sZFZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvKioKICAgKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuCiAgICogVGhpcyBvbmx5IGdldHMgY2FsbGVkIGZvciBsYXp5IHdhdGNoZXJzLgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkgewogICAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KCk7CiAgICB0aGlzLmRpcnR5ID0gZmFsc2U7CiAgfTsKCiAgLyoqCiAgICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuCiAgICovCiAgV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHsKICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDsKICAgIHdoaWxlIChpLS0pIHsKICAgICAgdGhpcy5kZXBzW2ldLmRlcGVuZCgpOwogICAgfQogIH07CgogIC8qKgogICAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LgogICAqLwogIFdhdGNoZXIucHJvdG90eXBlLnRlYXJkb3duID0gZnVuY3Rpb24gdGVhcmRvd24gKCkgewogICAgaWYgKHRoaXMuYWN0aXZlKSB7CiAgICAgIC8vIHJlbW92ZSBzZWxmIGZyb20gdm0ncyB3YXRjaGVyIGxpc3QKICAgICAgLy8gdGhpcyBpcyBhIHNvbWV3aGF0IGV4cGVuc2l2ZSBvcGVyYXRpb24gc28gd2Ugc2tpcCBpdAogICAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkLgogICAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQpIHsKICAgICAgICByZW1vdmUodGhpcy52bS5fd2F0Y2hlcnMsIHRoaXMpOwogICAgICB9CiAgICAgIHZhciBpID0gdGhpcy5kZXBzLmxlbmd0aDsKICAgICAgd2hpbGUgKGktLSkgewogICAgICAgIHRoaXMuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyk7CiAgICAgIH0KICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTsKICAgIH0KICB9OwoKICAvKiAgKi8KCiAgdmFyIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbiA9IHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICBnZXQ6IG5vb3AsCiAgICBzZXQ6IG5vb3AKICB9OwoKICBmdW5jdGlvbiBwcm94eSAodGFyZ2V0LCBzb3VyY2VLZXksIGtleSkgewogICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHsKICAgICAgcmV0dXJuIHRoaXNbc291cmNlS2V5XVtrZXldCiAgICB9OwogICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHsKICAgICAgdGhpc1tzb3VyY2VLZXldW2tleV0gPSB2YWw7CiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24pOwogIH0KCiAgZnVuY3Rpb24gaW5pdFN0YXRlICh2bSkgewogICAgdm0uX3dhdGNoZXJzID0gW107CiAgICB2YXIgb3B0cyA9IHZtLiRvcHRpb25zOwogICAgaWYgKG9wdHMucHJvcHMpIHsgaW5pdFByb3BzKHZtLCBvcHRzLnByb3BzKTsgfQogICAgaWYgKG9wdHMubWV0aG9kcykgeyBpbml0TWV0aG9kcyh2bSwgb3B0cy5tZXRob2RzKTsgfQogICAgaWYgKG9wdHMuZGF0YSkgewogICAgICBpbml0RGF0YSh2bSk7CiAgICB9IGVsc2UgewogICAgICBvYnNlcnZlKHZtLl9kYXRhID0ge30sIHRydWUgLyogYXNSb290RGF0YSAqLyk7CiAgICB9CiAgICBpZiAob3B0cy5jb21wdXRlZCkgeyBpbml0Q29tcHV0ZWQodm0sIG9wdHMuY29tcHV0ZWQpOyB9CiAgICBpZiAob3B0cy53YXRjaCAmJiBvcHRzLndhdGNoICE9PSBuYXRpdmVXYXRjaCkgewogICAgICBpbml0V2F0Y2godm0sIG9wdHMud2F0Y2gpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFByb3BzICh2bSwgcHJvcHNPcHRpb25zKSB7CiAgICB2YXIgcHJvcHNEYXRhID0gdm0uJG9wdGlvbnMucHJvcHNEYXRhIHx8IHt9OwogICAgdmFyIHByb3BzID0gdm0uX3Byb3BzID0ge307CiAgICAvLyBjYWNoZSBwcm9wIGtleXMgc28gdGhhdCBmdXR1cmUgcHJvcHMgdXBkYXRlcyBjYW4gaXRlcmF0ZSB1c2luZyBBcnJheQogICAgLy8gaW5zdGVhZCBvZiBkeW5hbWljIG9iamVjdCBrZXkgZW51bWVyYXRpb24uCiAgICB2YXIga2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdOwogICAgdmFyIGlzUm9vdCA9ICF2bS4kcGFyZW50OwogICAgLy8gcm9vdCBpbnN0YW5jZSBwcm9wcyBzaG91bGQgYmUgY29udmVydGVkCiAgICBpZiAoIWlzUm9vdCkgewogICAgICB0b2dnbGVPYnNlcnZpbmcoZmFsc2UpOwogICAgfQogICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHsKICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgIHZhciB2YWx1ZSA9IHZhbGlkYXRlUHJvcChrZXksIHByb3BzT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgIHsKICAgICAgICB2YXIgaHlwaGVuYXRlZEtleSA9IGh5cGhlbmF0ZShrZXkpOwogICAgICAgIGlmIChpc1Jlc2VydmVkQXR0cmlidXRlKGh5cGhlbmF0ZWRLZXkpIHx8CiAgICAgICAgICAgIGNvbmZpZy5pc1Jlc2VydmVkQXR0cihoeXBoZW5hdGVkS2V5KSkgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgKCJcIiIgKyBoeXBoZW5hdGVkS2V5ICsgIlwiIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlIGFuZCBjYW5ub3QgYmUgdXNlZCBhcyBjb21wb25lbnQgcHJvcC4iKSwKICAgICAgICAgICAgdm0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHByb3BzLCBrZXksIHZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAoIWlzUm9vdCAmJiAhaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50KSB7CiAgICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICAgIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSAiICsKICAgICAgICAgICAgICAib3ZlcndyaXR0ZW4gd2hlbmV2ZXIgdGhlIHBhcmVudCBjb21wb25lbnQgcmUtcmVuZGVycy4gIiArCiAgICAgICAgICAgICAgIkluc3RlYWQsIHVzZSBhIGRhdGEgb3IgY29tcHV0ZWQgcHJvcGVydHkgYmFzZWQgb24gdGhlIHByb3AncyAiICsKICAgICAgICAgICAgICAidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXCIiICsga2V5ICsgIlwiIiwKICAgICAgICAgICAgICB2bQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8vIHN0YXRpYyBwcm9wcyBhcmUgYWxyZWFkeSBwcm94aWVkIG9uIHRoZSBjb21wb25lbnQncyBwcm90b3R5cGUKICAgICAgLy8gZHVyaW5nIFZ1ZS5leHRlbmQoKS4gV2Ugb25seSBuZWVkIHRvIHByb3h5IHByb3BzIGRlZmluZWQgYXQKICAgICAgLy8gaW5zdGFudGlhdGlvbiBoZXJlLgogICAgICBpZiAoIShrZXkgaW4gdm0pKSB7CiAgICAgICAgcHJveHkodm0sICJfcHJvcHMiLCBrZXkpOwogICAgICB9CiAgICB9OwoKICAgIGZvciAodmFyIGtleSBpbiBwcm9wc09wdGlvbnMpIGxvb3AoIGtleSApOwogICAgdG9nZ2xlT2JzZXJ2aW5nKHRydWUpOwogIH0KCiAgZnVuY3Rpb24gaW5pdERhdGEgKHZtKSB7CiAgICB2YXIgZGF0YSA9IHZtLiRvcHRpb25zLmRhdGE7CiAgICBkYXRhID0gdm0uX2RhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJwogICAgICA/IGdldERhdGEoZGF0YSwgdm0pCiAgICAgIDogZGF0YSB8fCB7fTsKICAgIGlmICghaXNQbGFpbk9iamVjdChkYXRhKSkgewogICAgICBkYXRhID0ge307CiAgICAgIHdhcm4oCiAgICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxuJyArCiAgICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsCiAgICAgICAgdm0KICAgICAgKTsKICAgIH0KICAgIC8vIHByb3h5IGRhdGEgb24gaW5zdGFuY2UKICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSk7CiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wczsKICAgIHZhciBtZXRob2RzID0gdm0uJG9wdGlvbnMubWV0aG9kczsKICAgIHZhciBpID0ga2V5cy5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIHZhciBrZXkgPSBrZXlzW2ldOwogICAgICB7CiAgICAgICAgaWYgKG1ldGhvZHMgJiYgaGFzT3duKG1ldGhvZHMsIGtleSkpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICgiTWV0aG9kIFwiIiArIGtleSArICJcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBkYXRhIHByb3BlcnR5LiIpLAogICAgICAgICAgICB2bQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHByb3BzICYmIGhhc093bihwcm9wcywga2V5KSkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiVGhlIGRhdGEgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiAiICsKICAgICAgICAgICJVc2UgcHJvcCBkZWZhdWx0IHZhbHVlIGluc3RlYWQuIiwKICAgICAgICAgIHZtCiAgICAgICAgKTsKICAgICAgfSBlbHNlIGlmICghaXNSZXNlcnZlZChrZXkpKSB7CiAgICAgICAgcHJveHkodm0sICJfZGF0YSIsIGtleSk7CiAgICAgIH0KICAgIH0KICAgIC8vIG9ic2VydmUgZGF0YQogICAgb2JzZXJ2ZShkYXRhLCB0cnVlIC8qIGFzUm9vdERhdGEgKi8pOwogIH0KCiAgZnVuY3Rpb24gZ2V0RGF0YSAoZGF0YSwgdm0pIHsKICAgIC8vICM3NTczIGRpc2FibGUgZGVwIGNvbGxlY3Rpb24gd2hlbiBpbnZva2luZyBkYXRhIGdldHRlcnMKICAgIHB1c2hUYXJnZXQoKTsKICAgIHRyeSB7CiAgICAgIHJldHVybiBkYXRhLmNhbGwodm0sIHZtKQogICAgfSBjYXRjaCAoZSkgewogICAgICBoYW5kbGVFcnJvcihlLCB2bSwgImRhdGEoKSIpOwogICAgICByZXR1cm4ge30KICAgIH0gZmluYWxseSB7CiAgICAgIHBvcFRhcmdldCgpOwogICAgfQogIH0KCiAgdmFyIGNvbXB1dGVkV2F0Y2hlck9wdGlvbnMgPSB7IGxhenk6IHRydWUgfTsKCiAgZnVuY3Rpb24gaW5pdENvbXB1dGVkICh2bSwgY29tcHV0ZWQpIHsKICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgdmFyIHdhdGNoZXJzID0gdm0uX2NvbXB1dGVkV2F0Y2hlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwogICAgLy8gY29tcHV0ZWQgcHJvcGVydGllcyBhcmUganVzdCBnZXR0ZXJzIGR1cmluZyBTU1IKICAgIHZhciBpc1NTUiA9IGlzU2VydmVyUmVuZGVyaW5nKCk7CgogICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7CiAgICAgIHZhciB1c2VyRGVmID0gY29tcHV0ZWRba2V5XTsKICAgICAgdmFyIGdldHRlciA9IHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nID8gdXNlckRlZiA6IHVzZXJEZWYuZ2V0OwogICAgICBpZiAoZ2V0dGVyID09IG51bGwpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgKCJHZXR0ZXIgaXMgbWlzc2luZyBmb3IgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiLiIpLAogICAgICAgICAgdm0KICAgICAgICApOwogICAgICB9CgogICAgICBpZiAoIWlzU1NSKSB7CiAgICAgICAgLy8gY3JlYXRlIGludGVybmFsIHdhdGNoZXIgZm9yIHRoZSBjb21wdXRlZCBwcm9wZXJ0eS4KICAgICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIoCiAgICAgICAgICB2bSwKICAgICAgICAgIGdldHRlciB8fCBub29wLAogICAgICAgICAgbm9vcCwKICAgICAgICAgIGNvbXB1dGVkV2F0Y2hlck9wdGlvbnMKICAgICAgICApOwogICAgICB9CgogICAgICAvLyBjb21wb25lbnQtZGVmaW5lZCBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBhbHJlYWR5IGRlZmluZWQgb24gdGhlCiAgICAgIC8vIGNvbXBvbmVudCBwcm90b3R5cGUuIFdlIG9ubHkgbmVlZCB0byBkZWZpbmUgY29tcHV0ZWQgcHJvcGVydGllcyBkZWZpbmVkCiAgICAgIC8vIGF0IGluc3RhbnRpYXRpb24gaGVyZS4KICAgICAgaWYgKCEoa2V5IGluIHZtKSkgewogICAgICAgIGRlZmluZUNvbXB1dGVkKHZtLCBrZXksIHVzZXJEZWYpOwogICAgICB9IGVsc2UgewogICAgICAgIGlmIChrZXkgaW4gdm0uJGRhdGEpIHsKICAgICAgICAgIHdhcm4oKCJUaGUgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVmaW5lZCBpbiBkYXRhLiIpLCB2bSk7CiAgICAgICAgfSBlbHNlIGlmICh2bS4kb3B0aW9ucy5wcm9wcyAmJiBrZXkgaW4gdm0uJG9wdGlvbnMucHJvcHMpIHsKICAgICAgICAgIHdhcm4oKCJUaGUgY29tcHV0ZWQgcHJvcGVydHkgXCIiICsga2V5ICsgIlwiIGlzIGFscmVhZHkgZGVmaW5lZCBhcyBhIHByb3AuIiksIHZtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGRlZmluZUNvbXB1dGVkICgKICAgIHRhcmdldCwKICAgIGtleSwKICAgIHVzZXJEZWYKICApIHsKICAgIHZhciBzaG91bGRDYWNoZSA9ICFpc1NlcnZlclJlbmRlcmluZygpOwogICAgaWYgKHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZQogICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KQogICAgICAgIDogY3JlYXRlR2V0dGVySW52b2tlcih1c2VyRGVmKTsKICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IG5vb3A7CiAgICB9IGVsc2UgewogICAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uZ2V0ID0gdXNlckRlZi5nZXQKICAgICAgICA/IHNob3VsZENhY2hlICYmIHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlCiAgICAgICAgICA/IGNyZWF0ZUNvbXB1dGVkR2V0dGVyKGtleSkKICAgICAgICAgIDogY3JlYXRlR2V0dGVySW52b2tlcih1c2VyRGVmLmdldCkKICAgICAgICA6IG5vb3A7CiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPSB1c2VyRGVmLnNldCB8fCBub29wOwogICAgfQogICAgaWYgKHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPT09IG5vb3ApIHsKICAgICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgKCJDb21wdXRlZCBwcm9wZXJ0eSBcIiIgKyBrZXkgKyAiXCIgd2FzIGFzc2lnbmVkIHRvIGJ1dCBpdCBoYXMgbm8gc2V0dGVyLiIpLAogICAgICAgICAgdGhpcwogICAgICAgICk7CiAgICAgIH07CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVDb21wdXRlZEdldHRlciAoa2V5KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkgewogICAgICB2YXIgd2F0Y2hlciA9IHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMgJiYgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1trZXldOwogICAgICBpZiAod2F0Y2hlcikgewogICAgICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7CiAgICAgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7CiAgICAgICAgfQogICAgICAgIGlmIChEZXAudGFyZ2V0KSB7CiAgICAgICAgICB3YXRjaGVyLmRlcGVuZCgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gd2F0Y2hlci52YWx1ZQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVHZXR0ZXJJbnZva2VyKGZuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkgewogICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCB0aGlzKQogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtLCBtZXRob2RzKSB7CiAgICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wczsKICAgIGZvciAodmFyIGtleSBpbiBtZXRob2RzKSB7CiAgICAgIHsKICAgICAgICBpZiAodHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgd2FybigKICAgICAgICAgICAgIk1ldGhvZCBcIiIgKyBrZXkgKyAiXCIgaGFzIHR5cGUgXCIiICsgKHR5cGVvZiBtZXRob2RzW2tleV0pICsgIlwiIGluIHRoZSBjb21wb25lbnQgZGVmaW5pdGlvbi4gIiArCiAgICAgICAgICAgICJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5PyIsCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7CiAgICAgICAgICB3YXJuKAogICAgICAgICAgICAoIk1ldGhvZCBcIiIgKyBrZXkgKyAiXCIgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkIGFzIGEgcHJvcC4iKSwKICAgICAgICAgICAgdm0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGlmICgoa2V5IGluIHZtKSAmJiBpc1Jlc2VydmVkKGtleSkpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICJNZXRob2QgXCIiICsga2V5ICsgIlwiIGNvbmZsaWN0cyB3aXRoIGFuIGV4aXN0aW5nIFZ1ZSBpbnN0YW5jZSBtZXRob2QuICIgKwogICAgICAgICAgICAiQXZvaWQgZGVmaW5pbmcgY29tcG9uZW50IG1ldGhvZHMgdGhhdCBzdGFydCB3aXRoIF8gb3IgJC4iCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICB2bVtrZXldID0gdHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJyA/IG5vb3AgOiBiaW5kKG1ldGhvZHNba2V5XSwgdm0pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaW5pdFdhdGNoICh2bSwgd2F0Y2gpIHsKICAgIGZvciAodmFyIGtleSBpbiB3YXRjaCkgewogICAgICB2YXIgaGFuZGxlciA9IHdhdGNoW2tleV07CiAgICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXJbaV0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjcmVhdGVXYXRjaGVyKHZtLCBrZXksIGhhbmRsZXIpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjcmVhdGVXYXRjaGVyICgKICAgIHZtLAogICAgZXhwT3JGbiwKICAgIGhhbmRsZXIsCiAgICBvcHRpb25zCiAgKSB7CiAgICBpZiAoaXNQbGFpbk9iamVjdChoYW5kbGVyKSkgewogICAgICBvcHRpb25zID0gaGFuZGxlcjsKICAgICAgaGFuZGxlciA9IGhhbmRsZXIuaGFuZGxlcjsKICAgIH0KICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHsKICAgICAgaGFuZGxlciA9IHZtW2hhbmRsZXJdOwogICAgfQogICAgcmV0dXJuIHZtLiR3YXRjaChleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKQogIH0KCiAgZnVuY3Rpb24gc3RhdGVNaXhpbiAoVnVlKSB7CiAgICAvLyBmbG93IHNvbWVob3cgaGFzIHByb2JsZW1zIHdpdGggZGlyZWN0bHkgZGVjbGFyZWQgZGVmaW5pdGlvbiBvYmplY3QKICAgIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cAogICAgLy8gdGhlIG9iamVjdCBoZXJlLgogICAgdmFyIGRhdGFEZWYgPSB7fTsKICAgIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGF0YSB9OwogICAgdmFyIHByb3BzRGVmID0ge307CiAgICBwcm9wc0RlZi5nZXQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9wcm9wcyB9OwogICAgewogICAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0F2b2lkIHJlcGxhY2luZyBpbnN0YW5jZSByb290ICRkYXRhLiAnICsKICAgICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsCiAgICAgICAgICB0aGlzCiAgICAgICAgKTsKICAgICAgfTsKICAgICAgcHJvcHNEZWYuc2V0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdhcm4oIiRwcm9wcyBpcyByZWFkb25seS4iLCB0aGlzKTsKICAgICAgfTsKICAgIH0KICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJHByb3BzJywgcHJvcHNEZWYpOwoKICAgIFZ1ZS5wcm90b3R5cGUuJHNldCA9IHNldDsKICAgIFZ1ZS5wcm90b3R5cGUuJGRlbGV0ZSA9IGRlbDsKCiAgICBWdWUucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uICgKICAgICAgZXhwT3JGbiwKICAgICAgY2IsCiAgICAgIG9wdGlvbnMKICAgICkgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICBpZiAoaXNQbGFpbk9iamVjdChjYikpIHsKICAgICAgICByZXR1cm4gY3JlYXRlV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpCiAgICAgIH0KICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgIG9wdGlvbnMudXNlciA9IHRydWU7CiAgICAgIHZhciB3YXRjaGVyID0gbmV3IFdhdGNoZXIodm0sIGV4cE9yRm4sIGNiLCBvcHRpb25zKTsKICAgICAgaWYgKG9wdGlvbnMuaW1tZWRpYXRlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNiLmNhbGwodm0sIHdhdGNoZXIudmFsdWUpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgdm0sICgiY2FsbGJhY2sgZm9yIGltbWVkaWF0ZSB3YXRjaGVyIFwiIiArICh3YXRjaGVyLmV4cHJlc3Npb24pICsgIlwiIikpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZnVuY3Rpb24gdW53YXRjaEZuICgpIHsKICAgICAgICB3YXRjaGVyLnRlYXJkb3duKCk7CiAgICAgIH0KICAgIH07CiAgfQoKICAvKiAgKi8KCiAgdmFyIHVpZCQzID0gMDsKCiAgZnVuY3Rpb24gaW5pdE1peGluIChWdWUpIHsKICAgIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICB2YXIgdm0gPSB0aGlzOwogICAgICAvLyBhIHVpZAogICAgICB2bS5fdWlkID0gdWlkJDMrKzsKCiAgICAgIHZhciBzdGFydFRhZywgZW5kVGFnOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7CiAgICAgICAgc3RhcnRUYWcgPSAidnVlLXBlcmYtc3RhcnQ6IiArICh2bS5fdWlkKTsKICAgICAgICBlbmRUYWcgPSAidnVlLXBlcmYtZW5kOiIgKyAodm0uX3VpZCk7CiAgICAgICAgbWFyayhzdGFydFRhZyk7CiAgICAgIH0KCiAgICAgIC8vIGEgZmxhZyB0byBhdm9pZCB0aGlzIGJlaW5nIG9ic2VydmVkCiAgICAgIHZtLl9pc1Z1ZSA9IHRydWU7CiAgICAgIC8vIG1lcmdlIG9wdGlvbnMKICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHsKICAgICAgICAvLyBvcHRpbWl6ZSBpbnRlcm5hbCBjb21wb25lbnQgaW5zdGFudGlhdGlvbgogICAgICAgIC8vIHNpbmNlIGR5bmFtaWMgb3B0aW9ucyBtZXJnaW5nIGlzIHByZXR0eSBzbG93LCBhbmQgbm9uZSBvZiB0aGUKICAgICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC4KICAgICAgICBpbml0SW50ZXJuYWxDb21wb25lbnQodm0sIG9wdGlvbnMpOwogICAgICB9IGVsc2UgewogICAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKAogICAgICAgICAgcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyh2bS5jb25zdHJ1Y3RvciksCiAgICAgICAgICBvcHRpb25zIHx8IHt9LAogICAgICAgICAgdm0KICAgICAgICApOwogICAgICB9CiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICAgIHsKICAgICAgICBpbml0UHJveHkodm0pOwogICAgICB9CiAgICAgIC8vIGV4cG9zZSByZWFsIHNlbGYKICAgICAgdm0uX3NlbGYgPSB2bTsKICAgICAgaW5pdExpZmVjeWNsZSh2bSk7CiAgICAgIGluaXRFdmVudHModm0pOwogICAgICBpbml0UmVuZGVyKHZtKTsKICAgICAgY2FsbEhvb2sodm0sICdiZWZvcmVDcmVhdGUnKTsKICAgICAgaW5pdEluamVjdGlvbnModm0pOyAvLyByZXNvbHZlIGluamVjdGlvbnMgYmVmb3JlIGRhdGEvcHJvcHMKICAgICAgaW5pdFN0YXRlKHZtKTsKICAgICAgaW5pdFByb3ZpZGUodm0pOyAvLyByZXNvbHZlIHByb3ZpZGUgYWZ0ZXIgZGF0YS9wcm9wcwogICAgICBjYWxsSG9vayh2bSwgJ2NyZWF0ZWQnKTsKCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHsKICAgICAgICB2bS5fbmFtZSA9IGZvcm1hdENvbXBvbmVudE5hbWUodm0sIGZhbHNlKTsKICAgICAgICBtYXJrKGVuZFRhZyk7CiAgICAgICAgbWVhc3VyZSgoInZ1ZSAiICsgKHZtLl9uYW1lKSArICIgaW5pdCIpLCBzdGFydFRhZywgZW5kVGFnKTsKICAgICAgfQoKICAgICAgaWYgKHZtLiRvcHRpb25zLmVsKSB7CiAgICAgICAgdm0uJG1vdW50KHZtLiRvcHRpb25zLmVsKTsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGluaXRJbnRlcm5hbENvbXBvbmVudCAodm0sIG9wdGlvbnMpIHsKICAgIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpOwogICAgLy8gZG9pbmcgdGhpcyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZHluYW1pYyBlbnVtZXJhdGlvbi4KICAgIHZhciBwYXJlbnRWbm9kZSA9IG9wdGlvbnMuX3BhcmVudFZub2RlOwogICAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDsKICAgIG9wdHMuX3BhcmVudFZub2RlID0gcGFyZW50Vm5vZGU7CgogICAgdmFyIHZub2RlQ29tcG9uZW50T3B0aW9ucyA9IHBhcmVudFZub2RlLmNvbXBvbmVudE9wdGlvbnM7CiAgICBvcHRzLnByb3BzRGF0YSA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGE7CiAgICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzOwogICAgb3B0cy5fcmVuZGVyQ2hpbGRyZW4gPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMuY2hpbGRyZW47CiAgICBvcHRzLl9jb21wb25lbnRUYWcgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMudGFnOwoKICAgIGlmIChvcHRpb25zLnJlbmRlcikgewogICAgICBvcHRzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyOwogICAgICBvcHRzLnN0YXRpY1JlbmRlckZucyA9IG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyAoQ3RvcikgewogICAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7CiAgICBpZiAoQ3Rvci5zdXBlcikgewogICAgICB2YXIgc3VwZXJPcHRpb25zID0gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yLnN1cGVyKTsKICAgICAgdmFyIGNhY2hlZFN1cGVyT3B0aW9ucyA9IEN0b3Iuc3VwZXJPcHRpb25zOwogICAgICBpZiAoc3VwZXJPcHRpb25zICE9PSBjYWNoZWRTdXBlck9wdGlvbnMpIHsKICAgICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZCwKICAgICAgICAvLyBuZWVkIHRvIHJlc29sdmUgbmV3IG9wdGlvbnMuCiAgICAgICAgQ3Rvci5zdXBlck9wdGlvbnMgPSBzdXBlck9wdGlvbnM7CiAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBsYXRlLW1vZGlmaWVkL2F0dGFjaGVkIG9wdGlvbnMgKCM0OTc2KQogICAgICAgIHZhciBtb2RpZmllZE9wdGlvbnMgPSByZXNvbHZlTW9kaWZpZWRPcHRpb25zKEN0b3IpOwogICAgICAgIC8vIHVwZGF0ZSBiYXNlIGV4dGVuZCBvcHRpb25zCiAgICAgICAgaWYgKG1vZGlmaWVkT3B0aW9ucykgewogICAgICAgICAgZXh0ZW5kKEN0b3IuZXh0ZW5kT3B0aW9ucywgbW9kaWZpZWRPcHRpb25zKTsKICAgICAgICB9CiAgICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7CiAgICAgICAgaWYgKG9wdGlvbnMubmFtZSkgewogICAgICAgICAgb3B0aW9ucy5jb21wb25lbnRzW29wdGlvbnMubmFtZV0gPSBDdG9yOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG9wdGlvbnMKICB9CgogIGZ1bmN0aW9uIHJlc29sdmVNb2RpZmllZE9wdGlvbnMgKEN0b3IpIHsKICAgIHZhciBtb2RpZmllZDsKICAgIHZhciBsYXRlc3QgPSBDdG9yLm9wdGlvbnM7CiAgICB2YXIgc2VhbGVkID0gQ3Rvci5zZWFsZWRPcHRpb25zOwogICAgZm9yICh2YXIga2V5IGluIGxhdGVzdCkgewogICAgICBpZiAobGF0ZXN0W2tleV0gIT09IHNlYWxlZFtrZXldKSB7CiAgICAgICAgaWYgKCFtb2RpZmllZCkgeyBtb2RpZmllZCA9IHt9OyB9CiAgICAgICAgbW9kaWZpZWRba2V5XSA9IGxhdGVzdFtrZXldOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gbW9kaWZpZWQKICB9CgogIGZ1bmN0aW9uIFZ1ZSAob3B0aW9ucykgewogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFZ1ZSkKICAgICkgewogICAgICB3YXJuKCdWdWUgaXMgYSBjb25zdHJ1Y3RvciBhbmQgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIHRoZSBgbmV3YCBrZXl3b3JkJyk7CiAgICB9CiAgICB0aGlzLl9pbml0KG9wdGlvbnMpOwogIH0KCiAgaW5pdE1peGluKFZ1ZSk7CiAgc3RhdGVNaXhpbihWdWUpOwogIGV2ZW50c01peGluKFZ1ZSk7CiAgbGlmZWN5Y2xlTWl4aW4oVnVlKTsKICByZW5kZXJNaXhpbihWdWUpOwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdFVzZSAoVnVlKSB7CiAgICBWdWUudXNlID0gZnVuY3Rpb24gKHBsdWdpbikgewogICAgICB2YXIgaW5zdGFsbGVkUGx1Z2lucyA9ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zIHx8ICh0aGlzLl9pbnN0YWxsZWRQbHVnaW5zID0gW10pKTsKICAgICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaW5kZXhPZihwbHVnaW4pID4gLTEpIHsKICAgICAgICByZXR1cm4gdGhpcwogICAgICB9CgogICAgICAvLyBhZGRpdGlvbmFsIHBhcmFtZXRlcnMKICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7CiAgICAgIGFyZ3MudW5zaGlmdCh0aGlzKTsKICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uaW5zdGFsbCA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7CiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHBsdWdpbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHBsdWdpbi5hcHBseShudWxsLCBhcmdzKTsKICAgICAgfQogICAgICBpbnN0YWxsZWRQbHVnaW5zLnB1c2gocGx1Z2luKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdE1peGluJDEgKFZ1ZSkgewogICAgVnVlLm1peGluID0gZnVuY3Rpb24gKG1peGluKSB7CiAgICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7CiAgICAvKioKICAgICAqIEVhY2ggaW5zdGFuY2UgY29uc3RydWN0b3IsIGluY2x1ZGluZyBWdWUsIGhhcyBhIHVuaXF1ZQogICAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgImNoaWxkCiAgICAgKiBjb25zdHJ1Y3RvcnMiIGZvciBwcm90b3R5cGFsIGluaGVyaXRhbmNlIGFuZCBjYWNoZSB0aGVtLgogICAgICovCiAgICBWdWUuY2lkID0gMDsKICAgIHZhciBjaWQgPSAxOwoKICAgIC8qKgogICAgICogQ2xhc3MgaW5oZXJpdGFuY2UKICAgICAqLwogICAgVnVlLmV4dGVuZCA9IGZ1bmN0aW9uIChleHRlbmRPcHRpb25zKSB7CiAgICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9OwogICAgICB2YXIgU3VwZXIgPSB0aGlzOwogICAgICB2YXIgU3VwZXJJZCA9IFN1cGVyLmNpZDsKICAgICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTsKICAgICAgaWYgKGNhY2hlZEN0b3JzW1N1cGVySWRdKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlZEN0b3JzW1N1cGVySWRdCiAgICAgIH0KCiAgICAgIHZhciBuYW1lID0gZXh0ZW5kT3B0aW9ucy5uYW1lIHx8IFN1cGVyLm9wdGlvbnMubmFtZTsKICAgICAgaWYgKG5hbWUpIHsKICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSk7CiAgICAgIH0KCiAgICAgIHZhciBTdWIgPSBmdW5jdGlvbiBWdWVDb21wb25lbnQgKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLl9pbml0KG9wdGlvbnMpOwogICAgICB9OwogICAgICBTdWIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdXBlci5wcm90b3R5cGUpOwogICAgICBTdWIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3ViOwogICAgICBTdWIuY2lkID0gY2lkKys7CiAgICAgIFN1Yi5vcHRpb25zID0gbWVyZ2VPcHRpb25zKAogICAgICAgIFN1cGVyLm9wdGlvbnMsCiAgICAgICAgZXh0ZW5kT3B0aW9ucwogICAgICApOwogICAgICBTdWJbJ3N1cGVyJ10gPSBTdXBlcjsKCiAgICAgIC8vIEZvciBwcm9wcyBhbmQgY29tcHV0ZWQgcHJvcGVydGllcywgd2UgZGVmaW5lIHRoZSBwcm94eSBnZXR0ZXJzIG9uCiAgICAgIC8vIHRoZSBWdWUgaW5zdGFuY2VzIGF0IGV4dGVuc2lvbiB0aW1lLCBvbiB0aGUgZXh0ZW5kZWQgcHJvdG90eXBlLiBUaGlzCiAgICAgIC8vIGF2b2lkcyBPYmplY3QuZGVmaW5lUHJvcGVydHkgY2FsbHMgZm9yIGVhY2ggaW5zdGFuY2UgY3JlYXRlZC4KICAgICAgaWYgKFN1Yi5vcHRpb25zLnByb3BzKSB7CiAgICAgICAgaW5pdFByb3BzJDEoU3ViKTsKICAgICAgfQogICAgICBpZiAoU3ViLm9wdGlvbnMuY29tcHV0ZWQpIHsKICAgICAgICBpbml0Q29tcHV0ZWQkMShTdWIpOwogICAgICB9CgogICAgICAvLyBhbGxvdyBmdXJ0aGVyIGV4dGVuc2lvbi9taXhpbi9wbHVnaW4gdXNhZ2UKICAgICAgU3ViLmV4dGVuZCA9IFN1cGVyLmV4dGVuZDsKICAgICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47CiAgICAgIFN1Yi51c2UgPSBTdXBlci51c2U7CgogICAgICAvLyBjcmVhdGUgYXNzZXQgcmVnaXN0ZXJzLCBzbyBleHRlbmRlZCBjbGFzc2VzCiAgICAgIC8vIGNhbiBoYXZlIHRoZWlyIHByaXZhdGUgYXNzZXRzIHRvby4KICAgICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgICAgIFN1Ylt0eXBlXSA9IFN1cGVyW3R5cGVdOwogICAgICB9KTsKICAgICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cAogICAgICBpZiAobmFtZSkgewogICAgICAgIFN1Yi5vcHRpb25zLmNvbXBvbmVudHNbbmFtZV0gPSBTdWI7CiAgICAgIH0KCiAgICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuCiAgICAgIC8vIGxhdGVyIGF0IGluc3RhbnRpYXRpb24gd2UgY2FuIGNoZWNrIGlmIFN1cGVyJ3Mgb3B0aW9ucyBoYXZlCiAgICAgIC8vIGJlZW4gdXBkYXRlZC4KICAgICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7CiAgICAgIFN1Yi5leHRlbmRPcHRpb25zID0gZXh0ZW5kT3B0aW9uczsKICAgICAgU3ViLnNlYWxlZE9wdGlvbnMgPSBleHRlbmQoe30sIFN1Yi5vcHRpb25zKTsKCiAgICAgIC8vIGNhY2hlIGNvbnN0cnVjdG9yCiAgICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViOwogICAgICByZXR1cm4gU3ViCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gaW5pdFByb3BzJDEgKENvbXApIHsKICAgIHZhciBwcm9wcyA9IENvbXAub3B0aW9ucy5wcm9wczsKICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykgewogICAgICBwcm94eShDb21wLnByb3RvdHlwZSwgIl9wcm9wcyIsIGtleSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpbml0Q29tcHV0ZWQkMSAoQ29tcCkgewogICAgdmFyIGNvbXB1dGVkID0gQ29tcC5vcHRpb25zLmNvbXB1dGVkOwogICAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7CiAgICAgIGRlZmluZUNvbXB1dGVkKENvbXAucHJvdG90eXBlLCBrZXksIGNvbXB1dGVkW2tleV0pOwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGluaXRBc3NldFJlZ2lzdGVycyAoVnVlKSB7CiAgICAvKioKICAgICAqIENyZWF0ZSBhc3NldCByZWdpc3RyYXRpb24gbWV0aG9kcy4KICAgICAqLwogICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkgewogICAgICBWdWVbdHlwZV0gPSBmdW5jdGlvbiAoCiAgICAgICAgaWQsCiAgICAgICAgZGVmaW5pdGlvbgogICAgICApIHsKICAgICAgICBpZiAoIWRlZmluaXRpb24pIHsKICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgICAgaWYgKHR5cGUgPT09ICdjb21wb25lbnQnKSB7CiAgICAgICAgICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShpZCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodHlwZSA9PT0gJ2NvbXBvbmVudCcgJiYgaXNQbGFpbk9iamVjdChkZWZpbml0aW9uKSkgewogICAgICAgICAgICBkZWZpbml0aW9uLm5hbWUgPSBkZWZpbml0aW9uLm5hbWUgfHwgaWQ7CiAgICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHR5cGUgPT09ICdkaXJlY3RpdmUnICYmIHR5cGVvZiBkZWZpbml0aW9uID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9OwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5vcHRpb25zW3R5cGUgKyAncyddW2lkXSA9IGRlZmluaXRpb247CiAgICAgICAgICByZXR1cm4gZGVmaW5pdGlvbgogICAgICAgIH0KICAgICAgfTsKICAgIH0pOwogIH0KCiAgLyogICovCgoKCiAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZSAob3B0cykgewogICAgcmV0dXJuIG9wdHMgJiYgKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpCiAgfQoKICBmdW5jdGlvbiBtYXRjaGVzIChwYXR0ZXJuLCBuYW1lKSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShwYXR0ZXJuKSkgewogICAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTEKICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiBwYXR0ZXJuLnNwbGl0KCcsJykuaW5kZXhPZihuYW1lKSA+IC0xCiAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7CiAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobmFtZSkKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICByZXR1cm4gZmFsc2UKICB9CgogIGZ1bmN0aW9uIHBydW5lQ2FjaGUgKGtlZXBBbGl2ZUluc3RhbmNlLCBmaWx0ZXIpIHsKICAgIHZhciBjYWNoZSA9IGtlZXBBbGl2ZUluc3RhbmNlLmNhY2hlOwogICAgdmFyIGtleXMgPSBrZWVwQWxpdmVJbnN0YW5jZS5rZXlzOwogICAgdmFyIF92bm9kZSA9IGtlZXBBbGl2ZUluc3RhbmNlLl92bm9kZTsKICAgIGZvciAodmFyIGtleSBpbiBjYWNoZSkgewogICAgICB2YXIgY2FjaGVkTm9kZSA9IGNhY2hlW2tleV07CiAgICAgIGlmIChjYWNoZWROb2RlKSB7CiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlZE5vZGUuY29tcG9uZW50T3B0aW9ucyk7CiAgICAgICAgaWYgKG5hbWUgJiYgIWZpbHRlcihuYW1lKSkgewogICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXksIGtleXMsIF92bm9kZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKAogICAgY2FjaGUsCiAgICBrZXksCiAgICBrZXlzLAogICAgY3VycmVudAogICkgewogICAgdmFyIGNhY2hlZCQkMSA9IGNhY2hlW2tleV07CiAgICBpZiAoY2FjaGVkJCQxICYmICghY3VycmVudCB8fCBjYWNoZWQkJDEudGFnICE9PSBjdXJyZW50LnRhZykpIHsKICAgICAgY2FjaGVkJCQxLmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7CiAgICB9CiAgICBjYWNoZVtrZXldID0gbnVsbDsKICAgIHJlbW92ZShrZXlzLCBrZXkpOwogIH0KCiAgdmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldOwoKICB2YXIgS2VlcEFsaXZlID0gewogICAgbmFtZTogJ2tlZXAtYWxpdmUnLAogICAgYWJzdHJhY3Q6IHRydWUsCgogICAgcHJvcHM6IHsKICAgICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLAogICAgICBleGNsdWRlOiBwYXR0ZXJuVHlwZXMsCiAgICAgIG1heDogW1N0cmluZywgTnVtYmVyXQogICAgfSwKCiAgICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHsKICAgICAgdGhpcy5jYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICAgIHRoaXMua2V5cyA9IFtdOwogICAgfSwKCiAgICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmNhY2hlKSB7CiAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KHRoaXMuY2FjaGUsIGtleSwgdGhpcy5rZXlzKTsKICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkICgpIHsKICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7CgogICAgICB0aGlzLiR3YXRjaCgnaW5jbHVkZScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG1hdGNoZXModmFsLCBuYW1lKTsgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLiR3YXRjaCgnZXhjbHVkZScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFtYXRjaGVzKHZhbCwgbmFtZSk7IH0pOwogICAgICB9KTsKICAgIH0sCgogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKCkgewogICAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7CiAgICAgIHZhciB2bm9kZSA9IGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoc2xvdCk7CiAgICAgIHZhciBjb21wb25lbnRPcHRpb25zID0gdm5vZGUgJiYgdm5vZGUuY29tcG9uZW50T3B0aW9uczsKICAgICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHsKICAgICAgICAvLyBjaGVjayBwYXR0ZXJuCiAgICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNvbXBvbmVudE9wdGlvbnMpOwogICAgICAgIHZhciByZWYgPSB0aGlzOwogICAgICAgIHZhciBpbmNsdWRlID0gcmVmLmluY2x1ZGU7CiAgICAgICAgdmFyIGV4Y2x1ZGUgPSByZWYuZXhjbHVkZTsKICAgICAgICBpZiAoCiAgICAgICAgICAvLyBub3QgaW5jbHVkZWQKICAgICAgICAgIChpbmNsdWRlICYmICghbmFtZSB8fCAhbWF0Y2hlcyhpbmNsdWRlLCBuYW1lKSkpIHx8CiAgICAgICAgICAvLyBleGNsdWRlZAogICAgICAgICAgKGV4Y2x1ZGUgJiYgbmFtZSAmJiBtYXRjaGVzKGV4Y2x1ZGUsIG5hbWUpKQogICAgICAgICkgewogICAgICAgICAgcmV0dXJuIHZub2RlCiAgICAgICAgfQoKICAgICAgICB2YXIgcmVmJDEgPSB0aGlzOwogICAgICAgIHZhciBjYWNoZSA9IHJlZiQxLmNhY2hlOwogICAgICAgIHZhciBrZXlzID0gcmVmJDEua2V5czsKICAgICAgICB2YXIga2V5ID0gdm5vZGUua2V5ID09IG51bGwKICAgICAgICAgIC8vIHNhbWUgY29uc3RydWN0b3IgbWF5IGdldCByZWdpc3RlcmVkIGFzIGRpZmZlcmVudCBsb2NhbCBjb21wb25lbnRzCiAgICAgICAgICAvLyBzbyBjaWQgYWxvbmUgaXMgbm90IGVub3VnaCAoIzMyNjkpCiAgICAgICAgICA/IGNvbXBvbmVudE9wdGlvbnMuQ3Rvci5jaWQgKyAoY29tcG9uZW50T3B0aW9ucy50YWcgPyAoIjo6IiArIChjb21wb25lbnRPcHRpb25zLnRhZykpIDogJycpCiAgICAgICAgICA6IHZub2RlLmtleTsKICAgICAgICBpZiAoY2FjaGVba2V5XSkgewogICAgICAgICAgdm5vZGUuY29tcG9uZW50SW5zdGFuY2UgPSBjYWNoZVtrZXldLmNvbXBvbmVudEluc3RhbmNlOwogICAgICAgICAgLy8gbWFrZSBjdXJyZW50IGtleSBmcmVzaGVzdAogICAgICAgICAgcmVtb3ZlKGtleXMsIGtleSk7CiAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FjaGVba2V5XSA9IHZub2RlOwogICAgICAgICAga2V5cy5wdXNoKGtleSk7CiAgICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnkKICAgICAgICAgIGlmICh0aGlzLm1heCAmJiBrZXlzLmxlbmd0aCA+IHBhcnNlSW50KHRoaXMubWF4KSkgewogICAgICAgICAgICBwcnVuZUNhY2hlRW50cnkoY2FjaGUsIGtleXNbMF0sIGtleXMsIHRoaXMuX3Zub2RlKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZub2RlLmRhdGEua2VlcEFsaXZlID0gdHJ1ZTsKICAgICAgfQogICAgICByZXR1cm4gdm5vZGUgfHwgKHNsb3QgJiYgc2xvdFswXSkKICAgIH0KICB9OwoKICB2YXIgYnVpbHRJbkNvbXBvbmVudHMgPSB7CiAgICBLZWVwQWxpdmU6IEtlZXBBbGl2ZQogIH07CgogIC8qICAqLwoKICBmdW5jdGlvbiBpbml0R2xvYmFsQVBJIChWdWUpIHsKICAgIC8vIGNvbmZpZwogICAgdmFyIGNvbmZpZ0RlZiA9IHt9OwogICAgY29uZmlnRGVmLmdldCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmZpZzsgfTsKICAgIHsKICAgICAgY29uZmlnRGVmLnNldCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0RvIG5vdCByZXBsYWNlIHRoZSBWdWUuY29uZmlnIG9iamVjdCwgc2V0IGluZGl2aWR1YWwgZmllbGRzIGluc3RlYWQuJwogICAgICAgICk7CiAgICAgIH07CiAgICB9CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnY29uZmlnJywgY29uZmlnRGVmKTsKCiAgICAvLyBleHBvc2VkIHV0aWwgbWV0aG9kcy4KICAgIC8vIE5PVEU6IHRoZXNlIGFyZSBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJIC0gYXZvaWQgcmVseWluZyBvbgogICAgLy8gdGhlbSB1bmxlc3MgeW91IGFyZSBhd2FyZSBvZiB0aGUgcmlzay4KICAgIFZ1ZS51dGlsID0gewogICAgICB3YXJuOiB3YXJuLAogICAgICBleHRlbmQ6IGV4dGVuZCwKICAgICAgbWVyZ2VPcHRpb25zOiBtZXJnZU9wdGlvbnMsCiAgICAgIGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMQogICAgfTsKCiAgICBWdWUuc2V0ID0gc2V0OwogICAgVnVlLmRlbGV0ZSA9IGRlbDsKICAgIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrOwoKICAgIC8vIDIuNiBleHBsaWNpdCBvYnNlcnZhYmxlIEFQSQogICAgVnVlLm9ic2VydmFibGUgPSBmdW5jdGlvbiAob2JqKSB7CiAgICAgIG9ic2VydmUob2JqKTsKICAgICAgcmV0dXJuIG9iagogICAgfTsKCiAgICBWdWUub3B0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBBU1NFVF9UWVBFUy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIH0pOwoKICAgIC8vIHRoaXMgaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgImJhc2UiIGNvbnN0cnVjdG9yIHRvIGV4dGVuZCBhbGwgcGxhaW4tb2JqZWN0CiAgICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy4KICAgIFZ1ZS5vcHRpb25zLl9iYXNlID0gVnVlOwoKICAgIGV4dGVuZChWdWUub3B0aW9ucy5jb21wb25lbnRzLCBidWlsdEluQ29tcG9uZW50cyk7CgogICAgaW5pdFVzZShWdWUpOwogICAgaW5pdE1peGluJDEoVnVlKTsKICAgIGluaXRFeHRlbmQoVnVlKTsKICAgIGluaXRBc3NldFJlZ2lzdGVycyhWdWUpOwogIH0KCiAgaW5pdEdsb2JhbEFQSShWdWUpOwoKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRpc1NlcnZlcicsIHsKICAgIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmcKICB9KTsKCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckc3NyQ29udGV4dCcsIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0ICgpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgICAgcmV0dXJuIHRoaXMuJHZub2RlICYmIHRoaXMuJHZub2RlLnNzckNvbnRleHQKICAgIH0KICB9KTsKCiAgLy8gZXhwb3NlIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IGZvciBzc3IgcnVudGltZSBoZWxwZXIgaW5zdGFsbGF0aW9uCiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ0Z1bmN0aW9uYWxSZW5kZXJDb250ZXh0JywgewogICAgdmFsdWU6IEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0CiAgfSk7CgogIFZ1ZS52ZXJzaW9uID0gJzIuNi4xMCc7CgogIC8qICAqLwoKICAvLyB0aGVzZSBhcmUgcmVzZXJ2ZWQgZm9yIHdlYiBiZWNhdXNlIHRoZXkgYXJlIGRpcmVjdGx5IGNvbXBpbGVkIGF3YXkKICAvLyBkdXJpbmcgdGVtcGxhdGUgY29tcGlsYXRpb24KICB2YXIgaXNSZXNlcnZlZEF0dHIgPSBtYWtlTWFwKCdzdHlsZSxjbGFzcycpOwoKICAvLyBhdHRyaWJ1dGVzIHRoYXQgc2hvdWxkIGJlIHVzaW5nIHByb3BzIGZvciBiaW5kaW5nCiAgdmFyIGFjY2VwdFZhbHVlID0gbWFrZU1hcCgnaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcycpOwogIHZhciBtdXN0VXNlUHJvcCA9IGZ1bmN0aW9uICh0YWcsIHR5cGUsIGF0dHIpIHsKICAgIHJldHVybiAoCiAgICAgIChhdHRyID09PSAndmFsdWUnICYmIGFjY2VwdFZhbHVlKHRhZykpICYmIHR5cGUgIT09ICdidXR0b24nIHx8CiAgICAgIChhdHRyID09PSAnc2VsZWN0ZWQnICYmIHRhZyA9PT0gJ29wdGlvbicpIHx8CiAgICAgIChhdHRyID09PSAnY2hlY2tlZCcgJiYgdGFnID09PSAnaW5wdXQnKSB8fAogICAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpCiAgICApCiAgfTsKCiAgdmFyIGlzRW51bWVyYXRlZEF0dHIgPSBtYWtlTWFwKCdjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2snKTsKCiAgdmFyIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSA9IG1ha2VNYXAoJ2V2ZW50cyxjYXJldCx0eXBpbmcscGxhaW50ZXh0LW9ubHknKTsKCiAgdmFyIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgewogICAgcmV0dXJuIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnCiAgICAgID8gJ2ZhbHNlJwogICAgICAvLyBhbGxvdyBhcmJpdHJhcnkgc3RyaW5nIHZhbHVlIGZvciBjb250ZW50ZWRpdGFibGUKICAgICAgOiBrZXkgPT09ICdjb250ZW50ZWRpdGFibGUnICYmIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSh2YWx1ZSkKICAgICAgICA/IHZhbHVlCiAgICAgICAgOiAndHJ1ZScKICB9OwoKICB2YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoCiAgICAnYWxsb3dmdWxsc2NyZWVuLGFzeW5jLGF1dG9mb2N1cyxhdXRvcGxheSxjaGVja2VkLGNvbXBhY3QsY29udHJvbHMsZGVjbGFyZSwnICsKICAgICdkZWZhdWx0LGRlZmF1bHRjaGVja2VkLGRlZmF1bHRtdXRlZCxkZWZhdWx0c2VsZWN0ZWQsZGVmZXIsZGlzYWJsZWQsJyArCiAgICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICsKICAgICdtdXRlZCxub2hyZWYsbm9yZXNpemUsbm9zaGFkZSxub3ZhbGlkYXRlLG5vd3JhcCxvcGVuLHBhdXNlb25leGl0LHJlYWRvbmx5LCcgKwogICAgJ3JlcXVpcmVkLHJldmVyc2VkLHNjb3BlZCxzZWFtbGVzcyxzZWxlY3RlZCxzb3J0YWJsZSx0cmFuc2xhdGUsJyArCiAgICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZScKICApOwoKICB2YXIgeGxpbmtOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJzsKCiAgdmFyIGlzWGxpbmsgPSBmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIG5hbWUuY2hhckF0KDUpID09PSAnOicgJiYgbmFtZS5zbGljZSgwLCA1KSA9PT0gJ3hsaW5rJwogIH07CgogIHZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIGlzWGxpbmsobmFtZSkgPyBuYW1lLnNsaWNlKDYsIG5hbWUubGVuZ3RoKSA6ICcnCiAgfTsKCiAgdmFyIGlzRmFsc3lBdHRyVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7CiAgICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZQogIH07CgogIC8qICAqLwoKICBmdW5jdGlvbiBnZW5DbGFzc0ZvclZub2RlICh2bm9kZSkgewogICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTsKICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTsKICAgIHdoaWxlIChpc0RlZihjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7CiAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7CiAgICAgIGlmIChjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEpIHsKICAgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoY2hpbGROb2RlLmRhdGEsIGRhdGEpOwogICAgICB9CiAgICB9CiAgICB3aGlsZSAoaXNEZWYocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkgewogICAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmRhdGEpIHsKICAgICAgICBkYXRhID0gbWVyZ2VDbGFzc0RhdGEoZGF0YSwgcGFyZW50Tm9kZS5kYXRhKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlbmRlckNsYXNzKGRhdGEuc3RhdGljQ2xhc3MsIGRhdGEuY2xhc3MpCiAgfQoKICBmdW5jdGlvbiBtZXJnZUNsYXNzRGF0YSAoY2hpbGQsIHBhcmVudCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGljQ2xhc3M6IGNvbmNhdChjaGlsZC5zdGF0aWNDbGFzcywgcGFyZW50LnN0YXRpY0NsYXNzKSwKICAgICAgY2xhc3M6IGlzRGVmKGNoaWxkLmNsYXNzKQogICAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdCiAgICAgICAgOiBwYXJlbnQuY2xhc3MKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbmRlckNsYXNzICgKICAgIHN0YXRpY0NsYXNzLAogICAgZHluYW1pY0NsYXNzCiAgKSB7CiAgICBpZiAoaXNEZWYoc3RhdGljQ2xhc3MpIHx8IGlzRGVmKGR5bmFtaWNDbGFzcykpIHsKICAgICAgcmV0dXJuIGNvbmNhdChzdGF0aWNDbGFzcywgc3RyaW5naWZ5Q2xhc3MoZHluYW1pY0NsYXNzKSkKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgICByZXR1cm4gJycKICB9CgogIGZ1bmN0aW9uIGNvbmNhdCAoYSwgYikgewogICAgcmV0dXJuIGEgPyBiID8gKGEgKyAnICcgKyBiKSA6IGEgOiAoYiB8fCAnJykKICB9CgogIGZ1bmN0aW9uIHN0cmluZ2lmeUNsYXNzICh2YWx1ZSkgewogICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgIHJldHVybiBzdHJpbmdpZnlBcnJheSh2YWx1ZSkKICAgIH0KICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIHN0cmluZ2lmeU9iamVjdCh2YWx1ZSkKICAgIH0KICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7CiAgICAgIHJldHVybiB2YWx1ZQogICAgfQogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHJldHVybiAnJwogIH0KCiAgZnVuY3Rpb24gc3RyaW5naWZ5QXJyYXkgKHZhbHVlKSB7CiAgICB2YXIgcmVzID0gJyc7CiAgICB2YXIgc3RyaW5naWZpZWQ7CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAoaXNEZWYoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpICYmIHN0cmluZ2lmaWVkICE9PSAnJykgewogICAgICAgIGlmIChyZXMpIHsgcmVzICs9ICcgJzsgfQogICAgICAgIHJlcyArPSBzdHJpbmdpZmllZDsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gc3RyaW5naWZ5T2JqZWN0ICh2YWx1ZSkgewogICAgdmFyIHJlcyA9ICcnOwogICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZVtrZXldKSB7CiAgICAgICAgaWYgKHJlcykgeyByZXMgKz0gJyAnOyB9CiAgICAgICAgcmVzICs9IGtleTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgLyogICovCgogIHZhciBuYW1lc3BhY2VNYXAgPSB7CiAgICBzdmc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsCiAgICBtYXRoOiAnaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCcKICB9OwoKICB2YXIgaXNIVE1MVGFnID0gbWFrZU1hcCgKICAgICdodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSwnICsKICAgICdhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sJyArCiAgICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsJyArCiAgICAnYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LCcgKwogICAgJ3Msc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLCcgKwogICAgJ2VtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLCcgKwogICAgJ2NhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLCcgKwogICAgJ2J1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sJyArCiAgICAnb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSwnICsKICAgICdkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksJyArCiAgICAnY29udGVudCxlbGVtZW50LHNoYWRvdyx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCcKICApOwoKICAvLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXkKICAvLyBjb250YWluIGNoaWxkIGVsZW1lbnRzLgogIHZhciBpc1NWRyA9IG1ha2VNYXAoCiAgICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLCcgKwogICAgJ2ZvcmVpZ25PYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLCcgKwogICAgJ3BvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXcnLAogICAgdHJ1ZQogICk7CgogIHZhciBpc1ByZVRhZyA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHRhZyA9PT0gJ3ByZSc7IH07CgogIHZhciBpc1Jlc2VydmVkVGFnID0gZnVuY3Rpb24gKHRhZykgewogICAgcmV0dXJuIGlzSFRNTFRhZyh0YWcpIHx8IGlzU1ZHKHRhZykKICB9OwoKICBmdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykgewogICAgaWYgKGlzU1ZHKHRhZykpIHsKICAgICAgcmV0dXJuICdzdmcnCiAgICB9CiAgICAvLyBiYXNpYyBzdXBwb3J0IGZvciBNYXRoTUwKICAgIC8vIG5vdGUgaXQgZG9lc24ndCBzdXBwb3J0IG90aGVyIE1hdGhNTCBlbGVtZW50cyBiZWluZyBjb21wb25lbnQgcm9vdHMKICAgIGlmICh0YWcgPT09ICdtYXRoJykgewogICAgICByZXR1cm4gJ21hdGgnCiAgICB9CiAgfQoKICB2YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgZnVuY3Rpb24gaXNVbmtub3duRWxlbWVudCAodGFnKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICghaW5Ccm93c2VyKSB7CiAgICAgIHJldHVybiB0cnVlCiAgICB9CiAgICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7CiAgICAgIHJldHVybiBmYWxzZQogICAgfQogICAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gIT0gbnVsbCkgewogICAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddCiAgICB9CiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7CiAgICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7CiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI4MjEwMzY0LzEwNzAyNDQKICAgICAgcmV0dXJuICh1bmtub3duRWxlbWVudENhY2hlW3RhZ10gPSAoCiAgICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHwKICAgICAgICBlbC5jb25zdHJ1Y3RvciA9PT0gd2luZG93LkhUTUxFbGVtZW50CiAgICAgICkpCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gKHVua25vd25FbGVtZW50Q2FjaGVbdGFnXSA9IC9IVE1MVW5rbm93bkVsZW1lbnQvLnRlc3QoZWwudG9TdHJpbmcoKSkpCiAgICB9CiAgfQoKICB2YXIgaXNUZXh0SW5wdXRUeXBlID0gbWFrZU1hcCgndGV4dCxudW1iZXIscGFzc3dvcmQsc2VhcmNoLGVtYWlsLHRlbCx1cmwnKTsKCiAgLyogICovCgogIC8qKgogICAqIFF1ZXJ5IGFuIGVsZW1lbnQgc2VsZWN0b3IgaWYgaXQncyBub3QgYW4gZWxlbWVudCBhbHJlYWR5LgogICAqLwogIGZ1bmN0aW9uIHF1ZXJ5IChlbCkgewogICAgaWYgKHR5cGVvZiBlbCA9PT0gJ3N0cmluZycpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbCk7CiAgICAgIGlmICghc2VsZWN0ZWQpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJ0Nhbm5vdCBmaW5kIGVsZW1lbnQ6ICcgKyBlbAogICAgICAgICk7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpCiAgICAgIH0KICAgICAgcmV0dXJuIHNlbGVjdGVkCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gZWwKICAgIH0KICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50JDEgKHRhZ05hbWUsIHZub2RlKSB7CiAgICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTsKICAgIGlmICh0YWdOYW1lICE9PSAnc2VsZWN0JykgewogICAgICByZXR1cm4gZWxtCiAgICB9CiAgICAvLyBmYWxzZSBvciBudWxsIHdpbGwgcmVtb3ZlIHRoZSBhdHRyaWJ1dGUgYnV0IHVuZGVmaW5lZCB3aWxsIG5vdAogICAgaWYgKHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS5hdHRycyAmJiB2bm9kZS5kYXRhLmF0dHJzLm11bHRpcGxlICE9PSB1bmRlZmluZWQpIHsKICAgICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTsKICAgIH0KICAgIHJldHVybiBlbG0KICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZU1hcFtuYW1lc3BhY2VdLCB0YWdOYW1lKQogIH0KCiAgZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUgKHRleHQpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KQogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ29tbWVudCAodGV4dCkgewogICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQodGV4dCkKICB9CgogIGZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkgewogICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSk7CiAgfQoKICBmdW5jdGlvbiByZW1vdmVDaGlsZCAobm9kZSwgY2hpbGQpIHsKICAgIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpOwogIH0KCiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKG5vZGUsIGNoaWxkKSB7CiAgICBub2RlLmFwcGVuZENoaWxkKGNoaWxkKTsKICB9CgogIGZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHsKICAgIHJldHVybiBub2RlLnBhcmVudE5vZGUKICB9CgogIGZ1bmN0aW9uIG5leHRTaWJsaW5nIChub2RlKSB7CiAgICByZXR1cm4gbm9kZS5uZXh0U2libGluZwogIH0KCiAgZnVuY3Rpb24gdGFnTmFtZSAobm9kZSkgewogICAgcmV0dXJuIG5vZGUudGFnTmFtZQogIH0KCiAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHsKICAgIG5vZGUudGV4dENvbnRlbnQgPSB0ZXh0OwogIH0KCiAgZnVuY3Rpb24gc2V0U3R5bGVTY29wZSAobm9kZSwgc2NvcGVJZCkgewogICAgbm9kZS5zZXRBdHRyaWJ1dGUoc2NvcGVJZCwgJycpOwogIH0KCiAgdmFyIG5vZGVPcHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7CiAgICBjcmVhdGVFbGVtZW50OiBjcmVhdGVFbGVtZW50JDEsCiAgICBjcmVhdGVFbGVtZW50TlM6IGNyZWF0ZUVsZW1lbnROUywKICAgIGNyZWF0ZVRleHROb2RlOiBjcmVhdGVUZXh0Tm9kZSwKICAgIGNyZWF0ZUNvbW1lbnQ6IGNyZWF0ZUNvbW1lbnQsCiAgICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSwKICAgIHJlbW92ZUNoaWxkOiByZW1vdmVDaGlsZCwKICAgIGFwcGVuZENoaWxkOiBhcHBlbmRDaGlsZCwKICAgIHBhcmVudE5vZGU6IHBhcmVudE5vZGUsCiAgICBuZXh0U2libGluZzogbmV4dFNpYmxpbmcsCiAgICB0YWdOYW1lOiB0YWdOYW1lLAogICAgc2V0VGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LAogICAgc2V0U3R5bGVTY29wZTogc2V0U3R5bGVTY29wZQogIH0pOwoKICAvKiAgKi8KCiAgdmFyIHJlZiA9IHsKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkgewogICAgICByZWdpc3RlclJlZih2bm9kZSk7CiAgICB9LAogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkgewogICAgICBpZiAob2xkVm5vZGUuZGF0YS5yZWYgIT09IHZub2RlLmRhdGEucmVmKSB7CiAgICAgICAgcmVnaXN0ZXJSZWYob2xkVm5vZGUsIHRydWUpOwogICAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTsKICAgICAgfQogICAgfSwKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7CiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlLCB0cnVlKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkgewogICAgdmFyIGtleSA9IHZub2RlLmRhdGEucmVmOwogICAgaWYgKCFpc0RlZihrZXkpKSB7IHJldHVybiB9CgogICAgdmFyIHZtID0gdm5vZGUuY29udGV4dDsKICAgIHZhciByZWYgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSB8fCB2bm9kZS5lbG07CiAgICB2YXIgcmVmcyA9IHZtLiRyZWZzOwogICAgaWYgKGlzUmVtb3ZhbCkgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7CiAgICAgICAgcmVtb3ZlKHJlZnNba2V5XSwgcmVmKTsKICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0gPT09IHJlZikgewogICAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHsKICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkocmVmc1trZXldKSkgewogICAgICAgICAgcmVmc1trZXldID0gW3JlZl07CiAgICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0uaW5kZXhPZihyZWYpIDwgMCkgewogICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICAgICAgICByZWZzW2tleV0ucHVzaChyZWYpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZWZzW2tleV0gPSByZWY7CiAgICAgIH0KICAgIH0KICB9CgogIC8qKgogICAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieQogICAqIFNpbW9uIEZyaWlzIFZpbmR1bSAoQHBhbGRlcGluZCkKICAgKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UKICAgKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0UKICAgKgogICAqIG1vZGlmaWVkIGJ5IEV2YW4gWW91IChAeXl4OTkwODAzKQogICAqCiAgICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBiZWNhdXNlIHRoaXMgZmlsZSBpcyBwZXJmLWNyaXRpY2FsIGFuZCB0aGUgY29zdAogICAqIG9mIG1ha2luZyBmbG93IHVuZGVyc3RhbmQgaXQgaXMgbm90IHdvcnRoIGl0LgogICAqLwoKICB2YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pOwoKICB2YXIgaG9va3MgPSBbJ2NyZWF0ZScsICdhY3RpdmF0ZScsICd1cGRhdGUnLCAncmVtb3ZlJywgJ2Rlc3Ryb3knXTsKCiAgZnVuY3Rpb24gc2FtZVZub2RlIChhLCBiKSB7CiAgICByZXR1cm4gKAogICAgICBhLmtleSA9PT0gYi5rZXkgJiYgKAogICAgICAgICgKICAgICAgICAgIGEudGFnID09PSBiLnRhZyAmJgogICAgICAgICAgYS5pc0NvbW1lbnQgPT09IGIuaXNDb21tZW50ICYmCiAgICAgICAgICBpc0RlZihhLmRhdGEpID09PSBpc0RlZihiLmRhdGEpICYmCiAgICAgICAgICBzYW1lSW5wdXRUeXBlKGEsIGIpCiAgICAgICAgKSB8fCAoCiAgICAgICAgICBpc1RydWUoYS5pc0FzeW5jUGxhY2Vob2xkZXIpICYmCiAgICAgICAgICBhLmFzeW5jRmFjdG9yeSA9PT0gYi5hc3luY0ZhY3RvcnkgJiYKICAgICAgICAgIGlzVW5kZWYoYi5hc3luY0ZhY3RvcnkuZXJyb3IpCiAgICAgICAgKQogICAgICApCiAgICApCiAgfQoKICBmdW5jdGlvbiBzYW1lSW5wdXRUeXBlIChhLCBiKSB7CiAgICBpZiAoYS50YWcgIT09ICdpbnB1dCcpIHsgcmV0dXJuIHRydWUgfQogICAgdmFyIGk7CiAgICB2YXIgdHlwZUEgPSBpc0RlZihpID0gYS5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlOwogICAgdmFyIHR5cGVCID0gaXNEZWYoaSA9IGIuZGF0YSkgJiYgaXNEZWYoaSA9IGkuYXR0cnMpICYmIGkudHlwZTsKICAgIHJldHVybiB0eXBlQSA9PT0gdHlwZUIgfHwgaXNUZXh0SW5wdXRUeXBlKHR5cGVBKSAmJiBpc1RleHRJbnB1dFR5cGUodHlwZUIpCiAgfQoKICBmdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHsKICAgIHZhciBpLCBrZXk7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkgewogICAgICBrZXkgPSBjaGlsZHJlbltpXS5rZXk7CiAgICAgIGlmIChpc0RlZihrZXkpKSB7IG1hcFtrZXldID0gaTsgfQogICAgfQogICAgcmV0dXJuIG1hcAogIH0KCiAgZnVuY3Rpb24gY3JlYXRlUGF0Y2hGdW5jdGlvbiAoYmFja2VuZCkgewogICAgdmFyIGksIGo7CiAgICB2YXIgY2JzID0ge307CgogICAgdmFyIG1vZHVsZXMgPSBiYWNrZW5kLm1vZHVsZXM7CiAgICB2YXIgbm9kZU9wcyA9IGJhY2tlbmQubm9kZU9wczsKCiAgICBmb3IgKGkgPSAwOyBpIDwgaG9va3MubGVuZ3RoOyArK2kpIHsKICAgICAgY2JzW2hvb2tzW2ldXSA9IFtdOwogICAgICBmb3IgKGogPSAwOyBqIDwgbW9kdWxlcy5sZW5ndGg7ICsraikgewogICAgICAgIGlmIChpc0RlZihtb2R1bGVzW2pdW2hvb2tzW2ldXSkpIHsKICAgICAgICAgIGNic1tob29rc1tpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzW2ldXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkgewogICAgICByZXR1cm4gbmV3IFZOb2RlKG5vZGVPcHMudGFnTmFtZShlbG0pLnRvTG93ZXJDYXNlKCksIHt9LCBbXSwgdW5kZWZpbmVkLCBlbG0pCiAgICB9CgogICAgZnVuY3Rpb24gY3JlYXRlUm1DYiAoY2hpbGRFbG0sIGxpc3RlbmVycykgewogICAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkgewogICAgICAgIGlmICgtLXJlbW92ZSQkMS5saXN0ZW5lcnMgPT09IDApIHsKICAgICAgICAgIHJlbW92ZU5vZGUoY2hpbGRFbG0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZW1vdmUkJDEubGlzdGVuZXJzID0gbGlzdGVuZXJzOwogICAgICByZXR1cm4gcmVtb3ZlJCQxCiAgICB9CgogICAgZnVuY3Rpb24gcmVtb3ZlTm9kZSAoZWwpIHsKICAgICAgdmFyIHBhcmVudCA9IG5vZGVPcHMucGFyZW50Tm9kZShlbCk7CiAgICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbCAvIHYtdGV4dAogICAgICBpZiAoaXNEZWYocGFyZW50KSkgewogICAgICAgIG5vZGVPcHMucmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBpc1Vua25vd25FbGVtZW50JCQxICh2bm9kZSwgaW5WUHJlKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgIWluVlByZSAmJgogICAgICAgICF2bm9kZS5ucyAmJgogICAgICAgICEoCiAgICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLmxlbmd0aCAmJgogICAgICAgICAgY29uZmlnLmlnbm9yZWRFbGVtZW50cy5zb21lKGZ1bmN0aW9uIChpZ25vcmUpIHsKICAgICAgICAgICAgcmV0dXJuIGlzUmVnRXhwKGlnbm9yZSkKICAgICAgICAgICAgICA/IGlnbm9yZS50ZXN0KHZub2RlLnRhZykKICAgICAgICAgICAgICA6IGlnbm9yZSA9PT0gdm5vZGUudGFnCiAgICAgICAgICB9KQogICAgICAgICkgJiYKICAgICAgICBjb25maWcuaXNVbmtub3duRWxlbWVudCh2bm9kZS50YWcpCiAgICAgICkKICAgIH0KCiAgICB2YXIgY3JlYXRpbmdFbG1JblZQcmUgPSAwOwoKICAgIGZ1bmN0aW9uIGNyZWF0ZUVsbSAoCiAgICAgIHZub2RlLAogICAgICBpbnNlcnRlZFZub2RlUXVldWUsCiAgICAgIHBhcmVudEVsbSwKICAgICAgcmVmRWxtLAogICAgICBuZXN0ZWQsCiAgICAgIG93bmVyQXJyYXksCiAgICAgIGluZGV4CiAgICApIHsKICAgICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHsKICAgICAgICAvLyBUaGlzIHZub2RlIHdhcyB1c2VkIGluIGEgcHJldmlvdXMgcmVuZGVyIQogICAgICAgIC8vIG5vdyBpdCdzIHVzZWQgYXMgYSBuZXcgbm9kZSwgb3ZlcndyaXRpbmcgaXRzIGVsbSB3b3VsZCBjYXVzZQogICAgICAgIC8vIHBvdGVudGlhbCBwYXRjaCBlcnJvcnMgZG93biB0aGUgcm9hZCB3aGVuIGl0J3MgdXNlZCBhcyBhbiBpbnNlcnRpb24KICAgICAgICAvLyByZWZlcmVuY2Ugbm9kZS4gSW5zdGVhZCwgd2UgY2xvbmUgdGhlIG5vZGUgb24tZGVtYW5kIGJlZm9yZSBjcmVhdGluZwogICAgICAgIC8vIGFzc29jaWF0ZWQgRE9NIGVsZW1lbnQgZm9yIGl0LgogICAgICAgIHZub2RlID0gb3duZXJBcnJheVtpbmRleF0gPSBjbG9uZVZOb2RlKHZub2RlKTsKICAgICAgfQoKICAgICAgdm5vZGUuaXNSb290SW5zZXJ0ID0gIW5lc3RlZDsgLy8gZm9yIHRyYW5zaXRpb24gZW50ZXIgY2hlY2sKICAgICAgaWYgKGNyZWF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSkpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgICB2YXIgY2hpbGRyZW4gPSB2bm9kZS5jaGlsZHJlbjsKICAgICAgdmFyIHRhZyA9IHZub2RlLnRhZzsKICAgICAgaWYgKGlzRGVmKHRhZykpIHsKICAgICAgICB7CiAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnByZSkgewogICAgICAgICAgICBjcmVhdGluZ0VsbUluVlByZSsrOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlzVW5rbm93bkVsZW1lbnQkJDEodm5vZGUsIGNyZWF0aW5nRWxtSW5WUHJlKSkgewogICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICdVbmtub3duIGN1c3RvbSBlbGVtZW50OiA8JyArIHRhZyArICc+IC0gZGlkIHlvdSAnICsKICAgICAgICAgICAgICAncmVnaXN0ZXIgdGhlIGNvbXBvbmVudCBjb3JyZWN0bHk/IEZvciByZWN1cnNpdmUgY29tcG9uZW50cywgJyArCiAgICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSAibmFtZSIgb3B0aW9uLicsCiAgICAgICAgICAgICAgdm5vZGUuY29udGV4dAogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdm5vZGUuZWxtID0gdm5vZGUubnMKICAgICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZykKICAgICAgICAgIDogbm9kZU9wcy5jcmVhdGVFbGVtZW50KHRhZywgdm5vZGUpOwogICAgICAgIHNldFNjb3BlKHZub2RlKTsKCiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgewogICAgICAgICAgY3JlYXRlQ2hpbGRyZW4odm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7CiAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgfQogICAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wcmUpIHsKICAgICAgICAgIGNyZWF0aW5nRWxtSW5WUHJlLS07CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKGlzVHJ1ZSh2bm9kZS5pc0NvbW1lbnQpKSB7CiAgICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVDb21tZW50KHZub2RlLnRleHQpOwogICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2bm9kZS5lbG0gPSBub2RlT3BzLmNyZWF0ZVRleHROb2RlKHZub2RlLnRleHQpOwogICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHsKICAgICAgdmFyIGkgPSB2bm9kZS5kYXRhOwogICAgICBpZiAoaXNEZWYoaSkpIHsKICAgICAgICB2YXIgaXNSZWFjdGl2YXRlZCA9IGlzRGVmKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSAmJiBpLmtlZXBBbGl2ZTsKICAgICAgICBpZiAoaXNEZWYoaSA9IGkuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHsKICAgICAgICAgIGkodm5vZGUsIGZhbHNlIC8qIGh5ZHJhdGluZyAqLyk7CiAgICAgICAgfQogICAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50CiAgICAgICAgLy8gaXQgc2hvdWxkJ3ZlIGNyZWF0ZWQgYSBjaGlsZCBpbnN0YW5jZSBhbmQgbW91bnRlZCBpdC4gdGhlIGNoaWxkCiAgICAgICAgLy8gY29tcG9uZW50IGFsc28gaGFzIHNldCB0aGUgcGxhY2Vob2xkZXIgdm5vZGUncyBlbG0uCiAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS4KICAgICAgICBpZiAoaXNEZWYodm5vZGUuY29tcG9uZW50SW5zdGFuY2UpKSB7CiAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pOwogICAgICAgICAgaWYgKGlzVHJ1ZShpc1JlYWN0aXZhdGVkKSkgewogICAgICAgICAgICByZWFjdGl2YXRlQ29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaW5pdENvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkgewogICAgICBpZiAoaXNEZWYodm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KSkgewogICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTsKICAgICAgICB2bm9kZS5kYXRhLnBlbmRpbmdJbnNlcnQgPSBudWxsOwogICAgICB9CiAgICAgIHZub2RlLmVsbSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLiRlbDsKICAgICAgaWYgKGlzUGF0Y2hhYmxlKHZub2RlKSkgewogICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIHNldFNjb3BlKHZub2RlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBlbXB0eSBjb21wb25lbnQgcm9vdC4KICAgICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpCiAgICAgICAgcmVnaXN0ZXJSZWYodm5vZGUpOwogICAgICAgIC8vIG1ha2Ugc3VyZSB0byBpbnZva2UgdGhlIGluc2VydCBob29rCiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcmVhY3RpdmF0ZUNvbXBvbmVudCAodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pIHsKICAgICAgdmFyIGk7CiAgICAgIC8vIGhhY2sgZm9yICM0MzM5OiBhIHJlYWN0aXZhdGVkIGNvbXBvbmVudCB3aXRoIGlubmVyIHRyYW5zaXRpb24KICAgICAgLy8gZG9lcyBub3QgdHJpZ2dlciBiZWNhdXNlIHRoZSBpbm5lciBub2RlJ3MgY3JlYXRlZCBob29rcyBhcmUgbm90IGNhbGxlZAogICAgICAvLyBhZ2Fpbi4gSXQncyBub3QgaWRlYWwgdG8gaW52b2x2ZSBtb2R1bGUtc3BlY2lmaWMgbG9naWMgaW4gaGVyZSBidXQKICAgICAgLy8gdGhlcmUgZG9lc24ndCBzZWVtIHRvIGJlIGEgYmV0dGVyIHdheSB0byBkbyBpdC4KICAgICAgdmFyIGlubmVyTm9kZSA9IHZub2RlOwogICAgICB3aGlsZSAoaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7CiAgICAgICAgaW5uZXJOb2RlID0gaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTsKICAgICAgICBpZiAoaXNEZWYoaSA9IGlubmVyTm9kZS5kYXRhKSAmJiBpc0RlZihpID0gaS50cmFuc2l0aW9uKSkgewogICAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5hY3RpdmF0ZS5sZW5ndGg7ICsraSkgewogICAgICAgICAgICBjYnMuYWN0aXZhdGVbaV0oZW1wdHlOb2RlLCBpbm5lck5vZGUpOwogICAgICAgICAgfQogICAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2goaW5uZXJOb2RlKTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHVubGlrZSBhIG5ld2x5IGNyZWF0ZWQgY29tcG9uZW50LAogICAgICAvLyBhIHJlYWN0aXZhdGVkIGtlZXAtYWxpdmUgY29tcG9uZW50IGRvZXNuJ3QgaW5zZXJ0IGl0c2VsZgogICAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zZXJ0IChwYXJlbnQsIGVsbSwgcmVmJCQxKSB7CiAgICAgIGlmIChpc0RlZihwYXJlbnQpKSB7CiAgICAgICAgaWYgKGlzRGVmKHJlZiQkMSkpIHsKICAgICAgICAgIGlmIChub2RlT3BzLnBhcmVudE5vZGUocmVmJCQxKSA9PT0gcGFyZW50KSB7CiAgICAgICAgICAgIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudCwgZWxtLCByZWYkJDEpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBub2RlT3BzLmFwcGVuZENoaWxkKHBhcmVudCwgZWxtKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZHJlbiAodm5vZGUsIGNoaWxkcmVuLCBpbnNlcnRlZFZub2RlUXVldWUpIHsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7CiAgICAgICAgewogICAgICAgICAgY2hlY2tEdXBsaWNhdGVLZXlzKGNoaWxkcmVuKTsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkgewogICAgICAgICAgY3JlYXRlRWxtKGNoaWxkcmVuW2ldLCBpbnNlcnRlZFZub2RlUXVldWUsIHZub2RlLmVsbSwgbnVsbCwgdHJ1ZSwgY2hpbGRyZW4sIGkpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkgewogICAgICAgIG5vZGVPcHMuYXBwZW5kQ2hpbGQodm5vZGUuZWxtLCBub2RlT3BzLmNyZWF0ZVRleHROb2RlKFN0cmluZyh2bm9kZS50ZXh0KSkpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7CiAgICAgIHdoaWxlICh2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkgewogICAgICAgIHZub2RlID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlOwogICAgICB9CiAgICAgIHJldHVybiBpc0RlZih2bm9kZS50YWcpCiAgICB9CgogICAgZnVuY3Rpb24gaW52b2tlQ3JlYXRlSG9va3MgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpIHsKICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7CiAgICAgICAgY2JzLmNyZWF0ZVtpJDFdKGVtcHR5Tm9kZSwgdm5vZGUpOwogICAgICB9CiAgICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlCiAgICAgIGlmIChpc0RlZihpKSkgewogICAgICAgIGlmIChpc0RlZihpLmNyZWF0ZSkpIHsgaS5jcmVhdGUoZW1wdHlOb2RlLCB2bm9kZSk7IH0KICAgICAgICBpZiAoaXNEZWYoaS5pbnNlcnQpKSB7IGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTsgfQogICAgICB9CiAgICB9CgogICAgLy8gc2V0IHNjb3BlIGlkIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIENTUy4KICAgIC8vIHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBzcGVjaWFsIGNhc2UgdG8gYXZvaWQgdGhlIG92ZXJoZWFkCiAgICAvLyBvZiBnb2luZyB0aHJvdWdoIHRoZSBub3JtYWwgYXR0cmlidXRlIHBhdGNoaW5nIHByb2Nlc3MuCiAgICBmdW5jdGlvbiBzZXRTY29wZSAodm5vZGUpIHsKICAgICAgdmFyIGk7CiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZm5TY29wZUlkKSkgewogICAgICAgIG5vZGVPcHMuc2V0U3R5bGVTY29wZSh2bm9kZS5lbG0sIGkpOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBhbmNlc3RvciA9IHZub2RlOwogICAgICAgIHdoaWxlIChhbmNlc3RvcikgewogICAgICAgICAgaWYgKGlzRGVmKGkgPSBhbmNlc3Rvci5jb250ZXh0KSAmJiBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHsKICAgICAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7CiAgICAgICAgICB9CiAgICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLy8gZm9yIHNsb3QgY29udGVudCB0aGV5IHNob3VsZCBhbHNvIGdldCB0aGUgc2NvcGVJZCBmcm9tIHRoZSBob3N0IGluc3RhbmNlLgogICAgICBpZiAoaXNEZWYoaSA9IGFjdGl2ZUluc3RhbmNlKSAmJgogICAgICAgIGkgIT09IHZub2RlLmNvbnRleHQgJiYKICAgICAgICBpICE9PSB2bm9kZS5mbkNvbnRleHQgJiYKICAgICAgICBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkKICAgICAgKSB7CiAgICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBhZGRWbm9kZXMgKHBhcmVudEVsbSwgcmVmRWxtLCB2bm9kZXMsIHN0YXJ0SWR4LCBlbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSkgewogICAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7CiAgICAgICAgY3JlYXRlRWxtKHZub2Rlc1tzdGFydElkeF0sIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0sIGZhbHNlLCB2bm9kZXMsIHN0YXJ0SWR4KTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGludm9rZURlc3Ryb3lIb29rICh2bm9kZSkgewogICAgICB2YXIgaSwgajsKICAgICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgICBpZiAoaXNEZWYoZGF0YSkpIHsKICAgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkuZGVzdHJveSkpIHsgaSh2bm9kZSk7IH0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsgY2JzLmRlc3Ryb3lbaV0odm5vZGUpOyB9CiAgICAgIH0KICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jaGlsZHJlbikpIHsKICAgICAgICBmb3IgKGogPSAwOyBqIDwgdm5vZGUuY2hpbGRyZW4ubGVuZ3RoOyArK2opIHsKICAgICAgICAgIGludm9rZURlc3Ryb3lIb29rKHZub2RlLmNoaWxkcmVuW2pdKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiByZW1vdmVWbm9kZXMgKHBhcmVudEVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4KSB7CiAgICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHsKICAgICAgICB2YXIgY2ggPSB2bm9kZXNbc3RhcnRJZHhdOwogICAgICAgIGlmIChpc0RlZihjaCkpIHsKICAgICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7CiAgICAgICAgICAgIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2soY2gpOwogICAgICAgICAgICBpbnZva2VEZXN0cm95SG9vayhjaCk7CiAgICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGUKICAgICAgICAgICAgcmVtb3ZlTm9kZShjaC5lbG0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHJlbW92ZUFuZEludm9rZVJlbW92ZUhvb2sgKHZub2RlLCBybSkgewogICAgICBpZiAoaXNEZWYocm0pIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGNicy5yZW1vdmUubGVuZ3RoICsgMTsKICAgICAgICBpZiAoaXNEZWYocm0pKSB7CiAgICAgICAgICAvLyB3ZSBoYXZlIGEgcmVjdXJzaXZlbHkgcGFzc2VkIGRvd24gcm0gY2FsbGJhY2sKICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBsaXN0ZW5lcnMgY291bnQKICAgICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIGRpcmVjdGx5IHJlbW92aW5nCiAgICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpOwogICAgICAgIH0KICAgICAgICAvLyByZWN1cnNpdmVseSBpbnZva2UgaG9va3Mgb24gY2hpbGQgY29tcG9uZW50IHJvb3Qgbm9kZQogICAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkgewogICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhpLCBybSk7CiAgICAgICAgfQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICBjYnMucmVtb3ZlW2ldKHZub2RlLCBybSk7CiAgICAgICAgfQogICAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7CiAgICAgICAgICBpKHZub2RlLCBybSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJtKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuIChwYXJlbnRFbG0sIG9sZENoLCBuZXdDaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KSB7CiAgICAgIHZhciBvbGRTdGFydElkeCA9IDA7CiAgICAgIHZhciBuZXdTdGFydElkeCA9IDA7CiAgICAgIHZhciBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxOwogICAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdOwogICAgICB2YXIgb2xkRW5kVm5vZGUgPSBvbGRDaFtvbGRFbmRJZHhdOwogICAgICB2YXIgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTsKICAgICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTsKICAgICAgdmFyIG5ld0VuZFZub2RlID0gbmV3Q2hbbmV3RW5kSWR4XTsKICAgICAgdmFyIG9sZEtleVRvSWR4LCBpZHhJbk9sZCwgdm5vZGVUb01vdmUsIHJlZkVsbTsKCiAgICAgIC8vIHJlbW92ZU9ubHkgaXMgYSBzcGVjaWFsIGZsYWcgdXNlZCBvbmx5IGJ5IDx0cmFuc2l0aW9uLWdyb3VwPgogICAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zCiAgICAgIC8vIGR1cmluZyBsZWF2aW5nIHRyYW5zaXRpb25zCiAgICAgIHZhciBjYW5Nb3ZlID0gIXJlbW92ZU9ubHk7CgogICAgICB7CiAgICAgICAgY2hlY2tEdXBsaWNhdGVLZXlzKG5ld0NoKTsKICAgICAgfQoKICAgICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHsKICAgICAgICBpZiAoaXNVbmRlZihvbGRTdGFydFZub2RlKSkgewogICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBoYXMgYmVlbiBtb3ZlZCBsZWZ0CiAgICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkgewogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsKICAgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOwogICAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdOwogICAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHsKICAgICAgICAgIHBhdGNoVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpOwogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTsKICAgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgcmlnaHQKICAgICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7CiAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7CiAgICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07CiAgICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTsKICAgICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdAogICAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIG9sZEVuZFZub2RlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pOwogICAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07CiAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfQogICAgICAgICAgaWR4SW5PbGQgPSBpc0RlZihuZXdTdGFydFZub2RlLmtleSkKICAgICAgICAgICAgPyBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLmtleV0KICAgICAgICAgICAgOiBmaW5kSWR4SW5PbGQobmV3U3RhcnRWbm9kZSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOwogICAgICAgICAgaWYgKGlzVW5kZWYoaWR4SW5PbGQpKSB7IC8vIE5ldyBlbGVtZW50CiAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdm5vZGVUb01vdmUgPSBvbGRDaFtpZHhJbk9sZF07CiAgICAgICAgICAgIGlmIChzYW1lVm5vZGUodm5vZGVUb01vdmUsIG5ld1N0YXJ0Vm5vZGUpKSB7CiAgICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZDsKICAgICAgICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgdm5vZGVUb01vdmUuZWxtLCBvbGRTdGFydFZub2RlLmVsbSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy8gc2FtZSBrZXkgYnV0IGRpZmZlcmVudCBlbGVtZW50LiB0cmVhdCBhcyBuZXcgZWxlbWVudAogICAgICAgICAgICAgIGNyZWF0ZUVsbShuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIGZhbHNlLCBuZXdDaCwgbmV3U3RhcnRJZHgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChvbGRTdGFydElkeCA+IG9sZEVuZElkeCkgewogICAgICAgIHJlZkVsbSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTsKICAgICAgICBhZGRWbm9kZXMocGFyZW50RWxtLCByZWZFbG0sIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0SWR4ID4gbmV3RW5kSWR4KSB7CiAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gY2hlY2tEdXBsaWNhdGVLZXlzIChjaGlsZHJlbikgewogICAgICB2YXIgc2VlbktleXMgPSB7fTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB2bm9kZSA9IGNoaWxkcmVuW2ldOwogICAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXk7CiAgICAgICAgaWYgKGlzRGVmKGtleSkpIHsKICAgICAgICAgIGlmIChzZWVuS2V5c1trZXldKSB7CiAgICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICAgKCJEdXBsaWNhdGUga2V5cyBkZXRlY3RlZDogJyIgKyBrZXkgKyAiJy4gVGhpcyBtYXkgY2F1c2UgYW4gdXBkYXRlIGVycm9yLiIpLAogICAgICAgICAgICAgIHZub2RlLmNvbnRleHQKICAgICAgICAgICAgKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNlZW5LZXlzW2tleV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmRJZHhJbk9sZCAobm9kZSwgb2xkQ2gsIHN0YXJ0LCBlbmQpIHsKICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHsKICAgICAgICB2YXIgYyA9IG9sZENoW2ldOwogICAgICAgIGlmIChpc0RlZihjKSAmJiBzYW1lVm5vZGUobm9kZSwgYykpIHsgcmV0dXJuIGkgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAoCiAgICAgIG9sZFZub2RlLAogICAgICB2bm9kZSwKICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLAogICAgICBvd25lckFycmF5LAogICAgICBpbmRleCwKICAgICAgcmVtb3ZlT25seQogICAgKSB7CiAgICAgIGlmIChvbGRWbm9kZSA9PT0gdm5vZGUpIHsKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHsKICAgICAgICAvLyBjbG9uZSByZXVzZWQgdm5vZGUKICAgICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7CiAgICAgIH0KCiAgICAgIHZhciBlbG0gPSB2bm9kZS5lbG0gPSBvbGRWbm9kZS5lbG07CgogICAgICBpZiAoaXNUcnVlKG9sZFZub2RlLmlzQXN5bmNQbGFjZWhvbGRlcikpIHsKICAgICAgICBpZiAoaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5LnJlc29sdmVkKSkgewogICAgICAgICAgaHlkcmF0ZShvbGRWbm9kZS5lbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bm9kZS5pc0FzeW5jUGxhY2Vob2xkZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgLy8gcmV1c2UgZWxlbWVudCBmb3Igc3RhdGljIHRyZWVzLgogICAgICAvLyBub3RlIHdlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIC0KICAgICAgLy8gaWYgdGhlIG5ldyBub2RlIGlzIG5vdCBjbG9uZWQgaXQgbWVhbnMgdGhlIHJlbmRlciBmdW5jdGlvbnMgaGF2ZSBiZWVuCiAgICAgIC8vIHJlc2V0IGJ5IHRoZSBob3QtcmVsb2FkLWFwaSBhbmQgd2UgbmVlZCB0byBkbyBhIHByb3BlciByZS1yZW5kZXIuCiAgICAgIGlmIChpc1RydWUodm5vZGUuaXNTdGF0aWMpICYmCiAgICAgICAgaXNUcnVlKG9sZFZub2RlLmlzU3RhdGljKSAmJgogICAgICAgIHZub2RlLmtleSA9PT0gb2xkVm5vZGUua2V5ICYmCiAgICAgICAgKGlzVHJ1ZSh2bm9kZS5pc0Nsb25lZCkgfHwgaXNUcnVlKHZub2RlLmlzT25jZSkpCiAgICAgICkgewogICAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHZhciBpOwogICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7CiAgICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wcmVwYXRjaCkpIHsKICAgICAgICBpKG9sZFZub2RlLCB2bm9kZSk7CiAgICAgIH0KCiAgICAgIHZhciBvbGRDaCA9IG9sZFZub2RlLmNoaWxkcmVuOwogICAgICB2YXIgY2ggPSB2bm9kZS5jaGlsZHJlbjsKICAgICAgaWYgKGlzRGVmKGRhdGEpICYmIGlzUGF0Y2hhYmxlKHZub2RlKSkgewogICAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMudXBkYXRlLmxlbmd0aDsgKytpKSB7IGNicy51cGRhdGVbaV0ob2xkVm5vZGUsIHZub2RlKTsgfQogICAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfQogICAgICB9CiAgICAgIGlmIChpc1VuZGVmKHZub2RlLnRleHQpKSB7CiAgICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHsKICAgICAgICAgIGlmIChvbGRDaCAhPT0gY2gpIHsgdXBkYXRlQ2hpbGRyZW4oZWxtLCBvbGRDaCwgY2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSk7IH0KICAgICAgICB9IGVsc2UgaWYgKGlzRGVmKGNoKSkgewogICAgICAgICAgewogICAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2gpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGlzRGVmKG9sZFZub2RlLnRleHQpKSB7IG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCAnJyk7IH0KICAgICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkQ2gpKSB7CiAgICAgICAgICByZW1vdmVWbm9kZXMoZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7CiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgewogICAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAob2xkVm5vZGUudGV4dCAhPT0gdm5vZGUudGV4dCkgewogICAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTsKICAgICAgfQogICAgICBpZiAoaXNEZWYoZGF0YSkpIHsKICAgICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGludm9rZUluc2VydEhvb2sgKHZub2RlLCBxdWV1ZSwgaW5pdGlhbCkgewogICAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGUKICAgICAgLy8gZWxlbWVudCBpcyByZWFsbHkgaW5zZXJ0ZWQKICAgICAgaWYgKGlzVHJ1ZShpbml0aWFsKSAmJiBpc0RlZih2bm9kZS5wYXJlbnQpKSB7CiAgICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlOwogICAgICB9IGVsc2UgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHsKICAgICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTsKICAgIC8vIGxpc3Qgb2YgbW9kdWxlcyB0aGF0IGNhbiBza2lwIGNyZWF0ZSBob29rIGR1cmluZyBoeWRyYXRpb24gYmVjYXVzZSB0aGV5CiAgICAvLyBhcmUgYWxyZWFkeSByZW5kZXJlZCBvbiB0aGUgY2xpZW50IG9yIGhhcyBubyBuZWVkIGZvciBpbml0aWFsaXphdGlvbgogICAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlCiAgICAvLyBkZWVwIHVwZGF0ZXMgKCM3MDYzKS4KICAgIHZhciBpc1JlbmRlcmVkTW9kdWxlID0gbWFrZU1hcCgnYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5Jyk7CgogICAgLy8gTm90ZTogdGhpcyBpcyBhIGJyb3dzZXItb25seSBmdW5jdGlvbiBzbyB3ZSBjYW4gYXNzdW1lIGVsbXMgYXJlIERPTSBub2Rlcy4KICAgIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSB7CiAgICAgIHZhciBpOwogICAgICB2YXIgdGFnID0gdm5vZGUudGFnOwogICAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7CiAgICAgIHZhciBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuOwogICAgICBpblZQcmUgPSBpblZQcmUgfHwgKGRhdGEgJiYgZGF0YS5wcmUpOwogICAgICB2bm9kZS5lbG0gPSBlbG07CgogICAgICBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkgJiYgaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5KSkgewogICAgICAgIHZub2RlLmlzQXN5bmNQbGFjZWhvbGRlciA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfQogICAgICAvLyBhc3NlcnQgbm9kZSBtYXRjaAogICAgICB7CiAgICAgICAgaWYgKCFhc3NlcnROb2RlTWF0Y2goZWxtLCB2bm9kZSwgaW5WUHJlKSkgewogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpc0RlZihkYXRhKSkgewogICAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5pbml0KSkgeyBpKHZub2RlLCB0cnVlIC8qIGh5ZHJhdGluZyAqLyk7IH0KICAgICAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSkgewogICAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuCiAgICAgICAgICBpbml0Q29tcG9uZW50KHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpOwogICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlzRGVmKHRhZykpIHsKICAgICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7CiAgICAgICAgICAvLyBlbXB0eSBlbGVtZW50LCBhbGxvdyBjbGllbnQgdG8gcGljayB1cCBhbmQgcG9wdWxhdGUgY2hpbGRyZW4KICAgICAgICAgIGlmICghZWxtLmhhc0NoaWxkTm9kZXMoKSkgewogICAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyB2LWh0bWwgYW5kIGRvbVByb3BzOiBpbm5lckhUTUwKICAgICAgICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhKSAmJiBpc0RlZihpID0gaS5kb21Qcm9wcykgJiYgaXNEZWYoaSA9IGkuaW5uZXJIVE1MKSkgewogICAgICAgICAgICAgIGlmIChpICE9PSBlbG0uaW5uZXJIVE1MKSB7CiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYKICAgICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZAogICAgICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkJhaWxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ3NlcnZlciBpbm5lckhUTUw6ICcsIGkpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ2NsaWVudCBpbm5lckhUTUw6ICcsIGVsbS5pbm5lckhUTUwpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8vIGl0ZXJhdGUgYW5kIGNvbXBhcmUgY2hpbGRyZW4gbGlzdHMKICAgICAgICAgICAgICB2YXIgY2hpbGRyZW5NYXRjaCA9IHRydWU7CiAgICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkOwogICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHsKICAgICAgICAgICAgICAgIGlmICghY2hpbGROb2RlIHx8ICFoeWRyYXRlKGNoaWxkTm9kZSwgY2hpbGRyZW5baSQxXSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpblZQcmUpKSB7CiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgLy8gaWYgY2hpbGROb2RlIGlzIG5vdCBudWxsLCBpdCBtZWFucyB0aGUgYWN0dWFsIGNoaWxkTm9kZXMgbGlzdCBpcwogICAgICAgICAgICAgIC8vIGxvbmdlciB0aGFuIHRoZSB2aXJ0dWFsIGNoaWxkcmVuIGxpc3QuCiAgICAgICAgICAgICAgaWYgKCFjaGlsZHJlbk1hdGNoIHx8IGNoaWxkTm9kZSkgewogICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmCiAgICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWQKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdNaXNtYXRjaGluZyBjaGlsZE5vZGVzIHZzLiBWTm9kZXM6ICcsIGVsbS5jaGlsZE5vZGVzLCBjaGlsZHJlbik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGlzRGVmKGRhdGEpKSB7CiAgICAgICAgICB2YXIgZnVsbEludm9rZSA9IGZhbHNlOwogICAgICAgICAgZm9yICh2YXIga2V5IGluIGRhdGEpIHsKICAgICAgICAgICAgaWYgKCFpc1JlbmRlcmVkTW9kdWxlKGtleSkpIHsKICAgICAgICAgICAgICBmdWxsSW52b2tlID0gdHJ1ZTsKICAgICAgICAgICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTsKICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoIWZ1bGxJbnZva2UgJiYgZGF0YVsnY2xhc3MnXSkgewogICAgICAgICAgICAvLyBlbnN1cmUgY29sbGVjdGluZyBkZXBzIGZvciBkZWVwIGNsYXNzIGJpbmRpbmdzIGZvciBmdXR1cmUgdXBkYXRlcwogICAgICAgICAgICB0cmF2ZXJzZShkYXRhWydjbGFzcyddKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZWxtLmRhdGEgIT09IHZub2RlLnRleHQpIHsKICAgICAgICBlbG0uZGF0YSA9IHZub2RlLnRleHQ7CiAgICAgIH0KICAgICAgcmV0dXJuIHRydWUKICAgIH0KCiAgICBmdW5jdGlvbiBhc3NlcnROb2RlTWF0Y2ggKG5vZGUsIHZub2RlLCBpblZQcmUpIHsKICAgICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHsKICAgICAgICByZXR1cm4gdm5vZGUudGFnLmluZGV4T2YoJ3Z1ZS1jb21wb25lbnQnKSA9PT0gMCB8fCAoCiAgICAgICAgICAhaXNVbmtub3duRWxlbWVudCQkMSh2bm9kZSwgaW5WUHJlKSAmJgogICAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgKQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpCiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gZnVuY3Rpb24gcGF0Y2ggKG9sZFZub2RlLCB2bm9kZSwgaHlkcmF0aW5nLCByZW1vdmVPbmx5KSB7CiAgICAgIGlmIChpc1VuZGVmKHZub2RlKSkgewogICAgICAgIGlmIChpc0RlZihvbGRWbm9kZSkpIHsgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOyB9CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlOwogICAgICB2YXIgaW5zZXJ0ZWRWbm9kZVF1ZXVlID0gW107CgogICAgICBpZiAoaXNVbmRlZihvbGRWbm9kZSkpIHsKICAgICAgICAvLyBlbXB0eSBtb3VudCAobGlrZWx5IGFzIGNvbXBvbmVudCksIGNyZWF0ZSBuZXcgcm9vdCBlbGVtZW50CiAgICAgICAgaXNJbml0aWFsUGF0Y2ggPSB0cnVlOwogICAgICAgIGNyZWF0ZUVsbSh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaXNSZWFsRWxlbWVudCA9IGlzRGVmKG9sZFZub2RlLm5vZGVUeXBlKTsKICAgICAgICBpZiAoIWlzUmVhbEVsZW1lbnQgJiYgc2FtZVZub2RlKG9sZFZub2RlLCB2bm9kZSkpIHsKICAgICAgICAgIC8vIHBhdGNoIGV4aXN0aW5nIHJvb3Qgbm9kZQogICAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpc1JlYWxFbGVtZW50KSB7CiAgICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50CiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQgYW5kIGlmIHdlIGNhbiBwZXJmb3JtCiAgICAgICAgICAgIC8vIGEgc3VjY2Vzc2Z1bCBoeWRyYXRpb24uCiAgICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7CiAgICAgICAgICAgICAgb2xkVm5vZGUucmVtb3ZlQXR0cmlidXRlKFNTUl9BVFRSKTsKICAgICAgICAgICAgICBoeWRyYXRpbmcgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpc1RydWUoaHlkcmF0aW5nKSkgewogICAgICAgICAgICAgIGlmIChoeWRyYXRlKG9sZFZub2RlLCB2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSkgewogICAgICAgICAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiBvbGRWbm9kZQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICAgICAnVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgKwogICAgICAgICAgICAgICAgICAnc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSBpbmNvcnJlY3QgJyArCiAgICAgICAgICAgICAgICAgICdIVE1MIG1hcmt1cCwgZm9yIGV4YW1wbGUgbmVzdGluZyBibG9jay1sZXZlbCBlbGVtZW50cyBpbnNpZGUgJyArCiAgICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArCiAgICAgICAgICAgICAgICAgICdmdWxsIGNsaWVudC1zaWRlIHJlbmRlci4nCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvLyBlaXRoZXIgbm90IHNlcnZlci1yZW5kZXJlZCwgb3IgaHlkcmF0aW9uIGZhaWxlZC4KICAgICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXQKICAgICAgICAgICAgb2xkVm5vZGUgPSBlbXB0eU5vZGVBdChvbGRWbm9kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gcmVwbGFjaW5nIGV4aXN0aW5nIGVsZW1lbnQKICAgICAgICAgIHZhciBvbGRFbG0gPSBvbGRWbm9kZS5lbG07CiAgICAgICAgICB2YXIgcGFyZW50RWxtID0gbm9kZU9wcy5wYXJlbnROb2RlKG9sZEVsbSk7CgogICAgICAgICAgLy8gY3JlYXRlIG5ldyBub2RlCiAgICAgICAgICBjcmVhdGVFbG0oCiAgICAgICAgICAgIHZub2RlLAogICAgICAgICAgICBpbnNlcnRlZFZub2RlUXVldWUsCiAgICAgICAgICAgIC8vIGV4dHJlbWVseSByYXJlIGVkZ2UgY2FzZTogZG8gbm90IGluc2VydCBpZiBvbGQgZWxlbWVudCBpcyBpbiBhCiAgICAgICAgICAgIC8vIGxlYXZpbmcgdHJhbnNpdGlvbi4gT25seSBoYXBwZW5zIHdoZW4gY29tYmluaW5nIHRyYW5zaXRpb24gKwogICAgICAgICAgICAvLyBrZWVwLWFsaXZlICsgSE9Dcy4gKCM0NTkwKQogICAgICAgICAgICBvbGRFbG0uX2xlYXZlQ2IgPyBudWxsIDogcGFyZW50RWxtLAogICAgICAgICAgICBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVsbSkKICAgICAgICAgICk7CgogICAgICAgICAgLy8gdXBkYXRlIHBhcmVudCBwbGFjZWhvbGRlciBub2RlIGVsZW1lbnQsIHJlY3Vyc2l2ZWx5CiAgICAgICAgICBpZiAoaXNEZWYodm5vZGUucGFyZW50KSkgewogICAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7CiAgICAgICAgICAgIHZhciBwYXRjaGFibGUgPSBpc1BhdGNoYWJsZSh2bm9kZSk7CiAgICAgICAgICAgIHdoaWxlIChhbmNlc3RvcikgewogICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHsKICAgICAgICAgICAgICAgIGNicy5kZXN0cm95W2ldKGFuY2VzdG9yKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtOwogICAgICAgICAgICAgIGlmIChwYXRjaGFibGUpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGNicy5jcmVhdGUubGVuZ3RoOyArK2kkMSkgewogICAgICAgICAgICAgICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCBhbmNlc3Rvcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyAjNjUxMwogICAgICAgICAgICAgICAgLy8gaW52b2tlIGluc2VydCBob29rcyB0aGF0IG1heSBoYXZlIGJlZW4gbWVyZ2VkIGJ5IGNyZWF0ZSBob29rcy4KICAgICAgICAgICAgICAgIC8vIGUuZy4gZm9yIGRpcmVjdGl2ZXMgdGhhdCB1c2VzIHRoZSAiaW5zZXJ0ZWQiIGhvb2suCiAgICAgICAgICAgICAgICB2YXIgaW5zZXJ0ID0gYW5jZXN0b3IuZGF0YS5ob29rLmluc2VydDsKICAgICAgICAgICAgICAgIGlmIChpbnNlcnQubWVyZ2VkKSB7CiAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0IGF0IGluZGV4IDEgdG8gYXZvaWQgcmUtaW52b2tpbmcgY29tcG9uZW50IG1vdW50ZWQgaG9vawogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAxOyBpJDIgPCBpbnNlcnQuZm5zLmxlbmd0aDsgaSQyKyspIHsKICAgICAgICAgICAgICAgICAgICBpbnNlcnQuZm5zW2kkMl0oKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZWdpc3RlclJlZihhbmNlc3Rvcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFuY2VzdG9yID0gYW5jZXN0b3IucGFyZW50OwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgLy8gZGVzdHJveSBvbGQgbm9kZQogICAgICAgICAgaWYgKGlzRGVmKHBhcmVudEVsbSkpIHsKICAgICAgICAgICAgcmVtb3ZlVm5vZGVzKHBhcmVudEVsbSwgW29sZFZub2RlXSwgMCwgMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKGlzRGVmKG9sZFZub2RlLnRhZykpIHsKICAgICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7CiAgICAgIHJldHVybiB2bm9kZS5lbG0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgZGlyZWN0aXZlcyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlRGlyZWN0aXZlcywKICAgIHVwZGF0ZTogdXBkYXRlRGlyZWN0aXZlcywKICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7CiAgICAgIHVwZGF0ZURpcmVjdGl2ZXModm5vZGUsIGVtcHR5Tm9kZSk7CiAgICB9CiAgfTsKCiAgZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAob2xkVm5vZGUsIHZub2RlKSB7CiAgICBpZiAob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzIHx8IHZub2RlLmRhdGEuZGlyZWN0aXZlcykgewogICAgICBfdXBkYXRlKG9sZFZub2RlLCB2bm9kZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfdXBkYXRlIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBpc0NyZWF0ZSA9IG9sZFZub2RlID09PSBlbXB0eU5vZGU7CiAgICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTsKICAgIHZhciBvbGREaXJzID0gbm9ybWFsaXplRGlyZWN0aXZlcyQxKG9sZFZub2RlLmRhdGEuZGlyZWN0aXZlcywgb2xkVm5vZGUuY29udGV4dCk7CiAgICB2YXIgbmV3RGlycyA9IG5vcm1hbGl6ZURpcmVjdGl2ZXMkMSh2bm9kZS5kYXRhLmRpcmVjdGl2ZXMsIHZub2RlLmNvbnRleHQpOwoKICAgIHZhciBkaXJzV2l0aEluc2VydCA9IFtdOwogICAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107CgogICAgdmFyIGtleSwgb2xkRGlyLCBkaXI7CiAgICBmb3IgKGtleSBpbiBuZXdEaXJzKSB7CiAgICAgIG9sZERpciA9IG9sZERpcnNba2V5XTsKICAgICAgZGlyID0gbmV3RGlyc1trZXldOwogICAgICBpZiAoIW9sZERpcikgewogICAgICAgIC8vIG5ldyBkaXJlY3RpdmUsIGJpbmQKICAgICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpOwogICAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuaW5zZXJ0ZWQpIHsKICAgICAgICAgIGRpcnNXaXRoSW5zZXJ0LnB1c2goZGlyKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZXhpc3RpbmcgZGlyZWN0aXZlLCB1cGRhdGUKICAgICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7CiAgICAgICAgZGlyLm9sZEFyZyA9IG9sZERpci5hcmc7CiAgICAgICAgY2FsbEhvb2skMShkaXIsICd1cGRhdGUnLCB2bm9kZSwgb2xkVm5vZGUpOwogICAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkgewogICAgICAgICAgZGlyc1dpdGhQb3N0cGF0Y2gucHVzaChkaXIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChkaXJzV2l0aEluc2VydC5sZW5ndGgpIHsKICAgICAgdmFyIGNhbGxJbnNlcnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykgewogICAgICAgICAgY2FsbEhvb2skMShkaXJzV2l0aEluc2VydFtpXSwgJ2luc2VydGVkJywgdm5vZGUsIG9sZFZub2RlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIGlmIChpc0NyZWF0ZSkgewogICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgY2FsbEluc2VydCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbEluc2VydCgpOwogICAgICB9CiAgICB9CgogICAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkgewogICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoUG9zdHBhdGNoW2ldLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBpZiAoIWlzQ3JlYXRlKSB7CiAgICAgIGZvciAoa2V5IGluIG9sZERpcnMpIHsKICAgICAgICBpZiAoIW5ld0RpcnNba2V5XSkgewogICAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZAogICAgICAgICAgY2FsbEhvb2skMShvbGREaXJzW2tleV0sICd1bmJpbmQnLCBvbGRWbm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICB2YXIgZW1wdHlNb2RpZmllcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpOwoKICBmdW5jdGlvbiBub3JtYWxpemVEaXJlY3RpdmVzJDEgKAogICAgZGlycywKICAgIHZtCiAgKSB7CiAgICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGlmICghZGlycykgewogICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgcmV0dXJuIHJlcwogICAgfQogICAgdmFyIGksIGRpcjsKICAgIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRpciA9IGRpcnNbaV07CiAgICAgIGlmICghZGlyLm1vZGlmaWVycykgewogICAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICAgIGRpci5tb2RpZmllcnMgPSBlbXB0eU1vZGlmaWVyczsKICAgICAgfQogICAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjsKICAgICAgZGlyLmRlZiA9IHJlc29sdmVBc3NldCh2bS4kb3B0aW9ucywgJ2RpcmVjdGl2ZXMnLCBkaXIubmFtZSwgdHJ1ZSk7CiAgICB9CiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgIHJldHVybiByZXMKICB9CgogIGZ1bmN0aW9uIGdldFJhd0Rpck5hbWUgKGRpcikgewogICAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgIi4iICsgKE9iamVjdC5rZXlzKGRpci5tb2RpZmllcnMgfHwge30pLmpvaW4oJy4nKSkpCiAgfQoKICBmdW5jdGlvbiBjYWxsSG9vayQxIChkaXIsIGhvb2ssIHZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KSB7CiAgICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107CiAgICBpZiAoZm4pIHsKICAgICAgdHJ5IHsKICAgICAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgaGFuZGxlRXJyb3IoZSwgdm5vZGUuY29udGV4dCwgKCJkaXJlY3RpdmUgIiArIChkaXIubmFtZSkgKyAiICIgKyBob29rICsgIiBob29rIikpOwogICAgICB9CiAgICB9CiAgfQoKICB2YXIgYmFzZU1vZHVsZXMgPSBbCiAgICByZWYsCiAgICBkaXJlY3RpdmVzCiAgXTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHVwZGF0ZUF0dHJzIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9uczsKICAgIGlmIChpc0RlZihvcHRzKSAmJiBvcHRzLkN0b3Iub3B0aW9ucy5pbmhlcml0QXR0cnMgPT09IGZhbHNlKSB7CiAgICAgIHJldHVybgogICAgfQogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5hdHRycykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmF0dHJzKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBrZXksIGN1ciwgb2xkOwogICAgdmFyIGVsbSA9IHZub2RlLmVsbTsKICAgIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307CiAgICB2YXIgYXR0cnMgPSB2bm9kZS5kYXRhLmF0dHJzIHx8IHt9OwogICAgLy8gY2xvbmUgb2JzZXJ2ZWQgb2JqZWN0cywgYXMgdGhlIHVzZXIgcHJvYmFibHkgd2FudHMgdG8gbXV0YXRlIGl0CiAgICBpZiAoaXNEZWYoYXR0cnMuX19vYl9fKSkgewogICAgICBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgPSBleHRlbmQoe30sIGF0dHJzKTsKICAgIH0KCiAgICBmb3IgKGtleSBpbiBhdHRycykgewogICAgICBjdXIgPSBhdHRyc1trZXldOwogICAgICBvbGQgPSBvbGRBdHRyc1trZXldOwogICAgICBpZiAob2xkICE9PSBjdXIpIHsKICAgICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpOwogICAgICB9CiAgICB9CiAgICAvLyAjNDM5MTogaW4gSUU5LCBzZXR0aW5nIHR5cGUgY2FuIHJlc2V0IHZhbHVlIGZvciBpbnB1dFt0eXBlPXJhZGlvXQogICAgLy8gIzY2NjY6IElFL0VkZ2UgZm9yY2VzIHByb2dyZXNzIHZhbHVlIGRvd24gdG8gMSBiZWZvcmUgc2V0dGluZyBhIG1heAogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoKGlzSUUgfHwgaXNFZGdlKSAmJiBhdHRycy52YWx1ZSAhPT0gb2xkQXR0cnMudmFsdWUpIHsKICAgICAgc2V0QXR0cihlbG0sICd2YWx1ZScsIGF0dHJzLnZhbHVlKTsKICAgIH0KICAgIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7CiAgICAgIGlmIChpc1VuZGVmKGF0dHJzW2tleV0pKSB7CiAgICAgICAgaWYgKGlzWGxpbmsoa2V5KSkgewogICAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTsKICAgICAgICB9IGVsc2UgaWYgKCFpc0VudW1lcmF0ZWRBdHRyKGtleSkpIHsKICAgICAgICAgIGVsbS5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoZWwudGFnTmFtZS5pbmRleE9mKCctJykgPiAtMSkgewogICAgICBiYXNlU2V0QXR0cihlbCwga2V5LCB2YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkgewogICAgICAvLyBzZXQgYXR0cmlidXRlIGZvciBibGFuayB2YWx1ZQogICAgICAvLyBlLmcuIDxvcHRpb24gZGlzYWJsZWQ+U2VsZWN0IG9uZTwvb3B0aW9uPgogICAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHsKICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sCiAgICAgICAgLy8gYnV0IEZsYXNoIGV4cGVjdHMgYSB2YWx1ZSBvZiAidHJ1ZSIgd2hlbiB1c2VkIG9uIDxlbWJlZD4gdGFnCiAgICAgICAgdmFsdWUgPSBrZXkgPT09ICdhbGxvd2Z1bGxzY3JlZW4nICYmIGVsLnRhZ05hbWUgPT09ICdFTUJFRCcKICAgICAgICAgID8gJ3RydWUnCiAgICAgICAgICA6IGtleTsKICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoaXNFbnVtZXJhdGVkQXR0cihrZXkpKSB7CiAgICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUoa2V5LCB2YWx1ZSkpOwogICAgfSBlbHNlIGlmIChpc1hsaW5rKGtleSkpIHsKICAgICAgaWYgKGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpKSB7CiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZU5TKHhsaW5rTlMsIGtleSwgdmFsdWUpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBiYXNlU2V0QXR0cihlbCwga2V5LCB2YWx1ZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBiYXNlU2V0QXR0ciAoZWwsIGtleSwgdmFsdWUpIHsKICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkgewogICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vICM3MTM4OiBJRTEwICYgMTEgZmlyZXMgaW5wdXQgZXZlbnQgd2hlbiBzZXR0aW5nIHBsYWNlaG9sZGVyIG9uCiAgICAgIC8vIDx0ZXh0YXJlYT4uLi4gYmxvY2sgdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFuZCByZW1vdmUgdGhlIGJsb2NrZXIKICAgICAgLy8gaW1tZWRpYXRlbHkuCiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICBpZiAoCiAgICAgICAgaXNJRSAmJiAhaXNJRTkgJiYKICAgICAgICBlbC50YWdOYW1lID09PSAnVEVYVEFSRUEnICYmCiAgICAgICAga2V5ID09PSAncGxhY2Vob2xkZXInICYmIHZhbHVlICE9PSAnJyAmJiAhZWwuX19pZXBoCiAgICAgICkgewogICAgICAgIHZhciBibG9ja2VyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJsb2NrZXIpOwogICAgICAgIH07CiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBibG9ja2VyKTsKICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmUKICAgICAgICBlbC5fX2llcGggPSB0cnVlOyAvKiBJRSBwbGFjZWhvbGRlciBwYXRjaGVkICovCiAgICAgIH0KICAgICAgZWwuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpOwogICAgfQogIH0KCiAgdmFyIGF0dHJzID0gewogICAgY3JlYXRlOiB1cGRhdGVBdHRycywKICAgIHVwZGF0ZTogdXBkYXRlQXR0cnMKICB9OwoKICAvKiAgKi8KCiAgZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkgewogICAgdmFyIGVsID0gdm5vZGUuZWxtOwogICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhOwogICAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhOwogICAgaWYgKAogICAgICBpc1VuZGVmKGRhdGEuc3RhdGljQ2xhc3MpICYmCiAgICAgIGlzVW5kZWYoZGF0YS5jbGFzcykgJiYgKAogICAgICAgIGlzVW5kZWYob2xkRGF0YSkgfHwgKAogICAgICAgICAgaXNVbmRlZihvbGREYXRhLnN0YXRpY0NsYXNzKSAmJgogICAgICAgICAgaXNVbmRlZihvbGREYXRhLmNsYXNzKQogICAgICAgICkKICAgICAgKQogICAgKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIHZhciBjbHMgPSBnZW5DbGFzc0ZvclZub2RlKHZub2RlKTsKCiAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBjbGFzc2VzCiAgICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzOwogICAgaWYgKGlzRGVmKHRyYW5zaXRpb25DbGFzcykpIHsKICAgICAgY2xzID0gY29uY2F0KGNscywgc3RyaW5naWZ5Q2xhc3ModHJhbnNpdGlvbkNsYXNzKSk7CiAgICB9CgogICAgLy8gc2V0IHRoZSBjbGFzcwogICAgaWYgKGNscyAhPT0gZWwuX3ByZXZDbGFzcykgewogICAgICBlbC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgY2xzKTsKICAgICAgZWwuX3ByZXZDbGFzcyA9IGNsczsKICAgIH0KICB9CgogIHZhciBrbGFzcyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlQ2xhc3MsCiAgICB1cGRhdGU6IHVwZGF0ZUNsYXNzCiAgfTsKCiAgLyogICovCgogIHZhciB2YWxpZERpdmlzaW9uQ2hhclJFID0gL1tcdykuK1wtXyRcXV0vOwoKICBmdW5jdGlvbiBwYXJzZUZpbHRlcnMgKGV4cCkgewogICAgdmFyIGluU2luZ2xlID0gZmFsc2U7CiAgICB2YXIgaW5Eb3VibGUgPSBmYWxzZTsKICAgIHZhciBpblRlbXBsYXRlU3RyaW5nID0gZmFsc2U7CiAgICB2YXIgaW5SZWdleCA9IGZhbHNlOwogICAgdmFyIGN1cmx5ID0gMDsKICAgIHZhciBzcXVhcmUgPSAwOwogICAgdmFyIHBhcmVuID0gMDsKICAgIHZhciBsYXN0RmlsdGVySW5kZXggPSAwOwogICAgdmFyIGMsIHByZXYsIGksIGV4cHJlc3Npb24sIGZpbHRlcnM7CgogICAgZm9yIChpID0gMDsgaSA8IGV4cC5sZW5ndGg7IGkrKykgewogICAgICBwcmV2ID0gYzsKICAgICAgYyA9IGV4cC5jaGFyQ29kZUF0KGkpOwogICAgICBpZiAoaW5TaW5nbGUpIHsKICAgICAgICBpZiAoYyA9PT0gMHgyNyAmJiBwcmV2ICE9PSAweDVDKSB7IGluU2luZ2xlID0gZmFsc2U7IH0KICAgICAgfSBlbHNlIGlmIChpbkRvdWJsZSkgewogICAgICAgIGlmIChjID09PSAweDIyICYmIHByZXYgIT09IDB4NUMpIHsgaW5Eb3VibGUgPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHsKICAgICAgICBpZiAoYyA9PT0gMHg2MCAmJiBwcmV2ICE9PSAweDVDKSB7IGluVGVtcGxhdGVTdHJpbmcgPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKGluUmVnZXgpIHsKICAgICAgICBpZiAoYyA9PT0gMHgyZiAmJiBwcmV2ICE9PSAweDVDKSB7IGluUmVnZXggPSBmYWxzZTsgfQogICAgICB9IGVsc2UgaWYgKAogICAgICAgIGMgPT09IDB4N0MgJiYgLy8gcGlwZQogICAgICAgIGV4cC5jaGFyQ29kZUF0KGkgKyAxKSAhPT0gMHg3QyAmJgogICAgICAgIGV4cC5jaGFyQ29kZUF0KGkgLSAxKSAhPT0gMHg3QyAmJgogICAgICAgICFjdXJseSAmJiAhc3F1YXJlICYmICFwYXJlbgogICAgICApIHsKICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAvLyBmaXJzdCBmaWx0ZXIsIGVuZCBvZiBleHByZXNzaW9uCiAgICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTsKICAgICAgICAgIGV4cHJlc3Npb24gPSBleHAuc2xpY2UoMCwgaSkudHJpbSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwdXNoRmlsdGVyKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHN3aXRjaCAoYykgewogICAgICAgICAgY2FzZSAweDIyOiBpbkRvdWJsZSA9IHRydWU7IGJyZWFrICAgICAgICAgLy8gIgogICAgICAgICAgY2FzZSAweDI3OiBpblNpbmdsZSA9IHRydWU7IGJyZWFrICAgICAgICAgLy8gJwogICAgICAgICAgY2FzZSAweDYwOiBpblRlbXBsYXRlU3RyaW5nID0gdHJ1ZTsgYnJlYWsgLy8gYAogICAgICAgICAgY2FzZSAweDI4OiBwYXJlbisrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKAogICAgICAgICAgY2FzZSAweDI5OiBwYXJlbi0tOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKQogICAgICAgICAgY2FzZSAweDVCOiBzcXVhcmUrKzsgYnJlYWsgICAgICAgICAgICAgICAgLy8gWwogICAgICAgICAgY2FzZSAweDVEOiBzcXVhcmUtLTsgYnJlYWsgICAgICAgICAgICAgICAgLy8gXQogICAgICAgICAgY2FzZSAweDdCOiBjdXJseSsrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gewogICAgICAgICAgY2FzZSAweDdEOiBjdXJseS0tOyBicmVhayAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgIH0KICAgICAgICBpZiAoYyA9PT0gMHgyZikgeyAvLyAvCiAgICAgICAgICB2YXIgaiA9IGkgLSAxOwogICAgICAgICAgdmFyIHAgPSAodm9pZCAwKTsKICAgICAgICAgIC8vIGZpbmQgZmlyc3Qgbm9uLXdoaXRlc3BhY2UgcHJldiBjaGFyCiAgICAgICAgICBmb3IgKDsgaiA+PSAwOyBqLS0pIHsKICAgICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7CiAgICAgICAgICAgIGlmIChwICE9PSAnICcpIHsgYnJlYWsgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHsKICAgICAgICAgICAgaW5SZWdleCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKGV4cHJlc3Npb24gPT09IHVuZGVmaW5lZCkgewogICAgICBleHByZXNzaW9uID0gZXhwLnNsaWNlKDAsIGkpLnRyaW0oKTsKICAgIH0gZWxzZSBpZiAobGFzdEZpbHRlckluZGV4ICE9PSAwKSB7CiAgICAgIHB1c2hGaWx0ZXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwdXNoRmlsdGVyICgpIHsKICAgICAgKGZpbHRlcnMgfHwgKGZpbHRlcnMgPSBbXSkpLnB1c2goZXhwLnNsaWNlKGxhc3RGaWx0ZXJJbmRleCwgaSkudHJpbSgpKTsKICAgICAgbGFzdEZpbHRlckluZGV4ID0gaSArIDE7CiAgICB9CgogICAgaWYgKGZpbHRlcnMpIHsKICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBleHByZXNzaW9uID0gd3JhcEZpbHRlcihleHByZXNzaW9uLCBmaWx0ZXJzW2ldKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBleHByZXNzaW9uCiAgfQoKICBmdW5jdGlvbiB3cmFwRmlsdGVyIChleHAsIGZpbHRlcikgewogICAgdmFyIGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpOwogICAgaWYgKGkgPCAwKSB7CiAgICAgIC8vIF9mOiByZXNvbHZlRmlsdGVyCiAgICAgIHJldHVybiAoIl9mKFwiIiArIGZpbHRlciArICJcIikoIiArIGV4cCArICIpIikKICAgIH0gZWxzZSB7CiAgICAgIHZhciBuYW1lID0gZmlsdGVyLnNsaWNlKDAsIGkpOwogICAgICB2YXIgYXJncyA9IGZpbHRlci5zbGljZShpICsgMSk7CiAgICAgIHJldHVybiAoIl9mKFwiIiArIG5hbWUgKyAiXCIpKCIgKyBleHAgKyAoYXJncyAhPT0gJyknID8gJywnICsgYXJncyA6IGFyZ3MpKQogICAgfQogIH0KCiAgLyogICovCgoKCiAgLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi8KICBmdW5jdGlvbiBiYXNlV2FybiAobXNnLCByYW5nZSkgewogICAgY29uc29sZS5lcnJvcigoIltWdWUgY29tcGlsZXJdOiAiICsgbXNnKSk7CiAgfQogIC8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi8KCiAgZnVuY3Rpb24gcGx1Y2tNb2R1bGVGdW5jdGlvbiAoCiAgICBtb2R1bGVzLAogICAga2V5CiAgKSB7CiAgICByZXR1cm4gbW9kdWxlcwogICAgICA/IG1vZHVsZXMubWFwKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtW2tleV07IH0pLmZpbHRlcihmdW5jdGlvbiAoXykgeyByZXR1cm4gXzsgfSkKICAgICAgOiBbXQogIH0KCiAgZnVuY3Rpb24gYWRkUHJvcCAoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSwgZHluYW1pYykgewogICAgKGVsLnByb3BzIHx8IChlbC5wcm9wcyA9IFtdKSkucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUsIGR5bmFtaWM6IGR5bmFtaWMgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBhZGRBdHRyIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlLCBkeW5hbWljKSB7CiAgICB2YXIgYXR0cnMgPSBkeW5hbWljCiAgICAgID8gKGVsLmR5bmFtaWNBdHRycyB8fCAoZWwuZHluYW1pY0F0dHJzID0gW10pKQogICAgICA6IChlbC5hdHRycyB8fCAoZWwuYXR0cnMgPSBbXSkpOwogICAgYXR0cnMucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUsIGR5bmFtaWM6IGR5bmFtaWMgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICAvLyBhZGQgYSByYXcgYXR0ciAodXNlIHRoaXMgaW4gcHJlVHJhbnNmb3JtcykKICBmdW5jdGlvbiBhZGRSYXdBdHRyIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlKSB7CiAgICBlbC5hdHRyc01hcFtuYW1lXSA9IHZhbHVlOwogICAgZWwuYXR0cnNMaXN0LnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0sIHJhbmdlKSk7CiAgfQoKICBmdW5jdGlvbiBhZGREaXJlY3RpdmUgKAogICAgZWwsCiAgICBuYW1lLAogICAgcmF3TmFtZSwKICAgIHZhbHVlLAogICAgYXJnLAogICAgaXNEeW5hbWljQXJnLAogICAgbW9kaWZpZXJzLAogICAgcmFuZ2UKICApIHsKICAgIChlbC5kaXJlY3RpdmVzIHx8IChlbC5kaXJlY3RpdmVzID0gW10pKS5wdXNoKHJhbmdlU2V0SXRlbSh7CiAgICAgIG5hbWU6IG5hbWUsCiAgICAgIHJhd05hbWU6IHJhd05hbWUsCiAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgYXJnOiBhcmcsCiAgICAgIGlzRHluYW1pY0FyZzogaXNEeW5hbWljQXJnLAogICAgICBtb2RpZmllcnM6IG1vZGlmaWVycwogICAgfSwgcmFuZ2UpKTsKICAgIGVsLnBsYWluID0gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIgKHN5bWJvbCwgbmFtZSwgZHluYW1pYykgewogICAgcmV0dXJuIGR5bmFtaWMKICAgICAgPyAoIl9wKCIgKyBuYW1lICsgIixcIiIgKyBzeW1ib2wgKyAiXCIpIikKICAgICAgOiBzeW1ib2wgKyBuYW1lIC8vIG1hcmsgdGhlIGV2ZW50IGFzIGNhcHR1cmVkCiAgfQoKICBmdW5jdGlvbiBhZGRIYW5kbGVyICgKICAgIGVsLAogICAgbmFtZSwKICAgIHZhbHVlLAogICAgbW9kaWZpZXJzLAogICAgaW1wb3J0YW50LAogICAgd2FybiwKICAgIHJhbmdlLAogICAgZHluYW1pYwogICkgewogICAgbW9kaWZpZXJzID0gbW9kaWZpZXJzIHx8IGVtcHR5T2JqZWN0OwogICAgLy8gd2FybiBwcmV2ZW50IGFuZCBwYXNzaXZlIG1vZGlmaWVyCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmICgKICAgICAgd2FybiAmJgogICAgICBtb2RpZmllcnMucHJldmVudCAmJiBtb2RpZmllcnMucGFzc2l2ZQogICAgKSB7CiAgICAgIHdhcm4oCiAgICAgICAgJ3Bhc3NpdmUgYW5kIHByZXZlbnQgY2FuXCd0IGJlIHVzZWQgdG9nZXRoZXIuICcgKwogICAgICAgICdQYXNzaXZlIGhhbmRsZXIgY2FuXCd0IHByZXZlbnQgZGVmYXVsdCBldmVudC4nLAogICAgICAgIHJhbmdlCiAgICAgICk7CiAgICB9CgogICAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlCiAgICAvLyB0aGlzIGlzIHRlY2huaWNhbGx5IGJyb3dzZXItc3BlY2lmaWMsIGJ1dCBhdCBsZWFzdCBmb3Igbm93IGJyb3dzZXJzIGFyZQogICAgLy8gdGhlIG9ubHkgdGFyZ2V0IGVudnMgdGhhdCBoYXZlIHJpZ2h0L21pZGRsZSBjbGlja3MuCiAgICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7CiAgICAgIGlmIChkeW5hbWljKSB7CiAgICAgICAgbmFtZSA9ICIoIiArIG5hbWUgKyAiKT09PSdjbGljayc/J2NvbnRleHRtZW51JzooIiArIG5hbWUgKyAiKSI7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykgewogICAgICAgIG5hbWUgPSAnY29udGV4dG1lbnUnOwogICAgICAgIGRlbGV0ZSBtb2RpZmllcnMucmlnaHQ7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAobW9kaWZpZXJzLm1pZGRsZSkgewogICAgICBpZiAoZHluYW1pYykgewogICAgICAgIG5hbWUgPSAiKCIgKyBuYW1lICsgIik9PT0nY2xpY2snPydtb3VzZXVwJzooIiArIG5hbWUgKyAiKSI7CiAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykgewogICAgICAgIG5hbWUgPSAnbW91c2V1cCc7CiAgICAgIH0KICAgIH0KCiAgICAvLyBjaGVjayBjYXB0dXJlIG1vZGlmaWVyCiAgICBpZiAobW9kaWZpZXJzLmNhcHR1cmUpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5jYXB0dXJlOwogICAgICBuYW1lID0gcHJlcGVuZE1vZGlmaWVyTWFya2VyKCchJywgbmFtZSwgZHluYW1pYyk7CiAgICB9CiAgICBpZiAobW9kaWZpZXJzLm9uY2UpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5vbmNlOwogICAgICBuYW1lID0gcHJlcGVuZE1vZGlmaWVyTWFya2VyKCd+JywgbmFtZSwgZHluYW1pYyk7CiAgICB9CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChtb2RpZmllcnMucGFzc2l2ZSkgewogICAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7CiAgICAgIG5hbWUgPSBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoJyYnLCBuYW1lLCBkeW5hbWljKTsKICAgIH0KCiAgICB2YXIgZXZlbnRzOwogICAgaWYgKG1vZGlmaWVycy5uYXRpdmUpIHsKICAgICAgZGVsZXRlIG1vZGlmaWVycy5uYXRpdmU7CiAgICAgIGV2ZW50cyA9IGVsLm5hdGl2ZUV2ZW50cyB8fCAoZWwubmF0aXZlRXZlbnRzID0ge30pOwogICAgfSBlbHNlIHsKICAgICAgZXZlbnRzID0gZWwuZXZlbnRzIHx8IChlbC5ldmVudHMgPSB7fSk7CiAgICB9CgogICAgdmFyIG5ld0hhbmRsZXIgPSByYW5nZVNldEl0ZW0oeyB2YWx1ZTogdmFsdWUudHJpbSgpLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKTsKICAgIGlmIChtb2RpZmllcnMgIT09IGVtcHR5T2JqZWN0KSB7CiAgICAgIG5ld0hhbmRsZXIubW9kaWZpZXJzID0gbW9kaWZpZXJzOwogICAgfQoKICAgIHZhciBoYW5kbGVycyA9IGV2ZW50c1tuYW1lXTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKEFycmF5LmlzQXJyYXkoaGFuZGxlcnMpKSB7CiAgICAgIGltcG9ydGFudCA/IGhhbmRsZXJzLnVuc2hpZnQobmV3SGFuZGxlcikgOiBoYW5kbGVycy5wdXNoKG5ld0hhbmRsZXIpOwogICAgfSBlbHNlIGlmIChoYW5kbGVycykgewogICAgICBldmVudHNbbmFtZV0gPSBpbXBvcnRhbnQgPyBbbmV3SGFuZGxlciwgaGFuZGxlcnNdIDogW2hhbmRsZXJzLCBuZXdIYW5kbGVyXTsKICAgIH0gZWxzZSB7CiAgICAgIGV2ZW50c1tuYW1lXSA9IG5ld0hhbmRsZXI7CiAgICB9CgogICAgZWwucGxhaW4gPSBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGdldFJhd0JpbmRpbmdBdHRyICgKICAgIGVsLAogICAgbmFtZQogICkgewogICAgcmV0dXJuIGVsLnJhd0F0dHJzTWFwWyc6JyArIG5hbWVdIHx8CiAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LWJpbmQ6JyArIG5hbWVdIHx8CiAgICAgIGVsLnJhd0F0dHJzTWFwW25hbWVdCiAgfQoKICBmdW5jdGlvbiBnZXRCaW5kaW5nQXR0ciAoCiAgICBlbCwKICAgIG5hbWUsCiAgICBnZXRTdGF0aWMKICApIHsKICAgIHZhciBkeW5hbWljVmFsdWUgPQogICAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fAogICAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1iaW5kOicgKyBuYW1lKTsKICAgIGlmIChkeW5hbWljVmFsdWUgIT0gbnVsbCkgewogICAgICByZXR1cm4gcGFyc2VGaWx0ZXJzKGR5bmFtaWNWYWx1ZSkKICAgIH0gZWxzZSBpZiAoZ2V0U3RhdGljICE9PSBmYWxzZSkgewogICAgICB2YXIgc3RhdGljVmFsdWUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCBuYW1lKTsKICAgICAgaWYgKHN0YXRpY1ZhbHVlICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc3RhdGljVmFsdWUpCiAgICAgIH0KICAgIH0KICB9CgogIC8vIG5vdGU6IHRoaXMgb25seSByZW1vdmVzIHRoZSBhdHRyIGZyb20gdGhlIEFycmF5IChhdHRyc0xpc3QpIHNvIHRoYXQgaXQKICAvLyBkb2Vzbid0IGdldCBwcm9jZXNzZWQgYnkgcHJvY2Vzc0F0dHJzLgogIC8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpcwogIC8vIG5lZWRlZCBkdXJpbmcgY29kZWdlbi4KICBmdW5jdGlvbiBnZXRBbmRSZW1vdmVBdHRyICgKICAgIGVsLAogICAgbmFtZSwKICAgIHJlbW92ZUZyb21NYXAKICApIHsKICAgIHZhciB2YWw7CiAgICBpZiAoKHZhbCA9IGVsLmF0dHJzTWFwW25hbWVdKSAhPSBudWxsKSB7CiAgICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGxpc3RbaV0ubmFtZSA9PT0gbmFtZSkgewogICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYgKHJlbW92ZUZyb21NYXApIHsKICAgICAgZGVsZXRlIGVsLmF0dHJzTWFwW25hbWVdOwogICAgfQogICAgcmV0dXJuIHZhbAogIH0KCiAgZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXggKAogICAgZWwsCiAgICBuYW1lCiAgKSB7CiAgICB2YXIgbGlzdCA9IGVsLmF0dHJzTGlzdDsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgdmFyIGF0dHIgPSBsaXN0W2ldOwogICAgICBpZiAobmFtZS50ZXN0KGF0dHIubmFtZSkpIHsKICAgICAgICBsaXN0LnNwbGljZShpLCAxKTsKICAgICAgICByZXR1cm4gYXR0cgogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiByYW5nZVNldEl0ZW0gKAogICAgaXRlbSwKICAgIHJhbmdlCiAgKSB7CiAgICBpZiAocmFuZ2UpIHsKICAgICAgaWYgKHJhbmdlLnN0YXJ0ICE9IG51bGwpIHsKICAgICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7CiAgICAgIH0KICAgICAgaWYgKHJhbmdlLmVuZCAhPSBudWxsKSB7CiAgICAgICAgaXRlbS5lbmQgPSByYW5nZS5lbmQ7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBpdGVtCiAgfQoKICAvKiAgKi8KCiAgLyoqCiAgICogQ3Jvc3MtcGxhdGZvcm0gY29kZSBnZW5lcmF0aW9uIGZvciBjb21wb25lbnQgdi1tb2RlbAogICAqLwogIGZ1bmN0aW9uIGdlbkNvbXBvbmVudE1vZGVsICgKICAgIGVsLAogICAgdmFsdWUsCiAgICBtb2RpZmllcnMKICApIHsKICAgIHZhciByZWYgPSBtb2RpZmllcnMgfHwge307CiAgICB2YXIgbnVtYmVyID0gcmVmLm51bWJlcjsKICAgIHZhciB0cmltID0gcmVmLnRyaW07CgogICAgdmFyIGJhc2VWYWx1ZUV4cHJlc3Npb24gPSAnJCR2JzsKICAgIHZhciB2YWx1ZUV4cHJlc3Npb24gPSBiYXNlVmFsdWVFeHByZXNzaW9uOwogICAgaWYgKHRyaW0pIHsKICAgICAgdmFsdWVFeHByZXNzaW9uID0KICAgICAgICAiKHR5cGVvZiAiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArICIgPT09ICdzdHJpbmcnIiArCiAgICAgICAgIj8gIiArIGJhc2VWYWx1ZUV4cHJlc3Npb24gKyAiLnRyaW0oKSIgKwogICAgICAgICI6ICIgKyBiYXNlVmFsdWVFeHByZXNzaW9uICsgIikiOwogICAgfQogICAgaWYgKG51bWJlcikgewogICAgICB2YWx1ZUV4cHJlc3Npb24gPSAiX24oIiArIHZhbHVlRXhwcmVzc2lvbiArICIpIjsKICAgIH0KICAgIHZhciBhc3NpZ25tZW50ID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7CgogICAgZWwubW9kZWwgPSB7CiAgICAgIHZhbHVlOiAoIigiICsgdmFsdWUgKyAiKSIpLAogICAgICBleHByZXNzaW9uOiBKU09OLnN0cmluZ2lmeSh2YWx1ZSksCiAgICAgIGNhbGxiYWNrOiAoImZ1bmN0aW9uICgiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArICIpIHsiICsgYXNzaWdubWVudCArICJ9IikKICAgIH07CiAgfQoKICAvKioKICAgKiBDcm9zcy1wbGF0Zm9ybSBjb2RlZ2VuIGhlbHBlciBmb3IgZ2VuZXJhdGluZyB2LW1vZGVsIHZhbHVlIGFzc2lnbm1lbnQgY29kZS4KICAgKi8KICBmdW5jdGlvbiBnZW5Bc3NpZ25tZW50Q29kZSAoCiAgICB2YWx1ZSwKICAgIGFzc2lnbm1lbnQKICApIHsKICAgIHZhciByZXMgPSBwYXJzZU1vZGVsKHZhbHVlKTsKICAgIGlmIChyZXMua2V5ID09PSBudWxsKSB7CiAgICAgIHJldHVybiAodmFsdWUgKyAiPSIgKyBhc3NpZ25tZW50KQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICgiJHNldCgiICsgKHJlcy5leHApICsgIiwgIiArIChyZXMua2V5KSArICIsICIgKyBhc3NpZ25tZW50ICsgIikiKQogICAgfQogIH0KCiAgLyoqCiAgICogUGFyc2UgYSB2LW1vZGVsIGV4cHJlc3Npb24gaW50byBhIGJhc2UgcGF0aCBhbmQgYSBmaW5hbCBrZXkgc2VnbWVudC4KICAgKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy4KICAgKgogICAqIFBvc3NpYmxlIGNhc2VzOgogICAqCiAgICogLSB0ZXN0CiAgICogLSB0ZXN0W2tleV0KICAgKiAtIHRlc3RbdGVzdDFba2V5XV0KICAgKiAtIHRlc3RbImEiXVtrZXldCiAgICogLSB4eHgudGVzdFthW2FdLnRlc3QxW2tleV1dCiAgICogLSB0ZXN0Lnh4eC5hWyJhc2EiXVt0ZXN0MVtrZXldXQogICAqCiAgICovCgogIHZhciBsZW4sIHN0ciwgY2hyLCBpbmRleCQxLCBleHByZXNzaW9uUG9zLCBleHByZXNzaW9uRW5kUG9zOwoKCgogIGZ1bmN0aW9uIHBhcnNlTW9kZWwgKHZhbCkgewogICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvcHVsbC83NzMwCiAgICAvLyBhbGxvdyB2LW1vZGVsPSJvYmoudmFsICIgKHRyYWlsaW5nIHdoaXRlc3BhY2UpCiAgICB2YWwgPSB2YWwudHJpbSgpOwogICAgbGVuID0gdmFsLmxlbmd0aDsKCiAgICBpZiAodmFsLmluZGV4T2YoJ1snKSA8IDAgfHwgdmFsLmxhc3RJbmRleE9mKCddJykgPCBsZW4gLSAxKSB7CiAgICAgIGluZGV4JDEgPSB2YWwubGFzdEluZGV4T2YoJy4nKTsKICAgICAgaWYgKGluZGV4JDEgPiAtMSkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBleHA6IHZhbC5zbGljZSgwLCBpbmRleCQxKSwKICAgICAgICAgIGtleTogJyInICsgdmFsLnNsaWNlKGluZGV4JDEgKyAxKSArICciJwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZXhwOiB2YWwsCiAgICAgICAgICBrZXk6IG51bGwKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBzdHIgPSB2YWw7CiAgICBpbmRleCQxID0gZXhwcmVzc2lvblBvcyA9IGV4cHJlc3Npb25FbmRQb3MgPSAwOwoKICAgIHdoaWxlICghZW9mKCkpIHsKICAgICAgY2hyID0gbmV4dCgpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKGlzU3RyaW5nU3RhcnQoY2hyKSkgewogICAgICAgIHBhcnNlU3RyaW5nKGNocik7CiAgICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7CiAgICAgICAgcGFyc2VCcmFja2V0KGNocik7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gewogICAgICBleHA6IHZhbC5zbGljZSgwLCBleHByZXNzaW9uUG9zKSwKICAgICAga2V5OiB2YWwuc2xpY2UoZXhwcmVzc2lvblBvcyArIDEsIGV4cHJlc3Npb25FbmRQb3MpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBuZXh0ICgpIHsKICAgIHJldHVybiBzdHIuY2hhckNvZGVBdCgrK2luZGV4JDEpCiAgfQoKICBmdW5jdGlvbiBlb2YgKCkgewogICAgcmV0dXJuIGluZGV4JDEgPj0gbGVuCiAgfQoKICBmdW5jdGlvbiBpc1N0cmluZ1N0YXJ0IChjaHIpIHsKICAgIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3CiAgfQoKICBmdW5jdGlvbiBwYXJzZUJyYWNrZXQgKGNocikgewogICAgdmFyIGluQnJhY2tldCA9IDE7CiAgICBleHByZXNzaW9uUG9zID0gaW5kZXgkMTsKICAgIHdoaWxlICghZW9mKCkpIHsKICAgICAgY2hyID0gbmV4dCgpOwogICAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7CiAgICAgICAgcGFyc2VTdHJpbmcoY2hyKTsKICAgICAgICBjb250aW51ZQogICAgICB9CiAgICAgIGlmIChjaHIgPT09IDB4NUIpIHsgaW5CcmFja2V0Kys7IH0KICAgICAgaWYgKGNociA9PT0gMHg1RCkgeyBpbkJyYWNrZXQtLTsgfQogICAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7CiAgICAgICAgZXhwcmVzc2lvbkVuZFBvcyA9IGluZGV4JDE7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gcGFyc2VTdHJpbmcgKGNocikgewogICAgdmFyIHN0cmluZ1F1b3RlID0gY2hyOwogICAgd2hpbGUgKCFlb2YoKSkgewogICAgICBjaHIgPSBuZXh0KCk7CiAgICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIHZhciB3YXJuJDE7CgogIC8vIGluIHNvbWUgY2FzZXMsIHRoZSBldmVudCB1c2VkIGhhcyB0byBiZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUKICAvLyBzbyB3ZSB1c2VkIHNvbWUgcmVzZXJ2ZWQgdG9rZW5zIGR1cmluZyBjb21waWxlLgogIHZhciBSQU5HRV9UT0tFTiA9ICdfX3InOwogIHZhciBDSEVDS0JPWF9SQURJT19UT0tFTiA9ICdfX2MnOwoKICBmdW5jdGlvbiBtb2RlbCAoCiAgICBlbCwKICAgIGRpciwKICAgIF93YXJuCiAgKSB7CiAgICB3YXJuJDEgPSBfd2FybjsKICAgIHZhciB2YWx1ZSA9IGRpci52YWx1ZTsKICAgIHZhciBtb2RpZmllcnMgPSBkaXIubW9kaWZpZXJzOwogICAgdmFyIHRhZyA9IGVsLnRhZzsKICAgIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTsKCiAgICB7CiAgICAgIC8vIGlucHV0cyB3aXRoIHR5cGU9ImZpbGUiIGFyZSByZWFkIG9ubHkgYW5kIHNldHRpbmcgdGhlIGlucHV0J3MKICAgICAgLy8gdmFsdWUgd2lsbCB0aHJvdyBhbiBlcnJvci4KICAgICAgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnZmlsZScpIHsKICAgICAgICB3YXJuJDEoCiAgICAgICAgICAiPCIgKyAoZWwudGFnKSArICIgdi1tb2RlbD1cIiIgKyB2YWx1ZSArICJcIiB0eXBlPVwiZmlsZVwiPjpcbiIgKwogICAgICAgICAgIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuIiwKICAgICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ10KICAgICAgICApOwogICAgICB9CiAgICB9CgogICAgaWYgKGVsLmNvbXBvbmVudCkgewogICAgICBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsIGRvZXNuJ3QgbmVlZCBleHRyYSBydW50aW1lCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIGlmICh0YWcgPT09ICdzZWxlY3QnKSB7CiAgICAgIGdlblNlbGVjdChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7CiAgICAgIGdlbkNoZWNrYm94TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpOwogICAgfSBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgJiYgdHlwZSA9PT0gJ3JhZGlvJykgewogICAgICBnZW5SYWRpb01vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTsKICAgIH0gZWxzZSBpZiAodGFnID09PSAnaW5wdXQnIHx8IHRhZyA9PT0gJ3RleHRhcmVhJykgewogICAgICBnZW5EZWZhdWx0TW9kZWwoZWwsIHZhbHVlLCBtb2RpZmllcnMpOwogICAgfSBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkgewogICAgICBnZW5Db21wb25lbnRNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7CiAgICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsIGRvZXNuJ3QgbmVlZCBleHRyYSBydW50aW1lCiAgICAgIHJldHVybiBmYWxzZQogICAgfSBlbHNlIHsKICAgICAgd2FybiQxKAogICAgICAgICI8IiArIChlbC50YWcpICsgIiB2LW1vZGVsPVwiIiArIHZhbHVlICsgIlwiPjogIiArCiAgICAgICAgInYtbW9kZWwgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGVsZW1lbnQgdHlwZS4gIiArCiAgICAgICAgJ0lmIHlvdSBhcmUgd29ya2luZyB3aXRoIGNvbnRlbnRlZGl0YWJsZSwgaXRcJ3MgcmVjb21tZW5kZWQgdG8gJyArCiAgICAgICAgJ3dyYXAgYSBsaWJyYXJ5IGRlZGljYXRlZCBmb3IgdGhhdCBwdXJwb3NlIGluc2lkZSBhIGN1c3RvbSBjb21wb25lbnQuJywKICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1tb2RlbCddCiAgICAgICk7CiAgICB9CgogICAgLy8gZW5zdXJlIHJ1bnRpbWUgZGlyZWN0aXZlIG1ldGFkYXRhCiAgICByZXR1cm4gdHJ1ZQogIH0KCiAgZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbCAoCiAgICBlbCwKICAgIHZhbHVlLAogICAgbW9kaWZpZXJzCiAgKSB7CiAgICB2YXIgbnVtYmVyID0gbW9kaWZpZXJzICYmIG1vZGlmaWVycy5udW1iZXI7CiAgICB2YXIgdmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd2YWx1ZScpIHx8ICdudWxsJzsKICAgIHZhciB0cnVlVmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd0cnVlLXZhbHVlJykgfHwgJ3RydWUnOwogICAgdmFyIGZhbHNlVmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdmYWxzZS12YWx1ZScpIHx8ICdmYWxzZSc7CiAgICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsCiAgICAgICJBcnJheS5pc0FycmF5KCIgKyB2YWx1ZSArICIpIiArCiAgICAgICI/X2koIiArIHZhbHVlICsgIiwiICsgdmFsdWVCaW5kaW5nICsgIik+LTEiICsgKAogICAgICAgIHRydWVWYWx1ZUJpbmRpbmcgPT09ICd0cnVlJwogICAgICAgICAgPyAoIjooIiArIHZhbHVlICsgIikiKQogICAgICAgICAgOiAoIjpfcSgiICsgdmFsdWUgKyAiLCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgIikiKQogICAgICApCiAgICApOwogICAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsCiAgICAgICJ2YXIgJCRhPSIgKyB2YWx1ZSArICIsIiArCiAgICAgICAgICAnJCRlbD0kZXZlbnQudGFyZ2V0LCcgKwogICAgICAgICAgIiQkYz0kJGVsLmNoZWNrZWQ/KCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgIik6KCIgKyBmYWxzZVZhbHVlQmluZGluZyArICIpOyIgKwogICAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICsKICAgICAgICAidmFyICQkdj0iICsgKG51bWJlciA/ICdfbignICsgdmFsdWVCaW5kaW5nICsgJyknIDogdmFsdWVCaW5kaW5nKSArICIsIiArCiAgICAgICAgICAgICckJGk9X2koJCRhLCQkdik7JyArCiAgICAgICAgImlmKCQkZWwuY2hlY2tlZCl7JCRpPDAmJigiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSkgKyAiKX0iICsKICAgICAgICAiZWxzZXskJGk+LTEmJigiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSknKSkgKyAiKX0iICsKICAgICAgIn1lbHNleyIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsICckJGMnKSkgKyAifSIsCiAgICAgIG51bGwsIHRydWUKICAgICk7CiAgfQoKICBmdW5jdGlvbiBnZW5SYWRpb01vZGVsICgKICAgIGVsLAogICAgdmFsdWUsCiAgICBtb2RpZmllcnMKICApIHsKICAgIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjsKICAgIHZhciB2YWx1ZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3ZhbHVlJykgfHwgJ251bGwnOwogICAgdmFsdWVCaW5kaW5nID0gbnVtYmVyID8gKCJfbigiICsgdmFsdWVCaW5kaW5nICsgIikiKSA6IHZhbHVlQmluZGluZzsKICAgIGFkZFByb3AoZWwsICdjaGVja2VkJywgKCJfcSgiICsgdmFsdWUgKyAiLCIgKyB2YWx1ZUJpbmRpbmcgKyAiKSIpKTsKICAgIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgdmFsdWVCaW5kaW5nKSwgbnVsbCwgdHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiBnZW5TZWxlY3QgKAogICAgZWwsCiAgICB2YWx1ZSwKICAgIG1vZGlmaWVycwogICkgewogICAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyOwogICAgdmFyIHNlbGVjdGVkVmFsID0gIkFycmF5LnByb3RvdHlwZS5maWx0ZXIiICsKICAgICAgIi5jYWxsKCRldmVudC50YXJnZXQub3B0aW9ucyxmdW5jdGlvbihvKXtyZXR1cm4gby5zZWxlY3RlZH0pIiArCiAgICAgICIubWFwKGZ1bmN0aW9uKG8pe3ZhciB2YWwgPSBcIl92YWx1ZVwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7IiArCiAgICAgICJyZXR1cm4gIiArIChudW1iZXIgPyAnX24odmFsKScgOiAndmFsJykgKyAifSkiOwoKICAgIHZhciBhc3NpZ25tZW50ID0gJyRldmVudC50YXJnZXQubXVsdGlwbGUgPyAkJHNlbGVjdGVkVmFsIDogJCRzZWxlY3RlZFZhbFswXSc7CiAgICB2YXIgY29kZSA9ICJ2YXIgJCRzZWxlY3RlZFZhbCA9ICIgKyBzZWxlY3RlZFZhbCArICI7IjsKICAgIGNvZGUgPSBjb2RlICsgIiAiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCBhc3NpZ25tZW50KSk7CiAgICBhZGRIYW5kbGVyKGVsLCAnY2hhbmdlJywgY29kZSwgbnVsbCwgdHJ1ZSk7CiAgfQoKICBmdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwgKAogICAgZWwsCiAgICB2YWx1ZSwKICAgIG1vZGlmaWVycwogICkgewogICAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlOwoKICAgIC8vIHdhcm4gaWYgdi1iaW5kOnZhbHVlIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWwKICAgIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGUKICAgIHsKICAgICAgdmFyIHZhbHVlJDEgPSBlbC5hdHRyc01hcFsndi1iaW5kOnZhbHVlJ10gfHwgZWwuYXR0cnNNYXBbJzp2YWx1ZSddOwogICAgICB2YXIgdHlwZUJpbmRpbmcgPSBlbC5hdHRyc01hcFsndi1iaW5kOnR5cGUnXSB8fCBlbC5hdHRyc01hcFsnOnR5cGUnXTsKICAgICAgaWYgKHZhbHVlJDEgJiYgIXR5cGVCaW5kaW5nKSB7CiAgICAgICAgdmFyIGJpbmRpbmcgPSBlbC5hdHRyc01hcFsndi1iaW5kOnZhbHVlJ10gPyAndi1iaW5kOnZhbHVlJyA6ICc6dmFsdWUnOwogICAgICAgIHdhcm4kMSgKICAgICAgICAgIGJpbmRpbmcgKyAiPVwiIiArIHZhbHVlJDEgKyAiXCIgY29uZmxpY3RzIHdpdGggdi1tb2RlbCBvbiB0aGUgc2FtZSBlbGVtZW50ICIgKwogICAgICAgICAgJ2JlY2F1c2UgdGhlIGxhdHRlciBhbHJlYWR5IGV4cGFuZHMgdG8gYSB2YWx1ZSBiaW5kaW5nIGludGVybmFsbHknLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbYmluZGluZ10KICAgICAgICApOwogICAgICB9CiAgICB9CgogICAgdmFyIHJlZiA9IG1vZGlmaWVycyB8fCB7fTsKICAgIHZhciBsYXp5ID0gcmVmLmxhenk7CiAgICB2YXIgbnVtYmVyID0gcmVmLm51bWJlcjsKICAgIHZhciB0cmltID0gcmVmLnRyaW07CiAgICB2YXIgbmVlZENvbXBvc2l0aW9uR3VhcmQgPSAhbGF6eSAmJiB0eXBlICE9PSAncmFuZ2UnOwogICAgdmFyIGV2ZW50ID0gbGF6eQogICAgICA/ICdjaGFuZ2UnCiAgICAgIDogdHlwZSA9PT0gJ3JhbmdlJwogICAgICAgID8gUkFOR0VfVE9LRU4KICAgICAgICA6ICdpbnB1dCc7CgogICAgdmFyIHZhbHVlRXhwcmVzc2lvbiA9ICckZXZlbnQudGFyZ2V0LnZhbHVlJzsKICAgIGlmICh0cmltKSB7CiAgICAgIHZhbHVlRXhwcmVzc2lvbiA9ICIkZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSI7CiAgICB9CiAgICBpZiAobnVtYmVyKSB7CiAgICAgIHZhbHVlRXhwcmVzc2lvbiA9ICJfbigiICsgdmFsdWVFeHByZXNzaW9uICsgIikiOwogICAgfQoKICAgIHZhciBjb2RlID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7CiAgICBpZiAobmVlZENvbXBvc2l0aW9uR3VhcmQpIHsKICAgICAgY29kZSA9ICJpZigkZXZlbnQudGFyZ2V0LmNvbXBvc2luZylyZXR1cm47IiArIGNvZGU7CiAgICB9CgogICAgYWRkUHJvcChlbCwgJ3ZhbHVlJywgKCIoIiArIHZhbHVlICsgIikiKSk7CiAgICBhZGRIYW5kbGVyKGVsLCBldmVudCwgY29kZSwgbnVsbCwgdHJ1ZSk7CiAgICBpZiAodHJpbSB8fCBudW1iZXIpIHsKICAgICAgYWRkSGFuZGxlcihlbCwgJ2JsdXInLCAnJGZvcmNlVXBkYXRlKCknKTsKICAgIH0KICB9CgogIC8qICAqLwoKICAvLyBub3JtYWxpemUgdi1tb2RlbCBldmVudCB0b2tlbnMgdGhhdCBjYW4gb25seSBiZSBkZXRlcm1pbmVkIGF0IHJ1bnRpbWUuCiAgLy8gaXQncyBpbXBvcnRhbnQgdG8gcGxhY2UgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBpbiB0aGUgYXJyYXkgYmVjYXVzZQogIC8vIHRoZSB3aG9sZSBwb2ludCBpcyBlbnN1cmluZyB0aGUgdi1tb2RlbCBjYWxsYmFjayBnZXRzIGNhbGxlZCBiZWZvcmUKICAvLyB1c2VyLWF0dGFjaGVkIGhhbmRsZXJzLgogIGZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50cyAob24pIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKG9uW1JBTkdFX1RPS0VOXSkpIHsKICAgICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudAogICAgICB2YXIgZXZlbnQgPSBpc0lFID8gJ2NoYW5nZScgOiAnaW5wdXQnOwogICAgICBvbltldmVudF0gPSBbXS5jb25jYXQob25bUkFOR0VfVE9LRU5dLCBvbltldmVudF0gfHwgW10pOwogICAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dOwogICAgfQogICAgLy8gVGhpcyB3YXMgb3JpZ2luYWxseSBpbnRlbmRlZCB0byBmaXggIzQ1MjEgYnV0IG5vIGxvbmdlciBuZWNlc3NhcnkKICAgIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjQKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSkpIHsKICAgICAgb24uY2hhbmdlID0gW10uY29uY2F0KG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSwgb24uY2hhbmdlIHx8IFtdKTsKICAgICAgZGVsZXRlIG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXTsKICAgIH0KICB9CgogIHZhciB0YXJnZXQkMTsKCiAgZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMSAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHsKICAgIHZhciBfdGFyZ2V0ID0gdGFyZ2V0JDE7IC8vIHNhdmUgY3VycmVudCB0YXJnZXQgZWxlbWVudCBpbiBjbG9zdXJlCiAgICByZXR1cm4gZnVuY3Rpb24gb25jZUhhbmRsZXIgKCkgewogICAgICB2YXIgcmVzID0gaGFuZGxlci5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgICBpZiAocmVzICE9PSBudWxsKSB7CiAgICAgICAgcmVtb3ZlJDIoZXZlbnQsIG9uY2VIYW5kbGVyLCBjYXB0dXJlLCBfdGFyZ2V0KTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gIzk0NDY6IEZpcmVmb3ggPD0gNTMgKGluIHBhcnRpY3VsYXIsIEVTUiA1MikgaGFzIGluY29ycmVjdCBFdmVudC50aW1lU3RhbXAKICAvLyBpbXBsZW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvCiAgLy8gc2FmZSB0byBleGNsdWRlLgogIHZhciB1c2VNaWNyb3Rhc2tGaXggPSBpc1VzaW5nTWljcm9UYXNrICYmICEoaXNGRiAmJiBOdW1iZXIoaXNGRlsxXSkgPD0gNTMpOwoKICBmdW5jdGlvbiBhZGQkMSAoCiAgICBuYW1lLAogICAgaGFuZGxlciwKICAgIGNhcHR1cmUsCiAgICBwYXNzaXZlCiAgKSB7CiAgICAvLyBhc3luYyBlZGdlIGNhc2UgIzY1NjY6IGlubmVyIGNsaWNrIGV2ZW50IHRyaWdnZXJzIHBhdGNoLCBldmVudCBoYW5kbGVyCiAgICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpcwogICAgLy8gaGFwcGVucyBiZWNhdXNlIGJyb3dzZXJzIGZpcmUgbWljcm90YXNrIHRpY2tzIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24uCiAgICAvLyB0aGUgc29sdXRpb24gaXMgc2ltcGxlOiB3ZSBzYXZlIHRoZSB0aW1lc3RhbXAgd2hlbiBhIGhhbmRsZXIgaXMgYXR0YWNoZWQsCiAgICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkCiAgICAvLyBBRlRFUiBpdCB3YXMgYXR0YWNoZWQuCiAgICBpZiAodXNlTWljcm90YXNrRml4KSB7CiAgICAgIHZhciBhdHRhY2hlZFRpbWVzdGFtcCA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDsKICAgICAgdmFyIG9yaWdpbmFsID0gaGFuZGxlcjsKICAgICAgaGFuZGxlciA9IG9yaWdpbmFsLl93cmFwcGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAvLyBubyBidWJibGluZywgc2hvdWxkIGFsd2F5cyBmaXJlLgogICAgICAgICAgLy8gdGhpcyBpcyBqdXN0IGEgc2FmZXR5IG5ldCBpbiBjYXNlIGV2ZW50LnRpbWVTdGFtcCBpcyB1bnJlbGlhYmxlIGluCiAgICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLgogICAgICAgICAgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCB8fAogICAgICAgICAgLy8gZXZlbnQgaXMgZmlyZWQgYWZ0ZXIgaGFuZGxlciBhdHRhY2htZW50CiAgICAgICAgICBlLnRpbWVTdGFtcCA+PSBhdHRhY2hlZFRpbWVzdGFtcCB8fAogICAgICAgICAgLy8gYmFpbCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgaGF2ZSBidWdneSBldmVudC50aW1lU3RhbXAgaW1wbGVtZW50YXRpb25zCiAgICAgICAgICAvLyAjOTQ2MiBpT1MgOSBidWc6IGV2ZW50LnRpbWVTdGFtcCBpcyAwIGFmdGVyIGhpc3RvcnkucHVzaFN0YXRlCiAgICAgICAgICAvLyAjOTY4MSBRdFdlYkVuZ2luZSBldmVudC50aW1lU3RhbXAgaXMgbmVnYXRpdmUgdmFsdWUKICAgICAgICAgIGUudGltZVN0YW1wIDw9IDAgfHwKICAgICAgICAgIC8vICM5NDQ4IGJhaWwgaWYgZXZlbnQgaXMgZmlyZWQgaW4gYW5vdGhlciBkb2N1bWVudCBpbiBhIG11bHRpLXBhZ2UKICAgICAgICAgIC8vIGVsZWN0cm9uL253LmpzIGFwcCwgc2luY2UgZXZlbnQudGltZVN0YW1wIHdpbGwgYmUgdXNpbmcgYSBkaWZmZXJlbnQKICAgICAgICAgIC8vIHN0YXJ0aW5nIHJlZmVyZW5jZQogICAgICAgICAgZS50YXJnZXQub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQKICAgICAgICApIHsKICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpCiAgICAgICAgfQogICAgICB9OwogICAgfQogICAgdGFyZ2V0JDEuYWRkRXZlbnRMaXN0ZW5lcigKICAgICAgbmFtZSwKICAgICAgaGFuZGxlciwKICAgICAgc3VwcG9ydHNQYXNzaXZlCiAgICAgICAgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfQogICAgICAgIDogY2FwdHVyZQogICAgKTsKICB9CgogIGZ1bmN0aW9uIHJlbW92ZSQyICgKICAgIG5hbWUsCiAgICBoYW5kbGVyLAogICAgY2FwdHVyZSwKICAgIF90YXJnZXQKICApIHsKICAgIChfdGFyZ2V0IHx8IHRhcmdldCQxKS5yZW1vdmVFdmVudExpc3RlbmVyKAogICAgICBuYW1lLAogICAgICBoYW5kbGVyLl93cmFwcGVyIHx8IGhhbmRsZXIsCiAgICAgIGNhcHR1cmUKICAgICk7CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVET01MaXN0ZW5lcnMgKG9sZFZub2RlLCB2bm9kZSkgewogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5vbikgJiYgaXNVbmRlZih2bm9kZS5kYXRhLm9uKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307CiAgICB2YXIgb2xkT24gPSBvbGRWbm9kZS5kYXRhLm9uIHx8IHt9OwogICAgdGFyZ2V0JDEgPSB2bm9kZS5lbG07CiAgICBub3JtYWxpemVFdmVudHMob24pOwogICAgdXBkYXRlTGlzdGVuZXJzKG9uLCBvbGRPbiwgYWRkJDEsIHJlbW92ZSQyLCBjcmVhdGVPbmNlSGFuZGxlciQxLCB2bm9kZS5jb250ZXh0KTsKICAgIHRhcmdldCQxID0gdW5kZWZpbmVkOwogIH0KCiAgdmFyIGV2ZW50cyA9IHsKICAgIGNyZWF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzLAogICAgdXBkYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMKICB9OwoKICAvKiAgKi8KCiAgdmFyIHN2Z0NvbnRhaW5lcjsKCiAgZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkgewogICAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5kb21Qcm9wcykgJiYgaXNVbmRlZih2bm9kZS5kYXRhLmRvbVByb3BzKSkgewogICAgICByZXR1cm4KICAgIH0KICAgIHZhciBrZXksIGN1cjsKICAgIHZhciBlbG0gPSB2bm9kZS5lbG07CiAgICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9OwogICAgdmFyIHByb3BzID0gdm5vZGUuZGF0YS5kb21Qcm9wcyB8fCB7fTsKICAgIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdAogICAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykpIHsKICAgICAgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzID0gZXh0ZW5kKHt9LCBwcm9wcyk7CiAgICB9CgogICAgZm9yIChrZXkgaW4gb2xkUHJvcHMpIHsKICAgICAgaWYgKCEoa2V5IGluIHByb3BzKSkgewogICAgICAgIGVsbVtrZXldID0gJyc7CiAgICAgIH0KICAgIH0KCiAgICBmb3IgKGtleSBpbiBwcm9wcykgewogICAgICBjdXIgPSBwcm9wc1trZXldOwogICAgICAvLyBpZ25vcmUgY2hpbGRyZW4gaWYgdGhlIG5vZGUgaGFzIHRleHRDb250ZW50IG9yIGlubmVySFRNTCwKICAgICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnMKICAgICAgLy8gb24gc3Vic2VxdWVudCBwYXRjaGVzICgjMzM2MCkKICAgICAgaWYgKGtleSA9PT0gJ3RleHRDb250ZW50JyB8fCBrZXkgPT09ICdpbm5lckhUTUwnKSB7CiAgICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH0KICAgICAgICBpZiAoY3VyID09PSBvbGRQcm9wc1trZXldKSB7IGNvbnRpbnVlIH0KICAgICAgICAvLyAjNjYwMSB3b3JrIGFyb3VuZCBDaHJvbWUgdmVyc2lvbiA8PSA1NSBidWcgd2hlcmUgc2luZ2xlIHRleHROb2RlCiAgICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHkKICAgICAgICBpZiAoZWxtLmNoaWxkTm9kZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICBlbG0ucmVtb3ZlQ2hpbGQoZWxtLmNoaWxkTm9kZXNbMF0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGtleSA9PT0gJ3ZhbHVlJyAmJiBlbG0udGFnTmFtZSAhPT0gJ1BST0dSRVNTJykgewogICAgICAgIC8vIHN0b3JlIHZhbHVlIGFzIF92YWx1ZSBhcyB3ZWxsIHNpbmNlCiAgICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZAogICAgICAgIGVsbS5fdmFsdWUgPSBjdXI7CiAgICAgICAgLy8gYXZvaWQgcmVzZXR0aW5nIGN1cnNvciBwb3NpdGlvbiB3aGVuIHZhbHVlIGlzIHRoZSBzYW1lCiAgICAgICAgdmFyIHN0ckN1ciA9IGlzVW5kZWYoY3VyKSA/ICcnIDogU3RyaW5nKGN1cik7CiAgICAgICAgaWYgKHNob3VsZFVwZGF0ZVZhbHVlKGVsbSwgc3RyQ3VyKSkgewogICAgICAgICAgZWxtLnZhbHVlID0gc3RyQ3VyOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdpbm5lckhUTUwnICYmIGlzU1ZHKGVsbS50YWdOYW1lKSAmJiBpc1VuZGVmKGVsbS5pbm5lckhUTUwpKSB7CiAgICAgICAgLy8gSUUgZG9lc24ndCBzdXBwb3J0IGlubmVySFRNTCBmb3IgU1ZHIGVsZW1lbnRzCiAgICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHN2Z0NvbnRhaW5lci5pbm5lckhUTUwgPSAiPHN2Zz4iICsgY3VyICsgIjwvc3ZnPiI7CiAgICAgICAgdmFyIHN2ZyA9IHN2Z0NvbnRhaW5lci5maXJzdENoaWxkOwogICAgICAgIHdoaWxlIChlbG0uZmlyc3RDaGlsZCkgewogICAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTsKICAgICAgICB9CiAgICAgICAgd2hpbGUgKHN2Zy5maXJzdENoaWxkKSB7CiAgICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoc3ZnLmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICgKICAgICAgICAvLyBza2lwIHRoZSB1cGRhdGUgaWYgb2xkIGFuZCBuZXcgVkRPTSBzdGF0ZSBpcyB0aGUgc2FtZS4KICAgICAgICAvLyBgdmFsdWVgIGlzIGhhbmRsZWQgc2VwYXJhdGVseSBiZWNhdXNlIHRoZSBET00gdmFsdWUgbWF5IGJlIHRlbXBvcmFyaWx5CiAgICAgICAgLy8gb3V0IG9mIHN5bmMgd2l0aCBWRE9NIHN0YXRlIGR1ZSB0byBmb2N1cywgY29tcG9zaXRpb24gYW5kIG1vZGlmaWVycy4KICAgICAgICAvLyBUaGlzICAjNDUyMSBieSBza2lwcGluZyB0aGUgdW5uZWNlc2FycnkgYGNoZWNrZWRgIHVwZGF0ZS4KICAgICAgICBjdXIgIT09IG9sZFByb3BzW2tleV0KICAgICAgKSB7CiAgICAgICAgLy8gc29tZSBwcm9wZXJ0eSB1cGRhdGVzIGNhbiB0aHJvdwogICAgICAgIC8vIGUuZy4gYHZhbHVlYCBvbiA8cHJvZ3Jlc3M+IHcvIG5vbi1maW5pdGUgdmFsdWUKICAgICAgICB0cnkgewogICAgICAgICAgZWxtW2tleV0gPSBjdXI7CiAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgfQogICAgfQogIH0KCiAgLy8gY2hlY2sgcGxhdGZvcm1zL3dlYi91dGlsL2F0dHJzLmpzIGFjY2VwdFZhbHVlCgoKICBmdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZSAoZWxtLCBjaGVja1ZhbCkgewogICAgcmV0dXJuICghZWxtLmNvbXBvc2luZyAmJiAoCiAgICAgIGVsbS50YWdOYW1lID09PSAnT1BUSU9OJyB8fAogICAgICBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB8fAogICAgICBpc0RpcnR5V2l0aE1vZGlmaWVycyhlbG0sIGNoZWNrVmFsKQogICAgKSkKICB9CgogIGZ1bmN0aW9uIGlzTm90SW5Gb2N1c0FuZERpcnR5IChlbG0sIGNoZWNrVmFsKSB7CiAgICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHRleHRib3ggKC5udW1iZXIgYW5kIC50cmltKSBsb3NlcyBmb2N1cyBhbmQgaXRzIHZhbHVlIGlzCiAgICAvLyBub3QgZXF1YWwgdG8gdGhlIHVwZGF0ZWQgdmFsdWUKICAgIHZhciBub3RJbkZvY3VzID0gdHJ1ZTsKICAgIC8vICM2MTU3CiAgICAvLyB3b3JrIGFyb3VuZCBJRSBidWcgd2hlbiBhY2Nlc3NpbmcgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBhbiBpZnJhbWUKICAgIHRyeSB7IG5vdEluRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbG07IH0gY2F0Y2ggKGUpIHt9CiAgICByZXR1cm4gbm90SW5Gb2N1cyAmJiBlbG0udmFsdWUgIT09IGNoZWNrVmFsCiAgfQoKICBmdW5jdGlvbiBpc0RpcnR5V2l0aE1vZGlmaWVycyAoZWxtLCBuZXdWYWwpIHsKICAgIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTsKICAgIHZhciBtb2RpZmllcnMgPSBlbG0uX3ZNb2RpZmllcnM7IC8vIGluamVjdGVkIGJ5IHYtbW9kZWwgcnVudGltZQogICAgaWYgKGlzRGVmKG1vZGlmaWVycykpIHsKICAgICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHsKICAgICAgICByZXR1cm4gdG9OdW1iZXIodmFsdWUpICE9PSB0b051bWJlcihuZXdWYWwpCiAgICAgIH0KICAgICAgaWYgKG1vZGlmaWVycy50cmltKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLnRyaW0oKSAhPT0gbmV3VmFsLnRyaW0oKQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdmFsdWUgIT09IG5ld1ZhbAogIH0KCiAgdmFyIGRvbVByb3BzID0gewogICAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcywKICAgIHVwZGF0ZTogdXBkYXRlRE9NUHJvcHMKICB9OwoKICAvKiAgKi8KCiAgdmFyIHBhcnNlU3R5bGVUZXh0ID0gY2FjaGVkKGZ1bmN0aW9uIChjc3NUZXh0KSB7CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgbGlzdERlbGltaXRlciA9IC87KD8hW14oXSpcKSkvZzsKICAgIHZhciBwcm9wZXJ0eURlbGltaXRlciA9IC86KC4rKS87CiAgICBjc3NUZXh0LnNwbGl0KGxpc3REZWxpbWl0ZXIpLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0pIHsKICAgICAgICB2YXIgdG1wID0gaXRlbS5zcGxpdChwcm9wZXJ0eURlbGltaXRlcik7CiAgICAgICAgdG1wLmxlbmd0aCA+IDEgJiYgKHJlc1t0bXBbMF0udHJpbSgpXSA9IHRtcFsxXS50cmltKCkpOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByZXMKICB9KTsKCiAgLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGUKICBmdW5jdGlvbiBub3JtYWxpemVTdHlsZURhdGEgKGRhdGEpIHsKICAgIHZhciBzdHlsZSA9IG5vcm1hbGl6ZVN0eWxlQmluZGluZyhkYXRhLnN0eWxlKTsKICAgIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvbgogICAgLy8gYW5kIGlzIGFsd2F5cyBhIGZyZXNoIG9iamVjdCwgc28gaXQncyBzYWZlIHRvIG1lcmdlIGludG8gaXQKICAgIHJldHVybiBkYXRhLnN0YXRpY1N0eWxlCiAgICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKQogICAgICA6IHN0eWxlCiAgfQoKICAvLyBub3JtYWxpemUgcG9zc2libGUgYXJyYXkgLyBzdHJpbmcgdmFsdWVzIGludG8gT2JqZWN0CiAgZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KGJpbmRpbmdTdHlsZSkpIHsKICAgICAgcmV0dXJuIHRvT2JqZWN0KGJpbmRpbmdTdHlsZSkKICAgIH0KICAgIGlmICh0eXBlb2YgYmluZGluZ1N0eWxlID09PSAnc3RyaW5nJykgewogICAgICByZXR1cm4gcGFyc2VTdHlsZVRleHQoYmluZGluZ1N0eWxlKQogICAgfQogICAgcmV0dXJuIGJpbmRpbmdTdHlsZQogIH0KCiAgLyoqCiAgICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQncwogICAqIHNvIHRoYXQgcGFyZW50IGNvbXBvbmVudCdzIHN0eWxlIGNvdWxkIG92ZXJyaWRlIGl0CiAgICovCiAgZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7CiAgICB2YXIgcmVzID0ge307CiAgICB2YXIgc3R5bGVEYXRhOwoKICAgIGlmIChjaGVja0NoaWxkKSB7CiAgICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTsKICAgICAgd2hpbGUgKGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZSkgewogICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7CiAgICAgICAgaWYgKAogICAgICAgICAgY2hpbGROb2RlICYmIGNoaWxkTm9kZS5kYXRhICYmCiAgICAgICAgICAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKGNoaWxkTm9kZS5kYXRhKSkKICAgICAgICApIHsKICAgICAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgaWYgKChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEodm5vZGUuZGF0YSkpKSB7CiAgICAgIGV4dGVuZChyZXMsIHN0eWxlRGF0YSk7CiAgICB9CgogICAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTsKICAgIHdoaWxlICgocGFyZW50Tm9kZSA9IHBhcmVudE5vZGUucGFyZW50KSkgewogICAgICBpZiAocGFyZW50Tm9kZS5kYXRhICYmIChzdHlsZURhdGEgPSBub3JtYWxpemVTdHlsZURhdGEocGFyZW50Tm9kZS5kYXRhKSkpIHsKICAgICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzCiAgfQoKICAvKiAgKi8KCiAgdmFyIGNzc1ZhclJFID0gL14tLS87CiAgdmFyIGltcG9ydGFudFJFID0gL1xzKiFpbXBvcnRhbnQkLzsKICB2YXIgc2V0UHJvcCA9IGZ1bmN0aW9uIChlbCwgbmFtZSwgdmFsKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjc3NWYXJSRS50ZXN0KG5hbWUpKSB7CiAgICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHZhbCk7CiAgICB9IGVsc2UgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkgewogICAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShoeXBoZW5hdGUobmFtZSksIHZhbC5yZXBsYWNlKGltcG9ydGFudFJFLCAnJyksICdpbXBvcnRhbnQnKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTsKICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgewogICAgICAgIC8vIFN1cHBvcnQgdmFsdWVzIGFycmF5IGNyZWF0ZWQgYnkgYXV0b3ByZWZpeGVyLCBlLmcuCiAgICAgICAgLy8ge2Rpc3BsYXk6IFsiLXdlYmtpdC1ib3giLCAiLW1zLWZsZXhib3giLCAiZmxleCJdfQogICAgICAgIC8vIFNldCB0aGVtIG9uZSBieSBvbmUsIGFuZCB0aGUgYnJvd3NlciB3aWxsIG9ubHkgc2V0IHRob3NlIGl0IGNhbiByZWNvZ25pemUKICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDsKICAgICAgfQogICAgfQogIH07CgogIHZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddOwoKICB2YXIgZW1wdHlTdHlsZTsKICB2YXIgbm9ybWFsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChwcm9wKSB7CiAgICBlbXB0eVN0eWxlID0gZW1wdHlTdHlsZSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZTsKICAgIHByb3AgPSBjYW1lbGl6ZShwcm9wKTsKICAgIGlmIChwcm9wICE9PSAnZmlsdGVyJyAmJiAocHJvcCBpbiBlbXB0eVN0eWxlKSkgewogICAgICByZXR1cm4gcHJvcAogICAgfQogICAgdmFyIGNhcE5hbWUgPSBwcm9wLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcHJvcC5zbGljZSgxKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVuZG9yTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG5hbWUgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7CiAgICAgIGlmIChuYW1lIGluIGVtcHR5U3R5bGUpIHsKICAgICAgICByZXR1cm4gbmFtZQogICAgICB9CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChvbGRWbm9kZSwgdm5vZGUpIHsKICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTsKICAgIHZhciBvbGREYXRhID0gb2xkVm5vZGUuZGF0YTsKCiAgICBpZiAoaXNVbmRlZihkYXRhLnN0YXRpY1N0eWxlKSAmJiBpc1VuZGVmKGRhdGEuc3R5bGUpICYmCiAgICAgIGlzVW5kZWYob2xkRGF0YS5zdGF0aWNTdHlsZSkgJiYgaXNVbmRlZihvbGREYXRhLnN0eWxlKQogICAgKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIHZhciBjdXIsIG5hbWU7CiAgICB2YXIgZWwgPSB2bm9kZS5lbG07CiAgICB2YXIgb2xkU3RhdGljU3R5bGUgPSBvbGREYXRhLnN0YXRpY1N0eWxlOwogICAgdmFyIG9sZFN0eWxlQmluZGluZyA9IG9sZERhdGEubm9ybWFsaXplZFN0eWxlIHx8IG9sZERhdGEuc3R5bGUgfHwge307CgogICAgLy8gaWYgc3RhdGljIHN0eWxlIGV4aXN0cywgc3R5bGViaW5kaW5nIGFscmVhZHkgbWVyZ2VkIGludG8gaXQgd2hlbiBkb2luZyBub3JtYWxpemVTdHlsZURhdGEKICAgIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZzsKCiAgICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307CgogICAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZgogICAgLy8gbWFrZSBzdXJlIHRvIGNsb25lIGl0IGlmIGl0J3MgcmVhY3RpdmUsIHNpbmNlIHRoZSB1c2VyIGxpa2VseSB3YW50cwogICAgLy8gdG8gbXV0YXRlIGl0LgogICAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pCiAgICAgID8gZXh0ZW5kKHt9LCBzdHlsZSkKICAgICAgOiBzdHlsZTsKCiAgICB2YXIgbmV3U3R5bGUgPSBnZXRTdHlsZSh2bm9kZSwgdHJ1ZSk7CgogICAgZm9yIChuYW1lIGluIG9sZFN0eWxlKSB7CiAgICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkgewogICAgICAgIHNldFByb3AoZWwsIG5hbWUsICcnKTsKICAgICAgfQogICAgfQogICAgZm9yIChuYW1lIGluIG5ld1N0eWxlKSB7CiAgICAgIGN1ciA9IG5ld1N0eWxlW25hbWVdOwogICAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkgewogICAgICAgIC8vIGllOSBzZXR0aW5nIHRvIG51bGwgaGFzIG5vIGVmZmVjdCwgbXVzdCB1c2UgZW1wdHkgc3RyaW5nCiAgICAgICAgc2V0UHJvcChlbCwgbmFtZSwgY3VyID09IG51bGwgPyAnJyA6IGN1cik7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBzdHlsZSA9IHsKICAgIGNyZWF0ZTogdXBkYXRlU3R5bGUsCiAgICB1cGRhdGU6IHVwZGF0ZVN0eWxlCiAgfTsKCiAgLyogICovCgogIHZhciB3aGl0ZXNwYWNlUkUgPSAvXHMrLzsKCiAgLyoqCiAgICogQWRkIGNsYXNzIHdpdGggY29tcGF0aWJpbGl0eSBmb3IgU1ZHIHNpbmNlIGNsYXNzTGlzdCBpcyBub3Qgc3VwcG9ydGVkIG9uCiAgICogU1ZHIGVsZW1lbnRzIGluIElFCiAgICovCiAgZnVuY3Rpb24gYWRkQ2xhc3MgKGVsLCBjbHMpIHsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKCFjbHMgfHwgIShjbHMgPSBjbHMudHJpbSgpKSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgaWYgKGVsLmNsYXNzTGlzdCkgewogICAgICBpZiAoY2xzLmluZGV4T2YoJyAnKSA+IC0xKSB7CiAgICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjbHMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgY3VyID0gIiAiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAiICI7CiAgICAgIGlmIChjdXIuaW5kZXhPZignICcgKyBjbHMgKyAnICcpIDwgMCkgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpOwogICAgICB9CiAgICB9CiAgfQoKICAvKioKICAgKiBSZW1vdmUgY2xhc3Mgd2l0aCBjb21wYXRpYmlsaXR5IGZvciBTVkcgc2luY2UgY2xhc3NMaXN0IGlzIG5vdCBzdXBwb3J0ZWQgb24KICAgKiBTVkcgZWxlbWVudHMgaW4gSUUKICAgKi8KICBmdW5jdGlvbiByZW1vdmVDbGFzcyAoZWwsIGNscykgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovCiAgICBpZiAoZWwuY2xhc3NMaXN0KSB7CiAgICAgIGlmIChjbHMuaW5kZXhPZignICcpID4gLTEpIHsKICAgICAgICBjbHMuc3BsaXQod2hpdGVzcGFjZVJFKS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7IHJldHVybiBlbC5jbGFzc0xpc3QucmVtb3ZlKGMpOyB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKGNscyk7CiAgICAgIH0KICAgICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7CiAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2YXIgY3VyID0gIiAiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAiICI7CiAgICAgIHZhciB0YXIgPSAnICcgKyBjbHMgKyAnICc7CiAgICAgIHdoaWxlIChjdXIuaW5kZXhPZih0YXIpID49IDApIHsKICAgICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7CiAgICAgIH0KICAgICAgY3VyID0gY3VyLnRyaW0oKTsKICAgICAgaWYgKGN1cikgewogICAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBjdXIpOwogICAgICB9IGVsc2UgewogICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTsKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHsKICAgIGlmICghZGVmJCQxKSB7CiAgICAgIHJldHVybgogICAgfQogICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi8KICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnb2JqZWN0JykgewogICAgICB2YXIgcmVzID0ge307CiAgICAgIGlmIChkZWYkJDEuY3NzICE9PSBmYWxzZSkgewogICAgICAgIGV4dGVuZChyZXMsIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMS5uYW1lIHx8ICd2JykpOwogICAgICB9CiAgICAgIGV4dGVuZChyZXMsIGRlZiQkMSk7CiAgICAgIHJldHVybiByZXMKICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHsKICAgICAgcmV0dXJuIGF1dG9Dc3NUcmFuc2l0aW9uKGRlZiQkMSkKICAgIH0KICB9CgogIHZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkgewogICAgcmV0dXJuIHsKICAgICAgZW50ZXJDbGFzczogKG5hbWUgKyAiLWVudGVyIiksCiAgICAgIGVudGVyVG9DbGFzczogKG5hbWUgKyAiLWVudGVyLXRvIiksCiAgICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgIi1lbnRlci1hY3RpdmUiKSwKICAgICAgbGVhdmVDbGFzczogKG5hbWUgKyAiLWxlYXZlIiksCiAgICAgIGxlYXZlVG9DbGFzczogKG5hbWUgKyAiLWxlYXZlLXRvIiksCiAgICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgIi1sZWF2ZS1hY3RpdmUiKQogICAgfQogIH0pOwoKICB2YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7CiAgdmFyIFRSQU5TSVRJT04gPSAndHJhbnNpdGlvbic7CiAgdmFyIEFOSU1BVElPTiA9ICdhbmltYXRpb24nOwoKICAvLyBUcmFuc2l0aW9uIHByb3BlcnR5L2V2ZW50IHNuaWZmaW5nCiAgdmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nOwogIHZhciB0cmFuc2l0aW9uRW5kRXZlbnQgPSAndHJhbnNpdGlvbmVuZCc7CiAgdmFyIGFuaW1hdGlvblByb3AgPSAnYW5pbWF0aW9uJzsKICB2YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJzsKICBpZiAoaGFzVHJhbnNpdGlvbikgewogICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmCiAgICAgIHdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQgIT09IHVuZGVmaW5lZAogICAgKSB7CiAgICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nOwogICAgICB0cmFuc2l0aW9uRW5kRXZlbnQgPSAnd2Via2l0VHJhbnNpdGlvbkVuZCc7CiAgICB9CiAgICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiYKICAgICAgd2luZG93Lm9ud2Via2l0YW5pbWF0aW9uZW5kICE9PSB1bmRlZmluZWQKICAgICkgewogICAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7CiAgICAgIGFuaW1hdGlvbkVuZEV2ZW50ID0gJ3dlYmtpdEFuaW1hdGlvbkVuZCc7CiAgICB9CiAgfQoKICAvLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGUKICB2YXIgcmFmID0gaW5Ccm93c2VyCiAgICA/IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUKICAgICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KQogICAgICA6IHNldFRpbWVvdXQKICAgIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gKGZuKSB7IHJldHVybiBmbigpOyB9OwoKICBmdW5jdGlvbiBuZXh0RnJhbWUgKGZuKSB7CiAgICByYWYoZnVuY3Rpb24gKCkgewogICAgICByYWYoZm4pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHsKICAgIHZhciB0cmFuc2l0aW9uQ2xhc3NlcyA9IGVsLl90cmFuc2l0aW9uQ2xhc3NlcyB8fCAoZWwuX3RyYW5zaXRpb25DbGFzc2VzID0gW10pOwogICAgaWYgKHRyYW5zaXRpb25DbGFzc2VzLmluZGV4T2YoY2xzKSA8IDApIHsKICAgICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpOwogICAgICBhZGRDbGFzcyhlbCwgY2xzKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykgewogICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcykgewogICAgICByZW1vdmUoZWwuX3RyYW5zaXRpb25DbGFzc2VzLCBjbHMpOwogICAgfQogICAgcmVtb3ZlQ2xhc3MoZWwsIGNscyk7CiAgfQoKICBmdW5jdGlvbiB3aGVuVHJhbnNpdGlvbkVuZHMgKAogICAgZWwsCiAgICBleHBlY3RlZFR5cGUsCiAgICBjYgogICkgewogICAgdmFyIHJlZiA9IGdldFRyYW5zaXRpb25JbmZvKGVsLCBleHBlY3RlZFR5cGUpOwogICAgdmFyIHR5cGUgPSByZWYudHlwZTsKICAgIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7CiAgICB2YXIgcHJvcENvdW50ID0gcmVmLnByb3BDb3VudDsKICAgIGlmICghdHlwZSkgeyByZXR1cm4gY2IoKSB9CiAgICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7CiAgICB2YXIgZW5kZWQgPSAwOwogICAgdmFyIGVuZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpOwogICAgICBjYigpOwogICAgfTsKICAgIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLnRhcmdldCA9PT0gZWwpIHsKICAgICAgICBpZiAoKytlbmRlZCA+PSBwcm9wQ291bnQpIHsKICAgICAgICAgIGVuZCgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpZiAoZW5kZWQgPCBwcm9wQ291bnQpIHsKICAgICAgICBlbmQoKTsKICAgICAgfQogICAgfSwgdGltZW91dCArIDEpOwogICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpOwogIH0KCiAgdmFyIHRyYW5zZm9ybVJFID0gL1xiKHRyYW5zZm9ybXxhbGwpKCx8JCkvOwoKICBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkgewogICAgdmFyIHN0eWxlcyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgIC8vIEpTRE9NIG1heSByZXR1cm4gdW5kZWZpbmVkIGZvciB0cmFuc2l0aW9uIHByb3BlcnRpZXMKICAgIHZhciB0cmFuc2l0aW9uRGVsYXlzID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb25zID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEdXJhdGlvbiddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciB0cmFuc2l0aW9uVGltZW91dCA9IGdldFRpbWVvdXQodHJhbnNpdGlvbkRlbGF5cywgdHJhbnNpdGlvbkR1cmF0aW9ucyk7CiAgICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpOwogICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9ucyA9IChzdHlsZXNbYW5pbWF0aW9uUHJvcCArICdEdXJhdGlvbiddIHx8ICcnKS5zcGxpdCgnLCAnKTsKICAgIHZhciBhbmltYXRpb25UaW1lb3V0ID0gZ2V0VGltZW91dChhbmltYXRpb25EZWxheXMsIGFuaW1hdGlvbkR1cmF0aW9ucyk7CgogICAgdmFyIHR5cGU7CiAgICB2YXIgdGltZW91dCA9IDA7CiAgICB2YXIgcHJvcENvdW50ID0gMDsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikgewogICAgICBpZiAodHJhbnNpdGlvblRpbWVvdXQgPiAwKSB7CiAgICAgICAgdHlwZSA9IFRSQU5TSVRJT047CiAgICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0OwogICAgICAgIHByb3BDb3VudCA9IHRyYW5zaXRpb25EdXJhdGlvbnMubGVuZ3RoOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7CiAgICAgIGlmIChhbmltYXRpb25UaW1lb3V0ID4gMCkgewogICAgICAgIHR5cGUgPSBBTklNQVRJT047CiAgICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7CiAgICAgICAgcHJvcENvdW50ID0gYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGltZW91dCA9IE1hdGgubWF4KHRyYW5zaXRpb25UaW1lb3V0LCBhbmltYXRpb25UaW1lb3V0KTsKICAgICAgdHlwZSA9IHRpbWVvdXQgPiAwCiAgICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXQKICAgICAgICAgID8gVFJBTlNJVElPTgogICAgICAgICAgOiBBTklNQVRJT04KICAgICAgICA6IG51bGw7CiAgICAgIHByb3BDb3VudCA9IHR5cGUKICAgICAgICA/IHR5cGUgPT09IFRSQU5TSVRJT04KICAgICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGgKICAgICAgICAgIDogYW5pbWF0aW9uRHVyYXRpb25zLmxlbmd0aAogICAgICAgIDogMDsKICAgIH0KICAgIHZhciBoYXNUcmFuc2Zvcm0gPQogICAgICB0eXBlID09PSBUUkFOU0lUSU9OICYmCiAgICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pOwogICAgcmV0dXJuIHsKICAgICAgdHlwZTogdHlwZSwKICAgICAgdGltZW91dDogdGltZW91dCwKICAgICAgcHJvcENvdW50OiBwcm9wQ291bnQsCiAgICAgIGhhc1RyYW5zZm9ybTogaGFzVHJhbnNmb3JtCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZXRUaW1lb3V0IChkZWxheXMsIGR1cmF0aW9ucykgewogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkgewogICAgICBkZWxheXMgPSBkZWxheXMuY29uY2F0KGRlbGF5cyk7CiAgICB9CgogICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIGR1cmF0aW9ucy5tYXAoZnVuY3Rpb24gKGQsIGkpIHsKICAgICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSkKICAgIH0pKQogIH0KCiAgLy8gT2xkIHZlcnNpb25zIG9mIENocm9taXVtIChiZWxvdyA2MS4wLjMxNjMuMTAwKSBmb3JtYXRzIGZsb2F0aW5nIHBvaW50ZXIgbnVtYmVycwogIC8vIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC4KICAvLyBJZiBjb21tYSBpcyBub3QgcmVwbGFjZWQgd2l0aCBhIGRvdCwgdGhlIGlucHV0IHdpbGwgYmUgcm91bmRlZCBkb3duIChpLmUuIGFjdGluZwogIC8vIGFzIGEgZmxvb3IgZnVuY3Rpb24pIGNhdXNpbmcgdW5leHBlY3RlZCBiZWhhdmlvcnMKICBmdW5jdGlvbiB0b01zIChzKSB7CiAgICByZXR1cm4gTnVtYmVyKHMuc2xpY2UoMCwgLTEpLnJlcGxhY2UoJywnLCAnLicpKSAqIDEwMDAKICB9CgogIC8qICAqLwoKICBmdW5jdGlvbiBlbnRlciAodm5vZGUsIHRvZ2dsZURpc3BsYXkpIHsKICAgIHZhciBlbCA9IHZub2RlLmVsbTsKCiAgICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vdwogICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkgewogICAgICBlbC5fbGVhdmVDYi5jYW5jZWxsZWQgPSB0cnVlOwogICAgICBlbC5fbGVhdmVDYigpOwogICAgfQoKICAgIHZhciBkYXRhID0gcmVzb2x2ZVRyYW5zaXRpb24odm5vZGUuZGF0YS50cmFuc2l0aW9uKTsKICAgIGlmIChpc1VuZGVmKGRhdGEpKSB7CiAgICAgIHJldHVybgogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKGVsLl9lbnRlckNiKSB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgY3NzID0gZGF0YS5jc3M7CiAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTsKICAgIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzOwogICAgdmFyIGVudGVyVG9DbGFzcyA9IGRhdGEuZW50ZXJUb0NsYXNzOwogICAgdmFyIGVudGVyQWN0aXZlQ2xhc3MgPSBkYXRhLmVudGVyQWN0aXZlQ2xhc3M7CiAgICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzOwogICAgdmFyIGFwcGVhclRvQ2xhc3MgPSBkYXRhLmFwcGVhclRvQ2xhc3M7CiAgICB2YXIgYXBwZWFyQWN0aXZlQ2xhc3MgPSBkYXRhLmFwcGVhckFjdGl2ZUNsYXNzOwogICAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjsKICAgIHZhciBlbnRlciA9IGRhdGEuZW50ZXI7CiAgICB2YXIgYWZ0ZXJFbnRlciA9IGRhdGEuYWZ0ZXJFbnRlcjsKICAgIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7CiAgICB2YXIgYmVmb3JlQXBwZWFyID0gZGF0YS5iZWZvcmVBcHBlYXI7CiAgICB2YXIgYXBwZWFyID0gZGF0YS5hcHBlYXI7CiAgICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyOwogICAgdmFyIGFwcGVhckNhbmNlbGxlZCA9IGRhdGEuYXBwZWFyQ2FuY2VsbGVkOwogICAgdmFyIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjsKCiAgICAvLyBhY3RpdmVJbnN0YW5jZSB3aWxsIGFsd2F5cyBiZSB0aGUgPHRyYW5zaXRpb24+IGNvbXBvbmVudCBtYW5hZ2luZyB0aGlzCiAgICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWQKICAgIC8vIGFzIHRoZSByb290IG5vZGUgb2YgYSBjaGlsZCBjb21wb25lbnQuIEluIHRoYXQgY2FzZSB3ZSBuZWVkIHRvIGNoZWNrCiAgICAvLyA8dHJhbnNpdGlvbj4ncyBwYXJlbnQgZm9yIGFwcGVhciBjaGVjay4KICAgIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7CiAgICB2YXIgdHJhbnNpdGlvbk5vZGUgPSBhY3RpdmVJbnN0YW5jZS4kdm5vZGU7CiAgICB3aGlsZSAodHJhbnNpdGlvbk5vZGUgJiYgdHJhbnNpdGlvbk5vZGUucGFyZW50KSB7CiAgICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0OwogICAgICB0cmFuc2l0aW9uTm9kZSA9IHRyYW5zaXRpb25Ob2RlLnBhcmVudDsKICAgIH0KCiAgICB2YXIgaXNBcHBlYXIgPSAhY29udGV4dC5faXNNb3VudGVkIHx8ICF2bm9kZS5pc1Jvb3RJbnNlcnQ7CgogICAgaWYgKGlzQXBwZWFyICYmICFhcHBlYXIgJiYgYXBwZWFyICE9PSAnJykgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgc3RhcnRDbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhckNsYXNzCiAgICAgID8gYXBwZWFyQ2xhc3MKICAgICAgOiBlbnRlckNsYXNzOwogICAgdmFyIGFjdGl2ZUNsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQWN0aXZlQ2xhc3MKICAgICAgPyBhcHBlYXJBY3RpdmVDbGFzcwogICAgICA6IGVudGVyQWN0aXZlQ2xhc3M7CiAgICB2YXIgdG9DbGFzcyA9IGlzQXBwZWFyICYmIGFwcGVhclRvQ2xhc3MKICAgICAgPyBhcHBlYXJUb0NsYXNzCiAgICAgIDogZW50ZXJUb0NsYXNzOwoKICAgIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhcgogICAgICA/IChiZWZvcmVBcHBlYXIgfHwgYmVmb3JlRW50ZXIpCiAgICAgIDogYmVmb3JlRW50ZXI7CiAgICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXIKICAgICAgPyAodHlwZW9mIGFwcGVhciA9PT0gJ2Z1bmN0aW9uJyA/IGFwcGVhciA6IGVudGVyKQogICAgICA6IGVudGVyOwogICAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXIKICAgICAgPyAoYWZ0ZXJBcHBlYXIgfHwgYWZ0ZXJFbnRlcikKICAgICAgOiBhZnRlckVudGVyOwogICAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyCiAgICAgID8gKGFwcGVhckNhbmNlbGxlZCB8fCBlbnRlckNhbmNlbGxlZCkKICAgICAgOiBlbnRlckNhbmNlbGxlZDsKCiAgICB2YXIgZXhwbGljaXRFbnRlckR1cmF0aW9uID0gdG9OdW1iZXIoCiAgICAgIGlzT2JqZWN0KGR1cmF0aW9uKQogICAgICAgID8gZHVyYXRpb24uZW50ZXIKICAgICAgICA6IGR1cmF0aW9uCiAgICApOwoKICAgIGlmIChleHBsaWNpdEVudGVyRHVyYXRpb24gIT0gbnVsbCkgewogICAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0RW50ZXJEdXJhdGlvbiwgJ2VudGVyJywgdm5vZGUpOwogICAgfQoKICAgIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7CiAgICB2YXIgdXNlcldhbnRzQ29udHJvbCA9IGdldEhvb2tBcmd1bWVudHNMZW5ndGgoZW50ZXJIb29rKTsKCiAgICB2YXIgY2IgPSBlbC5fZW50ZXJDYiA9IG9uY2UoZnVuY3Rpb24gKCkgewogICAgICBpZiAoZXhwZWN0c0NTUykgewogICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICAgIH0KICAgICAgaWYgKGNiLmNhbmNlbGxlZCkgewogICAgICAgIGlmIChleHBlY3RzQ1NTKSB7CiAgICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpOwogICAgICAgIH0KICAgICAgICBlbnRlckNhbmNlbGxlZEhvb2sgJiYgZW50ZXJDYW5jZWxsZWRIb29rKGVsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7CiAgICAgIH0KICAgICAgZWwuX2VudGVyQ2IgPSBudWxsOwogICAgfSk7CgogICAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHsKICAgICAgLy8gcmVtb3ZlIHBlbmRpbmcgbGVhdmUgZWxlbWVudCBvbiBlbnRlciBieSBpbmplY3RpbmcgYW4gaW5zZXJ0IGhvb2sKICAgICAgbWVyZ2VWTm9kZUhvb2sodm5vZGUsICdpbnNlcnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7CiAgICAgICAgdmFyIHBlbmRpbmdOb2RlID0gcGFyZW50ICYmIHBhcmVudC5fcGVuZGluZyAmJiBwYXJlbnQuX3BlbmRpbmdbdm5vZGUua2V5XTsKICAgICAgICBpZiAocGVuZGluZ05vZGUgJiYKICAgICAgICAgIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmCiAgICAgICAgICBwZW5kaW5nTm9kZS5lbG0uX2xlYXZlQ2IKICAgICAgICApIHsKICAgICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpOwogICAgICAgIH0KICAgICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7CiAgICAgIH0pOwogICAgfQoKICAgIC8vIHN0YXJ0IGVudGVyIHRyYW5zaXRpb24KICAgIGJlZm9yZUVudGVySG9vayAmJiBiZWZvcmVFbnRlckhvb2soZWwpOwogICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTsKICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBhY3RpdmVDbGFzcyk7CiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTsKICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkgewogICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTsKICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkgewogICAgICAgICAgICBpZiAoaXNWYWxpZER1cmF0aW9uKGV4cGxpY2l0RW50ZXJEdXJhdGlvbikpIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHdoZW5UcmFuc2l0aW9uRW5kcyhlbCwgdHlwZSwgY2IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBpZiAodm5vZGUuZGF0YS5zaG93KSB7CiAgICAgIHRvZ2dsZURpc3BsYXkgJiYgdG9nZ2xlRGlzcGxheSgpOwogICAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7CiAgICB9CgogICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7CiAgICAgIGNiKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBsZWF2ZSAodm5vZGUsIHJtKSB7CiAgICB2YXIgZWwgPSB2bm9kZS5lbG07CgogICAgLy8gY2FsbCBlbnRlciBjYWxsYmFjayBub3cKICAgIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHsKICAgICAgZWwuX2VudGVyQ2IuY2FuY2VsbGVkID0gdHJ1ZTsKICAgICAgZWwuX2VudGVyQ2IoKTsKICAgIH0KCiAgICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7CiAgICBpZiAoaXNVbmRlZihkYXRhKSB8fCBlbC5ub2RlVHlwZSAhPT0gMSkgewogICAgICByZXR1cm4gcm0oKQogICAgfQoKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzRGVmKGVsLl9sZWF2ZUNiKSkgewogICAgICByZXR1cm4KICAgIH0KCiAgICB2YXIgY3NzID0gZGF0YS5jc3M7CiAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTsKICAgIHZhciBsZWF2ZUNsYXNzID0gZGF0YS5sZWF2ZUNsYXNzOwogICAgdmFyIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzOwogICAgdmFyIGxlYXZlQWN0aXZlQ2xhc3MgPSBkYXRhLmxlYXZlQWN0aXZlQ2xhc3M7CiAgICB2YXIgYmVmb3JlTGVhdmUgPSBkYXRhLmJlZm9yZUxlYXZlOwogICAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTsKICAgIHZhciBhZnRlckxlYXZlID0gZGF0YS5hZnRlckxlYXZlOwogICAgdmFyIGxlYXZlQ2FuY2VsbGVkID0gZGF0YS5sZWF2ZUNhbmNlbGxlZDsKICAgIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlOwogICAgdmFyIGR1cmF0aW9uID0gZGF0YS5kdXJhdGlvbjsKCiAgICB2YXIgZXhwZWN0c0NTUyA9IGNzcyAhPT0gZmFsc2UgJiYgIWlzSUU5OwogICAgdmFyIHVzZXJXYW50c0NvbnRyb2wgPSBnZXRIb29rQXJndW1lbnRzTGVuZ3RoKGxlYXZlKTsKCiAgICB2YXIgZXhwbGljaXRMZWF2ZUR1cmF0aW9uID0gdG9OdW1iZXIoCiAgICAgIGlzT2JqZWN0KGR1cmF0aW9uKQogICAgICAgID8gZHVyYXRpb24ubGVhdmUKICAgICAgICA6IGR1cmF0aW9uCiAgICApOwoKICAgIGlmIChpc0RlZihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7CiAgICAgIGNoZWNrRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uLCAnbGVhdmUnLCB2bm9kZSk7CiAgICB9CgogICAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKGVsLnBhcmVudE5vZGUgJiYgZWwucGFyZW50Tm9kZS5fcGVuZGluZykgewogICAgICAgIGVsLnBhcmVudE5vZGUuX3BlbmRpbmdbdm5vZGUua2V5XSA9IG51bGw7CiAgICAgIH0KICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7CiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTsKICAgICAgfQogICAgICBpZiAoY2IuY2FuY2VsbGVkKSB7CiAgICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7CiAgICAgICAgfQogICAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBybSgpOwogICAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7CiAgICAgIH0KICAgICAgZWwuX2xlYXZlQ2IgPSBudWxsOwogICAgfSk7CgogICAgaWYgKGRlbGF5TGVhdmUpIHsKICAgICAgZGVsYXlMZWF2ZShwZXJmb3JtTGVhdmUpOwogICAgfSBlbHNlIHsKICAgICAgcGVyZm9ybUxlYXZlKCk7CiAgICB9CgogICAgZnVuY3Rpb24gcGVyZm9ybUxlYXZlICgpIHsKICAgICAgLy8gdGhlIGRlbGF5ZWQgbGVhdmUgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIGNhbmNlbGxlZAogICAgICBpZiAoY2IuY2FuY2VsbGVkKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudAogICAgICBpZiAoIXZub2RlLmRhdGEuc2hvdyAmJiBlbC5wYXJlbnROb2RlKSB7CiAgICAgICAgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgfHwgKGVsLnBhcmVudE5vZGUuX3BlbmRpbmcgPSB7fSkpWyh2bm9kZS5rZXkpXSA9IHZub2RlOwogICAgICB9CiAgICAgIGJlZm9yZUxlYXZlICYmIGJlZm9yZUxlYXZlKGVsKTsKICAgICAgaWYgKGV4cGVjdHNDU1MpIHsKICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpOwogICAgICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVBY3RpdmVDbGFzcyk7CiAgICAgICAgbmV4dEZyYW1lKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7CiAgICAgICAgICBpZiAoIWNiLmNhbmNlbGxlZCkgewogICAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlVG9DbGFzcyk7CiAgICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkgewogICAgICAgICAgICAgIGlmIChpc1ZhbGlkRHVyYXRpb24oZXhwbGljaXRMZWF2ZUR1cmF0aW9uKSkgewogICAgICAgICAgICAgICAgc2V0VGltZW91dChjYiwgZXhwbGljaXRMZWF2ZUR1cmF0aW9uKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgd2hlblRyYW5zaXRpb25FbmRzKGVsLCB0eXBlLCBjYik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbGVhdmUgJiYgbGVhdmUoZWwsIGNiKTsKICAgICAgaWYgKCFleHBlY3RzQ1NTICYmICF1c2VyV2FudHNDb250cm9sKSB7CiAgICAgICAgY2IoKTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gb25seSB1c2VkIGluIGRldiBtb2RlCiAgZnVuY3Rpb24gY2hlY2tEdXJhdGlvbiAodmFsLCBuYW1lLCB2bm9kZSkgewogICAgaWYgKHR5cGVvZiB2YWwgIT09ICdudW1iZXInKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIjx0cmFuc2l0aW9uPiBleHBsaWNpdCAiICsgbmFtZSArICIgZHVyYXRpb24gaXMgbm90IGEgdmFsaWQgbnVtYmVyIC0gIiArCiAgICAgICAgImdvdCAiICsgKEpTT04uc3RyaW5naWZ5KHZhbCkpICsgIi4iLAogICAgICAgIHZub2RlLmNvbnRleHQKICAgICAgKTsKICAgIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkgewogICAgICB3YXJuKAogICAgICAgICI8dHJhbnNpdGlvbj4gZXhwbGljaXQgIiArIG5hbWUgKyAiIGR1cmF0aW9uIGlzIE5hTiAtICIgKwogICAgICAgICd0aGUgZHVyYXRpb24gZXhwcmVzc2lvbiBtaWdodCBiZSBpbmNvcnJlY3QuJywKICAgICAgICB2bm9kZS5jb250ZXh0CiAgICAgICk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24gKHZhbCkgewogICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInICYmICFpc05hTih2YWwpCiAgfQoKICAvKioKICAgKiBOb3JtYWxpemUgYSB0cmFuc2l0aW9uIGhvb2sncyBhcmd1bWVudCBsZW5ndGguIFRoZSBob29rIG1heSBiZToKICAgKiAtIGEgbWVyZ2VkIGhvb2sgKGludm9rZXIpIHdpdGggdGhlIG9yaWdpbmFsIGluIC5mbnMKICAgKiAtIGEgd3JhcHBlZCBjb21wb25lbnQgbWV0aG9kIChjaGVjayAuX2xlbmd0aCkKICAgKiAtIGEgcGxhaW4gZnVuY3Rpb24gKC5sZW5ndGgpCiAgICovCiAgZnVuY3Rpb24gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aCAoZm4pIHsKICAgIGlmIChpc1VuZGVmKGZuKSkgewogICAgICByZXR1cm4gZmFsc2UKICAgIH0KICAgIHZhciBpbnZva2VyRm5zID0gZm4uZm5zOwogICAgaWYgKGlzRGVmKGludm9rZXJGbnMpKSB7CiAgICAgIC8vIGludm9rZXIKICAgICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoCiAgICAgICAgQXJyYXkuaXNBcnJheShpbnZva2VyRm5zKQogICAgICAgICAgPyBpbnZva2VyRm5zWzBdCiAgICAgICAgICA6IGludm9rZXJGbnMKICAgICAgKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxCiAgICB9CiAgfQoKICBmdW5jdGlvbiBfZW50ZXIgKF8sIHZub2RlKSB7CiAgICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7CiAgICAgIGVudGVyKHZub2RlKTsKICAgIH0KICB9CgogIHZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8gewogICAgY3JlYXRlOiBfZW50ZXIsCiAgICBhY3RpdmF0ZTogX2VudGVyLAogICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUkJDEgKHZub2RlLCBybSkgewogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLwogICAgICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7CiAgICAgICAgbGVhdmUodm5vZGUsIHJtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBybSgpOwogICAgICB9CiAgICB9CiAgfSA6IHt9OwoKICB2YXIgcGxhdGZvcm1Nb2R1bGVzID0gWwogICAgYXR0cnMsCiAgICBrbGFzcywKICAgIGV2ZW50cywKICAgIGRvbVByb3BzLAogICAgc3R5bGUsCiAgICB0cmFuc2l0aW9uCiAgXTsKCiAgLyogICovCgogIC8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbAogIC8vIGJ1aWx0LWluIG1vZHVsZXMgaGF2ZSBiZWVuIGFwcGxpZWQuCiAgdmFyIG1vZHVsZXMgPSBwbGF0Zm9ybU1vZHVsZXMuY29uY2F0KGJhc2VNb2R1bGVzKTsKCiAgdmFyIHBhdGNoID0gY3JlYXRlUGF0Y2hGdW5jdGlvbih7IG5vZGVPcHM6IG5vZGVPcHMsIG1vZHVsZXM6IG1vZHVsZXMgfSk7CgogIC8qKgogICAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZwogICAqIHByb3BlcnRpZXMgdG8gRWxlbWVudHMuCiAgICovCgogIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogIGlmIChpc0lFOSkgewogICAgLy8gaHR0cDovL3d3dy5tYXR0czQxMS5jb20vcG9zdC9pbnRlcm5ldC1leHBsb3Jlci05LW9uaW5wdXQvCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CiAgICAgIGlmIChlbCAmJiBlbC52bW9kZWwpIHsKICAgICAgICB0cmlnZ2VyKGVsLCAnaW5wdXQnKTsKICAgICAgfQogICAgfSk7CiAgfQoKICB2YXIgZGlyZWN0aXZlID0gewogICAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7CiAgICAgIGlmICh2bm9kZS50YWcgPT09ICdzZWxlY3QnKSB7CiAgICAgICAgLy8gIzY5MDMKICAgICAgICBpZiAob2xkVm5vZGUuZWxtICYmICFvbGRWbm9kZS5lbG0uX3ZPcHRpb25zKSB7CiAgICAgICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ3Bvc3RwYXRjaCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBvbmVudFVwZGF0ZWQoZWwsIGJpbmRpbmcsIHZub2RlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm5vZGUuY29udGV4dCk7CiAgICAgICAgfQogICAgICAgIGVsLl92T3B0aW9ucyA9IFtdLm1hcC5jYWxsKGVsLm9wdGlvbnMsIGdldFZhbHVlKTsKICAgICAgfSBlbHNlIGlmICh2bm9kZS50YWcgPT09ICd0ZXh0YXJlYScgfHwgaXNUZXh0SW5wdXRUeXBlKGVsLnR5cGUpKSB7CiAgICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVyczsKICAgICAgICBpZiAoIWJpbmRpbmcubW9kaWZpZXJzLmxhenkpIHsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBvc2l0aW9uc3RhcnQnLCBvbkNvbXBvc2l0aW9uU3RhcnQpOwogICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTsKICAgICAgICAgIC8vIFNhZmFyaSA8IDEwLjIgJiBVSVdlYlZpZXcgZG9lc24ndCBmaXJlIGNvbXBvc2l0aW9uZW5kIHdoZW4KICAgICAgICAgIC8vIHN3aXRjaGluZyBmb2N1cyBiZWZvcmUgY29uZmlybWluZyBjb21wb3NpdGlvbiBjaG9pY2UKICAgICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWUKICAgICAgICAgIC8vIGZpcmVzICJjaGFuZ2UiIGluc3RlYWQgb2YgImlucHV0IiBvbiBhdXRvY29tcGxldGUuCiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBvbkNvbXBvc2l0aW9uRW5kKTsKICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgICAgaWYgKGlzSUU5KSB7CiAgICAgICAgICAgIGVsLnZtb2RlbCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGNvbXBvbmVudFVwZGF0ZWQ6IGZ1bmN0aW9uIGNvbXBvbmVudFVwZGF0ZWQgKGVsLCBiaW5kaW5nLCB2bm9kZSkgewogICAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0JykgewogICAgICAgIHNldFNlbGVjdGVkKGVsLCBiaW5kaW5nLCB2bm9kZS5jb250ZXh0KTsKICAgICAgICAvLyBpbiBjYXNlIHRoZSBvcHRpb25zIHJlbmRlcmVkIGJ5IHYtZm9yIGhhdmUgY2hhbmdlZCwKICAgICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuCiAgICAgICAgLy8gZGV0ZWN0IHN1Y2ggY2FzZXMgYW5kIGZpbHRlciBvdXQgdmFsdWVzIHRoYXQgbm8gbG9uZ2VyIGhhcyBhIG1hdGNoaW5nCiAgICAgICAgLy8gb3B0aW9uIGluIHRoZSBET00uCiAgICAgICAgdmFyIHByZXZPcHRpb25zID0gZWwuX3ZPcHRpb25zOwogICAgICAgIHZhciBjdXJPcHRpb25zID0gZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpOwogICAgICAgIGlmIChjdXJPcHRpb25zLnNvbWUoZnVuY3Rpb24gKG8sIGkpIHsgcmV0dXJuICFsb29zZUVxdWFsKG8sIHByZXZPcHRpb25zW2ldKTsgfSkpIHsKICAgICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmCiAgICAgICAgICAvLyBubyBtYXRjaGluZyBvcHRpb24gZm91bmQgZm9yIGF0IGxlYXN0IG9uZSB2YWx1ZQogICAgICAgICAgdmFyIG5lZWRSZXNldCA9IGVsLm11bHRpcGxlCiAgICAgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGN1ck9wdGlvbnMpOyB9KQogICAgICAgICAgICA6IGJpbmRpbmcudmFsdWUgIT09IGJpbmRpbmcub2xkVmFsdWUgJiYgaGFzTm9NYXRjaGluZ09wdGlvbihiaW5kaW5nLnZhbHVlLCBjdXJPcHRpb25zKTsKICAgICAgICAgIGlmIChuZWVkUmVzZXQpIHsKICAgICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIGZ1bmN0aW9uIHNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHsKICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTsKICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGlzSUUgfHwgaXNFZGdlKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTsKICAgICAgfSwgMCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhY3R1YWxseVNldFNlbGVjdGVkIChlbCwgYmluZGluZywgdm0pIHsKICAgIHZhciB2YWx1ZSA9IGJpbmRpbmcudmFsdWU7CiAgICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlOwogICAgaWYgKGlzTXVsdGlwbGUgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7CiAgICAgIHdhcm4oCiAgICAgICAgIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cIiIgKyAoYmluZGluZy5leHByZXNzaW9uKSArICJcIj4gIiArCiAgICAgICAgImV4cGVjdHMgYW4gQXJyYXkgdmFsdWUgZm9yIGl0cyBiaW5kaW5nLCBidXQgZ290ICIgKyAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKS5zbGljZSg4LCAtMSkpLAogICAgICAgIHZtCiAgICAgICk7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHNlbGVjdGVkLCBvcHRpb247CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGVsLm9wdGlvbnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgIG9wdGlvbiA9IGVsLm9wdGlvbnNbaV07CiAgICAgIGlmIChpc011bHRpcGxlKSB7CiAgICAgICAgc2VsZWN0ZWQgPSBsb29zZUluZGV4T2YodmFsdWUsIGdldFZhbHVlKG9wdGlvbikpID4gLTE7CiAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCAhPT0gc2VsZWN0ZWQpIHsKICAgICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHsKICAgICAgICAgIGlmIChlbC5zZWxlY3RlZEluZGV4ICE9PSBpKSB7CiAgICAgICAgICAgIGVsLnNlbGVjdGVkSW5kZXggPSBpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBpZiAoIWlzTXVsdGlwbGUpIHsKICAgICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xOwogICAgfQogIH0KCiAgZnVuY3Rpb24gaGFzTm9NYXRjaGluZ09wdGlvbiAodmFsdWUsIG9wdGlvbnMpIHsKICAgIHJldHVybiBvcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uIChvKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCB2YWx1ZSk7IH0pCiAgfQoKICBmdW5jdGlvbiBnZXRWYWx1ZSAob3B0aW9uKSB7CiAgICByZXR1cm4gJ192YWx1ZScgaW4gb3B0aW9uCiAgICAgID8gb3B0aW9uLl92YWx1ZQogICAgICA6IG9wdGlvbi52YWx1ZQogIH0KCiAgZnVuY3Rpb24gb25Db21wb3NpdGlvblN0YXJ0IChlKSB7CiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlOwogIH0KCiAgZnVuY3Rpb24gb25Db21wb3NpdGlvbkVuZCAoZSkgewogICAgLy8gcHJldmVudCB0cmlnZ2VyaW5nIGFuIGlucHV0IGV2ZW50IGZvciBubyByZWFzb24KICAgIGlmICghZS50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybiB9CiAgICBlLnRhcmdldC5jb21wb3NpbmcgPSBmYWxzZTsKICAgIHRyaWdnZXIoZS50YXJnZXQsICdpbnB1dCcpOwogIH0KCiAgZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHsKICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTsKICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpOwogICAgZWwuZGlzcGF0Y2hFdmVudChlKTsKICB9CgogIC8qICAqLwoKICAvLyByZWN1cnNpdmVseSBzZWFyY2ggZm9yIHBvc3NpYmxlIHRyYW5zaXRpb24gZGVmaW5lZCBpbnNpZGUgdGhlIGNvbXBvbmVudCByb290CiAgZnVuY3Rpb24gbG9jYXRlTm9kZSAodm5vZGUpIHsKICAgIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbikKICAgICAgPyBsb2NhdGVOb2RlKHZub2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkKICAgICAgOiB2bm9kZQogIH0KCiAgdmFyIHNob3cgPSB7CiAgICBiaW5kOiBmdW5jdGlvbiBiaW5kIChlbCwgcmVmLCB2bm9kZSkgewogICAgICB2YXIgdmFsdWUgPSByZWYudmFsdWU7CgogICAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpOwogICAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uOwogICAgICB2YXIgb3JpZ2luYWxEaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5ID0KICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID09PSAnbm9uZScgPyAnJyA6IGVsLnN0eWxlLmRpc3BsYXk7CiAgICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uJCQxKSB7CiAgICAgICAgdm5vZGUuZGF0YS5zaG93ID0gdHJ1ZTsKICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7CiAgICAgIH0KICAgIH0sCgogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKGVsLCByZWYsIHZub2RlKSB7CiAgICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTsKICAgICAgdmFyIG9sZFZhbHVlID0gcmVmLm9sZFZhbHVlOwoKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmICghdmFsdWUgPT09ICFvbGRWYWx1ZSkgeyByZXR1cm4gfQogICAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpOwogICAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uOwogICAgICBpZiAodHJhbnNpdGlvbiQkMSkgewogICAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICBlbnRlcih2bm9kZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5OwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IHZhbHVlID8gZWwuX192T3JpZ2luYWxEaXNwbGF5IDogJ25vbmUnOwogICAgICB9CiAgICB9LAoKICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kICgKICAgICAgZWwsCiAgICAgIGJpbmRpbmcsCiAgICAgIHZub2RlLAogICAgICBvbGRWbm9kZSwKICAgICAgaXNEZXN0cm95CiAgICApIHsKICAgICAgaWYgKCFpc0Rlc3Ryb3kpIHsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5OwogICAgICB9CiAgICB9CiAgfTsKCiAgdmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHsKICAgIG1vZGVsOiBkaXJlY3RpdmUsCiAgICBzaG93OiBzaG93CiAgfTsKCiAgLyogICovCgogIHZhciB0cmFuc2l0aW9uUHJvcHMgPSB7CiAgICBuYW1lOiBTdHJpbmcsCiAgICBhcHBlYXI6IEJvb2xlYW4sCiAgICBjc3M6IEJvb2xlYW4sCiAgICBtb2RlOiBTdHJpbmcsCiAgICB0eXBlOiBTdHJpbmcsCiAgICBlbnRlckNsYXNzOiBTdHJpbmcsCiAgICBsZWF2ZUNsYXNzOiBTdHJpbmcsCiAgICBlbnRlclRvQ2xhc3M6IFN0cmluZywKICAgIGxlYXZlVG9DbGFzczogU3RyaW5nLAogICAgZW50ZXJBY3RpdmVDbGFzczogU3RyaW5nLAogICAgbGVhdmVBY3RpdmVDbGFzczogU3RyaW5nLAogICAgYXBwZWFyQ2xhc3M6IFN0cmluZywKICAgIGFwcGVhckFjdGl2ZUNsYXNzOiBTdHJpbmcsCiAgICBhcHBlYXJUb0NsYXNzOiBTdHJpbmcsCiAgICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdCiAgfTsKCiAgLy8gaW4gY2FzZSB0aGUgY2hpbGQgaXMgYWxzbyBhbiBhYnN0cmFjdCBjb21wb25lbnQsIGUuZy4gPGtlZXAtYWxpdmU+CiAgLy8gd2Ugd2FudCB0byByZWN1cnNpdmVseSByZXRyaWV2ZSB0aGUgcmVhbCBjb21wb25lbnQgdG8gYmUgcmVuZGVyZWQKICBmdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7CiAgICB2YXIgY29tcE9wdGlvbnMgPSB2bm9kZSAmJiB2bm9kZS5jb21wb25lbnRPcHRpb25zOwogICAgaWYgKGNvbXBPcHRpb25zICYmIGNvbXBPcHRpb25zLkN0b3Iub3B0aW9ucy5hYnN0cmFjdCkgewogICAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHZub2RlCiAgICB9CiAgfQoKICBmdW5jdGlvbiBleHRyYWN0VHJhbnNpdGlvbkRhdGEgKGNvbXApIHsKICAgIHZhciBkYXRhID0ge307CiAgICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7CiAgICAvLyBwcm9wcwogICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMucHJvcHNEYXRhKSB7CiAgICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTsKICAgIH0KICAgIC8vIGV2ZW50cy4KICAgIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kcwogICAgdmFyIGxpc3RlbmVycyA9IG9wdGlvbnMuX3BhcmVudExpc3RlbmVyczsKICAgIGZvciAodmFyIGtleSQxIGluIGxpc3RlbmVycykgewogICAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdOwogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIGZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkgewogICAgaWYgKC9cZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7CiAgICAgIHJldHVybiBoKCdrZWVwLWFsaXZlJywgewogICAgICAgIHByb3BzOiByYXdDaGlsZC5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YQogICAgICB9KQogICAgfQogIH0KCiAgZnVuY3Rpb24gaGFzUGFyZW50VHJhbnNpdGlvbiAodm5vZGUpIHsKICAgIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7CiAgICAgIGlmICh2bm9kZS5kYXRhLnRyYW5zaXRpb24pIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBpc1NhbWVDaGlsZCAoY2hpbGQsIG9sZENoaWxkKSB7CiAgICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWcKICB9CgogIHZhciBpc05vdFRleHROb2RlID0gZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMudGFnIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKTsgfTsKCiAgdmFyIGlzVlNob3dEaXJlY3RpdmUgPSBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5uYW1lID09PSAnc2hvdyc7IH07CgogIHZhciBUcmFuc2l0aW9uID0gewogICAgbmFtZTogJ3RyYW5zaXRpb24nLAogICAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcywKICAgIGFic3RyYWN0OiB0cnVlLAoKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7CiAgICAgIHZhciB0aGlzJDEgPSB0aGlzOwoKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdDsKICAgICAgaWYgKCFjaGlsZHJlbikgewogICAgICAgIHJldHVybgogICAgICB9CgogICAgICAvLyBmaWx0ZXIgb3V0IHRleHQgbm9kZXMgKHBvc3NpYmxlIHdoaXRlc3BhY2VzKQogICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpc05vdFRleHROb2RlKTsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIHdhcm4gbXVsdGlwbGUgZWxlbWVudHMKICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDEpIHsKICAgICAgICB3YXJuKAogICAgICAgICAgJzx0cmFuc2l0aW9uPiBjYW4gb25seSBiZSB1c2VkIG9uIGEgc2luZ2xlIGVsZW1lbnQuIFVzZSAnICsKICAgICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsCiAgICAgICAgICB0aGlzLiRwYXJlbnQKICAgICAgICApOwogICAgICB9CgogICAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTsKCiAgICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlCiAgICAgIGlmIChtb2RlICYmIG1vZGUgIT09ICdpbi1vdXQnICYmIG1vZGUgIT09ICdvdXQtaW4nCiAgICAgICkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAnaW52YWxpZCA8dHJhbnNpdGlvbj4gbW9kZTogJyArIG1vZGUsCiAgICAgICAgICB0aGlzLiRwYXJlbnQKICAgICAgICApOwogICAgICB9CgogICAgICB2YXIgcmF3Q2hpbGQgPSBjaGlsZHJlblswXTsKCiAgICAgIC8vIGlmIHRoaXMgaXMgYSBjb21wb25lbnQgcm9vdCBub2RlIGFuZCB0aGUgY29tcG9uZW50J3MKICAgICAgLy8gcGFyZW50IGNvbnRhaW5lciBub2RlIGFsc28gaGFzIHRyYW5zaXRpb24sIHNraXAuCiAgICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkgewogICAgICAgIHJldHVybiByYXdDaGlsZAogICAgICB9CgogICAgICAvLyBhcHBseSB0cmFuc2l0aW9uIGRhdGEgdG8gY2hpbGQKICAgICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZQogICAgICB2YXIgY2hpbGQgPSBnZXRSZWFsQ2hpbGQocmF3Q2hpbGQpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKCFjaGlsZCkgewogICAgICAgIHJldHVybiByYXdDaGlsZAogICAgICB9CgogICAgICBpZiAodGhpcy5fbGVhdmluZykgewogICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZCkKICAgICAgfQoKICAgICAgLy8gZW5zdXJlIGEga2V5IHRoYXQgaXMgdW5pcXVlIHRvIHRoZSB2bm9kZSB0eXBlIGFuZCB0byB0aGlzIHRyYW5zaXRpb24KICAgICAgLy8gY29tcG9uZW50IGluc3RhbmNlLiBUaGlzIGtleSB3aWxsIGJlIHVzZWQgdG8gcmVtb3ZlIHBlbmRpbmcgbGVhdmluZyBub2RlcwogICAgICAvLyBkdXJpbmcgZW50ZXJpbmcuCiAgICAgIHZhciBpZCA9ICJfX3RyYW5zaXRpb24tIiArICh0aGlzLl91aWQpICsgIi0iOwogICAgICBjaGlsZC5rZXkgPSBjaGlsZC5rZXkgPT0gbnVsbAogICAgICAgID8gY2hpbGQuaXNDb21tZW50CiAgICAgICAgICA/IGlkICsgJ2NvbW1lbnQnCiAgICAgICAgICA6IGlkICsgY2hpbGQudGFnCiAgICAgICAgOiBpc1ByaW1pdGl2ZShjaGlsZC5rZXkpCiAgICAgICAgICA/IChTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMCA/IGNoaWxkLmtleSA6IGlkICsgY2hpbGQua2V5KQogICAgICAgICAgOiBjaGlsZC5rZXk7CgogICAgICB2YXIgZGF0YSA9IChjaGlsZC5kYXRhIHx8IChjaGlsZC5kYXRhID0ge30pKS50cmFuc2l0aW9uID0gZXh0cmFjdFRyYW5zaXRpb25EYXRhKHRoaXMpOwogICAgICB2YXIgb2xkUmF3Q2hpbGQgPSB0aGlzLl92bm9kZTsKICAgICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTsKCiAgICAgIC8vIG1hcmsgdi1zaG93CiAgICAgIC8vIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gbW9kdWxlIGNhbiBoYW5kIG92ZXIgdGhlIGNvbnRyb2wgdG8gdGhlIGRpcmVjdGl2ZQogICAgICBpZiAoY2hpbGQuZGF0YS5kaXJlY3RpdmVzICYmIGNoaWxkLmRhdGEuZGlyZWN0aXZlcy5zb21lKGlzVlNob3dEaXJlY3RpdmUpKSB7CiAgICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKAogICAgICAgIG9sZENoaWxkICYmCiAgICAgICAgb2xkQ2hpbGQuZGF0YSAmJgogICAgICAgICFpc1NhbWVDaGlsZChjaGlsZCwgb2xkQ2hpbGQpICYmCiAgICAgICAgIWlzQXN5bmNQbGFjZWhvbGRlcihvbGRDaGlsZCkgJiYKICAgICAgICAvLyAjNjY4NyBjb21wb25lbnQgcm9vdCBpcyBhIGNvbW1lbnQgbm9kZQogICAgICAgICEob2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UgJiYgb2xkQ2hpbGQuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLmlzQ29tbWVudCkKICAgICAgKSB7CiAgICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lCiAgICAgICAgLy8gaW1wb3J0YW50IGZvciBkeW5hbWljIHRyYW5zaXRpb25zIQogICAgICAgIHZhciBvbGREYXRhID0gb2xkQ2hpbGQuZGF0YS50cmFuc2l0aW9uID0gZXh0ZW5kKHt9LCBkYXRhKTsKICAgICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlCiAgICAgICAgaWYgKG1vZGUgPT09ICdvdXQtaW4nKSB7CiAgICAgICAgICAvLyByZXR1cm4gcGxhY2Vob2xkZXIgbm9kZSBhbmQgcXVldWUgdXBkYXRlIHdoZW4gbGVhdmUgZmluaXNoZXMKICAgICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlOwogICAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2FmdGVyTGVhdmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMkMS5fbGVhdmluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZCkKICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7CiAgICAgICAgICBpZiAoaXNBc3luY1BsYWNlaG9sZGVyKGNoaWxkKSkgewogICAgICAgICAgICByZXR1cm4gb2xkUmF3Q2hpbGQKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkZWxheWVkTGVhdmU7CiAgICAgICAgICB2YXIgcGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKCkgeyBkZWxheWVkTGVhdmUoKTsgfTsKICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTsKICAgICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdlbnRlckNhbmNlbGxlZCcsIHBlcmZvcm1MZWF2ZSk7CiAgICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnZGVsYXlMZWF2ZScsIGZ1bmN0aW9uIChsZWF2ZSkgeyBkZWxheWVkTGVhdmUgPSBsZWF2ZTsgfSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmF3Q2hpbGQKICAgIH0KICB9OwoKICAvKiAgKi8KCiAgdmFyIHByb3BzID0gZXh0ZW5kKHsKICAgIHRhZzogU3RyaW5nLAogICAgbW92ZUNsYXNzOiBTdHJpbmcKICB9LCB0cmFuc2l0aW9uUHJvcHMpOwoKICBkZWxldGUgcHJvcHMubW9kZTsKCiAgdmFyIFRyYW5zaXRpb25Hcm91cCA9IHsKICAgIHByb3BzOiBwcm9wcywKCiAgICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQgKCkgewogICAgICB2YXIgdGhpcyQxID0gdGhpczsKCiAgICAgIHZhciB1cGRhdGUgPSB0aGlzLl91cGRhdGU7CiAgICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7CiAgICAgICAgdmFyIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSA9IHNldEFjdGl2ZUluc3RhbmNlKHRoaXMkMSk7CiAgICAgICAgLy8gZm9yY2UgcmVtb3ZpbmcgcGFzcwogICAgICAgIHRoaXMkMS5fX3BhdGNoX18oCiAgICAgICAgICB0aGlzJDEuX3Zub2RlLAogICAgICAgICAgdGhpcyQxLmtlcHQsCiAgICAgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nCiAgICAgICAgICB0cnVlIC8vIHJlbW92ZU9ubHkgKCFpbXBvcnRhbnQsIGF2b2lkcyB1bm5lY2Vzc2FyeSBtb3ZlcykKICAgICAgICApOwogICAgICAgIHRoaXMkMS5fdm5vZGUgPSB0aGlzJDEua2VwdDsKICAgICAgICByZXN0b3JlQWN0aXZlSW5zdGFuY2UoKTsKICAgICAgICB1cGRhdGUuY2FsbCh0aGlzJDEsIHZub2RlLCBoeWRyYXRpbmcpOwogICAgICB9OwogICAgfSwKCiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlciAoaCkgewogICAgICB2YXIgdGFnID0gdGhpcy50YWcgfHwgdGhpcy4kdm5vZGUuZGF0YS50YWcgfHwgJ3NwYW4nOwogICAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgICAgdmFyIHByZXZDaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjsKICAgICAgdmFyIHJhd0NoaWxkcmVuID0gdGhpcy4kc2xvdHMuZGVmYXVsdCB8fCBbXTsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdOwogICAgICB2YXIgdHJhbnNpdGlvbkRhdGEgPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhd0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGMgPSByYXdDaGlsZHJlbltpXTsKICAgICAgICBpZiAoYy50YWcpIHsKICAgICAgICAgIGlmIChjLmtleSAhPSBudWxsICYmIFN0cmluZyhjLmtleSkuaW5kZXhPZignX192bGlzdCcpICE9PSAwKSB7CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goYyk7CiAgICAgICAgICAgIG1hcFtjLmtleV0gPSBjCiAgICAgICAgICAgIDsoYy5kYXRhIHx8IChjLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBvcHRzID0gYy5jb21wb25lbnRPcHRpb25zOwogICAgICAgICAgICB2YXIgbmFtZSA9IG9wdHMgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZyB8fCAnJykgOiBjLnRhZzsKICAgICAgICAgICAgd2FybigoIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8IiArIG5hbWUgKyAiPiIpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChwcmV2Q2hpbGRyZW4pIHsKICAgICAgICB2YXIga2VwdCA9IFtdOwogICAgICAgIHZhciByZW1vdmVkID0gW107CiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHsKICAgICAgICAgIHZhciBjJDEgPSBwcmV2Q2hpbGRyZW5baSQxXTsKICAgICAgICAgIGMkMS5kYXRhLnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRGF0YTsKICAgICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICBpZiAobWFwW2MkMS5rZXldKSB7CiAgICAgICAgICAgIGtlcHQucHVzaChjJDEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVtb3ZlZC5wdXNoKGMkMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMua2VwdCA9IGgodGFnLCBudWxsLCBrZXB0KTsKICAgICAgICB0aGlzLnJlbW92ZWQgPSByZW1vdmVkOwogICAgICB9CgogICAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKQogICAgfSwKCiAgICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkICgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW47CiAgICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7CiAgICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoIHx8ICF0aGlzLmhhc01vdmUoY2hpbGRyZW5bMF0uZWxtLCBtb3ZlQ2xhc3MpKSB7CiAgICAgICAgcmV0dXJuCiAgICAgIH0KCiAgICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlcwogICAgICAvLyBpbiBlYWNoIGl0ZXJhdGlvbiAtIHdoaWNoIGhlbHBzIHByZXZlbnQgbGF5b3V0IHRocmFzaGluZy4KICAgICAgY2hpbGRyZW4uZm9yRWFjaChjYWxsUGVuZGluZ0Nicyk7CiAgICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pOwogICAgICBjaGlsZHJlbi5mb3JFYWNoKGFwcGx5VHJhbnNsYXRpb24pOwoKICAgICAgLy8gZm9yY2UgcmVmbG93IHRvIHB1dCBldmVyeXRoaW5nIGluIHBvc2l0aW9uCiAgICAgIC8vIGFzc2lnbiB0byB0aGlzIHRvIGF2b2lkIGJlaW5nIHJlbW92ZWQgaW4gdHJlZS1zaGFraW5nCiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZQogICAgICB0aGlzLl9yZWZsb3cgPSBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodDsKCiAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICBpZiAoYy5kYXRhLm1vdmVkKSB7CiAgICAgICAgICB2YXIgZWwgPSBjLmVsbTsKICAgICAgICAgIHZhciBzID0gZWwuc3R5bGU7CiAgICAgICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIG1vdmVDbGFzcyk7CiAgICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJzsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBlbC5fbW92ZUNiID0gZnVuY3Rpb24gY2IgKGUpIHsKICAgICAgICAgICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IGVsKSB7CiAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFlIHx8IC90cmFuc2Zvcm0kLy50ZXN0KGUucHJvcGVydHlOYW1lKSkgewogICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7CiAgICAgICAgICAgICAgZWwuX21vdmVDYiA9IG51bGw7CiAgICAgICAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgIGhhc01vdmU6IGZ1bmN0aW9uIGhhc01vdmUgKGVsLCBtb3ZlQ2xhc3MpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoIWhhc1RyYW5zaXRpb24pIHsKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAodGhpcy5faGFzTW92ZSkgewogICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmUKICAgICAgICB9CiAgICAgICAgLy8gRGV0ZWN0IHdoZXRoZXIgYW4gZWxlbWVudCB3aXRoIHRoZSBtb3ZlIGNsYXNzIGFwcGxpZWQgaGFzCiAgICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nCiAgICAgICAgLy8gdHJhbnNpdGlvbiBhdCB0aGlzIHZlcnkgbW9tZW50LCB3ZSBtYWtlIGEgY2xvbmUgb2YgaXQgYW5kIHJlbW92ZQogICAgICAgIC8vIGFsbCBvdGhlciB0cmFuc2l0aW9uIGNsYXNzZXMgYXBwbGllZCB0byBlbnN1cmUgb25seSB0aGUgbW92ZSBjbGFzcwogICAgICAgIC8vIGlzIGFwcGxpZWQuCiAgICAgICAgdmFyIGNsb25lID0gZWwuY2xvbmVOb2RlKCk7CiAgICAgICAgaWYgKGVsLl90cmFuc2l0aW9uQ2xhc3NlcykgewogICAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykgeyByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTsgfSk7CiAgICAgICAgfQogICAgICAgIGFkZENsYXNzKGNsb25lLCBtb3ZlQ2xhc3MpOwogICAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgdGhpcy4kZWwuYXBwZW5kQ2hpbGQoY2xvbmUpOwogICAgICAgIHZhciBpbmZvID0gZ2V0VHJhbnNpdGlvbkluZm8oY2xvbmUpOwogICAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTsKICAgICAgICByZXR1cm4gKHRoaXMuX2hhc01vdmUgPSBpbmZvLmhhc1RyYW5zZm9ybSkKICAgICAgfQogICAgfQogIH07CgogIGZ1bmN0aW9uIGNhbGxQZW5kaW5nQ2JzIChjKSB7CiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChjLmVsbS5fbW92ZUNiKSB7CiAgICAgIGMuZWxtLl9tb3ZlQ2IoKTsKICAgIH0KICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgaWYgKGMuZWxtLl9lbnRlckNiKSB7CiAgICAgIGMuZWxtLl9lbnRlckNiKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiByZWNvcmRQb3NpdGlvbiAoYykgewogICAgYy5kYXRhLm5ld1BvcyA9IGMuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogIH0KCiAgZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykgewogICAgdmFyIG9sZFBvcyA9IGMuZGF0YS5wb3M7CiAgICB2YXIgbmV3UG9zID0gYy5kYXRhLm5ld1BvczsKICAgIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7CiAgICB2YXIgZHkgPSBvbGRQb3MudG9wIC0gbmV3UG9zLnRvcDsKICAgIGlmIChkeCB8fCBkeSkgewogICAgICBjLmRhdGEubW92ZWQgPSB0cnVlOwogICAgICB2YXIgcyA9IGMuZWxtLnN0eWxlOwogICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gInRyYW5zbGF0ZSgiICsgZHggKyAicHgsIiArIGR5ICsgInB4KSI7CiAgICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJzsKICAgIH0KICB9CgogIHZhciBwbGF0Zm9ybUNvbXBvbmVudHMgPSB7CiAgICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLAogICAgVHJhbnNpdGlvbkdyb3VwOiBUcmFuc2l0aW9uR3JvdXAKICB9OwoKICAvKiAgKi8KCiAgLy8gaW5zdGFsbCBwbGF0Zm9ybSBzcGVjaWZpYyB1dGlscwogIFZ1ZS5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDsKICBWdWUuY29uZmlnLmlzUmVzZXJ2ZWRUYWcgPSBpc1Jlc2VydmVkVGFnOwogIFZ1ZS5jb25maWcuaXNSZXNlcnZlZEF0dHIgPSBpc1Jlc2VydmVkQXR0cjsKICBWdWUuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTsKICBWdWUuY29uZmlnLmlzVW5rbm93bkVsZW1lbnQgPSBpc1Vua25vd25FbGVtZW50OwoKICAvLyBpbnN0YWxsIHBsYXRmb3JtIHJ1bnRpbWUgZGlyZWN0aXZlcyAmIGNvbXBvbmVudHMKICBleHRlbmQoVnVlLm9wdGlvbnMuZGlyZWN0aXZlcywgcGxhdGZvcm1EaXJlY3RpdmVzKTsKICBleHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTsKCiAgLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvbgogIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fID0gaW5Ccm93c2VyID8gcGF0Y2ggOiBub29wOwoKICAvLyBwdWJsaWMgbW91bnQgbWV0aG9kCiAgVnVlLnByb3RvdHlwZS4kbW91bnQgPSBmdW5jdGlvbiAoCiAgICBlbCwKICAgIGh5ZHJhdGluZwogICkgewogICAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7CiAgICByZXR1cm4gbW91bnRDb21wb25lbnQodGhpcywgZWwsIGh5ZHJhdGluZykKICB9OwoKICAvLyBkZXZ0b29scyBnbG9iYWwgaG9vawogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgaWYgKGluQnJvd3NlcikgewogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHsKICAgICAgICBpZiAoZGV2dG9vbHMpIHsKICAgICAgICAgIGRldnRvb2xzLmVtaXQoJ2luaXQnLCBWdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXSgKICAgICAgICAgICAgJ0Rvd25sb2FkIHRoZSBWdWUgRGV2dG9vbHMgZXh0ZW5zaW9uIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOlxuJyArCiAgICAgICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vdnVlanMvdnVlLWRldnRvb2xzJwogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJgogICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJwogICAgICApIHsKICAgICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXSgKICAgICAgICAgICJZb3UgYXJlIHJ1bm5pbmcgVnVlIGluIGRldmVsb3BtZW50IG1vZGUuXG4iICsKICAgICAgICAgICJNYWtlIHN1cmUgdG8gdHVybiBvbiBwcm9kdWN0aW9uIG1vZGUgd2hlbiBkZXBsb3lpbmcgZm9yIHByb2R1Y3Rpb24uXG4iICsKICAgICAgICAgICJTZWUgbW9yZSB0aXBzIGF0IGh0dHBzOi8vdnVlanMub3JnL2d1aWRlL2RlcGxveW1lbnQuaHRtbCIKICAgICAgICApOwogICAgICB9CiAgICB9LCAwKTsKICB9CgogIC8qICAqLwoKICB2YXIgZGVmYXVsdFRhZ1JFID0gL1x7XHsoKD86Lnxccj9cbikrPylcfVx9L2c7CiAgdmFyIHJlZ2V4RXNjYXBlUkUgPSAvWy0uKis/XiR7fSgpfFtcXVwvXFxdL2c7CgogIHZhciBidWlsZFJlZ2V4ID0gY2FjaGVkKGZ1bmN0aW9uIChkZWxpbWl0ZXJzKSB7CiAgICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFwkJicpOwogICAgdmFyIGNsb3NlID0gZGVsaW1pdGVyc1sxXS5yZXBsYWNlKHJlZ2V4RXNjYXBlUkUsICdcXCQmJyk7CiAgICByZXR1cm4gbmV3IFJlZ0V4cChvcGVuICsgJygoPzoufFxcbikrPyknICsgY2xvc2UsICdnJykKICB9KTsKCgoKICBmdW5jdGlvbiBwYXJzZVRleHQgKAogICAgdGV4dCwKICAgIGRlbGltaXRlcnMKICApIHsKICAgIHZhciB0YWdSRSA9IGRlbGltaXRlcnMgPyBidWlsZFJlZ2V4KGRlbGltaXRlcnMpIDogZGVmYXVsdFRhZ1JFOwogICAgaWYgKCF0YWdSRS50ZXN0KHRleHQpKSB7CiAgICAgIHJldHVybgogICAgfQogICAgdmFyIHRva2VucyA9IFtdOwogICAgdmFyIHJhd1Rva2VucyA9IFtdOwogICAgdmFyIGxhc3RJbmRleCA9IHRhZ1JFLmxhc3RJbmRleCA9IDA7CiAgICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlOwogICAgd2hpbGUgKChtYXRjaCA9IHRhZ1JFLmV4ZWModGV4dCkpKSB7CiAgICAgIGluZGV4ID0gbWF0Y2guaW5kZXg7CiAgICAgIC8vIHB1c2ggdGV4dCB0b2tlbgogICAgICBpZiAoaW5kZXggPiBsYXN0SW5kZXgpIHsKICAgICAgICByYXdUb2tlbnMucHVzaCh0b2tlblZhbHVlID0gdGV4dC5zbGljZShsYXN0SW5kZXgsIGluZGV4KSk7CiAgICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpOwogICAgICB9CiAgICAgIC8vIHRhZyB0b2tlbgogICAgICB2YXIgZXhwID0gcGFyc2VGaWx0ZXJzKG1hdGNoWzFdLnRyaW0oKSk7CiAgICAgIHRva2Vucy5wdXNoKCgiX3MoIiArIGV4cCArICIpIikpOwogICAgICByYXdUb2tlbnMucHVzaCh7ICdAYmluZGluZyc6IGV4cCB9KTsKICAgICAgbGFzdEluZGV4ID0gaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICB9CiAgICBpZiAobGFzdEluZGV4IDwgdGV4dC5sZW5ndGgpIHsKICAgICAgcmF3VG9rZW5zLnB1c2godG9rZW5WYWx1ZSA9IHRleHQuc2xpY2UobGFzdEluZGV4KSk7CiAgICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIGV4cHJlc3Npb246IHRva2Vucy5qb2luKCcrJyksCiAgICAgIHRva2VuczogcmF3VG9rZW5zCiAgICB9CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHsKICAgIHZhciB3YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwogICAgdmFyIHN0YXRpY0NsYXNzID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ2NsYXNzJyk7CiAgICBpZiAoc3RhdGljQ2xhc3MpIHsKICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dChzdGF0aWNDbGFzcywgb3B0aW9ucy5kZWxpbWl0ZXJzKTsKICAgICAgaWYgKHJlcykgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiY2xhc3M9XCIiICsgc3RhdGljQ2xhc3MgKyAiXCI6ICIgKwogICAgICAgICAgJ0ludGVycG9sYXRpb24gaW5zaWRlIGF0dHJpYnV0ZXMgaGFzIGJlZW4gcmVtb3ZlZC4gJyArCiAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICsKICAgICAgICAgICdpbnN0ZWFkIG9mIDxkaXYgY2xhc3M9Int7IHZhbCB9fSI+LCB1c2UgPGRpdiA6Y2xhc3M9InZhbCI+LicsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnY2xhc3MnXQogICAgICAgICk7CiAgICAgIH0KICAgIH0KICAgIGlmIChzdGF0aWNDbGFzcykgewogICAgICBlbC5zdGF0aWNDbGFzcyA9IEpTT04uc3RyaW5naWZ5KHN0YXRpY0NsYXNzKTsKICAgIH0KICAgIHZhciBjbGFzc0JpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ2NsYXNzJywgZmFsc2UgLyogZ2V0U3RhdGljICovKTsKICAgIGlmIChjbGFzc0JpbmRpbmcpIHsKICAgICAgZWwuY2xhc3NCaW5kaW5nID0gY2xhc3NCaW5kaW5nOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2VuRGF0YSAoZWwpIHsKICAgIHZhciBkYXRhID0gJyc7CiAgICBpZiAoZWwuc3RhdGljQ2xhc3MpIHsKICAgICAgZGF0YSArPSAic3RhdGljQ2xhc3M6IiArIChlbC5zdGF0aWNDbGFzcykgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7CiAgICAgIGRhdGEgKz0gImNsYXNzOiIgKyAoZWwuY2xhc3NCaW5kaW5nKSArICIsIjsKICAgIH0KICAgIHJldHVybiBkYXRhCiAgfQoKICB2YXIga2xhc3MkMSA9IHsKICAgIHN0YXRpY0tleXM6IFsnc3RhdGljQ2xhc3MnXSwKICAgIHRyYW5zZm9ybU5vZGU6IHRyYW5zZm9ybU5vZGUsCiAgICBnZW5EYXRhOiBnZW5EYXRhCiAgfTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHRyYW5zZm9ybU5vZGUkMSAoZWwsIG9wdGlvbnMpIHsKICAgIHZhciB3YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwogICAgdmFyIHN0YXRpY1N0eWxlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3N0eWxlJyk7CiAgICBpZiAoc3RhdGljU3R5bGUpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHN0YXRpY1N0eWxlLCBvcHRpb25zLmRlbGltaXRlcnMpOwogICAgICAgIGlmIChyZXMpIHsKICAgICAgICAgIHdhcm4oCiAgICAgICAgICAgICJzdHlsZT1cIiIgKyBzdGF0aWNTdHlsZSArICJcIjogIiArCiAgICAgICAgICAgICdJbnRlcnBvbGF0aW9uIGluc2lkZSBhdHRyaWJ1dGVzIGhhcyBiZWVuIHJlbW92ZWQuICcgKwogICAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICsKICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBzdHlsZT0ie3sgdmFsIH19Ij4sIHVzZSA8ZGl2IDpzdHlsZT0idmFsIj4uJywKICAgICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3N0eWxlJ10KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGVsLnN0YXRpY1N0eWxlID0gSlNPTi5zdHJpbmdpZnkocGFyc2VTdHlsZVRleHQoc3RhdGljU3R5bGUpKTsKICAgIH0KCiAgICB2YXIgc3R5bGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzdHlsZScsIGZhbHNlIC8qIGdldFN0YXRpYyAqLyk7CiAgICBpZiAoc3R5bGVCaW5kaW5nKSB7CiAgICAgIGVsLnN0eWxlQmluZGluZyA9IHN0eWxlQmluZGluZzsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbkRhdGEkMSAoZWwpIHsKICAgIHZhciBkYXRhID0gJyc7CiAgICBpZiAoZWwuc3RhdGljU3R5bGUpIHsKICAgICAgZGF0YSArPSAic3RhdGljU3R5bGU6IiArIChlbC5zdGF0aWNTdHlsZSkgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwuc3R5bGVCaW5kaW5nKSB7CiAgICAgIGRhdGEgKz0gInN0eWxlOigiICsgKGVsLnN0eWxlQmluZGluZykgKyAiKSwiOwogICAgfQogICAgcmV0dXJuIGRhdGEKICB9CgogIHZhciBzdHlsZSQxID0gewogICAgc3RhdGljS2V5czogWydzdGF0aWNTdHlsZSddLAogICAgdHJhbnNmb3JtTm9kZTogdHJhbnNmb3JtTm9kZSQxLAogICAgZ2VuRGF0YTogZ2VuRGF0YSQxCiAgfTsKCiAgLyogICovCgogIHZhciBkZWNvZGVyOwoKICB2YXIgaGUgPSB7CiAgICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZSAoaHRtbCkgewogICAgICBkZWNvZGVyID0gZGVjb2RlciB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgZGVjb2Rlci5pbm5lckhUTUwgPSBodG1sOwogICAgICByZXR1cm4gZGVjb2Rlci50ZXh0Q29udGVudAogICAgfQogIH07CgogIC8qICAqLwoKICB2YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoCiAgICAnYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sJyArCiAgICAnbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnInCiAgKTsKCiAgLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuCiAgLy8gKGFuZCB3aGljaCBjbG9zZSB0aGVtc2VsdmVzKQogIHZhciBjYW5CZUxlZnRPcGVuVGFnID0gbWFrZU1hcCgKICAgICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJwogICk7CgogIC8vIEhUTUw1IHRhZ3MgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sI2VsZW1lbnRzLTMKICAvLyBQaHJhc2luZyBDb250ZW50IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2RvbS5odG1sI3BocmFzaW5nLWNvbnRlbnQKICB2YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoCiAgICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLCcgKwogICAgJ2RldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSwnICsKICAgICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICsKICAgICdvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsJyArCiAgICAndGl0bGUsdHIsdHJhY2snCiAgKTsKCiAgLyoqCiAgICogTm90IHR5cGUtY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgaXQncyBtb3N0bHkgdmVuZG9yIGNvZGUuCiAgICovCgogIC8vIFJlZ3VsYXIgRXhwcmVzc2lvbnMgZm9yIHBhcnNpbmcgdGFncyBhbmQgYXR0cmlidXRlcwogIHZhciBhdHRyaWJ1dGUgPSAvXlxzKihbXlxzIic8PlwvPV0rKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy87CiAgdmFyIGR5bmFtaWNBcmdBdHRyaWJ1dGUgPSAvXlxzKigoPzp2LVtcdy1dKzp8QHw6fCMpXFtbXj1dK1xdW15ccyInPD5cLz1dKikoPzpccyooPSlccyooPzoiKFteIl0qKSIrfCcoW14nXSopJyt8KFteXHMiJz08PmBdKykpKT8vOwogIHZhciBuY25hbWUgPSAiW2EtekEtWl9dW1xcLVxcLjAtOV9hLXpBLVoiICsgKHVuaWNvZGVSZWdFeHAuc291cmNlKSArICJdKiI7CiAgdmFyIHFuYW1lQ2FwdHVyZSA9ICIoKD86IiArIG5jbmFtZSArICJcXDopPyIgKyBuY25hbWUgKyAiKSI7CiAgdmFyIHN0YXJ0VGFnT3BlbiA9IG5ldyBSZWdFeHAoKCJePCIgKyBxbmFtZUNhcHR1cmUpKTsKICB2YXIgc3RhcnRUYWdDbG9zZSA9IC9eXHMqKFwvPyk+LzsKICB2YXIgZW5kVGFnID0gbmV3IFJlZ0V4cCgoIl48XFwvIiArIHFuYW1lQ2FwdHVyZSArICJbXj5dKj4iKSk7CiAgdmFyIGRvY3R5cGUgPSAvXjwhRE9DVFlQRSBbXj5dKz4vaTsKICAvLyAjNzI5ODogZXNjYXBlIC0gdG8gYXZvaWQgYmVpbmcgcGFzZWQgYXMgSFRNTCBjb21tZW50IHdoZW4gaW5saW5lZCBpbiBwYWdlCiAgdmFyIGNvbW1lbnQgPSAvXjwhXC0tLzsKICB2YXIgY29uZGl0aW9uYWxDb21tZW50ID0gL148IVxbLzsKCiAgLy8gU3BlY2lhbCBFbGVtZW50cyAoY2FuIGNvbnRhaW4gYW55dGhpbmcpCiAgdmFyIGlzUGxhaW5UZXh0RWxlbWVudCA9IG1ha2VNYXAoJ3NjcmlwdCxzdHlsZSx0ZXh0YXJlYScsIHRydWUpOwogIHZhciByZUNhY2hlID0ge307CgogIHZhciBkZWNvZGluZ01hcCA9IHsKICAgICcmbHQ7JzogJzwnLAogICAgJyZndDsnOiAnPicsCiAgICAnJnF1b3Q7JzogJyInLAogICAgJyZhbXA7JzogJyYnLAogICAgJyYjMTA7JzogJ1xuJywKICAgICcmIzk7JzogJ1x0JywKICAgICcmIzM5Oyc6ICInIgogIH07CiAgdmFyIGVuY29kZWRBdHRyID0gLyYoPzpsdHxndHxxdW90fGFtcHwjMzkpOy9nOwogIHZhciBlbmNvZGVkQXR0cldpdGhOZXdMaW5lcyA9IC8mKD86bHR8Z3R8cXVvdHxhbXB8IzM5fCMxMHwjOSk7L2c7CgogIC8vICM1OTkyCiAgdmFyIGlzSWdub3JlTmV3bGluZVRhZyA9IG1ha2VNYXAoJ3ByZSx0ZXh0YXJlYScsIHRydWUpOwogIHZhciBzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUgPSBmdW5jdGlvbiAodGFnLCBodG1sKSB7IHJldHVybiB0YWcgJiYgaXNJZ25vcmVOZXdsaW5lVGFnKHRhZykgJiYgaHRtbFswXSA9PT0gJ1xuJzsgfTsKCiAgZnVuY3Rpb24gZGVjb2RlQXR0ciAodmFsdWUsIHNob3VsZERlY29kZU5ld2xpbmVzKSB7CiAgICB2YXIgcmUgPSBzaG91bGREZWNvZGVOZXdsaW5lcyA/IGVuY29kZWRBdHRyV2l0aE5ld0xpbmVzIDogZW5jb2RlZEF0dHI7CiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShyZSwgZnVuY3Rpb24gKG1hdGNoKSB7IHJldHVybiBkZWNvZGluZ01hcFttYXRjaF07IH0pCiAgfQoKICBmdW5jdGlvbiBwYXJzZUhUTUwgKGh0bWwsIG9wdGlvbnMpIHsKICAgIHZhciBzdGFjayA9IFtdOwogICAgdmFyIGV4cGVjdEhUTUwgPSBvcHRpb25zLmV4cGVjdEhUTUw7CiAgICB2YXIgaXNVbmFyeVRhZyQkMSA9IG9wdGlvbnMuaXNVbmFyeVRhZyB8fCBubzsKICAgIHZhciBjYW5CZUxlZnRPcGVuVGFnJCQxID0gb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnIHx8IG5vOwogICAgdmFyIGluZGV4ID0gMDsKICAgIHZhciBsYXN0LCBsYXN0VGFnOwogICAgd2hpbGUgKGh0bWwpIHsKICAgICAgbGFzdCA9IGh0bWw7CiAgICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBub3QgaW4gYSBwbGFpbnRleHQgY29udGVudCBlbGVtZW50IGxpa2Ugc2NyaXB0L3N0eWxlCiAgICAgIGlmICghbGFzdFRhZyB8fCAhaXNQbGFpblRleHRFbGVtZW50KGxhc3RUYWcpKSB7CiAgICAgICAgdmFyIHRleHRFbmQgPSBodG1sLmluZGV4T2YoJzwnKTsKICAgICAgICBpZiAodGV4dEVuZCA9PT0gMCkgewogICAgICAgICAgLy8gQ29tbWVudDoKICAgICAgICAgIGlmIChjb21tZW50LnRlc3QoaHRtbCkpIHsKICAgICAgICAgICAgdmFyIGNvbW1lbnRFbmQgPSBodG1sLmluZGV4T2YoJy0tPicpOwoKICAgICAgICAgICAgaWYgKGNvbW1lbnRFbmQgPj0gMCkgewogICAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3VsZEtlZXBDb21tZW50KSB7CiAgICAgICAgICAgICAgICBvcHRpb25zLmNvbW1lbnQoaHRtbC5zdWJzdHJpbmcoNCwgY29tbWVudEVuZCksIGluZGV4LCBpbmRleCArIGNvbW1lbnRFbmQgKyAzKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYWR2YW5jZShjb21tZW50RW5kICsgMyk7CiAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29uZGl0aW9uYWxfY29tbWVudCNEb3dubGV2ZWwtcmV2ZWFsZWRfY29uZGl0aW9uYWxfY29tbWVudAogICAgICAgICAgaWYgKGNvbmRpdGlvbmFsQ29tbWVudC50ZXN0KGh0bWwpKSB7CiAgICAgICAgICAgIHZhciBjb25kaXRpb25hbEVuZCA9IGh0bWwuaW5kZXhPZignXT4nKTsKCiAgICAgICAgICAgIGlmIChjb25kaXRpb25hbEVuZCA+PSAwKSB7CiAgICAgICAgICAgICAgYWR2YW5jZShjb25kaXRpb25hbEVuZCArIDIpOwogICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICAvLyBEb2N0eXBlOgogICAgICAgICAgdmFyIGRvY3R5cGVNYXRjaCA9IGh0bWwubWF0Y2goZG9jdHlwZSk7CiAgICAgICAgICBpZiAoZG9jdHlwZU1hdGNoKSB7CiAgICAgICAgICAgIGFkdmFuY2UoZG9jdHlwZU1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICB9CgogICAgICAgICAgLy8gRW5kIHRhZzoKICAgICAgICAgIHZhciBlbmRUYWdNYXRjaCA9IGh0bWwubWF0Y2goZW5kVGFnKTsKICAgICAgICAgIGlmIChlbmRUYWdNYXRjaCkgewogICAgICAgICAgICB2YXIgY3VySW5kZXggPSBpbmRleDsKICAgICAgICAgICAgYWR2YW5jZShlbmRUYWdNYXRjaFswXS5sZW5ndGgpOwogICAgICAgICAgICBwYXJzZUVuZFRhZyhlbmRUYWdNYXRjaFsxXSwgY3VySW5kZXgsIGluZGV4KTsKICAgICAgICAgICAgY29udGludWUKICAgICAgICAgIH0KCiAgICAgICAgICAvLyBTdGFydCB0YWc6CiAgICAgICAgICB2YXIgc3RhcnRUYWdNYXRjaCA9IHBhcnNlU3RhcnRUYWcoKTsKICAgICAgICAgIGlmIChzdGFydFRhZ01hdGNoKSB7CiAgICAgICAgICAgIGhhbmRsZVN0YXJ0VGFnKHN0YXJ0VGFnTWF0Y2gpOwogICAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlRmlyc3ROZXdsaW5lKHN0YXJ0VGFnTWF0Y2gudGFnTmFtZSwgaHRtbCkpIHsKICAgICAgICAgICAgICBhZHZhbmNlKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB2YXIgdGV4dCA9ICh2b2lkIDApLCByZXN0ID0gKHZvaWQgMCksIG5leHQgPSAodm9pZCAwKTsKICAgICAgICBpZiAodGV4dEVuZCA+PSAwKSB7CiAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTsKICAgICAgICAgIHdoaWxlICgKICAgICAgICAgICAgIWVuZFRhZy50ZXN0KHJlc3QpICYmCiAgICAgICAgICAgICFzdGFydFRhZ09wZW4udGVzdChyZXN0KSAmJgogICAgICAgICAgICAhY29tbWVudC50ZXN0KHJlc3QpICYmCiAgICAgICAgICAgICFjb25kaXRpb25hbENvbW1lbnQudGVzdChyZXN0KQogICAgICAgICAgKSB7CiAgICAgICAgICAgIC8vIDwgaW4gcGxhaW4gdGV4dCwgYmUgZm9yZ2l2aW5nIGFuZCB0cmVhdCBpdCBhcyB0ZXh0CiAgICAgICAgICAgIG5leHQgPSByZXN0LmluZGV4T2YoJzwnLCAxKTsKICAgICAgICAgICAgaWYgKG5leHQgPCAwKSB7IGJyZWFrIH0KICAgICAgICAgICAgdGV4dEVuZCArPSBuZXh0OwogICAgICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTsKICAgICAgICAgIH0KICAgICAgICAgIHRleHQgPSBodG1sLnN1YnN0cmluZygwLCB0ZXh0RW5kKTsKICAgICAgICB9CgogICAgICAgIGlmICh0ZXh0RW5kIDwgMCkgewogICAgICAgICAgdGV4dCA9IGh0bWw7CiAgICAgICAgfQoKICAgICAgICBpZiAodGV4dCkgewogICAgICAgICAgYWR2YW5jZSh0ZXh0Lmxlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICBpZiAob3B0aW9ucy5jaGFycyAmJiB0ZXh0KSB7CiAgICAgICAgICBvcHRpb25zLmNoYXJzKHRleHQsIGluZGV4IC0gdGV4dC5sZW5ndGgsIGluZGV4KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGVuZFRhZ0xlbmd0aCA9IDA7CiAgICAgICAgdmFyIHN0YWNrZWRUYWcgPSBsYXN0VGFnLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgdmFyIHJlU3RhY2tlZFRhZyA9IHJlQ2FjaGVbc3RhY2tlZFRhZ10gfHwgKHJlQ2FjaGVbc3RhY2tlZFRhZ10gPSBuZXcgUmVnRXhwKCcoW1xcc1xcU10qPykoPC8nICsgc3RhY2tlZFRhZyArICdbXj5dKj4pJywgJ2knKSk7CiAgICAgICAgdmFyIHJlc3QkMSA9IGh0bWwucmVwbGFjZShyZVN0YWNrZWRUYWcsIGZ1bmN0aW9uIChhbGwsIHRleHQsIGVuZFRhZykgewogICAgICAgICAgZW5kVGFnTGVuZ3RoID0gZW5kVGFnLmxlbmd0aDsKICAgICAgICAgIGlmICghaXNQbGFpblRleHRFbGVtZW50KHN0YWNrZWRUYWcpICYmIHN0YWNrZWRUYWcgIT09ICdub3NjcmlwdCcpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQKICAgICAgICAgICAgICAucmVwbGFjZSgvPCFcLS0oW1xzXFNdKj8pLS0+L2csICckMScpIC8vICM3Mjk4CiAgICAgICAgICAgICAgLnJlcGxhY2UoLzwhXFtDREFUQVxbKFtcc1xTXSo/KV1dPi9nLCAnJDEnKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUoc3RhY2tlZFRhZywgdGV4dCkpIHsKICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UoMSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAob3B0aW9ucy5jaGFycykgewogICAgICAgICAgICBvcHRpb25zLmNoYXJzKHRleHQpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuICcnCiAgICAgICAgfSk7CiAgICAgICAgaW5kZXggKz0gaHRtbC5sZW5ndGggLSByZXN0JDEubGVuZ3RoOwogICAgICAgIGh0bWwgPSByZXN0JDE7CiAgICAgICAgcGFyc2VFbmRUYWcoc3RhY2tlZFRhZywgaW5kZXggLSBlbmRUYWdMZW5ndGgsIGluZGV4KTsKICAgICAgfQoKICAgICAgaWYgKGh0bWwgPT09IGxhc3QpIHsKICAgICAgICBvcHRpb25zLmNoYXJzICYmIG9wdGlvbnMuY2hhcnMoaHRtbCk7CiAgICAgICAgaWYgKCFzdGFjay5sZW5ndGggJiYgb3B0aW9ucy53YXJuKSB7CiAgICAgICAgICBvcHRpb25zLndhcm4oKCJNYWwtZm9ybWF0dGVkIHRhZyBhdCBlbmQgb2YgdGVtcGxhdGU6IFwiIiArIGh0bWwgKyAiXCIiKSwgeyBzdGFydDogaW5kZXggKyBodG1sLmxlbmd0aCB9KTsKICAgICAgICB9CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgfQoKICAgIC8vIENsZWFuIHVwIGFueSByZW1haW5pbmcgdGFncwogICAgcGFyc2VFbmRUYWcoKTsKCiAgICBmdW5jdGlvbiBhZHZhbmNlIChuKSB7CiAgICAgIGluZGV4ICs9IG47CiAgICAgIGh0bWwgPSBodG1sLnN1YnN0cmluZyhuKTsKICAgIH0KCiAgICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnICgpIHsKICAgICAgdmFyIHN0YXJ0ID0gaHRtbC5tYXRjaChzdGFydFRhZ09wZW4pOwogICAgICBpZiAoc3RhcnQpIHsKICAgICAgICB2YXIgbWF0Y2ggPSB7CiAgICAgICAgICB0YWdOYW1lOiBzdGFydFsxXSwKICAgICAgICAgIGF0dHJzOiBbXSwKICAgICAgICAgIHN0YXJ0OiBpbmRleAogICAgICAgIH07CiAgICAgICAgYWR2YW5jZShzdGFydFswXS5sZW5ndGgpOwogICAgICAgIHZhciBlbmQsIGF0dHI7CiAgICAgICAgd2hpbGUgKCEoZW5kID0gaHRtbC5tYXRjaChzdGFydFRhZ0Nsb3NlKSkgJiYgKGF0dHIgPSBodG1sLm1hdGNoKGR5bmFtaWNBcmdBdHRyaWJ1dGUpIHx8IGh0bWwubWF0Y2goYXR0cmlidXRlKSkpIHsKICAgICAgICAgIGF0dHIuc3RhcnQgPSBpbmRleDsKICAgICAgICAgIGFkdmFuY2UoYXR0clswXS5sZW5ndGgpOwogICAgICAgICAgYXR0ci5lbmQgPSBpbmRleDsKICAgICAgICAgIG1hdGNoLmF0dHJzLnB1c2goYXR0cik7CiAgICAgICAgfQogICAgICAgIGlmIChlbmQpIHsKICAgICAgICAgIG1hdGNoLnVuYXJ5U2xhc2ggPSBlbmRbMV07CiAgICAgICAgICBhZHZhbmNlKGVuZFswXS5sZW5ndGgpOwogICAgICAgICAgbWF0Y2guZW5kID0gaW5kZXg7CiAgICAgICAgICByZXR1cm4gbWF0Y2gKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBoYW5kbGVTdGFydFRhZyAobWF0Y2gpIHsKICAgICAgdmFyIHRhZ05hbWUgPSBtYXRjaC50YWdOYW1lOwogICAgICB2YXIgdW5hcnlTbGFzaCA9IG1hdGNoLnVuYXJ5U2xhc2g7CgogICAgICBpZiAoZXhwZWN0SFRNTCkgewogICAgICAgIGlmIChsYXN0VGFnID09PSAncCcgJiYgaXNOb25QaHJhc2luZ1RhZyh0YWdOYW1lKSkgewogICAgICAgICAgcGFyc2VFbmRUYWcobGFzdFRhZyk7CiAgICAgICAgfQogICAgICAgIGlmIChjYW5CZUxlZnRPcGVuVGFnJCQxKHRhZ05hbWUpICYmIGxhc3RUYWcgPT09IHRhZ05hbWUpIHsKICAgICAgICAgIHBhcnNlRW5kVGFnKHRhZ05hbWUpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyIHVuYXJ5ID0gaXNVbmFyeVRhZyQkMSh0YWdOYW1lKSB8fCAhIXVuYXJ5U2xhc2g7CgogICAgICB2YXIgbCA9IG1hdGNoLmF0dHJzLmxlbmd0aDsKICAgICAgdmFyIGF0dHJzID0gbmV3IEFycmF5KGwpOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICAgIHZhciBhcmdzID0gbWF0Y2guYXR0cnNbaV07CiAgICAgICAgdmFyIHZhbHVlID0gYXJnc1szXSB8fCBhcmdzWzRdIHx8IGFyZ3NbNV0gfHwgJyc7CiAgICAgICAgdmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gdGFnTmFtZSA9PT0gJ2EnICYmIGFyZ3NbMV0gPT09ICdocmVmJwogICAgICAgICAgPyBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZgogICAgICAgICAgOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzOwogICAgICAgIGF0dHJzW2ldID0gewogICAgICAgICAgbmFtZTogYXJnc1sxXSwKICAgICAgICAgIHZhbHVlOiBkZWNvZGVBdHRyKHZhbHVlLCBzaG91bGREZWNvZGVOZXdsaW5lcykKICAgICAgICB9OwogICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICBhdHRyc1tpXS5zdGFydCA9IGFyZ3Muc3RhcnQgKyBhcmdzWzBdLm1hdGNoKC9eXHMqLykubGVuZ3RoOwogICAgICAgICAgYXR0cnNbaV0uZW5kID0gYXJncy5lbmQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIXVuYXJ5KSB7CiAgICAgICAgc3RhY2sucHVzaCh7IHRhZzogdGFnTmFtZSwgbG93ZXJDYXNlZFRhZzogdGFnTmFtZS50b0xvd2VyQ2FzZSgpLCBhdHRyczogYXR0cnMsIHN0YXJ0OiBtYXRjaC5zdGFydCwgZW5kOiBtYXRjaC5lbmQgfSk7CiAgICAgICAgbGFzdFRhZyA9IHRhZ05hbWU7CiAgICAgIH0KCiAgICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7CiAgICAgICAgb3B0aW9ucy5zdGFydCh0YWdOYW1lLCBhdHRycywgdW5hcnksIG1hdGNoLnN0YXJ0LCBtYXRjaC5lbmQpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcGFyc2VFbmRUYWcgKHRhZ05hbWUsIHN0YXJ0LCBlbmQpIHsKICAgICAgdmFyIHBvcywgbG93ZXJDYXNlZFRhZ05hbWU7CiAgICAgIGlmIChzdGFydCA9PSBudWxsKSB7IHN0YXJ0ID0gaW5kZXg7IH0KICAgICAgaWYgKGVuZCA9PSBudWxsKSB7IGVuZCA9IGluZGV4OyB9CgogICAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZQogICAgICBpZiAodGFnTmFtZSkgewogICAgICAgIGxvd2VyQ2FzZWRUYWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7CiAgICAgICAgICBpZiAoc3RhY2tbcG9zXS5sb3dlckNhc2VkVGFnID09PSBsb3dlckNhc2VkVGFnTmFtZSkgewogICAgICAgICAgICBicmVhawogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBJZiBubyB0YWcgbmFtZSBpcyBwcm92aWRlZCwgY2xlYW4gc2hvcAogICAgICAgIHBvcyA9IDA7CiAgICAgIH0KCiAgICAgIGlmIChwb3MgPj0gMCkgewogICAgICAgIC8vIENsb3NlIGFsbCB0aGUgb3BlbiBlbGVtZW50cywgdXAgdGhlIHN0YWNrCiAgICAgICAgZm9yICh2YXIgaSA9IHN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gcG9zOyBpLS0pIHsKICAgICAgICAgIGlmIChpID4gcG9zIHx8ICF0YWdOYW1lICYmCiAgICAgICAgICAgIG9wdGlvbnMud2FybgogICAgICAgICAgKSB7CiAgICAgICAgICAgIG9wdGlvbnMud2FybigKICAgICAgICAgICAgICAoInRhZyA8IiArIChzdGFja1tpXS50YWcpICsgIj4gaGFzIG5vIG1hdGNoaW5nIGVuZCB0YWcuIiksCiAgICAgICAgICAgICAgeyBzdGFydDogc3RhY2tbaV0uc3RhcnQsIGVuZDogc3RhY2tbaV0uZW5kIH0KICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChvcHRpb25zLmVuZCkgewogICAgICAgICAgICBvcHRpb25zLmVuZChzdGFja1tpXS50YWcsIHN0YXJ0LCBlbmQpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLy8gUmVtb3ZlIHRoZSBvcGVuIGVsZW1lbnRzIGZyb20gdGhlIHN0YWNrCiAgICAgICAgc3RhY2subGVuZ3RoID0gcG9zOwogICAgICAgIGxhc3RUYWcgPSBwb3MgJiYgc3RhY2tbcG9zIC0gMV0udGFnOwogICAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAnYnInKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHsKICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIHRydWUsIHN0YXJ0LCBlbmQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChsb3dlckNhc2VkVGFnTmFtZSA9PT0gJ3AnKSB7CiAgICAgICAgaWYgKG9wdGlvbnMuc3RhcnQpIHsKICAgICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIGZhbHNlLCBzdGFydCwgZW5kKTsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuZW5kKSB7CiAgICAgICAgICBvcHRpb25zLmVuZCh0YWdOYW1lLCBzdGFydCwgZW5kKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC8qICAqLwoKICB2YXIgb25SRSA9IC9eQHxedi1vbjovOwogIHZhciBkaXJSRSA9IC9edi18XkB8XjovOwogIHZhciBmb3JBbGlhc1JFID0gLyhbXHNcU10qPylccysoPzppbnxvZilccysoW1xzXFNdKikvOwogIHZhciBmb3JJdGVyYXRvclJFID0gLywoW14sXH1cXV0qKSg/OiwoW14sXH1cXV0qKSk/JC87CiAgdmFyIHN0cmlwUGFyZW5zUkUgPSAvXlwofFwpJC9nOwogIHZhciBkeW5hbWljQXJnUkUgPSAvXlxbLipcXSQvOwoKICB2YXIgYXJnUkUgPSAvOiguKikkLzsKICB2YXIgYmluZFJFID0gL146fF5cLnxedi1iaW5kOi87CiAgdmFyIG1vZGlmaWVyUkUgPSAvXC5bXi5cXV0rKD89W15cXV0qJCkvZzsKCiAgdmFyIHNsb3RSRSA9IC9edi1zbG90KDp8JCl8XiMvOwoKICB2YXIgbGluZUJyZWFrUkUgPSAvW1xyXG5dLzsKICB2YXIgd2hpdGVzcGFjZVJFJDEgPSAvXHMrL2c7CgogIHZhciBpbnZhbGlkQXR0cmlidXRlUkUgPSAvW1xzIic8PlwvPV0vOwoKICB2YXIgZGVjb2RlSFRNTENhY2hlZCA9IGNhY2hlZChoZS5kZWNvZGUpOwoKICB2YXIgZW1wdHlTbG90U2NvcGVUb2tlbiA9ICJfZW1wdHlfIjsKCiAgLy8gY29uZmlndXJhYmxlIHN0YXRlCiAgdmFyIHdhcm4kMjsKICB2YXIgZGVsaW1pdGVyczsKICB2YXIgdHJhbnNmb3JtczsKICB2YXIgcHJlVHJhbnNmb3JtczsKICB2YXIgcG9zdFRyYW5zZm9ybXM7CiAgdmFyIHBsYXRmb3JtSXNQcmVUYWc7CiAgdmFyIHBsYXRmb3JtTXVzdFVzZVByb3A7CiAgdmFyIHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlOwogIHZhciBtYXliZUNvbXBvbmVudDsKCiAgZnVuY3Rpb24gY3JlYXRlQVNURWxlbWVudCAoCiAgICB0YWcsCiAgICBhdHRycywKICAgIHBhcmVudAogICkgewogICAgcmV0dXJuIHsKICAgICAgdHlwZTogMSwKICAgICAgdGFnOiB0YWcsCiAgICAgIGF0dHJzTGlzdDogYXR0cnMsCiAgICAgIGF0dHJzTWFwOiBtYWtlQXR0cnNNYXAoYXR0cnMpLAogICAgICByYXdBdHRyc01hcDoge30sCiAgICAgIHBhcmVudDogcGFyZW50LAogICAgICBjaGlsZHJlbjogW10KICAgIH0KICB9CgogIC8qKgogICAqIENvbnZlcnQgSFRNTCBzdHJpbmcgdG8gQVNULgogICAqLwogIGZ1bmN0aW9uIHBhcnNlICgKICAgIHRlbXBsYXRlLAogICAgb3B0aW9ucwogICkgewogICAgd2FybiQyID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuOwoKICAgIHBsYXRmb3JtSXNQcmVUYWcgPSBvcHRpb25zLmlzUHJlVGFnIHx8IG5vOwogICAgcGxhdGZvcm1NdXN0VXNlUHJvcCA9IG9wdGlvbnMubXVzdFVzZVByb3AgfHwgbm87CiAgICBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSA9IG9wdGlvbnMuZ2V0VGFnTmFtZXNwYWNlIHx8IG5vOwogICAgdmFyIGlzUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87CiAgICBtYXliZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gISFlbC5jb21wb25lbnQgfHwgIWlzUmVzZXJ2ZWRUYWcoZWwudGFnKTsgfTsKCiAgICB0cmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICd0cmFuc2Zvcm1Ob2RlJyk7CiAgICBwcmVUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwcmVUcmFuc2Zvcm1Ob2RlJyk7CiAgICBwb3N0VHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAncG9zdFRyYW5zZm9ybU5vZGUnKTsKCiAgICBkZWxpbWl0ZXJzID0gb3B0aW9ucy5kZWxpbWl0ZXJzOwoKICAgIHZhciBzdGFjayA9IFtdOwogICAgdmFyIHByZXNlcnZlV2hpdGVzcGFjZSA9IG9wdGlvbnMucHJlc2VydmVXaGl0ZXNwYWNlICE9PSBmYWxzZTsKICAgIHZhciB3aGl0ZXNwYWNlT3B0aW9uID0gb3B0aW9ucy53aGl0ZXNwYWNlOwogICAgdmFyIHJvb3Q7CiAgICB2YXIgY3VycmVudFBhcmVudDsKICAgIHZhciBpblZQcmUgPSBmYWxzZTsKICAgIHZhciBpblByZSA9IGZhbHNlOwogICAgdmFyIHdhcm5lZCA9IGZhbHNlOwoKICAgIGZ1bmN0aW9uIHdhcm5PbmNlIChtc2csIHJhbmdlKSB7CiAgICAgIGlmICghd2FybmVkKSB7CiAgICAgICAgd2FybmVkID0gdHJ1ZTsKICAgICAgICB3YXJuJDIobXNnLCByYW5nZSk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBjbG9zZUVsZW1lbnQgKGVsZW1lbnQpIHsKICAgICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7CiAgICAgIGlmICghaW5WUHJlICYmICFlbGVtZW50LnByb2Nlc3NlZCkgewogICAgICAgIGVsZW1lbnQgPSBwcm9jZXNzRWxlbWVudChlbGVtZW50LCBvcHRpb25zKTsKICAgICAgfQogICAgICAvLyB0cmVlIG1hbmFnZW1lbnQKICAgICAgaWYgKCFzdGFjay5sZW5ndGggJiYgZWxlbWVudCAhPT0gcm9vdCkgewogICAgICAgIC8vIGFsbG93IHJvb3QgZWxlbWVudHMgd2l0aCB2LWlmLCB2LWVsc2UtaWYgYW5kIHYtZWxzZQogICAgICAgIGlmIChyb290LmlmICYmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpKSB7CiAgICAgICAgICB7CiAgICAgICAgICAgIGNoZWNrUm9vdENvbnN0cmFpbnRzKGVsZW1lbnQpOwogICAgICAgICAgfQogICAgICAgICAgYWRkSWZDb25kaXRpb24ocm9vdCwgewogICAgICAgICAgICBleHA6IGVsZW1lbnQuZWxzZWlmLAogICAgICAgICAgICBibG9jazogZWxlbWVudAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHdhcm5PbmNlKAogICAgICAgICAgICAiQ29tcG9uZW50IHRlbXBsYXRlIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gIiArCiAgICAgICAgICAgICJJZiB5b3UgYXJlIHVzaW5nIHYtaWYgb24gbXVsdGlwbGUgZWxlbWVudHMsICIgKwogICAgICAgICAgICAidXNlIHYtZWxzZS1pZiB0byBjaGFpbiB0aGVtIGluc3RlYWQuIiwKICAgICAgICAgICAgeyBzdGFydDogZWxlbWVudC5zdGFydCB9CiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY3VycmVudFBhcmVudCAmJiAhZWxlbWVudC5mb3JiaWRkZW4pIHsKICAgICAgICBpZiAoZWxlbWVudC5lbHNlaWYgfHwgZWxlbWVudC5lbHNlKSB7CiAgICAgICAgICBwcm9jZXNzSWZDb25kaXRpb25zKGVsZW1lbnQsIGN1cnJlbnRQYXJlbnQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoZWxlbWVudC5zbG90U2NvcGUpIHsKICAgICAgICAgICAgLy8gc2NvcGVkIHNsb3QKICAgICAgICAgICAgLy8ga2VlcCBpdCBpbiB0aGUgY2hpbGRyZW4gbGlzdCBzbyB0aGF0IHYtZWxzZSgtaWYpIGNvbmRpdGlvbnMgY2FuCiAgICAgICAgICAgIC8vIGZpbmQgaXQgYXMgdGhlIHByZXYgbm9kZS4KICAgICAgICAgICAgdmFyIG5hbWUgPSBlbGVtZW50LnNsb3RUYXJnZXQgfHwgJyJkZWZhdWx0IicKICAgICAgICAgICAgOyhjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzIHx8IChjdXJyZW50UGFyZW50LnNjb3BlZFNsb3RzID0ge30pKVtuYW1lXSA9IGVsZW1lbnQ7CiAgICAgICAgICB9CiAgICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goZWxlbWVudCk7CiAgICAgICAgICBlbGVtZW50LnBhcmVudCA9IGN1cnJlbnRQYXJlbnQ7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBmaW5hbCBjaGlsZHJlbiBjbGVhbnVwCiAgICAgIC8vIGZpbHRlciBvdXQgc2NvcGVkIHNsb3RzCiAgICAgIGVsZW1lbnQuY2hpbGRyZW4gPSBlbGVtZW50LmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gIShjKS5zbG90U2NvcGU7IH0pOwogICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlIGFnYWluCiAgICAgIHRyaW1FbmRpbmdXaGl0ZXNwYWNlKGVsZW1lbnQpOwoKICAgICAgLy8gY2hlY2sgcHJlIHN0YXRlCiAgICAgIGlmIChlbGVtZW50LnByZSkgewogICAgICAgIGluVlByZSA9IGZhbHNlOwogICAgICB9CiAgICAgIGlmIChwbGF0Zm9ybUlzUHJlVGFnKGVsZW1lbnQudGFnKSkgewogICAgICAgIGluUHJlID0gZmFsc2U7CiAgICAgIH0KICAgICAgLy8gYXBwbHkgcG9zdC10cmFuc2Zvcm1zCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdFRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBwb3N0VHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIHRyaW1FbmRpbmdXaGl0ZXNwYWNlIChlbCkgewogICAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlCiAgICAgIGlmICghaW5QcmUpIHsKICAgICAgICB2YXIgbGFzdE5vZGU7CiAgICAgICAgd2hpbGUgKAogICAgICAgICAgKGxhc3ROb2RlID0gZWwuY2hpbGRyZW5bZWwuY2hpbGRyZW4ubGVuZ3RoIC0gMV0pICYmCiAgICAgICAgICBsYXN0Tm9kZS50eXBlID09PSAzICYmCiAgICAgICAgICBsYXN0Tm9kZS50ZXh0ID09PSAnICcKICAgICAgICApIHsKICAgICAgICAgIGVsLmNoaWxkcmVuLnBvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGNoZWNrUm9vdENvbnN0cmFpbnRzIChlbCkgewogICAgICBpZiAoZWwudGFnID09PSAnc2xvdCcgfHwgZWwudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAiQ2Fubm90IHVzZSA8IiArIChlbC50YWcpICsgIj4gYXMgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlIGl0IG1heSAiICsKICAgICAgICAgICdjb250YWluIG11bHRpcGxlIG5vZGVzLicsCiAgICAgICAgICB7IHN0YXJ0OiBlbC5zdGFydCB9CiAgICAgICAgKTsKICAgICAgfQogICAgICBpZiAoZWwuYXR0cnNNYXAuaGFzT3duUHJvcGVydHkoJ3YtZm9yJykpIHsKICAgICAgICB3YXJuT25jZSgKICAgICAgICAgICdDYW5ub3QgdXNlIHYtZm9yIG9uIHN0YXRlZnVsIGNvbXBvbmVudCByb290IGVsZW1lbnQgYmVjYXVzZSAnICsKICAgICAgICAgICdpdCByZW5kZXJzIG11bHRpcGxlIGVsZW1lbnRzLicsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXQogICAgICAgICk7CiAgICAgIH0KICAgIH0KCiAgICBwYXJzZUhUTUwodGVtcGxhdGUsIHsKICAgICAgd2Fybjogd2FybiQyLAogICAgICBleHBlY3RIVE1MOiBvcHRpb25zLmV4cGVjdEhUTUwsCiAgICAgIGlzVW5hcnlUYWc6IG9wdGlvbnMuaXNVbmFyeVRhZywKICAgICAgY2FuQmVMZWZ0T3BlblRhZzogb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnLAogICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lcywKICAgICAgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiwKICAgICAgc2hvdWxkS2VlcENvbW1lbnQ6IG9wdGlvbnMuY29tbWVudHMsCiAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlLAogICAgICBzdGFydDogZnVuY3Rpb24gc3RhcnQgKHRhZywgYXR0cnMsIHVuYXJ5LCBzdGFydCQxLCBlbmQpIHsKICAgICAgICAvLyBjaGVjayBuYW1lc3BhY2UuCiAgICAgICAgLy8gaW5oZXJpdCBwYXJlbnQgbnMgaWYgdGhlcmUgaXMgb25lCiAgICAgICAgdmFyIG5zID0gKGN1cnJlbnRQYXJlbnQgJiYgY3VycmVudFBhcmVudC5ucykgfHwgcGxhdGZvcm1HZXRUYWdOYW1lc3BhY2UodGFnKTsKCiAgICAgICAgLy8gaGFuZGxlIElFIHN2ZyBidWcKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoaXNJRSAmJiBucyA9PT0gJ3N2ZycpIHsKICAgICAgICAgIGF0dHJzID0gZ3VhcmRJRVNWR0J1ZyhhdHRycyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUFTVEVsZW1lbnQodGFnLCBhdHRycywgY3VycmVudFBhcmVudCk7CiAgICAgICAgaWYgKG5zKSB7CiAgICAgICAgICBlbGVtZW50Lm5zID0gbnM7CiAgICAgICAgfQoKICAgICAgICB7CiAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICBlbGVtZW50LnN0YXJ0ID0gc3RhcnQkMTsKICAgICAgICAgICAgZWxlbWVudC5lbmQgPSBlbmQ7CiAgICAgICAgICAgIGVsZW1lbnQucmF3QXR0cnNNYXAgPSBlbGVtZW50LmF0dHJzTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGN1bXVsYXRlZCwgYXR0cikgewogICAgICAgICAgICAgIGN1bXVsYXRlZFthdHRyLm5hbWVdID0gYXR0cjsKICAgICAgICAgICAgICByZXR1cm4gY3VtdWxhdGVkCiAgICAgICAgICAgIH0sIHt9KTsKICAgICAgICAgIH0KICAgICAgICAgIGF0dHJzLmZvckVhY2goZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICAgICAgaWYgKGludmFsaWRBdHRyaWJ1dGVSRS50ZXN0KGF0dHIubmFtZSkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiSW52YWxpZCBkeW5hbWljIGFyZ3VtZW50IGV4cHJlc3Npb246IGF0dHJpYnV0ZSBuYW1lcyBjYW5ub3QgY29udGFpbiAiICsKICAgICAgICAgICAgICAgICJzcGFjZXMsIHF1b3RlcywgPCwgPiwgLyBvciA9LiIsCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgIHN0YXJ0OiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmluZGV4T2YoIlsiKSwKICAgICAgICAgICAgICAgICAgZW5kOiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmxlbmd0aAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGlzRm9yYmlkZGVuVGFnKGVsZW1lbnQpICYmICFpc1NlcnZlclJlbmRlcmluZygpKSB7CiAgICAgICAgICBlbGVtZW50LmZvcmJpZGRlbiA9IHRydWU7CiAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICdUZW1wbGF0ZXMgc2hvdWxkIG9ubHkgYmUgcmVzcG9uc2libGUgZm9yIG1hcHBpbmcgdGhlIHN0YXRlIHRvIHRoZSAnICsKICAgICAgICAgICAgJ1VJLiBBdm9pZCBwbGFjaW5nIHRhZ3Mgd2l0aCBzaWRlLWVmZmVjdHMgaW4geW91ciB0ZW1wbGF0ZXMsIHN1Y2ggYXMgJyArCiAgICAgICAgICAgICI8IiArIHRhZyArICI+IiArICcsIGFzIHRoZXkgd2lsbCBub3QgYmUgcGFyc2VkLicsCiAgICAgICAgICAgIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfQogICAgICAgICAgKTsKICAgICAgICB9CgogICAgICAgIC8vIGFwcGx5IHByZS10cmFuc2Zvcm1zCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVUcmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBlbGVtZW50ID0gcHJlVHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50OwogICAgICAgIH0KCiAgICAgICAgaWYgKCFpblZQcmUpIHsKICAgICAgICAgIHByb2Nlc3NQcmUoZWxlbWVudCk7CiAgICAgICAgICBpZiAoZWxlbWVudC5wcmUpIHsKICAgICAgICAgICAgaW5WUHJlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHBsYXRmb3JtSXNQcmVUYWcoZWxlbWVudC50YWcpKSB7CiAgICAgICAgICBpblByZSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGlmIChpblZQcmUpIHsKICAgICAgICAgIHByb2Nlc3NSYXdBdHRycyhlbGVtZW50KTsKICAgICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LnByb2Nlc3NlZCkgewogICAgICAgICAgLy8gc3RydWN0dXJhbCBkaXJlY3RpdmVzCiAgICAgICAgICBwcm9jZXNzRm9yKGVsZW1lbnQpOwogICAgICAgICAgcHJvY2Vzc0lmKGVsZW1lbnQpOwogICAgICAgICAgcHJvY2Vzc09uY2UoZWxlbWVudCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXJvb3QpIHsKICAgICAgICAgIHJvb3QgPSBlbGVtZW50OwogICAgICAgICAgewogICAgICAgICAgICBjaGVja1Jvb3RDb25zdHJhaW50cyhyb290KTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghdW5hcnkpIHsKICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBlbGVtZW50OwogICAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2xvc2VFbGVtZW50KGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgfSwKCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kICh0YWcsIHN0YXJ0LCBlbmQkMSkgewogICAgICAgIHZhciBlbGVtZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07CiAgICAgICAgLy8gcG9wIHN0YWNrCiAgICAgICAgc3RhY2subGVuZ3RoIC09IDE7CiAgICAgICAgY3VycmVudFBhcmVudCA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdOwogICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICBlbGVtZW50LmVuZCA9IGVuZCQxOwogICAgICAgIH0KICAgICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7CiAgICAgIH0sCgogICAgICBjaGFyczogZnVuY3Rpb24gY2hhcnMgKHRleHQsIHN0YXJ0LCBlbmQpIHsKICAgICAgICBpZiAoIWN1cnJlbnRQYXJlbnQpIHsKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKHRleHQgPT09IHRlbXBsYXRlKSB7CiAgICAgICAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAgICAgICAnQ29tcG9uZW50IHRlbXBsYXRlIHJlcXVpcmVzIGEgcm9vdCBlbGVtZW50LCByYXRoZXIgdGhhbiBqdXN0IHRleHQuJywKICAgICAgICAgICAgICAgIHsgc3RhcnQ6IHN0YXJ0IH0KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9IGVsc2UgaWYgKCh0ZXh0ID0gdGV4dC50cmltKCkpKSB7CiAgICAgICAgICAgICAgd2Fybk9uY2UoCiAgICAgICAgICAgICAgICAoInRleHQgXCIiICsgdGV4dCArICJcIiBvdXRzaWRlIHJvb3QgZWxlbWVudCB3aWxsIGJlIGlnbm9yZWQuIiksCiAgICAgICAgICAgICAgICB7IHN0YXJ0OiBzdGFydCB9CiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIC8vIElFIHRleHRhcmVhIHBsYWNlaG9sZGVyIGJ1ZwogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgIGlmIChpc0lFICYmCiAgICAgICAgICBjdXJyZW50UGFyZW50LnRhZyA9PT0gJ3RleHRhcmVhJyAmJgogICAgICAgICAgY3VycmVudFBhcmVudC5hdHRyc01hcC5wbGFjZWhvbGRlciA9PT0gdGV4dAogICAgICAgICkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIHZhciBjaGlsZHJlbiA9IGN1cnJlbnRQYXJlbnQuY2hpbGRyZW47CiAgICAgICAgaWYgKGluUHJlIHx8IHRleHQudHJpbSgpKSB7CiAgICAgICAgICB0ZXh0ID0gaXNUZXh0VGFnKGN1cnJlbnRQYXJlbnQpID8gdGV4dCA6IGRlY29kZUhUTUxDYWNoZWQodGV4dCk7CiAgICAgICAgfSBlbHNlIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAvLyByZW1vdmUgdGhlIHdoaXRlc3BhY2Utb25seSBub2RlIHJpZ2h0IGFmdGVyIGFuIG9wZW5pbmcgdGFnCiAgICAgICAgICB0ZXh0ID0gJyc7CiAgICAgICAgfSBlbHNlIGlmICh3aGl0ZXNwYWNlT3B0aW9uKSB7CiAgICAgICAgICBpZiAod2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykgewogICAgICAgICAgICAvLyBpbiBjb25kZW5zZSBtb2RlLCByZW1vdmUgdGhlIHdoaXRlc3BhY2Ugbm9kZSBpZiBpdCBjb250YWlucwogICAgICAgICAgICAvLyBsaW5lIGJyZWFrLCBvdGhlcndpc2UgY29uZGVuc2UgdG8gYSBzaW5nbGUgc3BhY2UKICAgICAgICAgICAgdGV4dCA9IGxpbmVCcmVha1JFLnRlc3QodGV4dCkgPyAnJyA6ICcgJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRleHQgPSAnICc7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRleHQgPSBwcmVzZXJ2ZVdoaXRlc3BhY2UgPyAnICcgOiAnJzsKICAgICAgICB9CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgIGlmICghaW5QcmUgJiYgd2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykgewogICAgICAgICAgICAvLyBjb25kZW5zZSBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBpbnRvIHNpbmdsZSBzcGFjZQogICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKHdoaXRlc3BhY2VSRSQxLCAnICcpOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlczsKICAgICAgICAgIHZhciBjaGlsZDsKICAgICAgICAgIGlmICghaW5WUHJlICYmIHRleHQgIT09ICcgJyAmJiAocmVzID0gcGFyc2VUZXh0KHRleHQsIGRlbGltaXRlcnMpKSkgewogICAgICAgICAgICBjaGlsZCA9IHsKICAgICAgICAgICAgICB0eXBlOiAyLAogICAgICAgICAgICAgIGV4cHJlc3Npb246IHJlcy5leHByZXNzaW9uLAogICAgICAgICAgICAgIHRva2VuczogcmVzLnRva2VucywKICAgICAgICAgICAgICB0ZXh0OiB0ZXh0CiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09ICcgJyB8fCAhY2hpbGRyZW4ubGVuZ3RoIHx8IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLnRleHQgIT09ICcgJykgewogICAgICAgICAgICBjaGlsZCA9IHsKICAgICAgICAgICAgICB0eXBlOiAzLAogICAgICAgICAgICAgIHRleHQ6IHRleHQKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChjaGlsZCkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7CiAgICAgICAgICAgICAgY2hpbGQuZW5kID0gZW5kOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tbWVudDogZnVuY3Rpb24gY29tbWVudCAodGV4dCwgc3RhcnQsIGVuZCkgewogICAgICAgIC8vIGFkZGluZyBhbnl0aW5nIGFzIGEgc2libGluZyB0byB0aGUgcm9vdCBub2RlIGlzIGZvcmJpZGRlbgogICAgICAgIC8vIGNvbW1lbnRzIHNob3VsZCBzdGlsbCBiZSBhbGxvd2VkLCBidXQgaWdub3JlZAogICAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7CiAgICAgICAgICB2YXIgY2hpbGQgPSB7CiAgICAgICAgICAgIHR5cGU6IDMsCiAgICAgICAgICAgIHRleHQ6IHRleHQsCiAgICAgICAgICAgIGlzQ29tbWVudDogdHJ1ZQogICAgICAgICAgfTsKICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7CiAgICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDsKICAgICAgICAgIH0KICAgICAgICAgIGN1cnJlbnRQYXJlbnQuY2hpbGRyZW4ucHVzaChjaGlsZCk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByb290CiAgfQoKICBmdW5jdGlvbiBwcm9jZXNzUHJlIChlbCkgewogICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LXByZScpICE9IG51bGwpIHsKICAgICAgZWwucHJlID0gdHJ1ZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NSYXdBdHRycyAoZWwpIHsKICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgdmFyIGxlbiA9IGxpc3QubGVuZ3RoOwogICAgaWYgKGxlbikgewogICAgICB2YXIgYXR0cnMgPSBlbC5hdHRycyA9IG5ldyBBcnJheShsZW4pOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgYXR0cnNbaV0gPSB7CiAgICAgICAgICBuYW1lOiBsaXN0W2ldLm5hbWUsCiAgICAgICAgICB2YWx1ZTogSlNPTi5zdHJpbmdpZnkobGlzdFtpXS52YWx1ZSkKICAgICAgICB9OwogICAgICAgIGlmIChsaXN0W2ldLnN0YXJ0ICE9IG51bGwpIHsKICAgICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gbGlzdFtpXS5zdGFydDsKICAgICAgICAgIGF0dHJzW2ldLmVuZCA9IGxpc3RbaV0uZW5kOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICghZWwucHJlKSB7CiAgICAgIC8vIG5vbiByb290IG5vZGUgaW4gcHJlIGJsb2NrcyB3aXRoIG5vIGF0dHJpYnV0ZXMKICAgICAgZWwucGxhaW4gPSB0cnVlOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQgKAogICAgZWxlbWVudCwKICAgIG9wdGlvbnMKICApIHsKICAgIHByb2Nlc3NLZXkoZWxlbWVudCk7CgogICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBpcyBhIHBsYWluIGVsZW1lbnQgYWZ0ZXIKICAgIC8vIHJlbW92aW5nIHN0cnVjdHVyYWwgYXR0cmlidXRlcwogICAgZWxlbWVudC5wbGFpbiA9ICgKICAgICAgIWVsZW1lbnQua2V5ICYmCiAgICAgICFlbGVtZW50LnNjb3BlZFNsb3RzICYmCiAgICAgICFlbGVtZW50LmF0dHJzTGlzdC5sZW5ndGgKICAgICk7CgogICAgcHJvY2Vzc1JlZihlbGVtZW50KTsKICAgIHByb2Nlc3NTbG90Q29udGVudChlbGVtZW50KTsKICAgIHByb2Nlc3NTbG90T3V0bGV0KGVsZW1lbnQpOwogICAgcHJvY2Vzc0NvbXBvbmVudChlbGVtZW50KTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykgewogICAgICBlbGVtZW50ID0gdHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50OwogICAgfQogICAgcHJvY2Vzc0F0dHJzKGVsZW1lbnQpOwogICAgcmV0dXJuIGVsZW1lbnQKICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NLZXkgKGVsKSB7CiAgICB2YXIgZXhwID0gZ2V0QmluZGluZ0F0dHIoZWwsICdrZXknKTsKICAgIGlmIChleHApIHsKICAgICAgewogICAgICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHsKICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgIjx0ZW1wbGF0ZT4gY2Fubm90IGJlIGtleWVkLiBQbGFjZSB0aGUga2V5IG9uIHJlYWwgZWxlbWVudHMgaW5zdGVhZC4iLAogICAgICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgICBpZiAoZWwuZm9yKSB7CiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBlbC5pdGVyYXRvcjIgfHwgZWwuaXRlcmF0b3IxOwogICAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudDsKICAgICAgICAgIGlmIChpdGVyYXRvciAmJiBpdGVyYXRvciA9PT0gZXhwICYmIHBhcmVudCAmJiBwYXJlbnQudGFnID09PSAndHJhbnNpdGlvbi1ncm91cCcpIHsKICAgICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAgICJEbyBub3QgdXNlIHYtZm9yIGluZGV4IGFzIGtleSBvbiA8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4sICIgKwogICAgICAgICAgICAgICJ0aGlzIGlzIHRoZSBzYW1lIGFzIG5vdCB1c2luZyBrZXlzLiIsCiAgICAgICAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKSwKICAgICAgICAgICAgICB0cnVlIC8qIHRpcCAqLwogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBlbC5rZXkgPSBleHA7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBwcm9jZXNzUmVmIChlbCkgewogICAgdmFyIHJlZiA9IGdldEJpbmRpbmdBdHRyKGVsLCAncmVmJyk7CiAgICBpZiAocmVmKSB7CiAgICAgIGVsLnJlZiA9IHJlZjsKICAgICAgZWwucmVmSW5Gb3IgPSBjaGVja0luRm9yKGVsKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NGb3IgKGVsKSB7CiAgICB2YXIgZXhwOwogICAgaWYgKChleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1mb3InKSkpIHsKICAgICAgdmFyIHJlcyA9IHBhcnNlRm9yKGV4cCk7CiAgICAgIGlmIChyZXMpIHsKICAgICAgICBleHRlbmQoZWwsIHJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2FybiQyKAogICAgICAgICAgKCJJbnZhbGlkIHYtZm9yIGV4cHJlc3Npb246ICIgKyBleHApLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10KICAgICAgICApOwogICAgICB9CiAgICB9CiAgfQoKCgogIGZ1bmN0aW9uIHBhcnNlRm9yIChleHApIHsKICAgIHZhciBpbk1hdGNoID0gZXhwLm1hdGNoKGZvckFsaWFzUkUpOwogICAgaWYgKCFpbk1hdGNoKSB7IHJldHVybiB9CiAgICB2YXIgcmVzID0ge307CiAgICByZXMuZm9yID0gaW5NYXRjaFsyXS50cmltKCk7CiAgICB2YXIgYWxpYXMgPSBpbk1hdGNoWzFdLnRyaW0oKS5yZXBsYWNlKHN0cmlwUGFyZW5zUkUsICcnKTsKICAgIHZhciBpdGVyYXRvck1hdGNoID0gYWxpYXMubWF0Y2goZm9ySXRlcmF0b3JSRSk7CiAgICBpZiAoaXRlcmF0b3JNYXRjaCkgewogICAgICByZXMuYWxpYXMgPSBhbGlhcy5yZXBsYWNlKGZvckl0ZXJhdG9yUkUsICcnKS50cmltKCk7CiAgICAgIHJlcy5pdGVyYXRvcjEgPSBpdGVyYXRvck1hdGNoWzFdLnRyaW0oKTsKICAgICAgaWYgKGl0ZXJhdG9yTWF0Y2hbMl0pIHsKICAgICAgICByZXMuaXRlcmF0b3IyID0gaXRlcmF0b3JNYXRjaFsyXS50cmltKCk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHJlcy5hbGlhcyA9IGFsaWFzOwogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0lmIChlbCkgewogICAgdmFyIGV4cCA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJyk7CiAgICBpZiAoZXhwKSB7CiAgICAgIGVsLmlmID0gZXhwOwogICAgICBhZGRJZkNvbmRpdGlvbihlbCwgewogICAgICAgIGV4cDogZXhwLAogICAgICAgIGJsb2NrOiBlbAogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlJykgIT0gbnVsbCkgewogICAgICAgIGVsLmVsc2UgPSB0cnVlOwogICAgICB9CiAgICAgIHZhciBlbHNlaWYgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlLWlmJyk7CiAgICAgIGlmIChlbHNlaWYpIHsKICAgICAgICBlbC5lbHNlaWYgPSBlbHNlaWY7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NJZkNvbmRpdGlvbnMgKGVsLCBwYXJlbnQpIHsKICAgIHZhciBwcmV2ID0gZmluZFByZXZFbGVtZW50KHBhcmVudC5jaGlsZHJlbik7CiAgICBpZiAocHJldiAmJiBwcmV2LmlmKSB7CiAgICAgIGFkZElmQ29uZGl0aW9uKHByZXYsIHsKICAgICAgICBleHA6IGVsLmVsc2VpZiwKICAgICAgICBibG9jazogZWwKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICB3YXJuJDIoCiAgICAgICAgInYtIiArIChlbC5lbHNlaWYgPyAoJ2Vsc2UtaWY9IicgKyBlbC5lbHNlaWYgKyAnIicpIDogJ2Vsc2UnKSArICIgIiArCiAgICAgICAgInVzZWQgb24gZWxlbWVudCA8IiArIChlbC50YWcpICsgIj4gd2l0aG91dCBjb3JyZXNwb25kaW5nIHYtaWYuIiwKICAgICAgICBlbC5yYXdBdHRyc01hcFtlbC5lbHNlaWYgPyAndi1lbHNlLWlmJyA6ICd2LWVsc2UnXQogICAgICApOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZmluZFByZXZFbGVtZW50IChjaGlsZHJlbikgewogICAgdmFyIGkgPSBjaGlsZHJlbi5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKSB7CiAgICAgIGlmIChjaGlsZHJlbltpXS50eXBlID09PSAxKSB7CiAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2ldCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnRleHQgIT09ICcgJykgewogICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAidGV4dCBcIiIgKyAoY2hpbGRyZW5baV0udGV4dC50cmltKCkpICsgIlwiIGJldHdlZW4gdi1pZiBhbmQgdi1lbHNlKC1pZikgIiArCiAgICAgICAgICAgICJ3aWxsIGJlIGlnbm9yZWQuIiwKICAgICAgICAgICAgY2hpbGRyZW5baV0KICAgICAgICAgICk7CiAgICAgICAgfQogICAgICAgIGNoaWxkcmVuLnBvcCgpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBhZGRJZkNvbmRpdGlvbiAoZWwsIGNvbmRpdGlvbikgewogICAgaWYgKCFlbC5pZkNvbmRpdGlvbnMpIHsKICAgICAgZWwuaWZDb25kaXRpb25zID0gW107CiAgICB9CiAgICBlbC5pZkNvbmRpdGlvbnMucHVzaChjb25kaXRpb24pOwogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc09uY2UgKGVsKSB7CiAgICB2YXIgb25jZSQkMSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LW9uY2UnKTsKICAgIGlmIChvbmNlJCQxICE9IG51bGwpIHsKICAgICAgZWwub25jZSA9IHRydWU7CiAgICB9CiAgfQoKICAvLyBoYW5kbGUgY29udGVudCBiZWluZyBwYXNzZWQgdG8gYSBjb21wb25lbnQgYXMgc2xvdCwKICAvLyBlLmcuIDx0ZW1wbGF0ZSBzbG90PSJ4eHgiPiwgPGRpdiBzbG90LXNjb3BlPSJ4eHgiPgogIGZ1bmN0aW9uIHByb2Nlc3NTbG90Q29udGVudCAoZWwpIHsKICAgIHZhciBzbG90U2NvcGU7CiAgICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7CiAgICAgIHNsb3RTY29wZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdzY29wZScpOwogICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgaWYgKHNsb3RTY29wZSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJ0aGUgXCJzY29wZVwiIGF0dHJpYnV0ZSBmb3Igc2NvcGVkIHNsb3RzIGhhdmUgYmVlbiBkZXByZWNhdGVkIGFuZCAiICsKICAgICAgICAgICJyZXBsYWNlZCBieSBcInNsb3Qtc2NvcGVcIiBzaW5jZSAyLjUuIFRoZSBuZXcgXCJzbG90LXNjb3BlXCIgYXR0cmlidXRlICIgKwogICAgICAgICAgImNhbiBhbHNvIGJlIHVzZWQgb24gcGxhaW4gZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gPHRlbXBsYXRlPiB0byAiICsKICAgICAgICAgICJkZW5vdGUgc2NvcGVkIHNsb3RzLiIsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnc2NvcGUnXSwKICAgICAgICAgIHRydWUKICAgICAgICApOwogICAgICB9CiAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RTY29wZSB8fCBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpOwogICAgfSBlbHNlIGlmICgoc2xvdFNjb3BlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Nsb3Qtc2NvcGUnKSkpIHsKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIGlmIChlbC5hdHRyc01hcFsndi1mb3InXSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJBbWJpZ3VvdXMgY29tYmluZWQgdXNhZ2Ugb2Ygc2xvdC1zY29wZSBhbmQgdi1mb3Igb24gPCIgKyAoZWwudGFnKSArICI+ICIgKwogICAgICAgICAgIih2LWZvciB0YWtlcyBoaWdoZXIgcHJpb3JpdHkpLiBVc2UgYSB3cmFwcGVyIDx0ZW1wbGF0ZT4gZm9yIHRoZSAiICsKICAgICAgICAgICJzY29wZWQgc2xvdCB0byBtYWtlIGl0IGNsZWFyZXIuIiwKICAgICAgICAgIGVsLnJhd0F0dHJzTWFwWydzbG90LXNjb3BlJ10sCiAgICAgICAgICB0cnVlCiAgICAgICAgKTsKICAgICAgfQogICAgICBlbC5zbG90U2NvcGUgPSBzbG90U2NvcGU7CiAgICB9CgogICAgLy8gc2xvdD0ieHh4IgogICAgdmFyIHNsb3RUYXJnZXQgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3Nsb3QnKTsKICAgIGlmIChzbG90VGFyZ2V0KSB7CiAgICAgIGVsLnNsb3RUYXJnZXQgPSBzbG90VGFyZ2V0ID09PSAnIiInID8gJyJkZWZhdWx0IicgOiBzbG90VGFyZ2V0OwogICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9ICEhKGVsLmF0dHJzTWFwWyc6c2xvdCddIHx8IGVsLmF0dHJzTWFwWyd2LWJpbmQ6c2xvdCddKTsKICAgICAgLy8gcHJlc2VydmUgc2xvdCBhcyBhbiBhdHRyaWJ1dGUgZm9yIG5hdGl2ZSBzaGFkb3cgRE9NIGNvbXBhdAogICAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzLgogICAgICBpZiAoZWwudGFnICE9PSAndGVtcGxhdGUnICYmICFlbC5zbG90U2NvcGUpIHsKICAgICAgICBhZGRBdHRyKGVsLCAnc2xvdCcsIHNsb3RUYXJnZXQsIGdldFJhd0JpbmRpbmdBdHRyKGVsLCAnc2xvdCcpKTsKICAgICAgfQogICAgfQoKICAgIC8vIDIuNiB2LXNsb3Qgc3ludGF4CiAgICB7CiAgICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHsKICAgICAgICAvLyB2LXNsb3Qgb24gPHRlbXBsYXRlPgogICAgICAgIHZhciBzbG90QmluZGluZyA9IGdldEFuZFJlbW92ZUF0dHJCeVJlZ2V4KGVsLCBzbG90UkUpOwogICAgICAgIGlmIChzbG90QmluZGluZykgewogICAgICAgICAgewogICAgICAgICAgICBpZiAoZWwuc2xvdFRhcmdldCB8fCBlbC5zbG90U2NvcGUpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy4iLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbC5wYXJlbnQgJiYgIW1heWJlQ29tcG9uZW50KGVsLnBhcmVudCkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiPHRlbXBsYXRlIHYtc2xvdD4gY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSByb290IGxldmVsIGluc2lkZSAiICsKICAgICAgICAgICAgICAgICJ0aGUgcmVjZWl2aW5nIHRoZSBjb21wb25lbnQiLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgcmVmID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmcpOwogICAgICAgICAgdmFyIG5hbWUgPSByZWYubmFtZTsKICAgICAgICAgIHZhciBkeW5hbWljID0gcmVmLmR5bmFtaWM7CiAgICAgICAgICBlbC5zbG90VGFyZ2V0ID0gbmFtZTsKICAgICAgICAgIGVsLnNsb3RUYXJnZXREeW5hbWljID0gZHluYW1pYzsKICAgICAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RCaW5kaW5nLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47IC8vIGZvcmNlIGl0IGludG8gYSBzY29wZWQgc2xvdCBmb3IgcGVyZgogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB2LXNsb3Qgb24gY29tcG9uZW50LCBkZW5vdGVzIGRlZmF1bHQgc2xvdAogICAgICAgIHZhciBzbG90QmluZGluZyQxID0gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgoZWwsIHNsb3RSRSk7CiAgICAgICAgaWYgKHNsb3RCaW5kaW5nJDEpIHsKICAgICAgICAgIHsKICAgICAgICAgICAgaWYgKCFtYXliZUNvbXBvbmVudChlbCkpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAidi1zbG90IGNhbiBvbmx5IGJlIHVzZWQgb24gY29tcG9uZW50cyBvciA8dGVtcGxhdGU+LiIsCiAgICAgICAgICAgICAgICBzbG90QmluZGluZyQxCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoZWwuc2xvdFNjb3BlIHx8IGVsLnNsb3RUYXJnZXQpIHsKICAgICAgICAgICAgICB3YXJuJDIoCiAgICAgICAgICAgICAgICAiVW5leHBlY3RlZCBtaXhlZCB1c2FnZSBvZiBkaWZmZXJlbnQgc2xvdCBzeW50YXhlcy4iLAogICAgICAgICAgICAgICAgZWwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChlbC5zY29wZWRTbG90cykgewogICAgICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgICAgICJUbyBhdm9pZCBzY29wZSBhbWJpZ3VpdHksIHRoZSBkZWZhdWx0IHNsb3Qgc2hvdWxkIGFsc28gdXNlICIgKwogICAgICAgICAgICAgICAgIjx0ZW1wbGF0ZT4gc3ludGF4IHdoZW4gdGhlcmUgYXJlIG90aGVyIG5hbWVkIHNsb3RzLiIsCiAgICAgICAgICAgICAgICBzbG90QmluZGluZyQxCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQncyBjaGlsZHJlbiB0byBpdHMgZGVmYXVsdCBzbG90CiAgICAgICAgICB2YXIgc2xvdHMgPSBlbC5zY29wZWRTbG90cyB8fCAoZWwuc2NvcGVkU2xvdHMgPSB7fSk7CiAgICAgICAgICB2YXIgcmVmJDEgPSBnZXRTbG90TmFtZShzbG90QmluZGluZyQxKTsKICAgICAgICAgIHZhciBuYW1lJDEgPSByZWYkMS5uYW1lOwogICAgICAgICAgdmFyIGR5bmFtaWMkMSA9IHJlZiQxLmR5bmFtaWM7CiAgICAgICAgICB2YXIgc2xvdENvbnRhaW5lciA9IHNsb3RzW25hbWUkMV0gPSBjcmVhdGVBU1RFbGVtZW50KCd0ZW1wbGF0ZScsIFtdLCBlbCk7CiAgICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXQgPSBuYW1lJDE7CiAgICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXREeW5hbWljID0gZHluYW1pYyQxOwogICAgICAgICAgc2xvdENvbnRhaW5lci5jaGlsZHJlbiA9IGVsLmNoaWxkcmVuLmZpbHRlcihmdW5jdGlvbiAoYykgewogICAgICAgICAgICBpZiAoIWMuc2xvdFNjb3BlKSB7CiAgICAgICAgICAgICAgYy5wYXJlbnQgPSBzbG90Q29udGFpbmVyOwogICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgc2xvdENvbnRhaW5lci5zbG90U2NvcGUgPSBzbG90QmluZGluZyQxLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47CiAgICAgICAgICAvLyByZW1vdmUgY2hpbGRyZW4gYXMgdGhleSBhcmUgcmV0dXJuZWQgZnJvbSBzY29wZWRTbG90cyBub3cKICAgICAgICAgIGVsLmNoaWxkcmVuID0gW107CiAgICAgICAgICAvLyBtYXJrIGVsIG5vbi1wbGFpbiBzbyBkYXRhIGdldHMgZ2VuZXJhdGVkCiAgICAgICAgICBlbC5wbGFpbiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2V0U2xvdE5hbWUgKGJpbmRpbmcpIHsKICAgIHZhciBuYW1lID0gYmluZGluZy5uYW1lLnJlcGxhY2Uoc2xvdFJFLCAnJyk7CiAgICBpZiAoIW5hbWUpIHsKICAgICAgaWYgKGJpbmRpbmcubmFtZVswXSAhPT0gJyMnKSB7CiAgICAgICAgbmFtZSA9ICdkZWZhdWx0JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB3YXJuJDIoCiAgICAgICAgICAidi1zbG90IHNob3J0aGFuZCBzeW50YXggcmVxdWlyZXMgYSBzbG90IG5hbWUuIiwKICAgICAgICAgIGJpbmRpbmcKICAgICAgICApOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSkKICAgICAgLy8gZHluYW1pYyBbbmFtZV0KICAgICAgPyB7IG5hbWU6IG5hbWUuc2xpY2UoMSwgLTEpLCBkeW5hbWljOiB0cnVlIH0KICAgICAgLy8gc3RhdGljIG5hbWUKICAgICAgOiB7IG5hbWU6ICgiXCIiICsgbmFtZSArICJcIiIpLCBkeW5hbWljOiBmYWxzZSB9CiAgfQoKICAvLyBoYW5kbGUgPHNsb3QvPiBvdXRsZXRzCiAgZnVuY3Rpb24gcHJvY2Vzc1Nsb3RPdXRsZXQgKGVsKSB7CiAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgZWwuc2xvdE5hbWUgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ25hbWUnKTsKICAgICAgaWYgKGVsLmtleSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICJga2V5YCBkb2VzIG5vdCB3b3JrIG9uIDxzbG90PiBiZWNhdXNlIHNsb3RzIGFyZSBhYnN0cmFjdCBvdXRsZXRzICIgKwogICAgICAgICAgImFuZCBjYW4gcG9zc2libHkgZXhwYW5kIGludG8gbXVsdGlwbGUgZWxlbWVudHMuICIgKwogICAgICAgICAgIlVzZSB0aGUga2V5IG9uIGEgd3JhcHBpbmcgZWxlbWVudCBpbnN0ZWFkLiIsCiAgICAgICAgICBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ2tleScpCiAgICAgICAgKTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudCAoZWwpIHsKICAgIHZhciBiaW5kaW5nOwogICAgaWYgKChiaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdpcycpKSkgewogICAgICBlbC5jb21wb25lbnQgPSBiaW5kaW5nOwogICAgfQogICAgaWYgKGdldEFuZFJlbW92ZUF0dHIoZWwsICdpbmxpbmUtdGVtcGxhdGUnKSAhPSBudWxsKSB7CiAgICAgIGVsLmlubGluZVRlbXBsYXRlID0gdHJ1ZTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHByb2Nlc3NBdHRycyAoZWwpIHsKICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0OwogICAgdmFyIGksIGwsIG5hbWUsIHJhd05hbWUsIHZhbHVlLCBtb2RpZmllcnMsIHN5bmNHZW4sIGlzRHluYW1pYzsKICAgIGZvciAoaSA9IDAsIGwgPSBsaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBuYW1lID0gcmF3TmFtZSA9IGxpc3RbaV0ubmFtZTsKICAgICAgdmFsdWUgPSBsaXN0W2ldLnZhbHVlOwogICAgICBpZiAoZGlyUkUudGVzdChuYW1lKSkgewogICAgICAgIC8vIG1hcmsgZWxlbWVudCBhcyBkeW5hbWljCiAgICAgICAgZWwuaGFzQmluZGluZ3MgPSB0cnVlOwogICAgICAgIC8vIG1vZGlmaWVycwogICAgICAgIG1vZGlmaWVycyA9IHBhcnNlTW9kaWZpZXJzKG5hbWUucmVwbGFjZShkaXJSRSwgJycpKTsKICAgICAgICAvLyBzdXBwb3J0IC5mb28gc2hvcnRoYW5kIHN5bnRheCBmb3IgdGhlIC5wcm9wIG1vZGlmaWVyCiAgICAgICAgaWYgKG1vZGlmaWVycykgewogICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShtb2RpZmllclJFLCAnJyk7CiAgICAgICAgfQogICAgICAgIGlmIChiaW5kUkUudGVzdChuYW1lKSkgeyAvLyB2LWJpbmQKICAgICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoYmluZFJFLCAnJyk7CiAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmlsdGVycyh2YWx1ZSk7CiAgICAgICAgICBpc0R5bmFtaWMgPSBkeW5hbWljQXJnUkUudGVzdChuYW1lKTsKICAgICAgICAgIGlmIChpc0R5bmFtaWMpIHsKICAgICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKAogICAgICAgICAgICB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwCiAgICAgICAgICApIHsKICAgICAgICAgICAgd2FybiQyKAogICAgICAgICAgICAgICgiVGhlIHZhbHVlIGZvciBhIHYtYmluZCBleHByZXNzaW9uIGNhbm5vdCBiZSBlbXB0eS4gRm91bmQgaW4gXCJ2LWJpbmQ6IiArIG5hbWUgKyAiXCIiKQogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgaWYgKG1vZGlmaWVycykgewogICAgICAgICAgICBpZiAobW9kaWZpZXJzLnByb3AgJiYgIWlzRHluYW1pYykgewogICAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTsKICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2lubmVySHRtbCcpIHsgbmFtZSA9ICdpbm5lckhUTUwnOyB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKG1vZGlmaWVycy5jYW1lbCAmJiAhaXNEeW5hbWljKSB7CiAgICAgICAgICAgICAgbmFtZSA9IGNhbWVsaXplKG5hbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtb2RpZmllcnMuc3luYykgewogICAgICAgICAgICAgIHN5bmNHZW4gPSBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgIiRldmVudCIpOwogICAgICAgICAgICAgIGlmICghaXNEeW5hbWljKSB7CiAgICAgICAgICAgICAgICBhZGRIYW5kbGVyKAogICAgICAgICAgICAgICAgICBlbCwKICAgICAgICAgICAgICAgICAgKCJ1cGRhdGU6IiArIChjYW1lbGl6ZShuYW1lKSkpLAogICAgICAgICAgICAgICAgICBzeW5jR2VuLAogICAgICAgICAgICAgICAgICBudWxsLAogICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAgd2FybiQyLAogICAgICAgICAgICAgICAgICBsaXN0W2ldCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgaWYgKGh5cGhlbmF0ZShuYW1lKSAhPT0gY2FtZWxpemUobmFtZSkpIHsKICAgICAgICAgICAgICAgICAgYWRkSGFuZGxlcigKICAgICAgICAgICAgICAgICAgICBlbCwKICAgICAgICAgICAgICAgICAgICAoInVwZGF0ZToiICsgKGh5cGhlbmF0ZShuYW1lKSkpLAogICAgICAgICAgICAgICAgICAgIHN5bmNHZW4sCiAgICAgICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgICAgICBmYWxzZSwKICAgICAgICAgICAgICAgICAgICB3YXJuJDIsCiAgICAgICAgICAgICAgICAgICAgbGlzdFtpXQogICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBoYW5kbGVyIHcvIGR5bmFtaWMgZXZlbnQgbmFtZQogICAgICAgICAgICAgICAgYWRkSGFuZGxlcigKICAgICAgICAgICAgICAgICAgZWwsCiAgICAgICAgICAgICAgICAgICgiXCJ1cGRhdGU6XCIrKCIgKyBuYW1lICsgIikiKSwKICAgICAgICAgICAgICAgICAgc3luY0dlbiwKICAgICAgICAgICAgICAgICAgbnVsbCwKICAgICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICAgIHdhcm4kMiwKICAgICAgICAgICAgICAgICAgbGlzdFtpXSwKICAgICAgICAgICAgICAgICAgdHJ1ZSAvLyBkeW5hbWljCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKChtb2RpZmllcnMgJiYgbW9kaWZpZXJzLnByb3ApIHx8ICgKICAgICAgICAgICAgIWVsLmNvbXBvbmVudCAmJiBwbGF0Zm9ybU11c3RVc2VQcm9wKGVsLnRhZywgZWwuYXR0cnNNYXAudHlwZSwgbmFtZSkKICAgICAgICAgICkpIHsKICAgICAgICAgICAgYWRkUHJvcChlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRBdHRyKGVsLCBuYW1lLCB2YWx1ZSwgbGlzdFtpXSwgaXNEeW5hbWljKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKG9uUkUudGVzdChuYW1lKSkgeyAvLyB2LW9uCiAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKG9uUkUsICcnKTsKICAgICAgICAgIGlzRHluYW1pYyA9IGR5bmFtaWNBcmdSRS50ZXN0KG5hbWUpOwogICAgICAgICAgaWYgKGlzRHluYW1pYykgewogICAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7CiAgICAgICAgICB9CiAgICAgICAgICBhZGRIYW5kbGVyKGVsLCBuYW1lLCB2YWx1ZSwgbW9kaWZpZXJzLCBmYWxzZSwgd2FybiQyLCBsaXN0W2ldLCBpc0R5bmFtaWMpOwogICAgICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBkaXJlY3RpdmVzCiAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGRpclJFLCAnJyk7CiAgICAgICAgICAvLyBwYXJzZSBhcmcKICAgICAgICAgIHZhciBhcmdNYXRjaCA9IG5hbWUubWF0Y2goYXJnUkUpOwogICAgICAgICAgdmFyIGFyZyA9IGFyZ01hdGNoICYmIGFyZ01hdGNoWzFdOwogICAgICAgICAgaXNEeW5hbWljID0gZmFsc2U7CiAgICAgICAgICBpZiAoYXJnKSB7CiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0oYXJnLmxlbmd0aCArIDEpKTsKICAgICAgICAgICAgaWYgKGR5bmFtaWNBcmdSRS50ZXN0KGFyZykpIHsKICAgICAgICAgICAgICBhcmcgPSBhcmcuc2xpY2UoMSwgLTEpOwogICAgICAgICAgICAgIGlzRHluYW1pYyA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGFkZERpcmVjdGl2ZShlbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIGFyZywgaXNEeW5hbWljLCBtb2RpZmllcnMsIGxpc3RbaV0pOwogICAgICAgICAgaWYgKG5hbWUgPT09ICdtb2RlbCcpIHsKICAgICAgICAgICAgY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIGxpdGVyYWwgYXR0cmlidXRlCiAgICAgICAgewogICAgICAgICAgdmFyIHJlcyA9IHBhcnNlVGV4dCh2YWx1ZSwgZGVsaW1pdGVycyk7CiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIHdhcm4kMigKICAgICAgICAgICAgICBuYW1lICsgIj1cIiIgKyB2YWx1ZSArICJcIjogIiArCiAgICAgICAgICAgICAgJ0ludGVycG9sYXRpb24gaW5zaWRlIGF0dHJpYnV0ZXMgaGFzIGJlZW4gcmVtb3ZlZC4gJyArCiAgICAgICAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArCiAgICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBpZD0ie3sgdmFsIH19Ij4sIHVzZSA8ZGl2IDppZD0idmFsIj4uJywKICAgICAgICAgICAgICBsaXN0W2ldCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGFkZEF0dHIoZWwsIG5hbWUsIEpTT04uc3RyaW5naWZ5KHZhbHVlKSwgbGlzdFtpXSk7CiAgICAgICAgLy8gIzY4ODcgZmlyZWZveCBkb2Vzbid0IHVwZGF0ZSBtdXRlZCBzdGF0ZSBpZiBzZXQgdmlhIGF0dHJpYnV0ZQogICAgICAgIC8vIGV2ZW4gaW1tZWRpYXRlbHkgYWZ0ZXIgZWxlbWVudCBjcmVhdGlvbgogICAgICAgIGlmICghZWwuY29tcG9uZW50ICYmCiAgICAgICAgICAgIG5hbWUgPT09ICdtdXRlZCcgJiYKICAgICAgICAgICAgcGxhdGZvcm1NdXN0VXNlUHJvcChlbC50YWcsIGVsLmF0dHJzTWFwLnR5cGUsIG5hbWUpKSB7CiAgICAgICAgICBhZGRQcm9wKGVsLCBuYW1lLCAndHJ1ZScsIGxpc3RbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tJbkZvciAoZWwpIHsKICAgIHZhciBwYXJlbnQgPSBlbDsKICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgaWYgKHBhcmVudC5mb3IgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudDsKICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgZnVuY3Rpb24gcGFyc2VNb2RpZmllcnMgKG5hbWUpIHsKICAgIHZhciBtYXRjaCA9IG5hbWUubWF0Y2gobW9kaWZpZXJSRSk7CiAgICBpZiAobWF0Y2gpIHsKICAgICAgdmFyIHJldCA9IHt9OwogICAgICBtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldFttLnNsaWNlKDEpXSA9IHRydWU7IH0pOwogICAgICByZXR1cm4gcmV0CiAgICB9CiAgfQoKICBmdW5jdGlvbiBtYWtlQXR0cnNNYXAgKGF0dHJzKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGF0dHJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBpZiAoCiAgICAgICAgbWFwW2F0dHJzW2ldLm5hbWVdICYmICFpc0lFICYmICFpc0VkZ2UKICAgICAgKSB7CiAgICAgICAgd2FybiQyKCdkdXBsaWNhdGUgYXR0cmlidXRlOiAnICsgYXR0cnNbaV0ubmFtZSwgYXR0cnNbaV0pOwogICAgICB9CiAgICAgIG1hcFthdHRyc1tpXS5uYW1lXSA9IGF0dHJzW2ldLnZhbHVlOwogICAgfQogICAgcmV0dXJuIG1hcAogIH0KCiAgLy8gZm9yIHNjcmlwdCAoZS5nLiB0eXBlPSJ4L3RlbXBsYXRlIikgb3Igc3R5bGUsIGRvIG5vdCBkZWNvZGUgY29udGVudAogIGZ1bmN0aW9uIGlzVGV4dFRhZyAoZWwpIHsKICAgIHJldHVybiBlbC50YWcgPT09ICdzY3JpcHQnIHx8IGVsLnRhZyA9PT0gJ3N0eWxlJwogIH0KCiAgZnVuY3Rpb24gaXNGb3JiaWRkZW5UYWcgKGVsKSB7CiAgICByZXR1cm4gKAogICAgICBlbC50YWcgPT09ICdzdHlsZScgfHwKICAgICAgKGVsLnRhZyA9PT0gJ3NjcmlwdCcgJiYgKAogICAgICAgICFlbC5hdHRyc01hcC50eXBlIHx8CiAgICAgICAgZWwuYXR0cnNNYXAudHlwZSA9PT0gJ3RleHQvamF2YXNjcmlwdCcKICAgICAgKSkKICAgICkKICB9CgogIHZhciBpZU5TQnVnID0gL154bWxuczpOU1xkKy87CiAgdmFyIGllTlNQcmVmaXggPSAvXk5TXGQrOi87CgogIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovCiAgZnVuY3Rpb24gZ3VhcmRJRVNWR0J1ZyAoYXR0cnMpIHsKICAgIHZhciByZXMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGF0dHIgPSBhdHRyc1tpXTsKICAgICAgaWYgKCFpZU5TQnVnLnRlc3QoYXR0ci5uYW1lKSkgewogICAgICAgIGF0dHIubmFtZSA9IGF0dHIubmFtZS5yZXBsYWNlKGllTlNQcmVmaXgsICcnKTsKICAgICAgICByZXMucHVzaChhdHRyKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gY2hlY2tGb3JBbGlhc01vZGVsIChlbCwgdmFsdWUpIHsKICAgIHZhciBfZWwgPSBlbDsKICAgIHdoaWxlIChfZWwpIHsKICAgICAgaWYgKF9lbC5mb3IgJiYgX2VsLmFsaWFzID09PSB2YWx1ZSkgewogICAgICAgIHdhcm4kMigKICAgICAgICAgICI8IiArIChlbC50YWcpICsgIiB2LW1vZGVsPVwiIiArIHZhbHVlICsgIlwiPjogIiArCiAgICAgICAgICAiWW91IGFyZSBiaW5kaW5nIHYtbW9kZWwgZGlyZWN0bHkgdG8gYSB2LWZvciBpdGVyYXRpb24gYWxpYXMuICIgKwogICAgICAgICAgIlRoaXMgd2lsbCBub3QgYmUgYWJsZSB0byBtb2RpZnkgdGhlIHYtZm9yIHNvdXJjZSBhcnJheSBiZWNhdXNlICIgKwogICAgICAgICAgIndyaXRpbmcgdG8gdGhlIGFsaWFzIGlzIGxpa2UgbW9kaWZ5aW5nIGEgZnVuY3Rpb24gbG9jYWwgdmFyaWFibGUuICIgKwogICAgICAgICAgIkNvbnNpZGVyIHVzaW5nIGFuIGFycmF5IG9mIG9iamVjdHMgYW5kIHVzZSB2LW1vZGVsIG9uIGFuIG9iamVjdCBwcm9wZXJ0eSBpbnN0ZWFkLiIsCiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1tb2RlbCddCiAgICAgICAgKTsKICAgICAgfQogICAgICBfZWwgPSBfZWwucGFyZW50OwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIHByZVRyYW5zZm9ybU5vZGUgKGVsLCBvcHRpb25zKSB7CiAgICBpZiAoZWwudGFnID09PSAnaW5wdXQnKSB7CiAgICAgIHZhciBtYXAgPSBlbC5hdHRyc01hcDsKICAgICAgaWYgKCFtYXBbJ3YtbW9kZWwnXSkgewogICAgICAgIHJldHVybgogICAgICB9CgogICAgICB2YXIgdHlwZUJpbmRpbmc7CiAgICAgIGlmIChtYXBbJzp0eXBlJ10gfHwgbWFwWyd2LWJpbmQ6dHlwZSddKSB7CiAgICAgICAgdHlwZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3R5cGUnKTsKICAgICAgfQogICAgICBpZiAoIW1hcC50eXBlICYmICF0eXBlQmluZGluZyAmJiBtYXBbJ3YtYmluZCddKSB7CiAgICAgICAgdHlwZUJpbmRpbmcgPSAiKCIgKyAobWFwWyd2LWJpbmQnXSkgKyAiKS50eXBlIjsKICAgICAgfQoKICAgICAgaWYgKHR5cGVCaW5kaW5nKSB7CiAgICAgICAgdmFyIGlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtaWYnLCB0cnVlKTsKICAgICAgICB2YXIgaWZDb25kaXRpb25FeHRyYSA9IGlmQ29uZGl0aW9uID8gKCImJigiICsgaWZDb25kaXRpb24gKyAiKSIpIDogIiI7CiAgICAgICAgdmFyIGhhc0Vsc2UgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1lbHNlJywgdHJ1ZSkgIT0gbnVsbDsKICAgICAgICB2YXIgZWxzZUlmQ29uZGl0aW9uID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicsIHRydWUpOwogICAgICAgIC8vIDEuIGNoZWNrYm94CiAgICAgICAgdmFyIGJyYW5jaDAgPSBjbG9uZUFTVEVsZW1lbnQoZWwpOwogICAgICAgIC8vIHByb2Nlc3MgZm9yIG9uIHRoZSBtYWluIG5vZGUKICAgICAgICBwcm9jZXNzRm9yKGJyYW5jaDApOwogICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMCwgJ3R5cGUnLCAnY2hlY2tib3gnKTsKICAgICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gwLCBvcHRpb25zKTsKICAgICAgICBicmFuY2gwLnByb2Nlc3NlZCA9IHRydWU7IC8vIHByZXZlbnQgaXQgZnJvbSBkb3VibGUtcHJvY2Vzc2VkCiAgICAgICAgYnJhbmNoMC5pZiA9ICIoIiArIHR5cGVCaW5kaW5nICsgIik9PT0nY2hlY2tib3gnIiArIGlmQ29uZGl0aW9uRXh0cmE7CiAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwgewogICAgICAgICAgZXhwOiBicmFuY2gwLmlmLAogICAgICAgICAgYmxvY2s6IGJyYW5jaDAKICAgICAgICB9KTsKICAgICAgICAvLyAyLiBhZGQgcmFkaW8gZWxzZS1pZiBjb25kaXRpb24KICAgICAgICB2YXIgYnJhbmNoMSA9IGNsb25lQVNURWxlbWVudChlbCk7CiAgICAgICAgZ2V0QW5kUmVtb3ZlQXR0cihicmFuY2gxLCAndi1mb3InLCB0cnVlKTsKICAgICAgICBhZGRSYXdBdHRyKGJyYW5jaDEsICd0eXBlJywgJ3JhZGlvJyk7CiAgICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMSwgb3B0aW9ucyk7CiAgICAgICAgYWRkSWZDb25kaXRpb24oYnJhbmNoMCwgewogICAgICAgICAgZXhwOiAiKCIgKyB0eXBlQmluZGluZyArICIpPT09J3JhZGlvJyIgKyBpZkNvbmRpdGlvbkV4dHJhLAogICAgICAgICAgYmxvY2s6IGJyYW5jaDEKICAgICAgICB9KTsKICAgICAgICAvLyAzLiBvdGhlcgogICAgICAgIHZhciBicmFuY2gyID0gY2xvbmVBU1RFbGVtZW50KGVsKTsKICAgICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDIsICd2LWZvcicsIHRydWUpOwogICAgICAgIGFkZFJhd0F0dHIoYnJhbmNoMiwgJzp0eXBlJywgdHlwZUJpbmRpbmcpOwogICAgICAgIHByb2Nlc3NFbGVtZW50KGJyYW5jaDIsIG9wdGlvbnMpOwogICAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHsKICAgICAgICAgIGV4cDogaWZDb25kaXRpb24sCiAgICAgICAgICBibG9jazogYnJhbmNoMgogICAgICAgIH0pOwoKICAgICAgICBpZiAoaGFzRWxzZSkgewogICAgICAgICAgYnJhbmNoMC5lbHNlID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKGVsc2VJZkNvbmRpdGlvbikgewogICAgICAgICAgYnJhbmNoMC5lbHNlaWYgPSBlbHNlSWZDb25kaXRpb247CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gYnJhbmNoMAogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjbG9uZUFTVEVsZW1lbnQgKGVsKSB7CiAgICByZXR1cm4gY3JlYXRlQVNURWxlbWVudChlbC50YWcsIGVsLmF0dHJzTGlzdC5zbGljZSgpLCBlbC5wYXJlbnQpCiAgfQoKICB2YXIgbW9kZWwkMSA9IHsKICAgIHByZVRyYW5zZm9ybU5vZGU6IHByZVRyYW5zZm9ybU5vZGUKICB9OwoKICB2YXIgbW9kdWxlcyQxID0gWwogICAga2xhc3MkMSwKICAgIHN0eWxlJDEsCiAgICBtb2RlbCQxCiAgXTsKCiAgLyogICovCgogIGZ1bmN0aW9uIHRleHQgKGVsLCBkaXIpIHsKICAgIGlmIChkaXIudmFsdWUpIHsKICAgICAgYWRkUHJvcChlbCwgJ3RleHRDb250ZW50JywgKCJfcygiICsgKGRpci52YWx1ZSkgKyAiKSIpLCBkaXIpOwogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGh0bWwgKGVsLCBkaXIpIHsKICAgIGlmIChkaXIudmFsdWUpIHsKICAgICAgYWRkUHJvcChlbCwgJ2lubmVySFRNTCcsICgiX3MoIiArIChkaXIudmFsdWUpICsgIikiKSwgZGlyKTsKICAgIH0KICB9CgogIHZhciBkaXJlY3RpdmVzJDEgPSB7CiAgICBtb2RlbDogbW9kZWwsCiAgICB0ZXh0OiB0ZXh0LAogICAgaHRtbDogaHRtbAogIH07CgogIC8qICAqLwoKICB2YXIgYmFzZU9wdGlvbnMgPSB7CiAgICBleHBlY3RIVE1MOiB0cnVlLAogICAgbW9kdWxlczogbW9kdWxlcyQxLAogICAgZGlyZWN0aXZlczogZGlyZWN0aXZlcyQxLAogICAgaXNQcmVUYWc6IGlzUHJlVGFnLAogICAgaXNVbmFyeVRhZzogaXNVbmFyeVRhZywKICAgIG11c3RVc2VQcm9wOiBtdXN0VXNlUHJvcCwKICAgIGNhbkJlTGVmdE9wZW5UYWc6IGNhbkJlTGVmdE9wZW5UYWcsCiAgICBpc1Jlc2VydmVkVGFnOiBpc1Jlc2VydmVkVGFnLAogICAgZ2V0VGFnTmFtZXNwYWNlOiBnZXRUYWdOYW1lc3BhY2UsCiAgICBzdGF0aWNLZXlzOiBnZW5TdGF0aWNLZXlzKG1vZHVsZXMkMSkKICB9OwoKICAvKiAgKi8KCiAgdmFyIGlzU3RhdGljS2V5OwogIHZhciBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWc7CgogIHZhciBnZW5TdGF0aWNLZXlzQ2FjaGVkID0gY2FjaGVkKGdlblN0YXRpY0tleXMkMSk7CgogIC8qKgogICAqIEdvYWwgb2YgdGhlIG9wdGltaXplcjogd2FsayB0aGUgZ2VuZXJhdGVkIHRlbXBsYXRlIEFTVCB0cmVlCiAgICogYW5kIGRldGVjdCBzdWItdHJlZXMgdGhhdCBhcmUgcHVyZWx5IHN0YXRpYywgaS5lLiBwYXJ0cyBvZgogICAqIHRoZSBET00gdGhhdCBuZXZlciBuZWVkcyB0byBjaGFuZ2UuCiAgICoKICAgKiBPbmNlIHdlIGRldGVjdCB0aGVzZSBzdWItdHJlZXMsIHdlIGNhbjoKICAgKgogICAqIDEuIEhvaXN0IHRoZW0gaW50byBjb25zdGFudHMsIHNvIHRoYXQgd2Ugbm8gbG9uZ2VyIG5lZWQgdG8KICAgKiAgICBjcmVhdGUgZnJlc2ggbm9kZXMgZm9yIHRoZW0gb24gZWFjaCByZS1yZW5kZXI7CiAgICogMi4gQ29tcGxldGVseSBza2lwIHRoZW0gaW4gdGhlIHBhdGNoaW5nIHByb2Nlc3MuCiAgICovCiAgZnVuY3Rpb24gb3B0aW1pemUgKHJvb3QsIG9wdGlvbnMpIHsKICAgIGlmICghcm9vdCkgeyByZXR1cm4gfQogICAgaXNTdGF0aWNLZXkgPSBnZW5TdGF0aWNLZXlzQ2FjaGVkKG9wdGlvbnMuc3RhdGljS2V5cyB8fCAnJyk7CiAgICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87CiAgICAvLyBmaXJzdCBwYXNzOiBtYXJrIGFsbCBub24tc3RhdGljIG5vZGVzLgogICAgbWFya1N0YXRpYyQxKHJvb3QpOwogICAgLy8gc2Vjb25kIHBhc3M6IG1hcmsgc3RhdGljIHJvb3RzLgogICAgbWFya1N0YXRpY1Jvb3RzKHJvb3QsIGZhbHNlKTsKICB9CgogIGZ1bmN0aW9uIGdlblN0YXRpY0tleXMkMSAoa2V5cykgewogICAgcmV0dXJuIG1ha2VNYXAoCiAgICAgICd0eXBlLHRhZyxhdHRyc0xpc3QsYXR0cnNNYXAscGxhaW4scGFyZW50LGNoaWxkcmVuLGF0dHJzLHN0YXJ0LGVuZCxyYXdBdHRyc01hcCcgKwogICAgICAoa2V5cyA/ICcsJyArIGtleXMgOiAnJykKICAgICkKICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWMkMSAobm9kZSkgewogICAgbm9kZS5zdGF0aWMgPSBpc1N0YXRpYyhub2RlKTsKICAgIGlmIChub2RlLnR5cGUgPT09IDEpIHsKICAgICAgLy8gZG8gbm90IG1ha2UgY29tcG9uZW50IHNsb3QgY29udGVudCBzdGF0aWMuIHRoaXMgYXZvaWRzCiAgICAgIC8vIDEuIGNvbXBvbmVudHMgbm90IGFibGUgdG8gbXV0YXRlIHNsb3Qgbm9kZXMKICAgICAgLy8gMi4gc3RhdGljIHNsb3QgY29udGVudCBmYWlscyBmb3IgaG90LXJlbG9hZGluZwogICAgICBpZiAoCiAgICAgICAgIWlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiYKICAgICAgICBub2RlLnRhZyAhPT0gJ3Nsb3QnICYmCiAgICAgICAgbm9kZS5hdHRyc01hcFsnaW5saW5lLXRlbXBsYXRlJ10gPT0gbnVsbAogICAgICApIHsKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBmb3IgKHZhciBpID0gMCwgbCA9IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTsKICAgICAgICBtYXJrU3RhdGljJDEoY2hpbGQpOwogICAgICAgIGlmICghY2hpbGQuc3RhdGljKSB7CiAgICAgICAgICBub2RlLnN0YXRpYyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHsKICAgICAgICAgIHZhciBibG9jayA9IG5vZGUuaWZDb25kaXRpb25zW2kkMV0uYmxvY2s7CiAgICAgICAgICBtYXJrU3RhdGljJDEoYmxvY2spOwogICAgICAgICAgaWYgKCFibG9jay5zdGF0aWMpIHsKICAgICAgICAgICAgbm9kZS5zdGF0aWMgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIG1hcmtTdGF0aWNSb290cyAobm9kZSwgaXNJbkZvcikgewogICAgaWYgKG5vZGUudHlwZSA9PT0gMSkgewogICAgICBpZiAobm9kZS5zdGF0aWMgfHwgbm9kZS5vbmNlKSB7CiAgICAgICAgbm9kZS5zdGF0aWNJbkZvciA9IGlzSW5Gb3I7CiAgICAgIH0KICAgICAgLy8gRm9yIGEgbm9kZSB0byBxdWFsaWZ5IGFzIGEgc3RhdGljIHJvb3QsIGl0IHNob3VsZCBoYXZlIGNoaWxkcmVuIHRoYXQKICAgICAgLy8gYXJlIG5vdCBqdXN0IHN0YXRpYyB0ZXh0LiBPdGhlcndpc2UgdGhlIGNvc3Qgb2YgaG9pc3Rpbmcgb3V0IHdpbGwKICAgICAgLy8gb3V0d2VpZ2ggdGhlIGJlbmVmaXRzIGFuZCBpdCdzIGJldHRlciBvZmYgdG8ganVzdCBhbHdheXMgcmVuZGVyIGl0IGZyZXNoLgogICAgICBpZiAobm9kZS5zdGF0aWMgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgISgKICAgICAgICBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJgogICAgICAgIG5vZGUuY2hpbGRyZW5bMF0udHlwZSA9PT0gMwogICAgICApKSB7CiAgICAgICAgbm9kZS5zdGF0aWNSb290ID0gdHJ1ZTsKICAgICAgICByZXR1cm4KICAgICAgfSBlbHNlIHsKICAgICAgICBub2RlLnN0YXRpY1Jvb3QgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAobm9kZS5jaGlsZHJlbikgewogICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmNoaWxkcmVuW2ldLCBpc0luRm9yIHx8ICEhbm9kZS5mb3IpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHsKICAgICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHsKICAgICAgICAgIG1hcmtTdGF0aWNSb290cyhub2RlLmlmQ29uZGl0aW9uc1tpJDFdLmJsb2NrLCBpc0luRm9yKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGlzU3RhdGljIChub2RlKSB7CiAgICBpZiAobm9kZS50eXBlID09PSAyKSB7IC8vIGV4cHJlc3Npb24KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgICBpZiAobm9kZS50eXBlID09PSAzKSB7IC8vIHRleHQKICAgICAgcmV0dXJuIHRydWUKICAgIH0KICAgIHJldHVybiAhIShub2RlLnByZSB8fCAoCiAgICAgICFub2RlLmhhc0JpbmRpbmdzICYmIC8vIG5vIGR5bmFtaWMgYmluZGluZ3MKICAgICAgIW5vZGUuaWYgJiYgIW5vZGUuZm9yICYmIC8vIG5vdCB2LWlmIG9yIHYtZm9yIG9yIHYtZWxzZQogICAgICAhaXNCdWlsdEluVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBidWlsdC1pbgogICAgICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcobm9kZS50YWcpICYmIC8vIG5vdCBhIGNvbXBvbmVudAogICAgICAhaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3Iobm9kZSkgJiYKICAgICAgT2JqZWN0LmtleXMobm9kZSkuZXZlcnkoaXNTdGF0aWNLZXkpCiAgICApKQogIH0KCiAgZnVuY3Rpb24gaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3IgKG5vZGUpIHsKICAgIHdoaWxlIChub2RlLnBhcmVudCkgewogICAgICBub2RlID0gbm9kZS5wYXJlbnQ7CiAgICAgIGlmIChub2RlLnRhZyAhPT0gJ3RlbXBsYXRlJykgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIGlmIChub2RlLmZvcikgewogICAgICAgIHJldHVybiB0cnVlCiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZQogIH0KCiAgLyogICovCgogIHZhciBmbkV4cFJFID0gL14oW1x3JF9dK3xcKFteKV0qP1wpKVxzKj0+fF5mdW5jdGlvblxzKig/OltcdyRdKyk/XHMqXCgvOwogIHZhciBmbkludm9rZVJFID0gL1woW14pXSo/XCk7KiQvOwogIHZhciBzaW1wbGVQYXRoUkUgPSAvXltBLVphLXpfJF1bXHckXSooPzpcLltBLVphLXpfJF1bXHckXSp8XFsnW14nXSo/J118XFsiW14iXSo/Il18XFtcZCtdfFxbW0EtWmEtel8kXVtcdyRdKl0pKiQvOwoKICAvLyBLZXlib2FyZEV2ZW50LmtleUNvZGUgYWxpYXNlcwogIHZhciBrZXlDb2RlcyA9IHsKICAgIGVzYzogMjcsCiAgICB0YWI6IDksCiAgICBlbnRlcjogMTMsCiAgICBzcGFjZTogMzIsCiAgICB1cDogMzgsCiAgICBsZWZ0OiAzNywKICAgIHJpZ2h0OiAzOSwKICAgIGRvd246IDQwLAogICAgJ2RlbGV0ZSc6IFs4LCA0Nl0KICB9OwoKICAvLyBLZXlib2FyZEV2ZW50LmtleSBhbGlhc2VzCiAgdmFyIGtleU5hbWVzID0gewogICAgLy8gIzc4ODA6IElFMTEgYW5kIEVkZ2UgdXNlIGBFc2NgIGZvciBFc2NhcGUga2V5IG5hbWUuCiAgICBlc2M6IFsnRXNjJywgJ0VzY2FwZSddLAogICAgdGFiOiAnVGFiJywKICAgIGVudGVyOiAnRW50ZXInLAogICAgLy8gIzkxMTI6IElFMTEgdXNlcyBgU3BhY2ViYXJgIGZvciBTcGFjZSBrZXkgbmFtZS4KICAgIHNwYWNlOiBbJyAnLCAnU3BhY2ViYXInXSwKICAgIC8vICM3ODA2OiBJRTExIHVzZXMga2V5IG5hbWVzIHdpdGhvdXQgYEFycm93YCBwcmVmaXggZm9yIGFycm93IGtleXMuCiAgICB1cDogWydVcCcsICdBcnJvd1VwJ10sCiAgICBsZWZ0OiBbJ0xlZnQnLCAnQXJyb3dMZWZ0J10sCiAgICByaWdodDogWydSaWdodCcsICdBcnJvd1JpZ2h0J10sCiAgICBkb3duOiBbJ0Rvd24nLCAnQXJyb3dEb3duJ10sCiAgICAvLyAjOTExMjogSUUxMSB1c2VzIGBEZWxgIGZvciBEZWxldGUga2V5IG5hbWUuCiAgICAnZGVsZXRlJzogWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0RlbCddCiAgfTsKCiAgLy8gIzQ4Njg6IG1vZGlmaWVycyB0aGF0IHByZXZlbnQgdGhlIGV4ZWN1dGlvbiBvZiB0aGUgbGlzdGVuZXIKICAvLyBuZWVkIHRvIGV4cGxpY2l0bHkgcmV0dXJuIG51bGwgc28gdGhhdCB3ZSBjYW4gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gcmVtb3ZlCiAgLy8gdGhlIGxpc3RlbmVyIGZvciAub25jZQogIHZhciBnZW5HdWFyZCA9IGZ1bmN0aW9uIChjb25kaXRpb24pIHsgcmV0dXJuICgiaWYoIiArIGNvbmRpdGlvbiArICIpcmV0dXJuIG51bGw7Iik7IH07CgogIHZhciBtb2RpZmllckNvZGUgPSB7CiAgICBzdG9wOiAnJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOycsCiAgICBwcmV2ZW50OiAnJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7JywKICAgIHNlbGY6IGdlbkd1YXJkKCIkZXZlbnQudGFyZ2V0ICE9PSAkZXZlbnQuY3VycmVudFRhcmdldCIpLAogICAgY3RybDogZ2VuR3VhcmQoIiEkZXZlbnQuY3RybEtleSIpLAogICAgc2hpZnQ6IGdlbkd1YXJkKCIhJGV2ZW50LnNoaWZ0S2V5IiksCiAgICBhbHQ6IGdlbkd1YXJkKCIhJGV2ZW50LmFsdEtleSIpLAogICAgbWV0YTogZ2VuR3VhcmQoIiEkZXZlbnQubWV0YUtleSIpLAogICAgbGVmdDogZ2VuR3VhcmQoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAwIiksCiAgICBtaWRkbGU6IGdlbkd1YXJkKCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMSIpLAogICAgcmlnaHQ6IGdlbkd1YXJkKCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMiIpCiAgfTsKCiAgZnVuY3Rpb24gZ2VuSGFuZGxlcnMgKAogICAgZXZlbnRzLAogICAgaXNOYXRpdmUKICApIHsKICAgIHZhciBwcmVmaXggPSBpc05hdGl2ZSA/ICduYXRpdmVPbjonIDogJ29uOic7CiAgICB2YXIgc3RhdGljSGFuZGxlcnMgPSAiIjsKICAgIHZhciBkeW5hbWljSGFuZGxlcnMgPSAiIjsKICAgIGZvciAodmFyIG5hbWUgaW4gZXZlbnRzKSB7CiAgICAgIHZhciBoYW5kbGVyQ29kZSA9IGdlbkhhbmRsZXIoZXZlbnRzW25hbWVdKTsKICAgICAgaWYgKGV2ZW50c1tuYW1lXSAmJiBldmVudHNbbmFtZV0uZHluYW1pYykgewogICAgICAgIGR5bmFtaWNIYW5kbGVycyArPSBuYW1lICsgIiwiICsgaGFuZGxlckNvZGUgKyAiLCI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGljSGFuZGxlcnMgKz0gIlwiIiArIG5hbWUgKyAiXCI6IiArIGhhbmRsZXJDb2RlICsgIiwiOwogICAgICB9CiAgICB9CiAgICBzdGF0aWNIYW5kbGVycyA9ICJ7IiArIChzdGF0aWNIYW5kbGVycy5zbGljZSgwLCAtMSkpICsgIn0iOwogICAgaWYgKGR5bmFtaWNIYW5kbGVycykgewogICAgICByZXR1cm4gcHJlZml4ICsgIl9kKCIgKyBzdGF0aWNIYW5kbGVycyArICIsWyIgKyAoZHluYW1pY0hhbmRsZXJzLnNsaWNlKDAsIC0xKSkgKyAiXSkiCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gcHJlZml4ICsgc3RhdGljSGFuZGxlcnMKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbkhhbmRsZXIgKGhhbmRsZXIpIHsKICAgIGlmICghaGFuZGxlcikgewogICAgICByZXR1cm4gJ2Z1bmN0aW9uKCl7fScKICAgIH0KCiAgICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkgewogICAgICByZXR1cm4gKCJbIiArIChoYW5kbGVyLm1hcChmdW5jdGlvbiAoaGFuZGxlcikgeyByZXR1cm4gZ2VuSGFuZGxlcihoYW5kbGVyKTsgfSkuam9pbignLCcpKSArICJdIikKICAgIH0KCiAgICB2YXIgaXNNZXRob2RQYXRoID0gc2ltcGxlUGF0aFJFLnRlc3QoaGFuZGxlci52YWx1ZSk7CiAgICB2YXIgaXNGdW5jdGlvbkV4cHJlc3Npb24gPSBmbkV4cFJFLnRlc3QoaGFuZGxlci52YWx1ZSk7CiAgICB2YXIgaXNGdW5jdGlvbkludm9jYXRpb24gPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlLnJlcGxhY2UoZm5JbnZva2VSRSwgJycpKTsKCiAgICBpZiAoIWhhbmRsZXIubW9kaWZpZXJzKSB7CiAgICAgIGlmIChpc01ldGhvZFBhdGggfHwgaXNGdW5jdGlvbkV4cHJlc3Npb24pIHsKICAgICAgICByZXR1cm4gaGFuZGxlci52YWx1ZQogICAgICB9CiAgICAgIHJldHVybiAoImZ1bmN0aW9uKCRldmVudCl7IiArIChpc0Z1bmN0aW9uSW52b2NhdGlvbiA/ICgicmV0dXJuICIgKyAoaGFuZGxlci52YWx1ZSkpIDogaGFuZGxlci52YWx1ZSkgKyAifSIpIC8vIGlubGluZSBzdGF0ZW1lbnQKICAgIH0gZWxzZSB7CiAgICAgIHZhciBjb2RlID0gJyc7CiAgICAgIHZhciBnZW5Nb2RpZmllckNvZGUgPSAnJzsKICAgICAgdmFyIGtleXMgPSBbXTsKICAgICAgZm9yICh2YXIga2V5IGluIGhhbmRsZXIubW9kaWZpZXJzKSB7CiAgICAgICAgaWYgKG1vZGlmaWVyQ29kZVtrZXldKSB7CiAgICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gbW9kaWZpZXJDb2RlW2tleV07CiAgICAgICAgICAvLyBsZWZ0L3JpZ2h0CiAgICAgICAgICBpZiAoa2V5Q29kZXNba2V5XSkgewogICAgICAgICAgICBrZXlzLnB1c2goa2V5KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2V4YWN0JykgewogICAgICAgICAgdmFyIG1vZGlmaWVycyA9IChoYW5kbGVyLm1vZGlmaWVycyk7CiAgICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gZ2VuR3VhcmQoCiAgICAgICAgICAgIFsnY3RybCcsICdzaGlmdCcsICdhbHQnLCAnbWV0YSddCiAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5TW9kaWZpZXIpIHsgcmV0dXJuICFtb2RpZmllcnNba2V5TW9kaWZpZXJdOyB9KQogICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAoIiRldmVudC4iICsga2V5TW9kaWZpZXIgKyAiS2V5Iik7IH0pCiAgICAgICAgICAgICAgLmpvaW4oJ3x8JykKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGtleXMucHVzaChrZXkpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoa2V5cy5sZW5ndGgpIHsKICAgICAgICBjb2RlICs9IGdlbktleUZpbHRlcihrZXlzKTsKICAgICAgfQogICAgICAvLyBNYWtlIHN1cmUgbW9kaWZpZXJzIGxpa2UgcHJldmVudCBhbmQgc3RvcCBnZXQgZXhlY3V0ZWQgYWZ0ZXIga2V5IGZpbHRlcmluZwogICAgICBpZiAoZ2VuTW9kaWZpZXJDb2RlKSB7CiAgICAgICAgY29kZSArPSBnZW5Nb2RpZmllckNvZGU7CiAgICAgIH0KICAgICAgdmFyIGhhbmRsZXJDb2RlID0gaXNNZXRob2RQYXRoCiAgICAgICAgPyAoInJldHVybiAiICsgKGhhbmRsZXIudmFsdWUpICsgIigkZXZlbnQpIikKICAgICAgICA6IGlzRnVuY3Rpb25FeHByZXNzaW9uCiAgICAgICAgICA/ICgicmV0dXJuICgiICsgKGhhbmRsZXIudmFsdWUpICsgIikoJGV2ZW50KSIpCiAgICAgICAgICA6IGlzRnVuY3Rpb25JbnZvY2F0aW9uCiAgICAgICAgICAgID8gKCJyZXR1cm4gIiArIChoYW5kbGVyLnZhbHVlKSkKICAgICAgICAgICAgOiBoYW5kbGVyLnZhbHVlOwogICAgICByZXR1cm4gKCJmdW5jdGlvbigkZXZlbnQpeyIgKyBjb2RlICsgaGFuZGxlckNvZGUgKyAifSIpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5LZXlGaWx0ZXIgKGtleXMpIHsKICAgIHJldHVybiAoCiAgICAgIC8vIG1ha2Ugc3VyZSB0aGUga2V5IGZpbHRlcnMgb25seSBhcHBseSB0byBLZXlib2FyZEV2ZW50cwogICAgICAvLyAjOTQ0MTogY2FuJ3QgdXNlICdrZXlDb2RlJyBpbiAkZXZlbnQgYmVjYXVzZSBDaHJvbWUgYXV0b2ZpbGwgZmlyZXMgZmFrZQogICAgICAvLyBrZXkgZXZlbnRzIHRoYXQgZG8gbm90IGhhdmUga2V5Q29kZSBwcm9wZXJ0eS4uLgogICAgICAiaWYoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpJiYiICsKICAgICAgKGtleXMubWFwKGdlbkZpbHRlckNvZGUpLmpvaW4oJyYmJykpICsgIilyZXR1cm4gbnVsbDsiCiAgICApCiAgfQoKICBmdW5jdGlvbiBnZW5GaWx0ZXJDb2RlIChrZXkpIHsKICAgIHZhciBrZXlWYWwgPSBwYXJzZUludChrZXksIDEwKTsKICAgIGlmIChrZXlWYWwpIHsKICAgICAgcmV0dXJuICgiJGV2ZW50LmtleUNvZGUhPT0iICsga2V5VmFsKQogICAgfQogICAgdmFyIGtleUNvZGUgPSBrZXlDb2Rlc1trZXldOwogICAgdmFyIGtleU5hbWUgPSBrZXlOYW1lc1trZXldOwogICAgcmV0dXJuICgKICAgICAgIl9rKCRldmVudC5rZXlDb2RlLCIgKwogICAgICAoSlNPTi5zdHJpbmdpZnkoa2V5KSkgKyAiLCIgKwogICAgICAoSlNPTi5zdHJpbmdpZnkoa2V5Q29kZSkpICsgIiwiICsKICAgICAgIiRldmVudC5rZXksIiArCiAgICAgICIiICsgKEpTT04uc3RyaW5naWZ5KGtleU5hbWUpKSArCiAgICAgICIpIgogICAgKQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIG9uIChlbCwgZGlyKSB7CiAgICBpZiAoZGlyLm1vZGlmaWVycykgewogICAgICB3YXJuKCJ2LW9uIHdpdGhvdXQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmllcnMuIik7CiAgICB9CiAgICBlbC53cmFwTGlzdGVuZXJzID0gZnVuY3Rpb24gKGNvZGUpIHsgcmV0dXJuICgiX2coIiArIGNvZGUgKyAiLCIgKyAoZGlyLnZhbHVlKSArICIpIik7IH07CiAgfQoKICAvKiAgKi8KCiAgZnVuY3Rpb24gYmluZCQxIChlbCwgZGlyKSB7CiAgICBlbC53cmFwRGF0YSA9IGZ1bmN0aW9uIChjb2RlKSB7CiAgICAgIHJldHVybiAoIl9iKCIgKyBjb2RlICsgIiwnIiArIChlbC50YWcpICsgIicsIiArIChkaXIudmFsdWUpICsgIiwiICsgKGRpci5tb2RpZmllcnMgJiYgZGlyLm1vZGlmaWVycy5wcm9wID8gJ3RydWUnIDogJ2ZhbHNlJykgKyAoZGlyLm1vZGlmaWVycyAmJiBkaXIubW9kaWZpZXJzLnN5bmMgPyAnLHRydWUnIDogJycpICsgIikiKQogICAgfTsKICB9CgogIC8qICAqLwoKICB2YXIgYmFzZURpcmVjdGl2ZXMgPSB7CiAgICBvbjogb24sCiAgICBiaW5kOiBiaW5kJDEsCiAgICBjbG9hazogbm9vcAogIH07CgogIC8qICAqLwoKCgoKCiAgdmFyIENvZGVnZW5TdGF0ZSA9IGZ1bmN0aW9uIENvZGVnZW5TdGF0ZSAob3B0aW9ucykgewogICAgdGhpcy5vcHRpb25zID0gb3B0aW9uczsKICAgIHRoaXMud2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjsKICAgIHRoaXMudHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAndHJhbnNmb3JtQ29kZScpOwogICAgdGhpcy5kYXRhR2VuRm5zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdnZW5EYXRhJyk7CiAgICB0aGlzLmRpcmVjdGl2ZXMgPSBleHRlbmQoZXh0ZW5kKHt9LCBiYXNlRGlyZWN0aXZlcyksIG9wdGlvbnMuZGlyZWN0aXZlcyk7CiAgICB2YXIgaXNSZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubzsKICAgIHRoaXMubWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07CiAgICB0aGlzLm9uY2VJZCA9IDA7CiAgICB0aGlzLnN0YXRpY1JlbmRlckZucyA9IFtdOwogICAgdGhpcy5wcmUgPSBmYWxzZTsKICB9OwoKCgogIGZ1bmN0aW9uIGdlbmVyYXRlICgKICAgIGFzdCwKICAgIG9wdGlvbnMKICApIHsKICAgIHZhciBzdGF0ZSA9IG5ldyBDb2RlZ2VuU3RhdGUob3B0aW9ucyk7CiAgICB2YXIgY29kZSA9IGFzdCA/IGdlbkVsZW1lbnQoYXN0LCBzdGF0ZSkgOiAnX2MoImRpdiIpJzsKICAgIHJldHVybiB7CiAgICAgIHJlbmRlcjogKCJ3aXRoKHRoaXMpe3JldHVybiAiICsgY29kZSArICJ9IiksCiAgICAgIHN0YXRpY1JlbmRlckZuczogc3RhdGUuc3RhdGljUmVuZGVyRm5zCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5FbGVtZW50IChlbCwgc3RhdGUpIHsKICAgIGlmIChlbC5wYXJlbnQpIHsKICAgICAgZWwucHJlID0gZWwucHJlIHx8IGVsLnBhcmVudC5wcmU7CiAgICB9CgogICAgaWYgKGVsLnN0YXRpY1Jvb3QgJiYgIWVsLnN0YXRpY1Byb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuU3RhdGljKGVsLCBzdGF0ZSkKICAgIH0gZWxzZSBpZiAoZWwub25jZSAmJiAhZWwub25jZVByb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuT25jZShlbCwgc3RhdGUpCiAgICB9IGVsc2UgaWYgKGVsLmZvciAmJiAhZWwuZm9yUHJvY2Vzc2VkKSB7CiAgICAgIHJldHVybiBnZW5Gb3IoZWwsIHN0YXRlKQogICAgfSBlbHNlIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHsKICAgICAgcmV0dXJuIGdlbklmKGVsLCBzdGF0ZSkKICAgIH0gZWxzZSBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnICYmICFlbC5zbG90VGFyZ2V0ICYmICFzdGF0ZS5wcmUpIHsKICAgICAgcmV0dXJuIGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3ZvaWQgMCcKICAgIH0gZWxzZSBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgcmV0dXJuIGdlblNsb3QoZWwsIHN0YXRlKQogICAgfSBlbHNlIHsKICAgICAgLy8gY29tcG9uZW50IG9yIGVsZW1lbnQKICAgICAgdmFyIGNvZGU7CiAgICAgIGlmIChlbC5jb21wb25lbnQpIHsKICAgICAgICBjb2RlID0gZ2VuQ29tcG9uZW50KGVsLmNvbXBvbmVudCwgZWwsIHN0YXRlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZGF0YTsKICAgICAgICBpZiAoIWVsLnBsYWluIHx8IChlbC5wcmUgJiYgc3RhdGUubWF5YmVDb21wb25lbnQoZWwpKSkgewogICAgICAgICAgZGF0YSA9IGdlbkRhdGEkMihlbCwgc3RhdGUpOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTsKICAgICAgICBjb2RlID0gIl9jKCciICsgKGVsLnRhZykgKyAiJyIgKyAoZGF0YSA/ICgiLCIgKyBkYXRhKSA6ICcnKSArIChjaGlsZHJlbiA/ICgiLCIgKyBjaGlsZHJlbikgOiAnJykgKyAiKSI7CiAgICAgIH0KICAgICAgLy8gbW9kdWxlIHRyYW5zZm9ybXMKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS50cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29kZSA9IHN0YXRlLnRyYW5zZm9ybXNbaV0oZWwsIGNvZGUpOwogICAgICB9CiAgICAgIHJldHVybiBjb2RlCiAgICB9CiAgfQoKICAvLyBob2lzdCBzdGF0aWMgc3ViLXRyZWVzIG91dAogIGZ1bmN0aW9uIGdlblN0YXRpYyAoZWwsIHN0YXRlKSB7CiAgICBlbC5zdGF0aWNQcm9jZXNzZWQgPSB0cnVlOwogICAgLy8gU29tZSBlbGVtZW50cyAodGVtcGxhdGVzKSBuZWVkIHRvIGJlaGF2ZSBkaWZmZXJlbnRseSBpbnNpZGUgb2YgYSB2LXByZQogICAgLy8gbm9kZS4gIEFsbCBwcmUgbm9kZXMgYXJlIHN0YXRpYyByb290cywgc28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgbG9jYXRpb24gdG8KICAgIC8vIHdyYXAgYSBzdGF0ZSBjaGFuZ2UgYW5kIHJlc2V0IGl0IHVwb24gZXhpdGluZyB0aGUgcHJlIG5vZGUuCiAgICB2YXIgb3JpZ2luYWxQcmVTdGF0ZSA9IHN0YXRlLnByZTsKICAgIGlmIChlbC5wcmUpIHsKICAgICAgc3RhdGUucHJlID0gZWwucHJlOwogICAgfQogICAgc3RhdGUuc3RhdGljUmVuZGVyRm5zLnB1c2goKCJ3aXRoKHRoaXMpe3JldHVybiAiICsgKGdlbkVsZW1lbnQoZWwsIHN0YXRlKSkgKyAifSIpKTsKICAgIHN0YXRlLnByZSA9IG9yaWdpbmFsUHJlU3RhdGU7CiAgICByZXR1cm4gKCJfbSgiICsgKHN0YXRlLnN0YXRpY1JlbmRlckZucy5sZW5ndGggLSAxKSArIChlbC5zdGF0aWNJbkZvciA/ICcsdHJ1ZScgOiAnJykgKyAiKSIpCiAgfQoKICAvLyB2LW9uY2UKICBmdW5jdGlvbiBnZW5PbmNlIChlbCwgc3RhdGUpIHsKICAgIGVsLm9uY2VQcm9jZXNzZWQgPSB0cnVlOwogICAgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCkgewogICAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKQogICAgfSBlbHNlIGlmIChlbC5zdGF0aWNJbkZvcikgewogICAgICB2YXIga2V5ID0gJyc7CiAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7CiAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICBpZiAocGFyZW50LmZvcikgewogICAgICAgICAga2V5ID0gcGFyZW50LmtleTsKICAgICAgICAgIGJyZWFrCiAgICAgICAgfQogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7CiAgICAgIH0KICAgICAgaWYgKCFrZXkpIHsKICAgICAgICBzdGF0ZS53YXJuKAogICAgICAgICAgInYtb25jZSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB2LWZvciB0aGF0IGlzIGtleWVkLiAiLAogICAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Ytb25jZSddCiAgICAgICAgKTsKICAgICAgICByZXR1cm4gZ2VuRWxlbWVudChlbCwgc3RhdGUpCiAgICAgIH0KICAgICAgcmV0dXJuICgiX28oIiArIChnZW5FbGVtZW50KGVsLCBzdGF0ZSkpICsgIiwiICsgKHN0YXRlLm9uY2VJZCsrKSArICIsIiArIGtleSArICIpIikKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKQogICAgfQogIH0KCiAgZnVuY3Rpb24gZ2VuSWYgKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGFsdEdlbiwKICAgIGFsdEVtcHR5CiAgKSB7CiAgICBlbC5pZlByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvbgogICAgcmV0dXJuIGdlbklmQ29uZGl0aW9ucyhlbC5pZkNvbmRpdGlvbnMuc2xpY2UoKSwgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpCiAgfQoKICBmdW5jdGlvbiBnZW5JZkNvbmRpdGlvbnMgKAogICAgY29uZGl0aW9ucywKICAgIHN0YXRlLAogICAgYWx0R2VuLAogICAgYWx0RW1wdHkKICApIHsKICAgIGlmICghY29uZGl0aW9ucy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIGFsdEVtcHR5IHx8ICdfZSgpJwogICAgfQoKICAgIHZhciBjb25kaXRpb24gPSBjb25kaXRpb25zLnNoaWZ0KCk7CiAgICBpZiAoY29uZGl0aW9uLmV4cCkgewogICAgICByZXR1cm4gKCIoIiArIChjb25kaXRpb24uZXhwKSArICIpPyIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSArICI6IiArIChnZW5JZkNvbmRpdGlvbnMoY29uZGl0aW9ucywgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpKSkKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAoIiIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSkKICAgIH0KCiAgICAvLyB2LWlmIHdpdGggdi1vbmNlIHNob3VsZCBnZW5lcmF0ZSBjb2RlIGxpa2UgKGEpP19tKDApOl9tKDEpCiAgICBmdW5jdGlvbiBnZW5UZXJuYXJ5RXhwIChlbCkgewogICAgICByZXR1cm4gYWx0R2VuCiAgICAgICAgPyBhbHRHZW4oZWwsIHN0YXRlKQogICAgICAgIDogZWwub25jZQogICAgICAgICAgPyBnZW5PbmNlKGVsLCBzdGF0ZSkKICAgICAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5Gb3IgKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGFsdEdlbiwKICAgIGFsdEhlbHBlcgogICkgewogICAgdmFyIGV4cCA9IGVsLmZvcjsKICAgIHZhciBhbGlhcyA9IGVsLmFsaWFzOwogICAgdmFyIGl0ZXJhdG9yMSA9IGVsLml0ZXJhdG9yMSA/ICgiLCIgKyAoZWwuaXRlcmF0b3IxKSkgOiAnJzsKICAgIHZhciBpdGVyYXRvcjIgPSBlbC5pdGVyYXRvcjIgPyAoIiwiICsgKGVsLml0ZXJhdG9yMikpIDogJyc7CgogICAgaWYgKHN0YXRlLm1heWJlQ29tcG9uZW50KGVsKSAmJgogICAgICBlbC50YWcgIT09ICdzbG90JyAmJgogICAgICBlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiYKICAgICAgIWVsLmtleQogICAgKSB7CiAgICAgIHN0YXRlLndhcm4oCiAgICAgICAgIjwiICsgKGVsLnRhZykgKyAiIHYtZm9yPVwiIiArIGFsaWFzICsgIiBpbiAiICsgZXhwICsgIlwiPjogY29tcG9uZW50IGxpc3RzIHJlbmRlcmVkIHdpdGggIiArCiAgICAgICAgInYtZm9yIHNob3VsZCBoYXZlIGV4cGxpY2l0IGtleXMuICIgKwogICAgICAgICJTZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvbGlzdC5odG1sI2tleSBmb3IgbW9yZSBpbmZvLiIsCiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10sCiAgICAgICAgdHJ1ZSAvKiB0aXAgKi8KICAgICAgKTsKICAgIH0KCiAgICBlbC5mb3JQcm9jZXNzZWQgPSB0cnVlOyAvLyBhdm9pZCByZWN1cnNpb24KICAgIHJldHVybiAoYWx0SGVscGVyIHx8ICdfbCcpICsgIigoIiArIGV4cCArICIpLCIgKwogICAgICAiZnVuY3Rpb24oIiArIGFsaWFzICsgaXRlcmF0b3IxICsgaXRlcmF0b3IyICsgIil7IiArCiAgICAgICAgInJldHVybiAiICsgKChhbHRHZW4gfHwgZ2VuRWxlbWVudCkoZWwsIHN0YXRlKSkgKwogICAgICAnfSknCiAgfQoKICBmdW5jdGlvbiBnZW5EYXRhJDIgKGVsLCBzdGF0ZSkgewogICAgdmFyIGRhdGEgPSAneyc7CgogICAgLy8gZGlyZWN0aXZlcyBmaXJzdC4KICAgIC8vIGRpcmVjdGl2ZXMgbWF5IG11dGF0ZSB0aGUgZWwncyBvdGhlciBwcm9wZXJ0aWVzIGJlZm9yZSB0aGV5IGFyZSBnZW5lcmF0ZWQuCiAgICB2YXIgZGlycyA9IGdlbkRpcmVjdGl2ZXMoZWwsIHN0YXRlKTsKICAgIGlmIChkaXJzKSB7IGRhdGEgKz0gZGlycyArICcsJzsgfQoKICAgIC8vIGtleQogICAgaWYgKGVsLmtleSkgewogICAgICBkYXRhICs9ICJrZXk6IiArIChlbC5rZXkpICsgIiwiOwogICAgfQogICAgLy8gcmVmCiAgICBpZiAoZWwucmVmKSB7CiAgICAgIGRhdGEgKz0gInJlZjoiICsgKGVsLnJlZikgKyAiLCI7CiAgICB9CiAgICBpZiAoZWwucmVmSW5Gb3IpIHsKICAgICAgZGF0YSArPSAicmVmSW5Gb3I6dHJ1ZSwiOwogICAgfQogICAgLy8gcHJlCiAgICBpZiAoZWwucHJlKSB7CiAgICAgIGRhdGEgKz0gInByZTp0cnVlLCI7CiAgICB9CiAgICAvLyByZWNvcmQgb3JpZ2luYWwgdGFnIG5hbWUgZm9yIGNvbXBvbmVudHMgdXNpbmcgImlzIiBhdHRyaWJ1dGUKICAgIGlmIChlbC5jb21wb25lbnQpIHsKICAgICAgZGF0YSArPSAidGFnOlwiIiArIChlbC50YWcpICsgIlwiLCI7CiAgICB9CiAgICAvLyBtb2R1bGUgZGF0YSBnZW5lcmF0aW9uIGZ1bmN0aW9ucwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5kYXRhR2VuRm5zLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRhdGEgKz0gc3RhdGUuZGF0YUdlbkZuc1tpXShlbCk7CiAgICB9CiAgICAvLyBhdHRyaWJ1dGVzCiAgICBpZiAoZWwuYXR0cnMpIHsKICAgICAgZGF0YSArPSAiYXR0cnM6IiArIChnZW5Qcm9wcyhlbC5hdHRycykpICsgIiwiOwogICAgfQogICAgLy8gRE9NIHByb3BzCiAgICBpZiAoZWwucHJvcHMpIHsKICAgICAgZGF0YSArPSAiZG9tUHJvcHM6IiArIChnZW5Qcm9wcyhlbC5wcm9wcykpICsgIiwiOwogICAgfQogICAgLy8gZXZlbnQgaGFuZGxlcnMKICAgIGlmIChlbC5ldmVudHMpIHsKICAgICAgZGF0YSArPSAoZ2VuSGFuZGxlcnMoZWwuZXZlbnRzLCBmYWxzZSkpICsgIiwiOwogICAgfQogICAgaWYgKGVsLm5hdGl2ZUV2ZW50cykgewogICAgICBkYXRhICs9IChnZW5IYW5kbGVycyhlbC5uYXRpdmVFdmVudHMsIHRydWUpKSArICIsIjsKICAgIH0KICAgIC8vIHNsb3QgdGFyZ2V0CiAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzCiAgICBpZiAoZWwuc2xvdFRhcmdldCAmJiAhZWwuc2xvdFNjb3BlKSB7CiAgICAgIGRhdGEgKz0gInNsb3Q6IiArIChlbC5zbG90VGFyZ2V0KSArICIsIjsKICAgIH0KICAgIC8vIHNjb3BlZCBzbG90cwogICAgaWYgKGVsLnNjb3BlZFNsb3RzKSB7CiAgICAgIGRhdGEgKz0gKGdlblNjb3BlZFNsb3RzKGVsLCBlbC5zY29wZWRTbG90cywgc3RhdGUpKSArICIsIjsKICAgIH0KICAgIC8vIGNvbXBvbmVudCB2LW1vZGVsCiAgICBpZiAoZWwubW9kZWwpIHsKICAgICAgZGF0YSArPSAibW9kZWw6e3ZhbHVlOiIgKyAoZWwubW9kZWwudmFsdWUpICsgIixjYWxsYmFjazoiICsgKGVsLm1vZGVsLmNhbGxiYWNrKSArICIsZXhwcmVzc2lvbjoiICsgKGVsLm1vZGVsLmV4cHJlc3Npb24pICsgIn0sIjsKICAgIH0KICAgIC8vIGlubGluZS10ZW1wbGF0ZQogICAgaWYgKGVsLmlubGluZVRlbXBsYXRlKSB7CiAgICAgIHZhciBpbmxpbmVUZW1wbGF0ZSA9IGdlbklubGluZVRlbXBsYXRlKGVsLCBzdGF0ZSk7CiAgICAgIGlmIChpbmxpbmVUZW1wbGF0ZSkgewogICAgICAgIGRhdGEgKz0gaW5saW5lVGVtcGxhdGUgKyAiLCI7CiAgICAgIH0KICAgIH0KICAgIGRhdGEgPSBkYXRhLnJlcGxhY2UoLywkLywgJycpICsgJ30nOwogICAgLy8gdi1iaW5kIGR5bmFtaWMgYXJndW1lbnQgd3JhcAogICAgLy8gdi1iaW5kIHdpdGggZHluYW1pYyBhcmd1bWVudHMgbXVzdCBiZSBhcHBsaWVkIHVzaW5nIHRoZSBzYW1lIHYtYmluZCBvYmplY3QKICAgIC8vIG1lcmdlIGhlbHBlciBzbyB0aGF0IGNsYXNzL3N0eWxlL211c3RVc2VQcm9wIGF0dHJzIGFyZSBoYW5kbGVkIGNvcnJlY3RseS4KICAgIGlmIChlbC5keW5hbWljQXR0cnMpIHsKICAgICAgZGF0YSA9ICJfYigiICsgZGF0YSArICIsXCIiICsgKGVsLnRhZykgKyAiXCIsIiArIChnZW5Qcm9wcyhlbC5keW5hbWljQXR0cnMpKSArICIpIjsKICAgIH0KICAgIC8vIHYtYmluZCBkYXRhIHdyYXAKICAgIGlmIChlbC53cmFwRGF0YSkgewogICAgICBkYXRhID0gZWwud3JhcERhdGEoZGF0YSk7CiAgICB9CiAgICAvLyB2LW9uIGRhdGEgd3JhcAogICAgaWYgKGVsLndyYXBMaXN0ZW5lcnMpIHsKICAgICAgZGF0YSA9IGVsLndyYXBMaXN0ZW5lcnMoZGF0YSk7CiAgICB9CiAgICByZXR1cm4gZGF0YQogIH0KCiAgZnVuY3Rpb24gZ2VuRGlyZWN0aXZlcyAoZWwsIHN0YXRlKSB7CiAgICB2YXIgZGlycyA9IGVsLmRpcmVjdGl2ZXM7CiAgICBpZiAoIWRpcnMpIHsgcmV0dXJuIH0KICAgIHZhciByZXMgPSAnZGlyZWN0aXZlczpbJzsKICAgIHZhciBoYXNSdW50aW1lID0gZmFsc2U7CiAgICB2YXIgaSwgbCwgZGlyLCBuZWVkUnVudGltZTsKICAgIGZvciAoaSA9IDAsIGwgPSBkaXJzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICBkaXIgPSBkaXJzW2ldOwogICAgICBuZWVkUnVudGltZSA9IHRydWU7CiAgICAgIHZhciBnZW4gPSBzdGF0ZS5kaXJlY3RpdmVzW2Rpci5uYW1lXTsKICAgICAgaWYgKGdlbikgewogICAgICAgIC8vIGNvbXBpbGUtdGltZSBkaXJlY3RpdmUgdGhhdCBtYW5pcHVsYXRlcyBBU1QuCiAgICAgICAgLy8gcmV0dXJucyB0cnVlIGlmIGl0IGFsc28gbmVlZHMgYSBydW50aW1lIGNvdW50ZXJwYXJ0LgogICAgICAgIG5lZWRSdW50aW1lID0gISFnZW4oZWwsIGRpciwgc3RhdGUud2Fybik7CiAgICAgIH0KICAgICAgaWYgKG5lZWRSdW50aW1lKSB7CiAgICAgICAgaGFzUnVudGltZSA9IHRydWU7CiAgICAgICAgcmVzICs9ICJ7bmFtZTpcIiIgKyAoZGlyLm5hbWUpICsgIlwiLHJhd05hbWU6XCIiICsgKGRpci5yYXdOYW1lKSArICJcIiIgKyAoZGlyLnZhbHVlID8gKCIsdmFsdWU6KCIgKyAoZGlyLnZhbHVlKSArICIpLGV4cHJlc3Npb246IiArIChKU09OLnN0cmluZ2lmeShkaXIudmFsdWUpKSkgOiAnJykgKyAoZGlyLmFyZyA/ICgiLGFyZzoiICsgKGRpci5pc0R5bmFtaWNBcmcgPyBkaXIuYXJnIDogKCJcIiIgKyAoZGlyLmFyZykgKyAiXCIiKSkpIDogJycpICsgKGRpci5tb2RpZmllcnMgPyAoIixtb2RpZmllcnM6IiArIChKU09OLnN0cmluZ2lmeShkaXIubW9kaWZpZXJzKSkpIDogJycpICsgIn0sIjsKICAgICAgfQogICAgfQogICAgaWYgKGhhc1J1bnRpbWUpIHsKICAgICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSkgKyAnXScKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlbklubGluZVRlbXBsYXRlIChlbCwgc3RhdGUpIHsKICAgIHZhciBhc3QgPSBlbC5jaGlsZHJlblswXTsKICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGggIT09IDEgfHwgYXN0LnR5cGUgIT09IDEpIHsKICAgICAgc3RhdGUud2FybigKICAgICAgICAnSW5saW5lLXRlbXBsYXRlIGNvbXBvbmVudHMgbXVzdCBoYXZlIGV4YWN0bHkgb25lIGNoaWxkIGVsZW1lbnQuJywKICAgICAgICB7IHN0YXJ0OiBlbC5zdGFydCB9CiAgICAgICk7CiAgICB9CiAgICBpZiAoYXN0ICYmIGFzdC50eXBlID09PSAxKSB7CiAgICAgIHZhciBpbmxpbmVSZW5kZXJGbnMgPSBnZW5lcmF0ZShhc3QsIHN0YXRlLm9wdGlvbnMpOwogICAgICByZXR1cm4gKCJpbmxpbmVUZW1wbGF0ZTp7cmVuZGVyOmZ1bmN0aW9uKCl7IiArIChpbmxpbmVSZW5kZXJGbnMucmVuZGVyKSArICJ9LHN0YXRpY1JlbmRlckZuczpbIiArIChpbmxpbmVSZW5kZXJGbnMuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKCJmdW5jdGlvbigpeyIgKyBjb2RlICsgIn0iKTsgfSkuam9pbignLCcpKSArICJdfSIpCiAgICB9CiAgfQoKICBmdW5jdGlvbiBnZW5TY29wZWRTbG90cyAoCiAgICBlbCwKICAgIHNsb3RzLAogICAgc3RhdGUKICApIHsKICAgIC8vIGJ5IGRlZmF1bHQgc2NvcGVkIHNsb3RzIGFyZSBjb25zaWRlcmVkICJzdGFibGUiLCB0aGlzIGFsbG93cyBjaGlsZAogICAgLy8gY29tcG9uZW50cyB3aXRoIG9ubHkgc2NvcGVkIHNsb3RzIHRvIHNraXAgZm9yY2VkIHVwZGF0ZXMgZnJvbSBwYXJlbnQuCiAgICAvLyBidXQgaW4gc29tZSBjYXNlcyB3ZSBoYXZlIHRvIGJhaWwtb3V0IG9mIHRoaXMgb3B0aW1pemF0aW9uCiAgICAvLyBmb3IgZXhhbXBsZSBpZiB0aGUgc2xvdCBjb250YWlucyBkeW5hbWljIG5hbWVzLCBoYXMgdi1pZiBvciB2LWZvciBvbiB0aGVtLi4uCiAgICB2YXIgbmVlZHNGb3JjZVVwZGF0ZSA9IGVsLmZvciB8fCBPYmplY3Qua2V5cyhzbG90cykuc29tZShmdW5jdGlvbiAoa2V5KSB7CiAgICAgIHZhciBzbG90ID0gc2xvdHNba2V5XTsKICAgICAgcmV0dXJuICgKICAgICAgICBzbG90LnNsb3RUYXJnZXREeW5hbWljIHx8CiAgICAgICAgc2xvdC5pZiB8fAogICAgICAgIHNsb3QuZm9yIHx8CiAgICAgICAgY29udGFpbnNTbG90Q2hpbGQoc2xvdCkgLy8gaXMgcGFzc2luZyBkb3duIHNsb3QgZnJvbSBwYXJlbnQgd2hpY2ggbWF5IGJlIGR5bmFtaWMKICAgICAgKQogICAgfSk7CgogICAgLy8gIzk1MzQ6IGlmIGEgY29tcG9uZW50IHdpdGggc2NvcGVkIHNsb3RzIGlzIGluc2lkZSBhIGNvbmRpdGlvbmFsIGJyYW5jaCwKICAgIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0byBiZSByZXVzZWQgYnV0IHdpdGggZGlmZmVyZW50CiAgICAvLyBjb21waWxlZCBzbG90IGNvbnRlbnQuIFRvIGF2b2lkIHRoYXQsIHdlIGdlbmVyYXRlIGEgdW5pcXVlIGtleSBiYXNlZCBvbgogICAgLy8gdGhlIGdlbmVyYXRlZCBjb2RlIG9mIGFsbCB0aGUgc2xvdCBjb250ZW50cy4KICAgIHZhciBuZWVkc0tleSA9ICEhZWwuaWY7CgogICAgLy8gT1Igd2hlbiBpdCBpcyBpbnNpZGUgYW5vdGhlciBzY29wZWQgc2xvdCBvciB2LWZvciAodGhlIHJlYWN0aXZpdHkgbWF5IGJlCiAgICAvLyBkaXNjb25uZWN0ZWQgZHVlIHRvIHRoZSBpbnRlcm1lZGlhdGUgc2NvcGUgdmFyaWFibGUpCiAgICAvLyAjOTQzOCwgIzk1MDYKICAgIC8vIFRPRE86IHRoaXMgY2FuIGJlIGZ1cnRoZXIgb3B0aW1pemVkIGJ5IHByb3Blcmx5IGFuYWx5emluZyBpbi1zY29wZSBiaW5kaW5ncwogICAgLy8gYW5kIHNraXAgZm9yY2UgdXBkYXRpbmcgb25lcyB0aGF0IGRvIG5vdCBhY3R1YWxseSB1c2Ugc2NvcGUgdmFyaWFibGVzLgogICAgaWYgKCFuZWVkc0ZvcmNlVXBkYXRlKSB7CiAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7CiAgICAgIHdoaWxlIChwYXJlbnQpIHsKICAgICAgICBpZiAoCiAgICAgICAgICAocGFyZW50LnNsb3RTY29wZSAmJiBwYXJlbnQuc2xvdFNjb3BlICE9PSBlbXB0eVNsb3RTY29wZVRva2VuKSB8fAogICAgICAgICAgcGFyZW50LmZvcgogICAgICAgICkgewogICAgICAgICAgbmVlZHNGb3JjZVVwZGF0ZSA9IHRydWU7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgICBpZiAocGFyZW50LmlmKSB7CiAgICAgICAgICBuZWVkc0tleSA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgZ2VuZXJhdGVkU2xvdHMgPSBPYmplY3Qua2V5cyhzbG90cykKICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnZW5TY29wZWRTbG90KHNsb3RzW2tleV0sIHN0YXRlKTsgfSkKICAgICAgLmpvaW4oJywnKTsKCiAgICByZXR1cm4gKCJzY29wZWRTbG90czpfdShbIiArIGdlbmVyYXRlZFNsb3RzICsgIl0iICsgKG5lZWRzRm9yY2VVcGRhdGUgPyAiLG51bGwsdHJ1ZSIgOiAiIikgKyAoIW5lZWRzRm9yY2VVcGRhdGUgJiYgbmVlZHNLZXkgPyAoIixudWxsLGZhbHNlLCIgKyAoaGFzaChnZW5lcmF0ZWRTbG90cykpKSA6ICIiKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGhhc2goc3RyKSB7CiAgICB2YXIgaGFzaCA9IDUzODE7CiAgICB2YXIgaSA9IHN0ci5sZW5ndGg7CiAgICB3aGlsZShpKSB7CiAgICAgIGhhc2ggPSAoaGFzaCAqIDMzKSBeIHN0ci5jaGFyQ29kZUF0KC0taSk7CiAgICB9CiAgICByZXR1cm4gaGFzaCA+Pj4gMAogIH0KCiAgZnVuY3Rpb24gY29udGFpbnNTbG90Q2hpbGQgKGVsKSB7CiAgICBpZiAoZWwudHlwZSA9PT0gMSkgewogICAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHsKICAgICAgICByZXR1cm4gdHJ1ZQogICAgICB9CiAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5zb21lKGNvbnRhaW5zU2xvdENoaWxkKQogICAgfQogICAgcmV0dXJuIGZhbHNlCiAgfQoKICBmdW5jdGlvbiBnZW5TY29wZWRTbG90ICgKICAgIGVsLAogICAgc3RhdGUKICApIHsKICAgIHZhciBpc0xlZ2FjeVN5bnRheCA9IGVsLmF0dHJzTWFwWydzbG90LXNjb3BlJ107CiAgICBpZiAoZWwuaWYgJiYgIWVsLmlmUHJvY2Vzc2VkICYmICFpc0xlZ2FjeVN5bnRheCkgewogICAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlLCBnZW5TY29wZWRTbG90LCAibnVsbCIpCiAgICB9CiAgICBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHsKICAgICAgcmV0dXJuIGdlbkZvcihlbCwgc3RhdGUsIGdlblNjb3BlZFNsb3QpCiAgICB9CiAgICB2YXIgc2xvdFNjb3BlID0gZWwuc2xvdFNjb3BlID09PSBlbXB0eVNsb3RTY29wZVRva2VuCiAgICAgID8gIiIKICAgICAgOiBTdHJpbmcoZWwuc2xvdFNjb3BlKTsKICAgIHZhciBmbiA9ICJmdW5jdGlvbigiICsgc2xvdFNjb3BlICsgIil7IiArCiAgICAgICJyZXR1cm4gIiArIChlbC50YWcgPT09ICd0ZW1wbGF0ZScKICAgICAgICA/IGVsLmlmICYmIGlzTGVnYWN5U3ludGF4CiAgICAgICAgICA/ICgiKCIgKyAoZWwuaWYpICsgIik/IiArIChnZW5DaGlsZHJlbihlbCwgc3RhdGUpIHx8ICd1bmRlZmluZWQnKSArICI6dW5kZWZpbmVkIikKICAgICAgICAgIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKSB8fCAndW5kZWZpbmVkJwogICAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArICJ9IjsKICAgIC8vIHJldmVyc2UgcHJveHkgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHMKICAgIHZhciByZXZlcnNlUHJveHkgPSBzbG90U2NvcGUgPyAiIiA6ICIscHJveHk6dHJ1ZSI7CiAgICByZXR1cm4gKCJ7a2V5OiIgKyAoZWwuc2xvdFRhcmdldCB8fCAiXCJkZWZhdWx0XCIiKSArICIsZm46IiArIGZuICsgcmV2ZXJzZVByb3h5ICsgIn0iKQogIH0KCiAgZnVuY3Rpb24gZ2VuQ2hpbGRyZW4gKAogICAgZWwsCiAgICBzdGF0ZSwKICAgIGNoZWNrU2tpcCwKICAgIGFsdEdlbkVsZW1lbnQsCiAgICBhbHRHZW5Ob2RlCiAgKSB7CiAgICB2YXIgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjsKICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgdmFyIGVsJDEgPSBjaGlsZHJlblswXTsKICAgICAgLy8gb3B0aW1pemUgc2luZ2xlIHYtZm9yCiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYKICAgICAgICBlbCQxLmZvciAmJgogICAgICAgIGVsJDEudGFnICE9PSAndGVtcGxhdGUnICYmCiAgICAgICAgZWwkMS50YWcgIT09ICdzbG90JwogICAgICApIHsKICAgICAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUgPSBjaGVja1NraXAKICAgICAgICAgID8gc3RhdGUubWF5YmVDb21wb25lbnQoZWwkMSkgPyAiLDEiIDogIiwwIgogICAgICAgICAgOiAiIjsKICAgICAgICByZXR1cm4gKCIiICsgKChhbHRHZW5FbGVtZW50IHx8IGdlbkVsZW1lbnQpKGVsJDEsIHN0YXRlKSkgKyBub3JtYWxpemF0aW9uVHlwZSkKICAgICAgfQogICAgICB2YXIgbm9ybWFsaXphdGlvblR5cGUkMSA9IGNoZWNrU2tpcAogICAgICAgID8gZ2V0Tm9ybWFsaXphdGlvblR5cGUoY2hpbGRyZW4sIHN0YXRlLm1heWJlQ29tcG9uZW50KQogICAgICAgIDogMDsKICAgICAgdmFyIGdlbiA9IGFsdEdlbk5vZGUgfHwgZ2VuTm9kZTsKICAgICAgcmV0dXJuICgiWyIgKyAoY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBnZW4oYywgc3RhdGUpOyB9KS5qb2luKCcsJykpICsgIl0iICsgKG5vcm1hbGl6YXRpb25UeXBlJDEgPyAoIiwiICsgbm9ybWFsaXphdGlvblR5cGUkMSkgOiAnJykpCiAgICB9CiAgfQoKICAvLyBkZXRlcm1pbmUgdGhlIG5vcm1hbGl6YXRpb24gbmVlZGVkIGZvciB0aGUgY2hpbGRyZW4gYXJyYXkuCiAgLy8gMDogbm8gbm9ybWFsaXphdGlvbiBuZWVkZWQKICAvLyAxOiBzaW1wbGUgbm9ybWFsaXphdGlvbiBuZWVkZWQgKHBvc3NpYmxlIDEtbGV2ZWwgZGVlcCBuZXN0ZWQgYXJyYXkpCiAgLy8gMjogZnVsbCBub3JtYWxpemF0aW9uIG5lZWRlZAogIGZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25UeXBlICgKICAgIGNoaWxkcmVuLAogICAgbWF5YmVDb21wb25lbnQKICApIHsKICAgIHZhciByZXMgPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICB2YXIgZWwgPSBjaGlsZHJlbltpXTsKICAgICAgaWYgKGVsLnR5cGUgIT09IDEpIHsKICAgICAgICBjb250aW51ZQogICAgICB9CiAgICAgIGlmIChuZWVkc05vcm1hbGl6YXRpb24oZWwpIHx8CiAgICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBuZWVkc05vcm1hbGl6YXRpb24oYy5ibG9jayk7IH0pKSkgewogICAgICAgIHJlcyA9IDI7CiAgICAgICAgYnJlYWsKICAgICAgfQogICAgICBpZiAobWF5YmVDb21wb25lbnQoZWwpIHx8CiAgICAgICAgICAoZWwuaWZDb25kaXRpb25zICYmIGVsLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uIChjKSB7IHJldHVybiBtYXliZUNvbXBvbmVudChjLmJsb2NrKTsgfSkpKSB7CiAgICAgICAgcmVzID0gMTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlcwogIH0KCiAgZnVuY3Rpb24gbmVlZHNOb3JtYWxpemF0aW9uIChlbCkgewogICAgcmV0dXJuIGVsLmZvciAhPT0gdW5kZWZpbmVkIHx8IGVsLnRhZyA9PT0gJ3RlbXBsYXRlJyB8fCBlbC50YWcgPT09ICdzbG90JwogIH0KCiAgZnVuY3Rpb24gZ2VuTm9kZSAobm9kZSwgc3RhdGUpIHsKICAgIGlmIChub2RlLnR5cGUgPT09IDEpIHsKICAgICAgcmV0dXJuIGdlbkVsZW1lbnQobm9kZSwgc3RhdGUpCiAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gMyAmJiBub2RlLmlzQ29tbWVudCkgewogICAgICByZXR1cm4gZ2VuQ29tbWVudChub2RlKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGdlblRleHQobm9kZSkKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdlblRleHQgKHRleHQpIHsKICAgIHJldHVybiAoIl92KCIgKyAodGV4dC50eXBlID09PSAyCiAgICAgID8gdGV4dC5leHByZXNzaW9uIC8vIG5vIG5lZWQgZm9yICgpIGJlY2F1c2UgYWxyZWFkeSB3cmFwcGVkIGluIF9zKCkKICAgICAgOiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMoSlNPTi5zdHJpbmdpZnkodGV4dC50ZXh0KSkpICsgIikiKQogIH0KCiAgZnVuY3Rpb24gZ2VuQ29tbWVudCAoY29tbWVudCkgewogICAgcmV0dXJuICgiX2UoIiArIChKU09OLnN0cmluZ2lmeShjb21tZW50LnRleHQpKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGdlblNsb3QgKGVsLCBzdGF0ZSkgewogICAgdmFyIHNsb3ROYW1lID0gZWwuc2xvdE5hbWUgfHwgJyJkZWZhdWx0Iic7CiAgICB2YXIgY2hpbGRyZW4gPSBnZW5DaGlsZHJlbihlbCwgc3RhdGUpOwogICAgdmFyIHJlcyA9ICJfdCgiICsgc2xvdE5hbWUgKyAoY2hpbGRyZW4gPyAoIiwiICsgY2hpbGRyZW4pIDogJycpOwogICAgdmFyIGF0dHJzID0gZWwuYXR0cnMgfHwgZWwuZHluYW1pY0F0dHJzCiAgICAgID8gZ2VuUHJvcHMoKGVsLmF0dHJzIHx8IFtdKS5jb25jYXQoZWwuZHluYW1pY0F0dHJzIHx8IFtdKS5tYXAoZnVuY3Rpb24gKGF0dHIpIHsgcmV0dXJuICh7CiAgICAgICAgICAvLyBzbG90IHByb3BzIGFyZSBjYW1lbGl6ZWQKICAgICAgICAgIG5hbWU6IGNhbWVsaXplKGF0dHIubmFtZSksCiAgICAgICAgICB2YWx1ZTogYXR0ci52YWx1ZSwKICAgICAgICAgIGR5bmFtaWM6IGF0dHIuZHluYW1pYwogICAgICAgIH0pOyB9KSkKICAgICAgOiBudWxsOwogICAgdmFyIGJpbmQkJDEgPSBlbC5hdHRyc01hcFsndi1iaW5kJ107CiAgICBpZiAoKGF0dHJzIHx8IGJpbmQkJDEpICYmICFjaGlsZHJlbikgewogICAgICByZXMgKz0gIixudWxsIjsKICAgIH0KICAgIGlmIChhdHRycykgewogICAgICByZXMgKz0gIiwiICsgYXR0cnM7CiAgICB9CiAgICBpZiAoYmluZCQkMSkgewogICAgICByZXMgKz0gKGF0dHJzID8gJycgOiAnLG51bGwnKSArICIsIiArIGJpbmQkJDE7CiAgICB9CiAgICByZXR1cm4gcmVzICsgJyknCiAgfQoKICAvLyBjb21wb25lbnROYW1lIGlzIGVsLmNvbXBvbmVudCwgdGFrZSBpdCBhcyBhcmd1bWVudCB0byBzaHVuIGZsb3cncyBwZXNzaW1pc3RpYyByZWZpbmVtZW50CiAgZnVuY3Rpb24gZ2VuQ29tcG9uZW50ICgKICAgIGNvbXBvbmVudE5hbWUsCiAgICBlbCwKICAgIHN0YXRlCiAgKSB7CiAgICB2YXIgY2hpbGRyZW4gPSBlbC5pbmxpbmVUZW1wbGF0ZSA/IG51bGwgOiBnZW5DaGlsZHJlbihlbCwgc3RhdGUsIHRydWUpOwogICAgcmV0dXJuICgiX2MoIiArIGNvbXBvbmVudE5hbWUgKyAiLCIgKyAoZ2VuRGF0YSQyKGVsLCBzdGF0ZSkpICsgKGNoaWxkcmVuID8gKCIsIiArIGNoaWxkcmVuKSA6ICcnKSArICIpIikKICB9CgogIGZ1bmN0aW9uIGdlblByb3BzIChwcm9wcykgewogICAgdmFyIHN0YXRpY1Byb3BzID0gIiI7CiAgICB2YXIgZHluYW1pY1Byb3BzID0gIiI7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBwcm9wID0gcHJvcHNbaV07CiAgICAgIHZhciB2YWx1ZSA9IHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyhwcm9wLnZhbHVlKTsKICAgICAgaWYgKHByb3AuZHluYW1pYykgewogICAgICAgIGR5bmFtaWNQcm9wcyArPSAocHJvcC5uYW1lKSArICIsIiArIHZhbHVlICsgIiwiOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YXRpY1Byb3BzICs9ICJcIiIgKyAocHJvcC5uYW1lKSArICJcIjoiICsgdmFsdWUgKyAiLCI7CiAgICAgIH0KICAgIH0KICAgIHN0YXRpY1Byb3BzID0gInsiICsgKHN0YXRpY1Byb3BzLnNsaWNlKDAsIC0xKSkgKyAifSI7CiAgICBpZiAoZHluYW1pY1Byb3BzKSB7CiAgICAgIHJldHVybiAoIl9kKCIgKyBzdGF0aWNQcm9wcyArICIsWyIgKyAoZHluYW1pY1Byb3BzLnNsaWNlKDAsIC0xKSkgKyAiXSkiKQogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHN0YXRpY1Byb3BzCiAgICB9CiAgfQoKICAvLyAjMzg5NSwgIzQyNjgKICBmdW5jdGlvbiB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMgKHRleHQpIHsKICAgIHJldHVybiB0ZXh0CiAgICAgIC5yZXBsYWNlKC9cdTIwMjgvZywgJ1xcdTIwMjgnKQogICAgICAucmVwbGFjZSgvXHUyMDI5L2csICdcXHUyMDI5JykKICB9CgogIC8qICAqLwoKCgogIC8vIHRoZXNlIGtleXdvcmRzIHNob3VsZCBub3QgYXBwZWFyIGluc2lkZSBleHByZXNzaW9ucywgYnV0IG9wZXJhdG9ycyBsaWtlCiAgLy8gdHlwZW9mLCBpbnN0YW5jZW9mIGFuZCBpbiBhcmUgYWxsb3dlZAogIHZhciBwcm9oaWJpdGVkS2V5d29yZFJFID0gbmV3IFJlZ0V4cCgnXFxiJyArICgKICAgICdkbyxpZixmb3IsbGV0LG5ldyx0cnksdmFyLGNhc2UsZWxzZSx3aXRoLGF3YWl0LGJyZWFrLGNhdGNoLGNsYXNzLGNvbnN0LCcgKwogICAgJ3N1cGVyLHRocm93LHdoaWxlLHlpZWxkLGRlbGV0ZSxleHBvcnQsaW1wb3J0LHJldHVybixzd2l0Y2gsZGVmYXVsdCwnICsKICAgICdleHRlbmRzLGZpbmFsbHksY29udGludWUsZGVidWdnZXIsZnVuY3Rpb24sYXJndW1lbnRzJwogICkuc3BsaXQoJywnKS5qb2luKCdcXGJ8XFxiJykgKyAnXFxiJyk7CgogIC8vIHRoZXNlIHVuYXJ5IG9wZXJhdG9ycyBzaG91bGQgbm90IGJlIHVzZWQgYXMgcHJvcGVydHkvbWV0aG9kIG5hbWVzCiAgdmFyIHVuYXJ5T3BlcmF0b3JzUkUgPSBuZXcgUmVnRXhwKCdcXGInICsgKAogICAgJ2RlbGV0ZSx0eXBlb2Ysdm9pZCcKICApLnNwbGl0KCcsJykuam9pbignXFxzKlxcKFteXFwpXSpcXCl8XFxiJykgKyAnXFxzKlxcKFteXFwpXSpcXCknKTsKCiAgLy8gc3RyaXAgc3RyaW5ncyBpbiBleHByZXNzaW9ucwogIHZhciBzdHJpcFN0cmluZ1JFID0gLycoPzpbXidcXF18XFwuKSonfCIoPzpbXiJcXF18XFwuKSoifGAoPzpbXmBcXF18XFwuKSpcJFx7fFx9KD86W15gXFxdfFxcLikqYHxgKD86W15gXFxdfFxcLikqYC9nOwoKICAvLyBkZXRlY3QgcHJvYmxlbWF0aWMgZXhwcmVzc2lvbnMgaW4gYSB0ZW1wbGF0ZQogIGZ1bmN0aW9uIGRldGVjdEVycm9ycyAoYXN0LCB3YXJuKSB7CiAgICBpZiAoYXN0KSB7CiAgICAgIGNoZWNrTm9kZShhc3QsIHdhcm4pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gY2hlY2tOb2RlIChub2RlLCB3YXJuKSB7CiAgICBpZiAobm9kZS50eXBlID09PSAxKSB7CiAgICAgIGZvciAodmFyIG5hbWUgaW4gbm9kZS5hdHRyc01hcCkgewogICAgICAgIGlmIChkaXJSRS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICB2YXIgdmFsdWUgPSBub2RlLmF0dHJzTWFwW25hbWVdOwogICAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAgIHZhciByYW5nZSA9IG5vZGUucmF3QXR0cnNNYXBbbmFtZV07CiAgICAgICAgICAgIGlmIChuYW1lID09PSAndi1mb3InKSB7CiAgICAgICAgICAgICAgY2hlY2tGb3Iobm9kZSwgKCJ2LWZvcj1cIiIgKyB2YWx1ZSArICJcIiIpLCB3YXJuLCByYW5nZSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAob25SRS50ZXN0KG5hbWUpKSB7CiAgICAgICAgICAgICAgY2hlY2tFdmVudCh2YWx1ZSwgKG5hbWUgKyAiPVwiIiArIHZhbHVlICsgIlwiIiksIHdhcm4sIHJhbmdlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBjaGVja0V4cHJlc3Npb24odmFsdWUsIChuYW1lICsgIj1cIiIgKyB2YWx1ZSArICJcIiIpLCB3YXJuLCByYW5nZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKG5vZGUuY2hpbGRyZW4pIHsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGNoZWNrTm9kZShub2RlLmNoaWxkcmVuW2ldLCB3YXJuKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSAyKSB7CiAgICAgIGNoZWNrRXhwcmVzc2lvbihub2RlLmV4cHJlc3Npb24sIG5vZGUudGV4dCwgd2Fybiwgbm9kZSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjaGVja0V2ZW50IChleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7CiAgICB2YXIgc3RpcHBlZCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKTsKICAgIHZhciBrZXl3b3JkTWF0Y2ggPSBzdGlwcGVkLm1hdGNoKHVuYXJ5T3BlcmF0b3JzUkUpOwogICAgaWYgKGtleXdvcmRNYXRjaCAmJiBzdGlwcGVkLmNoYXJBdChrZXl3b3JkTWF0Y2guaW5kZXggLSAxKSAhPT0gJyQnKSB7CiAgICAgIHdhcm4oCiAgICAgICAgImF2b2lkIHVzaW5nIEphdmFTY3JpcHQgdW5hcnkgb3BlcmF0b3IgYXMgcHJvcGVydHkgbmFtZTogIiArCiAgICAgICAgIlwiIiArIChrZXl3b3JkTWF0Y2hbMF0pICsgIlwiIGluIGV4cHJlc3Npb24gIiArICh0ZXh0LnRyaW0oKSksCiAgICAgICAgcmFuZ2UKICAgICAgKTsKICAgIH0KICAgIGNoZWNrRXhwcmVzc2lvbihleHAsIHRleHQsIHdhcm4sIHJhbmdlKTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrRm9yIChub2RlLCB0ZXh0LCB3YXJuLCByYW5nZSkgewogICAgY2hlY2tFeHByZXNzaW9uKG5vZGUuZm9yIHx8ICcnLCB0ZXh0LCB3YXJuLCByYW5nZSk7CiAgICBjaGVja0lkZW50aWZpZXIobm9kZS5hbGlhcywgJ3YtZm9yIGFsaWFzJywgdGV4dCwgd2FybiwgcmFuZ2UpOwogICAgY2hlY2tJZGVudGlmaWVyKG5vZGUuaXRlcmF0b3IxLCAndi1mb3IgaXRlcmF0b3InLCB0ZXh0LCB3YXJuLCByYW5nZSk7CiAgICBjaGVja0lkZW50aWZpZXIobm9kZS5pdGVyYXRvcjIsICd2LWZvciBpdGVyYXRvcicsIHRleHQsIHdhcm4sIHJhbmdlKTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrSWRlbnRpZmllciAoCiAgICBpZGVudCwKICAgIHR5cGUsCiAgICB0ZXh0LAogICAgd2FybiwKICAgIHJhbmdlCiAgKSB7CiAgICBpZiAodHlwZW9mIGlkZW50ID09PSAnc3RyaW5nJykgewogICAgICB0cnkgewogICAgICAgIG5ldyBGdW5jdGlvbigoInZhciAiICsgaWRlbnQgKyAiPV8iKSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB3YXJuKCgiaW52YWxpZCAiICsgdHlwZSArICIgXCIiICsgaWRlbnQgKyAiXCIgaW4gZXhwcmVzc2lvbjogIiArICh0ZXh0LnRyaW0oKSkpLCByYW5nZSk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGNoZWNrRXhwcmVzc2lvbiAoZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSkgewogICAgdHJ5IHsKICAgICAgbmV3IEZ1bmN0aW9uKCgicmV0dXJuICIgKyBleHApKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdmFyIGtleXdvcmRNYXRjaCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKS5tYXRjaChwcm9oaWJpdGVkS2V5d29yZFJFKTsKICAgICAgaWYgKGtleXdvcmRNYXRjaCkgewogICAgICAgIHdhcm4oCiAgICAgICAgICAiYXZvaWQgdXNpbmcgSmF2YVNjcmlwdCBrZXl3b3JkIGFzIHByb3BlcnR5IG5hbWU6ICIgKwogICAgICAgICAgIlwiIiArIChrZXl3b3JkTWF0Y2hbMF0pICsgIlwiXG4gIFJhdyBleHByZXNzaW9uOiAiICsgKHRleHQudHJpbSgpKSwKICAgICAgICAgIHJhbmdlCiAgICAgICAgKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3YXJuKAogICAgICAgICAgImludmFsaWQgZXhwcmVzc2lvbjogIiArIChlLm1lc3NhZ2UpICsgIiBpblxuXG4iICsKICAgICAgICAgICIgICAgIiArIGV4cCArICJcblxuIiArCiAgICAgICAgICAiICBSYXcgZXhwcmVzc2lvbjogIiArICh0ZXh0LnRyaW0oKSkgKyAiXG4iLAogICAgICAgICAgcmFuZ2UKICAgICAgICApOwogICAgICB9CiAgICB9CiAgfQoKICAvKiAgKi8KCiAgdmFyIHJhbmdlID0gMjsKCiAgZnVuY3Rpb24gZ2VuZXJhdGVDb2RlRnJhbWUgKAogICAgc291cmNlLAogICAgc3RhcnQsCiAgICBlbmQKICApIHsKICAgIGlmICggc3RhcnQgPT09IHZvaWQgMCApIHN0YXJ0ID0gMDsKICAgIGlmICggZW5kID09PSB2b2lkIDAgKSBlbmQgPSBzb3VyY2UubGVuZ3RoOwoKICAgIHZhciBsaW5lcyA9IHNvdXJjZS5zcGxpdCgvXHI/XG4vKTsKICAgIHZhciBjb3VudCA9IDA7CiAgICB2YXIgcmVzID0gW107CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGNvdW50ICs9IGxpbmVzW2ldLmxlbmd0aCArIDE7CiAgICAgIGlmIChjb3VudCA+PSBzdGFydCkgewogICAgICAgIGZvciAodmFyIGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHsKICAgICAgICAgIGlmIChqIDwgMCB8fCBqID49IGxpbmVzLmxlbmd0aCkgeyBjb250aW51ZSB9CiAgICAgICAgICByZXMucHVzaCgoIiIgKyAoaiArIDEpICsgKHJlcGVhdCQxKCIgIiwgMyAtIFN0cmluZyhqICsgMSkubGVuZ3RoKSkgKyAifCAgIiArIChsaW5lc1tqXSkpKTsKICAgICAgICAgIHZhciBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoOwogICAgICAgICAgaWYgKGogPT09IGkpIHsKICAgICAgICAgICAgLy8gcHVzaCB1bmRlcmxpbmUKICAgICAgICAgICAgdmFyIHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxOwogICAgICAgICAgICB2YXIgbGVuZ3RoID0gZW5kID4gY291bnQgPyBsaW5lTGVuZ3RoIC0gcGFkIDogZW5kIC0gc3RhcnQ7CiAgICAgICAgICAgIHJlcy5wdXNoKCIgICB8ICAiICsgcmVwZWF0JDEoIiAiLCBwYWQpICsgcmVwZWF0JDEoIl4iLCBsZW5ndGgpKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHsKICAgICAgICAgICAgaWYgKGVuZCA+IGNvdW50KSB7CiAgICAgICAgICAgICAgdmFyIGxlbmd0aCQxID0gTWF0aC5taW4oZW5kIC0gY291bnQsIGxpbmVMZW5ndGgpOwogICAgICAgICAgICAgIHJlcy5wdXNoKCIgICB8ICAiICsgcmVwZWF0JDEoIl4iLCBsZW5ndGgkMSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNvdW50ICs9IGxpbmVMZW5ndGggKyAxOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBicmVhawogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzLmpvaW4oJ1xuJykKICB9CgogIGZ1bmN0aW9uIHJlcGVhdCQxIChzdHIsIG4pIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIGlmIChuID4gMCkgewogICAgICB3aGlsZSAodHJ1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lCiAgICAgICAgaWYgKG4gJiAxKSB7IHJlc3VsdCArPSBzdHI7IH0KICAgICAgICBuID4+Pj0gMTsKICAgICAgICBpZiAobiA8PSAwKSB7IGJyZWFrIH0KICAgICAgICBzdHIgKz0gc3RyOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVzdWx0CiAgfQoKICAvKiAgKi8KCgoKICBmdW5jdGlvbiBjcmVhdGVGdW5jdGlvbiAoY29kZSwgZXJyb3JzKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKGNvZGUpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgZXJyb3JzLnB1c2goeyBlcnI6IGVyciwgY29kZTogY29kZSB9KTsKICAgICAgcmV0dXJuIG5vb3AKICAgIH0KICB9CgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4gKGNvbXBpbGUpIHsKICAgIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9ucyAoCiAgICAgIHRlbXBsYXRlLAogICAgICBvcHRpb25zLAogICAgICB2bQogICAgKSB7CiAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpOwogICAgICB2YXIgd2FybiQkMSA9IG9wdGlvbnMud2FybiB8fCB3YXJuOwogICAgICBkZWxldGUgb3B0aW9ucy53YXJuOwoKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICAvLyBkZXRlY3QgcG9zc2libGUgQ1NQIHJlc3RyaWN0aW9uCiAgICAgICAgdHJ5IHsKICAgICAgICAgIG5ldyBGdW5jdGlvbigncmV0dXJuIDEnKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBpZiAoZS50b1N0cmluZygpLm1hdGNoKC91bnNhZmUtZXZhbHxDU1AvKSkgewogICAgICAgICAgICB3YXJuJCQxKAogICAgICAgICAgICAgICdJdCBzZWVtcyB5b3UgYXJlIHVzaW5nIHRoZSBzdGFuZGFsb25lIGJ1aWxkIG9mIFZ1ZS5qcyBpbiBhbiAnICsKICAgICAgICAgICAgICAnZW52aXJvbm1lbnQgd2l0aCBDb250ZW50IFNlY3VyaXR5IFBvbGljeSB0aGF0IHByb2hpYml0cyB1bnNhZmUtZXZhbC4gJyArCiAgICAgICAgICAgICAgJ1RoZSB0ZW1wbGF0ZSBjb21waWxlciBjYW5ub3Qgd29yayBpbiB0aGlzIGVudmlyb25tZW50LiBDb25zaWRlciAnICsKICAgICAgICAgICAgICAncmVsYXhpbmcgdGhlIHBvbGljeSB0byBhbGxvdyB1bnNhZmUtZXZhbCBvciBwcmUtY29tcGlsaW5nIHlvdXIgJyArCiAgICAgICAgICAgICAgJ3RlbXBsYXRlcyBpbnRvIHJlbmRlciBmdW5jdGlvbnMuJwogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gY2hlY2sgY2FjaGUKICAgICAgdmFyIGtleSA9IG9wdGlvbnMuZGVsaW1pdGVycwogICAgICAgID8gU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVycykgKyB0ZW1wbGF0ZQogICAgICAgIDogdGVtcGxhdGU7CiAgICAgIGlmIChjYWNoZVtrZXldKSB7CiAgICAgICAgcmV0dXJuIGNhY2hlW2tleV0KICAgICAgfQoKICAgICAgLy8gY29tcGlsZQogICAgICB2YXIgY29tcGlsZWQgPSBjb21waWxlKHRlbXBsYXRlLCBvcHRpb25zKTsKCiAgICAgIC8vIGNoZWNrIGNvbXBpbGF0aW9uIGVycm9ycy90aXBzCiAgICAgIHsKICAgICAgICBpZiAoY29tcGlsZWQuZXJyb3JzICYmIGNvbXBpbGVkLmVycm9ycy5sZW5ndGgpIHsKICAgICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7CiAgICAgICAgICAgIGNvbXBpbGVkLmVycm9ycy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgICAgICJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XG5cbiIgKyAoZS5tc2cpICsgIlxuXG4iICsKICAgICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHRlbXBsYXRlLCBlLnN0YXJ0LCBlLmVuZCksCiAgICAgICAgICAgICAgICB2bQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgICAiRXJyb3IgY29tcGlsaW5nIHRlbXBsYXRlOlxuXG4iICsgdGVtcGxhdGUgKyAiXG5cbiIgKwogICAgICAgICAgICAgIGNvbXBpbGVkLmVycm9ycy5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuICgiLSAiICsgZSk7IH0pLmpvaW4oJ1xuJykgKyAnXG4nLAogICAgICAgICAgICAgIHZtCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChjb21waWxlZC50aXBzICYmIGNvbXBpbGVkLnRpcHMubGVuZ3RoKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkgewogICAgICAgICAgICBjb21waWxlZC50aXBzLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgcmV0dXJuIHRpcChlLm1zZywgdm0pOyB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbXBpbGVkLnRpcHMuZm9yRWFjaChmdW5jdGlvbiAobXNnKSB7IHJldHVybiB0aXAobXNnLCB2bSk7IH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgLy8gdHVybiBjb2RlIGludG8gZnVuY3Rpb25zCiAgICAgIHZhciByZXMgPSB7fTsKICAgICAgdmFyIGZuR2VuRXJyb3JzID0gW107CiAgICAgIHJlcy5yZW5kZXIgPSBjcmVhdGVGdW5jdGlvbihjb21waWxlZC5yZW5kZXIsIGZuR2VuRXJyb3JzKTsKICAgICAgcmVzLnN0YXRpY1JlbmRlckZucyA9IGNvbXBpbGVkLnN0YXRpY1JlbmRlckZucy5tYXAoZnVuY3Rpb24gKGNvZGUpIHsKICAgICAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb24oY29kZSwgZm5HZW5FcnJvcnMpCiAgICAgIH0pOwoKICAgICAgLy8gY2hlY2sgZnVuY3Rpb24gZ2VuZXJhdGlvbiBlcnJvcnMuCiAgICAgIC8vIHRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZXJlIGlzIGEgYnVnIGluIHRoZSBjb21waWxlciBpdHNlbGYuCiAgICAgIC8vIG1vc3RseSBmb3IgY29kZWdlbiBkZXZlbG9wbWVudCB1c2UKICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgIHsKICAgICAgICBpZiAoKCFjb21waWxlZC5lcnJvcnMgfHwgIWNvbXBpbGVkLmVycm9ycy5sZW5ndGgpICYmIGZuR2VuRXJyb3JzLmxlbmd0aCkgewogICAgICAgICAgd2FybiQkMSgKICAgICAgICAgICAgIkZhaWxlZCB0byBnZW5lcmF0ZSByZW5kZXIgZnVuY3Rpb246XG5cbiIgKwogICAgICAgICAgICBmbkdlbkVycm9ycy5tYXAoZnVuY3Rpb24gKHJlZikgewogICAgICAgICAgICAgIHZhciBlcnIgPSByZWYuZXJyOwogICAgICAgICAgICAgIHZhciBjb2RlID0gcmVmLmNvZGU7CgogICAgICAgICAgICAgIHJldHVybiAoKGVyci50b1N0cmluZygpKSArICIgaW5cblxuIiArIGNvZGUgKyAiXG4iKTsKICAgICAgICAgIH0pLmpvaW4oJ1xuJyksCiAgICAgICAgICAgIHZtCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIChjYWNoZVtrZXldID0gcmVzKQogICAgfQogIH0KCiAgLyogICovCgogIGZ1bmN0aW9uIGNyZWF0ZUNvbXBpbGVyQ3JlYXRvciAoYmFzZUNvbXBpbGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVDb21waWxlciAoYmFzZU9wdGlvbnMpIHsKICAgICAgZnVuY3Rpb24gY29tcGlsZSAoCiAgICAgICAgdGVtcGxhdGUsCiAgICAgICAgb3B0aW9ucwogICAgICApIHsKICAgICAgICB2YXIgZmluYWxPcHRpb25zID0gT2JqZWN0LmNyZWF0ZShiYXNlT3B0aW9ucyk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHZhciB0aXBzID0gW107CgogICAgICAgIHZhciB3YXJuID0gZnVuY3Rpb24gKG1zZywgcmFuZ2UsIHRpcCkgewogICAgICAgICAgKHRpcCA/IHRpcHMgOiBlcnJvcnMpLnB1c2gobXNnKTsKICAgICAgICB9OwoKICAgICAgICBpZiAob3B0aW9ucykgewogICAgICAgICAgaWYgKG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHsKICAgICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lCiAgICAgICAgICAgIHZhciBsZWFkaW5nU3BhY2VMZW5ndGggPSB0ZW1wbGF0ZS5tYXRjaCgvXlxzKi8pWzBdLmxlbmd0aDsKCiAgICAgICAgICAgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7CiAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7IG1zZzogbXNnIH07CiAgICAgICAgICAgICAgaWYgKHJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICBkYXRhLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuZW5kICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgZGF0YS5lbmQgPSByYW5nZS5lbmQgKyBsZWFkaW5nU3BhY2VMZW5ndGg7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKGRhdGEpOwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgICAgLy8gbWVyZ2UgY3VzdG9tIG1vZHVsZXMKICAgICAgICAgIGlmIChvcHRpb25zLm1vZHVsZXMpIHsKICAgICAgICAgICAgZmluYWxPcHRpb25zLm1vZHVsZXMgPQogICAgICAgICAgICAgIChiYXNlT3B0aW9ucy5tb2R1bGVzIHx8IFtdKS5jb25jYXQob3B0aW9ucy5tb2R1bGVzKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIG1lcmdlIGN1c3RvbSBkaXJlY3RpdmVzCiAgICAgICAgICBpZiAob3B0aW9ucy5kaXJlY3RpdmVzKSB7CiAgICAgICAgICAgIGZpbmFsT3B0aW9ucy5kaXJlY3RpdmVzID0gZXh0ZW5kKAogICAgICAgICAgICAgIE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMuZGlyZWN0aXZlcyB8fCBudWxsKSwKICAgICAgICAgICAgICBvcHRpb25zLmRpcmVjdGl2ZXMKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIGNvcHkgb3RoZXIgb3B0aW9ucwogICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKGtleSAhPT0gJ21vZHVsZXMnICYmIGtleSAhPT0gJ2RpcmVjdGl2ZXMnKSB7CiAgICAgICAgICAgICAgZmluYWxPcHRpb25zW2tleV0gPSBvcHRpb25zW2tleV07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGZpbmFsT3B0aW9ucy53YXJuID0gd2FybjsKCiAgICAgICAgdmFyIGNvbXBpbGVkID0gYmFzZUNvbXBpbGUodGVtcGxhdGUudHJpbSgpLCBmaW5hbE9wdGlvbnMpOwogICAgICAgIHsKICAgICAgICAgIGRldGVjdEVycm9ycyhjb21waWxlZC5hc3QsIHdhcm4pOwogICAgICAgIH0KICAgICAgICBjb21waWxlZC5lcnJvcnMgPSBlcnJvcnM7CiAgICAgICAgY29tcGlsZWQudGlwcyA9IHRpcHM7CiAgICAgICAgcmV0dXJuIGNvbXBpbGVkCiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgY29tcGlsZTogY29tcGlsZSwKICAgICAgICBjb21waWxlVG9GdW5jdGlvbnM6IGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4oY29tcGlsZSkKICAgICAgfQogICAgfQogIH0KCiAgLyogICovCgogIC8vIGBjcmVhdGVDb21waWxlckNyZWF0b3JgIGFsbG93cyBjcmVhdGluZyBjb21waWxlcnMgdGhhdCB1c2UgYWx0ZXJuYXRpdmUKICAvLyBwYXJzZXIvb3B0aW1pemVyL2NvZGVnZW4sIGUuZyB0aGUgU1NSIG9wdGltaXppbmcgY29tcGlsZXIuCiAgLy8gSGVyZSB3ZSBqdXN0IGV4cG9ydCBhIGRlZmF1bHQgY29tcGlsZXIgdXNpbmcgdGhlIGRlZmF1bHQgcGFydHMuCiAgdmFyIGNyZWF0ZUNvbXBpbGVyID0gY3JlYXRlQ29tcGlsZXJDcmVhdG9yKGZ1bmN0aW9uIGJhc2VDb21waWxlICgKICAgIHRlbXBsYXRlLAogICAgb3B0aW9ucwogICkgewogICAgdmFyIGFzdCA9IHBhcnNlKHRlbXBsYXRlLnRyaW0oKSwgb3B0aW9ucyk7CiAgICBpZiAob3B0aW9ucy5vcHRpbWl6ZSAhPT0gZmFsc2UpIHsKICAgICAgb3B0aW1pemUoYXN0LCBvcHRpb25zKTsKICAgIH0KICAgIHZhciBjb2RlID0gZ2VuZXJhdGUoYXN0LCBvcHRpb25zKTsKICAgIHJldHVybiB7CiAgICAgIGFzdDogYXN0LAogICAgICByZW5kZXI6IGNvZGUucmVuZGVyLAogICAgICBzdGF0aWNSZW5kZXJGbnM6IGNvZGUuc3RhdGljUmVuZGVyRm5zCiAgICB9CiAgfSk7CgogIC8qICAqLwoKICB2YXIgcmVmJDEgPSBjcmVhdGVDb21waWxlcihiYXNlT3B0aW9ucyk7CiAgdmFyIGNvbXBpbGUgPSByZWYkMS5jb21waWxlOwogIHZhciBjb21waWxlVG9GdW5jdGlvbnMgPSByZWYkMS5jb21waWxlVG9GdW5jdGlvbnM7CgogIC8qICAqLwoKICAvLyBjaGVjayB3aGV0aGVyIGN1cnJlbnQgYnJvd3NlciBlbmNvZGVzIGEgY2hhciBpbnNpZGUgYXR0cmlidXRlIHZhbHVlcwogIHZhciBkaXY7CiAgZnVuY3Rpb24gZ2V0U2hvdWxkRGVjb2RlIChocmVmKSB7CiAgICBkaXYgPSBkaXYgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBkaXYuaW5uZXJIVE1MID0gaHJlZiA/ICI8YSBocmVmPVwiXG5cIi8+IiA6ICI8ZGl2IGE9XCJcblwiLz4iOwogICAgcmV0dXJuIGRpdi5pbm5lckhUTUwuaW5kZXhPZignJiMxMDsnKSA+IDAKICB9CgogIC8vICMzNjYzOiBJRSBlbmNvZGVzIG5ld2xpbmVzIGluc2lkZSBhdHRyaWJ1dGUgdmFsdWVzIHdoaWxlIG90aGVyIGJyb3dzZXJzIGRvbid0CiAgdmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKGZhbHNlKSA6IGZhbHNlOwogIC8vICM2ODI4OiBjaHJvbWUgZW5jb2RlcyBjb250ZW50IGluIGFbaHJlZl0KICB2YXIgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKHRydWUpIDogZmFsc2U7CgogIC8qICAqLwoKICB2YXIgaWRUb1RlbXBsYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChpZCkgewogICAgdmFyIGVsID0gcXVlcnkoaWQpOwogICAgcmV0dXJuIGVsICYmIGVsLmlubmVySFRNTAogIH0pOwoKICB2YXIgbW91bnQgPSBWdWUucHJvdG90eXBlLiRtb3VudDsKICBWdWUucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uICgKICAgIGVsLAogICAgaHlkcmF0aW5nCiAgKSB7CiAgICBlbCA9IGVsICYmIHF1ZXJ5KGVsKTsKCiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgIGlmIChlbCA9PT0gZG9jdW1lbnQuYm9keSB8fCBlbCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7CiAgICAgIHdhcm4oCiAgICAgICAgIkRvIG5vdCBtb3VudCBWdWUgdG8gPGh0bWw+IG9yIDxib2R5PiAtIG1vdW50IHRvIG5vcm1hbCBlbGVtZW50cyBpbnN0ZWFkLiIKICAgICAgKTsKICAgICAgcmV0dXJuIHRoaXMKICAgIH0KCiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7CiAgICAvLyByZXNvbHZlIHRlbXBsYXRlL2VsIGFuZCBjb252ZXJ0IHRvIHJlbmRlciBmdW5jdGlvbgogICAgaWYgKCFvcHRpb25zLnJlbmRlcikgewogICAgICB2YXIgdGVtcGxhdGUgPSBvcHRpb25zLnRlbXBsYXRlOwogICAgICBpZiAodGVtcGxhdGUpIHsKICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJykgewogICAgICAgICAgaWYgKHRlbXBsYXRlLmNoYXJBdCgwKSA9PT0gJyMnKSB7CiAgICAgICAgICAgIHRlbXBsYXRlID0gaWRUb1RlbXBsYXRlKHRlbXBsYXRlKTsKICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovCiAgICAgICAgICAgIGlmICghdGVtcGxhdGUpIHsKICAgICAgICAgICAgICB3YXJuKAogICAgICAgICAgICAgICAgKCJUZW1wbGF0ZSBlbGVtZW50IG5vdCBmb3VuZCBvciBpcyBlbXB0eTogIiArIChvcHRpb25zLnRlbXBsYXRlKSksCiAgICAgICAgICAgICAgICB0aGlzCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGUubm9kZVR5cGUpIHsKICAgICAgICAgIHRlbXBsYXRlID0gdGVtcGxhdGUuaW5uZXJIVE1MOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB7CiAgICAgICAgICAgIHdhcm4oJ2ludmFsaWQgdGVtcGxhdGUgb3B0aW9uOicgKyB0ZW1wbGF0ZSwgdGhpcyk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdGhpcwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChlbCkgewogICAgICAgIHRlbXBsYXRlID0gZ2V0T3V0ZXJIVE1MKGVsKTsKICAgICAgfQogICAgICBpZiAodGVtcGxhdGUpIHsKICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8KICAgICAgICBpZiAoY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHsKICAgICAgICAgIG1hcmsoJ2NvbXBpbGUnKTsKICAgICAgICB9CgogICAgICAgIHZhciByZWYgPSBjb21waWxlVG9GdW5jdGlvbnModGVtcGxhdGUsIHsKICAgICAgICAgIG91dHB1dFNvdXJjZVJhbmdlOiAiZGV2ZWxvcG1lbnQiICE9PSAncHJvZHVjdGlvbicsCiAgICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lczogc2hvdWxkRGVjb2RlTmV3bGluZXMsCiAgICAgICAgICBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6IHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiwKICAgICAgICAgIGRlbGltaXRlcnM6IG9wdGlvbnMuZGVsaW1pdGVycywKICAgICAgICAgIGNvbW1lbnRzOiBvcHRpb25zLmNvbW1lbnRzCiAgICAgICAgfSwgdGhpcyk7CiAgICAgICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7CiAgICAgICAgdmFyIHN0YXRpY1JlbmRlckZucyA9IHJlZi5zdGF0aWNSZW5kZXJGbnM7CiAgICAgICAgb3B0aW9ucy5yZW5kZXIgPSByZW5kZXI7CiAgICAgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnM7CgogICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqLwogICAgICAgIGlmIChjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykgewogICAgICAgICAgbWFyaygnY29tcGlsZSBlbmQnKTsKICAgICAgICAgIG1lYXN1cmUoKCJ2dWUgIiArICh0aGlzLl9uYW1lKSArICIgY29tcGlsZSIpLCAnY29tcGlsZScsICdjb21waWxlIGVuZCcpOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJuIG1vdW50LmNhbGwodGhpcywgZWwsIGh5ZHJhdGluZykKICB9OwoKICAvKioKICAgKiBHZXQgb3V0ZXJIVE1MIG9mIGVsZW1lbnRzLCB0YWtpbmcgY2FyZQogICAqIG9mIFNWRyBlbGVtZW50cyBpbiBJRSBhcyB3ZWxsLgogICAqLwogIGZ1bmN0aW9uIGdldE91dGVySFRNTCAoZWwpIHsKICAgIGlmIChlbC5vdXRlckhUTUwpIHsKICAgICAgcmV0dXJuIGVsLm91dGVySFRNTAogICAgfSBlbHNlIHsKICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZWwuY2xvbmVOb2RlKHRydWUpKTsKICAgICAgcmV0dXJuIGNvbnRhaW5lci5pbm5lckhUTUwKICAgIH0KICB9CgogIFZ1ZS5jb21waWxlID0gY29tcGlsZVRvRnVuY3Rpb25zOwoKICByZXR1cm4gVnVlOwoKfSkpOwo="},{"meta":{"name":"xfetch.min.js","url":"https://unpkg.com/xfetch-js@0.3.4/xfetch.min.js","ts":1580289830086,"mimetype":"text/javascript"},"source":"KChhLGIpPT57ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sYik6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWIoKTphLnhmPWIoKX0pKHRoaXMsKCk9Pntjb25zdCBhPVsiZ2V0IiwicG9zdCIsInB1dCIsInBhdGNoIiwiZGVsZXRlIiwiaGVhZCJdO2NsYXNzIGIgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihhKXtzdXBlcihhLnN0YXR1c1RleHQpLHRoaXMubmFtZT0iSFRUUEVycm9yIix0aGlzLnJlc3BvbnNlPWF9fWNsYXNzIGMgZXh0ZW5kcyBQcm9taXNle31mb3IoY29uc3QgYSBvZlsiYXJyYXlCdWZmZXIiLCJibG9iIiwiZm9ybURhdGEiLCJqc29uIiwidGV4dCJdKWMucHJvdG90eXBlW2FdPWZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnRoZW4oYj0+YlthXSgpKS50aGVuKGJ8fChhPT5hKSl9O2NvbnN0e2Fzc2lnbjpkfT1PYmplY3QsZT1hPT5hLnJlZHVjZSgoYSxbYixjXSk9PihhW2JdPWMsYSkse30pLGY9KC4uLmEpPT5iPT5hLnNvbWUoYT0+InN0cmluZyI9PXR5cGVvZiBhP3R5cGVvZiBiPT1hOmIgaW5zdGFuY2VvZiBhKSxnPWYoInN0cmluZyIpLGg9Zigib2JqZWN0IiksaT1hPT5nKGEpfHxoKGEpLGo9YT0+e2lmKCFhLm9rKXRocm93IG5ldyBiKGEpO3JldHVybiBhfSxrPShoPXt9KT0+e2NvbnN0IGw9KGEsYj17fSk9PntkKGIsaCk7Y29uc3Qgaz1hPT5uZXcgYi5VUkxTZWFyY2hQYXJhbXMoYSkudG9TdHJpbmcoKSxsPW5ldyBiLlVSTChhLGIuYmFzZVVSSXx8dm9pZCAwKTtpZihiLmhlYWRlcnM/ZihiLkhlYWRlcnMpKGIuaGVhZGVycykmJihiLmhlYWRlcnM9ZShbLi4uYi5oZWFkZXJzLmVudHJpZXMoKV0pKTpiLmhlYWRlcnM9e30sYi5qc29uKWIuYm9keT1KU09OLnN0cmluZ2lmeShiLmpzb24pLGIuaGVhZGVyc1siQ29udGVudC1UeXBlIl09ImFwcGxpY2F0aW9uL2pzb24iO2Vsc2UgaWYoaShiLnVybGVuY29kZWQpKWIuYm9keT1nKGIudXJsZW5jb2RlZCk/Yi51cmxlbmNvZGVkOmsoYi51cmxlbmNvZGVkKSxiLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiO2Vsc2UgaWYoZihiLkZvcm1EYXRhLCJvYmplY3QiKShiLmZvcm1EYXRhKSl7aWYoIWYoYi5Gb3JtRGF0YSkoYi5mb3JtRGF0YSkpe2NvbnN0IGE9bmV3IGIuRm9ybURhdGE7Zm9yKGNvbnN0W2MsZF1vZiBPYmplY3QuZW50cmllcyhiLmZvcm1EYXRhKSlhLmFwcGVuZChjLGQpO2IuZm9ybURhdGE9YX1iLmJvZHk9Yi5mb3JtRGF0YX1yZXR1cm4gYi5xcyYmKGcoYi5xcykmJihiLnFzPShhPT5lKFsuLi5uZXcgYi5VUkxTZWFyY2hQYXJhbXMoYSkuZW50cmllcygpXSkpKGIucXMpKSxsLnNlYXJjaD1rKGQoZShbLi4ubC5zZWFyY2hQYXJhbXMuZW50cmllcygpXSksYi5xcykpKSxiLmNyZWRlbnRpYWxzfHwoYi5jcmVkZW50aWFscz0ic2FtZS1vcmlnaW4iKSxjLnJlc29sdmUoYi5mZXRjaChsLGIpLnRoZW4oaikpfTtmb3IoY29uc3QgYiBvZiBhKWxbYl09KGEsYz17fSk9PihjLm1ldGhvZD1iLnRvVXBwZXJDYXNlKCksbChhLGMpKTtyZXR1cm4gbC5leHRlbmQ9YT0+ayhkKHt9LGgsYSkpLGwuSFRUUEVycm9yPWIsbH0sbD0idW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LG09InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmO3JldHVybiBtP2soe2ZldGNoOmZldGNoLmJpbmQoc2VsZiksVVJMLFJlc3BvbnNlLFVSTFNlYXJjaFBhcmFtcyxIZWFkZXJzLEZvcm1EYXRhLGJhc2VVUkk6bD9kb2N1bWVudC5iYXNlVVJJOiIifSk6aygpfSk7"},{"meta":{"name":"ffmpeg.min.js","url":"https://unpkg.com/@ffmpeg/ffmpeg@0.5.2/dist/ffmpeg.min.js","ts":1580289830415,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuRkZtcGVnPXQoKTplLkZGbXBlZz10KCl9KHdpbmRvdywoZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9e307ZnVuY3Rpb24gcihuKXtpZih0W25dKXJldHVybiB0W25dLmV4cG9ydHM7dmFyIG89dFtuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gci5tPWUsci5jPXQsci5kPWZ1bmN0aW9uKGUsdCxuKXtyLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxyLnI9ZnVuY3Rpb24oZSl7InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZToiTW9kdWxlIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKGUsdCl7aWYoMSZ0JiYoZT1yKGUpKSw4JnQpcmV0dXJuIGU7aWYoNCZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgbj1PYmplY3QuY3JlYXRlKG51bGwpO2lmKHIucihuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiZGVmYXVsdCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmInN0cmluZyIhPXR5cGVvZiBlKWZvcih2YXIgbyBpbiBlKXIuZChuLG8sZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19LmJpbmQobnVsbCxvKSk7cmV0dXJuIG59LHIubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gci5kKHQsImEiLHQpLHR9LHIubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sci5wPSIiLHIoci5zPTMpfShbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG87dm9pZCAwPT09KG89ImZ1bmN0aW9uIj09dHlwZW9mKG49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoO2lmKDA9PT1lKXRocm93IG5ldyBFcnJvcigicmVzb2x2ZVVybCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQ7IGdvdCBub25lLiIpO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJhc2UiKTtpZih0LmhyZWY9YXJndW1lbnRzWzBdLDE9PT1lKXJldHVybiB0LmhyZWY7dmFyIHI9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXTtyLmluc2VydEJlZm9yZSh0LHIuZmlyc3RDaGlsZCk7Zm9yKHZhciBuLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGk9MTtpPGU7aSsrKW8uaHJlZj1hcmd1bWVudHNbaV0sbj1vLmhyZWYsdC5ocmVmPW47cmV0dXJuIHIucmVtb3ZlQ2hpbGQodCksbn19KT9uLmNhbGwodCxyLHQsZSk6bil8fChlLmV4cG9ydHM9byl9LGZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPSExO3QubG9nZ2luZz1uLHQuc2V0TG9nZ2luZz1mdW5jdGlvbihlKXtuPWV9LHQubG9nPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbz0wO288ZTtvKyspdFtvXT1hcmd1bWVudHNbb107cmV0dXJuIG4/Y29uc29sZS5sb2cuYXBwbHkocix0KTpudWxsfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSwiLSIpLmNvbmNhdCh0LCItIikuY29uY2F0KE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnNsaWNlKDMsOCkpfX0sZnVuY3Rpb24oZSx0LHIpe3IoNCk7dmFyIG49cigxKSxvPW4ubG9nZ2luZyxpPW4uc2V0TG9nZ2luZyxhPXIoNSk7ZS5leHBvcnRzPXtsb2dnaW5nOm8sc2V0TG9nZ2luZzppLGNyZWF0ZVdvcmtlcjphfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0Ijt2YXIgdCxyPU9iamVjdC5wcm90b3R5cGUsbj1yLmhhc093blByb3BlcnR5LG89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30saT1vLml0ZXJhdG9yfHwiQEBpdGVyYXRvciIsYT1vLmFzeW5jSXRlcmF0b3J8fCJAQGFzeW5jSXRlcmF0b3IiLGM9by50b1N0cmluZ1RhZ3x8IkBAdG9TdHJpbmdUYWciO2Z1bmN0aW9uIHUoZSx0LHIsbil7dmFyIG89dCYmdC5wcm90b3R5cGUgaW5zdGFuY2VvZiB2P3Q6dixpPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLGE9bmV3IEwobnx8W10pO3JldHVybiBpLl9pbnZva2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWY7cmV0dXJuIGZ1bmN0aW9uKG8saSl7aWYobj09PXApdGhyb3cgbmV3IEVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nIik7aWYobj09PWQpe2lmKCJ0aHJvdyI9PT1vKXRocm93IGk7cmV0dXJuIFMoKX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciBhPXIuZGVsZWdhdGU7aWYoYSl7dmFyIGM9ayhhLHIpO2lmKGMpe2lmKGM9PT1oKWNvbnRpbnVlO3JldHVybiBjfX1pZigibmV4dCI9PT1yLm1ldGhvZClyLnNlbnQ9ci5fc2VudD1yLmFyZztlbHNlIGlmKCJ0aHJvdyI9PT1yLm1ldGhvZCl7aWYobj09PWYpdGhyb3cgbj1kLHIuYXJnO3IuZGlzcGF0Y2hFeGNlcHRpb24oci5hcmcpfWVsc2UicmV0dXJuIj09PXIubWV0aG9kJiZyLmFicnVwdCgicmV0dXJuIixyLmFyZyk7bj1wO3ZhciB1PXMoZSx0LHIpO2lmKCJub3JtYWwiPT09dS50eXBlKXtpZihuPXIuZG9uZT9kOmwsdS5hcmc9PT1oKWNvbnRpbnVlO3JldHVybnt2YWx1ZTp1LmFyZyxkb25lOnIuZG9uZX19InRocm93Ij09PXUudHlwZSYmKG49ZCxyLm1ldGhvZD0idGhyb3ciLHIuYXJnPXUuYXJnKX19fShlLHIsYSksaX1mdW5jdGlvbiBzKGUsdCxyKXt0cnl7cmV0dXJue3R5cGU6Im5vcm1hbCIsYXJnOmUuY2FsbCh0LHIpfX1jYXRjaChlKXtyZXR1cm57dHlwZToidGhyb3ciLGFyZzplfX19ZS53cmFwPXU7dmFyIGY9InN1c3BlbmRlZFN0YXJ0IixsPSJzdXNwZW5kZWRZaWVsZCIscD0iZXhlY3V0aW5nIixkPSJjb21wbGV0ZWQiLGg9e307ZnVuY3Rpb24gdigpe31mdW5jdGlvbiBtKCl7fWZ1bmN0aW9uIGcoKXt9dmFyIHk9e307eVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2Ysdz1iJiZiKGIoRChbXSkpKTt3JiZ3IT09ciYmbi5jYWxsKHcsaSkmJih5PXcpO3ZhciB4PWcucHJvdG90eXBlPXYucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoeSk7ZnVuY3Rpb24gaihlKXtbIm5leHQiLCJ0aHJvdyIsInJldHVybiJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2VbdF09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ludm9rZSh0LGUpfX0pKX1mdW5jdGlvbiBPKGUpe3ZhciB0O3RoaXMuX2ludm9rZT1mdW5jdGlvbihyLG8pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQsaSl7IWZ1bmN0aW9uIHQocixvLGksYSl7dmFyIGM9cyhlW3JdLGUsbyk7aWYoInRocm93IiE9PWMudHlwZSl7dmFyIHU9Yy5hcmcsZj11LnZhbHVlO3JldHVybiBmJiYib2JqZWN0Ij09dHlwZW9mIGYmJm4uY2FsbChmLCJfX2F3YWl0Iik/UHJvbWlzZS5yZXNvbHZlKGYuX19hd2FpdCkudGhlbigoZnVuY3Rpb24oZSl7dCgibmV4dCIsZSxpLGEpfSksKGZ1bmN0aW9uKGUpe3QoInRocm93IixlLGksYSl9KSk6UHJvbWlzZS5yZXNvbHZlKGYpLnRoZW4oKGZ1bmN0aW9uKGUpe3UudmFsdWU9ZSxpKHUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiB0KCJ0aHJvdyIsZSxpLGEpfSkpfWEoYy5hcmcpfShyLG8sdCxpKX0pKX1yZXR1cm4gdD10P3QudGhlbihpLGkpOmkoKX19ZnVuY3Rpb24gayhlLHIpe3ZhciBuPWUuaXRlcmF0b3Jbci5tZXRob2RdO2lmKG49PT10KXtpZihyLmRlbGVnYXRlPW51bGwsInRocm93Ij09PXIubWV0aG9kKXtpZihlLml0ZXJhdG9yLnJldHVybiYmKHIubWV0aG9kPSJyZXR1cm4iLHIuYXJnPXQsayhlLHIpLCJ0aHJvdyI9PT1yLm1ldGhvZCkpcmV0dXJuIGg7ci5tZXRob2Q9InRocm93IixyLmFyZz1uZXcgVHlwZUVycm9yKCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kIil9cmV0dXJuIGh9dmFyIG89cyhuLGUuaXRlcmF0b3Isci5hcmcpO2lmKCJ0aHJvdyI9PT1vLnR5cGUpcmV0dXJuIHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9by5hcmcsci5kZWxlZ2F0ZT1udWxsLGg7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyhyW2UucmVzdWx0TmFtZV09aS52YWx1ZSxyLm5leHQ9ZS5uZXh0TG9jLCJyZXR1cm4iIT09ci5tZXRob2QmJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksci5kZWxlZ2F0ZT1udWxsLGgpOmk6KHIubWV0aG9kPSJ0aHJvdyIsci5hcmc9bmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKSxyLmRlbGVnYXRlPW51bGwsaCl9ZnVuY3Rpb24gUChlKXt2YXIgdD17dHJ5TG9jOmVbMF19OzEgaW4gZSYmKHQuY2F0Y2hMb2M9ZVsxXSksMiBpbiBlJiYodC5maW5hbGx5TG9jPWVbMl0sdC5hZnRlckxvYz1lWzNdKSx0aGlzLnRyeUVudHJpZXMucHVzaCh0KX1mdW5jdGlvbiBFKGUpe3ZhciB0PWUuY29tcGxldGlvbnx8e307dC50eXBlPSJub3JtYWwiLGRlbGV0ZSB0LmFyZyxlLmNvbXBsZXRpb249dH1mdW5jdGlvbiBMKGUpe3RoaXMudHJ5RW50cmllcz1be3RyeUxvYzoicm9vdCJ9XSxlLmZvckVhY2goUCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBEKGUpe2lmKGUpe3ZhciByPWVbaV07aWYocilyZXR1cm4gci5jYWxsKGUpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLm5leHQpcmV0dXJuIGU7aWYoIWlzTmFOKGUubGVuZ3RoKSl7dmFyIG89LTEsYT1mdW5jdGlvbiByKCl7Zm9yKDsrK288ZS5sZW5ndGg7KWlmKG4uY2FsbChlLG8pKXJldHVybiByLnZhbHVlPWVbb10sci5kb25lPSExLHI7cmV0dXJuIHIudmFsdWU9dCxyLmRvbmU9ITAscn07cmV0dXJuIGEubmV4dD1hfX1yZXR1cm57bmV4dDpTfX1mdW5jdGlvbiBTKCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohMH19cmV0dXJuIG0ucHJvdG90eXBlPXguY29uc3RydWN0b3I9ZyxnLmNvbnN0cnVjdG9yPW0sZ1tjXT1tLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsZS5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiEhdCYmKHQ9PT1tfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSkpfSxlLm1hcms9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSxnKTooZS5fX3Byb3RvX189ZyxjIGluIGV8fChlW2NdPSJHZW5lcmF0b3JGdW5jdGlvbiIpKSxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHgpLGV9LGUuYXdyYXA9ZnVuY3Rpb24oZSl7cmV0dXJue19fYXdhaXQ6ZX19LGooTy5wcm90b3R5cGUpLE8ucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGUuQXN5bmNJdGVyYXRvcj1PLGUuYXN5bmM9ZnVuY3Rpb24odCxyLG4sbyl7dmFyIGk9bmV3IE8odSh0LHIsbixvKSk7cmV0dXJuIGUuaXNHZW5lcmF0b3JGdW5jdGlvbihyKT9pOmkubmV4dCgpLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRvbmU/ZS52YWx1ZTppLm5leHQoKX0pKX0saih4KSx4W2NdPSJHZW5lcmF0b3IiLHhbaV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30seC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJbb2JqZWN0IEdlbmVyYXRvcl0ifSxlLmtleXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpdC5wdXNoKHIpO3JldHVybiB0LnJldmVyc2UoKSxmdW5jdGlvbiByKCl7Zm9yKDt0Lmxlbmd0aDspe3ZhciBuPXQucG9wKCk7aWYobiBpbiBlKXJldHVybiByLnZhbHVlPW4sci5kb25lPSExLHJ9cmV0dXJuIHIuZG9uZT0hMCxyfX0sZS52YWx1ZXM9RCxMLnByb3RvdHlwZT17Y29uc3RydWN0b3I6TCxyZXNldDpmdW5jdGlvbihlKXtpZih0aGlzLnByZXY9MCx0aGlzLm5leHQ9MCx0aGlzLnNlbnQ9dGhpcy5fc2VudD10LHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy5tZXRob2Q9Im5leHQiLHRoaXMuYXJnPXQsdGhpcy50cnlFbnRyaWVzLmZvckVhY2goRSksIWUpZm9yKHZhciByIGluIHRoaXMpInQiPT09ci5jaGFyQXQoMCkmJm4uY2FsbCh0aGlzLHIpJiYhaXNOYU4oK3Iuc2xpY2UoMSkpJiYodGhpc1tyXT10KX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnO3JldHVybiB0aGlzLnJ2YWx9LGRpc3BhdGNoRXhjZXB0aW9uOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZG9uZSl0aHJvdyBlO3ZhciByPXRoaXM7ZnVuY3Rpb24gbyhuLG8pe3JldHVybiBjLnR5cGU9InRocm93IixjLmFyZz1lLHIubmV4dD1uLG8mJihyLm1ldGhvZD0ibmV4dCIsci5hcmc9dCksISFvfWZvcih2YXIgaT10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7aT49MDstLWkpe3ZhciBhPXRoaXMudHJ5RW50cmllc1tpXSxjPWEuY29tcGxldGlvbjtpZigicm9vdCI9PT1hLnRyeUxvYylyZXR1cm4gbygiZW5kIik7aWYoYS50cnlMb2M8PXRoaXMucHJldil7dmFyIHU9bi5jYWxsKGEsImNhdGNoTG9jIikscz1uLmNhbGwoYSwiZmluYWxseUxvYyIpO2lmKHUmJnMpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX1lbHNlIGlmKHUpe2lmKHRoaXMucHJldjxhLmNhdGNoTG9jKXJldHVybiBvKGEuY2F0Y2hMb2MsITApfWVsc2V7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpO2lmKHRoaXMucHJldjxhLmZpbmFsbHlMb2MpcmV0dXJuIG8oYS5maW5hbGx5TG9jKX19fX0sYWJydXB0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG89dGhpcy50cnlFbnRyaWVzW3JdO2lmKG8udHJ5TG9jPD10aGlzLnByZXYmJm4uY2FsbChvLCJmaW5hbGx5TG9jIikmJnRoaXMucHJldjxvLmZpbmFsbHlMb2Mpe3ZhciBpPW87YnJlYWt9fWkmJigiYnJlYWsiPT09ZXx8ImNvbnRpbnVlIj09PWUpJiZpLnRyeUxvYzw9dCYmdDw9aS5maW5hbGx5TG9jJiYoaT1udWxsKTt2YXIgYT1pP2kuY29tcGxldGlvbjp7fTtyZXR1cm4gYS50eXBlPWUsYS5hcmc9dCxpPyh0aGlzLm1ldGhvZD0ibmV4dCIsdGhpcy5uZXh0PWkuZmluYWxseUxvYyxoKTp0aGlzLmNvbXBsZXRlKGEpfSxjb21wbGV0ZTpmdW5jdGlvbihlLHQpe2lmKCJ0aHJvdyI9PT1lLnR5cGUpdGhyb3cgZS5hcmc7cmV0dXJuImJyZWFrIj09PWUudHlwZXx8ImNvbnRpbnVlIj09PWUudHlwZT90aGlzLm5leHQ9ZS5hcmc6InJldHVybiI9PT1lLnR5cGU/KHRoaXMucnZhbD10aGlzLmFyZz1lLmFyZyx0aGlzLm1ldGhvZD0icmV0dXJuIix0aGlzLm5leHQ9ImVuZCIpOiJub3JtYWwiPT09ZS50eXBlJiZ0JiYodGhpcy5uZXh0PXQpLGh9LGZpbmlzaDpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO3Q+PTA7LS10KXt2YXIgcj10aGlzLnRyeUVudHJpZXNbdF07aWYoci5maW5hbGx5TG9jPT09ZSlyZXR1cm4gdGhpcy5jb21wbGV0ZShyLmNvbXBsZXRpb24sci5hZnRlckxvYyksRShyKSxofX0sY2F0Y2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudHJ5RW50cmllcy5sZW5ndGgtMTt0Pj0wOy0tdCl7dmFyIHI9dGhpcy50cnlFbnRyaWVzW3RdO2lmKHIudHJ5TG9jPT09ZSl7dmFyIG49ci5jb21wbGV0aW9uO2lmKCJ0aHJvdyI9PT1uLnR5cGUpe3ZhciBvPW4uYXJnO0Uocil9cmV0dXJuIG99fXRocm93IG5ldyBFcnJvcigiaWxsZWdhbCBjYXRjaCBhdHRlbXB0Iil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpEKGUpLHJlc3VsdE5hbWU6cixuZXh0TG9jOm59LCJuZXh0Ij09PXRoaXMubWV0aG9kJiYodGhpcy5hcmc9dCksaH19LGV9KGUuZXhwb3J0cyk7dHJ5e3JlZ2VuZXJhdG9yUnVudGltZT1ufWNhdGNoKGUpe0Z1bmN0aW9uKCJyIiwicmVnZW5lcmF0b3JSdW50aW1lID0gciIpKG4pfX0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLHI9bmV3IEFycmF5KGUubGVuZ3RoKTt0PGUubGVuZ3RoO3QrKylyW3RdPWVbdF07cmV0dXJuIHJ9fShlKXx8ZnVuY3Rpb24oZSl7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKXx8IltvYmplY3QgQXJndW1lbnRzXSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIil9KCl9ZnVuY3Rpb24gbyhlLHQscixuLG8saSxhKXt0cnl7dmFyIGM9ZVtpXShhKSx1PWMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcihlKX1jLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihuLG8pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7dmFyIGE9ZS5hcHBseSh0LHIpO2Z1bmN0aW9uIGMoZSl7byhhLG4saSxjLHUsIm5leHQiLGUpfWZ1bmN0aW9uIHUoZSl7byhhLG4saSxjLHUsInRocm93IixlKX1jKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIGEoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YShyLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTphKHIpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB1KGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBzKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLG89ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4sbz17fSxpPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxpLmxlbmd0aDtuKyspcj1pW25dLHQuaW5kZXhPZihyKT49MHx8KG9bcl09ZVtyXSk7cmV0dXJuIG99KGUsdCk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtmb3Iobj0wO248aS5sZW5ndGg7bisrKXI9aVtuXSx0LmluZGV4T2Yocik+PTB8fE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHIpJiYob1tyXT1lW3JdKX1yZXR1cm4gb312YXIgZj1yKDYpLGw9cigxKS5sb2cscD1yKDIpLGQ9cig3KSxoPXIoOCksdj1yKDEwKSxtPXYuZGVmYXVsdE9wdGlvbnMsZz12LnNwYXduV29ya2VyLHk9di50ZXJtaW5hdGVXb3JrZXIsYj12Lm9uTWVzc2FnZSx3PXYuc2VuZCx4PXYuZmV0Y2hGaWxlLGo9di5mcyxPPTA7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9cCgiV29ya2VyIixPKSxyPWgoYyh7fSxtLHt9LGUpKSxvPXIubG9nZ2VyLGE9ci5wcm9ncmVzcyx1PXMocixbImxvZ2dlciIsInByb2dyZXNzIl0pLHY9e30saz17fSxQPWcodSk7Tys9MTt2YXIgRT1mdW5jdGlvbihlLHQpe3ZbZV09dH0sTD1mdW5jdGlvbihlLHQpe2tbZV09dH0sRD1mdW5jdGlvbihlKXt2YXIgcj1lLmlkLG49ZS5hY3Rpb24sbz1lLnBheWxvYWQ7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihlLGkpe2woIlsiLmNvbmNhdCh0LCJdOiBTdGFydCAiKS5jb25jYXQociwiLCBhY3Rpb249IikuY29uY2F0KG4pKSxFKG4sZSksTChuLGkpLHcoUCx7d29ya2VySWQ6dCxqb2JJZDpyLGFjdGlvbjpuLHBheWxvYWQ6b30pfSkpfSxTPWZ1bmN0aW9uKGUpe3JldHVybiBEKGYoe2lkOmUsYWN0aW9uOiJsb2FkIixwYXlsb2FkOntvcHRpb25zOnV9fSkpfSxGPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEQoZih7aWQ6dCxhY3Rpb246InN5bmNmcyIscGF5bG9hZDp7cG9wdWxhdGU6ZX19KSl9LFQ9ZnVuY3Rpb24oKXt2YXIgZT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsRigpO2Nhc2UgMjpyZXR1cm4gZS50MD1qLGUudDE9dCxlLm5leHQ9Nix4KHIpO2Nhc2UgNjpyZXR1cm4gZS50Mj1lLnNlbnQsZS5uZXh0PTksZS50MC53cml0ZUZpbGUuY2FsbChlLnQwLGUudDEsZS50Mik7Y2FzZSA5OnJldHVybiBlLm5leHQ9MTEsRighMCk7Y2FzZSAxMTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIse3BhdGg6Ii9kYXRhLyIuY29uY2F0KHQpfSk7Y2FzZSAxMjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEk9ZnVuY3Rpb24oKXt2YXIgZT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsRighMCk7Y2FzZSAyOnJldHVybiBlLm5leHQ9NCxqLndyaXRlRmlsZSh0LHIpO2Nhc2UgNDpyZXR1cm4gZS5uZXh0PTYsRighMCk7Y2FzZSA2OnJldHVybiBlLmFicnVwdCgicmV0dXJuIix7cGF0aDoiL2RhdGEvIi5jb25jYXQodCl9KTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxSPWZ1bmN0aW9uKCl7dmFyIGU9aShyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0KXt2YXIgcixuLG89YXJndW1lbnRzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIHI9IShvLmxlbmd0aD4xJiZ2b2lkIDAhPT1vWzFdKXx8b1sxXSxlLm5leHQ9MyxqLnJlYWRGaWxlKHQpO2Nhc2UgMzppZihuPWUuc2VudCwhcil7ZS5uZXh0PTc7YnJlYWt9cmV0dXJuIGUubmV4dD03LGouZGVsZXRlRmlsZSh0KTtjYXNlIDc6cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLHtkYXRhOm59KTtjYXNlIDg6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCksQj1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsai5kZWxldGVGaWxlKHQpO2Nhc2UgMjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIse3BhdGg6Ii9kYXRhLyIuY29uY2F0KHQpfSk7Y2FzZSAzOmNhc2UiZW5kIjpyZXR1cm4gZS5zdG9wKCl9fSksZSl9KSkpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLEE9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIEQoZih7aWQ6cixhY3Rpb246InJ1biIscGF5bG9hZDp7YXJnczplLG9wdGlvbnM6dH19KSl9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06IiIsbj0hKGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdKXx8YXJndW1lbnRzWzNdLG89YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7cmV0dXJuIEEoIi1pIC9kYXRhLyIuY29uY2F0KGUsIiAiKS5jb25jYXQociwiICIpLmNvbmNhdCh0KSx7aW5wdXQ6ZSxvdXRwdXQ6dCxkZWw6bn0sbyl9LE09ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOiIiLGk9IShhcmd1bWVudHMubGVuZ3RoPjUmJnZvaWQgMCE9PWFyZ3VtZW50c1s1XSl8fGFyZ3VtZW50c1s1XSxhPWFyZ3VtZW50cy5sZW5ndGg+Nj9hcmd1bWVudHNbNl06dm9pZCAwO3JldHVybiBBKCItaSAvZGF0YS8iLmNvbmNhdChlLCIgLXNzICIpLmNvbmNhdChyLCIgLXRvICIpLmNvbmNhdChuLCIgIikuY29uY2F0KG8sIiAiKS5jb25jYXQodCkse2lucHV0OmUsb3V0cHV0OnQsZGVsOml9LGEpfSxXPWZ1bmN0aW9uKCl7dmFyIGU9aShyZWdlbmVyYXRvclJ1bnRpbWUubWFyaygoZnVuY3Rpb24gZSh0LHIpe3ZhciBvLGksYSxjLHU9YXJndW1lbnRzO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIG89dS5sZW5ndGg+MiYmdm9pZCAwIT09dVsyXT91WzJdOiIiLGk9ISh1Lmxlbmd0aD4zJiZ2b2lkIDAhPT11WzNdKXx8dVszXSxhPXUubGVuZ3RoPjQ/dVs0XTp2b2lkIDAsYz10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSwiXG5maWxlICIpLmNvbmNhdCh0KX0pLCIiKSxlLm5leHQ9NixJKCJjb25jYXRfbGlzdC50eHQiLGMpO2Nhc2UgNjpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsQSgiLWYgY29uY2F0IC1zYWZlIDAgLWkgL2RhdGEvY29uY2F0X2xpc3QudHh0IC1jIGNvcHkgIi5jb25jYXQobywiICIpLmNvbmNhdChyKSx7ZGVsOmksb3V0cHV0OnIsaW5wdXQ6W10uY29uY2F0KG4odCksWyJjb25jYXRfbGlzdC50eHQiXSl9LGEpKTtjYXNlIDc6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQscil7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEQoZih7aWQ6dCxhY3Rpb246IkZTIixwYXlsb2FkOnttZXRob2Q6InJlYWRkaXIiLGFyZ3M6W2VdfX0pKX0sQz1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihudWxsPT09UCl7ZS5uZXh0PTU7YnJlYWt9cmV0dXJuIGUubmV4dD0zLEQoZih7aWQ6dCxhY3Rpb246InRlcm1pbmF0ZSJ9KSk7Y2FzZSAzOnkoUCksUD1udWxsO2Nhc2UgNTpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsUHJvbWlzZS5yZXNvbHZlKCkpO2Nhc2UgNjpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpKTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTtyZXR1cm4gYihQLChmdW5jdGlvbihlKXt2YXIgdD1lLndvcmtlcklkLHI9ZS5qb2JJZCxuPWUuc3RhdHVzLGk9ZS5hY3Rpb24sdT1lLmRhdGE7aWYoInJlc29sdmUiPT09bil7bCgiWyIuY29uY2F0KHQsIl06IENvbXBsZXRlICIpLmNvbmNhdChyKSk7dmFyIHM9dTtpZigiRlMiPT09aSl7dmFyIGY9dS5tZXRob2QscD11LmRhdGE7cz0icmVhZEZpbGUiPT09Zj9VaW50OEFycmF5LmZyb20oYyh7fSxwLHtsZW5ndGg6T2JqZWN0LmtleXMocCkubGVuZ3RofSkpOnB9dltpXSh7am9iSWQ6cixkYXRhOnN9KX1lbHNle2lmKCJyZWplY3QiPT09bil0aHJvdyBrW2ldKHUpLEVycm9yKHUpOyJwcm9ncmVzcyI9PT1uJiYoZCh1LGEpLG8odSkpfX0pKSx7aWQ6dCx3b3JrZXI6UCxzZXRSZXNvbHZlOkUsc2V0UmVqZWN0OkwsbG9hZDpTLHN5bmNmczpGLHdyaXRlOlQsd3JpdGVUZXh0OkkscmVhZDpSLHJlbW92ZTpCLHJ1bjpBLHRyYW5zY29kZTpfLHRyaW06TSxjb25jYXREZW11eGVyOlcsbHM6Tix0ZXJtaW5hdGU6Q319fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigyKSxvPTA7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQscj1lLmFjdGlvbixpPWUucGF5bG9hZCxhPXZvaWQgMD09PWk/e306aSxjPXQ7cmV0dXJuIHZvaWQgMD09PWMmJihjPW4oIkpvYiIsbyksbys9MSkse2lkOmMsYWN0aW9uOnIscGF5bG9hZDphfX19LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSl8fCJbb2JqZWN0IEFyZ3VtZW50c10iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpKSlyZXR1cm47dmFyIHI9W10sbj0hMCxvPSExLGk9dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9Yy5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKGEudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtvPSEwLGk9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgaX19cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpfSgpfXZhciBuPTAsbz1mdW5jdGlvbihlKXt2YXIgdD1yKGUuc3BsaXQoIjoiKSwzKSxuPXRbMF0sbz10WzFdLGk9dFsyXTtyZXR1cm4gNjAqcGFyc2VGbG9hdChuKSo2MCs2MCpwYXJzZUZsb2F0KG8pK3BhcnNlRmxvYXQoaSl9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPWUubWVzc2FnZTtpZigic3RyaW5nIj09dHlwZW9mIHIpaWYoci5zdGFydHNXaXRoKCIgIER1cmF0aW9uIikpe3ZhciBpPXIuc3BsaXQoIiwgIilbMF0uc3BsaXQoIjogIilbMV0sYT1vKGkpOygwPT09bnx8bj5hKSYmKG49YSl9ZWxzZSBpZihyLnN0YXJ0c1dpdGgoImZyYW1lIikpe3ZhciBjPXIuc3BsaXQoInRpbWU9IilbMV0uc3BsaXQoIiAiKVswXTt0KHtyYXRpbzpvKGMpL259KX1lbHNlIHIuc3RhcnRzV2l0aCgidmlkZW86IikmJnQoe3JhdGlvOjF9KX19LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgaT0iYnJvd3NlciI9PT1yKDkpKCJ0eXBlIik/cigwKTpmdW5jdGlvbihlKXtyZXR1cm4gZX07ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP24ociwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7byhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6bihyKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9KHt9LGUpO3JldHVyblsiY29yZVBhdGgiLCJ3b3JrZXJQYXRoIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dm9pZCAwIT09ZVtyXSYmKHRbcl09aSh0W3JdKSl9KSksdH19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXt0eXBlOiJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ2b2lkIDAhPT13aW5kb3cuZG9jdW1lbnQ/ImJyb3dzZXIiOiJub2RlIn07cmV0dXJuIHZvaWQgMD09PWU/dDp0W2VdfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTEpLG89cigxNSksaT1yKDE2KSxhPXIoMTcpLGM9cigxOCksdT1yKDE5KSxzPXIoMjApO2UuZXhwb3J0cz17ZGVmYXVsdE9wdGlvbnM6bixzcGF3bldvcmtlcjpvLHRlcm1pbmF0ZVdvcmtlcjppLG9uTWVzc2FnZTphLHNlbmQ6YyxmZXRjaEZpbGU6dSxmczpzfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBvKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgaT1yKDApLGE9cigxMyksYz1hLnZlcnNpb24sdT1hLmRlcGVuZGVuY2llcyxzPXIoMTQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9uKHIsITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe28oZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOm4ocikuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfSh7fSxzLHt3b3JrZXJQYXRoOnZvaWQgMCE9PXQmJiJkZXZlbG9wbWVudCI9PT10LmVudi5GRk1QRUdfRU5WP2koIi9kaXN0L3dvcmtlci5kZXYuanM/bm9jYWNoZT0iLmNvbmNhdChNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgzKSkpOiJodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2ZmbXBlZ0B2Ii5jb25jYXQoYywiL2Rpc3Qvd29ya2VyLm1pbi5qcyIpLGNvcmVQYXRoOiJodHRwczovL3VucGtnLmNvbS9AZmZtcGVnL2NvcmVAdiIuY29uY2F0KHVbIkBmZm1wZWcvY29yZSJdLnN1YnN0cmluZygxKSwiL2ZmbXBlZy1jb3JlLmpzIiksd29ya2VyQmxvYlVSTDohMH0pfSkuY2FsbCh0aGlzLHIoMTIpKX0sZnVuY3Rpb24oZSx0KXt2YXIgcixuLG89ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGkoKXt0aHJvdyBuZXcgRXJyb3IoInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQiKX1mdW5jdGlvbiBjKGUpe2lmKHI9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKHI9PT1pfHwhcikmJnNldFRpbWVvdXQpcmV0dXJuIHI9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiByKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e3I9ImZ1bmN0aW9uIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDppfWNhdGNoKGUpe3I9aX10cnl7bj0iZnVuY3Rpb24iPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDphfWNhdGNoKGUpe249YX19KCk7dmFyIHUscz1bXSxmPSExLGw9LTE7ZnVuY3Rpb24gcCgpe2YmJnUmJihmPSExLHUubGVuZ3RoP3M9dS5jb25jYXQocyk6bD0tMSxzLmxlbmd0aCYmZCgpKX1mdW5jdGlvbiBkKCl7aWYoIWYpe3ZhciBlPWMocCk7Zj0hMDtmb3IodmFyIHQ9cy5sZW5ndGg7dDspe2Zvcih1PXMscz1bXTsrK2w8dDspdSYmdVtsXS5ydW4oKTtsPS0xLHQ9cy5sZW5ndGh9dT1udWxsLGY9ITEsZnVuY3Rpb24oZSl7aWYobj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChuPT09YXx8IW4pJiZjbGVhclRpbWVvdXQpcmV0dXJuIG49Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7bihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gaChlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIHYoKXt9by5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl0W3ItMV09YXJndW1lbnRzW3JdO3MucHVzaChuZXcgaChlLHQpKSwxIT09cy5sZW5ndGh8fGZ8fGMoZCl9LGgucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG8udGl0bGU9ImJyb3dzZXIiLG8uYnJvd3Nlcj0hMCxvLmVudj17fSxvLmFyZ3Y9W10sby52ZXJzaW9uPSIiLG8udmVyc2lvbnM9e30sby5vbj12LG8uYWRkTGlzdGVuZXI9dixvLm9uY2U9dixvLm9mZj12LG8ucmVtb3ZlTGlzdGVuZXI9dixvLnJlbW92ZUFsbExpc3RlbmVycz12LG8uZW1pdD12LG8ucHJlcGVuZExpc3RlbmVyPXYsby5wcmVwZW5kT25jZUxpc3RlbmVyPXYsby5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LG8uYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LG8uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSxvLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LG8udW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUpe2UuZXhwb3J0cz1KU09OLnBhcnNlKCd7Im5hbWUiOiJAZmZtcGVnL2ZmbXBlZyIsInZlcnNpb24iOiIwLjUuMiIsImRlc2NyaXB0aW9uIjoiRkZtcGVnIFdlYkFzc2VtYmx5IHZlcnNpb24iLCJtYWluIjoic3JjL2luZGV4LmpzIiwiZGlyZWN0b3JpZXMiOnsiZXhhbXBsZSI6ImV4YW1wbGVzIn0sInNjcmlwdHMiOnsic3RhcnQiOiJub2RlIHNjcmlwdHMvc2VydmVyLmpzIiwiYnVpbGQiOiJyaW1yYWYgZGlzdCAmJiB3ZWJwYWNrIC0tY29uZmlnIHNjcmlwdHMvd2VicGFjay5jb25maWcucHJvZC5qcyIsInByZXB1Ymxpc2hPbmx5IjoibnBtIHJ1biBidWlsZCIsImxpbnQiOiJlc2xpbnQgc3JjIiwid2FpdCI6InJpbXJhZiBkaXN0ICYmIHdhaXQtb24gaHR0cDovL2xvY2FsaG9zdDozMDAwL2Rpc3QvZmZtcGVnLmRldi5qcyIsInRlc3QiOiJucG0tcnVuLWFsbCAtcCAtciBzdGFydCB0ZXN0OmFsbCIsInRlc3Q6YWxsIjoibnBtLXJ1bi1hbGwgd2FpdCB0ZXN0Om5vZGU6YWxsIiwidGVzdDpub2RlIjoibnljIG1vY2hhIC0tZXhpdCAtLWJhaWwgLS1yZXF1aXJlIC4vc2NyaXB0cy90ZXN0LWhlbHBlci5qcyIsInRlc3Q6bm9kZTphbGwiOiJucG0gcnVuIHRlc3Q6bm9kZSAtLSAuL3Rlc3RzLyoudGVzdC5qcyIsInRlc3Q6YnJvd3NlciI6Im1vY2hhLWhlYWRsZXNzLWNocm9tZSAtYSBpbmNvZ25pdG8gLWEgbm8tc2FuZGJveCAtYSBkaXNhYmxlLXNldHVpZC1zYW5kYm94IC1hIGRpc2FibGUtbG9nZ2luZyAtdCAzMDAwMDAiLCJ0ZXN0OmJyb3dzZXI6ZmZtcGVnIjoibnBtIHJ1biB0ZXN0OmJyb3dzZXIgLS0gLWYgLi90ZXN0cy9mZm1wZWcudGVzdC5odG1sIn0sImJyb3dzZXIiOnsiLi9zcmMvd29ya2VyL25vZGUvaW5kZXguanMiOiIuL3NyYy93b3JrZXIvYnJvd3Nlci9pbmRleC5qcyJ9LCJyZXBvc2l0b3J5Ijp7InR5cGUiOiJnaXQiLCJ1cmwiOiJnaXQraHR0cHM6Ly9naXRodWIuY29tL2ZmbXBlZ2pzL2ZmbXBlZy5qcy5naXQifSwia2V5d29yZHMiOlsiZmZtcGVnIiwiV2ViQXNzZW1ibHkiLCJ2aWRlbyJdLCJhdXRob3IiOiJKZXJvbWUgV3UgPGplcm9tZXd1c0BnbWFpbC5jb20+IiwibGljZW5zZSI6Ik1JVCIsImJ1Z3MiOnsidXJsIjoiaHR0cHM6Ly9naXRodWIuY29tL2ZmbXBlZ2pzL2ZmbXBlZy5qcy9pc3N1ZXMifSwiaG9tZXBhZ2UiOiJodHRwczovL2dpdGh1Yi5jb20vZmZtcGVnanMvZmZtcGVnLmpzI3JlYWRtZSIsImRlcGVuZGVuY2llcyI6eyJAZmZtcGVnL2NvcmUiOiJeMC41LjAiLCJpZGIiOiJeNC4wLjUiLCJpcy11cmwiOiJeMS4yLjQiLCJub2RlLWZldGNoIjoiXjIuNi4wIiwicmVnZW5lcmF0b3ItcnVudGltZSI6Il4wLjEzLjMiLCJyZXNvbHZlLXVybCI6Il4wLjIuMSJ9LCJkZXZEZXBlbmRlbmNpZXMiOnsiQGJhYmVsL2NvcmUiOiJeNy42LjQiLCJAYmFiZWwvcHJlc2V0LWVudiI6Il43LjYuMyIsImJhYmVsLWxvYWRlciI6Il44LjAuNiIsImNvcnMiOiJeMi44LjUiLCJlc2xpbnQiOiJeNi4xLjAiLCJlc2xpbnQtY29uZmlnLWFpcmJuYi1iYXNlIjoiXjE0LjAuMCIsImVzbGludC1wbHVnaW4taW1wb3J0IjoiXjIuMTguMiIsImV4cGVjdC5qcyI6Il4wLjMuMSIsImV4cHJlc3MiOiJeNC4xNy4xIiwibW9jaGEiOiJeNi4yLjIiLCJtb2NoYS1oZWFkbGVzcy1jaHJvbWUiOiJeMi4wLjMiLCJucG0tcnVuLWFsbCI6Il40LjEuNSIsIm55YyI6Il4xNC4xLjEiLCJ3YWl0LW9uIjoiXjMuMy4wIiwid2VicGFjayI6Il40LjQxLjIiLCJ3ZWJwYWNrLWNsaSI6Il4zLjMuOSIsIndlYnBhY2stZGV2LW1pZGRsZXdhcmUiOiJeMy43LjIifX0nKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e2xvZ2dlcjpmdW5jdGlvbigpe30scHJvZ3Jlc3M6ZnVuY3Rpb24oKXt9fX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscj1lLndvcmtlclBhdGgsbj1lLndvcmtlckJsb2JVUkw7aWYoQmxvYiYmVVJMJiZuKXt2YXIgbz1uZXcgQmxvYihbJ2ltcG9ydFNjcmlwdHMoIicuY29uY2F0KHIsJyIpOycpXSx7dHlwZToiYXBwbGljYXRpb24vamF2YXNjcmlwdCJ9KTt0PW5ldyBXb3JrZXIoVVJMLmNyZWF0ZU9iamVjdFVSTChvKSl9ZWxzZSB0PW5ldyBXb3JrZXIocik7cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtlLnRlcm1pbmF0ZSgpfX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtlLm9ubWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgcj1lLmRhdGE7dChyKX19fSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSx0LHIsbixvLGksYSl7dHJ5e3ZhciBjPWVbaV0oYSksdT1jLnZhbHVlfWNhdGNoKGUpe3JldHVybiB2b2lkIHIoZSl9Yy5kb25lP3QodSk6UHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4obixvKX1lLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PShlPXJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQscil7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDp0LnBvc3RNZXNzYWdlKHIpO2Nhc2UgMTpjYXNlImVuZCI6cmV0dXJuIGUuc3RvcCgpfX0pLGUpfSkpLGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG8saSl7dmFyIGE9ZS5hcHBseSh0LG4pO2Z1bmN0aW9uIGMoZSl7cihhLG8saSxjLHUsIm5leHQiLGUpfWZ1bmN0aW9uIHUoZSl7cihhLG8saSxjLHUsInRocm93IixlKX1jKHZvaWQgMCl9KSl9KTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpfSxmdW5jdGlvbihlLHQscil7ZnVuY3Rpb24gbihlLHQscixuLG8saSxhKXt0cnl7dmFyIGM9ZVtpXShhKSx1PWMudmFsdWV9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgcihlKX1jLmRvbmU/dCh1KTpQcm9taXNlLnJlc29sdmUodSkudGhlbihuLG8pfXZhciBvPXIoMCksaT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHQscil7dmFyIG49bmV3IEZpbGVSZWFkZXI7bi5vbmxvYWQ9ZnVuY3Rpb24oKXt0KG4ucmVzdWx0KX0sbi5vbmVycm9yPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmVycm9yLmNvZGU7cihFcnJvcigiRmlsZSBjb3VsZCBub3QgYmUgcmVhZCEgQ29kZT0iLmNvbmNhdCh0KSkpfSxuLnJlYWRBc0FycmF5QnVmZmVyKGUpfSkpfTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt2YXIgZSx0PShlPXJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG47cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDppZihyPXQsdm9pZCAwIT09dCl7ZS5uZXh0PTM7YnJlYWt9cmV0dXJuIGUuYWJydXB0KCJyZXR1cm4iLCJ1bmRlZmluZWQiKTtjYXNlIDM6aWYoInN0cmluZyIhPXR5cGVvZiB0KXtlLm5leHQ9MTY7YnJlYWt9aWYoIS9kYXRhOl9kYXRhXC8oW2EtekEtWl0qKTtiYXNlNjQsKFteIl0qKS8udGVzdCh0KSl7ZS5uZXh0PTg7YnJlYWt9cj1hdG9iKHQuc3BsaXQoIiwiKVsxXSkuc3BsaXQoIiIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2hhckNvZGVBdCgwKX0pKSxlLm5leHQ9MTQ7YnJlYWs7Y2FzZSA4OnJldHVybiBlLm5leHQ9MTAsZmV0Y2gobyh0KSk7Y2FzZSAxMDpyZXR1cm4gbj1lLnNlbnQsZS5uZXh0PTEzLG4uYXJyYXlCdWZmZXIoKTtjYXNlIDEzOnI9ZS5zZW50O2Nhc2UgMTQ6ZS5uZXh0PTIwO2JyZWFrO2Nhc2UgMTY6aWYoISh0IGluc3RhbmNlb2YgRmlsZXx8dCBpbnN0YW5jZW9mIEJsb2IpKXtlLm5leHQ9MjA7YnJlYWt9cmV0dXJuIGUubmV4dD0xOSxpKHQpO2Nhc2UgMTk6cj1lLnNlbnQ7Y2FzZSAyMDpyZXR1cm4gZS5hYnJ1cHQoInJldHVybiIsbmV3IFVpbnQ4QXJyYXkocikpO2Nhc2UgMjE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSxmdW5jdGlvbigpe3ZhciB0PXRoaXMscj1hcmd1bWVudHM7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihvLGkpe3ZhciBhPWUuYXBwbHkodCxyKTtmdW5jdGlvbiBjKGUpe24oYSxvLGksYyx1LCJuZXh0IixlKX1mdW5jdGlvbiB1KGUpe24oYSxvLGksYyx1LCJ0aHJvdyIsZSl9Yyh2b2lkIDApfSkpfSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCl9LGZ1bmN0aW9uKGUsdCxyKXtmdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiBvKGUsdCxyLG4sbyxpLGEpe3RyeXt2YXIgYz1lW2ldKGEpLHU9Yy52YWx1ZX1jYXRjaChlKXtyZXR1cm4gdm9pZCByKGUpfWMuZG9uZT90KHUpOlByb21pc2UucmVzb2x2ZSh1KS50aGVuKG4sbyl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24obixpKXt2YXIgYT1lLmFwcGx5KHQscik7ZnVuY3Rpb24gYyhlKXtvKGEsbixpLGMsdSwibmV4dCIsZSl9ZnVuY3Rpb24gdShlKXtvKGEsbixpLGMsdSwidGhyb3ciLGUpfWModm9pZCAwKX0pKX19dmFyIGEsYyx1LHM9cigyMSkub3BlbkRCLGY9ZnVuY3Rpb24oKXtyZXR1cm4gcygiL2RhdGEiLDIxKX0sbD1mdW5jdGlvbigpe3ZhciBlPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHIsbjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9Mix0LmdldCgiRklMRV9EQVRBIiwiL2RhdGEvLkRVTU1ZIik7Y2FzZSAyOnJldHVybiByPWUuc2VudCxuPU9iamVjdC5rZXlzKHIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIVsibW9kZSIsInRpbWVzdGFtcCJdLmluY2x1ZGVzKGUpfSkpLnBvcCgpLGUuYWJydXB0KCJyZXR1cm4iLHtkYXRhS2V5Om4sbW9kZTpyLm1vZGV9KTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KCk7ZS5leHBvcnRzPXtyZWFkRmlsZToodT1pKHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKChmdW5jdGlvbiBlKHQpe3ZhciByLG4sbztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoKGZ1bmN0aW9uKGUpe2Zvcig7Oylzd2l0Y2goZS5wcmV2PWUubmV4dCl7Y2FzZSAwOnJldHVybiBlLm5leHQ9MixmKCk7Y2FzZSAyOnJldHVybiByPWUuc2VudCxlLm5leHQ9NSxsKHIpO2Nhc2UgNTpyZXR1cm4gbj1lLnNlbnQsbz1uLmRhdGFLZXksZS5uZXh0PTksci5nZXQoIkZJTEVfREFUQSIsIi9kYXRhLyIuY29uY2F0KHQpKTtjYXNlIDk6cmV0dXJuIGUudDA9byxlLmFicnVwdCgicmV0dXJuIixlLnNlbnRbZS50MF0pO2Nhc2UgMTE6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIHUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSksd3JpdGVGaWxlOihjPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCxyKXt2YXIgbyxpLGEsYyx1O3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcCgoZnVuY3Rpb24oZSl7Zm9yKDs7KXN3aXRjaChlLnByZXY9ZS5uZXh0KXtjYXNlIDA6cmV0dXJuIGUubmV4dD0yLGYoKTtjYXNlIDI6cmV0dXJuIGk9ZS5zZW50LGUubmV4dD01LGwoaSk7Y2FzZSA1OnJldHVybiBhPWUuc2VudCxjPWEuZGF0YUtleSx1PWEubW9kZSxlLm5leHQ9MTAsaS5wdXQoIkZJTEVfREFUQSIsKG4obz17fSxjLHIpLG4obywibW9kZSIsdSksbihvLCJ0aW1lc3RhbXAiLG5ldyBEYXRlKSxvKSwiL2RhdGEvIi5jb25jYXQodCkpO2Nhc2UgMTA6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSx0KXtyZXR1cm4gYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxkZWxldGVGaWxlOihhPWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoKGZ1bmN0aW9uIGUodCl7dmFyIHI7cmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKChmdW5jdGlvbihlKXtmb3IoOzspc3dpdGNoKGUucHJldj1lLm5leHQpe2Nhc2UgMDpyZXR1cm4gZS5uZXh0PTIsZigpO2Nhc2UgMjpyZXR1cm4gcj1lLnNlbnQsZS5uZXh0PTUsci5kZWxldGUoIkZJTEVfREFUQSIsIi9kYXRhLyIuY29uY2F0KHQpKTtjYXNlIDU6Y2FzZSJlbmQiOnJldHVybiBlLnN0b3AoKX19KSxlKX0pKSksZnVuY3Rpb24oZSl7cmV0dXJuIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3Iucih0KTtjb25zdCBuPShlLHQpPT50LnNvbWUodD0+ZSBpbnN0YW5jZW9mIHQpO2xldCBvLGk7Y29uc3QgYT1uZXcgV2Vha01hcCxjPW5ldyBXZWFrTWFwLHU9bmV3IFdlYWtNYXAscz1uZXcgV2Vha01hcCxmPW5ldyBXZWFrTWFwO2xldCBsPXtnZXQoZSx0LHIpe2lmKGUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbil7aWYoImRvbmUiPT09dClyZXR1cm4gYy5nZXQoZSk7aWYoIm9iamVjdFN0b3JlTmFtZXMiPT09dClyZXR1cm4gZS5vYmplY3RTdG9yZU5hbWVzfHx1LmdldChlKTtpZigic3RvcmUiPT09dClyZXR1cm4gci5vYmplY3RTdG9yZU5hbWVzWzFdP3ZvaWQgMDpyLm9iamVjdFN0b3JlKHIub2JqZWN0U3RvcmVOYW1lc1swXSl9cmV0dXJuIGgoZVt0XSl9LGhhczooZSx0KT0+ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uJiYoImRvbmUiPT09dHx8InN0b3JlIj09PXQpfHx0IGluIGV9O2Z1bmN0aW9uIHAoZSl7cmV0dXJuIGUhPT1JREJEYXRhYmFzZS5wcm90b3R5cGUudHJhbnNhY3Rpb258fCJvYmplY3RTdG9yZU5hbWVzImluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZT8oaXx8KGk9W0lEQkN1cnNvci5wcm90b3R5cGUuYWR2YW5jZSxJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5XSkpLmluY2x1ZGVzKGUpP2Z1bmN0aW9uKC4uLnQpe3JldHVybiBlLmFwcGx5KHYodGhpcyksdCksaChhLmdldCh0aGlzKSl9OmZ1bmN0aW9uKC4uLnQpe3JldHVybiBoKGUuYXBwbHkodih0aGlzKSx0KSl9OmZ1bmN0aW9uKHQsLi4ucil7Y29uc3Qgbj1lLmNhbGwodih0aGlzKSx0LC4uLnIpO3JldHVybiB1LnNldChuLHQuc29ydD90LnNvcnQoKTpbdF0pLGgobil9fWZ1bmN0aW9uIGQoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/cChlKTooZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uJiZmdW5jdGlvbihlKXtpZihjLmhhcyhlKSlyZXR1cm47Y29uc3QgdD1uZXcgUHJvbWlzZSgodCxyKT0+e2NvbnN0IG49KCk9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbXBsZXRlIixvKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixpKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImFib3J0IixpKX0sbz0oKT0+e3QoKSxuKCl9LGk9KCk9PntyKGUuZXJyb3IpLG4oKX07ZS5hZGRFdmVudExpc3RlbmVyKCJjb21wbGV0ZSIsbyksZS5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsaSksZS5hZGRFdmVudExpc3RlbmVyKCJhYm9ydCIsaSl9KTtjLnNldChlLHQpfShlKSxuKGUsb3x8KG89W0lEQkRhdGFiYXNlLElEQk9iamVjdFN0b3JlLElEQkluZGV4LElEQkN1cnNvcixJREJUcmFuc2FjdGlvbl0pKT9uZXcgUHJveHkoZSxsKTplKX1mdW5jdGlvbiBoKGUpe2lmKGUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KXJldHVybiBmdW5jdGlvbihlKXtjb25zdCB0PW5ldyBQcm9taXNlKCh0LHIpPT57Y29uc3Qgbj0oKT0+e2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigic3VjY2VzcyIsbyksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsaSl9LG89KCk9Pnt0KGgoZS5yZXN1bHQpKSxuKCl9LGk9KCk9PntyKGUuZXJyb3IpLG4oKX07ZS5hZGRFdmVudExpc3RlbmVyKCJzdWNjZXNzIixvKSxlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixpKX0pO3JldHVybiB0LnRoZW4odD0+e3QgaW5zdGFuY2VvZiBJREJDdXJzb3ImJmEuc2V0KHQsZSl9KS5jYXRjaCgoKT0+e30pLGYuc2V0KHQsZSksdH0oZSk7aWYocy5oYXMoZSkpcmV0dXJuIHMuZ2V0KGUpO2NvbnN0IHQ9ZChlKTtyZXR1cm4gdCE9PWUmJihzLnNldChlLHQpLGYuc2V0KHQsZSkpLHR9Y29uc3Qgdj1lPT5mLmdldChlKTtmdW5jdGlvbiBtKGUsdCx7YmxvY2tlZDpyLHVwZ3JhZGU6bixibG9ja2luZzpvfT17fSl7Y29uc3QgaT1pbmRleGVkREIub3BlbihlLHQpLGE9aChpKTtyZXR1cm4gbiYmaS5hZGRFdmVudExpc3RlbmVyKCJ1cGdyYWRlbmVlZGVkIixlPT57bihoKGkucmVzdWx0KSxlLm9sZFZlcnNpb24sZS5uZXdWZXJzaW9uLGgoaS50cmFuc2FjdGlvbikpfSksciYmaS5hZGRFdmVudExpc3RlbmVyKCJibG9ja2VkIiwoKT0+cigpKSxvJiZhLnRoZW4oZT0+ZS5hZGRFdmVudExpc3RlbmVyKCJ2ZXJzaW9uY2hhbmdlIixvKSkuY2F0Y2goKCk9Pnt9KSxhfWZ1bmN0aW9uIGcoZSx7YmxvY2tlZDp0fT17fSl7Y29uc3Qgcj1pbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZSk7cmV0dXJuIHQmJnIuYWRkRXZlbnRMaXN0ZW5lcigiYmxvY2tlZCIsKCk9PnQoKSksaChyKS50aGVuKCgpPT52b2lkIDApfXIuZCh0LCJvcGVuREIiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHIuZCh0LCJkZWxldGVEQiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksci5kKHQsInVud3JhcCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIndyYXAiLChmdW5jdGlvbigpe3JldHVybiBofSkpO2NvbnN0IHk9WyJnZXQiLCJnZXRLZXkiLCJnZXRBbGwiLCJnZXRBbGxLZXlzIiwiY291bnQiXSxiPVsicHV0IiwiYWRkIiwiZGVsZXRlIiwiY2xlYXIiXSx3PW5ldyBNYXA7ZnVuY3Rpb24geChlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIElEQkRhdGFiYXNlKXx8dCBpbiBlfHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO2lmKHcuZ2V0KHQpKXJldHVybiB3LmdldCh0KTtjb25zdCByPXQucmVwbGFjZSgvRnJvbUluZGV4JC8sIiIpLG49dCE9PXIsbz1iLmluY2x1ZGVzKHIpO2lmKCEociBpbihuP0lEQkluZGV4OklEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpfHwhbyYmIXkuaW5jbHVkZXMocikpcmV0dXJuO2NvbnN0IGk9YXN5bmMgZnVuY3Rpb24oZSwuLi50KXtjb25zdCBpPXRoaXMudHJhbnNhY3Rpb24oZSxvPyJyZWFkd3JpdGUiOiJyZWFkb25seSIpO2xldCBhPWkuc3RvcmU7biYmKGE9YS5pbmRleCh0LnNoaWZ0KCkpKTtjb25zdCBjPWFbcl0oLi4udCk7cmV0dXJuIG8mJmF3YWl0IGkuZG9uZSxjfTtyZXR1cm4gdy5zZXQodCxpKSxpfWw9KGU9Pih7Z2V0Oih0LHIsbik9PngodCxyKXx8ZS5nZXQodCxyLG4pLGhhczoodCxyKT0+ISF4KHQscil8fGUuaGFzKHQscil9KSkobCl9XSl9KSk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPWZmbXBlZy5taW4uanMubWFw"}]},{"name":"全网音乐一键免费下载 一键搜索 在线试听 2019.10.9更新 增加手机端app 全新服务器单独运行","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://music.163.com/*","*://y.qq.com/*","*://www.kugou.com/*","*://www.kuwo.cn/*","*://www.xiami.com/*","*://music.baidu.com/*","*://www.qingting.fm/*","*://www.lizhi.fm/*","*://music.migu.cn/*","*://www.ximalaya.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null,"orig_connects":[]}},"storage":{"data":{},"ts":1574751670117},"enabled":true,"position":3,"file_url":"https://greasyfork.org/scripts/37058-%E5%85%A8%E7%BD%91%E9%9F%B3%E4%B9%90%E4%B8%80%E9%94%AE%E5%85%8D%E8%B4%B9%E4%B8%8B%E8%BD%BD-%E4%B8%80%E9%94%AE%E6%90%9C%E7%B4%A2-%E5%9C%A8%E7%BA%BF%E8%AF%95%E5%90%AC-%E9%AB%98%E6%B8%85%E5%93%81%E8%B4%A8%E8%AF%B7%E9%80%89%E6%8B%A9qq%E4%B8%8B%E8%BD%BD%E6%BA%90-2018-11-13%E6%9B%B4%E6%96%B0/code/%E5%85%A8%E7%BD%91%E9%9F%B3%E4%B9%90%E4%B8%80%E9%94%AE%E5%85%8D%E8%B4%B9%E4%B8%8B%E8%BD%BD%20%E4%B8%80%E9%94%AE%E6%90%9C%E7%B4%A2%20%E5%9C%A8%E7%BA%BF%E8%AF%95%E5%90%AC%20%E3%80%90%E9%AB%98%E6%B8%85%E5%93%81%E8%B4%A8%E8%AF%B7%E9%80%89%E6%8B%A9QQ%E4%B8%8B%E8%BD%BD%E6%BA%90%E3%80%9120181113%E6%9B%B4%E6%96%B0.user.js","uuid":"76372edc-0b91-42ae-9baa-74fc4c1216fa","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDlhajnvZHpn7PkuZDkuIDplK7lhY3otLnkuIvovb0g5LiA6ZSu5pCc57SiIOWcqOe6v+ivleWQrCAyMDE5LjEwLjnmm7TmlrAg5aKe5Yqg5omL5py656uvYXBwIOWFqOaWsOacjeWKoeWZqOWNleeLrOi/kOihjAovLyBAdmVyc2lvbiAgICAgIDIuNTExCi8vIEBob21lcGFnZSAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzM3MDU4Ci8vIEBtYXRjaCAgICAgICAgKjovL211c2ljLjE2My5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly95LnFxLmNvbS8qCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy5rdWdvdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly93d3cua3V3by5jbi8qCi8vIEBtYXRjaCAgICAgICAgKjovL3d3dy54aWFtaS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9tdXNpYy5iYWlkdS5jb20vKgovLyBAbWF0Y2ggICAgICAgICo6Ly93d3cucWluZ3RpbmcuZm0vKgovLyBAbWF0Y2ggICAgICAgICo6Ly93d3cubGl6aGkuZm0vKgovLyBAbWF0Y2ggICAgICAgICo6Ly9tdXNpYy5taWd1LmNuLyoKLy8gQG1hdGNoICAgICAgICAqOi8vd3d3LnhpbWFsYXlhLmNvbS8qCi8vIEBkZXNjcmlwdGlvbiAg5YWo572R6Z+z5LmQ5Zyo57q/6K+V5ZCsIOS4gOmUruWFjei0ueS4i+i9vSDkuIDplK7mkJzntKIg5o+Q5L6b5aSa56uZ5ZCI5LiAIOmfs+S5kOivleWQrCDpn7PkuZDkuIvovb0g6Z+z5LmQ5pCc57Si6Kej5Yaz5pa55qGI77yM572R5piT5LqR6Z+z5LmQ77yMUVHpn7PkuZDvvIzphbfni5fpn7PkuZDvvIzphbfmiJHpn7PkuZDvvIzomb7nsbPpn7PkuZDvvIznmb7luqbpn7PkuZDvvIzonLvonJNGTe+8jOiNlOaenUZN77yM5Zac6ams5ouJ6ZuFCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEByZXF1aXJlICAgICAgaHR0cDovL2Nkbi5ib290Y3NzLmNvbS9qcXVlcnkvMS44LjMvanF1ZXJ5Lm1pbi5qcwovLyBAaWNvbiAgICAgICAgIGh0dHA6Ly9tdXNpYy5zb25pbWVpLmNuL2Zhdmljb24uaWNvCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBuYW1lc3BhY2UgCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7CgkndXNlIHN0cmljdCc7Cgl2YXIgY3VyUGxheVNpdGUgPSAnJzsKCXZhciBjdXJXb3JkcyA9ICcnOwoJdmFyIHZpZGVvU2l0ZSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmOwoJdmFyIHJlV1kgPSAvMTYzKC4qKXNvbmcvaTsKCXZhciByZVFRID0gL1FRKC4qKXNvbmcvaTsKCXZhciByZUtHID0gL2t1Z291KC4qKXNvbmcvaTsKCXZhciByZUtXID0gL2t1d28oLiopeWlueXVlL2k7Cgl2YXIgcmVYTSA9IC94aWFtaS9pOwoJdmFyIHJlQkQgPSAvYmFpZHUvaTsKCXZhciByZVFUID0gL3Fpbmd0aW5nL2k7Cgl2YXIgcmVMWiA9IC9saXpoaS9pOwoJdmFyIHJlTUcgPSAvbWlndS9pOwoJdmFyIHJlWE1MWSA9IC94aW1hbGF5YS9pOwoJdmFyIHZpcEJ0biA9ICc8YSB0YXJnZXQ9Il9ibGFuayIgaWQ9IlZpcE11c2ljQnRuIiBzdHlsZT0ibWFyZ2luOjEwcHggMDtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjAgNXB4O2hlaWdodDoyMnB4O2JvcmRlcjoxcHggc29saWQgcmVkO2NvbG9yOnJlZDt2ZXJ0aWNhbC1hbGlnbjpib3R0b207dGV4dC1kZWNvcmF0aW9uOm5vbmU7Zm9udC1zaXplOjE3cHg7bGluZS1oZWlnaHQ6MjJweDtjdXJzb3I6cG9pbnRlcjsiPuS4gOmUruWFjei0ueS4i+i9vTwvYT4nOwoKICAvL+e9keaYk+S6kemfs+S5kAogIGlmKHJlV1kudGVzdCh2aWRlb1NpdGUpKXsKICAgIHZhciBUaXRsZSA9ICQoJy51LWljbi0zNycpOwogICAgVGl0bGUucGFyZW50KCcuaGQnKS5hZnRlcih2aXBCdG4pOwogICAgJCgnI1ZpcE11c2ljQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly93d3cuamJzb3UuY24vP3VybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoJ2h0dHA6Ly9tdXNpYy4xNjMuY29tJywgImh0dHA6Ly9tdXNpYy4xNjMuY29tLyMiKSkpOwogIH0KICAKICAvL1FR6Z+z5LmQCiAgaWYocmVRUS50ZXN0KHZpZGVvU2l0ZSkpewogICAgdmFyIFRpdGxlID0gJCgnLmRhdGFfX25hbWVfdHh0Jyk7CiAgICBUaXRsZS5wYXJlbnQoJy5kYXRhX19uYW1lJykuYWZ0ZXIodmlwQnRuKTsKICAgICQoJyNWaXBNdXNpY0J0bicpLmF0dHIoJ2hyZWYnLCdodHRwOi8vd3d3Lmpic291LmNuLz91cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpOwogIH0KICAKICAvL+mFt+eLl+mfs+S5kAogIGlmKHJlS0cudGVzdCh2aWRlb1NpdGUpKXsKCUtHYWRkKCk7CglzZXRJbnRlcnZhbChmdW5jdGlvbigpe0tHYWRkKCl9LDEwMDApOwoJZnVuY3Rpb24gS0dhZGQoKXsKCQlpZigkKCIjVmlwTXVzaWNCdG4iKS5sZW5ndGg9PTAgJiYgJCgiLmF1ZGlvTmFtZSIpLmxlbmd0aD4wKXsKCQkJdmFyIFRpdGxlID0gJCgnLmF1ZGlvTmFtZScpOwoJCQlUaXRsZS5wYXJlbnQoJy5zb25nTmFtZScpLmFmdGVyKHZpcEJ0bik7CgkJfQoJCSQoIiNWaXBNdXNpY0J0biIpLmF0dHIoImhyZWYiLCJodHRwOi8vd3d3Lmpic291LmNuLz91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpOwoJfQogIH0KCiAgLy/phbfmiJHpn7PkuZAKICBpZihyZUtXLnRlc3QodmlkZW9TaXRlKSl7CiAgICB2YXIgVGl0bGUgPSAkKCcjc2lubGVzRG93bkJ0bicpOwogICAgVGl0bGUucGFyZW50KCcuZG93bicpLmFmdGVyKHZpcEJ0bik7CiAgICAkKCcjVmlwTXVzaWNCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL3d3dy5qYnNvdS5jbi8/dXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpKTsKICB9CgogIC8v6Jm+57Gz6Z+z5LmQCiAgaWYocmVYTS50ZXN0KHZpZGVvU2l0ZSkpewogICAgdmFyIFRpdGxlID0gJCgnLnBsYXllcicpOwogICAgVGl0bGUucGFyZW50KCcuc29uZ19pbmZvJykuYWZ0ZXIodmlwQnRuKTsKICAgICQoJyNWaXBNdXNpY0J0bicpLmF0dHIoJ2hyZWYnLCdodHRwOi8vd3d3Lmpic291LmNuLz91cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpOwogIH0KICAKICAvL+eZvuW6pumfs+S5kAogIGlmKHJlQkQudGVzdCh2aWRlb1NpdGUpKXsKICAgIHZhciBUaXRsZSA9ICQoJy5zb25ncGFnZS10aXRsZScpOwogICAgVGl0bGUucGFyZW50KCcuc29uZycpLmFmdGVyKHZpcEJ0bik7CiAgICAkKCcjVmlwTXVzaWNCdG4nKS5hdHRyKCdocmVmJywnaHR0cDovL3d3dy5qYnNvdS5jbi8/dXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpKTsKICB9CiAgCiAgLy/onLvonJNGTQogIGlmKHJlUVQudGVzdCh2aWRlb1NpdGUpKXsKCVFUYWRkKCk7CglzZXRJbnRlcnZhbChmdW5jdGlvbigpe1FUYWRkKCl9LDEwMDApOwoJZnVuY3Rpb24gUVRhZGQoKXsKCQlpZigkKCIjVmlwTXVzaWNCdG4iKS5sZW5ndGg9PTAgJiYgJCgiLnNwcml0ZS1wcm9ncmFtIikubGVuZ3RoPjAgJiYgL3Fpbmd0aW5nKC4qKXByb2dyYW1zL2kudGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpewoJCQkkKCIuc3ByaXRlLXByb2dyYW0iKS5wYXJlbnQoKS5hZnRlcih2aXBCdG4pOwoJCX0KCQkkKCIjVmlwTXVzaWNCdG4iKS5hdHRyKCJocmVmIiwiaHR0cDovL3d3dy5qYnNvdS5jbi8/dXJsPSIgKyBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpKTsKCX0KICB9CgogIC8v6I2U5p6dRk0KICBpZihyZUxaLnRlc3QodmlkZW9TaXRlKSl7CiAgICB2YXIgVGl0bGUgPSAkKCcuYXVkaW9OYW1lJyk7CiAgICBUaXRsZS5wYXJlbnQoJy5hdWRpb0luZm8nKS5hZnRlcih2aXBCdG4pOwogICAgJCgnI1ZpcE11c2ljQnRuJykuYXR0cignaHJlZicsJ2h0dHA6Ly93d3cuamJzb3UuY24vP3VybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKSk7CiAgfQogIAogIC8v5Zac6ams5ouJ6ZuFCiAgaWYocmVYTUxZLnRlc3QodmlkZW9TaXRlKSl7CglYTWFkZCgpOwoJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtYTWFkZCgpfSwxMDAwKTsKCWZ1bmN0aW9uIFhNYWRkKCl7CgkJaWYoJCgiI1ZpcE11c2ljQnRuIikubGVuZ3RoPT0wICYmICQoIi5kZXRhaWxDb250ZW50X3RpdGxlIikubGVuZ3RoPjAgJiYgL3hpbWFsYXlhKC4qKXNvdW5kL2kudGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpewoJCQl2YXIgVGl0bGUgPSAkKCcuZGV0YWlsQ29udGVudF90aXRsZScpOwoJCQlUaXRsZS5wYXJlbnQoJy5yaWdodCcpLmFmdGVyKHZpcEJ0bik7CgkJfQoJCSQoIiNWaXBNdXNpY0J0biIpLmF0dHIoImhyZWYiLCJodHRwOi8vd3d3Lmpic291LmNuLz91cmw9IiArIGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZikpOwoJfQogIH0gCiAgCn0pKCk7","requires":[{"meta":{"name":"jquery.min.js","url":"http://cdn.bootcss.com/jquery/1.8.3/jquery.min.js","ts":1580989832040,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS44LjMganF1ZXJ5LmNvbSB8IGpxdWVyeS5vcmcvbGljZW5zZSAqLwooZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBfKGUpe3ZhciB0PU1bZV09e307cmV0dXJuIHYuZWFjaChlLnNwbGl0KHkpLGZ1bmN0aW9uKGUsbil7dFtuXT0hMH0pLHR9ZnVuY3Rpb24gSChlLG4scil7aWYocj09PXQmJmUubm9kZVR5cGU9PT0xKXt2YXIgaT0iZGF0YS0iK24ucmVwbGFjZShQLCItJDEiKS50b0xvd2VyQ2FzZSgpO3I9ZS5nZXRBdHRyaWJ1dGUoaSk7aWYodHlwZW9mIHI9PSJzdHJpbmciKXt0cnl7cj1yPT09InRydWUiPyEwOnI9PT0iZmFsc2UiPyExOnI9PT0ibnVsbCI/bnVsbDorcisiIj09PXI/K3I6RC50ZXN0KHIpP3YucGFyc2VKU09OKHIpOnJ9Y2F0Y2gocyl7fXYuZGF0YShlLG4scil9ZWxzZSByPXR9cmV0dXJuIHJ9ZnVuY3Rpb24gQihlKXt2YXIgdDtmb3IodCBpbiBlKXtpZih0PT09ImRhdGEiJiZ2LmlzRW1wdHlPYmplY3QoZVt0XSkpY29udGludWU7aWYodCE9PSJ0b0pTT04iKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGV0KCl7cmV0dXJuITF9ZnVuY3Rpb24gdHQoKXtyZXR1cm4hMH1mdW5jdGlvbiB1dChlKXtyZXR1cm4hZXx8IWUucGFyZW50Tm9kZXx8ZS5wYXJlbnROb2RlLm5vZGVUeXBlPT09MTF9ZnVuY3Rpb24gYXQoZSx0KXtkbyBlPWVbdF07d2hpbGUoZSYmZS5ub2RlVHlwZSE9PTEpO3JldHVybiBlfWZ1bmN0aW9uIGZ0KGUsdCxuKXt0PXR8fDA7aWYodi5pc0Z1bmN0aW9uKHQpKXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3ZhciBpPSEhdC5jYWxsKGUscixlKTtyZXR1cm4gaT09PW59KTtpZih0Lm5vZGVUeXBlKXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiBlPT09dD09PW59KTtpZih0eXBlb2YgdD09InN0cmluZyIpe3ZhciByPXYuZ3JlcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5vZGVUeXBlPT09MX0pO2lmKGl0LnRlc3QodCkpcmV0dXJuIHYuZmlsdGVyKHQsciwhbik7dD12LmZpbHRlcih0LHIpfXJldHVybiB2LmdyZXAoZSxmdW5jdGlvbihlLHIpe3JldHVybiB2LmluQXJyYXkoZSx0KT49MD09PW59KX1mdW5jdGlvbiBsdChlKXt2YXIgdD1jdC5zcGxpdCgifCIpLG49ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYobi5jcmVhdGVFbGVtZW50KXdoaWxlKHQubGVuZ3RoKW4uY3JlYXRlRWxlbWVudCh0LnBvcCgpKTtyZXR1cm4gbn1mdW5jdGlvbiBMdChlLHQpe3JldHVybiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHQpWzBdfHxlLmFwcGVuZENoaWxkKGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpKX1mdW5jdGlvbiBBdChlLHQpe2lmKHQubm9kZVR5cGUhPT0xfHwhdi5oYXNEYXRhKGUpKXJldHVybjt2YXIgbixyLGkscz12Ll9kYXRhKGUpLG89di5fZGF0YSh0LHMpLHU9cy5ldmVudHM7aWYodSl7ZGVsZXRlIG8uaGFuZGxlLG8uZXZlbnRzPXt9O2ZvcihuIGluIHUpZm9yKHI9MCxpPXVbbl0ubGVuZ3RoO3I8aTtyKyspdi5ldmVudC5hZGQodCxuLHVbbl1bcl0pfW8uZGF0YSYmKG8uZGF0YT12LmV4dGVuZCh7fSxvLmRhdGEpKX1mdW5jdGlvbiBPdChlLHQpe3ZhciBuO2lmKHQubm9kZVR5cGUhPT0xKXJldHVybjt0LmNsZWFyQXR0cmlidXRlcyYmdC5jbGVhckF0dHJpYnV0ZXMoKSx0Lm1lcmdlQXR0cmlidXRlcyYmdC5tZXJnZUF0dHJpYnV0ZXMoZSksbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksbj09PSJvYmplY3QiPyh0LnBhcmVudE5vZGUmJih0Lm91dGVySFRNTD1lLm91dGVySFRNTCksdi5zdXBwb3J0Lmh0bWw1Q2xvbmUmJmUuaW5uZXJIVE1MJiYhdi50cmltKHQuaW5uZXJIVE1MKSYmKHQuaW5uZXJIVE1MPWUuaW5uZXJIVE1MKSk6bj09PSJpbnB1dCImJkV0LnRlc3QoZS50eXBlKT8odC5kZWZhdWx0Q2hlY2tlZD10LmNoZWNrZWQ9ZS5jaGVja2VkLHQudmFsdWUhPT1lLnZhbHVlJiYodC52YWx1ZT1lLnZhbHVlKSk6bj09PSJvcHRpb24iP3Quc2VsZWN0ZWQ9ZS5kZWZhdWx0U2VsZWN0ZWQ6bj09PSJpbnB1dCJ8fG49PT0idGV4dGFyZWEiP3QuZGVmYXVsdFZhbHVlPWUuZGVmYXVsdFZhbHVlOm49PT0ic2NyaXB0IiYmdC50ZXh0IT09ZS50ZXh0JiYodC50ZXh0PWUudGV4dCksdC5yZW1vdmVBdHRyaWJ1dGUodi5leHBhbmRvKX1mdW5jdGlvbiBNdChlKXtyZXR1cm4gdHlwZW9mIGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2UuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTp0eXBlb2YgZS5xdWVyeVNlbGVjdG9yQWxsIT0idW5kZWZpbmVkIj9lLnF1ZXJ5U2VsZWN0b3JBbGwoIioiKTpbXX1mdW5jdGlvbiBfdChlKXtFdC50ZXN0KGUudHlwZSkmJihlLmRlZmF1bHRDaGVja2VkPWUuY2hlY2tlZCl9ZnVuY3Rpb24gUXQoZSx0KXtpZih0IGluIGUpcmV0dXJuIHQ7dmFyIG49dC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpLHI9dCxpPUp0Lmxlbmd0aDt3aGlsZShpLS0pe3Q9SnRbaV0rbjtpZih0IGluIGUpcmV0dXJuIHR9cmV0dXJuIHJ9ZnVuY3Rpb24gR3QoZSx0KXtyZXR1cm4gZT10fHxlLHYuY3NzKGUsImRpc3BsYXkiKT09PSJub25lInx8IXYuY29udGFpbnMoZS5vd25lckRvY3VtZW50LGUpfWZ1bmN0aW9uIFl0KGUsdCl7dmFyIG4scixpPVtdLHM9MCxvPWUubGVuZ3RoO2Zvcig7czxvO3MrKyl7bj1lW3NdO2lmKCFuLnN0eWxlKWNvbnRpbnVlO2lbc109di5fZGF0YShuLCJvbGRkaXNwbGF5IiksdD8oIWlbc10mJm4uc3R5bGUuZGlzcGxheT09PSJub25lIiYmKG4uc3R5bGUuZGlzcGxheT0iIiksbi5zdHlsZS5kaXNwbGF5PT09IiImJkd0KG4pJiYoaVtzXT12Ll9kYXRhKG4sIm9sZGRpc3BsYXkiLG5uKG4ubm9kZU5hbWUpKSkpOihyPUR0KG4sImRpc3BsYXkiKSwhaVtzXSYmciE9PSJub25lIiYmdi5fZGF0YShuLCJvbGRkaXNwbGF5IixyKSl9Zm9yKHM9MDtzPG87cysrKXtuPWVbc107aWYoIW4uc3R5bGUpY29udGludWU7aWYoIXR8fG4uc3R5bGUuZGlzcGxheT09PSJub25lInx8bi5zdHlsZS5kaXNwbGF5PT09IiIpbi5zdHlsZS5kaXNwbGF5PXQ/aVtzXXx8IiI6Im5vbmUifXJldHVybiBlfWZ1bmN0aW9uIFp0KGUsdCxuKXt2YXIgcj1SdC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsxXS0obnx8MCkpKyhyWzJdfHwicHgiKTp0fWZ1bmN0aW9uIGVuKGUsdCxuLHIpe3ZhciBpPW49PT0ocj8iYm9yZGVyIjoiY29udGVudCIpPzQ6dD09PSJ3aWR0aCI/MTowLHM9MDtmb3IoO2k8NDtpKz0yKW49PT0ibWFyZ2luIiYmKHMrPXYuY3NzKGUsbiskdFtpXSwhMCkpLHI/KG49PT0iY29udGVudCImJihzLT1wYXJzZUZsb2F0KER0KGUsInBhZGRpbmciKyR0W2ldKSl8fDApLG4hPT0ibWFyZ2luIiYmKHMtPXBhcnNlRmxvYXQoRHQoZSwiYm9yZGVyIiskdFtpXSsiV2lkdGgiKSl8fDApKToocys9cGFyc2VGbG9hdChEdChlLCJwYWRkaW5nIiskdFtpXSkpfHwwLG4hPT0icGFkZGluZyImJihzKz1wYXJzZUZsb2F0KER0KGUsImJvcmRlciIrJHRbaV0rIldpZHRoIikpfHwwKSk7cmV0dXJuIHN9ZnVuY3Rpb24gdG4oZSx0LG4pe3ZhciByPXQ9PT0id2lkdGgiP2Uub2Zmc2V0V2lkdGg6ZS5vZmZzZXRIZWlnaHQsaT0hMCxzPXYuc3VwcG9ydC5ib3hTaXppbmcmJnYuY3NzKGUsImJveFNpemluZyIpPT09ImJvcmRlci1ib3giO2lmKHI8PTB8fHI9PW51bGwpe3I9RHQoZSx0KTtpZihyPDB8fHI9PW51bGwpcj1lLnN0eWxlW3RdO2lmKFV0LnRlc3QocikpcmV0dXJuIHI7aT1zJiYodi5zdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlfHxyPT09ZS5zdHlsZVt0XSkscj1wYXJzZUZsb2F0KHIpfHwwfXJldHVybiByK2VuKGUsdCxufHwocz8iYm9yZGVyIjoiY29udGVudCIpLGkpKyJweCJ9ZnVuY3Rpb24gbm4oZSl7aWYoV3RbZV0pcmV0dXJuIFd0W2VdO3ZhciB0PXYoIjwiK2UrIj4iKS5hcHBlbmRUbyhpLmJvZHkpLG49dC5jc3MoImRpc3BsYXkiKTt0LnJlbW92ZSgpO2lmKG49PT0ibm9uZSJ8fG49PT0iIil7UHQ9aS5ib2R5LmFwcGVuZENoaWxkKFB0fHx2LmV4dGVuZChpLmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLHtmcmFtZUJvcmRlcjowLHdpZHRoOjAsaGVpZ2h0OjB9KSk7aWYoIUh0fHwhUHQuY3JlYXRlRWxlbWVudClIdD0oUHQuY29udGVudFdpbmRvd3x8UHQuY29udGVudERvY3VtZW50KS5kb2N1bWVudCxIdC53cml0ZSgiPCFkb2N0eXBlIGh0bWw+PGh0bWw+PGJvZHk+IiksSHQuY2xvc2UoKTt0PUh0LmJvZHkuYXBwZW5kQ2hpbGQoSHQuY3JlYXRlRWxlbWVudChlKSksbj1EdCh0LCJkaXNwbGF5IiksaS5ib2R5LnJlbW92ZUNoaWxkKFB0KX1yZXR1cm4gV3RbZV09bixufWZ1bmN0aW9uIGZuKGUsdCxuLHIpe3ZhciBpO2lmKHYuaXNBcnJheSh0KSl2LmVhY2godCxmdW5jdGlvbih0LGkpe258fHNuLnRlc3QoZSk/cihlLGkpOmZuKGUrIlsiKyh0eXBlb2YgaT09Im9iamVjdCI/dDoiIikrIl0iLGksbixyKX0pO2Vsc2UgaWYoIW4mJnYudHlwZSh0KT09PSJvYmplY3QiKWZvcihpIGluIHQpZm4oZSsiWyIraSsiXSIsdFtpXSxuLHIpO2Vsc2UgcihlLHQpfWZ1bmN0aW9uIENuKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3R5cGVvZiB0IT0ic3RyaW5nIiYmKG49dCx0PSIqIik7dmFyIHIsaSxzLG89dC50b0xvd2VyQ2FzZSgpLnNwbGl0KHkpLHU9MCxhPW8ubGVuZ3RoO2lmKHYuaXNGdW5jdGlvbihuKSlmb3IoO3U8YTt1Kyspcj1vW3VdLHM9L15cKy8udGVzdChyKSxzJiYocj1yLnN1YnN0cigxKXx8IioiKSxpPWVbcl09ZVtyXXx8W10saVtzPyJ1bnNoaWZ0IjoicHVzaCJdKG4pfX1mdW5jdGlvbiBrbihlLG4scixpLHMsbyl7cz1zfHxuLmRhdGFUeXBlc1swXSxvPW98fHt9LG9bc109ITA7dmFyIHUsYT1lW3NdLGY9MCxsPWE/YS5sZW5ndGg6MCxjPWU9PT1Tbjtmb3IoO2Y8bCYmKGN8fCF1KTtmKyspdT1hW2ZdKG4scixpKSx0eXBlb2YgdT09InN0cmluZyImJighY3x8b1t1XT91PXQ6KG4uZGF0YVR5cGVzLnVuc2hpZnQodSksdT1rbihlLG4scixpLHUsbykpKTtyZXR1cm4oY3x8IXUpJiYhb1siKiJdJiYodT1rbihlLG4scixpLCIqIixvKSksdX1mdW5jdGlvbiBMbihlLG4pe3ZhciByLGkscz12LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKHIgaW4gbiluW3JdIT09dCYmKChzW3JdP2U6aXx8KGk9e30pKVtyXT1uW3JdKTtpJiZ2LmV4dGVuZCghMCxlLGkpfWZ1bmN0aW9uIEFuKGUsbixyKXt2YXIgaSxzLG8sdSxhPWUuY29udGVudHMsZj1lLmRhdGFUeXBlcyxsPWUucmVzcG9uc2VGaWVsZHM7Zm9yKHMgaW4gbClzIGluIHImJihuW2xbc11dPXJbc10pO3doaWxlKGZbMF09PT0iKiIpZi5zaGlmdCgpLGk9PT10JiYoaT1lLm1pbWVUeXBlfHxuLmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKSk7aWYoaSlmb3IocyBpbiBhKWlmKGFbc10mJmFbc10udGVzdChpKSl7Zi51bnNoaWZ0KHMpO2JyZWFrfWlmKGZbMF1pbiByKW89ZlswXTtlbHNle2ZvcihzIGluIHIpe2lmKCFmWzBdfHxlLmNvbnZlcnRlcnNbcysiICIrZlswXV0pe289czticmVha311fHwodT1zKX1vPW98fHV9aWYobylyZXR1cm4gbyE9PWZbMF0mJmYudW5zaGlmdChvKSxyW29dfWZ1bmN0aW9uIE9uKGUsdCl7dmFyIG4scixpLHMsbz1lLmRhdGFUeXBlcy5zbGljZSgpLHU9b1swXSxhPXt9LGY9MDtlLmRhdGFGaWx0ZXImJih0PWUuZGF0YUZpbHRlcih0LGUuZGF0YVR5cGUpKTtpZihvWzFdKWZvcihuIGluIGUuY29udmVydGVycylhW24udG9Mb3dlckNhc2UoKV09ZS5jb252ZXJ0ZXJzW25dO2Zvcig7aT1vWysrZl07KWlmKGkhPT0iKiIpe2lmKHUhPT0iKiImJnUhPT1pKXtuPWFbdSsiICIraV18fGFbIiogIitpXTtpZighbilmb3IociBpbiBhKXtzPXIuc3BsaXQoIiAiKTtpZihzWzFdPT09aSl7bj1hW3UrIiAiK3NbMF1dfHxhWyIqICIrc1swXV07aWYobil7bj09PSEwP249YVtyXTphW3JdIT09ITAmJihpPXNbMF0sby5zcGxpY2UoZi0tLDAsaSkpO2JyZWFrfX19aWYobiE9PSEwKWlmKG4mJmVbInRocm93cyJdKXQ9bih0KTtlbHNlIHRyeXt0PW4odCl9Y2F0Y2gobCl7cmV0dXJue3N0YXRlOiJwYXJzZXJlcnJvciIsZXJyb3I6bj9sOiJObyBjb252ZXJzaW9uIGZyb20gIit1KyIgdG8gIitpfX19dT1pfXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTp0fX1mdW5jdGlvbiBGbigpe3RyeXtyZXR1cm4gbmV3IGUuWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7fX1mdW5jdGlvbiBJbigpe3RyeXtyZXR1cm4gbmV3IGUuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaCh0KXt9fWZ1bmN0aW9uICRuKCl7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxbj10fSwwKSxxbj12Lm5vdygpfWZ1bmN0aW9uIEpuKGUsdCl7di5lYWNoKHQsZnVuY3Rpb24odCxuKXt2YXIgcj0oVm5bdF18fFtdKS5jb25jYXQoVm5bIioiXSksaT0wLHM9ci5sZW5ndGg7Zm9yKDtpPHM7aSsrKWlmKHJbaV0uY2FsbChlLHQsbikpcmV0dXJufSl9ZnVuY3Rpb24gS24oZSx0LG4pe3ZhciByLGk9MCxzPTAsbz1Ybi5sZW5ndGgsdT12LkRlZmVycmVkKCkuYWx3YXlzKGZ1bmN0aW9uKCl7ZGVsZXRlIGEuZWxlbX0pLGE9ZnVuY3Rpb24oKXt2YXIgdD1xbnx8JG4oKSxuPU1hdGgubWF4KDAsZi5zdGFydFRpbWUrZi5kdXJhdGlvbi10KSxyPW4vZi5kdXJhdGlvbnx8MCxpPTEtcixzPTAsbz1mLnR3ZWVucy5sZW5ndGg7Zm9yKDtzPG87cysrKWYudHdlZW5zW3NdLnJ1bihpKTtyZXR1cm4gdS5ub3RpZnlXaXRoKGUsW2YsaSxuXSksaTwxJiZvP246KHUucmVzb2x2ZVdpdGgoZSxbZl0pLCExKX0sZj11LnByb21pc2Uoe2VsZW06ZSxwcm9wczp2LmV4dGVuZCh7fSx0KSxvcHRzOnYuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9fSxuKSxvcmlnaW5hbFByb3BlcnRpZXM6dCxvcmlnaW5hbE9wdGlvbnM6bixzdGFydFRpbWU6cW58fCRuKCksZHVyYXRpb246bi5kdXJhdGlvbix0d2VlbnM6W10sY3JlYXRlVHdlZW46ZnVuY3Rpb24odCxuLHIpe3ZhciBpPXYuVHdlZW4oZSxmLm9wdHMsdCxuLGYub3B0cy5zcGVjaWFsRWFzaW5nW3RdfHxmLm9wdHMuZWFzaW5nKTtyZXR1cm4gZi50d2VlbnMucHVzaChpKSxpfSxzdG9wOmZ1bmN0aW9uKHQpe3ZhciBuPTAscj10P2YudHdlZW5zLmxlbmd0aDowO2Zvcig7bjxyO24rKylmLnR3ZWVuc1tuXS5ydW4oMSk7cmV0dXJuIHQ/dS5yZXNvbHZlV2l0aChlLFtmLHRdKTp1LnJlamVjdFdpdGgoZSxbZix0XSksdGhpc319KSxsPWYucHJvcHM7UW4obCxmLm9wdHMuc3BlY2lhbEVhc2luZyk7Zm9yKDtpPG87aSsrKXtyPVhuW2ldLmNhbGwoZixlLGwsZi5vcHRzKTtpZihyKXJldHVybiByfXJldHVybiBKbihmLGwpLHYuaXNGdW5jdGlvbihmLm9wdHMuc3RhcnQpJiZmLm9wdHMuc3RhcnQuY2FsbChlLGYpLHYuZngudGltZXIodi5leHRlbmQoYSx7YW5pbTpmLHF1ZXVlOmYub3B0cy5xdWV1ZSxlbGVtOmV9KSksZi5wcm9ncmVzcyhmLm9wdHMucHJvZ3Jlc3MpLmRvbmUoZi5vcHRzLmRvbmUsZi5vcHRzLmNvbXBsZXRlKS5mYWlsKGYub3B0cy5mYWlsKS5hbHdheXMoZi5vcHRzLmFsd2F5cyl9ZnVuY3Rpb24gUW4oZSx0KXt2YXIgbixyLGkscyxvO2ZvcihuIGluIGUpe3I9di5jYW1lbENhc2UobiksaT10W3JdLHM9ZVtuXSx2LmlzQXJyYXkocykmJihpPXNbMV0scz1lW25dPXNbMF0pLG4hPT1yJiYoZVtyXT1zLGRlbGV0ZSBlW25dKSxvPXYuY3NzSG9va3Nbcl07aWYobyYmImV4cGFuZCJpbiBvKXtzPW8uZXhwYW5kKHMpLGRlbGV0ZSBlW3JdO2ZvcihuIGluIHMpbiBpbiBlfHwoZVtuXT1zW25dLHRbbl09aSl9ZWxzZSB0W3JdPWl9fWZ1bmN0aW9uIEduKGUsdCxuKXt2YXIgcixpLHMsbyx1LGEsZixsLGMsaD10aGlzLHA9ZS5zdHlsZSxkPXt9LG09W10sZz1lLm5vZGVUeXBlJiZHdChlKTtuLnF1ZXVlfHwobD12Ll9xdWV1ZUhvb2tzKGUsImZ4IiksbC51bnF1ZXVlZD09bnVsbCYmKGwudW5xdWV1ZWQ9MCxjPWwuZW1wdHkuZmlyZSxsLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtsLnVucXVldWVkfHxjKCl9KSxsLnVucXVldWVkKyssaC5hbHdheXMoZnVuY3Rpb24oKXtoLmFsd2F5cyhmdW5jdGlvbigpe2wudW5xdWV1ZWQtLSx2LnF1ZXVlKGUsImZ4IikubGVuZ3RofHxsLmVtcHR5LmZpcmUoKX0pfSkpLGUubm9kZVR5cGU9PT0xJiYoImhlaWdodCJpbiB0fHwid2lkdGgiaW4gdCkmJihuLm92ZXJmbG93PVtwLm92ZXJmbG93LHAub3ZlcmZsb3dYLHAub3ZlcmZsb3dZXSx2LmNzcyhlLCJkaXNwbGF5Iik9PT0iaW5saW5lIiYmdi5jc3MoZSwiZmxvYXQiKT09PSJub25lIiYmKCF2LnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dHx8bm4oZS5ub2RlTmFtZSk9PT0iaW5saW5lIj9wLmRpc3BsYXk9ImlubGluZS1ibG9jayI6cC56b29tPTEpKSxuLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIix2LnN1cHBvcnQuc2hyaW5rV3JhcEJsb2Nrc3x8aC5kb25lKGZ1bmN0aW9uKCl7cC5vdmVyZmxvdz1uLm92ZXJmbG93WzBdLHAub3ZlcmZsb3dYPW4ub3ZlcmZsb3dbMV0scC5vdmVyZmxvd1k9bi5vdmVyZmxvd1syXX0pKTtmb3IociBpbiB0KXtzPXRbcl07aWYoVW4uZXhlYyhzKSl7ZGVsZXRlIHRbcl0sYT1hfHxzPT09InRvZ2dsZSI7aWYocz09PShnPyJoaWRlIjoic2hvdyIpKWNvbnRpbnVlO20ucHVzaChyKX19bz1tLmxlbmd0aDtpZihvKXt1PXYuX2RhdGEoZSwiZnhzaG93Iil8fHYuX2RhdGEoZSwiZnhzaG93Iix7fSksImhpZGRlbiJpbiB1JiYoZz11LmhpZGRlbiksYSYmKHUuaGlkZGVuPSFnKSxnP3YoZSkuc2hvdygpOmguZG9uZShmdW5jdGlvbigpe3YoZSkuaGlkZSgpfSksaC5kb25lKGZ1bmN0aW9uKCl7dmFyIHQ7di5yZW1vdmVEYXRhKGUsImZ4c2hvdyIsITApO2Zvcih0IGluIGQpdi5zdHlsZShlLHQsZFt0XSl9KTtmb3Iocj0wO3I8bztyKyspaT1tW3JdLGY9aC5jcmVhdGVUd2VlbihpLGc/dVtpXTowKSxkW2ldPXVbaV18fHYuc3R5bGUoZSxpKSxpIGluIHV8fCh1W2ldPWYuc3RhcnQsZyYmKGYuZW5kPWYuc3RhcnQsZi5zdGFydD1pPT09IndpZHRoInx8aT09PSJoZWlnaHQiPzE6MCkpfX1mdW5jdGlvbiBZbihlLHQsbixyLGkpe3JldHVybiBuZXcgWW4ucHJvdG90eXBlLmluaXQoZSx0LG4scixpKX1mdW5jdGlvbiBabihlLHQpe3ZhciBuLHI9e2hlaWdodDplfSxpPTA7dD10PzE6MDtmb3IoO2k8NDtpKz0yLXQpbj0kdFtpXSxyWyJtYXJnaW4iK25dPXJbInBhZGRpbmciK25dPWU7cmV0dXJuIHQmJihyLm9wYWNpdHk9ci53aWR0aD1lKSxyfWZ1bmN0aW9uIHRyKGUpe3JldHVybiB2LmlzV2luZG93KGUpP2U6ZS5ub2RlVHlwZT09PTk/ZS5kZWZhdWx0Vmlld3x8ZS5wYXJlbnRXaW5kb3c6ITF9dmFyIG4scixpPWUuZG9jdW1lbnQscz1lLmxvY2F0aW9uLG89ZS5uYXZpZ2F0b3IsdT1lLmpRdWVyeSxhPWUuJCxmPUFycmF5LnByb3RvdHlwZS5wdXNoLGw9QXJyYXkucHJvdG90eXBlLnNsaWNlLGM9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsaD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxkPVN0cmluZy5wcm90b3R5cGUudHJpbSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyB2LmZuLmluaXQoZSx0LG4pfSxtPS9bXC0rXT8oPzpcZCpcLnwpXGQrKD86W2VFXVtcLStdP1xkK3wpLy5zb3VyY2UsZz0vXFMvLHk9L1xzKy8sYj0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2csdz0vXig/OlteIzxdKig8W1x3XFddKz4pW14+XSokfCMoW1x3XC1dKikkKS8sRT0vXjwoXHcrKVxzKlwvPz4oPzo8XC9cMT58KSQvLFM9L15bXF0sOnt9XHNdKiQvLHg9Lyg/Ol58OnwsKSg/OlxzKlxbKSsvZyxUPS9cXCg/OlsiXFxcL2JmbnJ0XXx1W1xkYS1mQS1GXXs0fSkvZyxOPS8iW14iXFxcclxuXSoifHRydWV8ZmFsc2V8bnVsbHwtPyg/OlxkXGQqXC58KVxkKyg/OltlRV1bXC0rXT9cZCt8KS9nLEM9L14tbXMtLyxrPS8tKFtcZGEtel0pL2dpLEw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4odCsiIikudG9VcHBlckNhc2UoKX0sQT1mdW5jdGlvbigpe2kuYWRkRXZlbnRMaXN0ZW5lcj8oaS5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixBLCExKSx2LnJlYWR5KCkpOmkucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihpLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLEEpLHYucmVhZHkoKSl9LE89e307di5mbj12LnByb3RvdHlwZT17Y29uc3RydWN0b3I6dixpbml0OmZ1bmN0aW9uKGUsbixyKXt2YXIgcyxvLHUsYTtpZighZSlyZXR1cm4gdGhpcztpZihlLm5vZGVUeXBlKXJldHVybiB0aGlzLmNvbnRleHQ9dGhpc1swXT1lLHRoaXMubGVuZ3RoPTEsdGhpcztpZih0eXBlb2YgZT09InN0cmluZyIpe2UuY2hhckF0KDApPT09IjwiJiZlLmNoYXJBdChlLmxlbmd0aC0xKT09PSI+IiYmZS5sZW5ndGg+PTM/cz1bbnVsbCxlLG51bGxdOnM9dy5leGVjKGUpO2lmKHMmJihzWzFdfHwhbikpe2lmKHNbMV0pcmV0dXJuIG49biBpbnN0YW5jZW9mIHY/blswXTpuLGE9biYmbi5ub2RlVHlwZT9uLm93bmVyRG9jdW1lbnR8fG46aSxlPXYucGFyc2VIVE1MKHNbMV0sYSwhMCksRS50ZXN0KHNbMV0pJiZ2LmlzUGxhaW5PYmplY3QobikmJnRoaXMuYXR0ci5jYWxsKGUsbiwhMCksdi5tZXJnZSh0aGlzLGUpO289aS5nZXRFbGVtZW50QnlJZChzWzJdKTtpZihvJiZvLnBhcmVudE5vZGUpe2lmKG8uaWQhPT1zWzJdKXJldHVybiByLmZpbmQoZSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPW99cmV0dXJuIHRoaXMuY29udGV4dD1pLHRoaXMuc2VsZWN0b3I9ZSx0aGlzfXJldHVybiFufHxuLmpxdWVyeT8obnx8cikuZmluZChlKTp0aGlzLmNvbnN0cnVjdG9yKG4pLmZpbmQoZSl9cmV0dXJuIHYuaXNGdW5jdGlvbihlKT9yLnJlYWR5KGUpOihlLnNlbGVjdG9yIT09dCYmKHRoaXMuc2VsZWN0b3I9ZS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9ZS5jb250ZXh0KSx2Lm1ha2VBcnJheShlLHRoaXMpKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjguMyIsbGVuZ3RoOjAsc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBsLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihlKXtyZXR1cm4gZT09bnVsbD90aGlzLnRvQXJyYXkoKTplPDA/dGhpc1t0aGlzLmxlbmd0aCtlXTp0aGlzW2VdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXYubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGUpO3JldHVybiByLnByZXZPYmplY3Q9dGhpcyxyLmNvbnRleHQ9dGhpcy5jb250ZXh0LHQ9PT0iZmluZCI/ci5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrbjp0JiYoci5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIit0KyIoIituKyIpIikscn0sZWFjaDpmdW5jdGlvbihlLHQpe3JldHVybiB2LmVhY2godGhpcyxlLHQpfSxyZWFkeTpmdW5jdGlvbihlKXtyZXR1cm4gdi5yZWFkeS5wcm9taXNlKCkuZG9uZShlKSx0aGlzfSxlcTpmdW5jdGlvbihlKXtyZXR1cm4gZT0rZSxlPT09LTE/dGhpcy5zbGljZShlKTp0aGlzLnNsaWNlKGUsZSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobC5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixsLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWFwKHRoaXMsZnVuY3Rpb24odCxuKXtyZXR1cm4gZS5jYWxsKHQsbix0KX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpmLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSx2LmZuLmluaXQucHJvdG90eXBlPXYuZm4sdi5leHRlbmQ9di5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgZSxuLHIsaSxzLG8sdT1hcmd1bWVudHNbMF18fHt9LGE9MSxmPWFyZ3VtZW50cy5sZW5ndGgsbD0hMTt0eXBlb2YgdT09ImJvb2xlYW4iJiYobD11LHU9YXJndW1lbnRzWzFdfHx7fSxhPTIpLHR5cGVvZiB1IT0ib2JqZWN0IiYmIXYuaXNGdW5jdGlvbih1KSYmKHU9e30pLGY9PT1hJiYodT10aGlzLC0tYSk7Zm9yKDthPGY7YSsrKWlmKChlPWFyZ3VtZW50c1thXSkhPW51bGwpZm9yKG4gaW4gZSl7cj11W25dLGk9ZVtuXTtpZih1PT09aSljb250aW51ZTtsJiZpJiYodi5pc1BsYWluT2JqZWN0KGkpfHwocz12LmlzQXJyYXkoaSkpKT8ocz8ocz0hMSxvPXImJnYuaXNBcnJheShyKT9yOltdKTpvPXImJnYuaXNQbGFpbk9iamVjdChyKT9yOnt9LHVbbl09di5leHRlbmQobCxvLGkpKTppIT09dCYmKHVbbl09aSl9cmV0dXJuIHV9LHYuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKHQpe3JldHVybiBlLiQ9PT12JiYoZS4kPWEpLHQmJmUualF1ZXJ5PT09diYmKGUualF1ZXJ5PXUpLHZ9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGUpe2U/di5yZWFkeVdhaXQrKzp2LnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oZSl7aWYoZT09PSEwPy0tdi5yZWFkeVdhaXQ6di5pc1JlYWR5KXJldHVybjtpZighaS5ib2R5KXJldHVybiBzZXRUaW1lb3V0KHYucmVhZHksMSk7di5pc1JlYWR5PSEwO2lmKGUhPT0hMCYmLS12LnJlYWR5V2FpdD4wKXJldHVybjtyLnJlc29sdmVXaXRoKGksW3ZdKSx2LmZuLnRyaWdnZXImJnYoaSkudHJpZ2dlcigicmVhZHkiKS5vZmYoInJlYWR5Iil9LGlzRnVuY3Rpb246ZnVuY3Rpb24oZSl7cmV0dXJuIHYudHlwZShlKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIHYudHlwZShlKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKGUpe3JldHVybiBlIT1udWxsJiZlPT1lLndpbmRvd30saXNOdW1lcmljOmZ1bmN0aW9uKGUpe3JldHVybiFpc05hTihwYXJzZUZsb2F0KGUpKSYmaXNGaW5pdGUoZSl9LHR5cGU6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGw/U3RyaW5nKGUpOk9baC5jYWxsKGUpXXx8Im9iamVjdCJ9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oZSl7aWYoIWV8fHYudHlwZShlKSE9PSJvYmplY3QifHxlLm5vZGVUeXBlfHx2LmlzV2luZG93KGUpKXJldHVybiExO3RyeXtpZihlLmNvbnN0cnVjdG9yJiYhcC5jYWxsKGUsImNvbnN0cnVjdG9yIikmJiFwLmNhbGwoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMX1jYXRjaChuKXtyZXR1cm4hMX12YXIgcjtmb3IociBpbiBlKTtyZXR1cm4gcj09PXR8fHAuY2FsbChlLHIpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0O2Zvcih0IGluIGUpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihlKX0scGFyc2VIVE1MOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtyZXR1cm4hZXx8dHlwZW9mIGUhPSJzdHJpbmciP251bGw6KHR5cGVvZiB0PT0iYm9vbGVhbiImJihuPXQsdD0wKSx0PXR8fGksKHI9RS5leGVjKGUpKT9bdC5jcmVhdGVFbGVtZW50KHJbMV0pXToocj12LmJ1aWxkRnJhZ21lbnQoW2VdLHQsbj9udWxsOltdKSx2Lm1lcmdlKFtdLChyLmNhY2hlYWJsZT92LmNsb25lKHIuZnJhZ21lbnQpOnIuZnJhZ21lbnQpLmNoaWxkTm9kZXMpKSl9LHBhcnNlSlNPTjpmdW5jdGlvbih0KXtpZighdHx8dHlwZW9mIHQhPSJzdHJpbmciKXJldHVybiBudWxsO3Q9di50cmltKHQpO2lmKGUuSlNPTiYmZS5KU09OLnBhcnNlKXJldHVybiBlLkpTT04ucGFyc2UodCk7aWYoUy50ZXN0KHQucmVwbGFjZShULCJAIikucmVwbGFjZShOLCJdIikucmVwbGFjZSh4LCIiKSkpcmV0dXJuKG5ldyBGdW5jdGlvbigicmV0dXJuICIrdCkpKCk7di5lcnJvcigiSW52YWxpZCBKU09OOiAiK3QpfSxwYXJzZVhNTDpmdW5jdGlvbihuKXt2YXIgcixpO2lmKCFufHx0eXBlb2YgbiE9InN0cmluZyIpcmV0dXJuIG51bGw7dHJ5e2UuRE9NUGFyc2VyPyhpPW5ldyBET01QYXJzZXIscj1pLnBhcnNlRnJvbVN0cmluZyhuLCJ0ZXh0L3htbCIpKToocj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLHIuYXN5bmM9ImZhbHNlIixyLmxvYWRYTUwobikpfWNhdGNoKHMpe3I9dH1yZXR1cm4oIXJ8fCFyLmRvY3VtZW50RWxlbWVudHx8ci5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGgpJiZ2LmVycm9yKCJJbnZhbGlkIFhNTDogIituKSxyfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKHQpe3QmJmcudGVzdCh0KSYmKGUuZXhlY1NjcmlwdHx8ZnVuY3Rpb24odCl7ZS5ldmFsLmNhbGwoZSx0KX0pKHQpfSxjYW1lbENhc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZShDLCJtcy0iKS5yZXBsYWNlKGssTCl9LG5vZGVOYW1lOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihlLG4scil7dmFyIGkscz0wLG89ZS5sZW5ndGgsdT1vPT09dHx8di5pc0Z1bmN0aW9uKGUpO2lmKHIpe2lmKHUpe2ZvcihpIGluIGUpaWYobi5hcHBseShlW2ldLHIpPT09ITEpYnJlYWt9ZWxzZSBmb3IoO3M8bzspaWYobi5hcHBseShlW3MrK10scik9PT0hMSlicmVha31lbHNlIGlmKHUpe2ZvcihpIGluIGUpaWYobi5jYWxsKGVbaV0saSxlW2ldKT09PSExKWJyZWFrfWVsc2UgZm9yKDtzPG87KWlmKG4uY2FsbChlW3NdLHMsZVtzKytdKT09PSExKWJyZWFrO3JldHVybiBlfSx0cmltOmQmJiFkLmNhbGwoIlx1ZmVmZlx1MDBhMCIpP2Z1bmN0aW9uKGUpe3JldHVybiBlPT1udWxsPyIiOmQuY2FsbChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PW51bGw/IiI6KGUrIiIpLnJlcGxhY2UoYiwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9dHx8W107cmV0dXJuIGUhPW51bGwmJihuPXYudHlwZShlKSxlLmxlbmd0aD09bnVsbHx8bj09PSJzdHJpbmcifHxuPT09ImZ1bmN0aW9uInx8bj09PSJyZWdleHAifHx2LmlzV2luZG93KGUpP2YuY2FsbChyLGUpOnYubWVyZ2UocixlKSkscn0saW5BcnJheTpmdW5jdGlvbihlLHQsbil7dmFyIHI7aWYodCl7aWYoYylyZXR1cm4gYy5jYWxsKHQsZSxuKTtyPXQubGVuZ3RoLG49bj9uPDA/TWF0aC5tYXgoMCxyK24pOm46MDtmb3IoO248cjtuKyspaWYobiBpbiB0JiZ0W25dPT09ZSlyZXR1cm4gbn1yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oZSxuKXt2YXIgcj1uLmxlbmd0aCxpPWUubGVuZ3RoLHM9MDtpZih0eXBlb2Ygcj09Im51bWJlciIpZm9yKDtzPHI7cysrKWVbaSsrXT1uW3NdO2Vsc2Ugd2hpbGUobltzXSE9PXQpZVtpKytdPW5bcysrXTtyZXR1cm4gZS5sZW5ndGg9aSxlfSxncmVwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpPVtdLHM9MCxvPWUubGVuZ3RoO249ISFuO2Zvcig7czxvO3MrKylyPSEhdChlW3NdLHMpLG4hPT1yJiZpLnB1c2goZVtzXSk7cmV0dXJuIGl9LG1hcDpmdW5jdGlvbihlLG4scil7dmFyIGkscyxvPVtdLHU9MCxhPWUubGVuZ3RoLGY9ZSBpbnN0YW5jZW9mIHZ8fGEhPT10JiZ0eXBlb2YgYT09Im51bWJlciImJihhPjAmJmVbMF0mJmVbYS0xXXx8YT09PTB8fHYuaXNBcnJheShlKSk7aWYoZilmb3IoO3U8YTt1KyspaT1uKGVbdV0sdSxyKSxpIT1udWxsJiYob1tvLmxlbmd0aF09aSk7ZWxzZSBmb3IocyBpbiBlKWk9bihlW3NdLHMsciksaSE9bnVsbCYmKG9bby5sZW5ndGhdPWkpO3JldHVybiBvLmNvbmNhdC5hcHBseShbXSxvKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGUsbil7dmFyIHIsaSxzO3JldHVybiB0eXBlb2Ygbj09InN0cmluZyImJihyPWVbbl0sbj1lLGU9ciksdi5pc0Z1bmN0aW9uKGUpPyhpPWwuY2FsbChhcmd1bWVudHMsMikscz1mdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG4saS5jb25jYXQobC5jYWxsKGFyZ3VtZW50cykpKX0scy5ndWlkPWUuZ3VpZD1lLmd1aWR8fHYuZ3VpZCsrLHMpOnR9LGFjY2VzczpmdW5jdGlvbihlLG4scixpLHMsbyx1KXt2YXIgYSxmPXI9PW51bGwsbD0wLGM9ZS5sZW5ndGg7aWYociYmdHlwZW9mIHI9PSJvYmplY3QiKXtmb3IobCBpbiByKXYuYWNjZXNzKGUsbixsLHJbbF0sMSxvLGkpO3M9MX1lbHNlIGlmKGkhPT10KXthPXU9PT10JiZ2LmlzRnVuY3Rpb24oaSksZiYmKGE/KGE9bixuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYS5jYWxsKHYoZSksbil9KToobi5jYWxsKGUsaSksbj1udWxsKSk7aWYobilmb3IoO2w8YztsKyspbihlW2xdLHIsYT9pLmNhbGwoZVtsXSxsLG4oZVtsXSxyKSk6aSx1KTtzPTF9cmV0dXJuIHM/ZTpmP24uY2FsbChlKTpjP24oZVswXSxyKTpvfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX19KSx2LnJlYWR5LnByb21pc2U9ZnVuY3Rpb24odCl7aWYoIXIpe3I9di5EZWZlcnJlZCgpO2lmKGkucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpc2V0VGltZW91dCh2LnJlYWR5LDEpO2Vsc2UgaWYoaS5hZGRFdmVudExpc3RlbmVyKWkuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsQSwhMSksZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix2LnJlYWR5LCExKTtlbHNle2kuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQSksZS5hdHRhY2hFdmVudCgib25sb2FkIix2LnJlYWR5KTt2YXIgbj0hMTt0cnl7bj1lLmZyYW1lRWxlbWVudD09bnVsbCYmaS5kb2N1bWVudEVsZW1lbnR9Y2F0Y2gocyl7fW4mJm4uZG9TY3JvbGwmJmZ1bmN0aW9uIG8oKXtpZighdi5pc1JlYWR5KXt0cnl7bi5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGUpe3JldHVybiBzZXRUaW1lb3V0KG8sNTApfXYucmVhZHkoKX19KCl9fXJldHVybiByLnByb21pc2UodCl9LHYuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihlLHQpe09bIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSksbj12KGkpO3ZhciBNPXt9O3YuQ2FsbGJhY2tzPWZ1bmN0aW9uKGUpe2U9dHlwZW9mIGU9PSJzdHJpbmciP01bZV18fF8oZSk6di5leHRlbmQoe30sZSk7dmFyIG4scixpLHMsbyx1LGE9W10sZj0hZS5vbmNlJiZbXSxsPWZ1bmN0aW9uKHQpe249ZS5tZW1vcnkmJnQscj0hMCx1PXN8fDAscz0wLG89YS5sZW5ndGgsaT0hMDtmb3IoO2EmJnU8bzt1KyspaWYoYVt1XS5hcHBseSh0WzBdLHRbMV0pPT09ITEmJmUuc3RvcE9uRmFsc2Upe249ITE7YnJlYWt9aT0hMSxhJiYoZj9mLmxlbmd0aCYmbChmLnNoaWZ0KCkpOm4/YT1bXTpjLmRpc2FibGUoKSl9LGM9e2FkZDpmdW5jdGlvbigpe2lmKGEpe3ZhciB0PWEubGVuZ3RoOyhmdW5jdGlvbiByKHQpe3YuZWFjaCh0LGZ1bmN0aW9uKHQsbil7dmFyIGk9di50eXBlKG4pO2k9PT0iZnVuY3Rpb24iPyghZS51bmlxdWV8fCFjLmhhcyhuKSkmJmEucHVzaChuKTpuJiZuLmxlbmd0aCYmaSE9PSJzdHJpbmciJiZyKG4pfSl9KShhcmd1bWVudHMpLGk/bz1hLmxlbmd0aDpuJiYocz10LGwobikpfXJldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oKXtyZXR1cm4gYSYmdi5lYWNoKGFyZ3VtZW50cyxmdW5jdGlvbihlLHQpe3ZhciBuO3doaWxlKChuPXYuaW5BcnJheSh0LGEsbikpPi0xKWEuc3BsaWNlKG4sMSksaSYmKG48PW8mJm8tLSxuPD11JiZ1LS0pfSksdGhpc30saGFzOmZ1bmN0aW9uKGUpe3JldHVybiB2LmluQXJyYXkoZSxhKT4tMX0sZW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4gYT1bXSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGE9Zj1uPXQsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hYX0sbG9jazpmdW5jdGlvbigpe3JldHVybiBmPXQsbnx8Yy5kaXNhYmxlKCksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGZpcmVXaXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8W10sdD1bZSx0LnNsaWNlP3Quc2xpY2UoKTp0XSxhJiYoIXJ8fGYpJiYoaT9mLnB1c2godCk6bCh0KSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBjLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhcn19O3JldHVybiBjfSx2LmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9W1sicmVzb2x2ZSIsImRvbmUiLHYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsdi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsdi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sbj0icGVuZGluZyIscj17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3JldHVybiB2LkRlZmVycmVkKGZ1bmN0aW9uKG4pe3YuZWFjaCh0LGZ1bmN0aW9uKHQscil7dmFyIHM9clswXSxvPWVbdF07aVtyWzFdXSh2LmlzRnVuY3Rpb24obyk/ZnVuY3Rpb24oKXt2YXIgZT1vLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlJiZ2LmlzRnVuY3Rpb24oZS5wcm9taXNlKT9lLnByb21pc2UoKS5kb25lKG4ucmVzb2x2ZSkuZmFpbChuLnJlamVjdCkucHJvZ3Jlc3Mobi5ub3RpZnkpOm5bcysiV2l0aCJdKHRoaXM9PT1pP246dGhpcyxbZV0pfTpuW3NdKX0pLGU9bnVsbH0pLnByb21pc2UoKX0scHJvbWlzZTpmdW5jdGlvbihlKXtyZXR1cm4gZSE9bnVsbD92LmV4dGVuZChlLHIpOnJ9fSxpPXt9O3JldHVybiByLnBpcGU9ci50aGVuLHYuZWFjaCh0LGZ1bmN0aW9uKGUscyl7dmFyIG89c1syXSx1PXNbM107cltzWzFdXT1vLmFkZCx1JiZvLmFkZChmdW5jdGlvbigpe249dX0sdFtlXjFdWzJdLmRpc2FibGUsdFsyXVsyXS5sb2NrKSxpW3NbMF1dPW8uZmlyZSxpW3NbMF0rIldpdGgiXT1vLmZpcmVXaXRofSksci5wcm9taXNlKGkpLGUmJmUuY2FsbChpLGkpLGl9LHdoZW46ZnVuY3Rpb24oZSl7dmFyIHQ9MCxuPWwuY2FsbChhcmd1bWVudHMpLHI9bi5sZW5ndGgsaT1yIT09MXx8ZSYmdi5pc0Z1bmN0aW9uKGUucHJvbWlzZSk/cjowLHM9aT09PTE/ZTp2LkRlZmVycmVkKCksbz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKHIpe3RbZV09dGhpcyxuW2VdPWFyZ3VtZW50cy5sZW5ndGg+MT9sLmNhbGwoYXJndW1lbnRzKTpyLG49PT11P3Mubm90aWZ5V2l0aCh0LG4pOi0taXx8cy5yZXNvbHZlV2l0aCh0LG4pfX0sdSxhLGY7aWYocj4xKXt1PW5ldyBBcnJheShyKSxhPW5ldyBBcnJheShyKSxmPW5ldyBBcnJheShyKTtmb3IoO3Q8cjt0Kyspblt0XSYmdi5pc0Z1bmN0aW9uKG5bdF0ucHJvbWlzZSk/blt0XS5wcm9taXNlKCkuZG9uZShvKHQsZixuKSkuZmFpbChzLnJlamVjdCkucHJvZ3Jlc3Mobyh0LGEsdSkpOi0taX1yZXR1cm4gaXx8cy5yZXNvbHZlV2l0aChmLG4pLHMucHJvbWlzZSgpfX0pLHYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciB0LG4scixzLG8sdSxhLGYsbCxjLGgscD1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Auc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IikscC5pbm5lckhUTUw9IiAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiIsbj1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikscj1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIilbMF07aWYoIW58fCFyfHwhbi5sZW5ndGgpcmV0dXJue307cz1pLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLG89cy5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKSx1PXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0sci5zdHlsZS5jc3NUZXh0PSJ0b3A6MXB4O2Zsb2F0OmxlZnQ7b3BhY2l0eTouNSIsdD17bGVhZGluZ1doaXRlc3BhY2U6cC5maXJzdENoaWxkLm5vZGVUeXBlPT09Myx0Ym9keTohcC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsaHRtbFNlcmlhbGl6ZTohIXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKS5sZW5ndGgsc3R5bGU6L3RvcC8udGVzdChyLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksaHJlZk5vcm1hbGl6ZWQ6ci5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIvYSIsb3BhY2l0eTovXjAuNS8udGVzdChyLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhci5zdHlsZS5jc3NGbG9hdCxjaGVja09uOnUudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOm8uc2VsZWN0ZWQsZ2V0U2V0QXR0cmlidXRlOnAuY2xhc3NOYW1lIT09InQiLGVuY3R5cGU6ISFpLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGh0bWw1Q2xvbmU6aS5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCE9PSI8Om5hdj48LzpuYXY+Iixib3hNb2RlbDppLmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCIsc3VibWl0QnViYmxlczohMCxjaGFuZ2VCdWJibGVzOiEwLGZvY3VzaW5CdWJibGVzOiExLGRlbGV0ZUV4cGFuZG86ITAsbm9DbG9uZUV2ZW50OiEwLGlubGluZUJsb2NrTmVlZHNMYXlvdXQ6ITEsc2hyaW5rV3JhcEJsb2NrczohMSxyZWxpYWJsZU1hcmdpblJpZ2h0OiEwLGJveFNpemluZ1JlbGlhYmxlOiEwLHBpeGVsUG9zaXRpb246ITF9LHUuY2hlY2tlZD0hMCx0Lm5vQ2xvbmVDaGVja2VkPXUuY2xvbmVOb2RlKCEwKS5jaGVja2VkLHMuZGlzYWJsZWQ9ITAsdC5vcHREaXNhYmxlZD0hby5kaXNhYmxlZDt0cnl7ZGVsZXRlIHAudGVzdH1jYXRjaChkKXt0LmRlbGV0ZUV4cGFuZG89ITF9IXAuYWRkRXZlbnRMaXN0ZW5lciYmcC5hdHRhY2hFdmVudCYmcC5maXJlRXZlbnQmJihwLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixoPWZ1bmN0aW9uKCl7dC5ub0Nsb25lRXZlbnQ9ITF9KSxwLmNsb25lTm9kZSghMCkuZmlyZUV2ZW50KCJvbmNsaWNrIikscC5kZXRhY2hFdmVudCgib25jbGljayIsaCkpLHU9aS5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHUudmFsdWU9InQiLHUuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSx0LnJhZGlvVmFsdWU9dS52YWx1ZT09PSJ0Iix1LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSx1LnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKSxwLmFwcGVuZENoaWxkKHUpLGE9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksYS5hcHBlbmRDaGlsZChwLmxhc3RDaGlsZCksdC5jaGVja0Nsb25lPWEuY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLHQuYXBwZW5kQ2hlY2tlZD11LmNoZWNrZWQsYS5yZW1vdmVDaGlsZCh1KSxhLmFwcGVuZENoaWxkKHApO2lmKHAuYXR0YWNoRXZlbnQpZm9yKGwgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSlmPSJvbiIrbCxjPWYgaW4gcCxjfHwocC5zZXRBdHRyaWJ1dGUoZiwicmV0dXJuOyIpLGM9dHlwZW9mIHBbZl09PSJmdW5jdGlvbiIpLHRbbCsiQnViYmxlcyJdPWM7cmV0dXJuIHYoZnVuY3Rpb24oKXt2YXIgbixyLHMsbyx1PSJwYWRkaW5nOjA7bWFyZ2luOjA7Ym9yZGVyOjA7ZGlzcGxheTpibG9jaztvdmVyZmxvdzpoaWRkZW47IixhPWkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtpZighYSlyZXR1cm47bj1pLmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uc3R5bGUuY3NzVGV4dD0idmlzaWJpbGl0eTpoaWRkZW47Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjpzdGF0aWM7dG9wOjA7bWFyZ2luLXRvcDoxcHgiLGEuaW5zZXJ0QmVmb3JlKG4sYS5maXJzdENoaWxkKSxyPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksbi5hcHBlbmRDaGlsZChyKSxyLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIscz1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHNbMF0uc3R5bGUuY3NzVGV4dD0icGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSIsYz1zWzBdLm9mZnNldEhlaWdodD09PTAsc1swXS5zdHlsZS5kaXNwbGF5PSIiLHNbMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsdC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9YyYmc1swXS5vZmZzZXRIZWlnaHQ9PT0wLHIuaW5uZXJIVE1MPSIiLHIuc3R5bGUuY3NzVGV4dD0iYm94LXNpemluZzpib3JkZXItYm94Oy1tb3otYm94LXNpemluZzpib3JkZXItYm94Oy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O3BhZGRpbmc6MXB4O2JvcmRlcjoxcHg7ZGlzcGxheTpibG9jazt3aWR0aDo0cHg7bWFyZ2luLXRvcDoxJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MSU7Iix0LmJveFNpemluZz1yLm9mZnNldFdpZHRoPT09NCx0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0PWEub2Zmc2V0VG9wIT09MSxlLmdldENvbXB1dGVkU3R5bGUmJih0LnBpeGVsUG9zaXRpb249KGUuZ2V0Q29tcHV0ZWRTdHlsZShyLG51bGwpfHx7fSkudG9wIT09IjElIix0LmJveFNpemluZ1JlbGlhYmxlPShlLmdldENvbXB1dGVkU3R5bGUocixudWxsKXx8e3dpZHRoOiI0cHgifSkud2lkdGg9PT0iNHB4IixvPWkuY3JlYXRlRWxlbWVudCgiZGl2Iiksby5zdHlsZS5jc3NUZXh0PXIuc3R5bGUuY3NzVGV4dD11LG8uc3R5bGUubWFyZ2luUmlnaHQ9by5zdHlsZS53aWR0aD0iMCIsci5zdHlsZS53aWR0aD0iMXB4IixyLmFwcGVuZENoaWxkKG8pLHQucmVsaWFibGVNYXJnaW5SaWdodD0hcGFyc2VGbG9hdCgoZS5nZXRDb21wdXRlZFN0eWxlKG8sbnVsbCl8fHt9KS5tYXJnaW5SaWdodCkpLHR5cGVvZiByLnN0eWxlLnpvb20hPSJ1bmRlZmluZWQiJiYoci5pbm5lckhUTUw9IiIsci5zdHlsZS5jc3NUZXh0PXUrIndpZHRoOjFweDtwYWRkaW5nOjFweDtkaXNwbGF5OmlubGluZTt6b29tOjEiLHQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1yLm9mZnNldFdpZHRoPT09MyxyLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixyLnN0eWxlLm92ZXJmbG93PSJ2aXNpYmxlIixyLmlubmVySFRNTD0iPGRpdj48L2Rpdj4iLHIuZmlyc3RDaGlsZC5zdHlsZS53aWR0aD0iNXB4Iix0LnNocmlua1dyYXBCbG9ja3M9ci5vZmZzZXRXaWR0aCE9PTMsbi5zdHlsZS56b29tPTEpLGEucmVtb3ZlQ2hpbGQobiksbj1yPXM9bz1udWxsfSksYS5yZW1vdmVDaGlsZChwKSxuPXI9cz1vPXU9YT1wPW51bGwsdH0oKTt2YXIgRD0vKD86XHtbXHNcU10qXH18XFtbXHNcU10qXF0pJC8sUD0vKFtBLVpdKS9nO3YuZXh0ZW5kKHtjYWNoZTp7fSxkZWxldGVkSWRzOltdLHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyh2LmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5ub2RlVHlwZT92LmNhY2hlW2Vbdi5leHBhbmRvXV06ZVt2LmV4cGFuZG9dLCEhZSYmIUIoZSl9LGRhdGE6ZnVuY3Rpb24oZSxuLHIsaSl7aWYoIXYuYWNjZXB0RGF0YShlKSlyZXR1cm47dmFyIHMsbyx1PXYuZXhwYW5kbyxhPXR5cGVvZiBuPT0ic3RyaW5nIixmPWUubm9kZVR5cGUsbD1mP3YuY2FjaGU6ZSxjPWY/ZVt1XTplW3VdJiZ1O2lmKCghY3x8IWxbY118fCFpJiYhbFtjXS5kYXRhKSYmYSYmcj09PXQpcmV0dXJuO2N8fChmP2VbdV09Yz12LmRlbGV0ZWRJZHMucG9wKCl8fHYuZ3VpZCsrOmM9dSksbFtjXXx8KGxbY109e30sZnx8KGxbY10udG9KU09OPXYubm9vcCkpO2lmKHR5cGVvZiBuPT0ib2JqZWN0Inx8dHlwZW9mIG49PSJmdW5jdGlvbiIpaT9sW2NdPXYuZXh0ZW5kKGxbY10sbik6bFtjXS5kYXRhPXYuZXh0ZW5kKGxbY10uZGF0YSxuKTtyZXR1cm4gcz1sW2NdLGl8fChzLmRhdGF8fChzLmRhdGE9e30pLHM9cy5kYXRhKSxyIT09dCYmKHNbdi5jYW1lbENhc2UobildPXIpLGE/KG89c1tuXSxvPT1udWxsJiYobz1zW3YuY2FtZWxDYXNlKG4pXSkpOm89cyxvfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGUsdCxuKXtpZighdi5hY2NlcHREYXRhKGUpKXJldHVybjt2YXIgcixpLHMsbz1lLm5vZGVUeXBlLHU9bz92LmNhY2hlOmUsYT1vP2Vbdi5leHBhbmRvXTp2LmV4cGFuZG87aWYoIXVbYV0pcmV0dXJuO2lmKHQpe3I9bj91W2FdOnVbYV0uZGF0YTtpZihyKXt2LmlzQXJyYXkodCl8fCh0IGluIHI/dD1bdF06KHQ9di5jYW1lbENhc2UodCksdCBpbiByP3Q9W3RdOnQ9dC5zcGxpdCgiICIpKSk7Zm9yKGk9MCxzPXQubGVuZ3RoO2k8cztpKyspZGVsZXRlIHJbdFtpXV07aWYoIShuP0I6di5pc0VtcHR5T2JqZWN0KShyKSlyZXR1cm59fWlmKCFuKXtkZWxldGUgdVthXS5kYXRhO2lmKCFCKHVbYV0pKXJldHVybn1vP3YuY2xlYW5EYXRhKFtlXSwhMCk6di5zdXBwb3J0LmRlbGV0ZUV4cGFuZG98fHUhPXUud2luZG93P2RlbGV0ZSB1W2FdOnVbYV09bnVsbH0sX2RhdGE6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2LmRhdGEoZSx0LG4sITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZU5hbWUmJnYubm9EYXRhW2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07cmV0dXJuIXR8fHQhPT0hMCYmZS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PXR9fSksdi5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oZSxuKXt2YXIgcixpLHMsbyx1LGE9dGhpc1swXSxmPTAsbD1udWxsO2lmKGU9PT10KXtpZih0aGlzLmxlbmd0aCl7bD12LmRhdGEoYSk7aWYoYS5ub2RlVHlwZT09PTEmJiF2Ll9kYXRhKGEsInBhcnNlZEF0dHJzIikpe3M9YS5hdHRyaWJ1dGVzO2Zvcih1PXMubGVuZ3RoO2Y8dTtmKyspbz1zW2ZdLm5hbWUsby5pbmRleE9mKCJkYXRhLSIpfHwobz12LmNhbWVsQ2FzZShvLnN1YnN0cmluZyg1KSksSChhLG8sbFtvXSkpO3YuX2RhdGEoYSwicGFyc2VkQXR0cnMiLCEwKX19cmV0dXJuIGx9cmV0dXJuIHR5cGVvZiBlPT0ib2JqZWN0Ij90aGlzLmVhY2goZnVuY3Rpb24oKXt2LmRhdGEodGhpcyxlKX0pOihyPWUuc3BsaXQoIi4iLDIpLHJbMV09clsxXT8iLiIrclsxXToiIixpPXJbMV0rIiEiLHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24obil7aWYobj09PXQpcmV0dXJuIGw9dGhpcy50cmlnZ2VySGFuZGxlcigiZ2V0RGF0YSIraSxbclswXV0pLGw9PT10JiZhJiYobD12LmRhdGEoYSxlKSxsPUgoYSxlLGwpKSxsPT09dCYmclsxXT90aGlzLmRhdGEoclswXSk6bDtyWzFdPW4sdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzKTt0LnRyaWdnZXJIYW5kbGVyKCJzZXREYXRhIitpLHIpLHYuZGF0YSh0aGlzLGUsbiksdC50cmlnZ2VySGFuZGxlcigiY2hhbmdlRGF0YSIraSxyKX0pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aD4xLG51bGwsITEpKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5yZW1vdmVEYXRhKHRoaXMsZSl9KX19KSx2LmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO2lmKGUpcmV0dXJuIHQ9KHR8fCJmeCIpKyJxdWV1ZSIscj12Ll9kYXRhKGUsdCksbiYmKCFyfHx2LmlzQXJyYXkobik/cj12Ll9kYXRhKGUsdCx2Lm1ha2VBcnJheShuKSk6ci5wdXNoKG4pKSxyfHxbXX0sZGVxdWV1ZTpmdW5jdGlvbihlLHQpe3Q9dHx8ImZ4Ijt2YXIgbj12LnF1ZXVlKGUsdCkscj1uLmxlbmd0aCxpPW4uc2hpZnQoKSxzPXYuX3F1ZXVlSG9va3MoZSx0KSxvPWZ1bmN0aW9uKCl7di5kZXF1ZXVlKGUsdCl9O2k9PT0iaW5wcm9ncmVzcyImJihpPW4uc2hpZnQoKSxyLS0pLGkmJih0PT09ImZ4IiYmbi51bnNoaWZ0KCJpbnByb2dyZXNzIiksZGVsZXRlIHMuc3RvcCxpLmNhbGwoZSxvLHMpKSwhciYmcyYmcy5lbXB0eS5maXJlKCl9LF9xdWV1ZUhvb2tzOmZ1bmN0aW9uKGUsdCl7dmFyIG49dCsicXVldWVIb29rcyI7cmV0dXJuIHYuX2RhdGEoZSxuKXx8di5fZGF0YShlLG4se2VtcHR5OnYuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLmFkZChmdW5jdGlvbigpe3YucmVtb3ZlRGF0YShlLHQrInF1ZXVlIiwhMCksdi5yZW1vdmVEYXRhKGUsbiwhMCl9KX0pfX0pLHYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihlLG4pe3ZhciByPTI7cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nIiYmKG49ZSxlPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/di5xdWV1ZSh0aGlzWzBdLGUpOm49PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9di5xdWV1ZSh0aGlzLGUsbik7di5fcXVldWVIb29rcyh0aGlzLGUpLGU9PT0iZngiJiZ0WzBdIT09ImlucHJvZ3Jlc3MiJiZ2LmRlcXVldWUodGhpcyxlKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2LmRlcXVldWUodGhpcyxlKX0pfSxkZWxheTpmdW5jdGlvbihlLHQpe3JldHVybiBlPXYuZng/di5meC5zcGVlZHNbZV18fGU6ZSx0PXR8fCJmeCIsdGhpcy5xdWV1ZSh0LGZ1bmN0aW9uKHQsbil7dmFyIHI9c2V0VGltZW91dCh0LGUpO24uc3RvcD1mdW5jdGlvbigpe2NsZWFyVGltZW91dChyKX19KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5xdWV1ZShlfHwiZngiLFtdKX0scHJvbWlzZTpmdW5jdGlvbihlLG4pe3ZhciByLGk9MSxzPXYuRGVmZXJyZWQoKSxvPXRoaXMsdT10aGlzLmxlbmd0aCxhPWZ1bmN0aW9uKCl7LS1pfHxzLnJlc29sdmVXaXRoKG8sW29dKX07dHlwZW9mIGUhPSJzdHJpbmciJiYobj1lLGU9dCksZT1lfHwiZngiO3doaWxlKHUtLSlyPXYuX2RhdGEob1t1XSxlKyJxdWV1ZUhvb2tzIiksciYmci5lbXB0eSYmKGkrKyxyLmVtcHR5LmFkZChhKSk7cmV0dXJuIGEoKSxzLnByb21pc2Uobil9fSk7dmFyIGosRixJLHE9L1tcdFxyXG5dL2csUj0vXHIvZyxVPS9eKD86YnV0dG9ufGlucHV0KSQvaSx6PS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLFc9L15hKD86cmVhfCkkL2ksWD0vXig/OmF1dG9mb2N1c3xhdXRvcGxheXxhc3luY3xjaGVja2VkfGNvbnRyb2xzfGRlZmVyfGRpc2FibGVkfGhpZGRlbnxsb29wfG11bHRpcGxlfG9wZW58cmVhZG9ubHl8cmVxdWlyZWR8c2NvcGVkfHNlbGVjdGVkKSQvaSxWPXYuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGU7di5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdi5hY2Nlc3ModGhpcyx2LmF0dHIsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3YucmVtb3ZlQXR0cih0aGlzLGUpfSl9LHByb3A6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdi5hY2Nlc3ModGhpcyx2LnByb3AsZSx0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9di5wcm9wRml4W2VdfHxlLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2VdPXQsZGVsZXRlIHRoaXNbZV19Y2F0Y2gobil7fX0pfSxhZGRDbGFzczpmdW5jdGlvbihlKXt2YXIgdCxuLHIsaSxzLG8sdTtpZih2LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt2KHRoaXMpLmFkZENsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGUmJnR5cGVvZiBlPT0ic3RyaW5nIil7dD1lLnNwbGl0KHkpO2ZvcihuPTAscj10aGlzLmxlbmd0aDtuPHI7bisrKXtpPXRoaXNbbl07aWYoaS5ub2RlVHlwZT09PTEpaWYoIWkuY2xhc3NOYW1lJiZ0Lmxlbmd0aD09PTEpaS5jbGFzc05hbWU9ZTtlbHNle3M9IiAiK2kuY2xhc3NOYW1lKyIgIjtmb3Iobz0wLHU9dC5sZW5ndGg7bzx1O28rKylzLmluZGV4T2YoIiAiK3Rbb10rIiAiKTwwJiYocys9dFtvXSsiICIpO2kuY2xhc3NOYW1lPXYudHJpbShzKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihlKXt2YXIgbixyLGkscyxvLHUsYTtpZih2LmlzRnVuY3Rpb24oZSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXt2KHRoaXMpLnJlbW92ZUNsYXNzKGUuY2FsbCh0aGlzLHQsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGUmJnR5cGVvZiBlPT0ic3RyaW5nInx8ZT09PXQpe249KGV8fCIiKS5zcGxpdCh5KTtmb3IodT0wLGE9dGhpcy5sZW5ndGg7dTxhO3UrKyl7aT10aGlzW3VdO2lmKGkubm9kZVR5cGU9PT0xJiZpLmNsYXNzTmFtZSl7cj0oIiAiK2kuY2xhc3NOYW1lKyIgIikucmVwbGFjZShxLCIgIik7Zm9yKHM9MCxvPW4ubGVuZ3RoO3M8bztzKyspd2hpbGUoci5pbmRleE9mKCIgIituW3NdKyIgIik+PTApcj1yLnJlcGxhY2UoIiAiK25bc10rIiAiLCIgIik7aS5jbGFzc05hbWU9ZT92LnRyaW0ocik6IiJ9fX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oZSx0KXt2YXIgbj10eXBlb2YgZSxyPXR5cGVvZiB0PT0iYm9vbGVhbiI7cmV0dXJuIHYuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24obil7dih0aGlzKS50b2dnbGVDbGFzcyhlLmNhbGwodGhpcyxuLHRoaXMuY2xhc3NOYW1lLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYobj09PSJzdHJpbmciKXt2YXIgaSxzPTAsbz12KHRoaXMpLHU9dCxhPWUuc3BsaXQoeSk7d2hpbGUoaT1hW3MrK10pdT1yP3U6IW8uaGFzQ2xhc3MoaSksb1t1PyJhZGRDbGFzcyI6InJlbW92ZUNsYXNzIl0oaSl9ZWxzZSBpZihuPT09InVuZGVmaW5lZCJ8fG49PT0iYm9vbGVhbiIpdGhpcy5jbGFzc05hbWUmJnYuX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsdGhpcy5jbGFzc05hbWUpLHRoaXMuY2xhc3NOYW1lPXRoaXMuY2xhc3NOYW1lfHxlPT09ITE/IiI6di5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIifSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGUpe3ZhciB0PSIgIitlKyIgIixuPTAscj10aGlzLmxlbmd0aDtmb3IoO248cjtuKyspaWYodGhpc1tuXS5ub2RlVHlwZT09PTEmJigiICIrdGhpc1tuXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHEsIiAiKS5pbmRleE9mKHQpPj0wKXJldHVybiEwO3JldHVybiExfSx2YWw6ZnVuY3Rpb24oZSl7dmFyIG4scixpLHM9dGhpc1swXTtpZighYXJndW1lbnRzLmxlbmd0aCl7aWYocylyZXR1cm4gbj12LnZhbEhvb2tzW3MudHlwZV18fHYudmFsSG9va3Nbcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxuJiYiZ2V0ImluIG4mJihyPW4uZ2V0KHMsInZhbHVlIikpIT09dD9yOihyPXMudmFsdWUsdHlwZW9mIHI9PSJzdHJpbmciP3IucmVwbGFjZShSLCIiKTpyPT1udWxsPyIiOnIpO3JldHVybn1yZXR1cm4gaT12LmlzRnVuY3Rpb24oZSksdGhpcy5lYWNoKGZ1bmN0aW9uKHIpe3ZhciBzLG89dih0aGlzKTtpZih0aGlzLm5vZGVUeXBlIT09MSlyZXR1cm47aT9zPWUuY2FsbCh0aGlzLHIsby52YWwoKSk6cz1lLHM9PW51bGw/cz0iIjp0eXBlb2Ygcz09Im51bWJlciI/cys9IiI6di5pc0FycmF5KHMpJiYocz12Lm1hcChzLGZ1bmN0aW9uKGUpe3JldHVybiBlPT1udWxsPyIiOmUrIiJ9KSksbj12LnZhbEhvb2tzW3RoaXMudHlwZV18fHYudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXTtpZighbnx8ISgic2V0ImluIG4pfHxuLnNldCh0aGlzLHMsInZhbHVlIik9PT10KXRoaXMudmFsdWU9c30pfX0pLHYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiF0fHx0LnNwZWNpZmllZD9lLnZhbHVlOmUudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0LG4scj1lLm9wdGlvbnMsaT1lLnNlbGVjdGVkSW5kZXgscz1lLnR5cGU9PT0ic2VsZWN0LW9uZSJ8fGk8MCxvPXM/bnVsbDpbXSx1PXM/aSsxOnIubGVuZ3RoLGE9aTwwP3U6cz9pOjA7Zm9yKDthPHU7YSsrKXtuPXJbYV07aWYoKG4uc2VsZWN0ZWR8fGE9PT1pKSYmKHYuc3VwcG9ydC5vcHREaXNhYmxlZD8hbi5kaXNhYmxlZDpuLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIW4ucGFyZW50Tm9kZS5kaXNhYmxlZHx8IXYubm9kZU5hbWUobi5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7dD12KG4pLnZhbCgpO2lmKHMpcmV0dXJuIHQ7by5wdXNoKHQpfX1yZXR1cm4gb30sc2V0OmZ1bmN0aW9uKGUsdCl7dmFyIG49di5tYWtlQXJyYXkodCk7cmV0dXJuIHYoZSkuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9di5pbkFycmF5KHYodGhpcykudmFsKCksbik+PTB9KSxuLmxlbmd0aHx8KGUuc2VsZWN0ZWRJbmRleD0tMSksbn19fSxhdHRyRm46e30sYXR0cjpmdW5jdGlvbihlLG4scixpKXt2YXIgcyxvLHUsYT1lLm5vZGVUeXBlO2lmKCFlfHxhPT09M3x8YT09PTh8fGE9PT0yKXJldHVybjtpZihpJiZ2LmlzRnVuY3Rpb24odi5mbltuXSkpcmV0dXJuIHYoZSlbbl0ocik7aWYodHlwZW9mIGUuZ2V0QXR0cmlidXRlPT0idW5kZWZpbmVkIilyZXR1cm4gdi5wcm9wKGUsbixyKTt1PWEhPT0xfHwhdi5pc1hNTERvYyhlKSx1JiYobj1uLnRvTG93ZXJDYXNlKCksbz12LmF0dHJIb29rc1tuXXx8KFgudGVzdChuKT9GOmopKTtpZihyIT09dCl7aWYocj09PW51bGwpe3YucmVtb3ZlQXR0cihlLG4pO3JldHVybn1yZXR1cm4gbyYmInNldCJpbiBvJiZ1JiYocz1vLnNldChlLHIsbikpIT09dD9zOihlLnNldEF0dHJpYnV0ZShuLHIrIiIpLHIpfXJldHVybiBvJiYiZ2V0ImluIG8mJnUmJihzPW8uZ2V0KGUsbikpIT09bnVsbD9zOihzPWUuZ2V0QXR0cmlidXRlKG4pLHM9PT1udWxsP3Q6cyl9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGkscyxvPTA7aWYodCYmZS5ub2RlVHlwZT09PTEpe3I9dC5zcGxpdCh5KTtmb3IoO288ci5sZW5ndGg7bysrKWk9cltvXSxpJiYobj12LnByb3BGaXhbaV18fGkscz1YLnRlc3QoaSksc3x8di5hdHRyKGUsaSwiIiksZS5yZW1vdmVBdHRyaWJ1dGUoVj9pOm4pLHMmJm4gaW4gZSYmKGVbbl09ITEpKX19LGF0dHJIb29rczp7dHlwZTp7c2V0OmZ1bmN0aW9uKGUsdCl7aWYoVS50ZXN0KGUubm9kZU5hbWUpJiZlLnBhcmVudE5vZGUpdi5lcnJvcigidHlwZSBwcm9wZXJ0eSBjYW4ndCBiZSBjaGFuZ2VkIik7ZWxzZSBpZighdi5zdXBwb3J0LnJhZGlvVmFsdWUmJnQ9PT0icmFkaW8iJiZ2Lm5vZGVOYW1lKGUsImlucHV0Iikpe3ZhciBuPWUudmFsdWU7cmV0dXJuIGUuc2V0QXR0cmlidXRlKCJ0eXBlIix0KSxuJiYoZS52YWx1ZT1uKSx0fX19LHZhbHVlOntnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaiYmdi5ub2RlTmFtZShlLCJidXR0b24iKT9qLmdldChlLHQpOnQgaW4gZT9lLnZhbHVlOm51bGx9LHNldDpmdW5jdGlvbihlLHQsbil7aWYoaiYmdi5ub2RlTmFtZShlLCJidXR0b24iKSlyZXR1cm4gai5zZXQoZSx0LG4pO2UudmFsdWU9dH19fSxwcm9wRml4Ont0YWJpbmRleDoidGFiSW5kZXgiLHJlYWRvbmx5OiJyZWFkT25seSIsImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY2VsbHBhZGRpbmc6ImNlbGxQYWRkaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIixjb250ZW50ZWRpdGFibGU6ImNvbnRlbnRFZGl0YWJsZSJ9LHByb3A6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLHMsbyx1PWUubm9kZVR5cGU7aWYoIWV8fHU9PT0zfHx1PT09OHx8dT09PTIpcmV0dXJuO3JldHVybiBvPXUhPT0xfHwhdi5pc1hNTERvYyhlKSxvJiYobj12LnByb3BGaXhbbl18fG4scz12LnByb3BIb29rc1tuXSksciE9PXQ/cyYmInNldCJpbiBzJiYoaT1zLnNldChlLHIsbikpIT09dD9pOmVbbl09cjpzJiYiZ2V0ImluIHMmJihpPXMuZ2V0KGUsbikpIT09bnVsbD9pOmVbbl19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihlKXt2YXIgbj1lLmdldEF0dHJpYnV0ZU5vZGUoInRhYmluZGV4Iik7cmV0dXJuIG4mJm4uc3BlY2lmaWVkP3BhcnNlSW50KG4udmFsdWUsMTApOnoudGVzdChlLm5vZGVOYW1lKXx8Vy50ZXN0KGUubm9kZU5hbWUpJiZlLmhyZWY/MDp0fX19fSksRj17Z2V0OmZ1bmN0aW9uKGUsbil7dmFyIHIsaT12LnByb3AoZSxuKTtyZXR1cm4gaT09PSEwfHx0eXBlb2YgaSE9ImJvb2xlYW4iJiYocj1lLmdldEF0dHJpYnV0ZU5vZGUobikpJiZyLm5vZGVWYWx1ZSE9PSExP24udG9Mb3dlckNhc2UoKTp0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByO3JldHVybiB0PT09ITE/di5yZW1vdmVBdHRyKGUsbik6KHI9di5wcm9wRml4W25dfHxuLHIgaW4gZSYmKGVbcl09ITApLGUuc2V0QXR0cmlidXRlKG4sbi50b0xvd2VyQ2FzZSgpKSksbn19LFZ8fChJPXtuYW1lOiEwLGlkOiEwLGNvb3JkczohMH0saj12LnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGUsbil7dmFyIHI7cmV0dXJuIHI9ZS5nZXRBdHRyaWJ1dGVOb2RlKG4pLHImJihJW25dP3IudmFsdWUhPT0iIjpyLnNwZWNpZmllZCk/ci52YWx1ZTp0fSxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWUuZ2V0QXR0cmlidXRlTm9kZShuKTtyZXR1cm4gcnx8KHI9aS5jcmVhdGVBdHRyaWJ1dGUobiksZS5zZXRBdHRyaWJ1dGVOb2RlKHIpKSxyLnZhbHVlPXQrIiJ9fSx2LmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGUsdCl7di5hdHRySG9va3NbdF09di5leHRlbmQodi5hdHRySG9va3NbdF0se3NldDpmdW5jdGlvbihlLG4pe2lmKG49PT0iIilyZXR1cm4gZS5zZXRBdHRyaWJ1dGUodCwiYXV0byIpLG59fSl9KSx2LmF0dHJIb29rcy5jb250ZW50ZWRpdGFibGU9e2dldDpqLmdldCxzZXQ6ZnVuY3Rpb24oZSx0LG4pe3Q9PT0iIiYmKHQ9ImZhbHNlIiksai5zZXQoZSx0LG4pfX0pLHYuc3VwcG9ydC5ocmVmTm9ybWFsaXplZHx8di5lYWNoKFsiaHJlZiIsInNyYyIsIndpZHRoIiwiaGVpZ2h0Il0sZnVuY3Rpb24oZSxuKXt2LmF0dHJIb29rc1tuXT12LmV4dGVuZCh2LmF0dHJIb29rc1tuXSx7Z2V0OmZ1bmN0aW9uKGUpe3ZhciByPWUuZ2V0QXR0cmlidXRlKG4sMik7cmV0dXJuIHI9PT1udWxsP3Q6cn19KX0pLHYuc3VwcG9ydC5zdHlsZXx8KHYuYXR0ckhvb2tzLnN0eWxlPXtnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuY3NzVGV4dC50b0xvd2VyQ2FzZSgpfHx0fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zdHlsZS5jc3NUZXh0PXQrIiJ9fSksdi5zdXBwb3J0Lm9wdFNlbGVjdGVkfHwodi5wcm9wSG9va3Muc2VsZWN0ZWQ9di5leHRlbmQodi5wcm9wSG9va3Muc2VsZWN0ZWQse2dldDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH19KSksdi5zdXBwb3J0LmVuY3R5cGV8fCh2LnByb3BGaXguZW5jdHlwZT0iZW5jb2RpbmciKSx2LnN1cHBvcnQuY2hlY2tPbnx8di5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7di52YWxIb29rc1t0aGlzXT17Z2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjplLnZhbHVlfX19KSx2LmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXt2LnZhbEhvb2tzW3RoaXNdPXYuZXh0ZW5kKHYudmFsSG9va3NbdGhpc10se3NldDpmdW5jdGlvbihlLHQpe2lmKHYuaXNBcnJheSh0KSlyZXR1cm4gZS5jaGVja2VkPXYuaW5BcnJheSh2KGUpLnZhbCgpLHQpPj0wfX0pfSk7dmFyICQ9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLEo9L14oW15cLl0qfCkoPzpcLiguKyl8KSQvLEs9Lyg/Ol58XHMpaG92ZXIoXC5cUyt8KVxiLyxRPS9ea2V5LyxHPS9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLyxZPS9eKD86Zm9jdXNpbmZvY3VzfGZvY3Vzb3V0Ymx1cikkLyxaPWZ1bmN0aW9uKGUpe3JldHVybiB2LmV2ZW50LnNwZWNpYWwuaG92ZXI/ZTplLnJlcGxhY2UoSywibW91c2VlbnRlciQxIG1vdXNlbGVhdmUkMSIpfTt2LmV2ZW50PXthZGQ6ZnVuY3Rpb24oZSxuLHIsaSxzKXt2YXIgbyx1LGEsZixsLGMsaCxwLGQsbSxnO2lmKGUubm9kZVR5cGU9PT0zfHxlLm5vZGVUeXBlPT09OHx8IW58fCFyfHwhKG89di5fZGF0YShlKSkpcmV0dXJuO3IuaGFuZGxlciYmKGQ9cixyPWQuaGFuZGxlcixzPWQuc2VsZWN0b3IpLHIuZ3VpZHx8KHIuZ3VpZD12Lmd1aWQrKyksYT1vLmV2ZW50cyxhfHwoby5ldmVudHM9YT17fSksdT1vLmhhbmRsZSx1fHwoby5oYW5kbGU9dT1mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIHY9PSJ1bmRlZmluZWQifHwhIWUmJnYuZXZlbnQudHJpZ2dlcmVkPT09ZS50eXBlP3Q6di5ldmVudC5kaXNwYXRjaC5hcHBseSh1LmVsZW0sYXJndW1lbnRzKX0sdS5lbGVtPWUpLG49di50cmltKFoobikpLnNwbGl0KCIgIik7Zm9yKGY9MDtmPG4ubGVuZ3RoO2YrKyl7bD1KLmV4ZWMobltmXSl8fFtdLGM9bFsxXSxoPShsWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksZz12LmV2ZW50LnNwZWNpYWxbY118fHt9LGM9KHM/Zy5kZWxlZ2F0ZVR5cGU6Zy5iaW5kVHlwZSl8fGMsZz12LmV2ZW50LnNwZWNpYWxbY118fHt9LHA9di5leHRlbmQoe3R5cGU6YyxvcmlnVHlwZTpsWzFdLGRhdGE6aSxoYW5kbGVyOnIsZ3VpZDpyLmd1aWQsc2VsZWN0b3I6cyxuZWVkc0NvbnRleHQ6cyYmdi5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KHMpLG5hbWVzcGFjZTpoLmpvaW4oIi4iKX0sZCksbT1hW2NdO2lmKCFtKXttPWFbY109W10sbS5kZWxlZ2F0ZUNvdW50PTA7aWYoIWcuc2V0dXB8fGcuc2V0dXAuY2FsbChlLGksaCx1KT09PSExKWUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoYyx1LCExKTplLmF0dGFjaEV2ZW50JiZlLmF0dGFjaEV2ZW50KCJvbiIrYyx1KX1nLmFkZCYmKGcuYWRkLmNhbGwoZSxwKSxwLmhhbmRsZXIuZ3VpZHx8KHAuaGFuZGxlci5ndWlkPXIuZ3VpZCkpLHM/bS5zcGxpY2UobS5kZWxlZ2F0ZUNvdW50KyssMCxwKTptLnB1c2gocCksdi5ldmVudC5nbG9iYWxbY109ITB9ZT1udWxsfSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIHMsbyx1LGEsZixsLGMsaCxwLGQsbSxnPXYuaGFzRGF0YShlKSYmdi5fZGF0YShlKTtpZighZ3x8IShoPWcuZXZlbnRzKSlyZXR1cm47dD12LnRyaW0oWih0fHwiIikpLnNwbGl0KCIgIik7Zm9yKHM9MDtzPHQubGVuZ3RoO3MrKyl7bz1KLmV4ZWModFtzXSl8fFtdLHU9YT1vWzFdLGY9b1syXTtpZighdSl7Zm9yKHUgaW4gaCl2LmV2ZW50LnJlbW92ZShlLHUrdFtzXSxuLHIsITApO2NvbnRpbnVlfXA9di5ldmVudC5zcGVjaWFsW3VdfHx7fSx1PShyP3AuZGVsZWdhdGVUeXBlOnAuYmluZFR5cGUpfHx1LGQ9aFt1XXx8W10sbD1kLmxlbmd0aCxmPWY/bmV3IFJlZ0V4cCgiKF58XFwuKSIrZi5zcGxpdCgiLiIpLnNvcnQoKS5qb2luKCJcXC4oPzouKlxcLnwpIikrIihcXC58JCkiKTpudWxsO2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspbT1kW2NdLChpfHxhPT09bS5vcmlnVHlwZSkmJighbnx8bi5ndWlkPT09bS5ndWlkKSYmKCFmfHxmLnRlc3QobS5uYW1lc3BhY2UpKSYmKCFyfHxyPT09bS5zZWxlY3Rvcnx8cj09PSIqKiImJm0uc2VsZWN0b3IpJiYoZC5zcGxpY2UoYy0tLDEpLG0uc2VsZWN0b3ImJmQuZGVsZWdhdGVDb3VudC0tLHAucmVtb3ZlJiZwLnJlbW92ZS5jYWxsKGUsbSkpO2QubGVuZ3RoPT09MCYmbCE9PWQubGVuZ3RoJiYoKCFwLnRlYXJkb3dufHxwLnRlYXJkb3duLmNhbGwoZSxmLGcuaGFuZGxlKT09PSExKSYmdi5yZW1vdmVFdmVudChlLHUsZy5oYW5kbGUpLGRlbGV0ZSBoW3VdKX12LmlzRW1wdHlPYmplY3QoaCkmJihkZWxldGUgZy5oYW5kbGUsdi5yZW1vdmVEYXRhKGUsImV2ZW50cyIsITApKX0sY3VzdG9tRXZlbnQ6e2dldERhdGE6ITAsc2V0RGF0YTohMCxjaGFuZ2VEYXRhOiEwfSx0cmlnZ2VyOmZ1bmN0aW9uKG4scixzLG8pe2lmKCFzfHxzLm5vZGVUeXBlIT09MyYmcy5ub2RlVHlwZSE9PTgpe3ZhciB1LGEsZixsLGMsaCxwLGQsbSxnLHk9bi50eXBlfHxuLGI9W107aWYoWS50ZXN0KHkrdi5ldmVudC50cmlnZ2VyZWQpKXJldHVybjt5LmluZGV4T2YoIiEiKT49MCYmKHk9eS5zbGljZSgwLC0xKSxhPSEwKSx5LmluZGV4T2YoIi4iKT49MCYmKGI9eS5zcGxpdCgiLiIpLHk9Yi5zaGlmdCgpLGIuc29ydCgpKTtpZigoIXN8fHYuZXZlbnQuY3VzdG9tRXZlbnRbeV0pJiYhdi5ldmVudC5nbG9iYWxbeV0pcmV0dXJuO249dHlwZW9mIG49PSJvYmplY3QiP25bdi5leHBhbmRvXT9uOm5ldyB2LkV2ZW50KHksbik6bmV3IHYuRXZlbnQoeSksbi50eXBlPXksbi5pc1RyaWdnZXI9ITAsbi5leGNsdXNpdmU9YSxuLm5hbWVzcGFjZT1iLmpvaW4oIi4iKSxuLm5hbWVzcGFjZV9yZT1uLm5hbWVzcGFjZT9uZXcgUmVnRXhwKCIoXnxcXC4pIitiLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpOm51bGwsaD15LmluZGV4T2YoIjoiKTwwPyJvbiIreToiIjtpZighcyl7dT12LmNhY2hlO2ZvcihmIGluIHUpdVtmXS5ldmVudHMmJnVbZl0uZXZlbnRzW3ldJiZ2LmV2ZW50LnRyaWdnZXIobixyLHVbZl0uaGFuZGxlLmVsZW0sITApO3JldHVybn1uLnJlc3VsdD10LG4udGFyZ2V0fHwobi50YXJnZXQ9cykscj1yIT1udWxsP3YubWFrZUFycmF5KHIpOltdLHIudW5zaGlmdChuKSxwPXYuZXZlbnQuc3BlY2lhbFt5XXx8e307aWYocC50cmlnZ2VyJiZwLnRyaWdnZXIuYXBwbHkocyxyKT09PSExKXJldHVybjttPVtbcyxwLmJpbmRUeXBlfHx5XV07aWYoIW8mJiFwLm5vQnViYmxlJiYhdi5pc1dpbmRvdyhzKSl7Zz1wLmRlbGVnYXRlVHlwZXx8eSxsPVkudGVzdChnK3kpP3M6cy5wYXJlbnROb2RlO2ZvcihjPXM7bDtsPWwucGFyZW50Tm9kZSltLnB1c2goW2wsZ10pLGM9bDtjPT09KHMub3duZXJEb2N1bWVudHx8aSkmJm0ucHVzaChbYy5kZWZhdWx0Vmlld3x8Yy5wYXJlbnRXaW5kb3d8fGUsZ10pfWZvcihmPTA7ZjxtLmxlbmd0aCYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtmKyspbD1tW2ZdWzBdLG4udHlwZT1tW2ZdWzFdLGQ9KHYuX2RhdGEobCwiZXZlbnRzIil8fHt9KVtuLnR5cGVdJiZ2Ll9kYXRhKGwsImhhbmRsZSIpLGQmJmQuYXBwbHkobCxyKSxkPWgmJmxbaF0sZCYmdi5hY2NlcHREYXRhKGwpJiZkLmFwcGx5JiZkLmFwcGx5KGwscik9PT0hMSYmbi5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBuLnR5cGU9eSwhbyYmIW4uaXNEZWZhdWx0UHJldmVudGVkKCkmJighcC5fZGVmYXVsdHx8cC5fZGVmYXVsdC5hcHBseShzLm93bmVyRG9jdW1lbnQscik9PT0hMSkmJih5IT09ImNsaWNrInx8IXYubm9kZU5hbWUocywiYSIpKSYmdi5hY2NlcHREYXRhKHMpJiZoJiZzW3ldJiYoeSE9PSJmb2N1cyImJnkhPT0iYmx1ciJ8fG4udGFyZ2V0Lm9mZnNldFdpZHRoIT09MCkmJiF2LmlzV2luZG93KHMpJiYoYz1zW2hdLGMmJihzW2hdPW51bGwpLHYuZXZlbnQudHJpZ2dlcmVkPXksc1t5XSgpLHYuZXZlbnQudHJpZ2dlcmVkPXQsYyYmKHNbaF09YykpLG4ucmVzdWx0fXJldHVybn0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7bj12LmV2ZW50LmZpeChufHxlLmV2ZW50KTt2YXIgcixpLHMsbyx1LGEsZixjLGgscCxkPSh2Ll9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbbi50eXBlXXx8W10sbT1kLmRlbGVnYXRlQ291bnQsZz1sLmNhbGwoYXJndW1lbnRzKSx5PSFuLmV4Y2x1c2l2ZSYmIW4ubmFtZXNwYWNlLGI9di5ldmVudC5zcGVjaWFsW24udHlwZV18fHt9LHc9W107Z1swXT1uLG4uZGVsZWdhdGVUYXJnZXQ9dGhpcztpZihiLnByZURpc3BhdGNoJiZiLnByZURpc3BhdGNoLmNhbGwodGhpcyxuKT09PSExKXJldHVybjtpZihtJiYoIW4uYnV0dG9ufHxuLnR5cGUhPT0iY2xpY2siKSlmb3Iocz1uLnRhcmdldDtzIT10aGlzO3M9cy5wYXJlbnROb2RlfHx0aGlzKWlmKHMuZGlzYWJsZWQhPT0hMHx8bi50eXBlIT09ImNsaWNrIil7dT17fSxmPVtdO2ZvcihyPTA7cjxtO3IrKyljPWRbcl0saD1jLnNlbGVjdG9yLHVbaF09PT10JiYodVtoXT1jLm5lZWRzQ29udGV4dD92KGgsdGhpcykuaW5kZXgocyk+PTA6di5maW5kKGgsdGhpcyxudWxsLFtzXSkubGVuZ3RoKSx1W2hdJiZmLnB1c2goYyk7Zi5sZW5ndGgmJncucHVzaCh7ZWxlbTpzLG1hdGNoZXM6Zn0pfWQubGVuZ3RoPm0mJncucHVzaCh7ZWxlbTp0aGlzLG1hdGNoZXM6ZC5zbGljZShtKX0pO2ZvcihyPTA7cjx3Lmxlbmd0aCYmIW4uaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtyKyspe2E9d1tyXSxuLmN1cnJlbnRUYXJnZXQ9YS5lbGVtO2ZvcihpPTA7aTxhLm1hdGNoZXMubGVuZ3RoJiYhbi5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpO2krKyl7Yz1hLm1hdGNoZXNbaV07aWYoeXx8IW4ubmFtZXNwYWNlJiYhYy5uYW1lc3BhY2V8fG4ubmFtZXNwYWNlX3JlJiZuLm5hbWVzcGFjZV9yZS50ZXN0KGMubmFtZXNwYWNlKSluLmRhdGE9Yy5kYXRhLG4uaGFuZGxlT2JqPWMsbz0oKHYuZXZlbnQuc3BlY2lhbFtjLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Yy5oYW5kbGVyKS5hcHBseShhLmVsZW0sZyksbyE9PXQmJihuLnJlc3VsdD1vLG89PT0hMSYmKG4ucHJldmVudERlZmF1bHQoKSxuLnN0b3BQcm9wYWdhdGlvbigpKSl9fXJldHVybiBiLnBvc3REaXNwYXRjaCYmYi5wb3N0RGlzcGF0Y2guY2FsbCh0aGlzLG4pLG4ucmVzdWx0fSxwcm9wczoiYXR0ckNoYW5nZSBhdHRyTmFtZSByZWxhdGVkTm9kZSBzcmNFbGVtZW50IGFsdEtleSBidWJibGVzIGNhbmNlbGFibGUgY3RybEtleSBjdXJyZW50VGFyZ2V0IGV2ZW50UGhhc2UgbWV0YUtleSByZWxhdGVkVGFyZ2V0IHNoaWZ0S2V5IHRhcmdldCB0aW1lU3RhbXAgdmlldyB3aGljaCIuc3BsaXQoIiAiKSxmaXhIb29rczp7fSxrZXlIb29rczp7cHJvcHM6ImNoYXIgY2hhckNvZGUga2V5IGtleUNvZGUiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUud2hpY2g9PW51bGwmJihlLndoaWNoPXQuY2hhckNvZGUhPW51bGw/dC5jaGFyQ29kZTp0LmtleUNvZGUpLGV9fSxtb3VzZUhvb2tzOntwcm9wczoiYnV0dG9uIGJ1dHRvbnMgY2xpZW50WCBjbGllbnRZIGZyb21FbGVtZW50IG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkgdG9FbGVtZW50Ii5zcGxpdCgiICIpLGZpbHRlcjpmdW5jdGlvbihlLG4pe3ZhciByLHMsbyx1PW4uYnV0dG9uLGE9bi5mcm9tRWxlbWVudDtyZXR1cm4gZS5wYWdlWD09bnVsbCYmbi5jbGllbnRYIT1udWxsJiYocj1lLnRhcmdldC5vd25lckRvY3VtZW50fHxpLHM9ci5kb2N1bWVudEVsZW1lbnQsbz1yLmJvZHksZS5wYWdlWD1uLmNsaWVudFgrKHMmJnMuc2Nyb2xsTGVmdHx8byYmby5zY3JvbGxMZWZ0fHwwKS0ocyYmcy5jbGllbnRMZWZ0fHxvJiZvLmNsaWVudExlZnR8fDApLGUucGFnZVk9bi5jbGllbnRZKyhzJiZzLnNjcm9sbFRvcHx8byYmby5zY3JvbGxUb3B8fDApLShzJiZzLmNsaWVudFRvcHx8byYmby5jbGllbnRUb3B8fDApKSwhZS5yZWxhdGVkVGFyZ2V0JiZhJiYoZS5yZWxhdGVkVGFyZ2V0PWE9PT1lLnRhcmdldD9uLnRvRWxlbWVudDphKSwhZS53aGljaCYmdSE9PXQmJihlLndoaWNoPXUmMT8xOnUmMj8zOnUmND8yOjApLGV9fSxmaXg6ZnVuY3Rpb24oZSl7aWYoZVt2LmV4cGFuZG9dKXJldHVybiBlO3ZhciB0LG4scj1lLHM9di5ldmVudC5maXhIb29rc1tlLnR5cGVdfHx7fSxvPXMucHJvcHM/dGhpcy5wcm9wcy5jb25jYXQocy5wcm9wcyk6dGhpcy5wcm9wcztlPXYuRXZlbnQocik7Zm9yKHQ9by5sZW5ndGg7dDspbj1vWy0tdF0sZVtuXT1yW25dO3JldHVybiBlLnRhcmdldHx8KGUudGFyZ2V0PXIuc3JjRWxlbWVudHx8aSksZS50YXJnZXQubm9kZVR5cGU9PT0zJiYoZS50YXJnZXQ9ZS50YXJnZXQucGFyZW50Tm9kZSksZS5tZXRhS2V5PSEhZS5tZXRhS2V5LHMuZmlsdGVyP3MuZmlsdGVyKGUscik6ZX0sc3BlY2lhbDp7bG9hZDp7bm9CdWJibGU6ITB9LGZvY3VzOntkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOntkZWxlZ2F0ZVR5cGU6ImZvY3Vzb3V0In0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihlLHQsbil7di5pc1dpbmRvdyh0aGlzKSYmKHRoaXMub25iZWZvcmV1bmxvYWQ9bil9LHRlYXJkb3duOmZ1bmN0aW9uKGUsdCl7dGhpcy5vbmJlZm9yZXVubG9hZD09PXQmJih0aGlzLm9uYmVmb3JldW5sb2FkPW51bGwpfX19LHNpbXVsYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXYuZXh0ZW5kKG5ldyB2LkV2ZW50LG4se3R5cGU6ZSxpc1NpbXVsYXRlZDohMCxvcmlnaW5hbEV2ZW50Ont9fSk7cj92LmV2ZW50LnRyaWdnZXIoaSxudWxsLHQpOnYuZXZlbnQuZGlzcGF0Y2guY2FsbCh0LGkpLGkuaXNEZWZhdWx0UHJldmVudGVkKCkmJm4ucHJldmVudERlZmF1bHQoKX19LHYuZXZlbnQuaGFuZGxlPXYuZXZlbnQuZGlzcGF0Y2gsdi5yZW1vdmVFdmVudD1pLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oZSx0LG4pe2UucmVtb3ZlRXZlbnRMaXN0ZW5lciYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbiwhMSl9OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0ib24iK3Q7ZS5kZXRhY2hFdmVudCYmKHR5cGVvZiBlW3JdPT0idW5kZWZpbmVkIiYmKGVbcl09bnVsbCksZS5kZXRhY2hFdmVudChyLG4pKX0sdi5FdmVudD1mdW5jdGlvbihlLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIHYuRXZlbnQpKXJldHVybiBuZXcgdi5FdmVudChlLHQpO2UmJmUudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWUsdGhpcy50eXBlPWUudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1lLmRlZmF1bHRQcmV2ZW50ZWR8fGUucmV0dXJuVmFsdWU9PT0hMXx8ZS5nZXRQcmV2ZW50RGVmYXVsdCYmZS5nZXRQcmV2ZW50RGVmYXVsdCgpP3R0OmV0KTp0aGlzLnR5cGU9ZSx0JiZ2LmV4dGVuZCh0aGlzLHQpLHRoaXMudGltZVN0YW1wPWUmJmUudGltZVN0YW1wfHx2Lm5vdygpLHRoaXNbdi5leHBhbmRvXT0hMH0sdi5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9dHQ7dmFyIGU9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKCFlKXJldHVybjtlLnByZXZlbnREZWZhdWx0P2UucHJldmVudERlZmF1bHQoKTplLnJldHVyblZhbHVlPSExfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPXR0O3ZhciBlPXRoaXMub3JpZ2luYWxFdmVudDtpZighZSlyZXR1cm47ZS5zdG9wUHJvcGFnYXRpb24mJmUuc3RvcFByb3BhZ2F0aW9uKCksZS5jYW5jZWxCdWJibGU9ITB9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9dHQsdGhpcy5zdG9wUHJvcGFnYXRpb24oKX0saXNEZWZhdWx0UHJldmVudGVkOmV0LGlzUHJvcGFnYXRpb25TdG9wcGVkOmV0LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmV0fSx2LmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihlLHQpe3YuZXZlbnQuc3BlY2lhbFtlXT17ZGVsZWdhdGVUeXBlOnQsYmluZFR5cGU6dCxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIG4scj10aGlzLGk9ZS5yZWxhdGVkVGFyZ2V0LHM9ZS5oYW5kbGVPYmosbz1zLnNlbGVjdG9yO2lmKCFpfHxpIT09ciYmIXYuY29udGFpbnMocixpKSllLnR5cGU9cy5vcmlnVHlwZSxuPXMuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksZS50eXBlPXQ7cmV0dXJuIG59fX0pLHYuc3VwcG9ydC5zdWJtaXRCdWJibGVzfHwodi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtpZih2Lm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTt2LmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGUpe3ZhciBuPWUudGFyZ2V0LHI9di5ub2RlTmFtZShuLCJpbnB1dCIpfHx2Lm5vZGVOYW1lKG4sImJ1dHRvbiIpP24uZm9ybTp0O3ImJiF2Ll9kYXRhKHIsIl9zdWJtaXRfYXR0YWNoZWQiKSYmKHYuZXZlbnQuYWRkKHIsInN1Ym1pdC5fc3VibWl0IixmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlPSEwfSksdi5fZGF0YShyLCJfc3VibWl0X2F0dGFjaGVkIiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihlKXtlLl9zdWJtaXRfYnViYmxlJiYoZGVsZXRlIGUuX3N1Ym1pdF9idWJibGUsdGhpcy5wYXJlbnROb2RlJiYhZS5pc1RyaWdnZXImJnYuZXZlbnQuc2ltdWxhdGUoInN1Ym1pdCIsdGhpcy5wYXJlbnROb2RlLGUsITApKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtpZih2Lm5vZGVOYW1lKHRoaXMsImZvcm0iKSlyZXR1cm4hMTt2LmV2ZW50LnJlbW92ZSh0aGlzLCIuX3N1Ym1pdCIpfX0pLHYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzfHwodi5ldmVudC5zcGVjaWFsLmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZigkLnRlc3QodGhpcy5ub2RlTmFtZSkpe2lmKHRoaXMudHlwZT09PSJjaGVja2JveCJ8fHRoaXMudHlwZT09PSJyYWRpbyIpdi5ldmVudC5hZGQodGhpcywicHJvcGVydHljaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oZSl7ZS5vcmlnaW5hbEV2ZW50LnByb3BlcnR5TmFtZT09PSJjaGVja2VkIiYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMCl9KSx2LmV2ZW50LmFkZCh0aGlzLCJjbGljay5fY2hhbmdlIixmdW5jdGlvbihlKXt0aGlzLl9qdXN0X2NoYW5nZWQmJiFlLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RfY2hhbmdlZD0hMSksdi5ldmVudC5zaW11bGF0ZSgiY2hhbmdlIix0aGlzLGUsITApfSk7cmV0dXJuITF9di5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7JC50ZXN0KHQubm9kZU5hbWUpJiYhdi5fZGF0YSh0LCJfY2hhbmdlX2F0dGFjaGVkIikmJih2LmV2ZW50LmFkZCh0LCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oZSl7dGhpcy5wYXJlbnROb2RlJiYhZS5pc1NpbXVsYXRlZCYmIWUuaXNUcmlnZ2VyJiZ2LmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMucGFyZW50Tm9kZSxlLCEwKX0pLHYuX2RhdGEodCwiX2NoYW5nZV9hdHRhY2hlZCIsITApKX0pfSxoYW5kbGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYodGhpcyE9PXR8fGUuaXNTaW11bGF0ZWR8fGUuaXNUcmlnZ2VyfHx0LnR5cGUhPT0icmFkaW8iJiZ0LnR5cGUhPT0iY2hlY2tib3giKXJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdGVhcmRvd246ZnVuY3Rpb24oKXtyZXR1cm4gdi5ldmVudC5yZW1vdmUodGhpcywiLl9jaGFuZ2UiKSwhJC50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLHYuc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8di5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1mdW5jdGlvbihlKXt2LmV2ZW50LnNpbXVsYXRlKHQsZS50YXJnZXQsdi5ldmVudC5maXgoZSksITApfTt2LmV2ZW50LnNwZWNpYWxbdF09e3NldHVwOmZ1bmN0aW9uKCl7bisrPT09MCYmaS5hZGRFdmVudExpc3RlbmVyKGUsciwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1uPT09MCYmaS5yZW1vdmVFdmVudExpc3RlbmVyKGUsciwhMCl9fX0pLHYuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihlLG4scixpLHMpe3ZhciBvLHU7aWYodHlwZW9mIGU9PSJvYmplY3QiKXt0eXBlb2YgbiE9InN0cmluZyImJihyPXJ8fG4sbj10KTtmb3IodSBpbiBlKXRoaXMub24odSxuLHIsZVt1XSxzKTtyZXR1cm4gdGhpc31yPT1udWxsJiZpPT1udWxsPyhpPW4scj1uPXQpOmk9PW51bGwmJih0eXBlb2Ygbj09InN0cmluZyI/KGk9cixyPXQpOihpPXIscj1uLG49dCkpO2lmKGk9PT0hMSlpPWV0O2Vsc2UgaWYoIWkpcmV0dXJuIHRoaXM7cmV0dXJuIHM9PT0xJiYobz1pLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHYoKS5vZmYoZSksby5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGkuZ3VpZD1vLmd1aWR8fChvLmd1aWQ9di5ndWlkKyspKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2LmV2ZW50LmFkZCh0aGlzLGUsaSxyLG4pfSl9LG9uZTpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5vbihlLHQsbixyLDEpfSxvZmY6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpLHM7aWYoZSYmZS5wcmV2ZW50RGVmYXVsdCYmZS5oYW5kbGVPYmopcmV0dXJuIGk9ZS5oYW5kbGVPYmosdihlLmRlbGVnYXRlVGFyZ2V0KS5vZmYoaS5uYW1lc3BhY2U/aS5vcmlnVHlwZSsiLiIraS5uYW1lc3BhY2U6aS5vcmlnVHlwZSxpLnNlbGVjdG9yLGkuaGFuZGxlciksdGhpcztpZih0eXBlb2YgZT09Im9iamVjdCIpe2ZvcihzIGluIGUpdGhpcy5vZmYocyxuLGVbc10pO3JldHVybiB0aGlzfWlmKG49PT0hMXx8dHlwZW9mIG49PSJmdW5jdGlvbiIpcj1uLG49dDtyZXR1cm4gcj09PSExJiYocj1ldCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5ldmVudC5yZW1vdmUodGhpcyxlLHIsbil9KX0sYmluZDpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMub24oZSxudWxsLHQsbil9LHVuYmluZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm9mZihlLG51bGwsdCl9LGxpdmU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2KHRoaXMuY29udGV4dCkub24oZSx0aGlzLnNlbGVjdG9yLHQsbiksdGhpc30sZGllOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYodGhpcy5jb250ZXh0KS5vZmYoZSx0aGlzLnNlbGVjdG9yfHwiKioiLHQpLHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLm9uKHQsZSxuLHIpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTE/dGhpcy5vZmYoZSwiKioiKTp0aGlzLm9mZih0LGV8fCIqKiIsbil9LHRyaWdnZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7di5ldmVudC50cmlnZ2VyKGUsdCx0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihlLHQpe2lmKHRoaXNbMF0pcmV0dXJuIHYuZXZlbnQudHJpZ2dlcihlLHQsdGhpc1swXSwhMCl9LHRvZ2dsZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMsbj1lLmd1aWR8fHYuZ3VpZCsrLHI9MCxpPWZ1bmN0aW9uKG4pe3ZhciBpPSh2Ll9kYXRhKHRoaXMsImxhc3RUb2dnbGUiK2UuZ3VpZCl8fDApJXI7cmV0dXJuIHYuX2RhdGEodGhpcywibGFzdFRvZ2dsZSIrZS5ndWlkLGkrMSksbi5wcmV2ZW50RGVmYXVsdCgpLHRbaV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX07aS5ndWlkPW47d2hpbGUocjx0Lmxlbmd0aCl0W3IrK10uZ3VpZD1uO3JldHVybiB0aGlzLmNsaWNrKGkpfSxob3ZlcjpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoZSkubW91c2VsZWF2ZSh0fHxlKX19KSx2LmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oZSx0KXt2LmZuW3RdPWZ1bmN0aW9uKGUsbil7cmV0dXJuIG49PW51bGwmJihuPWUsZT1udWxsKSxhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5vbih0LG51bGwsZSxuKTp0aGlzLnRyaWdnZXIodCl9LFEudGVzdCh0KSYmKHYuZXZlbnQuZml4SG9va3NbdF09di5ldmVudC5rZXlIb29rcyksRy50ZXN0KHQpJiYodi5ldmVudC5maXhIb29rc1t0XT12LmV2ZW50Lm1vdXNlSG9va3MpfSksZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBudChlLHQsbixyKXtuPW58fFtdLHQ9dHx8Zzt2YXIgaSxzLGEsZixsPXQubm9kZVR5cGU7aWYoIWV8fHR5cGVvZiBlIT0ic3RyaW5nIilyZXR1cm4gbjtpZihsIT09MSYmbCE9PTkpcmV0dXJuW107YT1vKHQpO2lmKCFhJiYhcilpZihpPVIuZXhlYyhlKSlpZihmPWlbMV0pe2lmKGw9PT05KXtzPXQuZ2V0RWxlbWVudEJ5SWQoZik7aWYoIXN8fCFzLnBhcmVudE5vZGUpcmV0dXJuIG47aWYocy5pZD09PWYpcmV0dXJuIG4ucHVzaChzKSxufWVsc2UgaWYodC5vd25lckRvY3VtZW50JiYocz10Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZikpJiZ1KHQscykmJnMuaWQ9PT1mKXJldHVybiBuLnB1c2gocyksbn1lbHNle2lmKGlbMl0pcmV0dXJuIFMuYXBwbHkobix4LmNhbGwodC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKSwwKSksbjtpZigoZj1pWzNdKSYmWiYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBTLmFwcGx5KG4seC5jYWxsKHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShmKSwwKSksbn1yZXR1cm4gdnQoZS5yZXBsYWNlKGosIiQxIiksdCxuLHIsYSl9ZnVuY3Rpb24gcnQoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gbj09PSJpbnB1dCImJnQudHlwZT09PWV9fWZ1bmN0aW9uIGl0KGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuKG49PT0iaW5wdXQifHxuPT09ImJ1dHRvbiIpJiZ0LnR5cGU9PT1lfX1mdW5jdGlvbiBzdChlKXtyZXR1cm4gTihmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxOKGZ1bmN0aW9uKG4scil7dmFyIGkscz1lKFtdLG4ubGVuZ3RoLHQpLG89cy5sZW5ndGg7d2hpbGUoby0tKW5baT1zW29dXSYmKG5baV09IShyW2ldPW5baV0pKX0pfSl9ZnVuY3Rpb24gb3QoZSx0LG4pe2lmKGU9PT10KXJldHVybiBuO3ZhciByPWUubmV4dFNpYmxpbmc7d2hpbGUocil7aWYocj09PXQpcmV0dXJuLTE7cj1yLm5leHRTaWJsaW5nfXJldHVybiAxfWZ1bmN0aW9uIHV0KGUsdCl7dmFyIG4scixzLG8sdSxhLGYsbD1MW2RdW2UrIiAiXTtpZihsKXJldHVybiB0PzA6bC5zbGljZSgwKTt1PWUsYT1bXSxmPWkucHJlRmlsdGVyO3doaWxlKHUpe2lmKCFufHwocj1GLmV4ZWModSkpKXImJih1PXUuc2xpY2UoclswXS5sZW5ndGgpfHx1KSxhLnB1c2gocz1bXSk7bj0hMTtpZihyPUkuZXhlYyh1KSlzLnB1c2gobj1uZXcgbShyLnNoaWZ0KCkpKSx1PXUuc2xpY2Uobi5sZW5ndGgpLG4udHlwZT1yWzBdLnJlcGxhY2UoaiwiICIpO2ZvcihvIGluIGkuZmlsdGVyKShyPUpbb10uZXhlYyh1KSkmJighZltvXXx8KHI9ZltvXShyKSkpJiYocy5wdXNoKG49bmV3IG0oci5zaGlmdCgpKSksdT11LnNsaWNlKG4ubGVuZ3RoKSxuLnR5cGU9byxuLm1hdGNoZXM9cik7aWYoIW4pYnJlYWt9cmV0dXJuIHQ/dS5sZW5ndGg6dT9udC5lcnJvcihlKTpMKGUsYSkuc2xpY2UoMCl9ZnVuY3Rpb24gYXQoZSx0LHIpe3ZhciBpPXQuZGlyLHM9ciYmdC5kaXI9PT0icGFyZW50Tm9kZSIsbz13Kys7cmV0dXJuIHQuZmlyc3Q/ZnVuY3Rpb24odCxuLHIpe3doaWxlKHQ9dFtpXSlpZihzfHx0Lm5vZGVUeXBlPT09MSlyZXR1cm4gZSh0LG4scil9OmZ1bmN0aW9uKHQscix1KXtpZighdSl7dmFyIGEsZj1iKyIgIitvKyIgIixsPWYrbjt3aGlsZSh0PXRbaV0paWYoc3x8dC5ub2RlVHlwZT09PTEpe2lmKChhPXRbZF0pPT09bClyZXR1cm4gdC5zaXpzZXQ7aWYodHlwZW9mIGE9PSJzdHJpbmciJiZhLmluZGV4T2YoZik9PT0wKXtpZih0LnNpenNldClyZXR1cm4gdH1lbHNle3RbZF09bDtpZihlKHQscix1KSlyZXR1cm4gdC5zaXpzZXQ9ITAsdDt0LnNpenNldD0hMX19fWVsc2Ugd2hpbGUodD10W2ldKWlmKHN8fHQubm9kZVR5cGU9PT0xKWlmKGUodCxyLHUpKXJldHVybiB0fX1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZS5sZW5ndGg+MT9mdW5jdGlvbih0LG4scil7dmFyIGk9ZS5sZW5ndGg7d2hpbGUoaS0tKWlmKCFlW2ldKHQsbixyKSlyZXR1cm4hMTtyZXR1cm4hMH06ZVswXX1mdW5jdGlvbiBsdChlLHQsbixyLGkpe3ZhciBzLG89W10sdT0wLGE9ZS5sZW5ndGgsZj10IT1udWxsO2Zvcig7dTxhO3UrKylpZihzPWVbdV0paWYoIW58fG4ocyxyLGkpKW8ucHVzaChzKSxmJiZ0LnB1c2godSk7cmV0dXJuIG99ZnVuY3Rpb24gY3QoZSx0LG4scixpLHMpe3JldHVybiByJiYhcltkXSYmKHI9Y3QocikpLGkmJiFpW2RdJiYoaT1jdChpLHMpKSxOKGZ1bmN0aW9uKHMsbyx1LGEpe3ZhciBmLGwsYyxoPVtdLHA9W10sZD1vLmxlbmd0aCx2PXN8fGR0KHR8fCIqIix1Lm5vZGVUeXBlP1t1XTp1LFtdKSxtPWUmJihzfHwhdCk/bHQodixoLGUsdSxhKTp2LGc9bj9pfHwocz9lOmR8fHIpP1tdOm86bTtuJiZuKG0sZyx1LGEpO2lmKHIpe2Y9bHQoZyxwKSxyKGYsW10sdSxhKSxsPWYubGVuZ3RoO3doaWxlKGwtLSlpZihjPWZbbF0pZ1twW2xdXT0hKG1bcFtsXV09Yyl9aWYocyl7aWYoaXx8ZSl7aWYoaSl7Zj1bXSxsPWcubGVuZ3RoO3doaWxlKGwtLSkoYz1nW2xdKSYmZi5wdXNoKG1bbF09Yyk7aShudWxsLGc9W10sZixhKX1sPWcubGVuZ3RoO3doaWxlKGwtLSkoYz1nW2xdKSYmKGY9aT9ULmNhbGwocyxjKTpoW2xdKT4tMSYmKHNbZl09IShvW2ZdPWMpKX19ZWxzZSBnPWx0KGc9PT1vP2cuc3BsaWNlKGQsZy5sZW5ndGgpOmcpLGk/aShudWxsLG8sZyxhKTpTLmFwcGx5KG8sZyl9KX1mdW5jdGlvbiBodChlKXt2YXIgdCxuLHIscz1lLmxlbmd0aCxvPWkucmVsYXRpdmVbZVswXS50eXBlXSx1PW98fGkucmVsYXRpdmVbIiAiXSxhPW8/MTowLGY9YXQoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10fSx1LCEwKSxsPWF0KGZ1bmN0aW9uKGUpe3JldHVybiBULmNhbGwodCxlKT4tMX0sdSwhMCksaD1bZnVuY3Rpb24oZSxuLHIpe3JldHVybiFvJiYocnx8biE9PWMpfHwoKHQ9bikubm9kZVR5cGU/ZihlLG4scik6bChlLG4scikpfV07Zm9yKDthPHM7YSsrKWlmKG49aS5yZWxhdGl2ZVtlW2FdLnR5cGVdKWg9W2F0KGZ0KGgpLG4pXTtlbHNle249aS5maWx0ZXJbZVthXS50eXBlXS5hcHBseShudWxsLGVbYV0ubWF0Y2hlcyk7aWYobltkXSl7cj0rK2E7Zm9yKDtyPHM7cisrKWlmKGkucmVsYXRpdmVbZVtyXS50eXBlXSlicmVhaztyZXR1cm4gY3QoYT4xJiZmdChoKSxhPjEmJmUuc2xpY2UoMCxhLTEpLmpvaW4oIiIpLnJlcGxhY2UoaiwiJDEiKSxuLGE8ciYmaHQoZS5zbGljZShhLHIpKSxyPHMmJmh0KGU9ZS5zbGljZShyKSkscjxzJiZlLmpvaW4oIiIpKX1oLnB1c2gobil9cmV0dXJuIGZ0KGgpfWZ1bmN0aW9uIHB0KGUsdCl7dmFyIHI9dC5sZW5ndGg+MCxzPWUubGVuZ3RoPjAsbz1mdW5jdGlvbih1LGEsZixsLGgpe3ZhciBwLGQsdixtPVtdLHk9MCx3PSIwIix4PXUmJltdLFQ9aCE9bnVsbCxOPWMsQz11fHxzJiZpLmZpbmQuVEFHKCIqIixoJiZhLnBhcmVudE5vZGV8fGEpLGs9Yis9Tj09bnVsbD8xOk1hdGguRTtUJiYoYz1hIT09ZyYmYSxuPW8uZWwpO2Zvcig7KHA9Q1t3XSkhPW51bGw7dysrKXtpZihzJiZwKXtmb3IoZD0wO3Y9ZVtkXTtkKyspaWYodihwLGEsZikpe2wucHVzaChwKTticmVha31UJiYoYj1rLG49KytvLmVsKX1yJiYoKHA9IXYmJnApJiZ5LS0sdSYmeC5wdXNoKHApKX15Kz13O2lmKHImJnchPT15KXtmb3IoZD0wO3Y9dFtkXTtkKyspdih4LG0sYSxmKTtpZih1KXtpZih5PjApd2hpbGUody0tKSF4W3ddJiYhbVt3XSYmKG1bd109RS5jYWxsKGwpKTttPWx0KG0pfVMuYXBwbHkobCxtKSxUJiYhdSYmbS5sZW5ndGg+MCYmeSt0Lmxlbmd0aD4xJiZudC51bmlxdWVTb3J0KGwpfXJldHVybiBUJiYoYj1rLGM9TikseH07cmV0dXJuIG8uZWw9MCxyP04obyk6b31mdW5jdGlvbiBkdChlLHQsbil7dmFyIHI9MCxpPXQubGVuZ3RoO2Zvcig7cjxpO3IrKyludChlLHRbcl0sbik7cmV0dXJuIG59ZnVuY3Rpb24gdnQoZSx0LG4scixzKXt2YXIgbyx1LGYsbCxjLGg9dXQoZSkscD1oLmxlbmd0aDtpZighciYmaC5sZW5ndGg9PT0xKXt1PWhbMF09aFswXS5zbGljZSgwKTtpZih1Lmxlbmd0aD4yJiYoZj11WzBdKS50eXBlPT09IklEIiYmdC5ub2RlVHlwZT09PTkmJiFzJiZpLnJlbGF0aXZlW3VbMV0udHlwZV0pe3Q9aS5maW5kLklEKGYubWF0Y2hlc1swXS5yZXBsYWNlKCQsIiIpLHQscylbMF07aWYoIXQpcmV0dXJuIG47ZT1lLnNsaWNlKHUuc2hpZnQoKS5sZW5ndGgpfWZvcihvPUouUE9TLnRlc3QoZSk/LTE6dS5sZW5ndGgtMTtvPj0wO28tLSl7Zj11W29dO2lmKGkucmVsYXRpdmVbbD1mLnR5cGVdKWJyZWFrO2lmKGM9aS5maW5kW2xdKWlmKHI9YyhmLm1hdGNoZXNbMF0ucmVwbGFjZSgkLCIiKSx6LnRlc3QodVswXS50eXBlKSYmdC5wYXJlbnROb2RlfHx0LHMpKXt1LnNwbGljZShvLDEpLGU9ci5sZW5ndGgmJnUuam9pbigiIik7aWYoIWUpcmV0dXJuIFMuYXBwbHkobix4LmNhbGwociwwKSksbjticmVha319fXJldHVybiBhKGUsaCkocix0LHMsbix6LnRlc3QoZSkpLG59ZnVuY3Rpb24gbXQoKXt9dmFyIG4scixpLHMsbyx1LGEsZixsLGMsaD0hMCxwPSJ1bmRlZmluZWQiLGQ9KCJzaXpjYWNoZSIrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgiLiIsIiIpLG09U3RyaW5nLGc9ZS5kb2N1bWVudCx5PWcuZG9jdW1lbnRFbGVtZW50LGI9MCx3PTAsRT1bXS5wb3AsUz1bXS5wdXNoLHg9W10uc2xpY2UsVD1bXS5pbmRleE9mfHxmdW5jdGlvbihlKXt2YXIgdD0wLG49dGhpcy5sZW5ndGg7Zm9yKDt0PG47dCsrKWlmKHRoaXNbdF09PT1lKXJldHVybiB0O3JldHVybi0xfSxOPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbZF09dD09bnVsbHx8dCxlfSxDPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD1bXTtyZXR1cm4gTihmdW5jdGlvbihuLHIpe3JldHVybiB0LnB1c2gobik+aS5jYWNoZUxlbmd0aCYmZGVsZXRlIGVbdC5zaGlmdCgpXSxlW24rIiAiXT1yfSxlKX0saz1DKCksTD1DKCksQT1DKCksTz0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58Wy1cXHddfFteXFx4MDAtXFx4YTBdKSsiLF89TS5yZXBsYWNlKCJ3IiwidyMiKSxEPSIoWypeJHwhfl0/PSkiLFA9IlxcWyIrTysiKigiK00rIikiK08rIiooPzoiK0QrTysiKig/OihbJ1wiXSkoKD86XFxcXC58W15cXFxcXSkqPylcXDN8KCIrXysiKXwpfCkiK08rIipcXF0iLEg9IjooIitNKyIpKD86XFwoKD86KFsnXCJdKSgoPzpcXFxcLnxbXlxcXFxdKSo/KVxcMnwoW14oKVtcXF1dKnwoPzooPzoiK1ArIil8W146XXxcXFxcLikqfC4qKSlcXCl8KSIsQj0iOihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiK08rIiooKD86LVxcZCk/XFxkKikiK08rIipcXCl8KSg/PVteLV18JCkiLGo9bmV3IFJlZ0V4cCgiXiIrTysiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIitPKyIrJCIsImciKSxGPW5ldyBSZWdFeHAoIl4iK08rIiosIitPKyIqIiksST1uZXcgUmVnRXhwKCJeIitPKyIqKFtcXHgyMFxcdFxcclxcblxcZj4rfl0pIitPKyIqIikscT1uZXcgUmVnRXhwKEgpLFI9L14oPzojKFtcd1wtXSspfChcdyspfFwuKFtcd1wtXSspKSQvLFU9L146bm90Lyx6PS9bXHgyMFx0XHJcblxmXSpbK35dLyxXPS86bm90XCgkLyxYPS9oXGQvaSxWPS9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2ksJD0vXFwoPyFcXCkvZyxKPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLE5BTUU6bmV3IFJlZ0V4cCgiXlxcW25hbWU9WydcIl0/KCIrTSsiKVsnXCJdP1xcXSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTS5yZXBsYWNlKCJ3IiwidyoiKSsiKSIpLEFUVFI6bmV3IFJlZ0V4cCgiXiIrUCksUFNFVURPOm5ldyBSZWdFeHAoIl4iK0gpLFBPUzpuZXcgUmVnRXhwKEIsImkiKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fG50aHxmaXJzdHxsYXN0KS1jaGlsZCg/OlxcKCIrTysiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrTysiKig/OihbKy1dfCkiK08rIiooXFxkKyl8KSkiK08rIipcXCl8KSIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTysiKls+K35dfCIrQiwiaSIpfSxLPWZ1bmN0aW9uKGUpe3ZhciB0PWcuY3JlYXRlRWxlbWVudCgiZGl2Iik7dHJ5e3JldHVybiBlKHQpfWNhdGNoKG4pe3JldHVybiExfWZpbmFsbHl7dD1udWxsfX0sUT1LKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGVuZENoaWxkKGcuY3JlYXRlQ29tbWVudCgiIikpLCFlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksRz1LKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsZS5maXJzdENoaWxkJiZ0eXBlb2YgZS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9PXAmJmUuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKT09PSIjIn0pLFk9SyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHNlbGVjdD48L3NlbGVjdD4iO3ZhciB0PXR5cGVvZiBlLmxhc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIm11bHRpcGxlIik7cmV0dXJuIHQhPT0iYm9vbGVhbiImJnQhPT0ic3RyaW5nIn0pLFo9SyhmdW5jdGlvbihlKXtyZXR1cm4gZS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J2hpZGRlbiBlJz48L2Rpdj48ZGl2IGNsYXNzPSdoaWRkZW4nPjwvZGl2PiIsIWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZXx8IWUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aD8hMTooZS5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIixlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0yKX0pLGV0PUsoZnVuY3Rpb24oZSl7ZS5pZD1kKzAsZS5pbm5lckhUTUw9IjxhIG5hbWU9JyIrZCsiJz48L2E+PGRpdiBuYW1lPSciK2QrIic+PC9kaXY+Iix5Lmluc2VydEJlZm9yZShlLHkuZmlyc3RDaGlsZCk7dmFyIHQ9Zy5nZXRFbGVtZW50c0J5TmFtZSYmZy5nZXRFbGVtZW50c0J5TmFtZShkKS5sZW5ndGg9PT0yK2cuZ2V0RWxlbWVudHNCeU5hbWUoZCswKS5sZW5ndGg7cmV0dXJuIHI9IWcuZ2V0RWxlbWVudEJ5SWQoZCkseS5yZW1vdmVDaGlsZChlKSx0fSk7dHJ5e3guY2FsbCh5LmNoaWxkTm9kZXMsMClbMF0ubm9kZVR5cGV9Y2F0Y2godHQpe3g9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXTtmb3IoO3Q9dGhpc1tlXTtlKyspbi5wdXNoKHQpO3JldHVybiBufX1udC5tYXRjaGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG50KGUsbnVsbCxudWxsLHQpfSxudC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnQodCxudWxsLG51bGwsW2VdKS5sZW5ndGg+MH0scz1udC5nZXRUZXh0PWZ1bmN0aW9uKGUpe3ZhciB0LG49IiIscj0wLGk9ZS5ub2RlVHlwZTtpZihpKXtpZihpPT09MXx8aT09PTl8fGk9PT0xMSl7aWYodHlwZW9mIGUudGV4dENvbnRlbnQ9PSJzdHJpbmciKXJldHVybiBlLnRleHRDb250ZW50O2ZvcihlPWUuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZyluKz1zKGUpfWVsc2UgaWYoaT09PTN8fGk9PT00KXJldHVybiBlLm5vZGVWYWx1ZX1lbHNlIGZvcig7dD1lW3JdO3IrKyluKz1zKHQpO3JldHVybiBufSxvPW50LmlzWE1MPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJihlLm93bmVyRG9jdW1lbnR8fGUpLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gdD90Lm5vZGVOYW1lIT09IkhUTUwiOiExfSx1PW50LmNvbnRhaW5zPXkuY29udGFpbnM/ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLm5vZGVUeXBlPT09OT9lLmRvY3VtZW50RWxlbWVudDplLHI9dCYmdC5wYXJlbnROb2RlO3JldHVybiBlPT09cnx8ISEociYmci5ub2RlVHlwZT09PTEmJm4uY29udGFpbnMmJm4uY29udGFpbnMocikpfTp5LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJiEhKGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkmMTYpfTpmdW5jdGlvbihlLHQpe3doaWxlKHQ9dC5wYXJlbnROb2RlKWlmKHQ9PT1lKXJldHVybiEwO3JldHVybiExfSxudC5hdHRyPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1vKGUpO3JldHVybiByfHwodD10LnRvTG93ZXJDYXNlKCkpLChuPWkuYXR0ckhhbmRsZVt0XSk/bihlKTpyfHxZP2UuZ2V0QXR0cmlidXRlKHQpOihuPWUuZ2V0QXR0cmlidXRlTm9kZSh0KSxuP3R5cGVvZiBlW3RdPT0iYm9vbGVhbiI/ZVt0XT90Om51bGw6bi5zcGVjaWZpZWQ/bi52YWx1ZTpudWxsOm51bGwpfSxpPW50LnNlbGVjdG9ycz17Y2FjaGVMZW5ndGg6NTAsY3JlYXRlUHNldWRvOk4sbWF0Y2g6SixhdHRySGFuZGxlOkc/e306e2hyZWY6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX0sdHlwZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKX19LGZpbmQ6e0lEOnI/ZnVuY3Rpb24oZSx0LG4pe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRCeUlkIT09cCYmIW4pe3ZhciByPXQuZ2V0RWxlbWVudEJ5SWQoZSk7cmV0dXJuIHImJnIucGFyZW50Tm9kZT9bcl06W119fTpmdW5jdGlvbihlLG4scil7aWYodHlwZW9mIG4uZ2V0RWxlbWVudEJ5SWQhPT1wJiYhcil7dmFyIGk9bi5nZXRFbGVtZW50QnlJZChlKTtyZXR1cm4gaT9pLmlkPT09ZXx8dHlwZW9mIGkuZ2V0QXR0cmlidXRlTm9kZSE9PXAmJmkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS52YWx1ZT09PWU/W2ldOnQ6W119fSxUQUc6UT9mdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlUYWdOYW1lIT09cClyZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKX06ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpO2lmKGU9PT0iKiIpe3ZhciByLGk9W10scz0wO2Zvcig7cj1uW3NdO3MrKylyLm5vZGVUeXBlPT09MSYmaS5wdXNoKHIpO3JldHVybiBpfXJldHVybiBufSxOQU1FOmV0JiZmdW5jdGlvbihlLHQpe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlOYW1lIT09cClyZXR1cm4gdC5nZXRFbGVtZW50c0J5TmFtZShuYW1lKX0sQ0xBU1M6WiYmZnVuY3Rpb24oZSx0LG4pe2lmKHR5cGVvZiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPT1wJiYhbilyZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpfX0scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS5yZXBsYWNlKCQsIiIpLGVbM109KGVbNF18fGVbNV18fCIiKS5yZXBsYWNlKCQsIiIpLGVbMl09PT0ifj0iJiYoZVszXT0iICIrZVszXSsiICIpLGUuc2xpY2UoMCw0KX0sQ0hJTEQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV09ZVsxXS50b0xvd2VyQ2FzZSgpLGVbMV09PT0ibnRoIj8oZVsyXXx8bnQuZXJyb3IoZVswXSksZVszXT0rKGVbM10/ZVs0XSsoZVs1XXx8MSk6MiooZVsyXT09PSJldmVuInx8ZVsyXT09PSJvZGQiKSksZVs0XT0rKGVbNl0rZVs3XXx8ZVsyXT09PSJvZGQiKSk6ZVsyXSYmbnQuZXJyb3IoZVswXSksZX0sUFNFVURPOmZ1bmN0aW9uKGUpe3ZhciB0LG47aWYoSi5DSElMRC50ZXN0KGVbMF0pKXJldHVybiBudWxsO2lmKGVbM10pZVsyXT1lWzNdO2Vsc2UgaWYodD1lWzRdKXEudGVzdCh0KSYmKG49dXQodCwhMCkpJiYobj10LmluZGV4T2YoIikiLHQubGVuZ3RoLW4pLXQubGVuZ3RoKSYmKHQ9dC5zbGljZSgwLG4pLGVbMF09ZVswXS5zbGljZSgwLG4pKSxlWzJdPXQ7cmV0dXJuIGUuc2xpY2UoMCwzKX19LGZpbHRlcjp7SUQ6cj9mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoJCwiIiksZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKCJpZCIpPT09ZX19OmZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgkLCIiKSxmdW5jdGlvbih0KXt2YXIgbj10eXBlb2YgdC5nZXRBdHRyaWJ1dGVOb2RlIT09cCYmdC5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBuJiZuLnZhbHVlPT09ZX19LFRBRzpmdW5jdGlvbihlKXtyZXR1cm4gZT09PSIqIj9mdW5jdGlvbigpe3JldHVybiEwfTooZT1lLnJlcGxhY2UoJCwiIikudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXtyZXR1cm4gdC5ub2RlTmFtZSYmdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ZX0pfSxDTEFTUzpmdW5jdGlvbihlKXt2YXIgdD1rW2RdW2UrIiAiXTtyZXR1cm4gdHx8KHQ9bmV3IFJlZ0V4cCgiKF58IitPKyIpIitlKyIoIitPKyJ8JCkiKSkmJmsoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUuY2xhc3NOYW1lfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGUhPT1wJiZlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpfSl9LEFUVFI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBmdW5jdGlvbihyLGkpe3ZhciBzPW50LmF0dHIocixlKTtyZXR1cm4gcz09bnVsbD90PT09IiE9Ijp0PyhzKz0iIix0PT09Ij0iP3M9PT1uOnQ9PT0iIT0iP3MhPT1uOnQ9PT0iXj0iP24mJnMuaW5kZXhPZihuKT09PTA6dD09PSIqPSI/biYmcy5pbmRleE9mKG4pPi0xOnQ9PT0iJD0iP24mJnMuc3Vic3RyKHMubGVuZ3RoLW4ubGVuZ3RoKT09PW46dD09PSJ+PSI/KCIgIitzKyIgIikuaW5kZXhPZihuKT4tMTp0PT09Inw9Ij9zPT09bnx8cy5zdWJzdHIoMCxuLmxlbmd0aCsxKT09PW4rIi0iOiExKTohMH19LENISUxEOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBlPT09Im50aCI/ZnVuY3Rpb24oZSl7dmFyIHQsaSxzPWUucGFyZW50Tm9kZTtpZihuPT09MSYmcj09PTApcmV0dXJuITA7aWYocyl7aT0wO2Zvcih0PXMuZmlyc3RDaGlsZDt0O3Q9dC5uZXh0U2libGluZylpZih0Lm5vZGVUeXBlPT09MSl7aSsrO2lmKGU9PT10KWJyZWFrfX1yZXR1cm4gaS09cixpPT09bnx8aSVuPT09MCYmaS9uPj0wfTpmdW5jdGlvbih0KXt2YXIgbj10O3N3aXRjaChlKXtjYXNlIm9ubHkiOmNhc2UiZmlyc3QiOndoaWxlKG49bi5wcmV2aW91c1NpYmxpbmcpaWYobi5ub2RlVHlwZT09PTEpcmV0dXJuITE7aWYoZT09PSJmaXJzdCIpcmV0dXJuITA7bj10O2Nhc2UibGFzdCI6d2hpbGUobj1uLm5leHRTaWJsaW5nKWlmKG4ubm9kZVR5cGU9PT0xKXJldHVybiExO3JldHVybiEwfX19LFBTRVVETzpmdW5jdGlvbihlLHQpe3ZhciBuLHI9aS5wc2V1ZG9zW2VdfHxpLnNldEZpbHRlcnNbZS50b0xvd2VyQ2FzZSgpXXx8bnQuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIitlKTtyZXR1cm4gcltkXT9yKHQpOnIubGVuZ3RoPjE/KG49W2UsZSwiIix0XSxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKT9OKGZ1bmN0aW9uKGUsbil7dmFyIGkscz1yKGUsdCksbz1zLmxlbmd0aDt3aGlsZShvLS0paT1ULmNhbGwoZSxzW29dKSxlW2ldPSEobltpXT1zW29dKX0pOmZ1bmN0aW9uKGUpe3JldHVybiByKGUsMCxuKX0pOnJ9fSxwc2V1ZG9zOntub3Q6TihmdW5jdGlvbihlKXt2YXIgdD1bXSxuPVtdLHI9YShlLnJlcGxhY2UoaiwiJDEiKSk7cmV0dXJuIHJbZF0/TihmdW5jdGlvbihlLHQsbixpKXt2YXIgcyxvPXIoZSxudWxsLGksW10pLHU9ZS5sZW5ndGg7d2hpbGUodS0tKWlmKHM9b1t1XSllW3VdPSEodFt1XT1zKX0pOmZ1bmN0aW9uKGUsaSxzKXtyZXR1cm4gdFswXT1lLHIodCxudWxsLHMsbiksIW4ucG9wKCl9fSksaGFzOk4oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudChlLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOk4oZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0LnRleHRDb250ZW50fHx0LmlubmVyVGV4dHx8cyh0KSkuaW5kZXhPZihlKT4tMX19KSxlbmFibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITF9LGRpc2FibGVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0PT09ImlucHV0IiYmISFlLmNoZWNrZWR8fHQ9PT0ib3B0aW9uIiYmISFlLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxlLnNlbGVjdGVkPT09ITB9LHBhcmVudDpmdW5jdGlvbihlKXtyZXR1cm4haS5wc2V1ZG9zLmVtcHR5KGUpfSxlbXB0eTpmdW5jdGlvbihlKXt2YXIgdDtlPWUuZmlyc3RDaGlsZDt3aGlsZShlKXtpZihlLm5vZGVOYW1lPiJAInx8KHQ9ZS5ub2RlVHlwZSk9PT0zfHx0PT09NClyZXR1cm4hMTtlPWUubmV4dFNpYmxpbmd9cmV0dXJuITB9LGhlYWRlcjpmdW5jdGlvbihlKXtyZXR1cm4gWC50ZXN0KGUubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJih0PWUudHlwZSk9PT0idGV4dCImJigobj1lLmdldEF0dHJpYnV0ZSgidHlwZSIpKT09bnVsbHx8bi50b0xvd2VyQ2FzZSgpPT09dCl9LHJhZGlvOnJ0KCJyYWRpbyIpLGNoZWNrYm94OnJ0KCJjaGVja2JveCIpLGZpbGU6cnQoImZpbGUiKSxwYXNzd29yZDpydCgicGFzc3dvcmQiKSxpbWFnZTpydCgiaW1hZ2UiKSxzdWJtaXQ6aXQoInN1Ym1pdCIpLHJlc2V0Oml0KCJyZXNldCIpLGJ1dHRvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIHQ9PT0iaW5wdXQiJiZlLnR5cGU9PT0iYnV0dG9uInx8dD09PSJidXR0b24ifSxpbnB1dDpmdW5jdGlvbihlKXtyZXR1cm4gVi50ZXN0KGUubm9kZU5hbWUpfSxmb2N1czpmdW5jdGlvbihlKXt2YXIgdD1lLm93bmVyRG9jdW1lbnQ7cmV0dXJuIGU9PT10LmFjdGl2ZUVsZW1lbnQmJighdC5oYXNGb2N1c3x8dC5oYXNGb2N1cygpKSYmISEoZS50eXBlfHxlLmhyZWZ8fH5lLnRhYkluZGV4KX0sYWN0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBlPT09ZS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnR9LGZpcnN0OnN0KGZ1bmN0aW9uKCl7cmV0dXJuWzBdfSksbGFzdDpzdChmdW5jdGlvbihlLHQpe3JldHVyblt0LTFdfSksZXE6c3QoZnVuY3Rpb24oZSx0LG4pe3JldHVybltuPDA/bit0Om5dfSksZXZlbjpzdChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0wO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLG9kZDpzdChmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0xO248dDtuKz0yKWUucHVzaChuKTtyZXR1cm4gZX0pLGx0OnN0KGZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHI9bjwwP24rdDpuOy0tcj49MDspZS5wdXNoKHIpO3JldHVybiBlfSksZ3Q6c3QoZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgcj1uPDA/bit0Om47KytyPHQ7KWUucHVzaChyKTtyZXR1cm4gZX0pfX0sZj15LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT10PyhsPSEwLDApOighZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbnx8IXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjplLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpJjQpPy0xOjF9OmZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpcmV0dXJuIGw9ITAsMDtpZihlLnNvdXJjZUluZGV4JiZ0LnNvdXJjZUluZGV4KXJldHVybiBlLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7dmFyIG4scixpPVtdLHM9W10sbz1lLnBhcmVudE5vZGUsdT10LnBhcmVudE5vZGUsYT1vO2lmKG89PT11KXJldHVybiBvdChlLHQpO2lmKCFvKXJldHVybi0xO2lmKCF1KXJldHVybiAxO3doaWxlKGEpaS51bnNoaWZ0KGEpLGE9YS5wYXJlbnROb2RlO2E9dTt3aGlsZShhKXMudW5zaGlmdChhKSxhPWEucGFyZW50Tm9kZTtuPWkubGVuZ3RoLHI9cy5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxuJiZmPHI7ZisrKWlmKGlbZl0hPT1zW2ZdKXJldHVybiBvdChpW2ZdLHNbZl0pO3JldHVybiBmPT09bj9vdChlLHNbZl0sLTEpOm90KGlbZl0sdCwxKX0sWzAsMF0uc29ydChmKSxoPSFsLG50LnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1bXSxyPTEsaT0wO2w9aCxlLnNvcnQoZik7aWYobCl7Zm9yKDt0PWVbcl07cisrKXQ9PT1lW3ItMV0mJihpPW4ucHVzaChyKSk7d2hpbGUoaS0tKWUuc3BsaWNlKG5baV0sMSl9cmV0dXJuIGV9LG50LmVycm9yPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitlKX0sYT1udC5jb21waWxlPWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1bXSxpPVtdLHM9QVtkXVtlKyIgIl07aWYoIXMpe3R8fCh0PXV0KGUpKSxuPXQubGVuZ3RoO3doaWxlKG4tLSlzPWh0KHRbbl0pLHNbZF0/ci5wdXNoKHMpOmkucHVzaChzKTtzPUEoZSxwdChpLHIpKX1yZXR1cm4gc30sZy5xdWVyeVNlbGVjdG9yQWxsJiZmdW5jdGlvbigpe3ZhciBlLHQ9dnQsbj0vJ3xcXC9nLHI9L1w9W1x4MjBcdFxyXG5cZl0qKFteJyJcXV0qKVtceDIwXHRcclxuXGZdKlxdL2csaT1bIjpmb2N1cyJdLHM9WyI6YWN0aXZlIl0sdT15Lm1hdGNoZXNTZWxlY3Rvcnx8eS5tb3pNYXRjaGVzU2VsZWN0b3J8fHkud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHx5Lm9NYXRjaGVzU2VsZWN0b3J8fHkubXNNYXRjaGVzU2VsZWN0b3I7SyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHNlbGVjdD48b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PiIsZS5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxpLnB1c2goIlxcWyIrTysiKig/OmNoZWNrZWR8ZGlzYWJsZWR8aXNtYXB8bXVsdGlwbGV8cmVhZG9ubHl8c2VsZWN0ZWR8dmFsdWUpIiksZS5xdWVyeVNlbGVjdG9yQWxsKCI6Y2hlY2tlZCIpLmxlbmd0aHx8aS5wdXNoKCI6Y2hlY2tlZCIpfSksSyhmdW5jdGlvbihlKXtlLmlubmVySFRNTD0iPHAgdGVzdD0nJz48L3A+IixlLnF1ZXJ5U2VsZWN0b3JBbGwoIlt0ZXN0Xj0nJ10iKS5sZW5ndGgmJmkucHVzaCgiWypeJF09IitPKyIqKD86XCJcInwnJykiKSxlLmlubmVySFRNTD0iPGlucHV0IHR5cGU9J2hpZGRlbicvPiIsZS5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aHx8aS5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpfSksaT1uZXcgUmVnRXhwKGkuam9pbigifCIpKSx2dD1mdW5jdGlvbihlLHIscyxvLHUpe2lmKCFvJiYhdSYmIWkudGVzdChlKSl7dmFyIGEsZixsPSEwLGM9ZCxoPXIscD1yLm5vZGVUeXBlPT09OSYmZTtpZihyLm5vZGVUeXBlPT09MSYmci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe2E9dXQoZSksKGw9ci5nZXRBdHRyaWJ1dGUoImlkIikpP2M9bC5yZXBsYWNlKG4sIlxcJCYiKTpyLnNldEF0dHJpYnV0ZSgiaWQiLGMpLGM9IltpZD0nIitjKyInXSAiLGY9YS5sZW5ndGg7d2hpbGUoZi0tKWFbZl09YythW2ZdLmpvaW4oIiIpO2g9ei50ZXN0KGUpJiZyLnBhcmVudE5vZGV8fHIscD1hLmpvaW4oIiwiKX1pZihwKXRyeXtyZXR1cm4gUy5hcHBseShzLHguY2FsbChoLnF1ZXJ5U2VsZWN0b3JBbGwocCksMCkpLHN9Y2F0Y2godil7fWZpbmFsbHl7bHx8ci5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fXJldHVybiB0KGUscixzLG8sdSl9LHUmJihLKGZ1bmN0aW9uKHQpe2U9dS5jYWxsKHQsImRpdiIpO3RyeXt1LmNhbGwodCwiW3Rlc3QhPScnXTpzaXp6bGUiKSxzLnB1c2goIiE9IixIKX1jYXRjaChuKXt9fSkscz1uZXcgUmVnRXhwKHMuam9pbigifCIpKSxudC5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24odCxuKXtuPW4ucmVwbGFjZShyLCI9JyQxJ10iKTtpZighbyh0KSYmIXMudGVzdChuKSYmIWkudGVzdChuKSl0cnl7dmFyIGE9dS5jYWxsKHQsbik7aWYoYXx8ZXx8dC5kb2N1bWVudCYmdC5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXJldHVybiBhfWNhdGNoKGYpe31yZXR1cm4gbnQobixudWxsLG51bGwsW3RdKS5sZW5ndGg+MH0pfSgpLGkucHNldWRvcy5udGg9aS5wc2V1ZG9zLmVxLGkuZmlsdGVycz1tdC5wcm90b3R5cGU9aS5wc2V1ZG9zLGkuc2V0RmlsdGVycz1uZXcgbXQsbnQuYXR0cj12LmF0dHIsdi5maW5kPW50LHYuZXhwcj1udC5zZWxlY3RvcnMsdi5leHByWyI6Il09di5leHByLnBzZXVkb3Msdi51bmlxdWU9bnQudW5pcXVlU29ydCx2LnRleHQ9bnQuZ2V0VGV4dCx2LmlzWE1MRG9jPW50LmlzWE1MLHYuY29udGFpbnM9bnQuY29udGFpbnN9KGUpO3ZhciBudD0vVW50aWwkLyxydD0vXig/OnBhcmVudHN8cHJldig/OlVudGlsfEFsbCkpLyxpdD0vXi5bXjojXFtcLixdKiQvLHN0PXYuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQsb3Q9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07di5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGkscyxvLHU9dGhpcztpZih0eXBlb2YgZSE9InN0cmluZyIpcmV0dXJuIHYoZSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MCxuPXUubGVuZ3RoO3Q8bjt0KyspaWYodi5jb250YWlucyh1W3RdLHRoaXMpKXJldHVybiEwfSk7bz10aGlzLnB1c2hTdGFjaygiIiwiZmluZCIsZSk7Zm9yKHQ9MCxuPXRoaXMubGVuZ3RoO3Q8bjt0Kyspe3I9by5sZW5ndGgsdi5maW5kKGUsdGhpc1t0XSxvKTtpZih0PjApZm9yKGk9cjtpPG8ubGVuZ3RoO2krKylmb3Iocz0wO3M8cjtzKyspaWYob1tzXT09PW9baV0pe28uc3BsaWNlKGktLSwxKTticmVha319cmV0dXJuIG99LGhhczpmdW5jdGlvbihlKXt2YXIgdCxuPXYoZSx0aGlzKSxyPW4ubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih0PTA7dDxyO3QrKylpZih2LmNvbnRhaW5zKHRoaXMsblt0XSkpcmV0dXJuITB9KX0sbm90OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnB1c2hTdGFjayhmdCh0aGlzLGUsITEpLCJub3QiLGUpfSxmaWx0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGZ0KHRoaXMsZSwhMCksImZpbHRlciIsZSl9LGlzOmZ1bmN0aW9uKGUpe3JldHVybiEhZSYmKHR5cGVvZiBlPT0ic3RyaW5nIj9zdC50ZXN0KGUpP3YoZSx0aGlzLmNvbnRleHQpLmluZGV4KHRoaXNbMF0pPj0wOnYuZmlsdGVyKGUsdGhpcykubGVuZ3RoPjA6dGhpcy5maWx0ZXIoZSkubGVuZ3RoPjApfSxjbG9zZXN0OmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wLGk9dGhpcy5sZW5ndGgscz1bXSxvPXN0LnRlc3QoZSl8fHR5cGVvZiBlIT0ic3RyaW5nIj92KGUsdHx8dGhpcy5jb250ZXh0KTowO2Zvcig7cjxpO3IrKyl7bj10aGlzW3JdO3doaWxlKG4mJm4ub3duZXJEb2N1bWVudCYmbiE9PXQmJm4ubm9kZVR5cGUhPT0xMSl7aWYobz9vLmluZGV4KG4pPi0xOnYuZmluZC5tYXRjaGVzU2VsZWN0b3IobixlKSl7cy5wdXNoKG4pO2JyZWFrfW49bi5wYXJlbnROb2RlfX1yZXR1cm4gcz1zLmxlbmd0aD4xP3YudW5pcXVlKHMpOnMsdGhpcy5wdXNoU3RhY2socywiY2xvc2VzdCIsZSl9LGluZGV4OmZ1bmN0aW9uKGUpe3JldHVybiBlP3R5cGVvZiBlPT0ic3RyaW5nIj92LmluQXJyYXkodGhpc1swXSx2KGUpKTp2LmluQXJyYXkoZS5qcXVlcnk/ZVswXTplLHRoaXMpOnRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZT90aGlzLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihlLHQpe3ZhciBuPXR5cGVvZiBlPT0ic3RyaW5nIj92KGUsdCk6di5tYWtlQXJyYXkoZSYmZS5ub2RlVHlwZT9bZV06ZSkscj12Lm1lcmdlKHRoaXMuZ2V0KCksbik7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHV0KG5bMF0pfHx1dChyWzBdKT9yOnYudW5pcXVlKHIpKX0sYWRkQmFjazpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGQoZT09bnVsbD90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihlKSl9fSksdi5mbi5hbmRTZWxmPXYuZm4uYWRkQmFjayx2LmVhY2goe3BhcmVudDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmVudE5vZGU7cmV0dXJuIHQmJnQubm9kZVR5cGUhPT0xMT90Om51bGx9LHBhcmVudHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZGlyKGUsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdi5kaXIoZSwicGFyZW50Tm9kZSIsbil9LG5leHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGF0KGUsIm5leHRTaWJsaW5nIil9LHByZXY6ZnVuY3Rpb24oZSl7cmV0dXJuIGF0KGUsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB2LmRpcihlLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGUpe3JldHVybiB2LmRpcihlLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdi5kaXIoZSwibmV4dFNpYmxpbmciLG4pfSxwcmV2VW50aWw6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiB2LmRpcihlLCJwcmV2aW91c1NpYmxpbmciLG4pfSxzaWJsaW5nczpmdW5jdGlvbihlKXtyZXR1cm4gdi5zaWJsaW5nKChlLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLGUpfSxjaGlsZHJlbjpmdW5jdGlvbihlKXtyZXR1cm4gdi5zaWJsaW5nKGUuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGUpe3JldHVybiB2Lm5vZGVOYW1lKGUsImlmcmFtZSIpP2UuY29udGVudERvY3VtZW50fHxlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6di5tZXJnZShbXSxlLmNoaWxkTm9kZXMpfX0sZnVuY3Rpb24oZSx0KXt2LmZuW2VdPWZ1bmN0aW9uKG4scil7dmFyIGk9di5tYXAodGhpcyx0LG4pO3JldHVybiBudC50ZXN0KGUpfHwocj1uKSxyJiZ0eXBlb2Ygcj09InN0cmluZyImJihpPXYuZmlsdGVyKHIsaSkpLGk9dGhpcy5sZW5ndGg+MSYmIW90W2VdP3YudW5pcXVlKGkpOmksdGhpcy5sZW5ndGg+MSYmcnQudGVzdChlKSYmKGk9aS5yZXZlcnNlKCkpLHRoaXMucHVzaFN0YWNrKGksZSxsLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfX0pLHYuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuJiYoZT0iOm5vdCgiK2UrIikiKSx0Lmxlbmd0aD09PTE/di5maW5kLm1hdGNoZXNTZWxlY3Rvcih0WzBdLGUpP1t0WzBdXTpbXTp2LmZpbmQubWF0Y2hlcyhlLHQpfSxkaXI6ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPVtdLHM9ZVtuXTt3aGlsZShzJiZzLm5vZGVUeXBlIT09OSYmKHI9PT10fHxzLm5vZGVUeXBlIT09MXx8IXYocykuaXMocikpKXMubm9kZVR5cGU9PT0xJiZpLnB1c2gocykscz1zW25dO3JldHVybiBpfSxzaWJsaW5nOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107Zm9yKDtlO2U9ZS5uZXh0U2libGluZyllLm5vZGVUeXBlPT09MSYmZSE9PXQmJm4ucHVzaChlKTtyZXR1cm4gbn19KTt2YXIgY3Q9ImFiYnJ8YXJ0aWNsZXxhc2lkZXxhdWRpb3xiZGl8Y2FudmFzfGRhdGF8ZGF0YWxpc3R8ZGV0YWlsc3xmaWdjYXB0aW9ufGZpZ3VyZXxmb290ZXJ8aGVhZGVyfGhncm91cHxtYXJrfG1ldGVyfG5hdnxvdXRwdXR8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRpbWV8dmlkZW8iLGh0PS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2cscHQ9L15ccysvLGR0PS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vZ2ksdnQ9LzwoW1x3Ol0rKS8sbXQ9Lzx0Ym9keS9pLGd0PS88fCYjP1x3KzsvLHl0PS88KD86c2NyaXB0fHN0eWxlfGxpbmspL2ksYnQ9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSx3dD1uZXcgUmVnRXhwKCI8KD86IitjdCsiKVtcXHMvPl0iLCJpIiksRXQ9L14oPzpjaGVja2JveHxyYWRpbykkLyxTdD0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSx4dD0vXC8oamF2YXxlY21hKXNjcmlwdC9pLFR0PS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSl8W1xdXC1dezJ9PlxzKiQvZyxOdD17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSx0aGVhZDpbMSwiPHRhYmxlPiIsIjwvdGFibGU+Il0sdHI6WzIsIjx0YWJsZT48dGJvZHk+IiwiPC90Ym9keT48L3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxjb2w6WzIsIjx0YWJsZT48dGJvZHk+PC90Ym9keT48Y29sZ3JvdXA+IiwiPC9jb2xncm91cD48L3RhYmxlPiJdLGFyZWE6WzEsIjxtYXA+IiwiPC9tYXA+Il0sX2RlZmF1bHQ6WzAsIiIsIiJdfSxDdD1sdChpKSxrdD1DdC5hcHBlbmRDaGlsZChpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtOdC5vcHRncm91cD1OdC5vcHRpb24sTnQudGJvZHk9TnQudGZvb3Q9TnQuY29sZ3JvdXA9TnQuY2FwdGlvbj1OdC50aGVhZCxOdC50aD1OdC50ZCx2LnN1cHBvcnQuaHRtbFNlcmlhbGl6ZXx8KE50Ll9kZWZhdWx0PVsxLCJYPGRpdj4iLCI8L2Rpdj4iXSksdi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT10P3YudGV4dCh0aGlzKTp0aGlzLmVtcHR5KCkuYXBwZW5kKCh0aGlzWzBdJiZ0aGlzWzBdLm93bmVyRG9jdW1lbnR8fGkpLmNyZWF0ZVRleHROb2RlKGUpKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSx3cmFwQWxsOmZ1bmN0aW9uKGUpe2lmKHYuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3YodGhpcykud3JhcEFsbChlLmNhbGwodGhpcyx0KSl9KTtpZih0aGlzWzBdKXt2YXIgdD12KGUsdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCk7dGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXM7d2hpbGUoZS5maXJzdENoaWxkJiZlLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0xKWU9ZS5maXJzdENoaWxkO3JldHVybiBlfSkuYXBwZW5kKHRoaXMpfXJldHVybiB0aGlzfSx3cmFwSW5uZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuaXNGdW5jdGlvbihlKT90aGlzLmVhY2goZnVuY3Rpb24odCl7dih0aGlzKS53cmFwSW5uZXIoZS5jYWxsKHRoaXMsdCkpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dih0aGlzKSxuPXQuY29udGVudHMoKTtuLmxlbmd0aD9uLndyYXBBbGwoZSk6dC5hcHBlbmQoZSl9KX0sd3JhcDpmdW5jdGlvbihlKXt2YXIgdD12LmlzRnVuY3Rpb24oZSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihuKXt2KHRoaXMpLndyYXBBbGwodD9lLmNhbGwodGhpcyxuKTplKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7di5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fHYodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oZSl7KHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTEpJiZ0aGlzLmFwcGVuZENoaWxkKGUpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oZSl7KHRoaXMubm9kZVR5cGU9PT0xfHx0aGlzLm5vZGVUeXBlPT09MTEpJiZ0aGlzLmluc2VydEJlZm9yZShlLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYoIXV0KHRoaXNbMF0pKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgZT12LmNsZWFuKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWVyZ2UoZSx0aGlzKSwiYmVmb3JlIix0aGlzLnNlbGVjdG9yKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYoIXV0KHRoaXNbMF0pKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihlKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgZT12LmNsZWFuKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKHYubWVyZ2UodGhpcyxlKSwiYWZ0ZXIiLHRoaXMuc2VsZWN0b3IpfX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0wO2Zvcig7KG49dGhpc1tyXSkhPW51bGw7cisrKWlmKCFlfHx2LmZpbHRlcihlLFtuXSkubGVuZ3RoKSF0JiZuLm5vZGVUeXBlPT09MSYmKHYuY2xlYW5EYXRhKG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksdi5jbGVhbkRhdGEoW25dKSksbi5wYXJlbnROb2RlJiZuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobik7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7dmFyIGUsdD0wO2Zvcig7KGU9dGhpc1t0XSkhPW51bGw7dCsrKXtlLm5vZGVUeXBlPT09MSYmdi5jbGVhbkRhdGEoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShlLmZpcnN0Q2hpbGQpZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihlLHQpe3JldHVybiBlPWU9PW51bGw/ITE6ZSx0PXQ9PW51bGw/ZTp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHYuY2xvbmUodGhpcyxlLHQpfSl9LGh0bWw6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSl7dmFyIG49dGhpc1swXXx8e30scj0wLGk9dGhpcy5sZW5ndGg7aWYoZT09PXQpcmV0dXJuIG4ubm9kZVR5cGU9PT0xP24uaW5uZXJIVE1MLnJlcGxhY2UoaHQsIiIpOnQ7aWYodHlwZW9mIGU9PSJzdHJpbmciJiYheXQudGVzdChlKSYmKHYuc3VwcG9ydC5odG1sU2VyaWFsaXplfHwhd3QudGVzdChlKSkmJih2LnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2V8fCFwdC50ZXN0KGUpKSYmIU50Wyh2dC5leGVjKGUpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7ZT1lLnJlcGxhY2UoZHQsIjwkMT48LyQyPiIpO3RyeXtmb3IoO3I8aTtyKyspbj10aGlzW3JdfHx7fSxuLm5vZGVUeXBlPT09MSYmKHYuY2xlYW5EYXRhKG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksbi5pbm5lckhUTUw9ZSk7bj0wfWNhdGNoKHMpe319biYmdGhpcy5lbXB0eSgpLmFwcGVuZChlKX0sbnVsbCxlLGFyZ3VtZW50cy5sZW5ndGgpfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdXQodGhpc1swXSk/dGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2sodih2LmlzRnVuY3Rpb24oZSk/ZSgpOmUpLCJyZXBsYWNlV2l0aCIsZSk6dGhpczp2LmlzRnVuY3Rpb24oZSk/dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXYodGhpcykscj1uLmh0bWwoKTtuLnJlcGxhY2VXaXRoKGUuY2FsbCh0aGlzLHQscikpfSk6KHR5cGVvZiBlIT0ic3RyaW5nIiYmKGU9dihlKS5kZXRhY2goKSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5uZXh0U2libGluZyxuPXRoaXMucGFyZW50Tm9kZTt2KHRoaXMpLnJlbW92ZSgpLHQ/dih0KS5iZWZvcmUoZSk6dihuKS5hcHBlbmQoZSl9KSl9LGRldGFjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZW1vdmUoZSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGUsbixyKXtlPVtdLmNvbmNhdC5hcHBseShbXSxlKTt2YXIgaSxzLG8sdSxhPTAsZj1lWzBdLGw9W10sYz10aGlzLmxlbmd0aDtpZighdi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmM+MSYmdHlwZW9mIGY9PSJzdHJpbmciJiZTdC50ZXN0KGYpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2KHRoaXMpLmRvbU1hbmlwKGUsbixyKX0pO2lmKHYuaXNGdW5jdGlvbihmKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGkpe3ZhciBzPXYodGhpcyk7ZVswXT1mLmNhbGwodGhpcyxpLG4/cy5odG1sKCk6dCkscy5kb21NYW5pcChlLG4scil9KTtpZih0aGlzWzBdKXtpPXYuYnVpbGRGcmFnbWVudChlLHRoaXMsbCksbz1pLmZyYWdtZW50LHM9by5maXJzdENoaWxkLG8uY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiYobz1zKTtpZihzKXtuPW4mJnYubm9kZU5hbWUocywidHIiKTtmb3IodT1pLmNhY2hlYWJsZXx8Yy0xO2E8YzthKyspci5jYWxsKG4mJnYubm9kZU5hbWUodGhpc1thXSwidGFibGUiKT9MdCh0aGlzW2FdLCJ0Ym9keSIpOnRoaXNbYV0sYT09PXU/bzp2LmNsb25lKG8sITAsITApKX1vPXM9bnVsbCxsLmxlbmd0aCYmdi5lYWNoKGwsZnVuY3Rpb24oZSx0KXt0LnNyYz92LmFqYXg/di5hamF4KHt1cmw6dC5zcmMsdHlwZToiR0VUIixkYXRhVHlwZToic2NyaXB0Iixhc3luYzohMSxnbG9iYWw6ITEsInRocm93cyI6ITB9KTp2LmVycm9yKCJubyBhamF4Iik6di5nbG9iYWxFdmFsKCh0LnRleHR8fHQudGV4dENvbnRlbnR8fHQuaW5uZXJIVE1MfHwiIikucmVwbGFjZShUdCwiIikpLHQucGFyZW50Tm9kZSYmdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpfSl9cmV0dXJuIHRoaXN9fSksdi5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGUsbixyKXt2YXIgcyxvLHUsYT1lWzBdO3JldHVybiBuPW58fGksbj0hbi5ub2RlVHlwZSYmblswXXx8bixuPW4ub3duZXJEb2N1bWVudHx8bixlLmxlbmd0aD09PTEmJnR5cGVvZiBhPT0ic3RyaW5nIiYmYS5sZW5ndGg8NTEyJiZuPT09aSYmYS5jaGFyQXQoMCk9PT0iPCImJiFidC50ZXN0KGEpJiYodi5zdXBwb3J0LmNoZWNrQ2xvbmV8fCFTdC50ZXN0KGEpKSYmKHYuc3VwcG9ydC5odG1sNUNsb25lfHwhd3QudGVzdChhKSkmJihvPSEwLHM9di5mcmFnbWVudHNbYV0sdT1zIT09dCksc3x8KHM9bi5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksdi5jbGVhbihlLG4scyxyKSxvJiYodi5mcmFnbWVudHNbYV09dSYmcykpLHtmcmFnbWVudDpzLGNhY2hlYWJsZTpvfX0sdi5mcmFnbWVudHM9e30sdi5lYWNoKHthcHBlbmRUbzoiYXBwZW5kIixwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oZSx0KXt2LmZuW2VdPWZ1bmN0aW9uKG4pe3ZhciByLGk9MCxzPVtdLG89dihuKSx1PW8ubGVuZ3RoLGE9dGhpcy5sZW5ndGg9PT0xJiZ0aGlzWzBdLnBhcmVudE5vZGU7aWYoKGE9PW51bGx8fGEmJmEubm9kZVR5cGU9PT0xMSYmYS5jaGlsZE5vZGVzLmxlbmd0aD09PTEpJiZ1PT09MSlyZXR1cm4gb1t0XSh0aGlzWzBdKSx0aGlzO2Zvcig7aTx1O2krKylyPShpPjA/dGhpcy5jbG9uZSghMCk6dGhpcykuZ2V0KCksdihvW2ldKVt0XShyKSxzPXMuY29uY2F0KHIpO3JldHVybiB0aGlzLnB1c2hTdGFjayhzLGUsby5zZWxlY3Rvcil9fSksdi5leHRlbmQoe2Nsb25lOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLHMsbzt2LnN1cHBvcnQuaHRtbDVDbG9uZXx8di5pc1hNTERvYyhlKXx8IXd0LnRlc3QoIjwiK2Uubm9kZU5hbWUrIj4iKT9vPWUuY2xvbmVOb2RlKCEwKTooa3QuaW5uZXJIVE1MPWUub3V0ZXJIVE1MLGt0LnJlbW92ZUNoaWxkKG89a3QuZmlyc3RDaGlsZCkpO2lmKCghdi5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IXYuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTExKSYmIXYuaXNYTUxEb2MoZSkpe090KGUsbykscj1NdChlKSxpPU10KG8pO2ZvcihzPTA7cltzXTsrK3MpaVtzXSYmT3QocltzXSxpW3NdKX1pZih0KXtBdChlLG8pO2lmKG4pe3I9TXQoZSksaT1NdChvKTtmb3Iocz0wO3Jbc107KytzKUF0KHJbc10saVtzXSl9fXJldHVybiByPWk9bnVsbCxvfSxjbGVhbjpmdW5jdGlvbihlLHQsbixyKXt2YXIgcyxvLHUsYSxmLGwsYyxoLHAsZCxtLGcseT10PT09aSYmQ3QsYj1bXTtpZighdHx8dHlwZW9mIHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudD09InVuZGVmaW5lZCIpdD1pO2ZvcihzPTA7KHU9ZVtzXSkhPW51bGw7cysrKXt0eXBlb2YgdT09Im51bWJlciImJih1Kz0iIik7aWYoIXUpY29udGludWU7aWYodHlwZW9mIHU9PSJzdHJpbmciKWlmKCFndC50ZXN0KHUpKXU9dC5jcmVhdGVUZXh0Tm9kZSh1KTtlbHNle3k9eXx8bHQodCksYz10LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHkuYXBwZW5kQ2hpbGQoYyksdT11LnJlcGxhY2UoZHQsIjwkMT48LyQyPiIpLGE9KHZ0LmV4ZWModSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksZj1OdFthXXx8TnQuX2RlZmF1bHQsbD1mWzBdLGMuaW5uZXJIVE1MPWZbMV0rdStmWzJdO3doaWxlKGwtLSljPWMubGFzdENoaWxkO2lmKCF2LnN1cHBvcnQudGJvZHkpe2g9bXQudGVzdCh1KSxwPWE9PT0idGFibGUiJiYhaD9jLmZpcnN0Q2hpbGQmJmMuZmlyc3RDaGlsZC5jaGlsZE5vZGVzOmZbMV09PT0iPHRhYmxlPiImJiFoP2MuY2hpbGROb2RlczpbXTtmb3Iobz1wLmxlbmd0aC0xO28+PTA7LS1vKXYubm9kZU5hbWUocFtvXSwidGJvZHkiKSYmIXBbb10uY2hpbGROb2Rlcy5sZW5ndGgmJnBbb10ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwW29dKX0hdi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZwdC50ZXN0KHUpJiZjLmluc2VydEJlZm9yZSh0LmNyZWF0ZVRleHROb2RlKHB0LmV4ZWModSlbMF0pLGMuZmlyc3RDaGlsZCksdT1jLmNoaWxkTm9kZXMsYy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGMpfXUubm9kZVR5cGU/Yi5wdXNoKHUpOnYubWVyZ2UoYix1KX1jJiYodT1jPXk9bnVsbCk7aWYoIXYuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWZvcihzPTA7KHU9YltzXSkhPW51bGw7cysrKXYubm9kZU5hbWUodSwiaW5wdXQiKT9fdCh1KTp0eXBlb2YgdS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJnYuZ3JlcCh1LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLF90KTtpZihuKXttPWZ1bmN0aW9uKGUpe2lmKCFlLnR5cGV8fHh0LnRlc3QoZS50eXBlKSlyZXR1cm4gcj9yLnB1c2goZS5wYXJlbnROb2RlP2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTplKTpuLmFwcGVuZENoaWxkKGUpfTtmb3Iocz0wOyh1PWJbc10pIT1udWxsO3MrKylpZighdi5ub2RlTmFtZSh1LCJzY3JpcHQiKXx8IW0odSkpbi5hcHBlbmRDaGlsZCh1KSx0eXBlb2YgdS5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCImJihnPXYuZ3JlcCh2Lm1lcmdlKFtdLHUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSxtKSxiLnNwbGljZS5hcHBseShiLFtzKzEsMF0uY29uY2F0KGcpKSxzKz1nLmxlbmd0aCl9cmV0dXJuIGJ9LGNsZWFuRGF0YTpmdW5jdGlvbihlLHQpe3ZhciBuLHIsaSxzLG89MCx1PXYuZXhwYW5kbyxhPXYuY2FjaGUsZj12LnN1cHBvcnQuZGVsZXRlRXhwYW5kbyxsPXYuZXZlbnQuc3BlY2lhbDtmb3IoOyhpPWVbb10pIT1udWxsO28rKylpZih0fHx2LmFjY2VwdERhdGEoaSkpe3I9aVt1XSxuPXImJmFbcl07aWYobil7aWYobi5ldmVudHMpZm9yKHMgaW4gbi5ldmVudHMpbFtzXT92LmV2ZW50LnJlbW92ZShpLHMpOnYucmVtb3ZlRXZlbnQoaSxzLG4uaGFuZGxlKTthW3JdJiYoZGVsZXRlIGFbcl0sZj9kZWxldGUgaVt1XTppLnJlbW92ZUF0dHJpYnV0ZT9pLnJlbW92ZUF0dHJpYnV0ZSh1KTppW3VdPW51bGwsdi5kZWxldGVkSWRzLnB1c2gocikpfX19fSksZnVuY3Rpb24oKXt2YXIgZSx0O3YudWFNYXRjaD1mdW5jdGlvbihlKXtlPWUudG9Mb3dlckNhc2UoKTt2YXIgdD0vKGNocm9tZSlbIFwvXShbXHcuXSspLy5leGVjKGUpfHwvKHdlYmtpdClbIFwvXShbXHcuXSspLy5leGVjKGUpfHwvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcL10oW1x3Ll0rKS8uZXhlYyhlKXx8Lyhtc2llKSAoW1x3Ll0rKS8uZXhlYyhlKXx8ZS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmLyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKXwpLy5leGVjKGUpfHxbXTtyZXR1cm57YnJvd3Nlcjp0WzFdfHwiIix2ZXJzaW9uOnRbMl18fCIwIn19LGU9di51YU1hdGNoKG8udXNlckFnZW50KSx0PXt9LGUuYnJvd3NlciYmKHRbZS5icm93c2VyXT0hMCx0LnZlcnNpb249ZS52ZXJzaW9uKSx0LmNocm9tZT90LndlYmtpdD0hMDp0LndlYmtpdCYmKHQuc2FmYXJpPSEwKSx2LmJyb3dzZXI9dCx2LnN1Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuKXtyZXR1cm4gbmV3IGUuZm4uaW5pdCh0LG4pfXYuZXh0ZW5kKCEwLGUsdGhpcyksZS5zdXBlcmNsYXNzPXRoaXMsZS5mbj1lLnByb3RvdHlwZT10aGlzKCksZS5mbi5jb25zdHJ1Y3Rvcj1lLGUuc3ViPXRoaXMuc3ViLGUuZm4uaW5pdD1mdW5jdGlvbihyLGkpe3JldHVybiBpJiZpIGluc3RhbmNlb2YgdiYmIShpIGluc3RhbmNlb2YgZSkmJihpPWUoaSkpLHYuZm4uaW5pdC5jYWxsKHRoaXMscixpLHQpfSxlLmZuLmluaXQucHJvdG90eXBlPWUuZm47dmFyIHQ9ZShpKTtyZXR1cm4gZX19KCk7dmFyIER0LFB0LEh0LEJ0PS9hbHBoYVwoW14pXSpcKS9pLGp0PS9vcGFjaXR5PShbXildKikvLEZ0PS9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLyxJdD0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8scXQ9L15tYXJnaW4vLFJ0PW5ldyBSZWdFeHAoIl4oIittKyIpKC4qKSQiLCJpIiksVXQ9bmV3IFJlZ0V4cCgiXigiK20rIikoPyFweClbYS16JV0rJCIsImkiKSx6dD1uZXcgUmVnRXhwKCJeKFstK10pPSgiK20rIikiLCJpIiksV3Q9e0JPRFk6ImJsb2NrIn0sWHQ9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LFZ0PXtsZXR0ZXJTcGFjaW5nOjAsZm9udFdlaWdodDo0MDB9LCR0PVsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sSnQ9WyJXZWJraXQiLCJPIiwiTW96IiwibXMiXSxLdD12LmZuLnRvZ2dsZTt2LmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGUsbil7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24oZSxuLHIpe3JldHVybiByIT09dD92LnN0eWxlKGUsbixyKTp2LmNzcyhlLG4pfSxlLG4sYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBZdCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBZdCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dHlwZW9mIGU9PSJib29sZWFuIjtyZXR1cm4gdi5pc0Z1bmN0aW9uKGUpJiZ2LmlzRnVuY3Rpb24odCk/S3QuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuZWFjaChmdW5jdGlvbigpeyhuP2U6R3QodGhpcykpP3YodGhpcykuc2hvdygpOnYodGhpcykuaGlkZSgpfSl9fSksdi5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24oZSx0KXtpZih0KXt2YXIgbj1EdChlLCJvcGFjaXR5Iik7cmV0dXJuIG49PT0iIj8iMSI6bn19fX0sY3NzTnVtYmVyOntmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6di5zdXBwb3J0LmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSxzdHlsZTpmdW5jdGlvbihlLG4scixpKXtpZighZXx8ZS5ub2RlVHlwZT09PTN8fGUubm9kZVR5cGU9PT04fHwhZS5zdHlsZSlyZXR1cm47dmFyIHMsbyx1LGE9di5jYW1lbENhc2UobiksZj1lLnN0eWxlO249di5jc3NQcm9wc1thXXx8KHYuY3NzUHJvcHNbYV09UXQoZixhKSksdT12LmNzc0hvb2tzW25dfHx2LmNzc0hvb2tzW2FdO2lmKHI9PT10KXJldHVybiB1JiYiZ2V0ImluIHUmJihzPXUuZ2V0KGUsITEsaSkpIT09dD9zOmZbbl07bz10eXBlb2YgcixvPT09InN0cmluZyImJihzPXp0LmV4ZWMocikpJiYocj0oc1sxXSsxKSpzWzJdK3BhcnNlRmxvYXQodi5jc3MoZSxuKSksbz0ibnVtYmVyIik7aWYocj09bnVsbHx8bz09PSJudW1iZXIiJiZpc05hTihyKSlyZXR1cm47bz09PSJudW1iZXIiJiYhdi5jc3NOdW1iZXJbYV0mJihyKz0icHgiKTtpZighdXx8ISgic2V0ImluIHUpfHwocj11LnNldChlLHIsaSkpIT09dCl0cnl7ZltuXT1yfWNhdGNoKGwpe319LGNzczpmdW5jdGlvbihlLG4scixpKXt2YXIgcyxvLHUsYT12LmNhbWVsQ2FzZShuKTtyZXR1cm4gbj12LmNzc1Byb3BzW2FdfHwodi5jc3NQcm9wc1thXT1RdChlLnN0eWxlLGEpKSx1PXYuY3NzSG9va3Nbbl18fHYuY3NzSG9va3NbYV0sdSYmImdldCJpbiB1JiYocz11LmdldChlLCEwLGkpKSxzPT09dCYmKHM9RHQoZSxuKSkscz09PSJub3JtYWwiJiZuIGluIFZ0JiYocz1WdFtuXSkscnx8aSE9PXQ/KG89cGFyc2VGbG9hdChzKSxyfHx2LmlzTnVtZXJpYyhvKT9vfHwwOnMpOnN9LHN3YXA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGkscz17fTtmb3IoaSBpbiB0KXNbaV09ZS5zdHlsZVtpXSxlLnN0eWxlW2ldPXRbaV07cj1uLmNhbGwoZSk7Zm9yKGkgaW4gdCllLnN0eWxlW2ldPXNbaV07cmV0dXJuIHJ9fSksZS5nZXRDb21wdXRlZFN0eWxlP0R0PWZ1bmN0aW9uKHQsbil7dmFyIHIsaSxzLG8sdT1lLmdldENvbXB1dGVkU3R5bGUodCxudWxsKSxhPXQuc3R5bGU7cmV0dXJuIHUmJihyPXUuZ2V0UHJvcGVydHlWYWx1ZShuKXx8dVtuXSxyPT09IiImJiF2LmNvbnRhaW5zKHQub3duZXJEb2N1bWVudCx0KSYmKHI9di5zdHlsZSh0LG4pKSxVdC50ZXN0KHIpJiZxdC50ZXN0KG4pJiYoaT1hLndpZHRoLHM9YS5taW5XaWR0aCxvPWEubWF4V2lkdGgsYS5taW5XaWR0aD1hLm1heFdpZHRoPWEud2lkdGg9cixyPXUud2lkdGgsYS53aWR0aD1pLGEubWluV2lkdGg9cyxhLm1heFdpZHRoPW8pKSxyfTppLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihEdD1mdW5jdGlvbihlLHQpe3ZhciBuLHIsaT1lLmN1cnJlbnRTdHlsZSYmZS5jdXJyZW50U3R5bGVbdF0scz1lLnN0eWxlO3JldHVybiBpPT1udWxsJiZzJiZzW3RdJiYoaT1zW3RdKSxVdC50ZXN0KGkpJiYhRnQudGVzdCh0KSYmKG49cy5sZWZ0LHI9ZS5ydW50aW1lU3R5bGUmJmUucnVudGltZVN0eWxlLmxlZnQsciYmKGUucnVudGltZVN0eWxlLmxlZnQ9ZS5jdXJyZW50U3R5bGUubGVmdCkscy5sZWZ0PXQ9PT0iZm9udFNpemUiPyIxZW0iOmksaT1zLnBpeGVsTGVmdCsicHgiLHMubGVmdD1uLHImJihlLnJ1bnRpbWVTdHlsZS5sZWZ0PXIpKSxpPT09IiI/ImF1dG8iOml9KSx2LmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGUsdCl7di5jc3NIb29rc1t0XT17Z2V0OmZ1bmN0aW9uKGUsbixyKXtpZihuKXJldHVybiBlLm9mZnNldFdpZHRoPT09MCYmSXQudGVzdChEdChlLCJkaXNwbGF5IikpP3Yuc3dhcChlLFh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRuKGUsdCxyKX0pOnRuKGUsdCxyKX0sc2V0OmZ1bmN0aW9uKGUsbixyKXtyZXR1cm4gWnQoZSxuLHI/ZW4oZSx0LHIsdi5zdXBwb3J0LmJveFNpemluZyYmdi5jc3MoZSwiYm94U2l6aW5nIik9PT0iYm9yZGVyLWJveCIpOjApfX19KSx2LnN1cHBvcnQub3BhY2l0eXx8KHYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGp0LnRlc3QoKHQmJmUuY3VycmVudFN0eWxlP2UuY3VycmVudFN0eWxlLmZpbHRlcjplLnN0eWxlLmZpbHRlcil8fCIiKT8uMDEqcGFyc2VGbG9hdChSZWdFeHAuJDEpKyIiOnQ/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLnN0eWxlLHI9ZS5jdXJyZW50U3R5bGUsaT12LmlzTnVtZXJpYyh0KT8iYWxwaGEob3BhY2l0eT0iK3QqMTAwKyIpIjoiIixzPXImJnIuZmlsdGVyfHxuLmZpbHRlcnx8IiI7bi56b29tPTE7aWYodD49MSYmdi50cmltKHMucmVwbGFjZShCdCwiIikpPT09IiImJm4ucmVtb3ZlQXR0cmlidXRlKXtuLnJlbW92ZUF0dHJpYnV0ZSgiZmlsdGVyIik7aWYociYmIXIuZmlsdGVyKXJldHVybn1uLmZpbHRlcj1CdC50ZXN0KHMpP3MucmVwbGFjZShCdCxpKTpzKyIgIitpfX0pLHYoZnVuY3Rpb24oKXt2LnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KHYuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiB2LnN3YXAoZSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtpZih0KXJldHVybiBEdChlLCJtYXJnaW5SaWdodCIpfSl9fSksIXYuc3VwcG9ydC5waXhlbFBvc2l0aW9uJiZ2LmZuLnBvc2l0aW9uJiZ2LmVhY2goWyJ0b3AiLCJsZWZ0Il0sZnVuY3Rpb24oZSx0KXt2LmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24oZSxuKXtpZihuKXt2YXIgcj1EdChlLHQpO3JldHVybiBVdC50ZXN0KHIpP3YoZSkucG9zaXRpb24oKVt0XSsicHgiOnJ9fX19KX0pLHYuZXhwciYmdi5leHByLmZpbHRlcnMmJih2LmV4cHIuZmlsdGVycy5oaWRkZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUub2Zmc2V0V2lkdGg9PT0wJiZlLm9mZnNldEhlaWdodD09PTB8fCF2LnN1cHBvcnQucmVsaWFibGVIaWRkZW5PZmZzZXRzJiYoZS5zdHlsZSYmZS5zdHlsZS5kaXNwbGF5fHxEdChlLCJkaXNwbGF5IikpPT09Im5vbmUifSx2LmV4cHIuZmlsdGVycy52aXNpYmxlPWZ1bmN0aW9uKGUpe3JldHVybiF2LmV4cHIuZmlsdGVycy5oaWRkZW4oZSl9KSx2LmVhY2goe21hcmdpbjoiIixwYWRkaW5nOiIiLGJvcmRlcjoiV2lkdGgifSxmdW5jdGlvbihlLHQpe3YuY3NzSG9va3NbZSt0XT17ZXhwYW5kOmZ1bmN0aW9uKG4pe3ZhciByLGk9dHlwZW9mIG49PSJzdHJpbmciP24uc3BsaXQoIiAiKTpbbl0scz17fTtmb3Iocj0wO3I8NDtyKyspc1tlKyR0W3JdK3RdPWlbcl18fGlbci0yXXx8aVswXTtyZXR1cm4gc319LHF0LnRlc3QoZSl8fCh2LmNzc0hvb2tzW2UrdF0uc2V0PVp0KX0pO3ZhciBybj0vJTIwL2csc249L1xbXF0kLyxvbj0vXHI/XG4vZyx1bj0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZGF0ZXRpbWUtbG9jYWx8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYW49L14oPzpzZWxlY3R8dGV4dGFyZWEpL2k7di5mbi5leHRlbmQoe3NlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiB2LnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/di5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJiF0aGlzLmRpc2FibGVkJiYodGhpcy5jaGVja2VkfHxhbi50ZXN0KHRoaXMubm9kZU5hbWUpfHx1bi50ZXN0KHRoaXMudHlwZSkpfSkubWFwKGZ1bmN0aW9uKGUsdCl7dmFyIG49dih0aGlzKS52YWwoKTtyZXR1cm4gbj09bnVsbD9udWxsOnYuaXNBcnJheShuKT92Lm1hcChuLGZ1bmN0aW9uKGUsbil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOmUucmVwbGFjZShvbiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpuLnJlcGxhY2Uob24sIlxyXG4iKX19KS5nZXQoKX19KSx2LnBhcmFtPWZ1bmN0aW9uKGUsbil7dmFyIHIsaT1bXSxzPWZ1bmN0aW9uKGUsdCl7dD12LmlzRnVuY3Rpb24odCk/dCgpOnQ9PW51bGw/IiI6dCxpW2kubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoZSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KX07bj09PXQmJihuPXYuYWpheFNldHRpbmdzJiZ2LmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYodi5pc0FycmF5KGUpfHxlLmpxdWVyeSYmIXYuaXNQbGFpbk9iamVjdChlKSl2LmVhY2goZSxmdW5jdGlvbigpe3ModGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IociBpbiBlKWZuKHIsZVtyXSxuLHMpO3JldHVybiBpLmpvaW4oIiYiKS5yZXBsYWNlKHJuLCIrIil9O3ZhciBsbixjbixobj0vIy4qJC8scG49L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxkbj0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLHZuPS9eKD86R0VUfEhFQUQpJC8sbW49L15cL1wvLyxnbj0vXD8vLHluPS88c2NyaXB0XGJbXjxdKig/Oig/ITxcL3NjcmlwdD4pPFtePF0qKSo8XC9zY3JpcHQ+L2dpLGJuPS8oWz8mXSlfPVteJl0qLyx3bj0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspfCl8KS8sRW49di5mbi5sb2FkLFNuPXt9LHhuPXt9LFRuPVsiKi8iXStbIioiXTt0cnl7Y249cy5ocmVmfWNhdGNoKE5uKXtjbj1pLmNyZWF0ZUVsZW1lbnQoImEiKSxjbi5ocmVmPSIiLGNuPWNuLmhyZWZ9bG49d24uZXhlYyhjbi50b0xvd2VyQ2FzZSgpKXx8W10sdi5mbi5sb2FkPWZ1bmN0aW9uKGUsbixyKXtpZih0eXBlb2YgZSE9InN0cmluZyImJkVuKXJldHVybiBFbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBpLHMsbyx1PXRoaXMsYT1lLmluZGV4T2YoIiAiKTtyZXR1cm4gYT49MCYmKGk9ZS5zbGljZShhLGUubGVuZ3RoKSxlPWUuc2xpY2UoMCxhKSksdi5pc0Z1bmN0aW9uKG4pPyhyPW4sbj10KTpuJiZ0eXBlb2Ygbj09Im9iamVjdCImJihzPSJQT1NUIiksdi5hamF4KHt1cmw6ZSx0eXBlOnMsZGF0YVR5cGU6Imh0bWwiLGRhdGE6bixjb21wbGV0ZTpmdW5jdGlvbihlLHQpe3ImJnUuZWFjaChyLG98fFtlLnJlc3BvbnNlVGV4dCx0LGVdKX19KS5kb25lKGZ1bmN0aW9uKGUpe289YXJndW1lbnRzLHUuaHRtbChpP3YoIjxkaXY+IikuYXBwZW5kKGUucmVwbGFjZSh5biwiIikpLmZpbmQoaSk6ZSl9KSx0aGlzfSx2LmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGUsdCl7di5mblt0XT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5vbih0LGUpfX0pLHYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihlLG4pe3Zbbl09ZnVuY3Rpb24oZSxyLGkscyl7cmV0dXJuIHYuaXNGdW5jdGlvbihyKSYmKHM9c3x8aSxpPXIscj10KSx2LmFqYXgoe3R5cGU6bix1cmw6ZSxkYXRhOnIsc3VjY2VzczppLGRhdGFUeXBlOnN9KX19KSx2LmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGUsbil7cmV0dXJuIHYuZ2V0KGUsdCxuLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHYuZ2V0KGUsdCxuLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihlLHQpe3JldHVybiB0P0xuKGUsdi5hamF4U2V0dGluZ3MpOih0PWUsZT12LmFqYXhTZXR0aW5ncyksTG4oZSx0KSxlfSxhamF4U2V0dGluZ3M6e3VybDpjbixpc0xvY2FsOmRuLnRlc3QobG5bMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7IGNoYXJzZXQ9VVRGLTgiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjpUbn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmUuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOnYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6di5wYXJzZVhNTH0sZmxhdE9wdGlvbnM6e2NvbnRleHQ6ITAsdXJsOiEwfX0sYWpheFByZWZpbHRlcjpDbihTbiksYWpheFRyYW5zcG9ydDpDbih4biksYWpheDpmdW5jdGlvbihlLG4pe2Z1bmN0aW9uIFQoZSxuLHMsYSl7dmFyIGwseSxiLHcsUyxUPW47aWYoRT09PTIpcmV0dXJuO0U9Mix1JiZjbGVhclRpbWVvdXQodSksbz10LGk9YXx8IiIseC5yZWFkeVN0YXRlPWU+MD80OjAscyYmKHc9QW4oYyx4LHMpKTtpZihlPj0yMDAmJmU8MzAwfHxlPT09MzA0KWMuaWZNb2RpZmllZCYmKFM9eC5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLFMmJih2Lmxhc3RNb2RpZmllZFtyXT1TKSxTPXguZ2V0UmVzcG9uc2VIZWFkZXIoIkV0YWciKSxTJiYodi5ldGFnW3JdPVMpKSxlPT09MzA0PyhUPSJub3Rtb2RpZmllZCIsbD0hMCk6KGw9T24oYyx3KSxUPWwuc3RhdGUseT1sLmRhdGEsYj1sLmVycm9yLGw9IWIpO2Vsc2V7Yj1UO2lmKCFUfHxlKVQ9ImVycm9yIixlPDAmJihlPTApfXguc3RhdHVzPWUseC5zdGF0dXNUZXh0PShufHxUKSsiIixsP2QucmVzb2x2ZVdpdGgoaCxbeSxULHhdKTpkLnJlamVjdFdpdGgoaCxbeCxULGJdKSx4LnN0YXR1c0NvZGUoZyksZz10LGYmJnAudHJpZ2dlcigiYWpheCIrKGw/IlN1Y2Nlc3MiOiJFcnJvciIpLFt4LGMsbD95OmJdKSxtLmZpcmVXaXRoKGgsW3gsVF0pLGYmJihwLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3gsY10pLC0tdi5hY3RpdmV8fHYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9dHlwZW9mIGU9PSJvYmplY3QiJiYobj1lLGU9dCksbj1ufHx7fTt2YXIgcixpLHMsbyx1LGEsZixsLGM9di5hamF4U2V0dXAoe30sbiksaD1jLmNvbnRleHR8fGMscD1oIT09YyYmKGgubm9kZVR5cGV8fGggaW5zdGFuY2VvZiB2KT92KGgpOnYuZXZlbnQsZD12LkRlZmVycmVkKCksbT12LkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxnPWMuc3RhdHVzQ29kZXx8e30sYj17fSx3PXt9LEU9MCxTPSJjYW5jZWxlZCIseD17cmVhZHlTdGF0ZTowLHNldFJlcXVlc3RIZWFkZXI6ZnVuY3Rpb24oZSx0KXtpZighRSl7dmFyIG49ZS50b0xvd2VyQ2FzZSgpO2U9d1tuXT13W25dfHxlLGJbZV09dH1yZXR1cm4gdGhpc30sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIEU9PT0yP2k6bnVsbH0sZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24oZSl7dmFyIG47aWYoRT09PTIpe2lmKCFzKXtzPXt9O3doaWxlKG49cG4uZXhlYyhpKSlzW25bMV0udG9Mb3dlckNhc2UoKV09blsyXX1uPXNbZS50b0xvd2VyQ2FzZSgpXX1yZXR1cm4gbj09PXQ/bnVsbDpufSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKGUpe3JldHVybiBFfHwoYy5taW1lVHlwZT1lKSx0aGlzfSxhYm9ydDpmdW5jdGlvbihlKXtyZXR1cm4gZT1lfHxTLG8mJm8uYWJvcnQoZSksVCgwLGUpLHRoaXN9fTtkLnByb21pc2UoeCkseC5zdWNjZXNzPXguZG9uZSx4LmVycm9yPXguZmFpbCx4LmNvbXBsZXRlPW0uYWRkLHguc3RhdHVzQ29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdDtpZihFPDIpZm9yKHQgaW4gZSlnW3RdPVtnW3RdLGVbdF1dO2Vsc2UgdD1lW3guc3RhdHVzXSx4LmFsd2F5cyh0KX1yZXR1cm4gdGhpc30sYy51cmw9KChlfHxjLnVybCkrIiIpLnJlcGxhY2UoaG4sIiIpLnJlcGxhY2UobW4sbG5bMV0rIi8vIiksYy5kYXRhVHlwZXM9di50cmltKGMuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdCh5KSxjLmNyb3NzRG9tYWluPT1udWxsJiYoYT13bi5leGVjKGMudXJsLnRvTG93ZXJDYXNlKCkpLGMuY3Jvc3NEb21haW49ISghYXx8YVsxXT09PWxuWzFdJiZhWzJdPT09bG5bMl0mJihhWzNdfHwoYVsxXT09PSJodHRwOiI/ODA6NDQzKSk9PShsblszXXx8KGxuWzFdPT09Imh0dHA6Ij84MDo0NDMpKSkpLGMuZGF0YSYmYy5wcm9jZXNzRGF0YSYmdHlwZW9mIGMuZGF0YSE9InN0cmluZyImJihjLmRhdGE9di5wYXJhbShjLmRhdGEsYy50cmFkaXRpb25hbCkpLGtuKFNuLGMsbix4KTtpZihFPT09MilyZXR1cm4geDtmPWMuZ2xvYmFsLGMudHlwZT1jLnR5cGUudG9VcHBlckNhc2UoKSxjLmhhc0NvbnRlbnQ9IXZuLnRlc3QoYy50eXBlKSxmJiZ2LmFjdGl2ZSsrPT09MCYmdi5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtpZighYy5oYXNDb250ZW50KXtjLmRhdGEmJihjLnVybCs9KGduLnRlc3QoYy51cmwpPyImIjoiPyIpK2MuZGF0YSxkZWxldGUgYy5kYXRhKSxyPWMudXJsO2lmKGMuY2FjaGU9PT0hMSl7dmFyIE49di5ub3coKSxDPWMudXJsLnJlcGxhY2UoYm4sIiQxXz0iK04pO2MudXJsPUMrKEM9PT1jLnVybD8oZ24udGVzdChjLnVybCk/IiYiOiI/IikrIl89IitOOiIiKX19KGMuZGF0YSYmYy5oYXNDb250ZW50JiZjLmNvbnRlbnRUeXBlIT09ITF8fG4uY29udGVudFR5cGUpJiZ4LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsYy5jb250ZW50VHlwZSksYy5pZk1vZGlmaWVkJiYocj1yfHxjLnVybCx2Lmxhc3RNb2RpZmllZFtyXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsdi5sYXN0TW9kaWZpZWRbcl0pLHYuZXRhZ1tyXSYmeC5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIix2LmV0YWdbcl0pKSx4LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsYy5kYXRhVHlwZXNbMF0mJmMuYWNjZXB0c1tjLmRhdGFUeXBlc1swXV0/Yy5hY2NlcHRzW2MuZGF0YVR5cGVzWzBdXSsoYy5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgIitUbisiOyBxPTAuMDEiOiIiKTpjLmFjY2VwdHNbIioiXSk7Zm9yKGwgaW4gYy5oZWFkZXJzKXguc2V0UmVxdWVzdEhlYWRlcihsLGMuaGVhZGVyc1tsXSk7aWYoIWMuYmVmb3JlU2VuZHx8Yy5iZWZvcmVTZW5kLmNhbGwoaCx4LGMpIT09ITEmJkUhPT0yKXtTPSJhYm9ydCI7Zm9yKGwgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0peFtsXShjW2xdKTtvPWtuKHhuLGMsbix4KTtpZighbylUKC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3gucmVhZHlTdGF0ZT0xLGYmJnAudHJpZ2dlcigiYWpheFNlbmQiLFt4LGNdKSxjLmFzeW5jJiZjLnRpbWVvdXQ+MCYmKHU9c2V0VGltZW91dChmdW5jdGlvbigpe3guYWJvcnQoInRpbWVvdXQiKX0sYy50aW1lb3V0KSk7dHJ5e0U9MSxvLnNlbmQoYixUKX1jYXRjaChrKXtpZighKEU8MikpdGhyb3cgaztUKC0xLGspfX1yZXR1cm4geH1yZXR1cm4geC5hYm9ydCgpfSxhY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBNbj1bXSxfbj0vXD8vLERuPS8oPSlcPyg/PSZ8JCl8XD9cPy8sUG49di5ub3coKTt2LmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGU9TW4ucG9wKCl8fHYuZXhwYW5kbysiXyIrUG4rKztyZXR1cm4gdGhpc1tlXT0hMCxlfX0pLHYuYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24obixyLGkpe3ZhciBzLG8sdSxhPW4uZGF0YSxmPW4udXJsLGw9bi5qc29ucCE9PSExLGM9bCYmRG4udGVzdChmKSxoPWwmJiFjJiZ0eXBlb2YgYT09InN0cmluZyImJiEobi5jb250ZW50VHlwZXx8IiIpLmluZGV4T2YoImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpJiZEbi50ZXN0KGEpO2lmKG4uZGF0YVR5cGVzWzBdPT09Impzb25wInx8Y3x8aClyZXR1cm4gcz1uLmpzb25wQ2FsbGJhY2s9di5pc0Z1bmN0aW9uKG4uanNvbnBDYWxsYmFjayk/bi5qc29ucENhbGxiYWNrKCk6bi5qc29ucENhbGxiYWNrLG89ZVtzXSxjP24udXJsPWYucmVwbGFjZShEbiwiJDEiK3MpOmg/bi5kYXRhPWEucmVwbGFjZShEbiwiJDEiK3MpOmwmJihuLnVybCs9KF9uLnRlc3QoZik/IiYiOiI/Iikrbi5qc29ucCsiPSIrcyksbi5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHV8fHYuZXJyb3IocysiIHdhcyBub3QgY2FsbGVkIiksdVswXX0sbi5kYXRhVHlwZXNbMF09Impzb24iLGVbc109ZnVuY3Rpb24oKXt1PWFyZ3VtZW50c30saS5hbHdheXMoZnVuY3Rpb24oKXtlW3NdPW8sbltzXSYmKG4uanNvbnBDYWxsYmFjaz1yLmpzb25wQ2FsbGJhY2ssTW4ucHVzaChzKSksdSYmdi5pc0Z1bmN0aW9uKG8pJiZvKHVbMF0pLHU9bz10fSksInNjcmlwdCJ9KSx2LmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oZSl7cmV0dXJuIHYuZ2xvYmFsRXZhbChlKSxlfX19KSx2LmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oZSl7ZS5jYWNoZT09PXQmJihlLmNhY2hlPSExKSxlLmNyb3NzRG9tYWluJiYoZS50eXBlPSJHRVQiLGUuZ2xvYmFsPSExKX0pLHYuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihlKXtpZihlLmNyb3NzRG9tYWluKXt2YXIgbixyPWkuaGVhZHx8aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxpLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihzLG8pe249aS5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxuLmFzeW5jPSJhc3luYyIsZS5zY3JpcHRDaGFyc2V0JiYobi5jaGFyc2V0PWUuc2NyaXB0Q2hhcnNldCksbi5zcmM9ZS51cmwsbi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oZSxpKXtpZihpfHwhbi5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KG4ucmVhZHlTdGF0ZSkpbi5vbmxvYWQ9bi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxyJiZuLnBhcmVudE5vZGUmJnIucmVtb3ZlQ2hpbGQobiksbj10LGl8fG8oMjAwLCJzdWNjZXNzIil9LHIuaW5zZXJ0QmVmb3JlKG4sci5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtuJiZuLm9ubG9hZCgwLDEpfX19fSk7dmFyIEhuLEJuPWUuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBIbilIbltlXSgwLDEpfTohMSxqbj0wO3YuYWpheFNldHRpbmdzLnhocj1lLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZGbigpfHxJbigpfTpGbixmdW5jdGlvbihlKXt2LmV4dGVuZCh2LnN1cHBvcnQse2FqYXg6ISFlLGNvcnM6ISFlJiYid2l0aENyZWRlbnRpYWxzImluIGV9KX0odi5hamF4U2V0dGluZ3MueGhyKCkpLHYuc3VwcG9ydC5hamF4JiZ2LmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24obil7aWYoIW4uY3Jvc3NEb21haW58fHYuc3VwcG9ydC5jb3JzKXt2YXIgcjtyZXR1cm57c2VuZDpmdW5jdGlvbihpLHMpe3ZhciBvLHUsYT1uLnhocigpO24udXNlcm5hbWU/YS5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jLG4udXNlcm5hbWUsbi5wYXNzd29yZCk6YS5vcGVuKG4udHlwZSxuLnVybCxuLmFzeW5jKTtpZihuLnhockZpZWxkcylmb3IodSBpbiBuLnhockZpZWxkcylhW3VdPW4ueGhyRmllbGRzW3VdO24ubWltZVR5cGUmJmEub3ZlcnJpZGVNaW1lVHlwZSYmYS5vdmVycmlkZU1pbWVUeXBlKG4ubWltZVR5cGUpLCFuLmNyb3NzRG9tYWluJiYhaVsiWC1SZXF1ZXN0ZWQtV2l0aCJdJiYoaVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO3RyeXtmb3IodSBpbiBpKWEuc2V0UmVxdWVzdEhlYWRlcih1LGlbdV0pfWNhdGNoKGYpe31hLnNlbmQobi5oYXNDb250ZW50JiZuLmRhdGF8fG51bGwpLHI9ZnVuY3Rpb24oZSxpKXt2YXIgdSxmLGwsYyxoO3RyeXtpZihyJiYoaXx8YS5yZWFkeVN0YXRlPT09NCkpe3I9dCxvJiYoYS5vbnJlYWR5c3RhdGVjaGFuZ2U9di5ub29wLEJuJiZkZWxldGUgSG5bb10pO2lmKGkpYS5yZWFkeVN0YXRlIT09NCYmYS5hYm9ydCgpO2Vsc2V7dT1hLnN0YXR1cyxsPWEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksYz17fSxoPWEucmVzcG9uc2VYTUwsaCYmaC5kb2N1bWVudEVsZW1lbnQmJihjLnhtbD1oKTt0cnl7Yy50ZXh0PWEucmVzcG9uc2VUZXh0fWNhdGNoKHApe310cnl7Zj1hLnN0YXR1c1RleHR9Y2F0Y2gocCl7Zj0iIn0hdSYmbi5pc0xvY2FsJiYhbi5jcm9zc0RvbWFpbj91PWMudGV4dD8yMDA6NDA0OnU9PT0xMjIzJiYodT0yMDQpfX19Y2F0Y2goZCl7aXx8cygtMSxkKX1jJiZzKHUsZixjLGwpfSxuLmFzeW5jP2EucmVhZHlTdGF0ZT09PTQ/c2V0VGltZW91dChyLDApOihvPSsram4sQm4mJihIbnx8KEhuPXt9LHYoZSkudW5sb2FkKEJuKSksSG5bb109ciksYS5vbnJlYWR5c3RhdGVjaGFuZ2U9cik6cigpfSxhYm9ydDpmdW5jdGlvbigpe3ImJnIoMCwxKX19fX0pO3ZhciBxbixSbixVbj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sem49bmV3IFJlZ0V4cCgiXig/OihbLStdKT18KSgiK20rIikoW2EteiVdKikkIiwiaSIpLFduPS9xdWV1ZUhvb2tzJC8sWG49W0duXSxWbj17IioiOltmdW5jdGlvbihlLHQpe3ZhciBuLHIsaT10aGlzLmNyZWF0ZVR3ZWVuKGUsdCkscz16bi5leGVjKHQpLG89aS5jdXIoKSx1PStvfHwwLGE9MSxmPTIwO2lmKHMpe249K3NbMl0scj1zWzNdfHwodi5jc3NOdW1iZXJbZV0/IiI6InB4Iik7aWYociE9PSJweCImJnUpe3U9di5jc3MoaS5lbGVtLGUsITApfHxufHwxO2RvIGE9YXx8Ii41Iix1Lz1hLHYuc3R5bGUoaS5lbGVtLGUsdStyKTt3aGlsZShhIT09KGE9aS5jdXIoKS9vKSYmYSE9PTEmJi0tZil9aS51bml0PXIsaS5zdGFydD11LGkuZW5kPXNbMV0/dSsoc1sxXSsxKSpuOm59cmV0dXJuIGl9XX07di5BbmltYXRpb249di5leHRlbmQoS24se3R3ZWVuZXI6ZnVuY3Rpb24oZSx0KXt2LmlzRnVuY3Rpb24oZSk/KHQ9ZSxlPVsiKiJdKTplPWUuc3BsaXQoIiAiKTt2YXIgbixyPTAsaT1lLmxlbmd0aDtmb3IoO3I8aTtyKyspbj1lW3JdLFZuW25dPVZuW25dfHxbXSxWbltuXS51bnNoaWZ0KHQpfSxwcmVmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt0P1huLnVuc2hpZnQoZSk6WG4ucHVzaChlKX19KSx2LlR3ZWVuPVluLFluLnByb3RvdHlwZT17Y29uc3RydWN0b3I6WW4saW5pdDpmdW5jdGlvbihlLHQsbixyLGkscyl7dGhpcy5lbGVtPWUsdGhpcy5wcm9wPW4sdGhpcy5lYXNpbmc9aXx8InN3aW5nIix0aGlzLm9wdGlvbnM9dCx0aGlzLnN0YXJ0PXRoaXMubm93PXRoaXMuY3VyKCksdGhpcy5lbmQ9cix0aGlzLnVuaXQ9c3x8KHYuY3NzTnVtYmVyW25dPyIiOiJweCIpfSxjdXI6ZnVuY3Rpb24oKXt2YXIgZT1Zbi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gZSYmZS5nZXQ/ZS5nZXQodGhpcyk6WW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCh0aGlzKX0scnVuOmZ1bmN0aW9uKGUpe3ZhciB0LG49WW4ucHJvcEhvb2tzW3RoaXMucHJvcF07cmV0dXJuIHRoaXMub3B0aW9ucy5kdXJhdGlvbj90aGlzLnBvcz10PXYuZWFzaW5nW3RoaXMuZWFzaW5nXShlLHRoaXMub3B0aW9ucy5kdXJhdGlvbiplLDAsMSx0aGlzLm9wdGlvbnMuZHVyYXRpb24pOnRoaXMucG9zPXQ9ZSx0aGlzLm5vdz0odGhpcy5lbmQtdGhpcy5zdGFydCkqdCt0aGlzLnN0YXJ0LHRoaXMub3B0aW9ucy5zdGVwJiZ0aGlzLm9wdGlvbnMuc3RlcC5jYWxsKHRoaXMuZWxlbSx0aGlzLm5vdyx0aGlzKSxuJiZuLnNldD9uLnNldCh0aGlzKTpZbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fSxZbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGU9WW4ucHJvdG90eXBlLFluLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZS5lbGVtW2UucHJvcF09PW51bGx8fCEhZS5lbGVtLnN0eWxlJiZlLmVsZW0uc3R5bGVbZS5wcm9wXSE9bnVsbD8odD12LmNzcyhlLmVsZW0sZS5wcm9wLCExLCIiKSwhdHx8dD09PSJhdXRvIj8wOnQpOmUuZWxlbVtlLnByb3BdfSxzZXQ6ZnVuY3Rpb24oZSl7di5meC5zdGVwW2UucHJvcF0/di5meC5zdGVwW2UucHJvcF0oZSk6ZS5lbGVtLnN0eWxlJiYoZS5lbGVtLnN0eWxlW3YuY3NzUHJvcHNbZS5wcm9wXV0hPW51bGx8fHYuY3NzSG9va3NbZS5wcm9wXSk/di5zdHlsZShlLmVsZW0sZS5wcm9wLGUubm93K2UudW5pdCk6ZS5lbGVtW2UucHJvcF09ZS5ub3d9fX0sWW4ucHJvcEhvb2tzLnNjcm9sbFRvcD1Zbi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGUpe2UuZWxlbS5ub2RlVHlwZSYmZS5lbGVtLnBhcmVudE5vZGUmJihlLmVsZW1bZS5wcm9wXT1lLm5vdyl9fSx2LmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGUsdCl7dmFyIG49di5mblt0XTt2LmZuW3RdPWZ1bmN0aW9uKHIsaSxzKXtyZXR1cm4gcj09bnVsbHx8dHlwZW9mIHI9PSJib29sZWFuInx8IWUmJnYuaXNGdW5jdGlvbihyKSYmdi5pc0Z1bmN0aW9uKGkpP24uYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShabih0LCEwKSxyLGkscyl9fSksdi5mbi5leHRlbmQoe2ZhZGVUbzpmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4gdGhpcy5maWx0ZXIoR3QpLmNzcygib3BhY2l0eSIsMCkuc2hvdygpLmVuZCgpLmFuaW1hdGUoe29wYWNpdHk6dH0sZSxuLHIpfSxhbmltYXRlOmZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBpPXYuaXNFbXB0eU9iamVjdChlKSxzPXYuc3BlZWQodCxuLHIpLG89ZnVuY3Rpb24oKXt2YXIgdD1Lbih0aGlzLHYuZXh0ZW5kKHt9LGUpLHMpO2kmJnQuc3RvcCghMCl9O3JldHVybiBpfHxzLnF1ZXVlPT09ITE/dGhpcy5lYWNoKG8pOnRoaXMucXVldWUocy5xdWV1ZSxvKX0sc3RvcDpmdW5jdGlvbihlLG4scil7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zdG9wO2RlbGV0ZSBlLnN0b3AsdChyKX07cmV0dXJuIHR5cGVvZiBlIT0ic3RyaW5nIiYmKHI9bixuPWUsZT10KSxuJiZlIT09ITEmJnRoaXMucXVldWUoZXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ITAsbj1lIT1udWxsJiZlKyJxdWV1ZUhvb2tzIixzPXYudGltZXJzLG89di5fZGF0YSh0aGlzKTtpZihuKW9bbl0mJm9bbl0uc3RvcCYmaShvW25dKTtlbHNlIGZvcihuIGluIG8pb1tuXSYmb1tuXS5zdG9wJiZXbi50ZXN0KG4pJiZpKG9bbl0pO2ZvcihuPXMubGVuZ3RoO24tLTspc1tuXS5lbGVtPT09dGhpcyYmKGU9PW51bGx8fHNbbl0ucXVldWU9PT1lKSYmKHNbbl0uYW5pbS5zdG9wKHIpLHQ9ITEscy5zcGxpY2UobiwxKSk7KHR8fCFyKSYmdi5kZXF1ZXVlKHRoaXMsZSl9KX19KSx2LmVhY2goe3NsaWRlRG93bjpabigic2hvdyIpLHNsaWRlVXA6Wm4oImhpZGUiKSxzbGlkZVRvZ2dsZTpabigidG9nZ2xlIiksZmFkZUluOntvcGFjaXR5OiJzaG93In0sZmFkZU91dDp7b3BhY2l0eToiaGlkZSJ9LGZhZGVUb2dnbGU6e29wYWNpdHk6InRvZ2dsZSJ9fSxmdW5jdGlvbihlLHQpe3YuZm5bZV09ZnVuY3Rpb24oZSxuLHIpe3JldHVybiB0aGlzLmFuaW1hdGUodCxlLG4scil9fSksdi5zcGVlZD1mdW5jdGlvbihlLHQsbil7dmFyIHI9ZSYmdHlwZW9mIGU9PSJvYmplY3QiP3YuZXh0ZW5kKHt9LGUpOntjb21wbGV0ZTpufHwhbiYmdHx8di5pc0Z1bmN0aW9uKGUpJiZlLGR1cmF0aW9uOmUsZWFzaW5nOm4mJnR8fHQmJiF2LmlzRnVuY3Rpb24odCkmJnR9O3IuZHVyYXRpb249di5meC5vZmY/MDp0eXBlb2Ygci5kdXJhdGlvbj09Im51bWJlciI/ci5kdXJhdGlvbjpyLmR1cmF0aW9uIGluIHYuZnguc3BlZWRzP3YuZnguc3BlZWRzW3IuZHVyYXRpb25dOnYuZnguc3BlZWRzLl9kZWZhdWx0O2lmKHIucXVldWU9PW51bGx8fHIucXVldWU9PT0hMClyLnF1ZXVlPSJmeCI7cmV0dXJuIHIub2xkPXIuY29tcGxldGUsci5jb21wbGV0ZT1mdW5jdGlvbigpe3YuaXNGdW5jdGlvbihyLm9sZCkmJnIub2xkLmNhbGwodGhpcyksci5xdWV1ZSYmdi5kZXF1ZXVlKHRoaXMsci5xdWV1ZSl9LHJ9LHYuZWFzaW5nPXtsaW5lYXI6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHN3aW5nOmZ1bmN0aW9uKGUpe3JldHVybi41LU1hdGguY29zKGUqTWF0aC5QSSkvMn19LHYudGltZXJzPVtdLHYuZng9WW4ucHJvdG90eXBlLmluaXQsdi5meC50aWNrPWZ1bmN0aW9uKCl7dmFyIGUsbj12LnRpbWVycyxyPTA7cW49di5ub3coKTtmb3IoO3I8bi5sZW5ndGg7cisrKWU9bltyXSwhZSgpJiZuW3JdPT09ZSYmbi5zcGxpY2Uoci0tLDEpO24ubGVuZ3RofHx2LmZ4LnN0b3AoKSxxbj10fSx2LmZ4LnRpbWVyPWZ1bmN0aW9uKGUpe2UoKSYmdi50aW1lcnMucHVzaChlKSYmIVJuJiYoUm49c2V0SW50ZXJ2YWwodi5meC50aWNrLHYuZnguaW50ZXJ2YWwpKX0sdi5meC5pbnRlcnZhbD0xMyx2LmZ4LnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKFJuKSxSbj1udWxsfSx2LmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSx2LmZ4LnN0ZXA9e30sdi5leHByJiZ2LmV4cHIuZmlsdGVycyYmKHYuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGUpe3JldHVybiB2LmdyZXAodi50aW1lcnMsZnVuY3Rpb24odCl7cmV0dXJuIGU9PT10LmVsZW19KS5sZW5ndGh9KTt2YXIgZXI9L14oPzpib2R5fGh0bWwpJC9pO3YuZm4ub2Zmc2V0PWZ1bmN0aW9uKGUpe2lmKGFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIGU9PT10P3RoaXM6dGhpcy5lYWNoKGZ1bmN0aW9uKHQpe3Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGUsdCl9KTt2YXIgbixyLGkscyxvLHUsYSxmPXt0b3A6MCxsZWZ0OjB9LGw9dGhpc1swXSxjPWwmJmwub3duZXJEb2N1bWVudDtpZighYylyZXR1cm47cmV0dXJuKHI9Yy5ib2R5KT09PWw/di5vZmZzZXQuYm9keU9mZnNldChsKToobj1jLmRvY3VtZW50RWxlbWVudCx2LmNvbnRhaW5zKG4sbCk/KHR5cGVvZiBsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCE9InVuZGVmaW5lZCImJihmPWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLGk9dHIoYykscz1uLmNsaWVudFRvcHx8ci5jbGllbnRUb3B8fDAsbz1uLmNsaWVudExlZnR8fHIuY2xpZW50TGVmdHx8MCx1PWkucGFnZVlPZmZzZXR8fG4uc2Nyb2xsVG9wLGE9aS5wYWdlWE9mZnNldHx8bi5zY3JvbGxMZWZ0LHt0b3A6Zi50b3ArdS1zLGxlZnQ6Zi5sZWZ0K2Etb30pOmYpfSx2Lm9mZnNldD17Ym9keU9mZnNldDpmdW5jdGlvbihlKXt2YXIgdD1lLm9mZnNldFRvcCxuPWUub2Zmc2V0TGVmdDtyZXR1cm4gdi5zdXBwb3J0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYodCs9cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5Ub3AiKSl8fDAsbis9cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5MZWZ0IikpfHwwKSx7dG9wOnQsbGVmdDpufX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12LmNzcyhlLCJwb3NpdGlvbiIpO3I9PT0ic3RhdGljIiYmKGUuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGk9dihlKSxzPWkub2Zmc2V0KCksbz12LmNzcyhlLCJ0b3AiKSx1PXYuY3NzKGUsImxlZnQiKSxhPShyPT09ImFic29sdXRlInx8cj09PSJmaXhlZCIpJiZ2LmluQXJyYXkoImF1dG8iLFtvLHVdKT4tMSxmPXt9LGw9e30sYyxoO2E/KGw9aS5wb3NpdGlvbigpLGM9bC50b3AsaD1sLmxlZnQpOihjPXBhcnNlRmxvYXQobyl8fDAsaD1wYXJzZUZsb2F0KHUpfHwwKSx2LmlzRnVuY3Rpb24odCkmJih0PXQuY2FsbChlLG4scykpLHQudG9wIT1udWxsJiYoZi50b3A9dC50b3Atcy50b3ArYyksdC5sZWZ0IT1udWxsJiYoZi5sZWZ0PXQubGVmdC1zLmxlZnQraCksInVzaW5nImluIHQ/dC51c2luZy5jYWxsKGUsZik6aS5jc3MoZil9fSx2LmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm47dmFyIGU9dGhpc1swXSx0PXRoaXMub2Zmc2V0UGFyZW50KCksbj10aGlzLm9mZnNldCgpLHI9ZXIudGVzdCh0WzBdLm5vZGVOYW1lKT97dG9wOjAsbGVmdDowfTp0Lm9mZnNldCgpO3JldHVybiBuLnRvcC09cGFyc2VGbG9hdCh2LmNzcyhlLCJtYXJnaW5Ub3AiKSl8fDAsbi5sZWZ0LT1wYXJzZUZsb2F0KHYuY3NzKGUsIm1hcmdpbkxlZnQiKSl8fDAsci50b3ArPXBhcnNlRmxvYXQodi5jc3ModFswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsci5sZWZ0Kz1wYXJzZUZsb2F0KHYuY3NzKHRbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MCx7dG9wOm4udG9wLXIudG9wLGxlZnQ6bi5sZWZ0LXIubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBlPXRoaXMub2Zmc2V0UGFyZW50fHxpLmJvZHk7d2hpbGUoZSYmIWVyLnRlc3QoZS5ub2RlTmFtZSkmJnYuY3NzKGUsInBvc2l0aW9uIik9PT0ic3RhdGljIillPWUub2Zmc2V0UGFyZW50O3JldHVybiBlfHxpLmJvZHl9KX19KSx2LmVhY2goe3Njcm9sbExlZnQ6InBhZ2VYT2Zmc2V0IixzY3JvbGxUb3A6InBhZ2VZT2Zmc2V0In0sZnVuY3Rpb24oZSxuKXt2YXIgcj0vWS8udGVzdChuKTt2LmZuW2VdPWZ1bmN0aW9uKGkpe3JldHVybiB2LmFjY2Vzcyh0aGlzLGZ1bmN0aW9uKGUsaSxzKXt2YXIgbz10cihlKTtpZihzPT09dClyZXR1cm4gbz9uIGluIG8/b1tuXTpvLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtpXTplW2ldO28/by5zY3JvbGxUbyhyP3Yobykuc2Nyb2xsTGVmdCgpOnMscj9zOnYobykuc2Nyb2xsVG9wKCkpOmVbaV09c30sZSxpLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksdi5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24oZSxuKXt2LmVhY2goe3BhZGRpbmc6ImlubmVyIitlLGNvbnRlbnQ6biwiIjoib3V0ZXIiK2V9LGZ1bmN0aW9uKHIsaSl7di5mbltpXT1mdW5jdGlvbihpLHMpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihyfHx0eXBlb2YgaSE9ImJvb2xlYW4iKSx1PXJ8fChpPT09ITB8fHM9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHYuYWNjZXNzKHRoaXMsZnVuY3Rpb24obixyLGkpe3ZhciBzO3JldHVybiB2LmlzV2luZG93KG4pP24uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2VdOm4ubm9kZVR5cGU9PT05PyhzPW4uZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KG4uYm9keVsic2Nyb2xsIitlXSxzWyJzY3JvbGwiK2VdLG4uYm9keVsib2Zmc2V0IitlXSxzWyJvZmZzZXQiK2VdLHNbImNsaWVudCIrZV0pKTppPT09dD92LmNzcyhuLHIsaSx1KTp2LnN0eWxlKG4scixpLHUpfSxuLG8/aTp0LG8sbnVsbCl9fSl9KSxlLmpRdWVyeT1lLiQ9dix0eXBlb2YgZGVmaW5lPT0iZnVuY3Rpb24iJiZkZWZpbmUuYW1kJiZkZWZpbmUuYW1kLmpRdWVyeSYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KX0pKHdpbmRvdyk7"}]},{"name":"视频网HTML5播放小工具","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["https://*.qq.com/*","https://www.weiyun.com/video_*","https://www.youku.com/","https://v.youku.com/v_show/id_*","https://vku.youku.com/live/*","https://video.tudou.com/v/*","https://www.iqiyi.com/*","https://www.bilibili.com/*","https://www.ixigua.com/*","https://www.acfun.cn/*","*://v.pptv.com/show/*","https://tv.sohu.com/*","https://film.sohu.com/album/*","https://www.mgtv.com/*","*://www.fun.tv/vplay/*","*://m.fun.tv/*","*://*.163.com/*","*://*.icourse163.org/*","*://*.sina.com.cn/*","*://video.sina.cn/*","https://k.sina.cn/*","*://weibo.com/*","*://*.weibo.com/*","https://pan.baidu.com/*","https://yun.baidu.com/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/h5/*","*://v.ifeng.com/*","*://*.mtime.com/*","https://www.youtube.com/watch?v=*","https://www.ted.com/talks/*","*://www.yy.com/*","*://v.huya.com/play/*","https://www.huya.com/*","https://v.douyu.com/*","https://www.douyu.com/*","*://star.longzhu.com/*","https://www.zhanqi.tv/*","https://www.yunbtv.com/vodplay/*","*://www.dililitv.com/*","*://www.dynamicpuer.com/tv-play-*","https://www.i6v.cc/*/play/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":["https://user.qzone.qq.com/*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":true,"orig_connects":[]}},"storage":{"data":{},"ts":1574751670128},"enabled":false,"position":4,"file_url":"https://greasyfork.org/scripts/30545-%E8%A7%86%E9%A2%91%E7%AB%99%E5%90%AF%E7%94%A8html5%E6%92%AD%E6%94%BE%E5%99%A8/code/%E8%A7%86%E9%A2%91%E7%AB%99%E5%90%AF%E7%94%A8html5%E6%92%AD%E6%94%BE%E5%99%A8.user.js","uuid":"4135410d-5e42-4172-b95a-5f0f4eae8c6d","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAg6KeG6aKR572RSFRNTDXmkq3mlL7lsI/lt6XlhbcKLy8gQGRlc2NyaXB0aW9uIOS4ieWkp+WKn+iDvSDjgILlkK/nlKhIVE1MNeaSreaUvu+8m+S4h+iDvee9kemhteWFqOWxj++8m+a3u+WKoOW/q+aNt+mUru+8muW/q+i/m+OAgeW/q+mAgOOAgeaaguWBnC/mkq3mlL7jgIHpn7Pph4/jgIHkuIvkuIDpm4bjgIHliIfmjaIo572R6aG1KeWFqOWxj+OAgeS4iuS4i+W4p+OAgeaSreaUvumAn+W6puOAguaUr+aMgeinhumikeermeeCue+8muayueeuoeOAgVRFROOAgeS8mC7lnJ/jgIFRUeOAgULnq5njgIHopb/nk5zop4bpopHjgIHniLHlpYfoibrjgIFB56uZ44CBUFBUVuOAgeiKkuaenFRW44CB5paw5rWq44CB5b6u5Y2a44CB572R5piTW+WoseS5kOOAgeS6keivvuWgguOAgeaWsOmXu13jgIHmkJzni5DjgIHpo47ooYzjgIHnmb7luqbkupHop4bpopHnrYnvvJvnm7Tmkq3vvJrmlpfpsbzjgIFZWeOAgeiZjueJmeOAgem+meePoOOAgeaImOaXl+OAguWPr+WinuWKoOiHquWumuS5ieermeeCuQovLyBAaG9tZXBhZ2UgICBodHRwczovL2Jicy5rYWZhbi5jbi90aHJlYWQtMjA5MzAxNC0xLTEuaHRtbAovLyBAaW5jbHVkZSAgICBodHRwczovLyoucXEuY29tLyoKLy8gQGV4Y2x1ZGUgICAgaHR0cHM6Ly91c2VyLnF6b25lLnFxLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vd3d3LndlaXl1bi5jb20vdmlkZW9fKgovLyBAaW5jbHVkZSAgICBodHRwczovL3d3dy55b3VrdS5jb20vCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vdi55b3VrdS5jb20vdl9zaG93L2lkXyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly92a3UueW91a3UuY29tL2xpdmUvKgovLyBAaW5jbHVkZSAgICBodHRwczovL3ZpZGVvLnR1ZG91LmNvbS92LyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuaXFpeWkuY29tLyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tLyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuaXhpZ3VhLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vd3d3LmFjZnVuLmNuLyoKLy8gQGluY2x1ZGUgICAgKjovL3YucHB0di5jb20vc2hvdy8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vdHYuc29odS5jb20vKgovLyBAaW5jbHVkZSAgICBodHRwczovL2ZpbG0uc29odS5jb20vYWxidW0vKgovLyBAaW5jbHVkZSAgICBodHRwczovL3d3dy5tZ3R2LmNvbS8qCi8vIEBpbmNsdWRlICAgICo6Ly93d3cuZnVuLnR2L3ZwbGF5LyoKLy8gQGluY2x1ZGUgICAgKjovL20uZnVuLnR2LyoKLy8gQHZlcnNpb24gICAgMS41LjgKLy8gQGluY2x1ZGUgICAgKjovLyouMTYzLmNvbS8qCi8vIEBpbmNsdWRlICAgICo6Ly8qLmljb3Vyc2UxNjMub3JnLyoKLy8gQGluY2x1ZGUgICAgKjovLyouc2luYS5jb20uY24vKgovLyBAaW5jbHVkZSAgICAqOi8vdmlkZW8uc2luYS5jbi8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vay5zaW5hLmNuLyoKLy8gQGluY2x1ZGUgICAgKjovL3dlaWJvLmNvbS8qCi8vIEBpbmNsdWRlICAgICo6Ly8qLndlaWJvLmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vcGFuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8veXVuLmJhaWR1LmNvbS8qCi8vIEBpbmNsdWRlICAgICo6Ly92Lnlpbnl1ZXRhaS5jb20vdmlkZW8vKgovLyBAaW5jbHVkZSAgICAqOi8vdi55aW55dWV0YWkuY29tL3BsYXlsaXN0L2g1LyoKLy8gQGluY2x1ZGUgICAgKjovL3YuaWZlbmcuY29tLyoKLy8gQGluY2x1ZGUgICAgKjovLyoubXRpbWUuY29tLyoKLy8gQEdNX2luZm8KLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj0qCi8vIEBpbmNsdWRlICAgIGh0dHBzOi8vd3d3LnRlZC5jb20vdGFsa3MvKgovLyBAbm9mcmFtZXMKLy8gQGluY2x1ZGUgICAgKjovL3d3dy55eS5jb20vKgovLyBAaW5jbHVkZSAgICAqOi8vdi5odXlhLmNvbS9wbGF5LyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuaHV5YS5jb20vKgovLyBAaW5jbHVkZSAgICBodHRwczovL3YuZG91eXUuY29tLyoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuZG91eXUuY29tLyoKLy8gQGluY2x1ZGUgICAgKjovL3N0YXIubG9uZ3podS5jb20vKgovLyBAaW5jbHVkZSAgICBodHRwczovL3d3dy56aGFucWkudHYvKgoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cueXVuYnR2LmNvbS92b2RwbGF5LyoKLy8gQGluY2x1ZGUgICAgKjovL3d3dy5kaWxpbGl0di5jb20vKgovLyBAaW5jbHVkZSAgICAqOi8vd3d3LmR5bmFtaWNwdWVyLmNvbS90di1wbGF5LSoKLy8gQGluY2x1ZGUgICAgaHR0cHM6Ly93d3cuaTZ2LmNjLyovcGxheS8qCi8vIEBncmFudCAgICAgIHVuc2FmZVdpbmRvdwovLyBAZ3JhbnQgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgIEdNX2dldFZhbHVlCi8vIEBydW4tYXQgICAgIGRvY3VtZW50LXN0YXJ0Ci8vIEBuYW1lc3BhY2UgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvdXNlcnMvNzAzNgovLyA9PS9Vc2VyU2NyaXB0PT0KCid1c2Ugc3RyaWN0JzsKY29uc3QgdyA9IHVuc2FmZVdpbmRvdyB8fCB3aW5kb3c7CmNvbnN0IGQgPSBkb2N1bWVudCwgZmluZCA9IFtdLmZpbmQ7CmxldCB2LCBfZnAsIF9mcywgYnk7IC8vIGRvY3VtZW50LmJvZHkKY29uc3Qgb2JzZXJ2ZU9wdCA9IHtjaGlsZExpc3QgOiB0cnVlLCBzdWJ0cmVlIDogdHJ1ZX07CmNvbnN0IG5vb3BGbiA9ICgpID0+IHt9Owpjb25zdCBxID0gKGNzcywgcCA9IGQpID0+IHAucXVlcnlTZWxlY3Rvcihjc3MpOwpjb25zdCBkZWxFbGVtID0gZSA9PiBlLnJlbW92ZSgpOwpjb25zdCAkJCA9IChjLCBjYiA9IGRlbEVsZW0sIGRvYyA9IGQpID0+IHsKCWlmICghYyB8fCAhYy5sZW5ndGgpIHJldHVybjsKCWlmICh0eXBlb2YgYyA9PT0gJ3N0cmluZycpIGMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChjKTsKCWlmICghY2IpIHJldHVybiBjOwoJZm9yIChsZXQgZSBvZiBjKSBpZiAoZSAmJiBjYihlKT09PWZhbHNlKSBicmVhazsKfTsKY29uc3QgZ21GdW5jT2ZDaGVja01lbnUgPSAodGl0bGUsIHNhdmVOYW1lLCBkZWZhdWx0VmFsID0gdHJ1ZSkgPT4gewoJY29uc3QgciA9IEdNX2dldFZhbHVlKHNhdmVOYW1lLCBkZWZhdWx0VmFsKTsKCWlmIChyKSB0aXRsZSArPSAnICAgICAgICAgICAg4oiaJzsKCUdNX3JlZ2lzdGVyTWVudUNvbW1hbmQodGl0bGUsICgpID0+IHsKCQlHTV9zZXRWYWx1ZShzYXZlTmFtZSwgIXIpOwoJCWxvY2F0aW9uLnJlbG9hZCgpOwoJfSk7CglyZXR1cm4gcjsKfTsKY29uc3QgcjEgPSAocmVncCwgcykgPT4gcmVncC50ZXN0KHMpICYmIFJlZ0V4cC4kMTsKY29uc3QgbG9nID0gY29uc29sZS5sb2cuYmluZChjb25zb2xlLCAnJWPohJrmnKxbJXNdIOWPjemmiO+8miVzXG4lcycsICdjb2xvcjojYzNjO2ZvbnQtc2l6ZToxLjVlbScsCglHTV9pbmZvLnNjcmlwdC5uYW1lLCBHTV9pbmZvLnNjcmlwdC5ob21lcGFnZSk7CmNvbnN0IHNsZWVwID0gbXMgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpIH0pOwpjb25zdCBnZXRTdHlsZSA9IChvLCBzKSA9PiB7CglpZiAoby5zdHlsZVtzXSkgcmV0dXJuIG8uc3R5bGVbc107CglpZiAoZ2V0Q29tcHV0ZWRTdHlsZSkgewoJCWNvbnN0IHggPSBnZXRDb21wdXRlZFN0eWxlKG8sICcnKTsKCQlzID0gcy5yZXBsYWNlKC8oW0EtWl0pL2csJy0kMScpLnRvTG93ZXJDYXNlKCk7CgkJcmV0dXJuIHggJiYgeC5nZXRQcm9wZXJ0eVZhbHVlKHMpOwoJfQp9Owpjb25zdCBkb0NsaWNrID0gZSA9PiB7CglpZiAodHlwZW9mIGUgPT09ICdzdHJpbmcnKSBlID0gcShlKTsKCWlmIChlKSB7IGUuY2xpY2sgPyBlLmNsaWNrKCkgOiBlLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ2NsaWNrJykpIH07Cn07CmNvbnN0IGNsaWNrRHVhbEJ1dHRvbiA9IGJ0biA9PiB7IC8vIDLlkIgxIOaMiemSrgoJIWJ0bi5uZXh0U2libGluZyB8fCBnZXRTdHlsZShidG4sICdkaXNwbGF5JykgIT09ICdub25lJyA/IGRvQ2xpY2soYnRuKSA6IGRvQ2xpY2soYnRuLm5leHRTaWJsaW5nKTsKfTsKY29uc3QgaW50ZXJ2YWxRdWVyeSA9IChjYiwgY29uZGl0aW9uLCBzdG9wID0gdHJ1ZSkgPT4gewoJY29uc3QgZm4gPSB0eXBlb2YgY29uZGl0aW9uID09PSAnc3RyaW5nJyA/IHEuYmluZChudWxsLCBjb25kaXRpb24pIDogY29uZGl0aW9uOwoJY29uc3QgdCA9IHNldEludGVydmFsKCgpID0+IHsKCQljb25zdCByID0gZm4oKTsKCQlpZiAocikgewoJCQlzdG9wICYmIGNsZWFySW50ZXJ2YWwodCk7CgkJCWNiKHIpOwoJCX0KCX0sIDMwMCk7Cn07CmNvbnN0IGZpcmVmb3hWZXIgPSByMSgvRmlyZWZveFwvKFxkKykvLCBuYXZpZ2F0b3IudXNlckFnZW50KTsKY29uc3QgZmFrZVVBID0gdWEgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvciwgJ3VzZXJBZ2VudCcsIHsKCXZhbHVlOiB1YSwKCXdyaXRhYmxlOiBmYWxzZSwKCWNvbmZpZ3VyYWJsZTogZmFsc2UsCgllbnVtZXJhYmxlOiB0cnVlCn0pOwpjb25zdCBnZXRNYWluRG9tYWluID0gaG9zdCA9PiB7Cgljb25zdCBhID0gaG9zdC5zcGxpdCgnLicpOwoJbGV0IGkgPSBhLmxlbmd0aCAtIDI7CglpZiAoL2NvbXx0dnxuZXR8b3JnfGdvdnxlZHUvLnRlc3QoYVtpXSkpIGktLTsKCXJldHVybiBhW2ldOwp9Owpjb25zdCB1YV9jaHJvbWUgPSAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgNi4xOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNjYuMC4zNjI2LjEyMSBTYWZhcmkvNTM3LjM2JzsKY29uc3QgdWFfaXBhZDIgPSAnTW96aWxsYS81LjAgKGlQYWQ7IENQVSBPUyA1XzAgbGlrZSBNYWMgT1MgWCkgQXBwbGVXZWJLaXQvNTM0LjQ2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi81LjEgTW9iaWxlLzlBMzM0IFNhZmFyaS83NTM0LjQ4LjMnOwoKY2xhc3MgRnVsbFNjcmVlbiB7Cgljb25zdHJ1Y3RvcihlKSB7CgkJbGV0IGZuID0gZC5leGl0RnVsbHNjcmVlbiB8fCBkLndlYmtpdEV4aXRGdWxsc2NyZWVuIHx8IGQubW96Q2FuY2VsRnVsbFNjcmVlbiB8fCBkLm1zRXhpdEZ1bGxzY3JlZW4gfHwgbm9vcEZuOwoJCXRoaXMuZXhpdCA9IGZuLmJpbmQoZCk7CgkJZm4gPSBlLnJlcXVlc3RGdWxsc2NyZWVuIHx8IGUud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZS5tb3pSZXF1ZXN0RnVsbFNjcmVlbiB8fCBlLm1zUmVxdWVzdEZ1bGxTY3JlZW4gfHwgbm9vcEZuOwoJCXRoaXMuZW50ZXIgPSBmbi5iaW5kKGUpOwoJfQoKCXN0YXRpYyBpc0Z1bGwoKSB7CgkJcmV0dXJuICEhKGQuZnVsbHNjcmVlbiB8fCBkLndlYmtpdElzRnVsbFNjcmVlbiB8fCBkLm1vekZ1bGxTY3JlZW4gfHwKCQlkLmZ1bGxzY3JlZW5FbGVtZW50IHx8IGQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHwgZC5tb3pGdWxsU2NyZWVuRWxlbWVudCk7Cgl9CgoJdG9nZ2xlKCkgewoJCUZ1bGxTY3JlZW4uaXNGdWxsKCkgPyB0aGlzLmV4aXQoKSA6IHRoaXMuZW50ZXIoKTsKCX0KfQoKLy/kuIfog73nvZHpobXlhajlsY8sIOWPguiAg+S6hu+8mmh0dHBzOi8vZ2l0aHViLmNvbS9nb295aWUveWtoNXAKY2xhc3MgRnVsbFBhZ2UgewoJY29uc3RydWN0b3IodmlkZW8sIG9uU3dpdGNoKSB7CgkJdGhpcy5fdmlkZW8gPSB2aWRlbzsKCQl0aGlzLl9pc0Z1bGwgPSAhMTsKCQl0aGlzLl9vblN3aXRjaCA9IG9uU3dpdGNoOwoJCXRoaXMuX2NoZWNrQ29udGFpbmVyKCk7CgkJR01fYWRkU3R5bGUoCgkJCWAuZ20tZnAtYm9keSAuZ20tZnAtelRvcCB7CgkJCQlwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDsKCQkJCXotaW5kZXg6IDIzMzMzMzMzICFpbXBvcnRhbnQ7CgkJCX0KCQkJLmdtLWZwLXdyYXBwZXIgLmdtLWZwLWlubmVyQm94IHsKCQkJCXdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CgkJCQloZWlnaHQ6IDEwMCUgIWltcG9ydGFudDsKCQkJfQoJCQkuZ20tZnAtd3JhcHBlciB7CgkJCQlkaXNwbGF5OiBibG9jayAhaW1wb3J0YW50OwoJCQkJcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7CgkJCQl3aWR0aDogMTAwJSAhaW1wb3J0YW50OwoJCQkJaGVpZ2h0OiAxMDAlICFpbXBvcnRhbnQ7CgkJCQl0b3A6IDAgIWltcG9ydGFudDsKCQkJCWxlZnQ6IDAgIWltcG9ydGFudDsKCQkJCWJhY2tncm91bmQ6ICMwMDAgIWltcG9ydGFudDsKCQkJCXotaW5kZXg6IDIzMzMzMzMzICFpbXBvcnRhbnQ7CgkJCX1gCgkJKTsKCX0KCglnZXRQbGF5ZXJDb250YWluZXIodmlkZW8pIHsKCQlsZXQgZSA9IHZpZGVvLCBwID0gZS5wYXJlbnROb2RlOwoJCWNvbnN0IHsgY2xpZW50V2lkdGg6IHdpZCwgY2xpZW50SGVpZ2h0OiBoIH0gPSBlOwoJCWZvciAoOzspIHsKCQkJZS5jbGFzc0xpc3QuYWRkKCdnbS1mcC1pbm5lckJveCcpOwoJCQlpZiAocCA9PSBieSB8fCBwLmNsaWVudFdpZHRoLXdpZCA+IDMgfHwgcC5jbGllbnRIZWlnaHQtaCA+IDMpIHJldHVybiBlOwoJCQllID0gcDsKCQkJcCA9IGUucGFyZW50Tm9kZTsKCQl9Cgl9CgoJX2NoZWNrQ29udGFpbmVyKCkgewoJCWNvbnN0IGMgPSB0aGlzLl9jb250YWluZXIsIGUgPSB0aGlzLl92aWRlbzsKCQlpZiAoIWMgfHwgYyA9PT0gZSkgewoJCQl0aGlzLl9jb250YWluZXIgPSB0aGlzLmdldFBsYXllckNvbnRhaW5lcihlKTsKCQkJbGV0IHAgPSB0aGlzLl9jb250YWluZXIucGFyZW50Tm9kZTsKCQkJd2hpbGUgKHAgIT09IGJ5KSB7CgkJCQlwLmNsYXNzTGlzdC5hZGQoJ2dtLWZwLXpUb3AnKTsKCQkJCXAgPSBwLnBhcmVudE5vZGU7CgkJCX0KCQl9Cgl9CgoJZ2V0IGNvbnRhaW5lcigpIHsKCQl0aGlzLl9jaGVja0NvbnRhaW5lcigpOwoJCXJldHVybiB0aGlzLl9jb250YWluZXI7Cgl9CgoJc3RhdGljIGlzRnVsbChlKSB7CgkJcmV0dXJuIHcuaW5uZXJXaWR0aCAtIGUuY2xpZW50V2lkdGggPCA1ICYmIHcuaW5uZXJIZWlnaHQgLSBlLmNsaWVudEhlaWdodCA8IDU7Cgl9CgoJdG9nZ2xlKCkgewoJCWNvbnN0IGNiID0gdGhpcy5fb25Td2l0Y2g7CgkJaWYgKCF0aGlzLl9pc0Z1bGwgJiYgY2IpIGNiKHRydWUpOwoJCWJ5LnN0eWxlLm92ZXJmbG93ID0gdGhpcy5faXNGdWxsID8gJycgOiAnaGlkZGVuJzsKCQlieS5jbGFzc0xpc3QudG9nZ2xlKCdnbS1mcC1ib2R5Jyk7CgkJdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnZ20tZnAtd3JhcHBlcicpOwoJCXRoaXMuX2lzRnVsbCA9ICF0aGlzLl9pc0Z1bGw7CgkJaWYgKCF0aGlzLl9pc0Z1bGwgJiYgY2IpIHNldFRpbWVvdXQoY2IsIDE5OSwgITEpOwoJfQp9Cgpjb25zdCB7IGhvc3QsIHBhdGhuYW1lOiBwYXRoIH0gPSBsb2NhdGlvbjsKY29uc3QgdSA9IGdldE1haW5Eb21haW4oaG9zdCk7CmNvbnN0IGV2ZW50cyA9IHsKCW9uKG5hbWUsIGZuKSB7CgkJdGhpc1tuYW1lXSA9IGZuOwoJfQp9Owpjb25zdCBhcHAgPSB7Cglpc0xpdmU6ICExLAoJZGlzYWJsZVNwYWNlOiAhMSwKCW11bHRpcGxlVjogITEsIC8v5aSa6KeG6aKR6aG16Z2iCgljaGVja01WKCkgewoJCWlmICghdi5vZmZzZXRXaWR0aCkgdiA9IHRoaXMuZmluZE1WKCk7Ly8gIXYuY2xvc2VzdCgnYm9keScpCgkJcmV0dXJuIHY7Cgl9LAoJY2hlY2tEUGxheWVyKCkgewoJCWlmICh0aGlzLmRwbGF5ZXJFbGVtKSByZXR1cm4gdHJ1ZTsKCQlpZiAodGhpcy5kcGxheWVyRWxlbSA9IHYuY2xvc2VzdCgnLmRwbGF5ZXInKSkgewoJCQlfZnAgPSBuZXcgRnVsbFBhZ2UodiwgdGhpcy5zd2l0Y2hGUCk7CgkJCXRoaXMuYnRuRlMgPSBxKCcuZHBsYXllci1mdWxsLWljb24nLCB0aGlzLmRwbGF5ZXJFbGVtKTsKCQkJdGhpcy5idG5GUCA9IHRoaXMuYnRuUGxheSA9IHRoaXMuYnRuTmV4dCA9IF9mcyA9IG51bGw7CgkJCXRoaXMuZGlzYWJsZVNwYWNlID0gITE7CgkJfQoJCXJldHVybiAhIXRoaXMuZHBsYXllckVsZW07Cgl9LAoJaG90S2V5KGUpIHsKCQlpZiAoZS5jdHJsS2V5IHx8IGUuYWx0S2V5IHx8IGUudGFyZ2V0LmNvbnRlbnRFZGl0YWJsZT09J3RydWUnIHx8CgkJCS9JTlBVVHxURVhUQVJFQXxTRUxFQ1QvLnRlc3QoZS50YXJnZXQubm9kZU5hbWUpKSByZXR1cm47CgkJaWYgKGUuc2hpZnRLZXkgJiYgIVszMiwxMywzNywzOV0uaW5jbHVkZXMoZS5rZXlDb2RlKSkgcmV0dXJuOwoJCWlmICh0aGlzLmlzTGl2ZSAmJiBbMzcsMzksNzgsODgsNjcsOTBdLmluY2x1ZGVzKGUua2V5Q29kZSkpIHJldHVybjsKCQlpZiAodGhpcy5leHRQbGF5ZXIgJiYgdGhpcy5leHRQbGF5ZXIuY29udGFpbnMoZS50YXJnZXQpICYmIFszMiwzNywzOV0uaW5jbHVkZXMoZS5rZXlDb2RlKSkgcmV0dXJuOwoJCWlmICghdGhpcy5jaGVja01WKCkpIHJldHVybjsKCQkhdGhpcy5jaGVja0RQbGF5ZXIoKSAmJiB0aGlzLmNoZWNrVUkoKTsKCQlpZiAoZXZlbnRzLmtleWRvd24gJiYgZXZlbnRzLmtleWRvd24oZSkpIHJldHVybjsKCQlsZXQgbjsKCQlzd2l0Y2ggKGUua2V5Q29kZSkgewoJCWNhc2UgMzI6IC8vc3BhY2UKCQkJaWYgKGUuc2hpZnRLZXkpIHsKCQkJCXYuc2Nyb2xsSW50b1ZpZXcoKTsKCQkJCXYuZm9jdXMoKTsKCQkJfSBlbHNlIHsKCQkJCWlmICh0aGlzLmRpc2FibGVTcGFjZSAmJiBieSAhPSBlLnRhcmdldCkgcmV0dXJuOwoJCQkJaWYgKHRoaXMuYnRuUGxheSkgY2xpY2tEdWFsQnV0dG9uKHRoaXMuYnRuUGxheSk7CgkJCQllbHNlIHYucGF1c2VkID8gdi5wbGF5KCkgOiB2LnBhdXNlKCk7CgkJCX0KCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQlicmVhazsKCQljYXNlIDM3OiBuID0gZS5zaGlmdEtleSA/IC0yMCA6IC01OyAvL2xlZnQgIOW/q+mAgDXnp5Isc2hpZnTliqDpgJ8KCQljYXNlIDM5OiAvL3JpZ2h0CgkJCW4gPSBuIHx8IChlLnNoaWZ0S2V5ID8gMjAgOiA1KTsgLy/lv6vov5s156eSLHNoaWZ05Yqg6YCfCgkJCXYuY3VycmVudFRpbWUgKz0gbjsKCQkJYnJlYWs7CgkJY2FzZSA3ODogLy8gTiDkuIvkuIDpppYKCQkJdGhpcy5idG5OZXh0ICYmIHRoaXMuYnRuTmV4dC5vZmZzZXRXaWR0aCA+IDEgJiYgZG9DbGljayh0aGlzLmJ0bk5leHQpOwoJCQlicmVhazsKCQljYXNlIDM4OiBuID0gMC4xOyAvL+WKoOmfs+mHjwoJCWNhc2UgNDA6IC8v6ZmN6Z+z6YePCgkJCW4gPSBuIHx8IC0wLjE7CgkJCW4gKz0gdi52b2x1bWU7CgkJCWlmICgwIDw9IG4gJiYgbiA8PSAxKSB2LnZvbHVtZSA9IG47CgkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJYnJlYWs7CgkJY2FzZSAxMzogLy/lm57ovabplK7jgIIg5YWo5bGPCgkJCWlmIChlLnNoaWZ0S2V5KSB7CgkJCQlfZnAgPyBfZnAudG9nZ2xlKCkgOiBjbGlja0R1YWxCdXR0b24odGhpcy5idG5GUCk7CgkJCX0gZWxzZSB7CgkJCQlfZnMgPyBfZnMudG9nZ2xlKCkgOiBjbGlja0R1YWxCdXR0b24odGhpcy5idG5GUyk7CgkJCX0KCQkJYnJlYWs7CgkJY2FzZSAyNzogLy9lc2MKCQkJaWYgKEZ1bGxTY3JlZW4uaXNGdWxsKCkpIHsKCQkJCV9mcyA/IF9mcy5leGl0KCkgOiBjbGlja0R1YWxCdXR0b24odGhpcy5idG5GUyk7CgkJCX0gZWxzZSBpZiAoRnVsbFBhZ2UuaXNGdWxsKHYpKSB7CgkJCQlfZnAgPyBfZnAudG9nZ2xlKCkgOiBjbGlja0R1YWxCdXR0b24odGhpcy5idG5GUCk7CgkJCX0KCQkJYnJlYWs7CgkJY2FzZSA2NzogbiA9IDAuMTsgLy/mjInplK5D77ya5Yqg6YCf5pKt5pS+ICswLjEKCQljYXNlIDg4OiAvL+aMiemUrljvvJrlh4/pgJ/mkq3mlL4gLTAuMQoJCQluID0gbiB8fCAtMC4xOwoJCQluICs9IHYucGxheWJhY2tSYXRlOwoJCQlpZiAoMCA8IG4gJiYgbiA8PSAxNikgdi5wbGF5YmFja1JhdGUgPSBuOwoJCQlicmVhazsKCQljYXNlIDkwOiAvL+aMiemUrlrvvJrmraPluLjpgJ/luqbmkq3mlL4KCQkJdi5wbGF5YmFja1JhdGUgPSAxOwoJCQlicmVhazsKCQljYXNlIDcwOiBuID0gMC4wMzsgLy/mjInplK5G77ya5LiL5LiA5binCgkJY2FzZSA2ODogLy/mjInplK5E77ya5LiK5LiA5binCgkJCW4gPSBuIHx8IC0wLjAzOwoJCQlpZiAoIXYucGF1c2VkKSB2LnBhdXNlKCk7CgkJCXYuY3VycmVudFRpbWUgKz0gbjsKCQkJYnJlYWs7CgkJZGVmYXVsdDogcmV0dXJuOwoJCX0KCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJfSwKCWNoZWNrVUkoKSB7CgkJaWYgKHRoaXMud2ViZnVsbENTUyAmJiAhdGhpcy5idG5GUCkgdGhpcy5idG5GUCA9IHEodGhpcy53ZWJmdWxsQ1NTKTsKCQlpZiAodGhpcy5idG5GUCkgX2ZwID0gbnVsbDsKCQllbHNlIGlmICghX2ZwKSBfZnAgPSBuZXcgRnVsbFBhZ2UodiwgdGhpcy5zd2l0Y2hGUCk7CgoJCWlmICh0aGlzLmZ1bGxDU1MgJiYgIXRoaXMuYnRuRlMpIHRoaXMuYnRuRlMgPSBxKHRoaXMuZnVsbENTUyk7CgkJaWYgKHRoaXMuYnRuRlMpIF9mcyA9IG51bGw7CgkJZWxzZSBpZiAoIV9mcykgX2ZzID0gbmV3IEZ1bGxTY3JlZW4odik7CgoJCWlmICh0aGlzLm5leHRDU1MgJiYgIXRoaXMuYnRuTmV4dCkgdGhpcy5idG5OZXh0ID0gcSh0aGlzLm5leHRDU1MpOwoJCWlmICh0aGlzLnBsYXlDU1MgJiYgIXRoaXMuYnRuUGxheSkgdGhpcy5idG5QbGF5ID0gcSh0aGlzLnBsYXlDU1MpOwoJfSwKCXN3aXRjaEZQKHRvRnVsbCkgewoJCWlmICh0b0Z1bGwpIHsKCQkJZm9yIChsZXQgZSBvZiB0aGlzLnZTZXQpIHRoaXMudmlld09ic2VydmVyLnVub2JzZXJ2ZShlKTsKCQl9IGVsc2UgewoJCQlmb3IgKGxldCBlIG9mIHRoaXMudkxpc3QpIHRoaXMudmlld09ic2VydmVyLm9ic2VydmUoZSk7CgkJfQoJfSwKCW9uR3Jvd1ZMaXN0KCkgewoJCWlmICh0aGlzLnZMaXN0Lmxlbmd0aCA9PSB0aGlzLnZDb3VudCkgcmV0dXJuOwoJCWlmICh0aGlzLnZpZXdPYnNlcnZlcikgewoJCQlmb3IgKGxldCBlIG9mIHRoaXMudkxpc3QpIHsKCQkJCWlmICghdGhpcy52U2V0LmhhcyhlKSkgdGhpcy52aWV3T2JzZXJ2ZXIub2JzZXJ2ZShlKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWNvbnN0IGNvbmZpZyA9IHsKCQkJCXJvb3RNYXJnaW46ICcwcHgnLAoJCQkJdGhyZXNob2xkOiAwLjkKCQkJfTsKCQkJdGhpcy52aWV3T2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5vbkludGVyc2VjdGlvbi5iaW5kKHRoaXMpLCBjb25maWcpOwoJCQlmb3IgKGxldCBlIG9mIHRoaXMudkxpc3QpIHRoaXMudmlld09ic2VydmVyLm9ic2VydmUoZSk7CgkJfQoJCXRoaXMudlNldCA9IG5ldyBTZXQodGhpcy52TGlzdCk7CgkJdGhpcy52Q291bnQgPSB0aGlzLnZMaXN0Lmxlbmd0aDsKCX0sCglvbkludGVyc2VjdGlvbihlbnRyaWVzKSB7CgkJY29uc3QgZW50cnkgPSBmaW5kLmNhbGwoZW50cmllcywgayA9PiBrLmlzSW50ZXJzZWN0aW5nKTsKCQlpZiAoIWVudHJ5IHx8IHYgPT0gZW50cnkudGFyZ2V0KSByZXR1cm47CgkJdiA9IGVudHJ5LnRhcmdldDsKCQlfZnMgPSBuZXcgRnVsbFNjcmVlbih2KTsKCQlfZnAgPSBuZXcgRnVsbFBhZ2UodiwgdGhpcy5zd2l0Y2hGUCk7CgkJZXZlbnRzLnN3aXRjaE1WICYmIGV2ZW50cy5zd2l0Y2hNVigpOwoJfSwKCWJpbmRFdmVudCgpIHsKCQlieSA9IGQuYm9keTsKCQlsb2coJ2JpbmQgZXZlbnRcbicsIHYpOwoJCWV2ZW50cy5mb3VuZE1WICYmIGV2ZW50cy5mb3VuZE1WKCk7CgkJY29uc3QgZm4gPSBldiA9PiB7CgkJCWV2ZW50cy5jYW5wbGF5ICYmIGV2ZW50cy5jYW5wbGF5KCk7CgkJCXYucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBmbik7CgkJfTsKCQlpZiAodi5yZWFkeVN0YXRlID4gMykgZm4oKTsKCQllbHNlIHYuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBmbik7CgkJYnkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaG90S2V5KTsKCQlpZiAodGhpcy5leHRQbGF5ZXJDU1MpIHsKCQkJY29uc3QgeCA9IHRoaXMuZXh0UGxheWVyID0gdi5jbG9zZXN0KHRoaXMuZXh0UGxheWVyQ1NTKTsKCQkJeCAmJiB4LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhvdEtleSk7CgkJfQoKCQlpZiAodGhpcy5tdWx0aXBsZVYpIHsKCQkJbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5vbkdyb3dWTGlzdC5iaW5kKHRoaXMpKS5vYnNlcnZlKGJ5LCBvYnNlcnZlT3B0KTsKCQkJdGhpcy52Q291bnQgPSAwOwoJCQl0aGlzLm9uR3Jvd1ZMaXN0KCk7CgkJfQoJfSwKCWluaXQoKSB7CgkJdGhpcy5ob3RLZXkgPSB0aGlzLmhvdEtleS5iaW5kKHRoaXMpOwoJCXRoaXMuc3dpdGNoRlAgPSB0aGlzLm11bHRpcGxlViA/IHRoaXMuc3dpdGNoRlAuYmluZCh0aGlzKSA6IG51bGw7CgkJdGhpcy52TGlzdCA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZpZGVvJyk7CgkJY29uc3QgZm4gPSBlID0+IHRoaXMuY3NzTVYgPyBlLm1hdGNoZXModGhpcy5jc3NNVikgOiBlLm9mZnNldFdpZHRoID4gOTsKCQl0aGlzLmZpbmRNViA9ICgpID0+IGZpbmQuY2FsbCh0aGlzLnZMaXN0LCBmbik7CgkJaW50ZXJ2YWxRdWVyeShlID0+IHsKCQkJdiA9IGU7CgkJCSQkKHRoaXMuYWRzQ1NTKTsKCQkJdGhpcy5iaW5kRXZlbnQoKTsKCQl9LCB0aGlzLmZpbmRNVik7Cgl9Cn07CgpsZXQgcm91dGVyID0gewoJeW91dHViZSgpIHsKCQlhcHAuZnVsbENTUyA9ICcueXRwLWZ1bGxzY3JlZW4tYnV0dG9uJzsKCQlhcHAud2ViZnVsbENTUyA9ICcueXRwLXNpemUtYnV0dG9uJzsKCQlhcHAubmV4dENTUyA9ICcueXRwLW5leHQtYnV0dG9uJzsKCQlhcHAuZXh0UGxheWVyQ1NTID0gJyN5dHAtcGxheWVyJzsKCX0sCgl0ZWQoKSB7CgkJYXBwLmZ1bGxDU1MgPSAnYnV0dG9uW3RpdGxlPSJFbnRlciBGdWxsc2NyZWVuIl0nOwoJCWFwcC5wbGF5Q1NTID0gJ2J1dHRvblt0aXRsZT0icGxheSB2aWRlbyJdJzsKCQljb25zdCBmb3JjZUhEID0gZ21GdW5jT2ZDaGVja01lbnUoJ1RFROW8uuWItumrmOa4hScsICd0ZWRfZm9yY2VIRCcpOwoJCWNvbnN0IGdldEhEU291cmNlID0gYXN5bmMgKCkgPT4gewoJCQljb25zdCBwbiA9IHIxKC9eKFwvdGFsa3NcL1x3KykvLCBwYXRoKTsKCQkJY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGBodHRwczovL3d3dy50ZWQuY29tJHtwbn0vbWV0YWRhdGEuanNvbmApOwoJCQljb25zdCBkYXRhID0gYXdhaXQgcmVzcC5qc29uKCk7CgkJCXJldHVybiBkYXRhLnRhbGtzWzBdLmRvd25sb2Fkcy5uYXRpdmVEb3dubG9hZHMuaGlnaDsKCQl9OwoJCWNvbnN0IGNoZWNrID0gYXN5bmMgKHJzKSA9PiB7CgkJCWlmICghdi5zcmMgfHwgdi5zcmMuc3RhcnRzV2l0aCgnaHR0cCcpKSByZXR1cm47CgkJCSQkKGFwcC52TGlzdCwgZSA9PiB7IGUucmVtb3ZlQXR0cmlidXRlKCdzcmMnKSB9KTsgLy8g5Y+W5raI5aSa5L2Z55qE5aqS5L2T6LWE5rqQ6K+35rGCCgkJCXRyeSB7CgkJCQl2LnNyYyA9IGF3YWl0IGdldEhEU291cmNlKCk7CgkJCX0gY2F0Y2goZXgpIHsKCQkJCWNvbnNvbGUuZXJyb3IoZXgpOwoJCQl9CgkJfTsKCQlmb3JjZUhEICYmIGV2ZW50cy5vbignZm91bmRNVicsICgpID0+IHsKCQkJbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2hlY2spLm9ic2VydmUodiwgewoJCQkJYXR0cmlidXRlczogdHJ1ZSwKCQkJCWF0dHJpYnV0ZUZpbHRlcjogWydzcmMnXQoJCQl9KTsKCQkJY2hlY2soKTsKCQl9KTsKCX0sCglxcSgpIHsKCQlPYmplY3QuYXNzaWduKGFwcCwgewoJCQluZXh0Q1NTOiAnLnR4cF9idG5fbmV4dCcsCgkJCXdlYmZ1bGxDU1M6ICcudHhwX2J0bl9mYWtlJywKCQkJZnVsbENTUzogJy50eHBfYnRuX2Z1bGxzY3JlZW4nLAoJCQlleHRQbGF5ZXJDU1M6ICcjbW9kX3BsYXllcicKCQl9KTsKCX0sCgl5b3VrdSgpIHsKCQlpZiAoaG9zdC5zdGFydHNXaXRoKCd2a3UuJykpIHsKCQkJZXZlbnRzLm9uKCdjYW5wbGF5JywgKCkgPT4gewoJCQkJYXBwLmlzTGl2ZSA9ICFxKCcuc3B2X3Byb2dyZXNzJyk7CgkJCX0pOwoJCQlhcHAuZnVsbENTUyA9ICcubGl2ZV9pY29uX2Z1bGwnOwoJCX0gZWxzZSB7CgkJCWV2ZW50cy5vbignY2FucGxheScsICgpID0+IHsKCQkJCXcuJCgnLnNldHRpbmdzLWl0ZW0ucXVhbGl0eS1pdGVtJykucmVtb3ZlKCdbZGF0YS12YWw9ZG93bmxvYWRdJykKCQkJCQkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGUgeW91a3VfdmlwX3BheV9idG4gbG9naW4tY2FudXNlJykKCQkJCQkuY2hpbGRyZW4oJ3NwYW4nKS5yZW1vdmUoKTsKCQkJfSk7CgkJCWFwcC53ZWJmdWxsQ1NTID0gJy5jb250cm9sLXdlYmZ1bGxzY3JlZW4taWNvbic7CgkJCWFwcC5mdWxsQ1NTID0gJy5jb250cm9sLWZ1bGxzY3JlZW4taWNvbic7CgkJCWFwcC5uZXh0Q1NTID0gJy5jb250cm9sLW5leHQtdmlkZW8nOwoJCQlhcHAuZXh0UGxheWVyQ1NTID0gJyNwbGF5ZXInOwoJCX0KCX0sCgliaWxpYmlsaSgpIHsKCQlhcHAubmV4dENTUyA9ICcuYmlsaWJpbGktcGxheWVyLXZpZGVvLWJ0bi1uZXh0JzsKCQlhcHAud2ViZnVsbENTUyA9ICcuYmlsaWJpbGktcGxheWVyLXZpZGVvLXdlYi1mdWxsc2NyZWVuJzsKCQlhcHAuZnVsbENTUyA9ICcuYmlsaWJpbGktcGxheWVyLXZpZGVvLWJ0bi1mdWxsc2NyZWVuJzsKCQlhcHAuZXh0UGxheWVyQ1NTID0gJyNwbGF5ZXJXcmFwJzsKCQljb25zdCBkYW5tdSA9IGdtRnVuY09mQ2hlY2tNZW51KCflvLnluZUnLCAnYmlsaV9kYW5tdScpOwoJCWNvbnN0IGF1dG9QbGF5ID0gZ21GdW5jT2ZDaGVja01lbnUoJ+iHquWKqOaSreaUvicsICdiaWxpX2F1dG9QbGF5Jyk7CgkJY29uc3QgX3NldFBsYXllciA9ICgpID0+IHsKCQkJY29uc3QgeCA9IHEoJy5iaWxpYmlsaS1wbGF5ZXItdmlkZW8tZGFubWFrdS1zd2l0Y2ggaW5wdXQnKTsKCQkJaWYgKCF4KSByZXR1cm4gc2V0VGltZW91dChfc2V0UGxheWVyLCAzMDApOwoJCQlpZiAoeC5jaGVja2VkICE9IGRhbm11KSB4LmNsaWNrKCk7CgkJCWlmICh2LnBhdXNlZCA9PSBhdXRvUGxheSkgYXV0b1BsYXkgPyB2LnBsYXkoKSA6IHYucGF1c2UoKTsKCQkJZG9DbGljaygnaS5iaWxpYmlsaS1wbGF5ZXItaWNvbmZvbnQtcmVwZWF0Lmljb24tMjRyZXBlYXRvbicpOyAvL+WFs+W+queOr+aSreaUvgoJCX07CgkJY29uc3Qgc2V0UGxheWVyID0geCA9PiB7CgkJCWlmICh4ID09IHYgfHwgeC5yZWFkeVN0YXRlIDwgNCkgcmV0dXJuOwoJCQl2ID0geDsKCQkJYXBwLmJ0bk5leHQgPSBhcHAuYnRuRlAgPSBhcHAuYnRuRlMgPSBudWxsOwoJCQlfc2V0UGxheWVyKCk7CgkJfTsKCQlldmVudHMub24oJ2NhbnBsYXknLCAoKSA9PiB7CgkJCV9zZXRQbGF5ZXIoKTsKCQkJaW50ZXJ2YWxRdWVyeShzZXRQbGF5ZXIsIGFwcC5maW5kTVYsICExKTsKCQl9KTsKCX0sCglpeGlndWEoKSB7CgkJYXBwLmZ1bGxDU1MgPSAnLnhncGxheWVyLWZ1bGxzY3JlZW4nOwoJCWFwcC53ZWJmdWxsQ1NTID0gJy54Z3BsYXllci1jc3NmdWxsc2NyZWVuJzsKCQlhcHAubmV4dENTUyA9ICcueGdwbGF5ZXItcGxheU5leHQnOwoJCWV2ZW50cy5vbignZm91bmRNVicsICgpID0+IHsKCQkJdi5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXBwLmhvdEtleSk7CgkJfSk7Cgl9LAoJc2luYSgpIHsKCQlmYWtlVUEodWFfaXBhZDIpOwoJfSwKCXdlaWJvKCkgewoJCWFwcC5tdWx0aXBsZVYgPSBwYXRoLnN0YXJ0c1dpdGgoJy91LycpOwoJfSwKCWJhaWR1KCkgewoJCWV2ZW50cy5vbigna2V5ZG93bicsIGUgPT4gewoJCQlpZiAoIXZpZGVvanMpIHJldHVybjsKCQkJbGV0IG4sIHAgPSB2aWRlb2pzLmdldFBsYXllcnMoInZpZGVvLXBsYXllciIpLmh0bWw1cGxheWVyOwoJCQlzd2l0Y2ggKGUua2V5Q29kZSkgewoJCQljYXNlIDY3OiBuID0gMC4xOwoJCQljYXNlIDg4OgoJCQkJbiA9IG4gfHwgLTAuMTsKCQkJCW4gKz0gKyBwLnRlY2hfLnBsYXliYWNrUmF0ZSgpLnRvRml4ZWQoMSk7CgkJCQlpZiAoMCA8IG4gJiYgbiA8PSAxNikgcC50ZWNoXy5zZXRQbGF5YmFja1JhdGUobik7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJY2FzZSA5MDoKCQkJCXAudGVjaF8uc2V0UGxheWJhY2tSYXRlKDEpOwoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9KTsKCQlhcHAuZXh0UGxheWVyQ1NTID0gJy52aWRlby1jb250ZW50JzsKCX0sCglhY2Z1bigpIHsKCQlhcHAud2ViZnVsbENTUyA9ICcuZnVsbHNjcmVlbi13ZWInOwoJCWFwcC5mdWxsQ1NTID0gJy5mdWxsc2NyZWVuLXNjcmVlbic7Cgl9LAoJWycxNjMnXSgpIHsKCQlhcHAubXVsdGlwbGVWID0gaG9zdC5zdGFydHNXaXRoKCduZXdzLicpOwoJCUdNX2FkZFN0eWxlKCdkaXYudmlkZW8sdmlkZW97bWF4LWhlaWdodDogMTAwJSAhaW1wb3J0YW50O30nKTsKCQlyZXR1cm4gaG9zdC5zcGxpdCgnLicpLmxlbmd0aCA+IDM7Cgl9LAoJc29odSgpIHsKCQlhcHAubmV4dENTUyA9ICdsaS5vbltkYXRhLXZpZF0rbGkgYSc7CgkJYXBwLmZ1bGxDU1MgPSAnLngtZnVsbHNjcmVlbi1idG4nOwoJCWFwcC53ZWJmdWxsQ1NTID0gJy54LXBhZ2Vmcy1idG4nOwoJfSwKCW10aW1lKCkgewoJCWZha2VVQSh1YV9pcGFkMik7CgkJZXZlbnRzLm9uKCdmb3VuZE1WJywgKCkgPT4gewoJCQl2LnByZWxvYWQgPSAnYXV0byc7CgkJCXYuYXV0b3BsYXkgPSB0cnVlOwoJCX0pOwoJfSwKCWZ1bigpIHsKCQlpZiAoaG9zdC5zdGFydHNXaXRoKCdtLicpKSB7CgkJCWlmICghcGF0aC5pbmNsdWRlcygncGxheScpKSByZXR1cm4gdHJ1ZTsvL+mdnuaSreaUvumhte+8jOS4jeaJp+ihjGluaXQoKQoJCQkvXlwvW212XS8udGVzdChwYXRoKSAmJiBsb2NhdGlvbi5hc3NpZ24ocGF0aC5yZXBsYWNlKCcvJywgJy9pJykgKyBsb2NhdGlvbi5zZWFyY2gpOwoJCQlhcHAubmV4dENTUyA9ICdhLmJ0bi5uZXh0LWJ0bic7CgkJCWFwcC5mdWxsQ1NTID0gJ2EuYnRuLmZ1bGwtYnRuJzsKCQkJR01fYWRkU3R5bGUoJ2Rpdi5wLWlwLXdyYXB7b3ZlcmZsb3cteTogYXV0byAhaW1wb3J0YW50O30nKTsKCQkJcmV0dXJuOwoJCX0KCQlsZXQgdmlkID0gcjEoL1xidi0oXGQrKS8sIHBhdGgpOwoJCWxldCBtaWQgPSByMSgvXGJnLShcZCspLywgcGF0aCk7CgkJLy/liafpm4ZwYXRoOiAvaW1wbGF5L++8jOWNleinhumikXBhdGg6IC9pdnBsYXkvCgkJaWYgKHZpZCkgewoJCQltaWQgJiYgbG9jYXRpb24uYXNzaWduKGAvL20uZnVuLnR2L2ltcGxheS8/bWlkPSR7bWlkfSZ2aWQ9JHt2aWR9YCk7CgkJCWxvY2F0aW9uLmFzc2lnbignLy9tLmZ1bi50di9pdnBsYXkvP3ZpZD0nK3ZpZCk7CgkJfQoJCW1pZCAmJiBzZXRUaW1lb3V0KCgpID0+IHsKCQkJdmlkID0gdy52cGxheS52aWRlb2lkOwoJCQl2aWQgJiYgbG9jYXRpb24uYXNzaWduKGAvL20uZnVuLnR2L2ltcGxheS8/bWlkPSR7bWlkfSZ2aWQ9JHt2aWR9YCk7CgkJfSwgOTkpOwoJCXIxKC9cYnQtKFxkKykvLCBwYXRoKSAmJiBzZXRUaW1lb3V0KCgpID0+IHsKCQkJdmlkID0gdy52cGxheS52aWRlb2lkOwoJCQlsb2NhdGlvbi5hc3NpZ24oJy8vbS5mdW4udHYvaXZwbGF5Lz92aWQ9Jyt2aWQpOwoJCX0sIDk5KTsKCQlyZXR1cm4gdHJ1ZTsKCX0KfTsKYXBwLmRpc2FibGVTcGFjZSA9IC95b3V0dWJlfGl4aWd1YXxxcXxwcHR2Ly50ZXN0KHUpOwoKaWYgKCFyb3V0ZXJbdV0pIHsgLy/nm7Tmkq3nq5nngrkKCXJvdXRlciA9IHsKCQlkb3V5dSgpIHsKCQkJY29uc3QgaW5Sb29tID0gaG9zdC5zdGFydHNXaXRoKCd3d3cuJyk7CgkJCWV2ZW50cy5vbignY2FucGxheScsICgpID0+IHsKCQkJCWlmIChpblJvb20pIHsKCQkJCQlpbnRlcnZhbFF1ZXJ5KGRvQ2xpY2ssICcucm9vbVNtYWxsUGxheWVyRmxvYXRMYXlvdXQtY2xvc2VCdG4nKTsKCQkJCQlxKCcjanMtcGxheWVyLWFzaWRlLXN0YXRlJykuY2hlY2tlZCA9IHRydWU7CgkJCQl9CgkJCQllbHNlIHcuJChkKS51bmJpbmQoJ2tleWRvd24nKTsKCQkJCSQkKGFwcC5hZHNDU1MpOy8vaW50ZXJ2YWxRdWVyeSgkJCwgJCQuYmluZChudWxsLCBhcHAuYWRzQ1NTLCAhMSksICExKTsgc2V0SW50ZXJ2YWwoeCA9PiAkJChhcHAuYWRzQ1NTKSwzMDApOwoJCQl9KTsKCQkJYXBwLmNzc01WID0gJ1tzcmNePWJsb2JdJzsKCQkJYXBwLnBsYXlDU1MgPSBpblJvb20gPyAnZGl2W3RpdGxlPSLmkq3mlL4iXScgOiAnaW5wdXRbdGl0bGU9IuaSreaUviJdJzsKCQkJYXBwLndlYmZ1bGxDU1MgPSBpblJvb20gPyAnZGl2W3RpdGxlPSLnvZHpobXlhajlsY8iXScgOiAnaW5wdXRbdGl0bGU9Iui/m+WFpee9kemhteWFqOWxjyJdJzsKCQkJYXBwLmZ1bGxDU1MgPSBpblJvb20gPyAnZGl2W3RpdGxlPSLnqpflj6PlhajlsY8iXScgOiAnaW5wdXRbdGl0bGU9Iui/m+WFpeWFqOWxjyJdJzsKCQkJYXBwLmFkc0NTUyA9ICdbY2xhc3MkPSItYWQiXSxhW2hyZWYqPSJ3YW4uZG91eXUuY29tIl0nOwoJCX0sCgkJeXkoKSB7CgkJCWFwcC5pc0xpdmUgPSAhcGF0aC5zdGFydHNXaXRoKCcveC8nKTsKCQkJaWYgKGFwcC5pc0xpdmUpIHsKCQkJCWFwcC5mdWxsQ1NTID0gJy55Y19fZnVsbHNjcmVlbi1idG4nOwoJCQkJYXBwLndlYmZ1bGxDU1MgPSAnLnljX19jaW5lbWEtbW9kZS1idG4nOwoJCQkJYXBwLnBsYXlDU1MgPSAnLnljX19wbGF5LWJ0bic7CgkJCX0KCQl9LAoJCWh1eWEoKSB7CgkJCWlmIChmaXJlZm94VmVyICYmIGZpcmVmb3hWZXIgPCA1NykgcmV0dXJuIHRydWU7CgkJCWFwcC53ZWJmdWxsQ1NTID0gJy5wbGF5ZXItZnVsbHBhZ2UtYnRuJzsKCQkJYXBwLmZ1bGxDU1MgPSAnLnBsYXllci1mdWxsc2NyZWVuLWJ0bic7CgkJCWFwcC5wbGF5Q1NTID0gJyNwbGF5ZXItYnRuJzsKCQkJYXBwLmFkc0NTUyA9ICcjcGxheWVyLXN1YnNjcmliZS13YXAsI3dyYXAtaW5jb21lLCNoeS1hZCc7CgkJfSwKCQlsb25nemh1KCkgewoJCQlhcHAuZnVsbENTUyA9ICdhLnlhLXNjcmVlbi1idG4nOwoJCX0sCgkJemhhbnFpKCkgewoJCQlsb2NhbFN0b3JhZ2UubGFzdFBsYXllciA9ICdoNSc7CgkJCWFwcC5mdWxsQ1NTID0gJy52aWRlby1mdWxsc2NyZWVuJzsKCQl9Cgl9OwoJaWYgKHJvdXRlclt1XSkgewoJCWFwcC5pc0xpdmUgPSBhcHAuaXNMaXZlIHx8ICFob3N0LnN0YXJ0c1dpdGgoJ3YuJyk7CgkJIXcuY2hyb21lICYmIGZha2VVQSh1YV9jaHJvbWUpOwoJfQp9CiEvcHB0dnxkb3V5dS8udGVzdCh1KSAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAncGx1Z2lucycsIHsKCWdldCgpIHsgcmV0dXJuIHsgbGVuZ3RoOiAwIH0gfQp9KTsKR01fcmVnaXN0ZXJNZW51Q29tbWFuZCgn6ISa5pys5Yqf6IO95b+r5o236ZSu6KGoJyAsIGFsZXJ0LmJpbmQodywKYOW3puWPs+aWueWQkemUru+8muW/q+i/m+OAgei/m+mAgDXnp5I7ICtzaGlmdDogMjDnp5IK5LiK5LiL5pa55ZCR6ZSu77ya6Z+z6YeP6LCD6IqCCuepuuagvOmUru+8muaaguWBnC/mkq3mlL47ICtzaGlmdDog5a6a5L2N5pKt5pS+5Zmo56qX5Y+jCk7vvJrmkq3mlL7kuIvkuIDpm4YK5Zue6L2m6ZSu77ya5YiH5o2i5YWo5bGPOyArc2hpZnQ6IOWIh+aNoue9kemhteWFqOWxjwpFU0PvvJrpgIDlh7rvvIjnvZHpobXvvInlhajlsY8KQ++8muWKoOmAnzAuMeWAjeaSreaUviAgICAgICBY77ya5YeP6YCfMC4x5YCN5pKt5pS+ICAgICAgIFrvvJrmraPluLjpgJ/luqbmkq3mlL4KRO+8muS4iuS4gOW4pyAgICAgICAgRu+8muS4i+S4gOW4p2AKKSk7CmlmICghcm91dGVyW3VdIHx8ICFyb3V0ZXJbdV0oKSkgYXBwLmluaXQoKTs="},{"name":"EX-百度云盘","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":true,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://pan.baidu.com/disk/home*","*://yun.baidu.com/disk/home*","*://pan.baidu.com/s/*","*://yun.baidu.com/s/*","*://pan.baidu.com/share/link?*","*://yun.baidu.com/share/link?*","*://eyun.baidu.com/s/*","*://eyun.baidu.com/enterprise/share/link?*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"data":{},"ts":1574751670167},"enabled":false,"position":5,"file_url":"https://greasyfork.org/scripts/26638-ex-%E7%99%BE%E5%BA%A6%E4%BA%91%E7%9B%98/code/EX-%E7%99%BE%E5%BA%A6%E4%BA%91%E7%9B%98.user.js","uuid":"d04df2ab-710a-45a0-be33-130eb51edb93","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFWC3nmb7luqbkupHnm5gKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGh1Yi5jb20vZ3h2di9leC1iYWlkdXl1bnBhbi8KLy8gQHZlcnNpb24gICAgICAwLjMuMwovLyBAZGVzY3JpcHRpb24gIFvkuIvovb3lpKfmlofku7ZdIFvmibnph4/kuIvovb1dIFvmlofku7blpLnkuIvovb1dIFvnmb7luqbnvZHnm5hdIFvnmb7luqbkupHnm5hdIFvkvIHkuJrniYhdCi8vIEBkZXNjcmlwdGlvbiAgW2JhaWR1XSBbYmFpZHV5dW5dIFt5dW5wYW5dIFtiYWlkdXl1bnBhbl0gW2V5dW5dCi8vIEBhdXRob3IgICAgICAgZ3h2dgovLyBAbGljZW5zZSAgICAgIE1JVAovLyBAc3VwcG9ydFVSTCAgIGh0dHBzOi8vZ2l0aHViLmNvbS9neHZ2L2V4LWJhaWR1eXVucGFuL2lzc3VlcwovLyBAZGF0ZSAgICAgICAgIDAxLzAxLzIwMTcKLy8gQG1vZGlmaWVkICAgICAyMC8wOC8yMDE4Ci8vIEBtYXRjaCAgICAgICAgKjovL3Bhbi5iYWlkdS5jb20vZGlzay9ob21lKgovLyBAbWF0Y2ggICAgICAgICo6Ly95dW4uYmFpZHUuY29tL2Rpc2svaG9tZSoKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9zLyoKLy8gQG1hdGNoICAgICAgICAqOi8vcGFuLmJhaWR1LmNvbS9zaGFyZS9saW5rPyoKLy8gQG1hdGNoICAgICAgICAqOi8veXVuLmJhaWR1LmNvbS9zaGFyZS9saW5rPyoKLy8gQG1hdGNoICAgICAgICAqOi8vZXl1bi5iYWlkdS5jb20vcy8qCi8vIEBtYXRjaCAgICAgICAgKjovL2V5dW4uYmFpZHUuY29tL2VudGVycHJpc2Uvc2hhcmUvbGluaz8qCi8vIEBydW4tYXQgICAgICAgZG9jdW1lbnQtZW5kCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICBHTV9pbmZvCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vYmFiZWwtc3RhbmRhbG9uZS82LjI2LjAvYmFiZWwubWluLmpzCi8vIEByZXF1aXJlICAgICAgaHR0cHM6Ly9jZG4uYm9vdGNzcy5jb20vY2xpcGJvYXJkLmpzLzEuNS4xNi9jbGlwYm9hcmQubWluLmpzCi8vID09L1VzZXJTY3JpcHQ9PQoKLyoganNoaW50IGlnbm9yZTpzdGFydCAqLwp2YXIgaW5saW5lX3NyYyA9ICg8PjwhW0NEQVRBWwogICAgLyoganNoaW50IGlnbm9yZTplbmQgKi8KICAgIC8qIGpzaGludCBlc25leHQ6IGZhbHNlICovCiAgICAvKiBqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgogICAgKCh7cmVxdWlyZSwgZGVmaW5lLCBQcm9taXNlfSkgPT4gewogICAgICAgIGxldCBzaG93RXJyb3IgPSBtc2cgPT4gewogICAgICAgICAgICBHTV9hZGRTdHlsZShgI2Vycm9yRGlhbG9nIHtwb3NpdGlvbjogZml4ZWQ7dG9wOiA3Ni41cHg7IGJvdHRvbTogYXV0bzsgbGVmdDogNDIzcHg7IHJpZ2h0OiBhdXRvO2JhY2tncm91bmQ6ICNmZmY7Ym9yZGVyOiAxcHggc29saWQgI2NlZDFkOTtib3JkZXItcmFkaXVzOiA0cHg7Ym94LXNoYWRvdzogMCAwIDNweCAjY2VkMWQ5O2NvbG9yOiBibGFjazt3b3JkLWJyZWFrOiBicmVhay1hbGw7ZGlzcGxheTogYmxvY2s7d2lkdGg6IDUyMHB4O3BhZGRpbmc6IDEwcHggMjBweDt6LWluZGV4OiA5OTk5O30KICAgICAgICAgICAgICAgICAgICAgICAgICNlcnJvckRpYWxvZyBoMyB7Ym9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjZWQxZDk7Zm9udC1zaXplOiAxLjVlbTtmb250LXdlaWdodDogYm9sZDt9CiAgICAgICAgICAgICAgICAgICAgICAgICAjZXJyb3JEaWFsb2cgLnZlcnktdmVyeS1pbXBvcnRhbnQge2ZvbnQtc2l6ZTogMjBweDtmb250LXdlaWdodDogYm9sZDt9CiAgICAgICAgICAgICAgICAgICAgICAgICBgKTsKICAgICAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwoKICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGA8ZGl2IGlkPSJlcnJvckRpYWxvZyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgzPkVYLWJhaWR1eXVucGFuOueoi+W6j+W8guW4uDwvaDM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGlhbG9nLWJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOivt+WwneivlQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iaHR0cHM6Ly9neHZ2LmdpdGh1Yi5pby9leC1iYWlkdXl1bnBhbi9FWC1iYWlkdXl1bnBhbi51c2VyLmpzIiB0YXJnZXQ9Il9ibGFuayI+5pu05paw6ISa5pysPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5oiW5aSN5Yi25Lul5LiL5L+h5oGvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vZ3h2di9leC1iYWlkdXl1bnBhbi9pc3N1ZXMiIHRhcmdldD0iX2JsYW5rIj7mj5DkuqRpc3N1ZTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2ZXJ5LXZlcnktaW1wb3J0YW50Ij4o6K+35LiN6KaB5o+Q5Lqk6YeN5aSN55qEaXNzdWUpPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPkV4Y2VwdGlvbjogJHttc2d9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5TY3JpcHQgVmVyOiAke0dNX2luZm8uc2NyaXB0LnZlcnNpb259PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5UZW1wZXJNb25rZXkgVmVyOiAke0dNX2luZm8udmVyc2lvbn08L3A+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPlVBOiAke25hdmlnYXRvci51c2VyQWdlbnR9PC9wPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxocj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iY2xvc2UiIGhyZWY9ImphdmFzY3JpcHQ6OyI+5YWz6ZetPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmA7CiAgICAgICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGRpdi5yZW1vdmUpOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRpdik7CiAgICAgICAgfTsKCiAgICAgICAgZGVmaW5lKCdleC15dW5wYW46cGFnZUluZm8nLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IFVSTF9IUkVGID0gbG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgY29uc3QgTUFUQ0hTID0gewogICAgICAgICAgICAgICAgJ2h0dHBzPzovLyhwYW58eXVuKS5iYWlkdS5jb20vZGlzay9ob21lLionOiAncGFuJywKICAgICAgICAgICAgICAgICdodHRwcz86Ly8ocGFufHl1bikuYmFpZHUuY29tL3MvLionOiAnc2hhcmUnLAogICAgICAgICAgICAgICAgJ2h0dHBzPzovLyhwYW58eXVuKS5iYWlkdS5jb20vc2hhcmUvbGlua1w/LionOiAnc2hhcmUnLAogICAgICAgICAgICAgICAgJ2h0dHBzPzovL2V5dW4uYmFpZHUuY29tLyhzfGVudGVycHJpc2UpLy4qJzogJ2VudGVycHJpc2UnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGNvbnN0IFBBR0VfQ09ORklHID0gewogICAgICAgICAgICAgICAgcGFuOiB7CiAgICAgICAgICAgICAgICAgICAgcHJlZml4OiAnZnVuY3Rpb24td2lkZ2V0LTE6JywKICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiAncGFuJywKICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzOiBbJy5nLWJ1dHRvblt0aXRsZT0iXHU3OWJiXHU3ZWJmXHU0ZTBiXHU4ZjdkIl0nXSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogKCkgPT4ge30KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzaGFyZTogewogICAgICAgICAgICAgICAgICAgIHByZWZpeDogJ2Z1bmN0aW9uLXdpZGdldC0xOicsCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ3NoYXJlJywKICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzOiBbCiAgICAgICAgICAgICAgICAgICAgICAgICdkaXY6bm90KC5maWxlLW5hbWUpPmRpdj4ueC1idXR0b24tYm94Pi5nLWJ1dHRvblt0aXRsZV49Ilx1NGUwYlx1OGY3ZCJdJywKICAgICAgICAgICAgICAgICAgICAgICAgJy5tb2R1bGUtc2hhcmUtdG9wLWJhciAueC1idXR0b24tYm94Pi5nLWJ1dHRvblt0aXRsZT0iXHU0ZTBiXHU4ZjdkIl0nCiAgICAgICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGUgPSBgLktQRHdDRSAuUXhKeHRnIHt6LWluZGV4OiAyO30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tb2R1bGUtc2hhcmUtaGVhZGVyIC5zbGlkZS1zaG93LXJpZ2h0IHt3aWR0aDogYXV0bzt9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZXgteXVucGFuLWRyb3Bkb3duLWJ1dHRvbi5nLWRyb3Bkb3duLWJ1dHRvbi5idXR0b24tb3BlbiAubWVudSB7ei1pbmRleDo0MTt9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubW9kdWxlLXNoYXJlLWhlYWRlciAuc2xpZGUtc2hvdy1oZWFkZXIgaDIge3dpZHRoOjIxMHB4O30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nLWRyb3Bkb3duLWJ1dHRvbi5leC15dW5wYW4tZHJvcGRvd24tYnV0dG9uIHttYXJnaW46IDAgNXB4IWltcG9ydGFudDt9YDsKCiAgICAgICAgICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKHN0eWxlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZW50ZXJwcmlzZTogewogICAgICAgICAgICAgICAgICAgIHByZWZpeDogJ2J1c2luZXNzLWZ1bmN0aW9uOicsCiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogJ2VudGVycHJpc2UnLAogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcnM6IFsnZGl2Om5vdCgub3BlcmF0ZSk+LmJ1dHRvbi1ib3gtY29udGFpbmVyPi5nLWJ1dHRvblt0aXRsZT0iXHU0ZTBiXHU4ZjdkIl0nXSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGU9IGAuZXgteXVucGFuLWRyb3Bkb3duLWJ1dHRvbiAuaWNvbi1kb3dubG9hZHtiYWNrZ3JvdW5kLWltYWdlOiB1cmwoL2JveC1zdGF0aWMvYnVzaW5lc3MtZnVuY3Rpb24vaW5mb3MvaWNvbnNfei5wbmcpO30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmV4LXl1bnBhbi1kcm9wZG93bi1idXR0b24gLmctYnV0dG9uOmhvdmVyIC5pY29uLWRvd25sb2Fke2JhY2tncm91bmQtcG9zaXRpb246IDBweCAtMzRweDt9YDsKCiAgICAgICAgICAgICAgICAgICAgICAgIEdNX2FkZFN0eWxlKHN0eWxlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9ICdwYW4nOwoKICAgICAgICAgICAgZm9yIChsZXQgbWF0Y2ggaW4gTUFUQ0hTKSB7CiAgICAgICAgICAgICAgICBpZiAobmV3IFJlZ0V4cChtYXRjaCkudGVzdChVUkxfSFJFRikpIHsKICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IE1BVENIU1ttYXRjaF07CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIFBBR0VfQ09ORklHW2N1cnJlbnRQYWdlXTsKICAgICAgICB9KTsKCiAgICAgICAgZGVmaW5lKCdleC15dW5wYW46Y3R4JywgcmVxdWlyZSA9PiB7CiAgICAgICAgICAgIGxldCB7cHJvZHVjdH0gPSByZXF1aXJlKCdleC15dW5wYW46cGFnZUluZm8nKTsKICAgICAgICAgICAgbGV0IHByZWZpeCA9IHByb2R1Y3QgPT09ICdlbnRlcnByaXNlJyA/ICdidXNpbmVzcy1jb3JlOicgOiAnc3lzdGVtLWNvcmU6JzsKICAgICAgICAgICAgbGV0IHtpbnN0YW5jZUZvclN5c3RlbTogY3R4fSA9IHJlcXVpcmUoYCR7cHJlZml4fWNvbnRleHQvY29udGV4dC5qc2ApOwoKICAgICAgICAgICAgcmV0dXJuIGN0eDsKICAgICAgICB9KTsKCiAgICAgICAgZGVmaW5lKCdleC15dW5wYW46cGx1Z2luSW5pdCcsIGFzeW5jIHJlcXVpcmUgPT4gewogICAgICAgICAgICBsZXQgY3R4ID0gcmVxdWlyZSgnZXgteXVucGFuOmN0eCcpOwogICAgICAgICAgICBsZXQge3ByZWZpeH0gPSByZXF1aXJlKCdleC15dW5wYW46cGFnZUluZm8nKTsKICAgICAgICAgICAgbGV0IHtwYWdlSW5mbzoge2N1cnJlbnRQcm9kdWN0ID0gJ3Bhbid9ID0ge2N1cnJlbnRQcm9kdWN0OiAncGFuJ319ID0gY3R4OwogICAgICAgICAgICBsZXQgY3VyclByZElzRXl1biA9IGN1cnJlbnRQcm9kdWN0ID09PSAnZW50ZXJwcmlzZSc7CgogICAgICAgICAgICByZXF1aXJlLmFzeW5jKGAke3ByZWZpeH1kb3dubG9hZC9zZXJ2aWNlL2d1YW5qaWFDb25uZWN0b3IuanNgLCBnamMgPT4gewogICAgICAgICAgICAgICAgZ2pjLmluaXQgPSAoKSA9PiBjdHgudWkudGlwKHttb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ0VYLWJhaWR1eXVucGFuOiDmo4DmtYvliLDmraPlnKjosIPnlKjkupHnrqHlrrbvvIzoi6XohJrmnKzlpLHmlYjvvIzor7fmo4Dmn6Xmm7TmlrAnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDbG9zZTogdHJ1ZX0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbGV0IGRkc1NjcmlwdCA9IGN1cnJQcmRJc0V5dW4gPyAnZG93bmxvYWREaXJlY3RTZXJ2aWNlLmpzJyA6ICdkb3dubG9hZERpcmVjdC5qcyc7CgogICAgICAgICAgICByZXF1aXJlLmFzeW5jKGAke3ByZWZpeH1kb3dubG9hZC9zZXJ2aWNlLyR7ZGRzU2NyaXB0fWAsIGRkcyA9PiB7CiAgICAgICAgICAgICAgICBsZXQgZnVuTmFtZSA9IGN1cnJQcmRJc0V5dW4gPyAnc3RyYWlnaHRmb3J3YXJkRG93bmxvYWQnIDogJ3N0YXJ0JzsKICAgICAgICAgICAgICAgIGxldCBfID0gZGRzW2Z1bk5hbWVdOwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgXyAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuOwogICAgICAgICAgICAgICAgZGRzW2Z1bk5hbWVdID0gKC4uLmFyZ3MpID0+IHsKICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHttb2RlOiAnbG9hZGluZycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAnRVgtYmFpZHV5dW5wYW46IOato+WcqOW8gOWni+S4i+i9vS4uLid9KTsKICAgICAgICAgICAgICAgICAgICBfLmFwcGx5KG51bGwsIGFyZ3MpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlcXVpcmUuYXN5bmMoYCR7cHJlZml4fWRvd25sb2FkL3V0aWwvY29udGV4dC5qc2AsIGNvbnRleHQgPT4gewogICAgICAgICAgICAgICAgY29udGV4dC5nZXRDb250ZXh0ID0gKCkgPT4gY3R4OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgbGV0IGxpbWl0ZWRJc1JlbW92ZWQgPSBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAgICAgICAgICAgICB1bnNhZmVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHJlamVjdChmYWxzZSkpOwogICAgICAgICAgICAgICAgaWYgKGN1cnJQcmRJc0V5dW4pIHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlLmFzeW5jKGAke3ByZWZpeH1kb3dubG9hZC9zZXJ2aWNlL2Rvd25sb2FkTWFuYWdlci5qc2AsIGRtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZG0uTU9ERV9QUkVfSU5TVEFMTCA9IGRtLk1PREVfUFJFX0RPV05MT0FEOwogICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlLmFzeW5jKGAke3ByZWZpeH1kb3dubG9hZC9jb25maWcuanNgLCBjb25maWcgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBbXS5wdXNoLmFwcGx5KGNvbmZpZy5kaXJlY3REb3dubG9hZGtleXNDb25maWcsIGNvbmZpZy5ndWFuamlhRG93bmxvYWRrZXlzQ29uaWcpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuZ3VhbmppYURvd25sb2Fka2V5c0NvbmlnID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKHJlc3VsdCA9PiBmYWxzZSk7CgogICAgICAgICAgICBpZiAobGltaXRlZElzUmVtb3ZlZCkgewogICAgICAgICAgICAgICAgbGV0IHRpcENvbmZpZyA9IHsKICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbXNnOiAnRVgtYmFpZHV5dW5wYW46IOaPkuS7tuWKoOi9veaIkOWKnycKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXF1aXJlKCdleC15dW5wYW46ZG93bmxvYWRCdG5Jbml0Jyk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgdGlwQ29uZmlnID0gewogICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ0VYLWJhaWR1eXVucGFuOiDmj5Lku7bliqDovb3miJDlip/vvIzmjInpkq7liJ3lp4vljJblpLHotKUnLAogICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ2xvc2U6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBoYXNDbG9zZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBjdHgudWkudGlwKHRpcENvbmZpZyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hhcmVfbm9mb3VuZF9kZXMsI2Vycm9yLWluZm8nKSAhPT0gbnVsbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfmj5Lku7bliqDovb3lpLHotKUgY29yZSBjcmFjayBmYWlsZWQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBkZWZpbmUoJ2V4LXl1bnBhbjpkb3dubG9hZEJ0bkluaXQnLCBhc3luYyByZXF1aXJlID0+IHsKICAgICAgICAgICAgbGV0IGN0eCA9IHJlcXVpcmUoJ2V4LXl1bnBhbjpjdHgnKTsKICAgICAgICAgICAgbGV0IHtwYWdlSW5mbzoge2N1cnJlbnRQcm9kdWN0ID0gJyd9ID0ge2N1cnJlbnRQcm9kdWN0OiAnJ319ID0gY3R4OwogICAgICAgICAgICBsZXQgcGFnZUluZm8gPSByZXF1aXJlKCdleC15dW5wYW46cGFnZUluZm8nKTsKICAgICAgICAgICAgbGV0IHtwcmVmaXh9ID0gcGFnZUluZm87CiAgICAgICAgICAgIGxldCBmZXRjaERvd25MaW5rcyA9IHJlcXVpcmUoJ2V4LXl1bnBhbjpmZXRjaERvd25MaW5rcycpOwogICAgICAgICAgICBsZXQgbWVudXMgPSBbCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmma7pgJrkuIvovb0nLAogICAgICAgICAgICAgICAgICAgIGNsaWNrOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7c3RhcnR9ID0gcmVxdWlyZShgJHtwcmVmaXh9ZG93bmxvYWQvc3RhcnQuanNgKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0KGN0eCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlbmFibGVQcmQ6IFsncGFuJywgJ3NoYXJlJywgJ2VudGVycHJpc2UnXQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5aSN5Yi26ZO+5o6lJywKICAgICAgICAgICAgICAgICAgICBjbGljazogYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2hEb3duTGlua3MoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB7c2hvd30gPSByZXF1aXJlKCdleC15dW5wYW46Y2xpcGJvYXJkRGlhbG9nJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBzaG93KHJlc3VsdCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBlbmFibGVQcmQ6IFsncGFuJywgJ3NoYXJlJywgJ2VudGVycHJpc2UnXQogICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5aSN5Yi25Y6L57yp6ZO+5o6lJywKICAgICAgICAgICAgICAgICAgICBjbGljazogYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2hEb3duTGlua3MoJ2JhdGNoJyk7CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQge3Nob3d9ID0gcmVxdWlyZSgnZXgteXVucGFuOmNsaXBib2FyZERpYWxvZycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgc2hvdyhyZXN1bHQpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgZW5hYmxlUHJkOiBbJ3BhbicsICdzaGFyZScsICdlbnRlcnByaXNlJ10KICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogYDxpZnJhbWUgc3JjPSJodHRwczovL2doYnRucy5jb20vZ2l0aHViLWJ0bi5odG1sP3VzZXI9Z3h2diZyZXBvPWV4LWJhaWR1eXVucGFuJnR5cGU9c3RhciZjb3VudD10cnVlIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVib3JkZXI9IjAiIHNjcm9sbGluZz0iMCIgc3R5bGU9Im1hcmdpbi10b3A6IDZweDtoZWlnaHQ6IDIwcHg7d2lkdGg6IDE3MHB4OyI+PC9pZnJhbWU+YCwKICAgICAgICAgICAgICAgICAgICBlbmFibGVQcmQ6IFsncGFuJywgJ3NoYXJlJywgJ2VudGVycHJpc2UnXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICBdOwogICAgICAgICAgICBsZXQgZXhEbEJ0bkNvbmZpZyA9IHsKICAgICAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsCiAgICAgICAgICAgICAgICB0aXRsZTogJ0VYLeS4i+i9vScsCiAgICAgICAgICAgICAgICByZXNpemU6IHRydWUsCiAgICAgICAgICAgICAgICBtZW51OiBtZW51cy5maWx0ZXIobWVudSA9PiB+bWVudS5lbmFibGVQcmQuaW5kZXhPZihjdXJyZW50UHJvZHVjdCkpLAogICAgICAgICAgICAgICAgaWNvbjogJ2ljb24tZG93bmxvYWQnCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGxldCBzZWxlY3RvcnMgPSBwYWdlSW5mby5jb250YWluZXJzLmpvaW4oKTsKICAgICAgICAgICAgbGV0IGVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9ycykgfHwgW10sIDApOwoKICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgIGxldCBleERsQnRuID0gY3R4LnVpLmJ1dHRvbihleERsQnRuQ29uZmlnKTsKCiAgICAgICAgICAgICAgICBleERsQnRuLmRvbS5hZGRDbGFzcygnZXgteXVucGFuLWRyb3Bkb3duLWJ1dHRvbicpLmluc2VydEFmdGVyKGVsZW1lbnQpOwogICAgICAgICAgICAgICAgZXhEbEJ0bi5yZXNpemVCdXR0b25XaWR0aCgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcGFnZUluZm8uc3R5bGUoKTsKICAgICAgICB9KTsKCiAgICAgICAgZGVmaW5lKCdleC15dW5wYW46ZmV0Y2hEb3duTGlua3MnLCAoKSA9PiB7CiAgICAgICAgICAgIGxldCBjdHggPSByZXF1aXJlKCdleC15dW5wYW46Y3R4Jyk7CiAgICAgICAgICAgIGxldCB7cHJlZml4fSA9IHJlcXVpcmUoJ2V4LXl1bnBhbjpwYWdlSW5mbycpOwogICAgICAgICAgICBsZXQgZFNlcnYgPSBudWxsOwoKICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICAgICAgdW5zYWZlV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiByZWplY3QoKSk7CiAgICAgICAgICAgICAgICByZXF1aXJlLmFzeW5jKGAke3ByZWZpeH1kb3dubG9hZC9zZXJ2aWNlL2RsaW5rU2VydmljZS5qc2AsIGRsaW5rU2VydmljZSA9PiByZXNvbHZlKGRsaW5rU2VydmljZSkpOwogICAgICAgICAgICB9KS50aGVuKGRsaW5rU2VydmljZSA9PiBkU2VydiA9IGRsaW5rU2VydmljZSkuY2F0Y2goKCkgPT4gZFNlcnYgPSBmYWxzZSk7CiAgICAgICAgICAgIGxldCBmZXRjaERvd25MaW5rcyA9IGFzeW5jIHR5cGUgPT4gewogICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkTGlzdCA9IGN0eC5saXN0LmdldFNlbGVjdGVkKCk7CgogICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkTGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICBjdHgudWkudGlwKHttb2RlOiAnY2F1dGlvbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAnRVgtYmFpZHV5dW5wYW46IOaCqOi/mOayoeaciemAieaLqeS4i+i9veeahOaWh+S7tid9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQge3BhZ2VJbmZvOiB7Y3VycmVudFByb2R1Y3QgPSAncGFuJ30gPSB7Y3VycmVudFByb2R1Y3Q6ICdwYW4nfX0gPSBjdHg7CiAgICAgICAgICAgICAgICBsZXQgZm9sZGVyc0xpc3QgPSBzZWxlY3RlZExpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pc2RpciA9PT0gMSk7CiAgICAgICAgICAgICAgICBsZXQgZmlsZXNMaXN0ID0gc2VsZWN0ZWRMaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0uaXNkaXIgPT09IDApOwoKICAgICAgICAgICAgICAgIGlmIChmaWxlc0xpc3QubGVuZ3RoID4gMCAmJiBjdXJyZW50UHJvZHVjdCAhPT0gJ2VudGVycHJpc2UnICYmIHR5cGUgPT09ICdub2xpbWl0JykgewogICAgICAgICAgICAgICAgICAgIGZvbGRlcnNMaXN0LnVuc2hpZnQoZmlsZXNMaXN0KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgW10ucHVzaC5hcHBseShmb2xkZXJzTGlzdCwgZmlsZXNMaXN0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGN0eC51aS50aXAoe21vZGU6ICdsb2FkaW5nJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ+W8gOWni+ivt+axgumTvuaOpS4uLid9KTsKICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0TWV0aG9kOwoKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UHJvZHVjdCA9PT0gJ3BhbicpIHsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWV0aG9kID0gKGxpc3QsIGNhbGxiYWNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRTZXJ2LmdldERsaW5rUGFuKGRTZXJ2LmdldEZzaWRMaXN0RGF0YShsaXN0KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSB8fCAobGlzdC5pc2RpciA9PT0gMSA/ICdiYXRjaCcgOiAnbm9saW1pdCcpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdQT1NUJyk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFByb2R1Y3QgPT09ICdzaGFyZScpIHsKICAgICAgICAgICAgICAgICAgICBsZXQge3NoYXJlaWQsIHVrLCBzaWduLCB0aW1lc3RhbXB9ID0gcmVxdWlyZSgnZGlzay1zaGFyZTp3aWRnZXQvZGF0YS95dW5EYXRhLmpzJykuZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgIHJlcXVlc3RNZXRob2QgPSAobGlzdCwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZFNlcnYuZ2V0RGxpbmtTaGFyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVfaWQ6IHNoYXJlaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlX3VrOiB1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSB8fCAobGlzdC5pc2RpciA9PT0gMSA/ICdiYXRjaCcgOiAnbm9saW1pdCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGxldCB7c2hhcmVpZCwgdWssIHNpZ24sIHRpbWVzdGFtcH0gPSByZXF1aXJlKCdwYWdlLWNvbW1vbjp3aWRnZXQvZGF0YS95dW5EYXRhLmpzJykuZ2V0KCk7CgogICAgICAgICAgICAgICAgICAgIHJlcXVlc3RNZXRob2QgPSAobGlzdCwgY2FsbGJhY2spID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZFNlcnYuZ2V0RGxpbmtTaGFyZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVfaWQ6IHNoYXJlaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlX3VrOiB1aywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdDogW2xpc3RdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZvckJhdGNoOiB0eXBlID09PSAnYmF0Y2gnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBsZXQgdGltZW91dCA9IGZvbGRlcnNMaXN0Lmxlbmd0aCA9PT0gMSA/IDNlNCA6IDNlMzsKICAgICAgICAgICAgICAgIGxldCBwcm9taXNlcyA9IGZvbGRlcnNMaXN0Lm1hcChlID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlc29sdmUoT2JqZWN0LmFzc2lnbih7fSwgZSkpLCB0aW1lb3V0KTsKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0TWV0aG9kKGUsIHJlc3VsdCA9PiByZXNvbHZlKE9iamVjdC5hc3NpZ24oe30sIGUsIHJlc3VsdCkpKTsKICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7CgogICAgICAgICAgICAgICAgY3R4LnVpLmhpZGVUaXAoKTsKICAgICAgICAgICAgICAgIGxldCBmYWlsZWRSZXMgPSByZXN1bHQuZmlsdGVyKHJlcyA9PiByZXMuZXJybm8gIT09IDApOwoKICAgICAgICAgICAgICAgIGlmIChmYWlsZWRSZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRTZXJ2LmRpYWxvZy5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgey8qIGRvIG5vdGhpbmcgKi99CiAgICAgICAgICAgICAgICAgICAgY3R4LnVpLnRpcCh7bW9kZTogJ2NhdXRpb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogYEVYLWJhaWR1eXVucGFuOiAke2ZhaWxlZFJlcy5sZW5ndGh95Liq5paH5Lu26K+35rGC6ZO+5o6l5aSx6LSlYH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbGV0IGRsaW5rcyA9IFtdOwoKICAgICAgICAgICAgICAgIHJlc3VsdC5maWx0ZXIocmVzID0+IHJlcy5lcnJubyA9PT0gMCkuZm9yRWFjaChyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVzLmRsaW5rID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZVR5cGUgPSByZXMuaXNkaXIgPyAn44CQ5paH5Lu25aS544CRJyA6ICfjgJDmlofku7bjgJEnOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGFja05hbWVFbmNvZGUgPSAgZW5jb2RlVVJJQ29tcG9uZW50KGAke2ZpbGVUeXBlfSR7cmVzLnNlcnZlcl9maWxlbmFtZX0uemlwYCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkbGluayA9IGAke3Jlcy5kbGlua30memlwbmFtZT0ke3BhY2tOYW1lRW5jb2RlfWA7CgogICAgICAgICAgICAgICAgICAgICAgICBkbGlua3MucHVzaChyZXMuZGxpbmsgJiYgZGxpbmspOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaW5rbGlzdCA9IHJlcy5kbGluayB8fCByZXMubGlzdCB8fCBbXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIFtdLnB1c2guYXBwbHkoZGxpbmtzLCBsaW5rbGlzdC5tYXAoZSA9PiBlLmRsaW5rKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoZGxpbmtzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIGN0eC51aS50aXAoe21vZGU6ICdjYXV0aW9uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2c6ICdFWC1iYWlkdXl1bnBhbjog5pyq6I635Y+W5Yiw5LiL6L296ZO+5o6l77yM6K+36YeN6K+VJ30pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGRsaW5rczsKICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIHJldHVybiBmZXRjaERvd25MaW5rczsKICAgICAgICB9KTsKICAgICAgICBkZWZpbmUoJ2V4LXl1bnBhbjpjbGlwYm9hcmREaWFsb2cnLCAoKSA9PiB7CiAgICAgICAgICAgIGxldCBjdHggPSByZXF1aXJlKCdleC15dW5wYW46Y3R4Jyk7CiAgICAgICAgICAgIGxldCBzaG93ID0gbGlzdCA9PiB7CiAgICAgICAgICAgICAgICBsZXQgY2xpcGJvYXJkOwogICAgICAgICAgICAgICAgbGV0IG1heHJvdyA9IGxpc3QubGVuZ3RoID4gMTAgPyAxMSA6IGxpc3QubGVuZ3RoICsgMTsKICAgICAgICAgICAgICAgIGxldCB0ZXh0YXJlYUh0bWwgPSBgPHRleHRhcmVhIGlkPSJFeFRleHRBcmVhIiByb3dzPSIke21heHJvd30iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSJ3aWR0aDogMTAwJTt3aGl0ZS1zcGFjZTogbm93cmFwO3Jlc2l6ZTogbm9uZSI+JHtsaXN0LmpvaW4oJ1xuJyl9PC90ZXh0YXJlYT5gOwogICAgICAgICAgICAgICAgbGV0IGRpYWxvZyA9IGN0eC51aS5jb25maXJtKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+WkjeWItumTvuaOpScsCiAgICAgICAgICAgICAgICAgICAgYm9keTogdGV4dGFyZWFIdG1sLAogICAgICAgICAgICAgICAgICAgIHN1cmVUZXh0OiAn5aSN5Yi2JywKICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlwYm9hcmQgJiYgY2xpcGJvYXJkLmRlc3RvcnkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBkaWFsb2cuYnV0dG9uSW5zWzBdLmRvbS5hdHRyKHsKICAgICAgICAgICAgICAgICAgICAnZGF0YS1jbGlwYm9hcmQtYWN0aW9uJzogJ2NvcHknLAogICAgICAgICAgICAgICAgICAgICdkYXRhLWNsaXBib2FyZC10YXJnZXQnOiAnI0V4VGV4dEFyZWEnCiAgICAgICAgICAgICAgICB9KS5hZGRDbGFzcygnZXgtY2xpcC1idG4nKS5vZmYoKTsKICAgICAgICAgICAgICAgIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5leC1jbGlwLWJ0bicpOwogICAgICAgICAgICAgICAgY2xpcGJvYXJkLm9uKCdzdWNjZXNzJywgZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY3R4LnVpLnRpcCh7bW9kZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogYEVYLWJhaWR1eXVucGFuOiDlpI3liLYke2xpc3QubGVuZ3RofeS4qumTvuaOpWB9KTsKICAgICAgICAgICAgICAgICAgICBlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmhpZGUoKTsKICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgfSkub24oJ2Vycm9yJywgZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY3R4LnVpLnRpcCh7bW9kZTogJ2NhdXRpb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogJ0VYLWJhaWR1eXVucGFuOiDlpI3liLblpLHotKXvvIzor7fmiYvliqjlpI3liLYnfSk7CiAgICAgICAgICAgICAgICAgICAgY2xpcGJvYXJkLmRlc3RvcnkoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHNob3cKICAgICAgICAgICAgfTsKICAgICAgICB9KTsKCiAgICAgICAgcmVxdWlyZSgnZXgteXVucGFuOnBsdWdpbkluaXQnKS5jYXRjaChleCA9PiB7CiAgICAgICAgICAgIHNob3dFcnJvcihleCk7CiAgICAgICAgfSk7CiAgICB9KSh1bnNhZmVXaW5kb3cpOwogICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqLwpdXT48Lz4pLnRvU3RyaW5nKCk7CnZhciBjID0gQmFiZWwudHJhbnNmb3JtKGlubGluZV9zcmMsIHsgcHJlc2V0czogWyJlczIwMTUiLCAiZXMyMDE2Il0gfSk7CmV2YWwoYy5jb2RlKTsKLyoganNoaW50IGlnbm9yZTplbmQgKi8K","requires":[{"meta":{"name":"babel.min.js","url":"https://cdn.bootcss.com/babel-standalone/6.26.0/babel.min.js","ts":1574751670145,"mimetype":"text/javascript"},"source":"IWZ1bmN0aW9uKGUsdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQmFiZWw9dCgpOmUuQmFiZWw9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQobil7aWYocltuXSlyZXR1cm4gcltuXS5leHBvcnRzO3ZhciBpPXJbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiBlW25dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLHQpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgcj17fTtyZXR1cm4gdC5tPWUsdC5jPXIsdC5wPSIiLHQoMCl9KGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXN3aXRjaCh0eXBlb2YgZVt0XSl7Y2FzZSJmdW5jdGlvbiI6YnJlYWs7Y2FzZSJvYmplY3QiOmVbdF09ZnVuY3Rpb24odCl7dmFyIHI9dC5zbGljZSgxKSxuPWVbdFswXV07cmV0dXJuIGZ1bmN0aW9uKGUsdCxpKXtuLmFwcGx5KHRoaXMsW2UsdCxpXS5jb25jYXQocikpfX0oZVt0XSk7YnJlYWs7ZGVmYXVsdDplW3RdPWVbZVt0XV19cmV0dXJuIGV9KFtmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZyh0KSYmInN0cmluZyI9PXR5cGVvZiB0WzBdP2UuaGFzT3duUHJvcGVydHkodFswXSk/W2VbdFswXV1dLmNvbmNhdCh0LnNsaWNlKDEpKTp2b2lkIDA6InN0cmluZyI9PXR5cGVvZiB0P2VbdF06dH1mdW5jdGlvbiBpKGUpe3ZhciB0PShlLnByZXNldHN8fFtdKS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bihFLGUpO2lmKCF0KXRocm93IG5ldyBFcnJvcignSW52YWxpZCBwcmVzZXQgc3BlY2lmaWVkIGluIEJhYmVsIG9wdGlvbnM6ICInK2UrJyInKTtyZXR1cm4gZyh0KSYmIm9iamVjdCI9PT1oKHRbMF0pJiZ0WzBdLmhhc093blByb3BlcnR5KCJidWlsZFByZXNldCIpJiYodFswXT1kKHt9LHRbMF0se2J1aWxkUHJlc2V0OnRbMF0uYnVpbGRQcmVzZXR9KSksdH0pLHI9KGUucGx1Z2luc3x8W10pLm1hcChmdW5jdGlvbihlKXt2YXIgdD1uKGIsZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbiBzcGVjaWZpZWQgaW4gQmFiZWwgb3B0aW9uczogIicrZSsnIicpO3JldHVybiB0fSk7cmV0dXJuIGQoe2JhYmVscmM6ITF9LGUse3ByZXNldHM6dCxwbHVnaW5zOnJ9KX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIHkudHJhbnNmb3JtKGUsaSh0KSl9ZnVuY3Rpb24gYShlLHQscil7cmV0dXJuIHkudHJhbnNmb3JtRnJvbUFzdChlLHQsaShyKSl9ZnVuY3Rpb24gbyhlLHQpe2IuaGFzT3duUHJvcGVydHkoZSkmJmNvbnNvbGUud2FybignQSBwbHVnaW4gbmFtZWQgIicrZSsnIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQsIGl0IHdpbGwgYmUgb3ZlcnJpZGRlbicpLGJbZV09dH1mdW5jdGlvbiB1KGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG8odCxlW3RdKX0pfWZ1bmN0aW9uIGwoZSx0KXtFLmhhc093blByb3BlcnR5KGUpJiZjb25zb2xlLndhcm4oJ0EgcHJlc2V0IG5hbWVkICInK2UrJyIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLCBpdCB3aWxsIGJlIG92ZXJyaWRkZW4nKSxFW2VdPXR9ZnVuY3Rpb24gYyhlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBsKHQsZVt0XSl9KX1mdW5jdGlvbiBmKGUpeygwLHYucnVuU2NyaXB0cykocyxlKX1mdW5jdGlvbiBwKCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGYpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnZlcnNpb249dC5idWlsZEV4dGVybmFsSGVscGVycz10LmF2YWlsYWJsZVByZXNldHM9dC5hdmFpbGFibGVQbHVnaW5zPXZvaWQgMDt2YXIgZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxoPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTt0LnRyYW5zZm9ybT1zLHQudHJhbnNmb3JtRnJvbUFzdD1hLHQucmVnaXN0ZXJQbHVnaW49byx0LnJlZ2lzdGVyUGx1Z2lucz11LHQucmVnaXN0ZXJQcmVzZXQ9bCx0LnJlZ2lzdGVyUHJlc2V0cz1jLHQudHJhbnNmb3JtU2NyaXB0VGFncz1mLHQuZGlzYWJsZVNjcmlwdFRhZ3M9cDt2YXIgbT1yKDI5MCkseT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG0pLHY9cig2MjkpLGc9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sYj10LmF2YWlsYWJsZVBsdWdpbnM9e30sRT10LmF2YWlsYWJsZVByZXNldHM9e307dC5idWlsZEV4dGVybmFsSGVscGVycz15LmJ1aWxkRXh0ZXJuYWxIZWxwZXJzO3UoeyJjaGVjay1lczIwMTUtY29uc3RhbnRzIjpyKDY2KSwiZXh0ZXJuYWwtaGVscGVycyI6cigzMjIpLCJpbmxpbmUtcmVwbGFjZS12YXJpYWJsZXMiOnIoMzIzKSwic3ludGF4LWFzeW5jLWZ1bmN0aW9ucyI6cig2NyksInN5bnRheC1hc3luYy1nZW5lcmF0b3JzIjpyKDE5NSksInN5bnRheC1jbGFzcy1jb25zdHJ1Y3Rvci1jYWxsIjpyKDE5NiksInN5bnRheC1jbGFzcy1wcm9wZXJ0aWVzIjpyKDE5NyksInN5bnRheC1kZWNvcmF0b3JzIjpyKDEyNSksInN5bnRheC1kby1leHByZXNzaW9ucyI6cigxOTgpLCJzeW50YXgtZXhwb25lbnRpYXRpb24tb3BlcmF0b3IiOnIoMTk5KSwic3ludGF4LWV4cG9ydC1leHRlbnNpb25zIjpyKDIwMCksInN5bnRheC1mbG93IjpyKDEyNiksInN5bnRheC1mdW5jdGlvbi1iaW5kIjpyKDIwMSksInN5bnRheC1mdW5jdGlvbi1zZW50IjpyKDMyNSksInN5bnRheC1qc3giOnIoMTI3KSwic3ludGF4LW9iamVjdC1yZXN0LXNwcmVhZCI6cigyMDIpLCJzeW50YXgtdHJhaWxpbmctZnVuY3Rpb24tY29tbWFzIjpyKDEyOCksInRyYW5zZm9ybS1hc3luYy1mdW5jdGlvbnMiOnIoMzI2KSwidHJhbnNmb3JtLWFzeW5jLXRvLWdlbmVyYXRvciI6cigxMjkpLCJ0cmFuc2Zvcm0tYXN5bmMtdG8tbW9kdWxlLW1ldGhvZCI6cigzMjgpLCJ0cmFuc2Zvcm0tY2xhc3MtY29uc3RydWN0b3ItY2FsbCI6cigyMDMpLCJ0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyI6cigyMDQpLCJ0cmFuc2Zvcm0tZGVjb3JhdG9ycyI6cigyMDUpLCJ0cmFuc2Zvcm0tZGVjb3JhdG9ycy1sZWdhY3kiOnIoMzI5KS5kZWZhdWx0LCJ0cmFuc2Zvcm0tZG8tZXhwcmVzc2lvbnMiOnIoMjA2KSwidHJhbnNmb3JtLWVzMjAxNS1hcnJvdy1mdW5jdGlvbnMiOnIoNjgpLCJ0cmFuc2Zvcm0tZXMyMDE1LWJsb2NrLXNjb3BlZC1mdW5jdGlvbnMiOnIoNjkpLCJ0cmFuc2Zvcm0tZXMyMDE1LWJsb2NrLXNjb3BpbmciOnIoNzApLCJ0cmFuc2Zvcm0tZXMyMDE1LWNsYXNzZXMiOnIoNzEpLCJ0cmFuc2Zvcm0tZXMyMDE1LWNvbXB1dGVkLXByb3BlcnRpZXMiOnIoNzIpLCJ0cmFuc2Zvcm0tZXMyMDE1LWRlc3RydWN0dXJpbmciOnIoNzMpLCJ0cmFuc2Zvcm0tZXMyMDE1LWR1cGxpY2F0ZS1rZXlzIjpyKDEzMCksInRyYW5zZm9ybS1lczIwMTUtZm9yLW9mIjpyKDc0KSwidHJhbnNmb3JtLWVzMjAxNS1mdW5jdGlvbi1uYW1lIjpyKDc1KSwidHJhbnNmb3JtLWVzMjAxNS1pbnN0YW5jZW9mIjpyKDMzMiksInRyYW5zZm9ybS1lczIwMTUtbGl0ZXJhbHMiOnIoNzYpLCJ0cmFuc2Zvcm0tZXMyMDE1LW1vZHVsZXMtYW1kIjpyKDEzMSksInRyYW5zZm9ybS1lczIwMTUtbW9kdWxlcy1jb21tb25qcyI6cig3NyksInRyYW5zZm9ybS1lczIwMTUtbW9kdWxlcy1zeXN0ZW1qcyI6cigyMDgpLCJ0cmFuc2Zvcm0tZXMyMDE1LW1vZHVsZXMtdW1kIjpyKDIwOSksInRyYW5zZm9ybS1lczIwMTUtb2JqZWN0LXN1cGVyIjpyKDc4KSwidHJhbnNmb3JtLWVzMjAxNS1wYXJhbWV0ZXJzIjpyKDc5KSwidHJhbnNmb3JtLWVzMjAxNS1zaG9ydGhhbmQtcHJvcGVydGllcyI6cig4MCksInRyYW5zZm9ybS1lczIwMTUtc3ByZWFkIjpyKDgxKSwidHJhbnNmb3JtLWVzMjAxNS1zdGlja3ktcmVnZXgiOnIoODIpLCJ0cmFuc2Zvcm0tZXMyMDE1LXRlbXBsYXRlLWxpdGVyYWxzIjpyKDgzKSwidHJhbnNmb3JtLWVzMjAxNS10eXBlb2Ytc3ltYm9sIjpyKDg0KSwidHJhbnNmb3JtLWVzMjAxNS11bmljb2RlLXJlZ2V4IjpyKDg1KSwidHJhbnNmb3JtLWVzMy1tZW1iZXItZXhwcmVzc2lvbi1saXRlcmFscyI6cigzMzYpLCJ0cmFuc2Zvcm0tZXMzLXByb3BlcnR5LWxpdGVyYWxzIjpyKDMzNyksInRyYW5zZm9ybS1lczUtcHJvcGVydHktbXV0YXRvcnMiOnIoMzM4KSwidHJhbnNmb3JtLWV2YWwiOnIoMzM5KSwidHJhbnNmb3JtLWV4cG9uZW50aWF0aW9uLW9wZXJhdG9yIjpyKDEzMiksInRyYW5zZm9ybS1leHBvcnQtZXh0ZW5zaW9ucyI6cigyMTApLCJ0cmFuc2Zvcm0tZmxvdy1jb21tZW50cyI6cigzNDApLCJ0cmFuc2Zvcm0tZmxvdy1zdHJpcC10eXBlcyI6cigyMTEpLCJ0cmFuc2Zvcm0tZnVuY3Rpb24tYmluZCI6cigyMTIpLCJ0cmFuc2Zvcm0tanNjcmlwdCI6cigzNDEpLCJ0cmFuc2Zvcm0tb2JqZWN0LWFzc2lnbiI6cigzNDIpLCJ0cmFuc2Zvcm0tb2JqZWN0LXJlc3Qtc3ByZWFkIjpyKDIxMyksInRyYW5zZm9ybS1vYmplY3Qtc2V0LXByb3RvdHlwZS1vZi10by1hc3NpZ24iOnIoMzQzKSwidHJhbnNmb3JtLXByb3RvLXRvLWFzc2lnbiI6cigzNDQpLCJ0cmFuc2Zvcm0tcmVhY3QtY29uc3RhbnQtZWxlbWVudHMiOnIoMzQ1KSwidHJhbnNmb3JtLXJlYWN0LWRpc3BsYXktbmFtZSI6cigyMTQpLCJ0cmFuc2Zvcm0tcmVhY3QtaW5saW5lLWVsZW1lbnRzIjpyKDM0NiksInRyYW5zZm9ybS1yZWFjdC1qc3giOnIoMjE1KSwidHJhbnNmb3JtLXJlYWN0LWpzeC1jb21wYXQiOnIoMzQ3KSwidHJhbnNmb3JtLXJlYWN0LWpzeC1zZWxmIjpyKDM0OSksInRyYW5zZm9ybS1yZWFjdC1qc3gtc291cmNlIjpyKDM1MCksInRyYW5zZm9ybS1yZWdlbmVyYXRvciI6cig4NiksInRyYW5zZm9ybS1ydW50aW1lIjpyKDM1MyksInRyYW5zZm9ybS1zdHJpY3QtbW9kZSI6cigyMTYpLCJ1bmRlY2xhcmVkLXZhcmlhYmxlcy1jaGVjayI6cigzNTQpfSksYyh7ZXMyMDE1OnIoMjE3KSxlczIwMTY6cigyMTgpLGVzMjAxNzpyKDIxOSksbGF0ZXN0OnIoMzU2KSxyZWFjdDpyKDM1NyksInN0YWdlLTAiOnIoMzU4KSwic3RhZ2UtMSI6cigyMjApLCJzdGFnZS0yIjpyKDIyMSksInN0YWdlLTMiOnIoMjIyKSwiZXMyMDE1LW5vLWNvbW1vbmpzIjp7cGx1Z2luczpbcig4Mykscig3Nikscig3NSkscig2OCkscig2OSkscig3MSkscig3OCkscig4MCkscig3Mikscig3NCkscig4Mikscig4NSkscig2Nikscig4MSkscig3OSkscig3Mykscig3MCkscig4NCksW3IoODYpLHthc3luYzohMSxhc3luY0dlbmVyYXRvcnM6ITF9XV19LCJlczIwMTUtbG9vc2UiOntwbHVnaW5zOltbcig4Mykse2xvb3NlOiEwfV0scig3Nikscig3NSkscig2OCkscig2OSksW3IoNzEpLHtsb29zZTohMH1dLHIoNzgpLHIoODApLHIoMTMwKSxbcig3Mikse2xvb3NlOiEwfV0sW3IoNzQpLHtsb29zZTohMH1dLHIoODIpLHIoODUpLHIoNjYpLFtyKDgxKSx7bG9vc2U6ITB9XSxyKDc5KSxbcig3Mykse2xvb3NlOiEwfV0scig3MCkscig4NCksW3IoNzcpLHtsb29zZTohMH1dLFtyKDg2KSx7YXN5bmM6ITEsYXN5bmNHZW5lcmF0b3JzOiExfV1dfX0pO3QudmVyc2lvbj0iNi4yNi4wIjsidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93JiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7cmV0dXJuIGYoKX0sITEpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7dmFyIHQ9elsiaXMiK2VdO3R8fCh0PXpbImlzIitlXT1mdW5jdGlvbih0LHIpe3JldHVybiB6LmlzKGUsdCxyKX0pLHpbImFzc2VydCIrZV09ZnVuY3Rpb24ocixuKXtpZihuPW58fHt9LCF0KHIsbikpdGhyb3cgbmV3IEVycm9yKCJFeHBlY3RlZCB0eXBlICIrKDAsSS5kZWZhdWx0KShlKSsiIHdpdGggb3B0aW9uICIrKDAsSS5kZWZhdWx0KShuKSl9fWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiEhdCYmKCEhYSh0LnR5cGUsZSkmJih2b2lkIDA9PT1yfHx6LnNoYWxsb3dFcXVhbCh0LHIpKSl9ZnVuY3Rpb24gYShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKHouQUxJQVNfS0VZU1t0XSlyZXR1cm4hMTt2YXIgcj16LkZMSVBQRURfQUxJQVNfS0VZU1t0XTtpZihyKXtpZihyWzBdPT09ZSlyZXR1cm4hMDtmb3IodmFyIG49cixpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOigwLFQuZGVmYXVsdCkobik7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9aWYoZT09PWEpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIG8oZSx0LHIpe2lmKGUpe3ZhciBuPXouTk9ERV9GSUVMRFNbZS50eXBlXTtpZihuKXt2YXIgaT1uW3RdO2kmJmkudmFsaWRhdGUmJihpLm9wdGlvbmFsJiZudWxsPT1yfHxpLnZhbGlkYXRlKGUsdCxyKSl9fX1mdW5jdGlvbiB1KGUsdCl7Zm9yKHZhciByPSgwLEIuZGVmYXVsdCkodCksbj1yLGk9QXJyYXkuaXNBcnJheShuKSxzPTAsbj1pP246KDAsVC5kZWZhdWx0KShuKTs7KXt2YXIgYTtpZihpKXtpZihzPj1uLmxlbmd0aClicmVhazthPW5bcysrXX1lbHNle2lmKHM9bi5uZXh0KCkscy5kb25lKWJyZWFrO2E9cy52YWx1ZX12YXIgbz1hO2lmKGVbb10hPT10W29dKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGwoZSx0LHIpe3JldHVybiBlLm9iamVjdD16Lm1lbWJlckV4cHJlc3Npb24oZS5vYmplY3QsZS5wcm9wZXJ0eSxlLmNvbXB1dGVkKSxlLnByb3BlcnR5PXQsZS5jb21wdXRlZD0hIXIsZX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGUub2JqZWN0PXoubWVtYmVyRXhwcmVzc2lvbih0LGUub2JqZWN0KSxlfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJib2R5IjtyZXR1cm4gZVt0XT16LnRvQmxvY2soZVt0XSxlKX1mdW5jdGlvbiBwKGUpe2lmKCFlKXJldHVybiBlO3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKSJfIiE9PXJbMF0mJih0W3JdPWVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIGQoZSl7dmFyIHQ9cChlKTtyZXR1cm4gZGVsZXRlIHQubG9jLHR9ZnVuY3Rpb24gaChlKXtpZighZSlyZXR1cm4gZTt2YXIgdD17fTtmb3IodmFyIHIgaW4gZSlpZigiXyIhPT1yWzBdKXt2YXIgbj1lW3JdO24mJihuLnR5cGU/bj16LmNsb25lRGVlcChuKTpBcnJheS5pc0FycmF5KG4pJiYobj1uLm1hcCh6LmNsb25lRGVlcCkpKSx0W3JdPW59cmV0dXJuIHR9ZnVuY3Rpb24gbShlLHQpe3ZhciByPWUuc3BsaXQoIi4iKTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXouaXNNZW1iZXJFeHByZXNzaW9uKGUpKXJldHVybiExO2Zvcih2YXIgbj1bZV0saT0wO24ubGVuZ3RoOyl7dmFyIHM9bi5zaGlmdCgpO2lmKHQmJmk9PT1yLmxlbmd0aClyZXR1cm4hMDtpZih6LmlzSWRlbnRpZmllcihzKSl7aWYocltpXSE9PXMubmFtZSlyZXR1cm4hMX1lbHNle2lmKCF6LmlzU3RyaW5nTGl0ZXJhbChzKSl7aWYoei5pc01lbWJlckV4cHJlc3Npb24ocykpe2lmKHMuY29tcHV0ZWQmJiF6LmlzU3RyaW5nTGl0ZXJhbChzLnByb3BlcnR5KSlyZXR1cm4hMTtuLnB1c2gocy5vYmplY3QpLG4ucHVzaChzLnByb3BlcnR5KTtjb250aW51ZX1yZXR1cm4hMX1pZihyW2ldIT09cy52YWx1ZSlyZXR1cm4hMX1pZigrK2k+ci5sZW5ndGgpcmV0dXJuITF9cmV0dXJuITB9fWZ1bmN0aW9uIHkoZSl7Zm9yKHZhciB0PXouQ09NTUVOVF9LRVlTLHI9QXJyYXkuaXNBcnJheSh0KSxuPTAsdD1yP3Q6KDAsVC5kZWZhdWx0KSh0KTs7KXt2YXIgaTtpZihyKXtpZihuPj10Lmxlbmd0aClicmVhaztpPXRbbisrXX1lbHNle2lmKG49dC5uZXh0KCksbi5kb25lKWJyZWFrO2k9bi52YWx1ZX1kZWxldGUgZVtpXX1yZXR1cm4gZX1mdW5jdGlvbiB2KGUsdCl7cmV0dXJuIGcoZSx0KSxiKGUsdCksRShlLHQpLGV9ZnVuY3Rpb24gZyhlLHQpe3goInRyYWlsaW5nQ29tbWVudHMiLGUsdCl9ZnVuY3Rpb24gYihlLHQpe3goImxlYWRpbmdDb21tZW50cyIsZSx0KX1mdW5jdGlvbiBFKGUsdCl7eCgiaW5uZXJDb21tZW50cyIsZSx0KX1mdW5jdGlvbiB4KGUsdCxyKXt0JiZyJiYodFtlXT0oMCxLLmRlZmF1bHQpKFtdLmNvbmNhdCh0W2VdLHJbZV0pLmZpbHRlcihCb29sZWFuKSkpfWZ1bmN0aW9uIEEoZSx0KXtpZighZXx8IXQpcmV0dXJuIGU7Zm9yKHZhciByPXouSU5IRVJJVF9LRVlTLm9wdGlvbmFsLG49QXJyYXkuaXNBcnJheShyKSxpPTAscj1uP3I6KDAsVC5kZWZhdWx0KShyKTs7KXt2YXIgcztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztzPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX12YXIgYT1zO251bGw9PWVbYV0mJihlW2FdPXRbYV0pfWZvcih2YXIgbyBpbiB0KSJfIj09PW9bMF0mJihlW29dPXRbb10pO2Zvcih2YXIgdT16LklOSEVSSVRfS0VZUy5mb3JjZSxsPUFycmF5LmlzQXJyYXkodSksYz0wLHU9bD91OigwLFQuZGVmYXVsdCkodSk7Oyl7dmFyIGY7aWYobCl7aWYoYz49dS5sZW5ndGgpYnJlYWs7Zj11W2MrK119ZWxzZXtpZihjPXUubmV4dCgpLGMuZG9uZSlicmVhaztmPWMudmFsdWV9dmFyIHA9ZjtlW3BdPXRbcF19cmV0dXJuIHouaW5oZXJpdHNDb21tZW50cyhlLHQpLGV9ZnVuY3Rpb24gUyhlKXtpZighXyhlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJOb3QgYSB2YWxpZCBub2RlICIrKGUmJmUudHlwZSkpfWZ1bmN0aW9uIF8oZSl7cmV0dXJuISghZXx8IUguVklTSVRPUl9LRVlTW2UudHlwZV0pfWZ1bmN0aW9uIEQoZSx0LHIpe2lmKGUpe3ZhciBuPXouVklTSVRPUl9LRVlTW2UudHlwZV07aWYobil7cj1yfHx7fSx0KGUscik7Zm9yKHZhciBpPW4scz1BcnJheS5pc0FycmF5KGkpLGE9MCxpPXM/aTooMCxULmRlZmF1bHQpKGkpOzspe3ZhciBvO2lmKHMpe2lmKGE+PWkubGVuZ3RoKWJyZWFrO289aVthKytdfWVsc2V7aWYoYT1pLm5leHQoKSxhLmRvbmUpYnJlYWs7bz1hLnZhbHVlfXZhciB1PW8sbD1lW3VdO2lmKEFycmF5LmlzQXJyYXkobCkpZm9yKHZhciBjPWwsZj1BcnJheS5pc0FycmF5KGMpLHA9MCxjPWY/YzooMCxULmRlZmF1bHQpKGMpOzspe3ZhciBkO2lmKGYpe2lmKHA+PWMubGVuZ3RoKWJyZWFrO2Q9Y1twKytdfWVsc2V7aWYocD1jLm5leHQoKSxwLmRvbmUpYnJlYWs7ZD1wLnZhbHVlfXZhciBoPWQ7RChoLHQscil9ZWxzZSBEKGwsdCxyKX19fX1mdW5jdGlvbiBDKGUsdCl7dD10fHx7fTtmb3IodmFyIHI9dC5wcmVzZXJ2ZUNvbW1lbnRzP1o6ZWUsbj1yLGk9QXJyYXkuaXNBcnJheShuKSxzPTAsbj1pP246KDAsVC5kZWZhdWx0KShuKTs7KXt2YXIgYTtpZihpKXtpZihzPj1uLmxlbmd0aClicmVhazthPW5bcysrXX1lbHNle2lmKHM9bi5uZXh0KCkscy5kb25lKWJyZWFrO2E9cy52YWx1ZX12YXIgbz1hO251bGwhPWVbb10mJihlW29dPXZvaWQgMCl9Zm9yKHZhciB1IGluIGUpIl8iPT09dVswXSYmbnVsbCE9ZVt1XSYmKGVbdV09dm9pZCAwKTtmb3IodmFyIGw9KDAsay5kZWZhdWx0KShlKSxjPWwsZj1BcnJheS5pc0FycmF5KGMpLHA9MCxjPWY/YzooMCxULmRlZmF1bHQpKGMpOzspe3ZhciBkO2lmKGYpe2lmKHA+PWMubGVuZ3RoKWJyZWFrO2Q9Y1twKytdfWVsc2V7aWYocD1jLm5leHQoKSxwLmRvbmUpYnJlYWs7ZD1wLnZhbHVlfWVbZF09bnVsbH19ZnVuY3Rpb24gdyhlLHQpe3JldHVybiBEKGUsQyx0KSxlfXQuX19lc01vZHVsZT0hMCx0LmNyZWF0ZVR5cGVBbm5vdGF0aW9uQmFzZWRPblR5cGVvZj10LnJlbW92ZVR5cGVEdXBsaWNhdGVzPXQuY3JlYXRlVW5pb25UeXBlQW5ub3RhdGlvbj10LnZhbHVlVG9Ob2RlPXQudG9CbG9jaz10LnRvRXhwcmVzc2lvbj10LnRvU3RhdGVtZW50PXQudG9CaW5kaW5nSWRlbnRpZmllck5hbWU9dC50b0lkZW50aWZpZXI9dC50b0tleUFsaWFzPXQudG9TZXF1ZW5jZUV4cHJlc3Npb249dC50b0NvbXB1dGVkS2V5PXQuaXNOb2Rlc0VxdWl2YWxlbnQ9dC5pc0ltbXV0YWJsZT10LmlzU2NvcGU9dC5pc1NwZWNpZmllckRlZmF1bHQ9dC5pc1Zhcj10LmlzQmxvY2tTY29wZWQ9dC5pc0xldD10LmlzVmFsaWRJZGVudGlmaWVyPXQuaXNSZWZlcmVuY2VkPXQuaXNCaW5kaW5nPXQuZ2V0T3V0ZXJCaW5kaW5nSWRlbnRpZmllcnM9dC5nZXRCaW5kaW5nSWRlbnRpZmllcnM9dC5UWVBFUz10LnJlYWN0PXQuREVQUkVDQVRFRF9LRVlTPXQuQlVJTERFUl9LRVlTPXQuTk9ERV9GSUVMRFM9dC5BTElBU19LRVlTPXQuVklTSVRPUl9LRVlTPXQuTk9UX0xPQ0FMX0JJTkRJTkc9dC5CTE9DS19TQ09QRURfU1lNQk9MPXQuSU5IRVJJVF9LRVlTPXQuVU5BUllfT1BFUkFUT1JTPXQuU1RSSU5HX1VOQVJZX09QRVJBVE9SUz10Lk5VTUJFUl9VTkFSWV9PUEVSQVRPUlM9dC5CT09MRUFOX1VOQVJZX09QRVJBVE9SUz10LkJJTkFSWV9PUEVSQVRPUlM9dC5OVU1CRVJfQklOQVJZX09QRVJBVE9SUz10LkJPT0xFQU5fQklOQVJZX09QRVJBVE9SUz10LkNPTVBBUklTT05fQklOQVJZX09QRVJBVE9SUz10LkVRVUFMSVRZX0JJTkFSWV9PUEVSQVRPUlM9dC5CT09MRUFOX05VTUJFUl9CSU5BUllfT1BFUkFUT1JTPXQuVVBEQVRFX09QRVJBVE9SUz10LkxPR0lDQUxfT1BFUkFUT1JTPXQuQ09NTUVOVF9LRVlTPXQuRk9SX0lOSVRfS0VZUz10LkZMQVRURU5BQkxFX0tFWVM9dC5TVEFURU1FTlRfT1JfQkxPQ0tfS0VZUz12b2lkIDA7dmFyIFA9cigzNjApLGs9bihQKSxGPXIoMiksVD1uKEYpLE89cigxNCksQj1uKE8pLFI9cigzNSksST1uKFIpLE09cigxMzUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJTVEFURU1FTlRfT1JfQkxPQ0tfS0VZUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uU1RBVEVNRU5UX09SX0JMT0NLX0tFWVN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkZMQVRURU5BQkxFX0tFWVMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLkZMQVRURU5BQkxFX0tFWVN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkZPUl9JTklUX0tFWVMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLkZPUl9JTklUX0tFWVN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkNPTU1FTlRfS0VZUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uQ09NTUVOVF9LRVlTfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJMT0dJQ0FMX09QRVJBVE9SUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uTE9HSUNBTF9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIlVQREFURV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLlVQREFURV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkJPT0xFQU5fTlVNQkVSX0JJTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLkJPT0xFQU5fTlVNQkVSX0JJTkFSWV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkVRVUFMSVRZX0JJTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLkVRVUFMSVRZX0JJTkFSWV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIkNPTVBBUklTT05fQklOQVJZX09QRVJBVE9SUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uQ09NUEFSSVNPTl9CSU5BUllfT1BFUkFUT1JTfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJCT09MRUFOX0JJTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLkJPT0xFQU5fQklOQVJZX09QRVJBVE9SU319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiTlVNQkVSX0JJTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLk5VTUJFUl9CSU5BUllfT1BFUkFUT1JTfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJCSU5BUllfT1BFUkFUT1JTIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTS5CSU5BUllfT1BFUkFUT1JTfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJCT09MRUFOX1VOQVJZX09QRVJBVE9SUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uQk9PTEVBTl9VTkFSWV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIk5VTUJFUl9VTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLk5VTUJFUl9VTkFSWV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIlNUUklOR19VTkFSWV9PUEVSQVRPUlMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLlNUUklOR19VTkFSWV9PUEVSQVRPUlN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIlVOQVJZX09QRVJBVE9SUyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uVU5BUllfT1BFUkFUT1JTfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJJTkhFUklUX0tFWVMiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLklOSEVSSVRfS0VZU319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiQkxPQ0tfU0NPUEVEX1NZTUJPTCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIE0uQkxPQ0tfU0NPUEVEX1NZTUJPTH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiTk9UX0xPQ0FMX0JJTkRJTkciLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBNLk5PVF9MT0NBTF9CSU5ESU5HfX0pLHQuaXM9cyx0LmlzVHlwZT1hLHQudmFsaWRhdGU9byx0LnNoYWxsb3dFcXVhbD11LHQuYXBwZW5kVG9NZW1iZXJFeHByZXNzaW9uPWwsdC5wcmVwZW5kVG9NZW1iZXJFeHByZXNzaW9uPWMsdC5lbnN1cmVCbG9jaz1mLHQuY2xvbmU9cCx0LmNsb25lV2l0aG91dExvYz1kLHQuY2xvbmVEZWVwPWgsdC5idWlsZE1hdGNoTWVtYmVyRXhwcmVzc2lvbj1tLHQucmVtb3ZlQ29tbWVudHM9eSx0LmluaGVyaXRzQ29tbWVudHM9dix0LmluaGVyaXRUcmFpbGluZ0NvbW1lbnRzPWcsdC5pbmhlcml0TGVhZGluZ0NvbW1lbnRzPWIsdC5pbmhlcml0SW5uZXJDb21tZW50cz1FLHQuaW5oZXJpdHM9QSx0LmFzc2VydE5vZGU9Uyx0LmlzTm9kZT1fLHQudHJhdmVyc2VGYXN0PUQsdC5yZW1vdmVQcm9wZXJ0aWVzPUMsdC5yZW1vdmVQcm9wZXJ0aWVzRGVlcD13O3ZhciBOPXIoMjI2KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiZ2V0QmluZGluZ0lkZW50aWZpZXJzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTi5nZXRCaW5kaW5nSWRlbnRpZmllcnN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImdldE91dGVyQmluZGluZ0lkZW50aWZpZXJzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTi5nZXRPdXRlckJpbmRpbmdJZGVudGlmaWVyc319KTt2YXIgTD1yKDM5NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzQmluZGluZyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuaXNCaW5kaW5nfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJpc1JlZmVyZW5jZWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLmlzUmVmZXJlbmNlZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiaXNWYWxpZElkZW50aWZpZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLmlzVmFsaWRJZGVudGlmaWVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJpc0xldCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuaXNMZXR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzQmxvY2tTY29wZWQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLmlzQmxvY2tTY29wZWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzVmFyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5pc1Zhcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiaXNTcGVjaWZpZXJEZWZhdWx0Iix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5pc1NwZWNpZmllckRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzU2NvcGUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLmlzU2NvcGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImlzSW1tdXRhYmxlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTC5pc0ltbXV0YWJsZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiaXNOb2Rlc0VxdWl2YWxlbnQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBMLmlzTm9kZXNFcXVpdmFsZW50fX0pO3ZhciBqPXIoMzg1KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwidG9Db21wdXRlZEtleSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGoudG9Db21wdXRlZEtleX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwidG9TZXF1ZW5jZUV4cHJlc3Npb24iLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBqLnRvU2VxdWVuY2VFeHByZXNzaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b0tleUFsaWFzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gai50b0tleUFsaWFzfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b0lkZW50aWZpZXIiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBqLnRvSWRlbnRpZmllcn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwidG9CaW5kaW5nSWRlbnRpZmllck5hbWUiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBqLnRvQmluZGluZ0lkZW50aWZpZXJOYW1lfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b1N0YXRlbWVudCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGoudG9TdGF0ZW1lbnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInRvRXhwcmVzc2lvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGoudG9FeHByZXNzaW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ0b0Jsb2NrIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gai50b0Jsb2NrfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ2YWx1ZVRvTm9kZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGoudmFsdWVUb05vZGV9fSk7dmFyIFU9cigzOTMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJjcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVS5jcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9ufX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJyZW1vdmVUeXBlRHVwbGljYXRlcyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFUucmVtb3ZlVHlwZUR1cGxpY2F0ZXN9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImNyZWF0ZVR5cGVBbm5vdGF0aW9uQmFzZWRPblR5cGVvZiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFUuY3JlYXRlVHlwZUFubm90YXRpb25CYXNlZE9uVHlwZW9mfX0pO3ZhciBWPXIoNjI0KSxHPW4oViksVz1yKDEwOSksWT1uKFcpLHE9cig2MDApLEs9bihxKTtyKDM5MCk7dmFyIEg9cigyNiksSj1yKDM5NCksWD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KEopLHo9dDt0LlZJU0lUT1JfS0VZUz1ILlZJU0lUT1JfS0VZUyx0LkFMSUFTX0tFWVM9SC5BTElBU19LRVlTLHQuTk9ERV9GSUVMRFM9SC5OT0RFX0ZJRUxEUyx0LkJVSUxERVJfS0VZUz1ILkJVSUxERVJfS0VZUyx0LkRFUFJFQ0FURURfS0VZUz1ILkRFUFJFQ0FURURfS0VZUyx0LnJlYWN0PVg7Zm9yKHZhciAkIGluIHouVklTSVRPUl9LRVlTKWkoJCk7ei5GTElQUEVEX0FMSUFTX0tFWVM9e30sKDAsQi5kZWZhdWx0KSh6LkFMSUFTX0tFWVMpLmZvckVhY2goZnVuY3Rpb24oZSl7ei5BTElBU19LRVlTW2VdLmZvckVhY2goZnVuY3Rpb24odCl7KHouRkxJUFBFRF9BTElBU19LRVlTW3RdPXouRkxJUFBFRF9BTElBU19LRVlTW3RdfHxbXSkucHVzaChlKX0pfSksKDAsQi5kZWZhdWx0KSh6LkZMSVBQRURfQUxJQVNfS0VZUykuZm9yRWFjaChmdW5jdGlvbihlKXt6W2UudG9VcHBlckNhc2UoKSsiX1RZUEVTIl09ei5GTElQUEVEX0FMSUFTX0tFWVNbZV0saShlKX0pO3QuVFlQRVM9KDAsQi5kZWZhdWx0KSh6LlZJU0lUT1JfS0VZUykuY29uY2F0KCgwLEIuZGVmYXVsdCkoei5GTElQUEVEX0FMSUFTX0tFWVMpKS5jb25jYXQoKDAsQi5kZWZhdWx0KSh6LkRFUFJFQ0FURURfS0VZUykpOygwLEIuZGVmYXVsdCkoei5CVUlMREVSX0tFWVMpLmZvckVhY2goZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe2lmKGFyZ3VtZW50cy5sZW5ndGg+ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJ0LiIrZSsiOiBUb28gbWFueSBhcmd1bWVudHMgcGFzc2VkLiBSZWNlaXZlZCAiK2FyZ3VtZW50cy5sZW5ndGgrIiBidXQgY2FuIHJlY2VpdmUgbm8gbW9yZSB0aGFuICIrci5sZW5ndGgpO3ZhciB0PXt9O3QudHlwZT1lO2Zvcih2YXIgbj0wLGk9cixzPUFycmF5LmlzQXJyYXkoaSksYT0wLGk9cz9pOigwLFQuZGVmYXVsdCkoaSk7Oyl7dmFyIHU7aWYocyl7aWYoYT49aS5sZW5ndGgpYnJlYWs7dT1pW2ErK119ZWxzZXtpZihhPWkubmV4dCgpLGEuZG9uZSlicmVhazt1PWEudmFsdWV9dmFyIGw9dSxjPXouTk9ERV9GSUVMRFNbZV1bbF0sZj1hcmd1bWVudHNbbisrXTt2b2lkIDA9PT1mJiYoZj0oMCxZLmRlZmF1bHQpKGMuZGVmYXVsdCkpLHRbbF09Zn1mb3IodmFyIHAgaW4gdClvKHQscCx0W3BdKTtyZXR1cm4gdH12YXIgcj16LkJVSUxERVJfS0VZU1tlXTt6W2VdPXQseltlWzBdLnRvTG93ZXJDYXNlKCkrZS5zbGljZSgxKV09dH0pO2Zvcih2YXIgUSBpbiB6LkRFUFJFQ0FURURfS0VZUykhZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gY29uc29sZS50cmFjZSgiVGhlIG5vZGUgdHlwZSAiK2UrIiBoYXMgYmVlbiByZW5hbWVkIHRvICIrciksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciByPXouREVQUkVDQVRFRF9LRVlTW2VdO3pbZV09eltlWzBdLnRvTG93ZXJDYXNlKCkrZS5zbGljZSgxKV09dCh6W3JdKSx6WyJpcyIrZV09dCh6WyJpcyIrcl0pLHpbImFzc2VydCIrZV09dCh6WyJhc3NlcnQiK3JdKX0oUSk7KDAsRy5kZWZhdWx0KSh6KSwoMCxHLmRlZmF1bHQpKHouVklTSVRPUl9LRVlTKTt2YXIgWj1bInRva2VucyIsInN0YXJ0IiwiZW5kIiwibG9jIiwicmF3IiwicmF3VmFsdWUiXSxlZT16LkNPTU1FTlRfS0VZUy5jb25jYXQoWyJjb21tZW50cyJdKS5jb25jYXQoWil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDA0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzKGUsdCl7ZT0oMCxsLmRlZmF1bHQpKGUpO3ZhciByPWUsbj1yLnByb2dyYW07cmV0dXJuIHQubGVuZ3RoJiYoMCxtLmRlZmF1bHQpKGUsQSxudWxsLHQpLG4uYm9keS5sZW5ndGg+MT9uLmJvZHk6bi5ib2R5WzBdfXQuX19lc01vZHVsZT0hMDt2YXIgYT1yKDEwKSxvPWkoYSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dm9pZCAwO3RyeXt0aHJvdyBuZXcgRXJyb3J9Y2F0Y2goZSl7ZS5zdGFjayYmKHI9ZS5zdGFjay5zcGxpdCgiXG4iKS5zbGljZSgxKS5qb2luKCJcbiIpKX10PSgwLGYuZGVmYXVsdCkoe2FsbG93UmV0dXJuT3V0c2lkZUZ1bmN0aW9uOiEwLGFsbG93U3VwZXJPdXRzaWRlTWV0aG9kOiEwLHByZXNlcnZlQ29tbWVudHM6ITF9LHQpO3ZhciBuPWZ1bmN0aW9uKCl7dmFyIGk9dm9pZCAwO3RyeXtpPXYucGFyc2UoZSx0KSxpPW0uZGVmYXVsdC5yZW1vdmVQcm9wZXJ0aWVzKGkse3ByZXNlcnZlQ29tbWVudHM6dC5wcmVzZXJ2ZUNvbW1lbnRzfSksbS5kZWZhdWx0LmNoZWFwKGksZnVuY3Rpb24oZSl7ZVtFXT0hMH0pfWNhdGNoKGUpe3Rocm93IGUuc3RhY2s9ZS5zdGFjaysiZnJvbVxuIityLGV9cmV0dXJuIG49ZnVuY3Rpb24oKXtyZXR1cm4gaX0saX07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKSxyPTA7cjxlO3IrKyl0W3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gcyhuKCksdCl9fTt2YXIgdT1yKDU3NCksbD1pKHUpLGM9cigxNzQpLGY9aShjKSxwPXIoMjc0KSxkPWkocCksaD1yKDcpLG09aShoKSx5PXIoODkpLHY9bih5KSxnPXIoMSksYj1uKGcpLEU9Il9mcm9tVGVtcGxhdGUiLHg9KDAsby5kZWZhdWx0KSgpLEE9e25vU2NvcGU6ITAsZW50ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGU7aWYoclt4XSlyZXR1cm4gZS5za2lwKCk7Yi5pc0V4cHJlc3Npb25TdGF0ZW1lbnQocikmJihyPXIuZXhwcmVzc2lvbik7dmFyIG49dm9pZCAwO2lmKGIuaXNJZGVudGlmaWVyKHIpJiZyW0VdKWlmKCgwLGQuZGVmYXVsdCkodFswXSxyLm5hbWUpKW49dFswXVtyLm5hbWVdO2Vsc2UgaWYoIiQiPT09ci5uYW1lWzBdKXt2YXIgaT0rci5uYW1lLnNsaWNlKDEpO3RbaV0mJihuPXRbaV0pfW51bGw9PT1uJiZlLnJlbW92ZSgpLG4mJihuW3hdPSEwLGUucmVwbGFjZUlubGluZShuKSl9LGV4aXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO3QubG9jfHxtLmRlZmF1bHQuY2xlYXJOb2RlKHQpfX07ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ZS5leHBvcnRzPXt2ZXJzaW9uOiIyLjUuMCJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPXIpfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1BcnJheS5pc0FycmF5O2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSx0LHIsbixpKXtpZihlKXtpZih0fHwodD17fSksIXQubm9TY29wZSYmIXImJiJQcm9ncmFtIiE9PWUudHlwZSYmIkZpbGUiIT09ZS50eXBlKXRocm93IG5ldyBFcnJvcih2LmdldCgidHJhdmVyc2VOZWVkc1BhcmVudCIsZS50eXBlKSk7bS5leHBsb2RlKHQpLHMubm9kZShlLHQscixuLGkpfX1mdW5jdGlvbiBhKGUsdCl7ZS5ub2RlLnR5cGU9PT10LnR5cGUmJih0Lmhhcz0hMCxlLnN0b3AoKSl9dC5fX2VzTW9kdWxlPSEwLHQudmlzaXRvcnM9dC5IdWI9dC5TY29wZT10Lk5vZGVQYXRoPXZvaWQgMDt2YXIgbz1yKDIpLHU9aShvKSxsPXIoMzYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJOb2RlUGF0aCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkobCkuZGVmYXVsdH19KTt2YXIgYz1yKDEzNCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIlNjb3BlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShjKS5kZWZhdWx0fX0pO3ZhciBmPXIoMjIzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiSHViIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShmKS5kZWZhdWx0fX0pLHQuZGVmYXVsdD1zO3ZhciBwPXIoMzY3KSxkPWkocCksaD1yKDM4NCksbT1uKGgpLHk9cigyMCksdj1uKHkpLGc9cigxMTEpLGI9aShnKSxFPXIoMSkseD1uKEUpLEE9cig4OCksUz1uKEEpO3QudmlzaXRvcnM9bSxzLnZpc2l0b3JzPW0scy52ZXJpZnk9bS52ZXJpZnkscy5leHBsb2RlPW0uZXhwbG9kZSxzLk5vZGVQYXRoPXIoMzYpLHMuU2NvcGU9cigxMzQpLHMuSHViPXIoMjIzKSxzLmNoZWFwPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgudHJhdmVyc2VGYXN0KGUsdCl9LHMubm9kZT1mdW5jdGlvbihlLHQscixuLGkscyl7dmFyIGE9eC5WSVNJVE9SX0tFWVNbZS50eXBlXTtpZihhKWZvcih2YXIgbz1uZXcgZC5kZWZhdWx0KHIsdCxuLGkpLGw9YSxjPUFycmF5LmlzQXJyYXkobCksZj0wLGw9Yz9sOigwLHUuZGVmYXVsdCkobCk7Oyl7dmFyIHA7aWYoYyl7aWYoZj49bC5sZW5ndGgpYnJlYWs7cD1sW2YrK119ZWxzZXtpZihmPWwubmV4dCgpLGYuZG9uZSlicmVhaztwPWYudmFsdWV9dmFyIGg9cDtpZigoIXN8fCFzW2hdKSYmby52aXNpdChlLGgpKXJldHVybn19LHMuY2xlYXJOb2RlPWZ1bmN0aW9uKGUsdCl7eC5yZW1vdmVQcm9wZXJ0aWVzKGUsdCksUy5wYXRoLmRlbGV0ZShlKX0scy5yZW1vdmVQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHgudHJhdmVyc2VGYXN0KGUscy5jbGVhck5vZGUsdCksZX0scy5oYXNUeXBlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCgwLGIuZGVmYXVsdCkobixlLnR5cGUpKXJldHVybiExO2lmKGUudHlwZT09PXIpcmV0dXJuITA7dmFyIGk9e2hhczohMSx0eXBlOnJ9O3JldHVybiBzKGUse2JsYWNrbGlzdDpuLGVudGVyOmF9LHQsaSksaS5oYXN9LHMuY2xlYXJDYWNoZT1mdW5jdGlvbigpe1MuY2xlYXIoKX0scy5jbGVhckNhY2hlLmNsZWFyUGF0aD1TLmNsZWFyUGF0aCxzLmNsZWFyQ2FjaGUuY2xlYXJTY29wZT1TLmNsZWFyU2NvcGUscy5jb3B5Q2FjaGU9ZnVuY3Rpb24oZSx0KXtTLnBhdGguaGFzKGUpJiZTLnBhdGguc2V0KHQsUy5wYXRoLmdldChlKSl9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKCl7dGhyb3cgbmV3IEVycm9yKCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gbigpe3Rocm93IG5ldyBFcnJvcigiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkIil9ZnVuY3Rpb24gaShlKXtpZihjPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChjPT09cnx8IWMpJiZzZXRUaW1lb3V0KXJldHVybiBjPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gYyhlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gYy5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gYy5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIHMoZSl7aWYoZj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChmPT09bnx8IWYpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGY9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGYoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBmLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gZi5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBhKCl7bSYmZCYmKG09ITEsZC5sZW5ndGg/aD1kLmNvbmNhdChoKTp5PS0xLGgubGVuZ3RoJiZvKCkpfWZ1bmN0aW9uIG8oKXtpZighbSl7dmFyIGU9aShhKTttPSEwO2Zvcih2YXIgdD1oLmxlbmd0aDt0Oyl7Zm9yKGQ9aCxoPVtdOysreTx0OylkJiZkW3ldLnJ1bigpO3k9LTEsdD1oLmxlbmd0aH1kPW51bGwsbT0hMSxzKGUpfX1mdW5jdGlvbiB1KGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gbCgpe312YXIgYyxmLHA9ZS5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtjPSJmdW5jdGlvbiI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6cn1jYXRjaChlKXtjPXJ9dHJ5e2Y9ImZ1bmN0aW9uIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6bn1jYXRjaChlKXtmPW59fSgpO3ZhciBkLGg9W10sbT0hMSx5PS0xO3AubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtoLnB1c2gobmV3IHUoZSx0KSksMSE9PWgubGVuZ3RofHxtfHxpKG8pfSx1LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxwLnRpdGxlPSJicm93c2VyIixwLmJyb3dzZXI9ITAscC5lbnY9e30scC5hcmd2PVtdLHAudmVyc2lvbj0iIixwLnZlcnNpb25zPXt9LHAub249bCxwLmFkZExpc3RlbmVyPWwscC5vbmNlPWwscC5vZmY9bCxwLnJlbW92ZUxpc3RlbmVyPWwscC5yZW1vdmVBbGxMaXN0ZW5lcnM9bCxwLmVtaXQ9bCxwLnByZXBlbmRMaXN0ZW5lcj1sLHAucHJlcGVuZE9uY2VMaXN0ZW5lcj1sLHAubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxwLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCIpfSxwLmN3ZD1mdW5jdGlvbigpe3JldHVybiIvIn0scC5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCIpfSxwLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQwOSksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDE0KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07dC5fX2VzTW9kdWxlPSEwO3ZhciBzPXIoMzYzKSxhPW4ocyksbz1yKDEwKSx1PW4obyksbD0iZnVuY3Rpb24iPT10eXBlb2YgdS5kZWZhdWx0JiYic3ltYm9sIj09PWkoYS5kZWZhdWx0KT9mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT8idW5kZWZpbmVkIjppKGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIHUuZGVmYXVsdCYmZS5jb25zdHJ1Y3Rvcj09PXUuZGVmYXVsdCYmZSE9PXUuZGVmYXVsdC5wcm90b3R5cGU/InN5bWJvbCI6dm9pZCAwPT09ZT8idW5kZWZpbmVkIjppKGUpfTt0LmRlZmF1bHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHUuZGVmYXVsdCYmInN5bWJvbCI9PT1sKGEuZGVmYXVsdCk/ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/InVuZGVmaW5lZCI6bChlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB1LmRlZmF1bHQmJmUuY29uc3RydWN0b3I9PT11LmRlZmF1bHQmJmUhPT11LmRlZmF1bHQucHJvdG90eXBlPyJzeW1ib2wiOnZvaWQgMD09PWU/InVuZGVmaW5lZCI6bChlKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNSksaT1yKDUpLHM9cig0MyksYT1yKDI5KSxvPWZ1bmN0aW9uIGUodCxyLG8pe3ZhciB1LGwsYyxmPXQmZS5GLHA9dCZlLkcsZD10JmUuUyxoPXQmZS5QLG09dCZlLkIseT10JmUuVyx2PXA/aTppW3JdfHwoaVtyXT17fSksZz12LnByb3RvdHlwZSxiPXA/bjpkP25bcl06KG5bcl18fHt9KS5wcm90b3R5cGU7cCYmKG89cik7Zm9yKHUgaW4gbykobD0hZiYmYiYmdm9pZCAwIT09Ylt1XSkmJnUgaW4gdnx8KGM9bD9iW3VdOm9bdV0sdlt1XT1wJiYiZnVuY3Rpb24iIT10eXBlb2YgYlt1XT9vW3VdOm0mJmw/cyhjLG4pOnkmJmJbdV09PWM/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHQucHJvdG90eXBlPWUucHJvdG90eXBlLHR9KGMpOmgmJiJmdW5jdGlvbiI9PXR5cGVvZiBjP3MoRnVuY3Rpb24uY2FsbCxjKTpjLGgmJigodi52aXJ0dWFsfHwodi52aXJ0dWFsPXt9KSlbdV09Yyx0JmUuUiYmZyYmIWdbdV0mJmEoZyx1LGMpKSl9O28uRj0xLG8uRz0yLG8uUz00LG8uUD04LG8uQj0xNixvLlc9MzIsby5VPTY0LG8uUj0xMjgsZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNTEpKCJ3a3MiKSxpPXIoOTUpLHM9cigxNSkuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIHM7KGUuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09YSYmc1tlXXx8KGE/czppKSgiU3ltYm9sLiIrZSkpfSkuc3RvcmU9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0MTEpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1lLmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9cil9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjpyKGUpKT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGk9cigyNjEpLHM9Im9iamVjdCI9PSgidW5kZWZpbmVkIj09dHlwZW9mIHNlbGY/InVuZGVmaW5lZCI6bihzZWxmKSkmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGE9aXx8c3x8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTtlLmV4cG9ydHM9YX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt2YXIgdD12b2lkIDA9PT1lPyJ1bmRlZmluZWQiOm4oZSk7cmV0dXJuIG51bGwhPWUmJigib2JqZWN0Ij09dHx8ImZ1bmN0aW9uIj09dCl9dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciByPTAsbj1lLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgaT1lW25dOyIuIj09PWk/ZS5zcGxpY2UobiwxKToiLi4iPT09aT8oZS5zcGxpY2UobiwxKSxyKyspOnImJihlLnNwbGljZShuLDEpLHItLSl9aWYodClmb3IoO3ItLTtyKWUudW5zaGlmdCgiLi4iKTtyZXR1cm4gZX1mdW5jdGlvbiBuKGUsdCl7aWYoZS5maWx0ZXIpcmV0dXJuIGUuZmlsdGVyKHQpO2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspdChlW25dLG4sZSkmJnIucHVzaChlW25dKTtyZXR1cm4gcn12YXIgaT0vXihcLz98KShbXHNcU10qPykoKD86XC57MSwyfXxbXlwvXSs/fCkoXC5bXi5cL10qfCkpKD86W1wvXSopJC8scz1mdW5jdGlvbihlKXtyZXR1cm4gaS5leGVjKGUpLnNsaWNlKDEpfTt0LnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9IiIsaT0hMSxzPWFyZ3VtZW50cy5sZW5ndGgtMTtzPj0tMSYmIWk7cy0tKXt2YXIgYT1zPj0wP2FyZ3VtZW50c1tzXTplLmN3ZCgpO2lmKCJzdHJpbmciIT10eXBlb2YgYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5yZXNvbHZlIG11c3QgYmUgc3RyaW5ncyIpO2EmJih0PWErIi8iK3QsaT0iLyI9PT1hLmNoYXJBdCgwKSl9cmV0dXJuIHQ9cihuKHQuc3BsaXQoIi8iKSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSwhaSkuam9pbigiLyIpLChpPyIvIjoiIikrdHx8Ii4ifSx0Lm5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgaT10LmlzQWJzb2x1dGUoZSkscz0iLyI9PT1hKGUsLTEpO3JldHVybiBlPXIobihlLnNwbGl0KCIvIiksZnVuY3Rpb24oZSl7cmV0dXJuISFlfSksIWkpLmpvaW4oIi8iKSxlfHxpfHwoZT0iLiIpLGUmJnMmJihlKz0iLyIpLChpPyIvIjoiIikrZX0sdC5pc0Fic29sdXRlPWZ1bmN0aW9uKGUpe3JldHVybiIvIj09PWUuY2hhckF0KDApfSx0LmpvaW49ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHQubm9ybWFsaXplKG4oZSxmdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudHMgdG8gcGF0aC5qb2luIG11c3QgYmUgc3RyaW5ncyIpO3JldHVybiBlfSkuam9pbigiLyIpKX0sdC5yZWxhdGl2ZT1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmIiI9PT1lW3RdO3QrKyk7Zm9yKHZhciByPWUubGVuZ3RoLTE7cj49MCYmIiI9PT1lW3JdO3ItLSk7cmV0dXJuIHQ+cj9bXTplLnNsaWNlKHQsci10KzEpfWU9dC5yZXNvbHZlKGUpLnN1YnN0cigxKSxyPXQucmVzb2x2ZShyKS5zdWJzdHIoMSk7Zm9yKHZhciBpPW4oZS5zcGxpdCgiLyIpKSxzPW4oci5zcGxpdCgiLyIpKSxhPU1hdGgubWluKGkubGVuZ3RoLHMubGVuZ3RoKSxvPWEsdT0wO3U8YTt1KyspaWYoaVt1XSE9PXNbdV0pe289dTticmVha31mb3IodmFyIGw9W10sdT1vO3U8aS5sZW5ndGg7dSsrKWwucHVzaCgiLi4iKTtyZXR1cm4gbD1sLmNvbmNhdChzLnNsaWNlKG8pKSxsLmpvaW4oIi8iKX0sdC5zZXA9Ii8iLHQuZGVsaW1pdGVyPSI6Iix0LmRpcm5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9cyhlKSxyPXRbMF0sbj10WzFdO3JldHVybiByfHxuPyhuJiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLTEpKSxyK24pOiIuIn0sdC5iYXNlbmFtZT1mdW5jdGlvbihlLHQpe3ZhciByPXMoZSlbMl07cmV0dXJuIHQmJnIuc3Vic3RyKC0xKnQubGVuZ3RoKT09PXQmJihyPXIuc3Vic3RyKDAsci5sZW5ndGgtdC5sZW5ndGgpKSxyfSx0LmV4dG5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoZSlbM119O3ZhciBhPSJiIj09PSJhYiIuc3Vic3RyKC0xKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc3Vic3RyKHQscil9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdDwwJiYodD1lLmxlbmd0aCt0KSxlLnN1YnN0cih0LHIpfX0pLmNhbGwodCxyKDgpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3ZhciBzPWxbZV07aWYoIXMpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJVbmtub3duIG1lc3NhZ2UgIisoMCxhLmRlZmF1bHQpKGUpKTtyZXR1cm4gcj1pKHIpLHMucmVwbGFjZSgvXCQoXGQrKS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHJbdC0xXX0pfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe2lmKG51bGwhPWUmJmUuaW5zcGVjdClyZXR1cm4gZS5pbnNwZWN0KCk7dHJ5e3JldHVybigwLGEuZGVmYXVsdCkoZSl8fGUrIiJ9Y2F0Y2godCl7cmV0dXJuIHUuaW5zcGVjdChlKX19KX10Ll9fZXNNb2R1bGU9ITAsdC5NRVNTQUdFUz12b2lkIDA7dmFyIHM9cigzNSksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHMpO3QuZ2V0PW4sdC5wYXJzZUFyZ3M9aTt2YXIgbz1yKDExNyksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG8pLGw9dC5NRVNTQUdFUz17dGFpbENhbGxSZWFzc2lnbm1lbnREZW9wdDoiRnVuY3Rpb24gcmVmZXJlbmNlIGhhcyBiZWVuIHJlYXNzaWduZWQsIHNvIGl0IHdpbGwgcHJvYmFibHkgYmUgZGVyZWZlcmVuY2VkLCB0aGVyZWZvcmUgd2UgY2FuJ3Qgb3B0aW1pc2UgdGhpcyB3aXRoIGNvbmZpZGVuY2UiLGNsYXNzZXNJbGxlZ2FsQmFyZVN1cGVyOiJJbGxlZ2FsIHVzZSBvZiBiYXJlIHN1cGVyIixjbGFzc2VzSWxsZWdhbFN1cGVyQ2FsbDoiRGlyZWN0IHN1cGVyIGNhbGwgaXMgaWxsZWdhbCBpbiBub24tY29uc3RydWN0b3IsIHVzZSBzdXBlci4kMSgpIGluc3RlYWQiLHNjb3BlRHVwbGljYXRlRGVjbGFyYXRpb246IkR1cGxpY2F0ZSBkZWNsYXJhdGlvbiAkMSIsc2V0dGVyc05vUmVzdDoiU2V0dGVycyBhcmVuJ3QgYWxsb3dlZCB0byBoYXZlIGEgcmVzdCIsbm9Bc3NpZ25tZW50c0luRm9ySGVhZDoiTm8gYXNzaWdubWVudHMgYWxsb3dlZCBpbiBmb3ItaW4vb2YgaGVhZCIsZXhwZWN0ZWRNZW1iZXJFeHByZXNzaW9uT3JJZGVudGlmaWVyOiJFeHBlY3RlZCB0eXBlIE1lbWJlckV4cHJlc3Npb24gb3IgSWRlbnRpZmllciIsaW52YWxpZFBhcmVudEZvclRoaXNOb2RlOiJXZSBkb24ndCBrbm93IGhvdyB0byBoYW5kbGUgdGhpcyBub2RlIHdpdGhpbiB0aGUgY3VycmVudCBwYXJlbnQgLSBwbGVhc2Ugb3BlbiBhbiBpc3N1ZSIscmVhZE9ubHk6IiQxIGlzIHJlYWQtb25seSIsdW5rbm93bkZvckhlYWQ6IlVua25vd24gbm9kZSB0eXBlICQxIGluIEZvclN0YXRlbWVudCIsZGlkWW91TWVhbjoiRGlkIHlvdSBtZWFuICQxPyIsY29kZUdlbmVyYXRvckRlb3B0OiJOb3RlOiBUaGUgY29kZSBnZW5lcmF0b3IgaGFzIGRlb3B0aW1pc2VkIHRoZSBzdHlsaW5nIG9mICQxIGFzIGl0IGV4Y2VlZHMgdGhlIG1heCBvZiAkMi4iLG1pc3NpbmdUZW1wbGF0ZXNEaXJlY3Rvcnk6Im5vIHRlbXBsYXRlcyBkaXJlY3RvcnkgLSB0aGlzIGlzIG1vc3QgbGlrZWx5IHRoZSByZXN1bHQgb2YgYSBicm9rZW4gYG5wbSBwdWJsaXNoYC4gUGxlYXNlIHJlcG9ydCB0byBodHRwczovL2dpdGh1Yi5jb20vYmFiZWwvYmFiZWwvaXNzdWVzIix1bnN1cHBvcnRlZE91dHB1dFR5cGU6IlVuc3VwcG9ydGVkIG91dHB1dCB0eXBlICQxIixpbGxlZ2FsTWV0aG9kTmFtZToiSWxsZWdhbCBtZXRob2QgbmFtZSAkMSIsbG9zdFRyYWNrTm9kZVBhdGg6IldlIGxvc3QgdHJhY2sgb2YgdGhpcyBub2RlJ3MgcG9zaXRpb24sIGxpa2VseSBiZWNhdXNlIHRoZSBBU1Qgd2FzIGRpcmVjdGx5IG1hbmlwdWxhdGVkIixtb2R1bGVzSWxsZWdhbEV4cG9ydE5hbWU6IklsbGVnYWwgZXhwb3J0ICQxIixtb2R1bGVzRHVwbGljYXRlRGVjbGFyYXRpb25zOiJEdXBsaWNhdGUgbW9kdWxlIGRlY2xhcmF0aW9ucyB3aXRoIHRoZSBzYW1lIHNvdXJjZSBidXQgaW4gZGlmZmVyZW50IHNjb3BlcyIsdW5kZWNsYXJlZFZhcmlhYmxlOiJSZWZlcmVuY2UgdG8gdW5kZWNsYXJlZCB2YXJpYWJsZSAkMSIsdW5kZWNsYXJlZFZhcmlhYmxlVHlwZToiUmVmZXJlbmNpbmcgYSB0eXBlIGFsaWFzIG91dHNpZGUgb2YgYSB0eXBlIGFubm90YXRpb24iLHVuZGVjbGFyZWRWYXJpYWJsZVN1Z2dlc3Rpb246IlJlZmVyZW5jZSB0byB1bmRlY2xhcmVkIHZhcmlhYmxlICQxIC0gZGlkIHlvdSBtZWFuICQyPyIsdHJhdmVyc2VOZWVkc1BhcmVudDoiWW91IG11c3QgcGFzcyBhIHNjb3BlIGFuZCBwYXJlbnRQYXRoIHVubGVzcyB0cmF2ZXJzaW5nIGEgUHJvZ3JhbS9GaWxlLiBJbnN0ZWFkIG9mIHRoYXQgeW91IHRyaWVkIHRvIHRyYXZlcnNlIGEgJDEgbm9kZSB3aXRob3V0IHBhc3Npbmcgc2NvcGUgYW5kIHBhcmVudFBhdGguIix0cmF2ZXJzZVZlcmlmeVJvb3RGdW5jdGlvbjoiWW91IHBhc3NlZCBgdHJhdmVyc2UoKWAgYSBmdW5jdGlvbiB3aGVuIGl0IGV4cGVjdGVkIGEgdmlzaXRvciBvYmplY3QsIGFyZSB5b3Ugc3VyZSB5b3UgZGlkbid0IG1lYW4gYHsgZW50ZXI6IEZ1bmN0aW9uIH1gPyIsdHJhdmVyc2VWZXJpZnlWaXNpdG9yUHJvcGVydHk6IllvdSBwYXNzZWQgYHRyYXZlcnNlKClgIGEgdmlzaXRvciBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydHkgJDEgdGhhdCBoYXMgdGhlIGludmFsaWQgcHJvcGVydHkgJDIiLHRyYXZlcnNlVmVyaWZ5Tm9kZVR5cGU6IllvdSBnYXZlIHVzIGEgdmlzaXRvciBmb3IgdGhlIG5vZGUgdHlwZSAkMSBidXQgaXQncyBub3QgYSB2YWxpZCB0eXBlIixwbHVnaW5Ob3RPYmplY3Q6IlBsdWdpbiAkMiBzcGVjaWZpZWQgaW4gJDEgd2FzIGV4cGVjdGVkIHRvIHJldHVybiBhbiBvYmplY3Qgd2hlbiBpbnZva2VkIGJ1dCByZXR1cm5lZCAkMyIscGx1Z2luTm90RnVuY3Rpb246IlBsdWdpbiAkMiBzcGVjaWZpZWQgaW4gJDEgd2FzIGV4cGVjdGVkIHRvIHJldHVybiBhIGZ1bmN0aW9uIGJ1dCByZXR1cm5lZCAkMyIsCnBsdWdpblVua25vd246IlVua25vd24gcGx1Z2luICQxIHNwZWNpZmllZCBpbiAkMiBhdCAkMywgYXR0ZW1wdGVkIHRvIHJlc29sdmUgcmVsYXRpdmUgdG8gJDQiLHBsdWdpbkludmFsaWRQcm9wZXJ0eToiUGx1Z2luICQyIHNwZWNpZmllZCBpbiAkMSBwcm92aWRlZCBhbiBpbnZhbGlkIHByb3BlcnR5IG9mICQzIn19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCFuKGUpKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGFuIG9iamVjdCEiKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPSFyKDI3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMSksaT1yKDIzMSkscz1yKDE1NCksYT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dC5mPXIoMjIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PXModCwhMCksbihyKSxpKXRyeXtyZXR1cm4gYShlLHQscil9Y2F0Y2goZSl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGwhPWUmJnMoZS5sZW5ndGgpJiYhaShlKX12YXIgaT1yKDE3NSkscz1yKDE3Nik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIG51bGwhPWUmJiJvYmplY3QiPT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjpuKGUpKX12YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT8iYXJyYXkiOm51bGw9PT1lPyJudWxsIjp2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOnZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsdi5kZWZhdWx0KShlKX1mdW5jdGlvbiBzKGUpe2Z1bmN0aW9uIHQodCxyLG4pe2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspZSh0LHIrIlsiK2krIl0iLG5baV0pfXJldHVybiB0LmVhY2g9ZSx0fWZ1bmN0aW9uIGEoKXtmdW5jdGlvbiBlKGUsdCxuKXtpZihyLmluZGV4T2Yobik8MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9wZXJ0eSAiK3QrIiBleHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgIisoMCxtLmRlZmF1bHQpKHIpKyIgYnV0IGdvdCAiKygwLG0uZGVmYXVsdCkobikpfWZvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodCksbj0wO248dDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUub25lT2Y9cixlfWZ1bmN0aW9uIG8oKXtmdW5jdGlvbiBlKGUsdCxuKXtmb3IodmFyIGk9ITEscz1yLGE9QXJyYXkuaXNBcnJheShzKSxvPTAscz1hP3M6KDAsZC5kZWZhdWx0KShzKTs7KXt2YXIgdTtpZihhKXtpZihvPj1zLmxlbmd0aClicmVhazt1PXNbbysrXX1lbHNle2lmKG89cy5uZXh0KCksby5kb25lKWJyZWFrO3U9by52YWx1ZX12YXIgbD11O2lmKGIuaXMobCxuKSl7aT0hMDticmVha319aWYoIWkpdGhyb3cgbmV3IFR5cGVFcnJvcigiUHJvcGVydHkgIit0KyIgb2YgIitlLnR5cGUrIiBleHBlY3RlZCBub2RlIHRvIGJlIG9mIGEgdHlwZSAiKygwLG0uZGVmYXVsdCkocikrIiBidXQgaW5zdGVhZCBnb3QgIisoMCxtLmRlZmF1bHQpKG4mJm4udHlwZSkpfWZvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodCksbj0wO248dDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIGUub25lT2ZOb2RlVHlwZXM9cixlfWZ1bmN0aW9uIHUoKXtmdW5jdGlvbiBlKGUsdCxuKXtmb3IodmFyIHM9ITEsYT1yLG89QXJyYXkuaXNBcnJheShhKSx1PTAsYT1vP2E6KDAsZC5kZWZhdWx0KShhKTs7KXt2YXIgbDtpZihvKXtpZih1Pj1hLmxlbmd0aClicmVhaztsPWFbdSsrXX1lbHNle2lmKHU9YS5uZXh0KCksdS5kb25lKWJyZWFrO2w9dS52YWx1ZX12YXIgYz1sO2lmKGkobik9PT1jfHxiLmlzKGMsbikpe3M9ITA7YnJlYWt9fWlmKCFzKXRocm93IG5ldyBUeXBlRXJyb3IoIlByb3BlcnR5ICIrdCsiIG9mICIrZS50eXBlKyIgZXhwZWN0ZWQgbm9kZSB0byBiZSBvZiBhIHR5cGUgIisoMCxtLmRlZmF1bHQpKHIpKyIgYnV0IGluc3RlYWQgZ290ICIrKDAsbS5kZWZhdWx0KShuJiZuLnR5cGUpKX1mb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQpLG49MDtuPHQ7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiBlLm9uZU9mTm9kZU9yVmFsdWVUeXBlcz1yLGV9ZnVuY3Rpb24gbChlKXtmdW5jdGlvbiB0KHQscixuKXtpZihpKG4pIT09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9wZXJ0eSAiK3IrIiBleHBlY3RlZCB0eXBlIG9mICIrZSsiIGJ1dCBnb3QgIitpKG4pKX1yZXR1cm4gdC50eXBlPWUsdH1mdW5jdGlvbiBjKCl7ZnVuY3Rpb24gZSgpe2Zvcih2YXIgZT1yLHQ9QXJyYXkuaXNBcnJheShlKSxuPTAsZT10P2U6KDAsZC5kZWZhdWx0KShlKTs7KXt2YXIgaTtpZih0KXtpZihuPj1lLmxlbmd0aClicmVhaztpPWVbbisrXX1lbHNle2lmKG49ZS5uZXh0KCksbi5kb25lKWJyZWFrO2k9bi52YWx1ZX1pLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfX1mb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQpLG49MDtuPHQ7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiBlLmNoYWluT2Y9cixlfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5pbmhlcml0cyYmRFt0LmluaGVyaXRzXXx8e307dC5maWVsZHM9dC5maWVsZHN8fHIuZmllbGRzfHx7fSx0LnZpc2l0b3I9dC52aXNpdG9yfHxyLnZpc2l0b3J8fFtdLHQuYWxpYXNlcz10LmFsaWFzZXN8fHIuYWxpYXNlc3x8W10sdC5idWlsZGVyPXQuYnVpbGRlcnx8ci5idWlsZGVyfHx0LnZpc2l0b3J8fFtdLHQuZGVwcmVjYXRlZEFsaWFzJiYoX1t0LmRlcHJlY2F0ZWRBbGlhc109ZSk7Zm9yKHZhciBuPXQudmlzaXRvci5jb25jYXQodC5idWlsZGVyKSxzPUFycmF5LmlzQXJyYXkobiksYT0wLG49cz9uOigwLGQuZGVmYXVsdCkobik7Oyl7dmFyIG87aWYocyl7aWYoYT49bi5sZW5ndGgpYnJlYWs7bz1uW2ErK119ZWxzZXtpZihhPW4ubmV4dCgpLGEuZG9uZSlicmVhaztvPWEudmFsdWV9dmFyIHU9bzt0LmZpZWxkc1t1XT10LmZpZWxkc1t1XXx8e319Zm9yKHZhciBjIGluIHQuZmllbGRzKXt2YXIgZj10LmZpZWxkc1tjXTstMT09PXQuYnVpbGRlci5pbmRleE9mKGMpJiYoZi5vcHRpb25hbD0hMCksdm9pZCAwPT09Zi5kZWZhdWx0P2YuZGVmYXVsdD1udWxsOmYudmFsaWRhdGV8fChmLnZhbGlkYXRlPWwoaShmLmRlZmF1bHQpKSl9RVtlXT10LnZpc2l0b3IsU1tlXT10LmJ1aWxkZXIsQVtlXT10LmZpZWxkcyx4W2VdPXQuYWxpYXNlcyxEW2VdPXR9dC5fX2VzTW9kdWxlPSEwLHQuREVQUkVDQVRFRF9LRVlTPXQuQlVJTERFUl9LRVlTPXQuTk9ERV9GSUVMRFM9dC5BTElBU19LRVlTPXQuVklTSVRPUl9LRVlTPXZvaWQgMDt2YXIgcD1yKDIpLGQ9bihwKSxoPXIoMzUpLG09bihoKSx5PXIoMTEpLHY9bih5KTt0LmFzc2VydEVhY2g9cyx0LmFzc2VydE9uZU9mPWEsdC5hc3NlcnROb2RlVHlwZT1vLHQuYXNzZXJ0Tm9kZU9yVmFsdWVUeXBlPXUsdC5hc3NlcnRWYWx1ZVR5cGU9bCx0LmNoYWluPWMsdC5kZWZhdWx0PWY7dmFyIGc9cigxKSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksRT10LlZJU0lUT1JfS0VZUz17fSx4PXQuQUxJQVNfS0VZUz17fSxBPXQuTk9ERV9GSUVMRFM9e30sUz10LkJVSUxERVJfS0VZUz17fSxfPXQuREVQUkVDQVRFRF9LRVlTPXt9LEQ9e319LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuISFlKCl9Y2F0Y2goZSl7cmV0dXJuITB9fX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChlLHQpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIzKSxpPXIoOTIpO2UuZXhwb3J0cz1yKDIyKT9mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZihlLHQsaSgxLHIpKX06ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlW3RdPXIsZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA9PT1lP3U6bzpsJiZsIGluIE9iamVjdChlKT9zKGUpOmEoZSl9dmFyIGk9cig0NSkscz1yKDUzNCksYT1yKDU1OSksbz0iW29iamVjdCBOdWxsXSIsdT0iW29iamVjdCBVbmRlZmluZWRdIixsPWk/aS50b1N0cmluZ1RhZzp2b2lkIDA7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscixuKXt2YXIgYT0hcjtyfHwocj17fSk7Zm9yKHZhciBvPS0xLHU9dC5sZW5ndGg7KytvPHU7KXt2YXIgbD10W29dLGM9bj9uKHJbbF0sZVtsXSxsLHIsZSk6dm9pZCAwO3ZvaWQgMD09PWMmJihjPWVbbF0pLGE/cyhyLGwsYyk6aShyLGwsYyl9cmV0dXJuIHJ9dmFyIGk9cigxNjIpLHM9cigxNjMpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGEoZSk/aShlKTpzKGUpfXZhciBpPXIoMjQ1KSxzPXIoNTAwKSxhPXIoMjQpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2ZpbGVuYW1lOnt0eXBlOiJmaWxlbmFtZSIsZGVzY3JpcHRpb246ImZpbGVuYW1lIHRvIHVzZSB3aGVuIHJlYWRpbmcgZnJvbSBzdGRpbiAtIHRoaXMgd2lsbCBiZSB1c2VkIGluIHNvdXJjZS1tYXBzLCBlcnJvcnMgZXRjIixkZWZhdWx0OiJ1bmtub3duIixzaG9ydGhhbmQ6ImYifSxmaWxlbmFtZVJlbGF0aXZlOntoaWRkZW46ITAsdHlwZToic3RyaW5nIn0saW5wdXRTb3VyY2VNYXA6e2hpZGRlbjohMH0sZW52OntoaWRkZW46ITAsZGVmYXVsdDp7fX0sbW9kZTp7ZGVzY3JpcHRpb246IiIsaGlkZGVuOiEwfSxyZXRhaW5MaW5lczp7dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxkZXNjcmlwdGlvbjoicmV0YWluIGxpbmUgbnVtYmVycyAtIHdpbGwgcmVzdWx0IGluIHJlYWxseSB1Z2x5IGNvZGUifSxoaWdobGlnaHRDb2RlOntkZXNjcmlwdGlvbjoiZW5hYmxlL2Rpc2FibGUgQU5TSSBzeW50YXggaGlnaGxpZ2h0aW5nIG9mIGNvZGUgZnJhbWVzIChvbiBieSBkZWZhdWx0KSIsdHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMH0sc3VwcHJlc3NEZXByZWNhdGlvbk1lc3NhZ2VzOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLGhpZGRlbjohMH0scHJlc2V0czp7dHlwZToibGlzdCIsZGVzY3JpcHRpb246IiIsZGVmYXVsdDpbXX0scGx1Z2luczp7dHlwZToibGlzdCIsZGVmYXVsdDpbXSxkZXNjcmlwdGlvbjoiIn0saWdub3JlOnt0eXBlOiJsaXN0IixkZXNjcmlwdGlvbjoibGlzdCBvZiBnbG9iIHBhdGhzIHRvICoqbm90KiogY29tcGlsZSIsZGVmYXVsdDpbXX0sb25seTp7dHlwZToibGlzdCIsZGVzY3JpcHRpb246Imxpc3Qgb2YgZ2xvYiBwYXRocyB0byAqKm9ubHkqKiBjb21waWxlIn0sY29kZTp7aGlkZGVuOiEwLGRlZmF1bHQ6ITAsdHlwZToiYm9vbGVhbiJ9LG1ldGFkYXRhOntoaWRkZW46ITAsZGVmYXVsdDohMCx0eXBlOiJib29sZWFuIn0sYXN0OntoaWRkZW46ITAsZGVmYXVsdDohMCx0eXBlOiJib29sZWFuIn0sZXh0ZW5kczp7dHlwZToic3RyaW5nIixoaWRkZW46ITB9LGNvbW1lbnRzOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiEwLGRlc2NyaXB0aW9uOiJ3cml0ZSBjb21tZW50cyB0byBnZW5lcmF0ZWQgb3V0cHV0ICh0cnVlIGJ5IGRlZmF1bHQpIn0sc2hvdWxkUHJpbnRDb21tZW50OntoaWRkZW46ITAsZGVzY3JpcHRpb246Im9wdGlvbmFsIGNhbGxiYWNrIHRvIGNvbnRyb2wgd2hldGhlciBhIGNvbW1lbnQgc2hvdWxkIGJlIGluc2VydGVkLCB3aGVuIHRoaXMgaXMgdXNlZCB0aGUgY29tbWVudHMgb3B0aW9uIGlzIGlnbm9yZWQifSx3cmFwUGx1Z2luVmlzaXRvck1ldGhvZDp7aGlkZGVuOiEwLGRlc2NyaXB0aW9uOiJvcHRpb25hbCBjYWxsYmFjayB0byB3cmFwIGFsbCB2aXNpdG9yIG1ldGhvZHMifSxjb21wYWN0Ont0eXBlOiJib29sZWFuU3RyaW5nIixkZWZhdWx0OiJhdXRvIixkZXNjcmlwdGlvbjoiZG8gbm90IGluY2x1ZGUgc3VwZXJmbHVvdXMgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGFuZCBsaW5lIHRlcm1pbmF0b3JzIFt0cnVlfGZhbHNlfGF1dG9dIn0sbWluaWZpZWQ6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITEsZGVzY3JpcHRpb246InNhdmUgYXMgbXVjaCBieXRlcyB3aGVuIHByaW50aW5nIFt0cnVlfGZhbHNlXSJ9LHNvdXJjZU1hcDp7YWxpYXM6InNvdXJjZU1hcHMiLGhpZGRlbjohMH0sc291cmNlTWFwczp7dHlwZToiYm9vbGVhblN0cmluZyIsZGVzY3JpcHRpb246Ilt0cnVlfGZhbHNlfGlubGluZV0iLGRlZmF1bHQ6ITEsc2hvcnRoYW5kOiJzIn0sc291cmNlTWFwVGFyZ2V0Ont0eXBlOiJzdHJpbmciLGRlc2NyaXB0aW9uOiJzZXQgYGZpbGVgIG9uIHJldHVybmVkIHNvdXJjZSBtYXAifSxzb3VyY2VGaWxlTmFtZTp7dHlwZToic3RyaW5nIixkZXNjcmlwdGlvbjoic2V0IGBzb3VyY2VzWzBdYCBvbiByZXR1cm5lZCBzb3VyY2UgbWFwIn0sc291cmNlUm9vdDp7dHlwZToiZmlsZW5hbWUiLGRlc2NyaXB0aW9uOiJ0aGUgcm9vdCBmcm9tIHdoaWNoIGFsbCBzb3VyY2VzIGFyZSByZWxhdGl2ZSJ9LGJhYmVscmM6e2Rlc2NyaXB0aW9uOiJXaGV0aGVyIG9yIG5vdCB0byBsb29rIHVwIC5iYWJlbHJjIGFuZCAuYmFiZWxpZ25vcmUgZmlsZXMiLHR5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITB9LHNvdXJjZVR5cGU6e2Rlc2NyaXB0aW9uOiIiLGRlZmF1bHQ6Im1vZHVsZSJ9LGF1eGlsaWFyeUNvbW1lbnRCZWZvcmU6e3R5cGU6InN0cmluZyIsZGVzY3JpcHRpb246InByaW50IGEgY29tbWVudCBiZWZvcmUgYW55IGluamVjdGVkIG5vbi11c2VyIGNvZGUifSxhdXhpbGlhcnlDb21tZW50QWZ0ZXI6e3R5cGU6InN0cmluZyIsZGVzY3JpcHRpb246InByaW50IGEgY29tbWVudCBhZnRlciBhbnkgaW5qZWN0ZWQgbm9uLXVzZXIgY29kZSJ9LHJlc29sdmVNb2R1bGVTb3VyY2U6e2hpZGRlbjohMH0sZ2V0TW9kdWxlSWQ6e2hpZGRlbjohMH0sbW9kdWxlUm9vdDp7dHlwZToiZmlsZW5hbWUiLGRlc2NyaXB0aW9uOiJvcHRpb25hbCBwcmVmaXggZm9yIHRoZSBBTUQgbW9kdWxlIGZvcm1hdHRlciB0aGF0IHdpbGwgYmUgcHJlcGVuZCB0byB0aGUgZmlsZW5hbWUgb24gbW9kdWxlIGRlZmluaXRpb25zIn0sbW9kdWxlSWRzOnt0eXBlOiJib29sZWFuIixkZWZhdWx0OiExLHNob3J0aGFuZDoiTSIsZGVzY3JpcHRpb246Imluc2VydCBhbiBleHBsaWNpdCBpZCBmb3IgbW9kdWxlcyJ9LG1vZHVsZUlkOntkZXNjcmlwdGlvbjoic3BlY2lmeSBhIGN1c3RvbSBuYW1lIGZvciBtb2R1bGUgaWRzIix0eXBlOiJzdHJpbmcifSxwYXNzUGVyUHJlc2V0OntkZXNjcmlwdGlvbjoiV2hldGhlciB0byBzcGF3biBhIHRyYXZlcnNhbCBwYXNzIHBlciBhIHByZXNldC4gQnkgZGVmYXVsdCBhbGwgcHJlc2V0cyBhcmUgbWVyZ2VkLiIsdHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMSxoaWRkZW46ITB9LHBhcnNlck9wdHM6e2Rlc2NyaXB0aW9uOiJPcHRpb25zIHRvIHBhc3MgaW50byB0aGUgcGFyc2VyLCBvciB0byBjaGFuZ2UgcGFyc2VycyAocGFyc2VyT3B0cy5wYXJzZXIpIixkZWZhdWx0OiExfSxnZW5lcmF0b3JPcHRzOntkZXNjcmlwdGlvbjoiT3B0aW9ucyB0byBwYXNzIGludG8gdGhlIGdlbmVyYXRvciwgb3IgdG8gY2hhbmdlIGdlbmVyYXRvcnMgKGdlbmVyYXRvck9wdHMuZ2VuZXJhdG9yKSIsZGVmYXVsdDohMX19fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGE9cigzNjYpLG89cyhhKSx1PXIoMzUpLGw9cyh1KSxjPXIoODcpLGY9cyhjKSxwPXIoMiksZD1zKHApLGg9cigxMSksbT1zKGgpLHk9cigzKSx2PXMoeSksZz1yKDE4MiksYj1pKGcpLEU9cig2NSkseD1zKEUpLEE9cigyMCksUz1pKEEpLF89cig1MiksRD1yKDE4NCksQz1zKEQpLHc9cigxODUpLFA9cyh3KSxrPXIoNTc1KSxGPXMoayksVD1yKDEwOSksTz1zKFQpLEI9cigyOTMpLFI9cyhCKSxJPXIoMzMpLE09cyhJKSxOPXIoNTQpLEw9cyhOKSxqPXIoNTEpLFU9cyhqKSxWPXIoMTkpLEc9cyhWKSxXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCx2LmRlZmF1bHQpKHRoaXMsZSksdGhpcy5yZXNvbHZlZENvbmZpZ3M9W10sdGhpcy5vcHRpb25zPWUuY3JlYXRlQmFyZU9wdGlvbnMoKSx0aGlzLmxvZz10fXJldHVybiBlLm1lbW9pc2VQbHVnaW5Db250YWluZXI9ZnVuY3Rpb24odCxyLG4saSl7Zm9yKHZhciBzPWUubWVtb2lzZWRQbHVnaW5zLGE9QXJyYXkuaXNBcnJheShzKSxvPTAscz1hP3M6KDAsZC5kZWZhdWx0KShzKTs7KXt2YXIgdTtpZihhKXtpZihvPj1zLmxlbmd0aClicmVhazt1PXNbbysrXX1lbHNle2lmKG89cy5uZXh0KCksby5kb25lKWJyZWFrO3U9by52YWx1ZX12YXIgbD11O2lmKGwuY29udGFpbmVyPT09dClyZXR1cm4gbC5wbHVnaW59dmFyIGM9dm9pZCAwO2lmKGM9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dChiKTp0LCJvYmplY3QiPT09KHZvaWQgMD09PWM/InVuZGVmaW5lZCI6KDAsbS5kZWZhdWx0KShjKSkpe3ZhciBmPW5ldyB4LmRlZmF1bHQoYyxpKTtyZXR1cm4gZS5tZW1vaXNlZFBsdWdpbnMucHVzaCh7Y29udGFpbmVyOnQscGx1Z2luOmZ9KSxmfXRocm93IG5ldyBUeXBlRXJyb3IoUy5nZXQoInBsdWdpbk5vdE9iamVjdCIscixuLHZvaWQgMD09PWM/InVuZGVmaW5lZCI6KDAsbS5kZWZhdWx0KShjKSkrcituKX0sZS5jcmVhdGVCYXJlT3B0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiBNLmRlZmF1bHQpe3ZhciByPU0uZGVmYXVsdFt0XTtlW3RdPSgwLE8uZGVmYXVsdCkoci5kZWZhdWx0KX1yZXR1cm4gZX0sZS5ub3JtYWxpc2VQbHVnaW49ZnVuY3Rpb24odCxyLG4saSl7aWYoISgodD10Ll9fZXNNb2R1bGU/dC5kZWZhdWx0OnQpaW5zdGFuY2VvZiB4LmRlZmF1bHQpKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmIm9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjooMCxtLmRlZmF1bHQpKHQpKSl0aHJvdyBuZXcgVHlwZUVycm9yKFMuZ2V0KCJwbHVnaW5Ob3RGdW5jdGlvbiIscixuLHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsbS5kZWZhdWx0KSh0KSkpO3Q9ZS5tZW1vaXNlUGx1Z2luQ29udGFpbmVyKHQscixuLGkpfXJldHVybiB0LmluaXQocixuKSx0fSxlLm5vcm1hbGlzZVBsdWdpbnM9ZnVuY3Rpb24odCxuLGkpe3JldHVybiBpLm1hcChmdW5jdGlvbihpLHMpe3ZhciBhPXZvaWQgMCxvPXZvaWQgMDtpZighaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJGYWxzeSB2YWx1ZSBmb3VuZCBpbiBwbHVnaW5zIik7QXJyYXkuaXNBcnJheShpKT8oYT1pWzBdLG89aVsxXSk6YT1pO3ZhciB1PSJzdHJpbmciPT10eXBlb2YgYT9hOnQrIiQiK3M7aWYoInN0cmluZyI9PXR5cGVvZiBhKXt2YXIgbD0oMCxDLmRlZmF1bHQpKGEsbik7aWYoIWwpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFMuZ2V0KCJwbHVnaW5Vbmtub3duIixhLHQscyxuKSk7YT1yKDE3OSkobCl9cmV0dXJuIGE9ZS5ub3JtYWxpc2VQbHVnaW4oYSx0LHMsdSksW2Esb119KX0sZS5wcm90b3R5cGUubWVyZ2VPcHRpb25zPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsaT10Lm9wdGlvbnMscz10LmV4dGVuZGluZyxhPXQuYWxpYXMsbz10LmxvYyx1PXQuZGlybmFtZTtpZihhPWF8fCJmb3JlaWduIixpKXsoIm9iamVjdCIhPT0odm9pZCAwPT09aT8idW5kZWZpbmVkIjooMCxtLmRlZmF1bHQpKGkpKXx8QXJyYXkuaXNBcnJheShpKSkmJnRoaXMubG9nLmVycm9yKCJJbnZhbGlkIG9wdGlvbnMgdHlwZSBmb3IgIithLFR5cGVFcnJvcik7dmFyIGw9KDAsRi5kZWZhdWx0KShpLGZ1bmN0aW9uKGUpe2lmKGUgaW5zdGFuY2VvZiB4LmRlZmF1bHQpcmV0dXJuIGV9KTt1PXV8fG4uY3dkKCksbz1vfHxhO2Zvcih2YXIgYyBpbiBsKXtpZighTS5kZWZhdWx0W2NdJiZ0aGlzLmxvZylpZihMLmRlZmF1bHRbY10pdGhpcy5sb2cuZXJyb3IoIlVzaW5nIHJlbW92ZWQgQmFiZWwgNSBvcHRpb246ICIrYSsiLiIrYysiIC0gIitMLmRlZmF1bHRbY10ubWVzc2FnZSxSZWZlcmVuY2VFcnJvcik7ZWxzZXt2YXIgcD0iVW5rbm93biBvcHRpb246ICIrYSsiLiIrYysiLiBDaGVjayBvdXQgaHR0cDovL2JhYmVsanMuaW8vZG9jcy91c2FnZS9vcHRpb25zLyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBvcHRpb25zLiI7dGhpcy5sb2cuZXJyb3IocCsiXG5cbkEgY29tbW9uIGNhdXNlIG9mIHRoaXMgZXJyb3IgaXMgdGhlIHByZXNlbmNlIG9mIGEgY29uZmlndXJhdGlvbiBvcHRpb25zIG9iamVjdCB3aXRob3V0IHRoZSBjb3JyZXNwb25kaW5nIHByZXNldCBuYW1lLiBFeGFtcGxlOlxuXG5JbnZhbGlkOlxuICBgeyBwcmVzZXRzOiBbe29wdGlvbjogdmFsdWV9XSB9YFxuVmFsaWQ6XG4gIGB7IHByZXNldHM6IFtbJ3ByZXNldE5hbWUnLCB7b3B0aW9uOiB2YWx1ZX1dXSB9YFxuXG5Gb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiBwcmVzZXQgY29uZmlndXJhdGlvbiwgcGxlYXNlIHNlZSBodHRwOi8vYmFiZWxqcy5pby9kb2NzL3BsdWdpbnMvI3BsdWdpbnByZXNldHMtb3B0aW9ucy4iLFJlZmVyZW5jZUVycm9yKX19KDAsXy5ub3JtYWxpc2VPcHRpb25zKShsKSxsLnBsdWdpbnMmJihsLnBsdWdpbnM9ZS5ub3JtYWxpc2VQbHVnaW5zKG8sdSxsLnBsdWdpbnMpKSxsLnByZXNldHMmJihsLnBhc3NQZXJQcmVzZXQ/bC5wcmVzZXRzPXRoaXMucmVzb2x2ZVByZXNldHMobC5wcmVzZXRzLHUsZnVuY3Rpb24oZSx0KXtyLm1lcmdlT3B0aW9ucyh7b3B0aW9uczplLGV4dGVuZGluZzplLGFsaWFzOnQsbG9jOnQsZGlybmFtZTp1fSl9KToodGhpcy5tZXJnZVByZXNldHMobC5wcmVzZXRzLHUpLGRlbGV0ZSBsLnByZXNldHMpKSxpPT09cz8oMCxmLmRlZmF1bHQpKHMsbCk6KDAsUi5kZWZhdWx0KShzfHx0aGlzLm9wdGlvbnMsbCl9fSxlLnByb3RvdHlwZS5tZXJnZVByZXNldHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3RoaXMucmVzb2x2ZVByZXNldHMoZSx0LGZ1bmN0aW9uKGUsdCl7ci5tZXJnZU9wdGlvbnMoe29wdGlvbnM6ZSxhbGlhczp0LGxvYzp0LGRpcm5hbWU6Ry5kZWZhdWx0LmRpcm5hbWUodHx8IiIpfSl9KX0sZS5wcm90b3R5cGUucmVzb2x2ZVByZXNldHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXt2YXIgaT12b2lkIDA7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoZS5sZW5ndGg+Mil0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgZXh0cmEgb3B0aW9ucyAiKygwLGwuZGVmYXVsdCkoZS5zbGljZSgyKSkrIiBwYXNzZWQgdG8gcHJlc2V0LiIpO3ZhciBzPWU7ZT1zWzBdLGk9c1sxXX12YXIgYT12b2lkIDA7dHJ5e2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoIShhPSgwLFAuZGVmYXVsdCkoZSx0KSkpdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBmaW5kIHByZXNldCAiKygwLGwuZGVmYXVsdCkoZSkrIiByZWxhdGl2ZSB0byBkaXJlY3RvcnkgIisoMCxsLmRlZmF1bHQpKHQpKTtlPXIoMTc5KShhKX1pZigib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLG0uZGVmYXVsdCkoZSkpJiZlLl9fZXNNb2R1bGUpaWYoZS5kZWZhdWx0KWU9ZS5kZWZhdWx0O2Vsc2V7dmFyIHU9ZSxjPSh1Ll9fZXNNb2R1bGUsKDAsby5kZWZhdWx0KSh1LFsiX19lc01vZHVsZSJdKSk7ZT1jfWlmKCJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6KDAsbS5kZWZhdWx0KShlKSkmJmUuYnVpbGRQcmVzZXQmJihlPWUuYnVpbGRQcmVzZXQpLCJmdW5jdGlvbiIhPXR5cGVvZiBlJiZ2b2lkIDAhPT1pKXRocm93IG5ldyBFcnJvcigiT3B0aW9ucyAiKygwLGwuZGVmYXVsdCkoaSkrIiBwYXNzZWQgdG8gIisoYXx8ImEgcHJlc2V0IikrIiB3aGljaCBkb2VzIG5vdCBhY2NlcHQgb3B0aW9ucy4iKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSYmKGU9ZShiLGkse2Rpcm5hbWU6dH0pKSwib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLG0uZGVmYXVsdCkoZSkpKXRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgcHJlc2V0IGZvcm1hdDogIitlKyIuIik7biYmbihlLGEpfWNhdGNoKGUpe3Rocm93IGEmJihlLm1lc3NhZ2UrPSIgKFdoaWxlIHByb2Nlc3NpbmcgcHJlc2V0OiAiKygwLGwuZGVmYXVsdCkoYSkrIikiKSxlfXJldHVybiBlfSl9LGUucHJvdG90eXBlLm5vcm1hbGlzZU9wdGlvbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm9wdGlvbnM7Zm9yKHZhciB0IGluIE0uZGVmYXVsdCl7dmFyIHI9TS5kZWZhdWx0W3RdLG49ZVt0XTshbiYmci5vcHRpb25hbHx8KHIuYWxpYXM/ZVtyLmFsaWFzXT1lW3IuYWxpYXNdfHxuOmVbdF09bil9fSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PSgwLFUuZGVmYXVsdCkoZSx0aGlzLmxvZykscj1BcnJheS5pc0FycmF5KHQpLG49MCx0PXI/dDooMCxkLmRlZmF1bHQpKHQpOzspe3ZhciBpO2lmKHIpe2lmKG4+PXQubGVuZ3RoKWJyZWFrO2k9dFtuKytdfWVsc2V7aWYobj10Lm5leHQoKSxuLmRvbmUpYnJlYWs7aT1uLnZhbHVlfXZhciBzPWk7dGhpcy5tZXJnZU9wdGlvbnMocyl9cmV0dXJuIHRoaXMubm9ybWFsaXNlT3B0aW9ucyhlKSx0aGlzLm9wdGlvbnN9LGV9KCk7dC5kZWZhdWx0PVcsVy5tZW1vaXNlZFBsdWdpbnM9W10sZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDgpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0MDUpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgcz1yKDIpLGE9aShzKSxvPXIoMyksdT1pKG8pLGw9cigyMjQpLGM9bihsKSxmPXIoMjM5KSxwPWkoZiksZD1yKDQ2NiksaD1pKGQpLG09cig3KSx5PWkobSksdj1yKDE3NCksZz1pKHYpLGI9cigxMzQpLEU9aShiKSx4PXIoMSksQT1uKHgpLFM9cig4OCksXz0oMCxwLmRlZmF1bHQpKCJiYWJlbCIpLEQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7KDAsdS5kZWZhdWx0KSh0aGlzLGUpLHRoaXMucGFyZW50PXIsdGhpcy5odWI9dCx0aGlzLmNvbnRleHRzPVtdLHRoaXMuZGF0YT17fSx0aGlzLnNob3VsZFNraXA9ITEsdGhpcy5zaG91bGRTdG9wPSExLHRoaXMucmVtb3ZlZD0hMSx0aGlzLnN0YXRlPW51bGwsdGhpcy5vcHRzPW51bGwsdGhpcy5za2lwS2V5cz1udWxsLHRoaXMucGFyZW50UGF0aD1udWxsLHRoaXMuY29udGV4dD1udWxsLHRoaXMuY29udGFpbmVyPW51bGwsdGhpcy5saXN0S2V5PW51bGwsdGhpcy5pbkxpc3Q9ITEsdGhpcy5wYXJlbnRLZXk9bnVsbCx0aGlzLmtleT1udWxsLHRoaXMubm9kZT1udWxsLHRoaXMuc2NvcGU9bnVsbCx0aGlzLnR5cGU9bnVsbCx0aGlzLnR5cGVBbm5vdGF0aW9uPW51bGx9cmV0dXJuIGUuZ2V0PWZ1bmN0aW9uKHQpe3ZhciByPXQuaHViLG49dC5wYXJlbnRQYXRoLGk9dC5wYXJlbnQscz10LmNvbnRhaW5lcixhPXQubGlzdEtleSxvPXQua2V5OyFyJiZuJiYocj1uLmh1YiksKDAsaC5kZWZhdWx0KShpLCJUbyBnZXQgYSBub2RlIHBhdGggdGhlIHBhcmVudCBuZWVkcyB0byBleGlzdCIpO3ZhciB1PXNbb10sbD1TLnBhdGguZ2V0KGkpfHxbXTtTLnBhdGguaGFzKGkpfHxTLnBhdGguc2V0KGksbCk7Zm9yKHZhciBjPXZvaWQgMCxmPTA7ZjxsLmxlbmd0aDtmKyspe3ZhciBwPWxbZl07aWYocC5ub2RlPT09dSl7Yz1wO2JyZWFrfX1yZXR1cm4gY3x8KGM9bmV3IGUocixpKSxsLnB1c2goYykpLGMuc2V0dXAobixzLGEsbyksY30sZS5wcm90b3R5cGUuZ2V0U2NvcGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm4gdGhpcy5pc1Njb3BlKCkmJih0PW5ldyBFLmRlZmF1bHQodGhpcyxlKSksdH0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGFbZV09dH0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZGF0YVtlXTtyZXR1cm4hciYmdCYmKHI9dGhpcy5kYXRhW2VdPXQpLHJ9LGUucHJvdG90eXBlLmJ1aWxkQ29kZUZyYW1lRXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlN5bnRheEVycm9yO3JldHVybiB0aGlzLmh1Yi5maWxlLmJ1aWxkQ29kZUZyYW1lRXJyb3IodGhpcy5ub2RlLGUsdCl9LGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGUsdCl7KDAseS5kZWZhdWx0KSh0aGlzLm5vZGUsZSx0aGlzLnNjb3BlLHQsdGhpcyl9LGUucHJvdG90eXBlLm1hcms9ZnVuY3Rpb24oZSx0KXt0aGlzLmh1Yi5maWxlLm1ldGFkYXRhLm1hcmtlZC5wdXNoKHt0eXBlOmUsbWVzc2FnZTp0LGxvYzp0aGlzLm5vZGUubG9jfSl9LGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe0EudmFsaWRhdGUodGhpcy5ub2RlLGUsdCksdGhpcy5ub2RlW2VdPXR9LGUucHJvdG90eXBlLmdldFBhdGhMb2NhdGlvbj1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dGhpcztkb3t2YXIgcj10LmtleTt0LmluTGlzdCYmKHI9dC5saXN0S2V5KyJbIityKyJdIiksZS51bnNoaWZ0KHIpfXdoaWxlKHQ9dC5wYXJlbnRQYXRoKTtyZXR1cm4gZS5qb2luKCIuIil9LGUucHJvdG90eXBlLmRlYnVnPWZ1bmN0aW9uKGUpe18uZW5hYmxlZCYmXyh0aGlzLmdldFBhdGhMb2NhdGlvbigpKyIgIit0aGlzLnR5cGUrIjogIitlKCkpfSxlfSgpO3QuZGVmYXVsdD1ELCgwLGcuZGVmYXVsdCkoRC5wcm90b3R5cGUscigzNjgpKSwoMCxnLmRlZmF1bHQpKEQucHJvdG90eXBlLHIoMzc0KSksKDAsZy5kZWZhdWx0KShELnByb3RvdHlwZSxyKDM4MikpLCgwLGcuZGVmYXVsdCkoRC5wcm90b3R5cGUscigzNzIpKSwoMCxnLmRlZmF1bHQpKEQucHJvdG90eXBlLHIoMzcxKSksKDAsZy5kZWZhdWx0KShELnByb3RvdHlwZSxyKDM3NykpLCgwLGcuZGVmYXVsdCkoRC5wcm90b3R5cGUscigzNzApKSwoMCxnLmRlZmF1bHQpKEQucHJvdG90eXBlLHIoMzgxKSksKDAsZy5kZWZhdWx0KShELnByb3RvdHlwZSxyKDM4MCkpLCgwLGcuZGVmYXVsdCkoRC5wcm90b3R5cGUscigzNzMpKSwoMCxnLmRlZmF1bHQpKEQucHJvdG90eXBlLHIoMzY5KSk7Zm9yKHZhciBDPUEuVFlQRVMsdz1BcnJheS5pc0FycmF5KEMpLFA9MCxDPXc/QzooMCxhLmRlZmF1bHQpKEMpOzspe3ZhciBrO2lmKCJicmVhayI9PT1mdW5jdGlvbigpe2lmKHcpe2lmKFA+PUMubGVuZ3RoKXJldHVybiJicmVhayI7az1DW1ArK119ZWxzZXtpZihQPUMubmV4dCgpLFAuZG9uZSlyZXR1cm4iYnJlYWsiO2s9UC52YWx1ZX12YXIgZT1rLHQ9ImlzIitlO0QucHJvdG90eXBlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiBBW3RdKHRoaXMubm9kZSxlKX0sRC5wcm90b3R5cGVbImFzc2VydCIrZV09ZnVuY3Rpb24ocil7aWYoIXRoaXNbdF0ocikpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgbm9kZSBwYXRoIG9mIHR5cGUgIitlKX19KCkpYnJlYWt9Zm9yKHZhciBGIGluIGMpeyhmdW5jdGlvbihlKXtpZigiXyI9PT1lWzBdKXJldHVybiJjb250aW51ZSI7QS5UWVBFUy5pbmRleE9mKGUpPDAmJkEuVFlQRVMucHVzaChlKTt2YXIgdD1jW2VdO0QucHJvdG90eXBlWyJpcyIrZV09ZnVuY3Rpb24oZSl7cmV0dXJuIHQuY2hlY2tQYXRoKHRoaXMsZSl9fSkoRil9ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE0MiksaT1yKDE0MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuKGkoZSkpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9cyhlLHQpO3JldHVybiBpKHIpP3I6dm9pZCAwfXZhciBpPXIoNDk3KSxzPXIoNTM1KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlLndlYnBhY2tQb2x5ZmlsbHx8KGUuZGVwcmVjYXRlPWZ1bmN0aW9uKCl7fSxlLnBhdGhzPVtdLGUuY2hpbGRyZW49W10sZS53ZWJwYWNrUG9seWZpbGw9MSksZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlLHQscixuKXtpZihlLnNlbGZSZWZlcmVuY2Upe2lmKCFuLmhhc0JpbmRpbmcoci5uYW1lKXx8bi5oYXNHbG9iYWwoci5uYW1lKSl7aWYoIWYuaXNGdW5jdGlvbih0KSlyZXR1cm47dmFyIGk9cDt0LmdlbmVyYXRvciYmKGk9ZCk7dmFyIHM9aSh7RlVOQ1RJT046dCxGVU5DVElPTl9JRDpyLEZVTkNUSU9OX0tFWTpuLmdlbmVyYXRlVWlkSWRlbnRpZmllcihyLm5hbWUpfSkuZXhwcmVzc2lvbjtzLmNhbGxlZS5fc2tpcE1vZHVsZXNSZW1hcD0hMDtmb3IodmFyIGE9cy5jYWxsZWUuYm9keS5ib2R5WzBdLnBhcmFtcyx1PTAsbD0oMCxvLmRlZmF1bHQpKHQpO3U8bDt1KyspYS5wdXNoKG4uZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJ4IikpO3JldHVybiBzfW4ucmVuYW1lKHIubmFtZSl9dC5pZD1yLG4uZ2V0UHJvZ3JhbVBhcmVudCgpLnJlZmVyZW5jZXNbci5uYW1lXT0hMH1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgbj17c2VsZkFzc2lnbm1lbnQ6ITEsc2VsZlJlZmVyZW5jZTohMSxvdXRlckRlY2xhcjpyLmdldEJpbmRpbmdJZGVudGlmaWVyKHQpLHJlZmVyZW5jZXM6W10sbmFtZTp0fSxpPXIuZ2V0T3duQmluZGluZyh0KTtyZXR1cm4gaT8icGFyYW0iPT09aS5raW5kJiYobi5zZWxmUmVmZXJlbmNlPSEwKToobi5vdXRlckRlY2xhcnx8ci5oYXNHbG9iYWwodCkpJiZyLnRyYXZlcnNlKGUsaCxuKSxufXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlLHI9ZS5wYXJlbnQsbj1lLnNjb3BlLGE9ZS5pZDtpZighdC5pZCl7aWYoIWYuaXNPYmplY3RQcm9wZXJ0eShyKSYmIWYuaXNPYmplY3RNZXRob2Qocix7a2luZDoibWV0aG9kIn0pfHxyLmNvbXB1dGVkJiYhZi5pc0xpdGVyYWwoci5rZXkpKXtpZihmLmlzVmFyaWFibGVEZWNsYXJhdG9yKHIpKXtpZihhPXIuaWQsZi5pc0lkZW50aWZpZXIoYSkpe3ZhciBvPW4ucGFyZW50LmdldEJpbmRpbmcoYS5uYW1lKTtpZihvJiZvLmNvbnN0YW50JiZuLmdldEJpbmRpbmcoYS5uYW1lKT09PW8pcmV0dXJuIHQuaWQ9YSx2b2lkKHQuaWRbZi5OT1RfTE9DQUxfQklORElOR109ITApfX1lbHNlIGlmKGYuaXNBc3NpZ25tZW50RXhwcmVzc2lvbihyKSlhPXIubGVmdDtlbHNlIGlmKCFhKXJldHVybn1lbHNlIGE9ci5rZXk7dmFyIHU9dm9pZCAwO2lmKGEmJmYuaXNMaXRlcmFsKGEpKXU9YS52YWx1ZTtlbHNle2lmKCFhfHwhZi5pc0lkZW50aWZpZXIoYSkpcmV0dXJuO3U9YS5uYW1lfXU9Zi50b0JpbmRpbmdJZGVudGlmaWVyTmFtZSh1KSxhPWYuaWRlbnRpZmllcih1KSxhW2YuTk9UX0xPQ0FMX0JJTkRJTkddPSEwO3JldHVybiBpKHModCx1LG4pLHQsYSxuKXx8dH19O3ZhciBhPXIoMTg5KSxvPW4oYSksdT1yKDQpLGw9bih1KSxjPXIoMSksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLHA9KDAsbC5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAoRlVOQ1RJT05fS0VZKSB7XG4gICAgZnVuY3Rpb24gRlVOQ1RJT05fSUQoKSB7XG4gICAgICByZXR1cm4gRlVOQ1RJT05fS0VZLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgRlVOQ1RJT05fSUQudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRlVOQ1RJT05fS0VZLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIEZVTkNUSU9OX0lEO1xuICB9KShGVU5DVElPTilcbiIpLGQ9KDAsbC5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAoRlVOQ1RJT05fS0VZKSB7XG4gICAgZnVuY3Rpb24qIEZVTkNUSU9OX0lEKCkge1xuICAgICAgcmV0dXJuIHlpZWxkKiBGVU5DVElPTl9LRVkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBGVU5DVElPTl9JRC50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGVU5DVElPTl9LRVkudG9TdHJpbmcoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEZVTkNUSU9OX0lEO1xuICB9KShGVU5DVElPTilcbiIpLGg9eyJSZWZlcmVuY2VkSWRlbnRpZmllcnxCaW5kaW5nSWRlbnRpZmllciI6ZnVuY3Rpb24oZSx0KXtpZihlLm5vZGUubmFtZT09PXQubmFtZSl7ZS5zY29wZS5nZXRCaW5kaW5nSWRlbnRpZmllcih0Lm5hbWUpPT09dC5vdXRlckRlY2xhciYmKHQuc2VsZlJlZmVyZW5jZT0hMCxlLnN0b3AoKSl9fX07ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigzNjEpLHM9bihpKSxhPXIoOSksbz1uKGEpLHU9cigxMSksbD1uKHUpO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrKHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsbC5kZWZhdWx0KSh0KSkpO2UucHJvdG90eXBlPSgwLG8uZGVmYXVsdCkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihzLmRlZmF1bHQ/KDAscy5kZWZhdWx0KShlLHQpOmUuX19wcm90b19fPXQpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigxMSksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIXR8fCJvYmplY3QiIT09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6KDAsaS5kZWZhdWx0KSh0KSkmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMjcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7aWYobihlKSx2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChyKXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyKX07Y2FzZSAyOnJldHVybiBmdW5jdGlvbihyLG4pe3JldHVybiBlLmNhbGwodCxyLG4pfTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXtyZXR1cm4gZS5jYWxsKHQscixuLGkpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIzNyksaT1yKDE0MSk7ZS5leHBvcnRzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLGkpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3KSxpPW4uU3ltYm9sO2UuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGU9PT10fHxlIT09ZSYmdCE9PXR9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gYShlKT9pKGUsITApOnMoZSl9dmFyIGk9cigyNDUpLHM9cig1MDEpLGE9cigyNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1pKGUpLHI9dCUxO3JldHVybiB0PT09dD9yP3Qtcjp0OjB9dmFyIGk9cig1OTcpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyhmdW5jdGlvbih0KXtlLmV4cG9ydHM9dH0pLmNhbGwodCx7fSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMCx0LkZpbGU9dm9pZCAwO3ZhciBzPXIoMiksYT1pKHMpLG89cig5KSx1PWkobyksbD1yKDg3KSxjPWkobCksZj1yKDMpLHA9aShmKSxkPXIoNDIpLGg9aShkKSxtPXIoNDEpLHk9aShtKSx2PXIoMTk0KSxnPWkodiksYj1yKDEyMSksRT1uKGIpLHg9cig0MDMpLEE9aSh4KSxTPXIoMzQpLF89aShTKSxEPXIoMjk5KSxDPWkoRCksdz1yKDcpLFA9aSh3KSxrPXIoMjg4KSxGPWkoayksVD1yKDE4NiksTz1pKFQpLEI9cigxODEpLFI9aShCKSxJPXIoMjczKSxNPWkoSSksTj1yKDEyMCksTD1pKE4pLGo9cigxMTkpLFU9aShqKSxWPXIoODkpLEc9cigxMjIpLFc9bihHKSxZPXIoMTkpLHE9aShZKSxLPXIoMSksSD1uKEspLEo9cigxMTgpLFg9aShKKSx6PXIoMjk2KSwkPWkoeiksUT1yKDI5NyksWj1pKFEpLGVlPS9eIyEuKi8sdGU9W1skLmRlZmF1bHRdLFtaLmRlZmF1bHRdXSxyZT17ZW50ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUubG9jO3ImJih0LmxvYz1yLGUuc3RvcCgpKX19LG5lPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30scj1hcmd1bWVudHNbMV07KDAscC5kZWZhdWx0KSh0aGlzLG4pO3ZhciBpPSgwLGguZGVmYXVsdCkodGhpcyx0LmNhbGwodGhpcykpO3JldHVybiBpLnBpcGVsaW5lPXIsaS5sb2c9bmV3IEwuZGVmYXVsdChpLGUuZmlsZW5hbWV8fCJ1bmtub3duIiksaS5vcHRzPWkuaW5pdE9wdGlvbnMoZSksaS5wYXJzZXJPcHRzPXtzb3VyY2VUeXBlOmkub3B0cy5zb3VyY2VUeXBlLHNvdXJjZUZpbGVOYW1lOmkub3B0cy5maWxlbmFtZSxwbHVnaW5zOltdfSxpLnBsdWdpblZpc2l0b3JzPVtdLGkucGx1Z2luUGFzc2VzPVtdLGkuYnVpbGRQbHVnaW5zRm9yT3B0aW9ucyhpLm9wdHMpLGkub3B0cy5wYXNzUGVyUHJlc2V0JiYoaS5wZXJQcmVzZXRPcHRzPVtdLGkub3B0cy5wcmVzZXRzLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9KDAsYy5kZWZhdWx0KSgoMCx1LmRlZmF1bHQpKGkub3B0cyksZSk7aS5wZXJQcmVzZXRPcHRzLnB1c2godCksaS5idWlsZFBsdWdpbnNGb3JPcHRpb25zKHQpfSkpLGkubWV0YWRhdGE9e3VzZWRIZWxwZXJzOltdLG1hcmtlZDpbXSxtb2R1bGVzOntpbXBvcnRzOltdLGV4cG9ydHM6e2V4cG9ydGVkOltdLHNwZWNpZmllcnM6W119fX0saS5keW5hbWljSW1wb3J0VHlwZXM9e30saS5keW5hbWljSW1wb3J0SWRzPXt9LGkuZHluYW1pY0ltcG9ydHM9W10saS5kZWNsYXJhdGlvbnM9e30saS51c2VkSGVscGVycz17fSxpLnBhdGg9bnVsbCxpLmFzdD17fSxpLmNvZGU9IiIsaS5zaGViYW5nPSIiLGkuaHViPW5ldyB3Lkh1YihpKSxpfXJldHVybigwLHkuZGVmYXVsdCkobix0KSxuLnByb3RvdHlwZS5nZXRNZXRhZGF0YT1mdW5jdGlvbigpe2Zvcih2YXIgZT0hMSx0PXRoaXMuYXN0LnByb2dyYW0uYm9keSxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLGEuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aTtpZihILmlzTW9kdWxlRGVjbGFyYXRpb24ocykpe2U9ITA7YnJlYWt9fWUmJnRoaXMucGF0aC50cmF2ZXJzZShFLHRoaXMpfSxuLnByb3RvdHlwZS5pbml0T3B0aW9ucz1mdW5jdGlvbihlKXtlPW5ldyBfLmRlZmF1bHQodGhpcy5sb2csdGhpcy5waXBlbGluZSkuaW5pdChlKSxlLmlucHV0U291cmNlTWFwJiYoZS5zb3VyY2VNYXBzPSEwKSxlLm1vZHVsZUlkJiYoZS5tb2R1bGVJZHM9ITApLGUuYmFzZW5hbWU9cS5kZWZhdWx0LmJhc2VuYW1lKGUuZmlsZW5hbWUscS5kZWZhdWx0LmV4dG5hbWUoZS5maWxlbmFtZSkpLGUuaWdub3JlPVcuYXJyYXlpZnkoZS5pZ25vcmUsVy5yZWdleGlmeSksZS5vbmx5JiYoZS5vbmx5PVcuYXJyYXlpZnkoZS5vbmx5LFcucmVnZXhpZnkpKSwoMCxNLmRlZmF1bHQpKGUse21vZHVsZVJvb3Q6ZS5zb3VyY2VSb290fSksKDAsTS5kZWZhdWx0KShlLHtzb3VyY2VSb290OmUubW9kdWxlUm9vdH0pLCgwLE0uZGVmYXVsdCkoZSx7ZmlsZW5hbWVSZWxhdGl2ZTplLmZpbGVuYW1lfSk7dmFyIHQ9cS5kZWZhdWx0LmJhc2VuYW1lKGUuZmlsZW5hbWVSZWxhdGl2ZSk7cmV0dXJuKDAsTS5kZWZhdWx0KShlLHtzb3VyY2VGaWxlTmFtZTp0LHNvdXJjZU1hcFRhcmdldDp0fSksZX0sbi5wcm90b3R5cGUuYnVpbGRQbHVnaW5zRm9yT3B0aW9ucz1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUucGx1Z2lucykpe2Zvcih2YXIgdD1lLnBsdWdpbnMuY29uY2F0KHRlKSxyPVtdLG49W10saT10LHM9QXJyYXkuaXNBcnJheShpKSxvPTAsaT1zP2k6KDAsYS5kZWZhdWx0KShpKTs7KXt2YXIgdTtpZihzKXtpZihvPj1pLmxlbmd0aClicmVhazt1PWlbbysrXX1lbHNle2lmKG89aS5uZXh0KCksby5kb25lKWJyZWFrO3U9by52YWx1ZX12YXIgbD11LGM9bFswXSxmPWxbMV07ci5wdXNoKGMudmlzaXRvciksbi5wdXNoKG5ldyBDLmRlZmF1bHQodGhpcyxjLGYpKSxjLm1hbmlwdWxhdGVPcHRpb25zJiZjLm1hbmlwdWxhdGVPcHRpb25zKGUsdGhpcy5wYXJzZXJPcHRzLHRoaXMpfXRoaXMucGx1Z2luVmlzaXRvcnMucHVzaChyKSx0aGlzLnBsdWdpblBhc3Nlcy5wdXNoKG4pfX0sbi5wcm90b3R5cGUuZ2V0TW9kdWxlTmFtZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMub3B0cztpZighZS5tb2R1bGVJZHMpcmV0dXJuIG51bGw7aWYobnVsbCE9ZS5tb2R1bGVJZCYmIWUuZ2V0TW9kdWxlSWQpcmV0dXJuIGUubW9kdWxlSWQ7dmFyIHQ9ZS5maWxlbmFtZVJlbGF0aXZlLHI9IiI7aWYobnVsbCE9ZS5tb2R1bGVSb290JiYocj1lLm1vZHVsZVJvb3QrIi8iKSwhZS5maWxlbmFtZVJlbGF0aXZlKXJldHVybiByK2UuZmlsZW5hbWUucmVwbGFjZSgvXlwvLywiIik7aWYobnVsbCE9ZS5zb3VyY2VSb290KXt2YXIgbj1uZXcgUmVnRXhwKCJeIitlLnNvdXJjZVJvb3QrIi8/Iik7dD10LnJlcGxhY2UobiwiIil9cmV0dXJuIHQ9dC5yZXBsYWNlKC9cLihcdyo/KSQvLCIiKSxyKz10LHI9ci5yZXBsYWNlKC9cXC9nLCIvIiksZS5nZXRNb2R1bGVJZD9lLmdldE1vZHVsZUlkKHIpfHxyOnJ9LG4ucHJvdG90eXBlLnJlc29sdmVNb2R1bGVTb3VyY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRzLnJlc29sdmVNb2R1bGVTb3VyY2U7cmV0dXJuIHQmJihlPXQoZSx0aGlzLm9wdHMuZmlsZW5hbWUpKSxlfSxuLnByb3RvdHlwZS5hZGRJbXBvcnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06dCxuPWUrIjoiK3QsaT10aGlzLmR5bmFtaWNJbXBvcnRJZHNbbl07aWYoIWkpe2U9dGhpcy5yZXNvbHZlTW9kdWxlU291cmNlKGUpLGk9dGhpcy5keW5hbWljSW1wb3J0SWRzW25dPXRoaXMuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKHIpO3ZhciBzPVtdOyIqIj09PXQ/cy5wdXNoKEguaW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKGkpKToiZGVmYXVsdCI9PT10P3MucHVzaChILmltcG9ydERlZmF1bHRTcGVjaWZpZXIoaSkpOnMucHVzaChILmltcG9ydFNwZWNpZmllcihpLEguaWRlbnRpZmllcih0KSkpO3ZhciBhPUguaW1wb3J0RGVjbGFyYXRpb24ocyxILnN0cmluZ0xpdGVyYWwoZSkpO2EuX2Jsb2NrSG9pc3Q9Myx0aGlzLnBhdGgudW5zaGlmdENvbnRhaW5lcigiYm9keSIsYSl9cmV0dXJuIGl9LG4ucHJvdG90eXBlLmFkZEhlbHBlcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmRlY2xhcmF0aW9uc1tlXTtpZih0KXJldHVybiB0O3RoaXMudXNlZEhlbHBlcnNbZV18fCh0aGlzLm1ldGFkYXRhLnVzZWRIZWxwZXJzLnB1c2goZSksdGhpcy51c2VkSGVscGVyc1tlXT0hMCk7dmFyIHI9dGhpcy5nZXQoImhlbHBlckdlbmVyYXRvciIpLG49dGhpcy5nZXQoImhlbHBlcnNOYW1lc3BhY2UiKTtpZihyKXt2YXIgaT1yKGUpO2lmKGkpcmV0dXJuIGl9ZWxzZSBpZihuKXJldHVybiBILm1lbWJlckV4cHJlc3Npb24obixILmlkZW50aWZpZXIoZSkpO3ZhciBzPSgwLGcuZGVmYXVsdCkoZSksYT10aGlzLmRlY2xhcmF0aW9uc1tlXT10aGlzLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcihlKTtyZXR1cm4gSC5pc0Z1bmN0aW9uRXhwcmVzc2lvbihzKSYmIXMuaWQ/KHMuYm9keS5fY29tcGFjdD0hMCxzLl9nZW5lcmF0ZWQ9ITAscy5pZD1hLHMudHlwZT0iRnVuY3Rpb25EZWNsYXJhdGlvbiIsdGhpcy5wYXRoLnVuc2hpZnRDb250YWluZXIoImJvZHkiLHMpKToocy5fY29tcGFjdD0hMCx0aGlzLnNjb3BlLnB1c2goe2lkOmEsaW5pdDpzLHVuaXF1ZTohMH0pKSxhfSxuLnByb3RvdHlwZS5hZGRUZW1wbGF0ZU9iamVjdD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5lbGVtZW50cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudmFsdWV9KSxpPWUrIl8iK3IuZWxlbWVudHMubGVuZ3RoKyJfIituLmpvaW4oIiwiKSxzPXRoaXMuZGVjbGFyYXRpb25zW2ldO2lmKHMpcmV0dXJuIHM7dmFyIGE9dGhpcy5kZWNsYXJhdGlvbnNbaV09dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInRlbXBsYXRlT2JqZWN0Iiksbz10aGlzLmFkZEhlbHBlcihlKSx1PUguY2FsbEV4cHJlc3Npb24obyxbdCxyXSk7cmV0dXJuIHUuX2NvbXBhY3Q9ITAsdGhpcy5zY29wZS5wdXNoKHtpZDphLGluaXQ6dSxfYmxvY2tIb2lzdDoxLjl9KSxhfSxuLnByb3RvdHlwZS5idWlsZENvZGVGcmFtZUVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOlN5bnRheEVycm9yLG49ZSYmKGUubG9jfHxlLl9sb2MpLGk9bmV3IHIodCk7cmV0dXJuIG4/aS5sb2M9bi5zdGFydDooKDAsUC5kZWZhdWx0KShlLHJlLHRoaXMuc2NvcGUsaSksaS5tZXNzYWdlKz0iIChUaGlzIGlzIGFuIGVycm9yIG9uIGFuIGludGVybmFsIG5vZGUuIFByb2JhYmx5IGFuIGludGVybmFsIGVycm9yIixpLmxvYyYmKGkubWVzc2FnZSs9Ii4gTG9jYXRpb24gaGFzIGJlZW4gZXN0aW1hdGVkLiIpLGkubWVzc2FnZSs9IikiKSxpfSxuLnByb3RvdHlwZS5tZXJnZVNvdXJjZU1hcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm9wdHMuaW5wdXRTb3VyY2VNYXA7aWYodCl7dmFyIHI9bmV3IEYuZGVmYXVsdC5Tb3VyY2VNYXBDb25zdW1lcih0KSxuPW5ldyBGLmRlZmF1bHQuU291cmNlTWFwQ29uc3VtZXIoZSksaT1uZXcgRi5kZWZhdWx0LlNvdXJjZU1hcEdlbmVyYXRvcih7ZmlsZTpyLmZpbGUsc291cmNlUm9vdDpyLnNvdXJjZVJvb3R9KSxzPW4uc291cmNlc1swXTtyLmVhY2hNYXBwaW5nKGZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2VuZXJhdGVkUG9zaXRpb25Gb3Ioe2xpbmU6ZS5nZW5lcmF0ZWRMaW5lLGNvbHVtbjplLmdlbmVyYXRlZENvbHVtbixzb3VyY2U6c30pO251bGwhPXQuY29sdW1uJiZpLmFkZE1hcHBpbmcoe3NvdXJjZTplLnNvdXJjZSxvcmlnaW5hbDpudWxsPT1lLnNvdXJjZT9udWxsOntsaW5lOmUub3JpZ2luYWxMaW5lLGNvbHVtbjplLm9yaWdpbmFsQ29sdW1ufSxnZW5lcmF0ZWQ6dH0pfSk7dmFyIGE9aS50b0pTT04oKTtyZXR1cm4gdC5tYXBwaW5ncz1hLm1hcHBpbmdzLHR9cmV0dXJuIGV9LG4ucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKHQpe3ZhciBuPVYucGFyc2UsaT10aGlzLm9wdHMucGFyc2VyT3B0cztpZihpJiYoaT0oMCxjLmRlZmF1bHQpKHt9LHRoaXMucGFyc2VyT3B0cyxpKSxpLnBhcnNlcikpe2lmKCJzdHJpbmciPT10eXBlb2YgaS5wYXJzZXIpe3ZhciBzPXEuZGVmYXVsdC5kaXJuYW1lKHRoaXMub3B0cy5maWxlbmFtZSl8fGUuY3dkKCksYT0oMCxYLmRlZmF1bHQpKGkucGFyc2VyLHMpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiQ291bGRuJ3QgZmluZCBwYXJzZXIgIitpLnBhcnNlcisnIHdpdGggInBhcnNlIiBtZXRob2QgcmVsYXRpdmUgdG8gZGlyZWN0b3J5ICcrcyk7bj1yKDE3OCkoYSkucGFyc2V9ZWxzZSBuPWkucGFyc2VyO2kucGFyc2VyPXtwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4oMCxWLnBhcnNlKShlLGkpfX19dGhpcy5sb2cuZGVidWcoIlBhcnNlIHN0YXJ0Iik7dmFyIG89bih0LGl8fHRoaXMucGFyc2VyT3B0cyk7cmV0dXJuIHRoaXMubG9nLmRlYnVnKCJQYXJzZSBzdG9wIiksb30sbi5wcm90b3R5cGUuX2FkZEFzdD1mdW5jdGlvbihlKXt0aGlzLnBhdGg9dy5Ob2RlUGF0aC5nZXQoe2h1Yjp0aGlzLmh1YixwYXJlbnRQYXRoOm51bGwscGFyZW50OmUsY29udGFpbmVyOmUsa2V5OiJwcm9ncmFtIn0pLnNldENvbnRleHQoKSx0aGlzLnNjb3BlPXRoaXMucGF0aC5zY29wZSx0aGlzLmFzdD1lLHRoaXMuZ2V0TWV0YWRhdGEoKX0sbi5wcm90b3R5cGUuYWRkQXN0PWZ1bmN0aW9uKGUpe3RoaXMubG9nLmRlYnVnKCJTdGFydCBzZXQgQVNUIiksdGhpcy5fYWRkQXN0KGUpLHRoaXMubG9nLmRlYnVnKCJFbmQgc2V0IEFTVCIpfSxuLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMucGx1Z2luUGFzc2VzLmxlbmd0aDtlKyspe3ZhciB0PXRoaXMucGx1Z2luUGFzc2VzW2VdO3RoaXMuY2FsbCgicHJlIix0KSx0aGlzLmxvZy5kZWJ1ZygiU3RhcnQgdHJhbnNmb3JtIHRyYXZlcnNlIik7dmFyIHI9UC5kZWZhdWx0LnZpc2l0b3JzLm1lcmdlKHRoaXMucGx1Z2luVmlzaXRvcnNbZV0sdCx0aGlzLm9wdHMud3JhcFBsdWdpblZpc2l0b3JNZXRob2QpOygwLFAuZGVmYXVsdCkodGhpcy5hc3Qscix0aGlzLnNjb3BlKSx0aGlzLmxvZy5kZWJ1ZygiRW5kIHRyYW5zZm9ybSB0cmF2ZXJzZSIpLHRoaXMuY2FsbCgicG9zdCIsdCl9cmV0dXJuIHRoaXMuZ2VuZXJhdGUoKX0sbi5wcm90b3R5cGUud3JhcD1mdW5jdGlvbih0LHIpe3QrPSIiO3RyeXtyZXR1cm4gdGhpcy5zaG91bGRJZ25vcmUoKT90aGlzLm1ha2VSZXN1bHQoe2NvZGU6dCxpZ25vcmVkOiEwfSk6cigpfWNhdGNoKHIpe2lmKHIuX2JhYmVsKXRocm93IHI7ci5fYmFiZWw9ITA7dmFyIG49ci5tZXNzYWdlPXRoaXMub3B0cy5maWxlbmFtZSsiOiAiK3IubWVzc2FnZSxpPXIubG9jO2lmKGkmJihyLmNvZGVGcmFtZT0oMCxSLmRlZmF1bHQpKHQsaS5saW5lLGkuY29sdW1uKzEsdGhpcy5vcHRzKSxuKz0iXG4iK3IuY29kZUZyYW1lKSxlLmJyb3dzZXImJihyLm1lc3NhZ2U9biksci5zdGFjayl7dmFyIHM9ci5zdGFjay5yZXBsYWNlKHIubWVzc2FnZSxuKTtyLnN0YWNrPXN9dGhyb3cgcn19LG4ucHJvdG90eXBlLmFkZENvZGU9ZnVuY3Rpb24oZSl7ZT0oZXx8IiIpKyIiLGU9dGhpcy5wYXJzZUlucHV0U291cmNlTWFwKGUpLHRoaXMuY29kZT1lfSxuLnByb3RvdHlwZS5wYXJzZUNvZGU9ZnVuY3Rpb24oKXt0aGlzLnBhcnNlU2hlYmFuZygpO3ZhciBlPXRoaXMucGFyc2UodGhpcy5jb2RlKTt0aGlzLmFkZEFzdChlKX0sbi5wcm90b3R5cGUuc2hvdWxkSWdub3JlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRzO3JldHVybiBXLnNob3VsZElnbm9yZShlLmZpbGVuYW1lLGUuaWdub3JlLGUub25seSl9LG4ucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dCxuPUFycmF5LmlzQXJyYXkociksaT0wLHI9bj9yOigwLGEuZGVmYXVsdCkocik7Oyl7dmFyIHM7aWYobil7aWYoaT49ci5sZW5ndGgpYnJlYWs7cz1yW2krK119ZWxzZXtpZihpPXIubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9dmFyIG89cyx1PW8ucGx1Z2luLGw9dVtlXTtsJiZsLmNhbGwobyx0aGlzKX19LG4ucHJvdG90eXBlLnBhcnNlSW5wdXRTb3VyY2VNYXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRzO2lmKCExIT09dC5pbnB1dFNvdXJjZU1hcCl7dmFyIHI9QS5kZWZhdWx0LmZyb21Tb3VyY2UoZSk7ciYmKHQuaW5wdXRTb3VyY2VNYXA9ci50b09iamVjdCgpLGU9QS5kZWZhdWx0LnJlbW92ZUNvbW1lbnRzKGUpKX1yZXR1cm4gZX0sbi5wcm90b3R5cGUucGFyc2VTaGViYW5nPWZ1bmN0aW9uKCl7dmFyIGU9ZWUuZXhlYyh0aGlzLmNvZGUpO2UmJih0aGlzLnNoZWJhbmc9ZVswXSx0aGlzLmNvZGU9dGhpcy5jb2RlLnJlcGxhY2UoZWUsIiIpKX0sbi5wcm90b3R5cGUubWFrZVJlc3VsdD1mdW5jdGlvbihlKXt2YXIgdD1lLmNvZGUscj1lLm1hcCxuPWUuYXN0LGk9ZS5pZ25vcmVkLHM9e21ldGFkYXRhOm51bGwsb3B0aW9uczp0aGlzLm9wdHMsaWdub3JlZDohIWksY29kZTpudWxsLGFzdDpudWxsLG1hcDpyfHxudWxsfTtyZXR1cm4gdGhpcy5vcHRzLmNvZGUmJihzLmNvZGU9dCksdGhpcy5vcHRzLmFzdCYmKHMuYXN0PW4pLHRoaXMub3B0cy5tZXRhZGF0YSYmKHMubWV0YWRhdGE9dGhpcy5tZXRhZGF0YSksc30sbi5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdHMsbj10aGlzLmFzdCxpPXthc3Q6bn07aWYoIXQuY29kZSlyZXR1cm4gdGhpcy5tYWtlUmVzdWx0KGkpO3ZhciBzPU8uZGVmYXVsdDtpZih0LmdlbmVyYXRvck9wdHMuZ2VuZXJhdG9yJiYic3RyaW5nIj09dHlwZW9mKHM9dC5nZW5lcmF0b3JPcHRzLmdlbmVyYXRvcikpe3ZhciBhPXEuZGVmYXVsdC5kaXJuYW1lKHRoaXMub3B0cy5maWxlbmFtZSl8fGUuY3dkKCksbz0oMCxYLmRlZmF1bHQpKHMsYSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJDb3VsZG4ndCBmaW5kIGdlbmVyYXRvciAiK3MrJyB3aXRoICJwcmludCIgbWV0aG9kIHJlbGF0aXZlIHRvIGRpcmVjdG9yeSAnK2EpO3M9cigxNzgpKG8pLnByaW50fXRoaXMubG9nLmRlYnVnKCJHZW5lcmF0aW9uIHN0YXJ0Iik7dmFyIHU9cyhuLHQuZ2VuZXJhdG9yT3B0cz8oMCxjLmRlZmF1bHQpKHQsdC5nZW5lcmF0b3JPcHRzKTp0LHRoaXMuY29kZSk7cmV0dXJuIGkuY29kZT11LmNvZGUsaS5tYXA9dS5tYXAsdGhpcy5sb2cuZGVidWcoIkdlbmVyYXRpb24gZW5kIiksdGhpcy5zaGViYW5nJiYoaS5jb2RlPXRoaXMuc2hlYmFuZysiXG4iK2kuY29kZSksaS5tYXAmJihpLm1hcD10aGlzLm1lcmdlU291cmNlTWFwKGkubWFwKSksImlubGluZSIhPT10LnNvdXJjZU1hcHMmJiJib3RoIiE9PXQuc291cmNlTWFwc3x8KGkuY29kZSs9IlxuIitBLmRlZmF1bHQuZnJvbU9iamVjdChpLm1hcCkudG9Db21tZW50KCkpLCJpbmxpbmUiPT09dC5zb3VyY2VNYXBzJiYoaS5tYXA9bnVsbCksdGhpcy5tYWtlUmVzdWx0KGkpfSxufShVLmRlZmF1bHQpO3QuZGVmYXVsdD1uZSx0LkZpbGU9bmV9KS5jYWxsKHQscig4KSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9eFtlXTtyZXR1cm4gbnVsbD09dD94W2VdPUUuZGVmYXVsdC5leGlzdHNTeW5jKGUpOnR9ZnVuY3Rpb24gYSgpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50c1sxXSxyPWUuZmlsZW5hbWUsbj1uZXcgUyh0KTtyZXR1cm4hMSE9PWUuYmFiZWxyYyYmbi5maW5kQ29uZmlncyhyKSxuLm1lcmdlQ29uZmlnKHtvcHRpb25zOmUsYWxpYXM6ImJhc2UiLGRpcm5hbWU6ciYmZy5kZWZhdWx0LmRpcm5hbWUocil9KSxuLmNvbmZpZ3N9dC5fX2VzTW9kdWxlPSEwO3ZhciBvPXIoODcpLHU9aShvKSxsPXIoMyksYz1pKGwpO3QuZGVmYXVsdD1hO3ZhciBmPXIoMTE4KSxwPWkoZiksZD1yKDQ3MCksaD1pKGQpLG09cig2MDQpLHk9aShtKSx2PXIoMTkpLGc9aSh2KSxiPXIoMTE1KSxFPWkoYikseD17fSxBPXt9LFM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLGMuZGVmYXVsdCkodGhpcyxlKSx0aGlzLnJlc29sdmVkQ29uZmlncz1bXSx0aGlzLmNvbmZpZ3M9W10sdGhpcy5sb2c9dH1yZXR1cm4gZS5wcm90b3R5cGUuZmluZENvbmZpZ3M9ZnVuY3Rpb24oZSl7aWYoZSl7KDAseS5kZWZhdWx0KShlKXx8KGU9Zy5kZWZhdWx0LmpvaW4obi5jd2QoKSxlKSk7Zm9yKHZhciB0PSExLHI9ITE7ZSE9PShlPWcuZGVmYXVsdC5kaXJuYW1lKGUpKTspe2lmKCF0KXt2YXIgaT1nLmRlZmF1bHQuam9pbihlLCIuYmFiZWxyYyIpO3MoaSkmJih0aGlzLmFkZENvbmZpZyhpKSx0PSEwKTt2YXIgYT1nLmRlZmF1bHQuam9pbihlLCJwYWNrYWdlLmpzb24iKTshdCYmcyhhKSYmKHQ9dGhpcy5hZGRDb25maWcoYSwiYmFiZWwiLEpTT04pKX1pZighcil7dmFyIG89Zy5kZWZhdWx0LmpvaW4oZSwiLmJhYmVsaWdub3JlIik7cyhvKSYmKHRoaXMuYWRkSWdub3JlQ29uZmlnKG8pLHI9ITApfWlmKHImJnQpcmV0dXJufX19LGUucHJvdG90eXBlLmFkZElnbm9yZUNvbmZpZz1mdW5jdGlvbihlKXt2YXIgdD1FLmRlZmF1bHQucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSxyPXQuc3BsaXQoIlxuIik7cj1yLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8jKC4qPykkLywiIikudHJpbSgpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhZX0pLHIubGVuZ3RoJiZ0aGlzLm1lcmdlQ29uZmlnKHtvcHRpb25zOntpZ25vcmU6cn0sYWxpYXM6ZSxkaXJuYW1lOmcuZGVmYXVsdC5kaXJuYW1lKGUpfSl9LGUucHJvdG90eXBlLmFkZENvbmZpZz1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpoLmRlZmF1bHQ7aWYodGhpcy5yZXNvbHZlZENvbmZpZ3MuaW5kZXhPZihlKT49MClyZXR1cm4hMQo7dGhpcy5yZXNvbHZlZENvbmZpZ3MucHVzaChlKTt2YXIgbj1FLmRlZmF1bHQucmVhZEZpbGVTeW5jKGUsInV0ZjgiKSxpPXZvaWQgMDt0cnl7aT1BW25dPUFbbl18fHIucGFyc2UobiksdCYmKGk9aVt0XSl9Y2F0Y2godCl7dGhyb3cgdC5tZXNzYWdlPWUrIjogRXJyb3Igd2hpbGUgcGFyc2luZyBKU09OIC0gIit0Lm1lc3NhZ2UsdH1yZXR1cm4gdGhpcy5tZXJnZUNvbmZpZyh7b3B0aW9uczppLGFsaWFzOmUsZGlybmFtZTpnLmRlZmF1bHQuZGlybmFtZShlKX0pLCEhaX0sZS5wcm90b3R5cGUubWVyZ2VDb25maWc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5vcHRpb25zLHI9ZS5hbGlhcyxpPWUubG9jLHM9ZS5kaXJuYW1lO2lmKCF0KXJldHVybiExO2lmKHQ9KDAsdS5kZWZhdWx0KSh7fSx0KSxzPXN8fG4uY3dkKCksaT1pfHxyLHQuZXh0ZW5kcyl7dmFyIGE9KDAscC5kZWZhdWx0KSh0LmV4dGVuZHMscyk7YT90aGlzLmFkZENvbmZpZyhhKTp0aGlzLmxvZyYmdGhpcy5sb2cuZXJyb3IoIkNvdWxkbid0IHJlc29sdmUgZXh0ZW5kcyBjbGF1c2Ugb2YgIit0LmV4dGVuZHMrIiBpbiAiK3IpLGRlbGV0ZSB0LmV4dGVuZHN9dGhpcy5jb25maWdzLnB1c2goe29wdGlvbnM6dCxhbGlhczpyLGxvYzppLGRpcm5hbWU6c30pO3ZhciBvPXZvaWQgMCxsPW4uZW52LkJBQkVMX0VOVnx8InByb2R1Y3Rpb24ifHwiZGV2ZWxvcG1lbnQiO3QuZW52JiYobz10LmVudltsXSxkZWxldGUgdC5lbnYpLHRoaXMubWVyZ2VDb25maWcoe29wdGlvbnM6byxhbGlhczpyKyIuZW52LiIrbCxkaXJuYW1lOnN9KX0sZX0oKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoOCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Zm9yKHZhciB0IGluIGUpe3ZhciByPWVbdF07aWYobnVsbCE9cil7dmFyIG49by5kZWZhdWx0W3RdO2lmKG4mJm4uYWxpYXMmJihuPW8uZGVmYXVsdFtuLmFsaWFzXSksbil7dmFyIGk9c1tuLnR5cGVdO2kmJihyPWkocikpLGVbdF09cn19fXJldHVybiBlfXQuX19lc01vZHVsZT0hMCx0LmNvbmZpZz12b2lkIDAsdC5ub3JtYWxpc2VPcHRpb25zPW47dmFyIGk9cig1Mykscz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGkpLGE9cigzMyksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGEpO3QuY29uZmlnPW8uZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiEhZX1mdW5jdGlvbiBpKGUpe3JldHVybiBsLmJvb2xlYW5pZnkoZSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbC5saXN0KGUpfXQuX19lc01vZHVsZT0hMCx0LmZpbGVuYW1lPXZvaWQgMCx0LmJvb2xlYW49bix0LmJvb2xlYW5TdHJpbmc9aSx0Lmxpc3Q9czt2YXIgYT1yKDI4NCksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGEpLHU9cigxMjIpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fSh1KTt0LmZpbGVuYW1lPW8uZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXthdXhpbGlhcnlDb21tZW50OnttZXNzYWdlOiJVc2UgYGF1eGlsaWFyeUNvbW1lbnRCZWZvcmVgIG9yIGBhdXhpbGlhcnlDb21tZW50QWZ0ZXJgIn0sYmxhY2tsaXN0OnttZXNzYWdlOiJQdXQgdGhlIHNwZWNpZmljIHRyYW5zZm9ybXMgeW91IHdhbnQgaW4gdGhlIGBwbHVnaW5zYCBvcHRpb24ifSxicmVha0NvbmZpZzp7bWVzc2FnZToiVGhpcyBpcyBub3QgYSBuZWNlc3Nhcnkgb3B0aW9uIGluIEJhYmVsIDYifSxleHBlcmltZW50YWw6e21lc3NhZ2U6IlB1dCB0aGUgc3BlY2lmaWMgdHJhbnNmb3JtcyB5b3Ugd2FudCBpbiB0aGUgYHBsdWdpbnNgIG9wdGlvbiJ9LGV4dGVybmFsSGVscGVyczp7bWVzc2FnZToiVXNlIHRoZSBgZXh0ZXJuYWwtaGVscGVyc2AgcGx1Z2luIGluc3RlYWQuIENoZWNrIG91dCBodHRwOi8vYmFiZWxqcy5pby9kb2NzL3BsdWdpbnMvZXh0ZXJuYWwtaGVscGVycy8ifSxleHRyYTp7bWVzc2FnZToiIn0sanN4UHJhZ21hOnttZXNzYWdlOiJ1c2UgdGhlIGBwcmFnbWFgIG9wdGlvbiBpbiB0aGUgYHJlYWN0LWpzeGAgcGx1Z2luIC4gQ2hlY2sgb3V0IGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvcGx1Z2lucy90cmFuc2Zvcm0tcmVhY3QtanN4LyJ9LGxvb3NlOnttZXNzYWdlOiJTcGVjaWZ5IHRoZSBgbG9vc2VgIG9wdGlvbiBmb3IgdGhlIHJlbGV2YW50IHBsdWdpbiB5b3UgYXJlIHVzaW5nIG9yIHVzZSBhIHByZXNldCB0aGF0IHNldHMgdGhlIG9wdGlvbi4ifSxtZXRhZGF0YVVzZWRIZWxwZXJzOnttZXNzYWdlOiJOb3QgcmVxdWlyZWQgYW55bW9yZSBhcyB0aGlzIGlzIGVuYWJsZWQgYnkgZGVmYXVsdCJ9LG1vZHVsZXM6e21lc3NhZ2U6IlVzZSB0aGUgY29ycmVzcG9uZGluZyBtb2R1bGUgdHJhbnNmb3JtIHBsdWdpbiBpbiB0aGUgYHBsdWdpbnNgIG9wdGlvbi4gQ2hlY2sgb3V0IGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvcGx1Z2lucy8jbW9kdWxlcyJ9LG5vblN0YW5kYXJkOnttZXNzYWdlOiJVc2UgdGhlIGByZWFjdC1qc3hgIGFuZCBgZmxvdy1zdHJpcC10eXBlc2AgcGx1Z2lucyB0byBzdXBwb3J0IEpTWCBhbmQgRmxvdy4gQWxzbyBjaGVjayBvdXQgdGhlIHJlYWN0IHByZXNldCBodHRwOi8vYmFiZWxqcy5pby9kb2NzL3BsdWdpbnMvcHJlc2V0LXJlYWN0LyJ9LG9wdGlvbmFsOnttZXNzYWdlOiJQdXQgdGhlIHNwZWNpZmljIHRyYW5zZm9ybXMgeW91IHdhbnQgaW4gdGhlIGBwbHVnaW5zYCBvcHRpb24ifSxzb3VyY2VNYXBOYW1lOnttZXNzYWdlOiJVc2UgdGhlIGBzb3VyY2VNYXBUYXJnZXRgIG9wdGlvbiJ9LHN0YWdlOnttZXNzYWdlOiJDaGVjayBvdXQgdGhlIGNvcnJlc3BvbmRpbmcgc3RhZ2UteCBwcmVzZXRzIGh0dHA6Ly9iYWJlbGpzLmlvL2RvY3MvcGx1Z2lucy8jcHJlc2V0cyJ9LHdoaXRlbGlzdDp7bWVzc2FnZToiUHV0IHRoZSBzcGVjaWZpYyB0cmFuc2Zvcm1zIHlvdSB3YW50IGluIHRoZSBgcGx1Z2luc2Agb3B0aW9uIn19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDMpLGk9cig0MjgpLHM9cig0MjcpLGE9cigyMSksbz1yKDE1MyksdT1yKDIzOCksbD17fSxjPXt9LGY9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGYscCl7dmFyIGQsaCxtLHksdj1wP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OnUoZSksZz1uKHIsZix0PzI6MSksYj0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB2KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKHModikpe2ZvcihkPW8oZS5sZW5ndGgpO2Q+YjtiKyspaWYoKHk9dD9nKGEoaD1lW2JdKVswXSxoWzFdKTpnKGVbYl0pKT09PWx8fHk9PT1jKXJldHVybiB5fWVsc2UgZm9yKG09di5jYWxsKGUpOyEoaD1tLm5leHQoKSkuZG9uZTspaWYoKHk9aShtLGcsaC52YWx1ZSx0KSk9PT1sfHx5PT09YylyZXR1cm4geX07Zi5CUkVBSz1sLGYuUkVUVVJOPWN9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0saT1yKDk1KSgibWV0YSIpLHM9cigxNiksYT1yKDI4KSxvPXIoMjMpLmYsdT0wLGw9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sYz0hcigyNykoZnVuY3Rpb24oKXtyZXR1cm4gbChPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGY9ZnVuY3Rpb24oZSl7byhlLGkse3ZhbHVlOntpOiJPIisgKyt1LHc6e319fSl9LHA9ZnVuY3Rpb24oZSx0KXtpZighcyhlKSlyZXR1cm4ic3ltYm9sIj09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6bihlKSk/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWEoZSxpKSl7aWYoIWwoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtmKGUpfXJldHVybiBlW2ldLml9LGQ9ZnVuY3Rpb24oZSx0KXtpZighYShlLGkpKXtpZighbChlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtmKGUpfXJldHVybiBlW2ldLnd9LGg9ZnVuY3Rpb24oZSl7cmV0dXJuIGMmJm0uTkVFRCYmbChlKSYmIWEoZSxpKSYmZihlKSxlfSxtPWUuZXhwb3J0cz17S0VZOmksTkVFRDohMSxmYXN0S2V5OnAsZ2V0V2VhazpkLG9uRnJlZXplOmh9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpfHxlLl90IT09dCl0aHJvdyBUeXBlRXJyb3IoIkluY29tcGF0aWJsZSByZWNlaXZlciwgIit0KyIgcmVxdWlyZWQhIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoNDQwKTtmb3IodmFyIG49cigxNSksaT1yKDI5KSxzPXIoNTYpLGE9cigxMykoInRvU3RyaW5nVGFnIiksbz0iQ1NTUnVsZUxpc3QsQ1NTU3R5bGVEZWNsYXJhdGlvbixDU1NWYWx1ZUxpc3QsQ2xpZW50UmVjdExpc3QsRE9NUmVjdExpc3QsRE9NU3RyaW5nTGlzdCxET01Ub2tlbkxpc3QsRGF0YVRyYW5zZmVySXRlbUxpc3QsRmlsZUxpc3QsSFRNTEFsbENvbGxlY3Rpb24sSFRNTENvbGxlY3Rpb24sSFRNTEZvcm1FbGVtZW50LEhUTUxTZWxlY3RFbGVtZW50LE1lZGlhTGlzdCxNaW1lVHlwZUFycmF5LE5hbWVkTm9kZU1hcCxOb2RlTGlzdCxQYWludFJlcXVlc3RMaXN0LFBsdWdpbixQbHVnaW5BcnJheSxTVkdMZW5ndGhMaXN0LFNWR051bWJlckxpc3QsU1ZHUGF0aFNlZ0xpc3QsU1ZHUG9pbnRMaXN0LFNWR1N0cmluZ0xpc3QsU1ZHVHJhbnNmb3JtTGlzdCxTb3VyY2VCdWZmZXJMaXN0LFN0eWxlU2hlZXRMaXN0LFRleHRUcmFja0N1ZUxpc3QsVGV4dFRyYWNrTGlzdCxUb3VjaExpc3QiLnNwbGl0KCIsIiksdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgbD1vW3VdLGM9bltsXSxmPWMmJmMucHJvdG90eXBlO2YmJiFmW2FdJiZpKGYsYSxsKSxzW2xdPXMuQXJyYXl9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciByPS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoLGk9QXJyYXkobik7KytyPG47KWlbcl09dChlW3JdLHIsZSk7cmV0dXJuIGl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9lOm51bGw9PWU/bzoib2JqZWN0Ij09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6aShlKSk/dShlKT9hKGVbMF0sZVsxXSk6cyhlKTpsKGUpfXZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxzPXIoNTAyKSxhPXIoNTAzKSxvPXIoMTEwKSx1PXIoNiksbD1yKDU5Mik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4ic3ltYm9sIj09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6aShlKSl8fGEoZSkmJnMoZSk9PW99dmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHM9cigzMCksYT1yKDI1KSxvPSJbb2JqZWN0IFN5bWJvbF0iO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxyKXtpZih0IGluIGUpcmV0dXJuIGVbdF07aWYoMz09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHI7dGhyb3cgbmV3IEVycm9yKCciJyt0KyciIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQuJyl9ZnVuY3Rpb24gbihlKXt2YXIgdD1lLm1hdGNoKHkpO3JldHVybiB0P3tzY2hlbWU6dFsxXSxhdXRoOnRbMl0saG9zdDp0WzNdLHBvcnQ6dFs0XSxwYXRoOnRbNV19Om51bGx9ZnVuY3Rpb24gaShlKXt2YXIgdD0iIjtyZXR1cm4gZS5zY2hlbWUmJih0Kz1lLnNjaGVtZSsiOiIpLHQrPSIvLyIsZS5hdXRoJiYodCs9ZS5hdXRoKyJAIiksZS5ob3N0JiYodCs9ZS5ob3N0KSxlLnBvcnQmJih0Kz0iOiIrZS5wb3J0KSxlLnBhdGgmJih0Kz1lLnBhdGgpLHR9ZnVuY3Rpb24gcyhlKXt2YXIgcj1lLHM9bihlKTtpZihzKXtpZighcy5wYXRoKXJldHVybiBlO3I9cy5wYXRofWZvcih2YXIgYSxvPXQuaXNBYnNvbHV0ZShyKSx1PXIuc3BsaXQoL1wvKy8pLGw9MCxjPXUubGVuZ3RoLTE7Yz49MDtjLS0pYT11W2NdLCIuIj09PWE/dS5zcGxpY2UoYywxKToiLi4iPT09YT9sKys6bD4wJiYoIiI9PT1hPyh1LnNwbGljZShjKzEsbCksbD0wKToodS5zcGxpY2UoYywyKSxsLS0pKTtyZXR1cm4gcj11LmpvaW4oIi8iKSwiIj09PXImJihyPW8/Ii8iOiIuIikscz8ocy5wYXRoPXIsaShzKSk6cn1mdW5jdGlvbiBhKGUsdCl7IiI9PT1lJiYoZT0iLiIpLCIiPT09dCYmKHQ9Ii4iKTt2YXIgcj1uKHQpLGE9bihlKTtpZihhJiYoZT1hLnBhdGh8fCIvIiksciYmIXIuc2NoZW1lKXJldHVybiBhJiYoci5zY2hlbWU9YS5zY2hlbWUpLGkocik7aWYocnx8dC5tYXRjaCh2KSlyZXR1cm4gdDtpZihhJiYhYS5ob3N0JiYhYS5wYXRoKXJldHVybiBhLmhvc3Q9dCxpKGEpO3ZhciBvPSIvIj09PXQuY2hhckF0KDApP3Q6cyhlLnJlcGxhY2UoL1wvKyQvLCIiKSsiLyIrdCk7cmV0dXJuIGE/KGEucGF0aD1vLGkoYSkpOm99ZnVuY3Rpb24gbyhlLHQpeyIiPT09ZSYmKGU9Ii4iKSxlPWUucmVwbGFjZSgvXC8kLywiIik7Zm9yKHZhciByPTA7MCE9PXQuaW5kZXhPZihlKyIvIik7KXt2YXIgbj1lLmxhc3RJbmRleE9mKCIvIik7aWYobjwwKXJldHVybiB0O2lmKGU9ZS5zbGljZSgwLG4pLGUubWF0Y2goL14oW15cL10rOlwvKT9cLyokLykpcmV0dXJuIHQ7KytyfXJldHVybiBBcnJheShyKzEpLmpvaW4oIi4uLyIpK3Quc3Vic3RyKGUubGVuZ3RoKzEpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZihlKT8iJCIrZTplfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGYoZSk/ZS5zbGljZSgxKTplfWZ1bmN0aW9uIGYoZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9ZS5sZW5ndGg7aWYodDw5KXJldHVybiExO2lmKDk1IT09ZS5jaGFyQ29kZUF0KHQtMSl8fDk1IT09ZS5jaGFyQ29kZUF0KHQtMil8fDExMSE9PWUuY2hhckNvZGVBdCh0LTMpfHwxMTYhPT1lLmNoYXJDb2RlQXQodC00KXx8MTExIT09ZS5jaGFyQ29kZUF0KHQtNSl8fDExNCE9PWUuY2hhckNvZGVBdCh0LTYpfHwxMTIhPT1lLmNoYXJDb2RlQXQodC03KXx8OTUhPT1lLmNoYXJDb2RlQXQodC04KXx8OTUhPT1lLmNoYXJDb2RlQXQodC05KSlyZXR1cm4hMTtmb3IodmFyIHI9dC0xMDtyPj0wO3ItLSlpZigzNiE9PWUuY2hhckNvZGVBdChyKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwKGUsdCxyKXt2YXIgbj1lLnNvdXJjZS10LnNvdXJjZTtyZXR1cm4gMCE9PW4/bjowIT09KG49ZS5vcmlnaW5hbExpbmUtdC5vcmlnaW5hbExpbmUpP246MCE9PShuPWUub3JpZ2luYWxDb2x1bW4tdC5vcmlnaW5hbENvbHVtbil8fHI/bjowIT09KG49ZS5nZW5lcmF0ZWRDb2x1bW4tdC5nZW5lcmF0ZWRDb2x1bW4pP246KG49ZS5nZW5lcmF0ZWRMaW5lLXQuZ2VuZXJhdGVkTGluZSwwIT09bj9uOmUubmFtZS10Lm5hbWUpfWZ1bmN0aW9uIGQoZSx0LHIpe3ZhciBuPWUuZ2VuZXJhdGVkTGluZS10LmdlbmVyYXRlZExpbmU7cmV0dXJuIDAhPT1uP246MCE9PShuPWUuZ2VuZXJhdGVkQ29sdW1uLXQuZ2VuZXJhdGVkQ29sdW1uKXx8cj9uOjAhPT0obj1lLnNvdXJjZS10LnNvdXJjZSk/bjowIT09KG49ZS5vcmlnaW5hbExpbmUtdC5vcmlnaW5hbExpbmUpP246KG49ZS5vcmlnaW5hbENvbHVtbi10Lm9yaWdpbmFsQ29sdW1uLDAhPT1uP246ZS5uYW1lLXQubmFtZSl9ZnVuY3Rpb24gaChlLHQpe3JldHVybiBlPT09dD8wOmU+dD8xOi0xfWZ1bmN0aW9uIG0oZSx0KXt2YXIgcj1lLmdlbmVyYXRlZExpbmUtdC5nZW5lcmF0ZWRMaW5lO3JldHVybiAwIT09cj9yOjAhPT0ocj1lLmdlbmVyYXRlZENvbHVtbi10LmdlbmVyYXRlZENvbHVtbik/cjowIT09KHI9aChlLnNvdXJjZSx0LnNvdXJjZSkpP3I6MCE9PShyPWUub3JpZ2luYWxMaW5lLXQub3JpZ2luYWxMaW5lKT9yOihyPWUub3JpZ2luYWxDb2x1bW4tdC5vcmlnaW5hbENvbHVtbiwwIT09cj9yOmgoZS5uYW1lLHQubmFtZSkpfXQuZ2V0QXJnPXI7dmFyIHk9L14oPzooW1x3K1wtLl0rKTopP1wvXC8oPzooXHcrOlx3KylAKT8oW1x3Ll0qKSg/OjooXGQrKSk/KFxTKikkLyx2PS9eZGF0YTouK1wsLiskLzt0LnVybFBhcnNlPW4sdC51cmxHZW5lcmF0ZT1pLHQubm9ybWFsaXplPXMsdC5qb2luPWEsdC5pc0Fic29sdXRlPWZ1bmN0aW9uKGUpe3JldHVybiIvIj09PWUuY2hhckF0KDApfHwhIWUubWF0Y2goeSl9LHQucmVsYXRpdmU9bzt2YXIgZz1mdW5jdGlvbigpe3JldHVybiEoIl9fcHJvdG9fXyJpbiBPYmplY3QuY3JlYXRlKG51bGwpKX0oKTt0LnRvU2V0U3RyaW5nPWc/dTpsLHQuZnJvbVNldFN0cmluZz1nP3U6Yyx0LmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zPXAsdC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZD1kLHQuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQ9bX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2lmKGU9PT10KXJldHVybiAwO2Zvcih2YXIgcj1lLmxlbmd0aCxuPXQubGVuZ3RoLGk9MCxzPU1hdGgubWluKHIsbik7aTxzOysraSlpZihlW2ldIT09dFtpXSl7cj1lW2ldLG49dFtpXTticmVha31yZXR1cm4gcjxuPy0xOm48cj8xOjB9ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5CdWZmZXImJiJmdW5jdGlvbiI9PXR5cGVvZiB0LkJ1ZmZlci5pc0J1ZmZlcj90LkJ1ZmZlci5pc0J1ZmZlcihlKTohKG51bGw9PWV8fCFlLl9pc0J1ZmZlcil9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIWkoZSkmJigiZnVuY3Rpb24iPT10eXBlb2YgdC5BcnJheUJ1ZmZlciYmKCJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOiEhZSYmKGUgaW5zdGFuY2VvZiBEYXRhVmlld3x8ISEoZS5idWZmZXImJmUuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSkpfWZ1bmN0aW9uIG8oZSl7aWYoeC5pc0Z1bmN0aW9uKGUpKXtpZihfKXJldHVybiBlLm5hbWU7dmFyIHQ9ZS50b1N0cmluZygpLHI9dC5tYXRjaChDKTtyZXR1cm4gciYmclsxXX19ZnVuY3Rpb24gdShlLHQpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9lLmxlbmd0aDx0P2U6ZS5zbGljZSgwLHQpOmV9ZnVuY3Rpb24gbChlKXtpZihffHwheC5pc0Z1bmN0aW9uKGUpKXJldHVybiB4Lmluc3BlY3QoZSk7dmFyIHQ9byhlKTtyZXR1cm4iW0Z1bmN0aW9uIisodD8iOiAiK3Q6IiIpKyJdIn1mdW5jdGlvbiBjKGUpe3JldHVybiB1KGwoZS5hY3R1YWwpLDEyOCkrIiAiK2Uub3BlcmF0b3IrIiAiK3UobChlLmV4cGVjdGVkKSwxMjgpfWZ1bmN0aW9uIGYoZSx0LHIsbixpKXt0aHJvdyBuZXcgRC5Bc3NlcnRpb25FcnJvcih7bWVzc2FnZTpyLGFjdHVhbDplLGV4cGVjdGVkOnQsb3BlcmF0b3I6bixzdGFja1N0YXJ0RnVuY3Rpb246aX0pfWZ1bmN0aW9uIHAoZSx0KXtlfHxmKGUsITAsdCwiPT0iLEQub2spfWZ1bmN0aW9uIGQoZSx0LHIsbyl7aWYoZT09PXQpcmV0dXJuITA7aWYoaShlKSYmaSh0KSlyZXR1cm4gMD09PW4oZSx0KTtpZih4LmlzRGF0ZShlKSYmeC5pc0RhdGUodCkpcmV0dXJuIGUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCk7aWYoeC5pc1JlZ0V4cChlKSYmeC5pc1JlZ0V4cCh0KSlyZXR1cm4gZS5zb3VyY2U9PT10LnNvdXJjZSYmZS5nbG9iYWw9PT10Lmdsb2JhbCYmZS5tdWx0aWxpbmU9PT10Lm11bHRpbGluZSYmZS5sYXN0SW5kZXg9PT10Lmxhc3RJbmRleCYmZS5pZ25vcmVDYXNlPT09dC5pZ25vcmVDYXNlO2lmKG51bGwhPT1lJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOkUoZSkpfHxudWxsIT09dCYmIm9iamVjdCI9PT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjpFKHQpKSl7aWYoYShlKSYmYSh0KSYmcyhlKT09PXModCkmJiEoZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8ZSBpbnN0YW5jZW9mIEZsb2F0NjRBcnJheSkpcmV0dXJuIDA9PT1uKG5ldyBVaW50OEFycmF5KGUuYnVmZmVyKSxuZXcgVWludDhBcnJheSh0LmJ1ZmZlcikpO2lmKGkoZSkhPT1pKHQpKXJldHVybiExO289b3x8e2FjdHVhbDpbXSxleHBlY3RlZDpbXX07dmFyIHU9by5hY3R1YWwuaW5kZXhPZihlKTtyZXR1cm4tMSE9PXUmJnU9PT1vLmV4cGVjdGVkLmluZGV4T2YodCl8fChvLmFjdHVhbC5wdXNoKGUpLG8uZXhwZWN0ZWQucHVzaCh0KSxtKGUsdCxyLG8pKX1yZXR1cm4gcj9lPT09dDplPT10fWZ1bmN0aW9uIGgoZSl7cmV0dXJuIltvYmplY3QgQXJndW1lbnRzXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBtKGUsdCxyLG4pe2lmKG51bGw9PT1lfHx2b2lkIDA9PT1lfHxudWxsPT09dHx8dm9pZCAwPT09dClyZXR1cm4hMTtpZih4LmlzUHJpbWl0aXZlKGUpfHx4LmlzUHJpbWl0aXZlKHQpKXJldHVybiBlPT09dDtpZihyJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCkpcmV0dXJuITE7dmFyIGk9aChlKSxzPWgodCk7aWYoaSYmIXN8fCFpJiZzKXJldHVybiExO2lmKGkpcmV0dXJuIGU9Uy5jYWxsKGUpLHQ9Uy5jYWxsKHQpLGQoZSx0LHIpO3ZhciBhLG8sdT13KGUpLGw9dyh0KTtpZih1Lmxlbmd0aCE9PWwubGVuZ3RoKXJldHVybiExO2Zvcih1LnNvcnQoKSxsLnNvcnQoKSxvPXUubGVuZ3RoLTE7bz49MDtvLS0paWYodVtvXSE9PWxbb10pcmV0dXJuITE7Zm9yKG89dS5sZW5ndGgtMTtvPj0wO28tLSlpZihhPXVbb10sIWQoZVthXSx0W2FdLHIsbikpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShlLHQscil7ZChlLHQsITApJiZmKGUsdCxyLCJub3REZWVwU3RyaWN0RXF1YWwiLHkpfWZ1bmN0aW9uIHYoZSx0KXtpZighZXx8IXQpcmV0dXJuITE7aWYoIltvYmplY3QgUmVnRXhwXSI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlyZXR1cm4gdC50ZXN0KGUpO3RyeXtpZihlIGluc3RhbmNlb2YgdClyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuIUVycm9yLmlzUHJvdG90eXBlT2YodCkmJiEwPT09dC5jYWxsKHt9LGUpfWZ1bmN0aW9uIGcoZSl7dmFyIHQ7dHJ5e2UoKX1jYXRjaChlKXt0PWV9cmV0dXJuIHR9ZnVuY3Rpb24gYihlLHQscixuKXt2YXIgaTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCciYmxvY2siIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpOyJzdHJpbmciPT10eXBlb2YgciYmKG49cixyPW51bGwpLGk9Zyh0KSxuPShyJiZyLm5hbWU/IiAoIityLm5hbWUrIikuIjoiLiIpKyhuPyIgIituOiIuIiksZSYmIWkmJmYoaSxyLCJNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvbiIrbik7dmFyIHM9InN0cmluZyI9PXR5cGVvZiBuLGE9IWUmJnguaXNFcnJvcihpKSxvPSFlJiZpJiYhcjtpZigoYSYmcyYmdihpLHIpfHxvKSYmZihpLHIsIkdvdCB1bndhbnRlZCBleGNlcHRpb24iK24pLGUmJmkmJnImJiF2KGkscil8fCFlJiZpKXRocm93IGl9dmFyIEU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LHg9cigxMTcpLEE9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxTPUFycmF5LnByb3RvdHlwZS5zbGljZSxfPWZ1bmN0aW9uKCl7cmV0dXJuImZvbyI9PT1mdW5jdGlvbigpe30ubmFtZX0oKSxEPWUuZXhwb3J0cz1wLEM9L1xzKmZ1bmN0aW9uXHMrKFteXChcc10qKVxzKi87RC5Bc3NlcnRpb25FcnJvcj1mdW5jdGlvbihlKXt0aGlzLm5hbWU9IkFzc2VydGlvbkVycm9yIix0aGlzLmFjdHVhbD1lLmFjdHVhbCx0aGlzLmV4cGVjdGVkPWUuZXhwZWN0ZWQsdGhpcy5vcGVyYXRvcj1lLm9wZXJhdG9yLGUubWVzc2FnZT8odGhpcy5tZXNzYWdlPWUubWVzc2FnZSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITEpOih0aGlzLm1lc3NhZ2U9Yyh0aGlzKSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITApO3ZhciB0PWUuc3RhY2tTdGFydEZ1bmN0aW9ufHxmO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdCk7ZWxzZXt2YXIgcj1uZXcgRXJyb3I7aWYoci5zdGFjayl7dmFyIG49ci5zdGFjayxpPW8odCkscz1uLmluZGV4T2YoIlxuIitpKTtpZihzPj0wKXt2YXIgYT1uLmluZGV4T2YoIlxuIixzKzEpO249bi5zdWJzdHJpbmcoYSsxKX10aGlzLnN0YWNrPW59fX0seC5pbmhlcml0cyhELkFzc2VydGlvbkVycm9yLEVycm9yKSxELmZhaWw9ZixELm9rPXAsRC5lcXVhbD1mdW5jdGlvbihlLHQscil7ZSE9dCYmZihlLHQsciwiPT0iLEQuZXF1YWwpfSxELm5vdEVxdWFsPWZ1bmN0aW9uKGUsdCxyKXtlPT10JiZmKGUsdCxyLCIhPSIsRC5ub3RFcXVhbCl9LEQuZGVlcEVxdWFsPWZ1bmN0aW9uKGUsdCxyKXtkKGUsdCwhMSl8fGYoZSx0LHIsImRlZXBFcXVhbCIsRC5kZWVwRXF1YWwpfSxELmRlZXBTdHJpY3RFcXVhbD1mdW5jdGlvbihlLHQscil7ZChlLHQsITApfHxmKGUsdCxyLCJkZWVwU3RyaWN0RXF1YWwiLEQuZGVlcFN0cmljdEVxdWFsKX0sRC5ub3REZWVwRXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2QoZSx0LCExKSYmZihlLHQsciwibm90RGVlcEVxdWFsIixELm5vdERlZXBFcXVhbCl9LEQubm90RGVlcFN0cmljdEVxdWFsPXksRC5zdHJpY3RFcXVhbD1mdW5jdGlvbihlLHQscil7ZSE9PXQmJmYoZSx0LHIsIj09PSIsRC5zdHJpY3RFcXVhbCl9LEQubm90U3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LHIpe2U9PT10JiZmKGUsdCxyLCIhPT0iLEQubm90U3RyaWN0RXF1YWwpfSxELnRocm93cz1mdW5jdGlvbihlLHQscil7YighMCxlLHQscil9LEQuZG9lc05vdFRocm93PWZ1bmN0aW9uKGUsdCxyKXtiKCExLGUsdCxyKX0sRC5pZkVycm9yPWZ1bmN0aW9uKGUpe2lmKGUpdGhyb3cgZX07dmFyIHc9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKUEuY2FsbChlLHIpJiZ0LnB1c2gocik7cmV0dXJuIHR9fSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIpLHM9bihpKSxhPXIoMyksbz1uKGEpLHU9cig0MiksbD1uKHUpLGM9cig0MSksZj1uKGMpLHA9cigzNCksZD1uKHApLGg9cigyMCksbT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpLHk9cigxMTkpLHY9bih5KSxnPXIoNyksYj1uKGcpLEU9cigxNzQpLHg9bihFKSxBPXIoMTA5KSxTPW4oQSksXz1bImVudGVyIiwiZXhpdCJdLEQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyLG4peygwLG8uZGVmYXVsdCkodGhpcyx0KTt2YXIgaT0oMCxsLmRlZmF1bHQpKHRoaXMsZS5jYWxsKHRoaXMpKTtyZXR1cm4gaS5pbml0aWFsaXplZD0hMSxpLnJhdz0oMCx4LmRlZmF1bHQpKHt9LHIpLGkua2V5PWkudGFrZSgibmFtZSIpfHxuLGkubWFuaXB1bGF0ZU9wdGlvbnM9aS50YWtlKCJtYW5pcHVsYXRlT3B0aW9ucyIpLGkucG9zdD1pLnRha2UoInBvc3QiKSxpLnByZT1pLnRha2UoInByZSIpLGkudmlzaXRvcj1pLm5vcm1hbGlzZVZpc2l0b3IoKDAsUy5kZWZhdWx0KShpLnRha2UoInZpc2l0b3IiKSl8fHt9KSxpfXJldHVybigwLGYuZGVmYXVsdCkodCxlKSx0LnByb3RvdHlwZS50YWtlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmF3W2VdO3JldHVybiBkZWxldGUgdGhpcy5yYXdbZV0sdH0sdC5wcm90b3R5cGUuY2hhaW49ZnVuY3Rpb24oZSx0KXtpZighZVt0XSlyZXR1cm4gdGhpc1t0XTtpZighdGhpc1t0XSlyZXR1cm4gZVt0XTt2YXIgcj1bZVt0XSx0aGlzW3RdXTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9dm9pZCAwLHQ9YXJndW1lbnRzLmxlbmd0aCxuPUFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09YXJndW1lbnRzW2ldO2Zvcih2YXIgYT1yLG89QXJyYXkuaXNBcnJheShhKSx1PTAsYT1vP2E6KDAscy5kZWZhdWx0KShhKTs7KXt2YXIgbDtpZihvKXtpZih1Pj1hLmxlbmd0aClicmVhaztsPWFbdSsrXX1lbHNle2lmKHU9YS5uZXh0KCksdS5kb25lKWJyZWFrO2w9dS52YWx1ZX12YXIgYz1sO2lmKGMpe3ZhciBmPWMuYXBwbHkodGhpcyxuKTtudWxsIT1mJiYoZT1mKX19cmV0dXJuIGV9fSx0LnByb3RvdHlwZS5tYXliZUluaGVyaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50YWtlKCJpbmhlcml0cyIpO3QmJih0PWQuZGVmYXVsdC5ub3JtYWxpc2VQbHVnaW4odCxlLCJpbmhlcml0cyIpLHRoaXMubWFuaXB1bGF0ZU9wdGlvbnM9dGhpcy5jaGFpbih0LCJtYW5pcHVsYXRlT3B0aW9ucyIpLHRoaXMucG9zdD10aGlzLmNoYWluKHQsInBvc3QiKSx0aGlzLnByZT10aGlzLmNoYWluKHQsInByZSIpLHRoaXMudmlzaXRvcj1iLmRlZmF1bHQudmlzaXRvcnMubWVyZ2UoW3QudmlzaXRvcix0aGlzLnZpc2l0b3JdKSl9LHQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5pbml0aWFsaXplZD0hMCx0aGlzLm1heWJlSW5oZXJpdChlKTtmb3IodmFyIHIgaW4gdGhpcy5yYXcpdGhyb3cgbmV3IEVycm9yKG0uZ2V0KCJwbHVnaW5JbnZhbGlkUHJvcGVydHkiLGUsdCxyKSl9fSx0LnByb3RvdHlwZS5ub3JtYWxpc2VWaXNpdG9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1fLHI9QXJyYXkuaXNBcnJheSh0KSxuPTAsdD1yP3Q6KDAscy5kZWZhdWx0KSh0KTs7KXt2YXIgaTtpZihyKXtpZihuPj10Lmxlbmd0aClicmVhaztpPXRbbisrXX1lbHNle2lmKG49dC5uZXh0KCksbi5kb25lKWJyZWFrO2k9bi52YWx1ZX1pZihlW2ldKXRocm93IG5ldyBFcnJvcigiUGx1Z2lucyBhcmVuJ3QgYWxsb3dlZCB0byBzcGVjaWZ5IGNhdGNoLWFsbCBlbnRlci9leGl0IGhhbmRsZXJzLiBQbGVhc2UgdGFyZ2V0IGluZGl2aWR1YWwgbm9kZXMuIil9cmV0dXJuIGIuZGVmYXVsdC5leHBsb2RlKGUpLGV9LHR9KHYuZGVmYXVsdCk7dC5kZWZhdWx0PUQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUubWVzc2FnZXM7cmV0dXJue3Zpc2l0b3I6e1Njb3BlOmZ1bmN0aW9uKGUpe3ZhciByPWUuc2NvcGU7Zm9yKHZhciBuIGluIHIuYmluZGluZ3Mpe3ZhciBzPXIuYmluZGluZ3Nbbl07aWYoImNvbnN0Ij09PXMua2luZHx8Im1vZHVsZSI9PT1zLmtpbmQpZm9yKHZhciBhPXMuY29uc3RhbnRWaW9sYXRpb25zLG89QXJyYXkuaXNBcnJheShhKSx1PTAsYT1vP2E6KDAsaS5kZWZhdWx0KShhKTs7KXt2YXIgbDtpZihvKXtpZih1Pj1hLmxlbmd0aClicmVhaztsPWFbdSsrXX1lbHNle2lmKHU9YS5uZXh0KCksdS5kb25lKWJyZWFrO2w9dS52YWx1ZX12YXIgYz1sO3Rocm93IGMuYnVpbGRDb2RlRnJhbWVFcnJvcih0LmdldCgicmVhZE9ubHkiLG4pKX19fX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImFzeW5jRnVuY3Rpb25zIil9fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVzO3JldHVybnt2aXNpdG9yOntBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbjpmdW5jdGlvbihlLHIpe2lmKHIub3B0cy5zcGVjKXt2YXIgbj1lLm5vZGU7aWYobi5zaGFkb3cpcmV0dXJuO24uc2hhZG93PXt0aGlzOiExfSxuLnR5cGU9IkZ1bmN0aW9uRXhwcmVzc2lvbiI7dmFyIGk9dC50aGlzRXhwcmVzc2lvbigpO2kuX2ZvcmNlU2hhZG93PWUsZS5lbnN1cmVCbG9jaygpLGUuZ2V0KCJib2R5IikudW5zaGlmdENvbnRhaW5lcigiYm9keSIsdC5leHByZXNzaW9uU3RhdGVtZW50KHQuY2FsbEV4cHJlc3Npb24oci5hZGRIZWxwZXIoIm5ld0Fycm93Q2hlY2siKSxbdC50aGlzRXhwcmVzc2lvbigpLGldKSkpLGUucmVwbGFjZVdpdGgodC5jYWxsRXhwcmVzc2lvbih0Lm1lbWJlckV4cHJlc3Npb24obix0LmlkZW50aWZpZXIoImJpbmQiKSksW3QudGhpc0V4cHJlc3Npb24oKV0pKX1lbHNlIGUuYXJyb3dGdW5jdGlvblRvU2hhZG93ZWQoKX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49dC5nZXQoZSkscz1uLGE9QXJyYXkuaXNBcnJheShzKSxvPTAscz1hP3M6KDAsaS5kZWZhdWx0KShzKTs7KXt2YXIgdTtpZihhKXtpZihvPj1zLmxlbmd0aClicmVhazt1PXNbbysrXX1lbHNle2lmKG89cy5uZXh0KCksby5kb25lKWJyZWFrO3U9by52YWx1ZX12YXIgbD11LGM9bC5ub2RlO2lmKGwuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCkpe3ZhciBmPXIudmFyaWFibGVEZWNsYXJhdGlvbigibGV0Iixbci52YXJpYWJsZURlY2xhcmF0b3IoYy5pZCxyLnRvRXhwcmVzc2lvbihjKSldKTtmLl9ibG9ja0hvaXN0PTIsYy5pZD1udWxsLGwucmVwbGFjZVdpdGgoZil9fX12YXIgcj1lLnR5cGVzO3JldHVybnt2aXNpdG9yOntCbG9ja1N0YXRlbWVudDpmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUsaT1lLnBhcmVudDtyLmlzRnVuY3Rpb24oaSx7Ym9keTpufSl8fHIuaXNFeHBvcnREZWNsYXJhdGlvbihpKXx8dCgiYm9keSIsZSl9LFN3aXRjaENhc2U6ZnVuY3Rpb24oZSl7dCgiY29uc2VxdWVudCIsZSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gYi5pc0xvb3AoZS5wYXJlbnQpfHxiLmlzQ2F0Y2hDbGF1c2UoZS5wYXJlbnQpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuISFiLmlzVmFyaWFibGVEZWNsYXJhdGlvbihlKSYmKCEhZVtiLkJMT0NLX1NDT1BFRF9TWU1CT0xdfHwoImxldCI9PT1lLmtpbmR8fCJjb25zdCI9PT1lLmtpbmQpKX1mdW5jdGlvbiBhKGUsdCxyLG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+NCYmdm9pZCAwIT09YXJndW1lbnRzWzRdJiZhcmd1bWVudHNbNF07aWYodHx8KHQ9ZS5ub2RlKSwhYi5pc0ZvcihyKSlmb3IodmFyIHM9MDtzPHQuZGVjbGFyYXRpb25zLmxlbmd0aDtzKyspe3ZhciBhPXQuZGVjbGFyYXRpb25zW3NdO2EuaW5pdD1hLmluaXR8fG4uYnVpbGRVbmRlZmluZWROb2RlKCl9aWYodFtiLkJMT0NLX1NDT1BFRF9TWU1CT0xdPSEwLHQua2luZD0idmFyIixpKXt2YXIgbz1uLmdldEZ1bmN0aW9uUGFyZW50KCksdT1lLmdldEJpbmRpbmdJZGVudGlmaWVycygpO2Zvcih2YXIgbCBpbiB1KXt2YXIgYz1uLmdldE93bkJpbmRpbmcobCk7YyYmKGMua2luZD0idmFyIiksbi5tb3ZlQmluZGluZ1RvKGwsbyl9fX1mdW5jdGlvbiBvKGUpe3JldHVybiBiLmlzVmFyaWFibGVEZWNsYXJhdGlvbihlLHtraW5kOiJ2YXIifSkmJiFzKGUpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGIuaXNCcmVha1N0YXRlbWVudChlKT8iYnJlYWsiOmIuaXNDb250aW51ZVN0YXRlbWVudChlKT8iY29udGludWUiOnZvaWQgMH10Ll9fZXNNb2R1bGU9ITA7dmFyIGw9cigxMCksYz1uKGwpLGY9cig5KSxwPW4oZiksZD1yKDMpLGg9bihkKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dmlzaXRvcjp7VmFyaWFibGVEZWNsYXJhdGlvbjpmdW5jdGlvbihlLHQpe3ZhciByPWUubm9kZSxuPWUucGFyZW50LGk9ZS5zY29wZTtpZihzKHIpJiYoYShlLG51bGwsbixpLCEwKSxyLl90ZHpUaGlzKSl7Zm9yKHZhciBvPVtyXSx1PTA7dTxyLmRlY2xhcmF0aW9ucy5sZW5ndGg7dSsrKXt2YXIgbD1yLmRlY2xhcmF0aW9uc1t1XTtpZihsLmluaXQpe3ZhciBjPWIuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGwuaWQsbC5pbml0KTtjLl9pZ25vcmVCbG9ja1Njb3BpbmdURFo9ITAsby5wdXNoKGIuZXhwcmVzc2lvblN0YXRlbWVudChjKSl9bC5pbml0PXQuYWRkSGVscGVyKCJ0ZW1wb3JhbFVuZGVmaW5lZCIpfXIuX2Jsb2NrSG9pc3Q9MixlLmlzQ29tcGxldGlvblJlY29yZCgpJiZvLnB1c2goYi5leHByZXNzaW9uU3RhdGVtZW50KGkuYnVpbGRVbmRlZmluZWROb2RlKCkpKSxlLnJlcGxhY2VXaXRoTXVsdGlwbGUobyl9fSxMb29wOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlLG49ZS5wYXJlbnQsaT1lLnNjb3BlO2IuZW5zdXJlQmxvY2socik7dmFyIHM9bmV3IEIoZSxlLmdldCgiYm9keSIpLG4saSx0KSxhPXMucnVuKCk7YSYmZS5yZXBsYWNlV2l0aChhKX0sQ2F0Y2hDbGF1c2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnBhcmVudCxuPWUuc2NvcGU7bmV3IEIobnVsbCxlLmdldCgiYm9keSIpLHIsbix0KS5ydW4oKX0sIkJsb2NrU3RhdGVtZW50fFN3aXRjaFN0YXRlbWVudHxQcm9ncmFtIjpmdW5jdGlvbihlLHQpe2lmKCFpKGUpKXtuZXcgQihudWxsLGUsZS5wYXJlbnQsZS5zY29wZSx0KS5ydW4oKX19fX19O3ZhciBtPXIoNykseT1uKG0pLHY9cigzMzApLGc9cigxKSxiPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZyksRT1yKDI4MCkseD1uKEUpLEE9cig1NzgpLFM9bihBKSxfPXIoNCksRD1uKF8pLEM9KDAsRC5kZWZhdWx0KSgnXG4gIGlmICh0eXBlb2YgUkVUVVJOID09PSAib2JqZWN0IikgcmV0dXJuIFJFVFVSTi52O1xuJyksdz15LmRlZmF1bHQudmlzaXRvcnMubWVyZ2UoW3tMb29wOntlbnRlcjpmdW5jdGlvbihlLHQpe3QubG9vcERlcHRoKyt9LGV4aXQ6ZnVuY3Rpb24oZSx0KXt0Lmxvb3BEZXB0aC0tfX0sRnVuY3Rpb246ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5sb29wRGVwdGg+MCYmZS50cmF2ZXJzZShQLHQpLGUuc2tpcCgpfX0sdi52aXNpdG9yXSksUD15LmRlZmF1bHQudmlzaXRvcnMubWVyZ2UoW3tSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlLHQpe3ZhciByPXQubGV0UmVmZXJlbmNlc1tlLm5vZGUubmFtZV07aWYocil7dmFyIG49ZS5zY29wZS5nZXRCaW5kaW5nSWRlbnRpZmllcihlLm5vZGUubmFtZSk7biYmbiE9PXJ8fCh0LmNsb3N1cmlmeT0hMCl9fX0sdi52aXNpdG9yXSksaz17ZW50ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGU7ZS5wYXJlbnQ7aWYoZS5pc0ZvclN0YXRlbWVudCgpKXtpZihvKHIuaW5pdCkpe3ZhciBuPXQucHVzaERlY2xhcihyLmluaXQpOzE9PT1uLmxlbmd0aD9yLmluaXQ9blswXTpyLmluaXQ9Yi5zZXF1ZW5jZUV4cHJlc3Npb24obil9fWVsc2UgaWYoZS5pc0ZvcigpKW8oci5sZWZ0KSYmKHQucHVzaERlY2xhcihyLmxlZnQpLHIubGVmdD1yLmxlZnQuZGVjbGFyYXRpb25zWzBdLmlkKTtlbHNlIGlmKG8ocikpZS5yZXBsYWNlV2l0aE11bHRpcGxlKHQucHVzaERlY2xhcihyKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGIuZXhwcmVzc2lvblN0YXRlbWVudChlKX0pKTtlbHNlIGlmKGUuaXNGdW5jdGlvbigpKXJldHVybiBlLnNraXAoKX19LEY9e0xhYmVsZWRTdGF0ZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGU7dC5pbm5lckxhYmVscy5wdXNoKHIubGFiZWwubmFtZSl9fSxUPXtlbnRlcjpmdW5jdGlvbihlLHQpe2lmKGUuaXNBc3NpZ25tZW50RXhwcmVzc2lvbigpfHxlLmlzVXBkYXRlRXhwcmVzc2lvbigpKXt2YXIgcj1lLmdldEJpbmRpbmdJZGVudGlmaWVycygpO2Zvcih2YXIgbiBpbiByKXQub3V0c2lkZVJlZmVyZW5jZXNbbl09PT1lLnNjb3BlLmdldEJpbmRpbmdJZGVudGlmaWVyKG4pJiYodC5yZWFzc2lnbm1lbnRzW25dPSEwKX19fSxPPXtMb29wOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5pZ25vcmVMYWJlbGVzczt0Lmlnbm9yZUxhYmVsZXNzPSEwLGUudHJhdmVyc2UoTyx0KSx0Lmlnbm9yZUxhYmVsZXNzPXIsZS5za2lwKCl9LEZ1bmN0aW9uOmZ1bmN0aW9uKGUpe2Uuc2tpcCgpfSxTd2l0Y2hDYXNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5pblN3aXRjaENhc2U7dC5pblN3aXRjaENhc2U9ITAsZS50cmF2ZXJzZShPLHQpLHQuaW5Td2l0Y2hDYXNlPXIsZS5za2lwKCl9LCJCcmVha1N0YXRlbWVudHxDb250aW51ZVN0YXRlbWVudHxSZXR1cm5TdGF0ZW1lbnQiOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlLG49ZS5wYXJlbnQsaT1lLnNjb3BlO2lmKCFyW3RoaXMuTE9PUF9JR05PUkVdKXt2YXIgcz12b2lkIDAsYT11KHIpO2lmKGEpe2lmKHIubGFiZWwpe2lmKHQuaW5uZXJMYWJlbHMuaW5kZXhPZihyLmxhYmVsLm5hbWUpPj0wKXJldHVybjthPWErInwiK3IubGFiZWwubmFtZX1lbHNle2lmKHQuaWdub3JlTGFiZWxlc3MpcmV0dXJuO2lmKHQuaW5Td2l0Y2hDYXNlKXJldHVybjtpZihiLmlzQnJlYWtTdGF0ZW1lbnQocikmJmIuaXNTd2l0Y2hDYXNlKG4pKXJldHVybn10Lmhhc0JyZWFrQ29udGludWU9ITAsdC5tYXBbYV09cixzPWIuc3RyaW5nTGl0ZXJhbChhKX1lLmlzUmV0dXJuU3RhdGVtZW50KCkmJih0Lmhhc1JldHVybj0hMCxzPWIub2JqZWN0RXhwcmVzc2lvbihbYi5vYmplY3RQcm9wZXJ0eShiLmlkZW50aWZpZXIoInYiKSxyLmFyZ3VtZW50fHxpLmJ1aWxkVW5kZWZpbmVkTm9kZSgpKV0pKSxzJiYocz1iLnJldHVyblN0YXRlbWVudChzKSxzW3RoaXMuTE9PUF9JR05PUkVdPSEwLGUuc2tpcCgpLGUucmVwbGFjZVdpdGgoYi5pbmhlcml0cyhzLHIpKSl9fX0sQj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4saSxzKXsoMCxoLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5wYXJlbnQ9bix0aGlzLnNjb3BlPWksdGhpcy5maWxlPXMsdGhpcy5ibG9ja1BhdGg9cix0aGlzLmJsb2NrPXIubm9kZSx0aGlzLm91dHNpZGVMZXRSZWZlcmVuY2VzPSgwLHAuZGVmYXVsdCkobnVsbCksdGhpcy5oYXNMZXRSZWZlcmVuY2VzPSExLHRoaXMubGV0UmVmZXJlbmNlcz0oMCxwLmRlZmF1bHQpKG51bGwpLHRoaXMuYm9keT1bXSx0JiYodGhpcy5sb29wUGFyZW50PXQucGFyZW50LHRoaXMubG9vcExhYmVsPWIuaXNMYWJlbGVkU3RhdGVtZW50KHRoaXMubG9vcFBhcmVudCkmJnRoaXMubG9vcFBhcmVudC5sYWJlbCx0aGlzLmxvb3BQYXRoPXQsdGhpcy5sb29wPXQubm9kZSl9cmV0dXJuIGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuYmxvY2s7aWYoIWUuX2xldERvbmUpe2UuX2xldERvbmU9ITA7dmFyIHQ9dGhpcy5nZXRMZXRSZWZlcmVuY2VzKCk7aWYoYi5pc0Z1bmN0aW9uKHRoaXMucGFyZW50KXx8Yi5pc1Byb2dyYW0odGhpcy5ibG9jaykpcmV0dXJuIHZvaWQgdGhpcy51cGRhdGVTY29wZUluZm8oKTtpZih0aGlzLmhhc0xldFJlZmVyZW5jZXMpcmV0dXJuIHQ/dGhpcy53cmFwQ2xvc3VyZSgpOnRoaXMucmVtYXAoKSx0aGlzLnVwZGF0ZVNjb3BlSW5mbyh0KSx0aGlzLmxvb3BMYWJlbCYmIWIuaXNMYWJlbGVkU3RhdGVtZW50KHRoaXMubG9vcFBhcmVudCk/Yi5sYWJlbGVkU3RhdGVtZW50KHRoaXMubG9vcExhYmVsLHRoaXMubG9vcCk6dm9pZCAwfX0sZS5wcm90b3R5cGUudXBkYXRlU2NvcGVJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2NvcGUscj10LmdldEZ1bmN0aW9uUGFyZW50KCksbj10aGlzLmxldFJlZmVyZW5jZXM7Zm9yKHZhciBpIGluIG4pe3ZhciBzPW5baV0sYT10LmdldEJpbmRpbmcocy5uYW1lKTthJiYoImxldCIhPT1hLmtpbmQmJiJjb25zdCIhPT1hLmtpbmR8fChhLmtpbmQ9InZhciIsZT90LnJlbW92ZUJpbmRpbmcocy5uYW1lKTp0Lm1vdmVCaW5kaW5nVG8ocy5uYW1lLHIpKSl9fSxlLnByb3RvdHlwZS5yZW1hcD1mdW5jdGlvbigpe3ZhciBlPXRoaXMubGV0UmVmZXJlbmNlcyx0PXRoaXMuc2NvcGU7Zm9yKHZhciByIGluIGUpe3ZhciBuPWVbcl07KHQucGFyZW50SGFzQmluZGluZyhyKXx8dC5oYXNHbG9iYWwocikpJiYodC5oYXNPd25CaW5kaW5nKHIpJiZ0LnJlbmFtZShuLm5hbWUpLHRoaXMuYmxvY2tQYXRoLnNjb3BlLmhhc093bkJpbmRpbmcocikmJnRoaXMuYmxvY2tQYXRoLnNjb3BlLnJlbmFtZShuLm5hbWUpKX19LGUucHJvdG90eXBlLndyYXBDbG9zdXJlPWZ1bmN0aW9uKCl7aWYodGhpcy5maWxlLm9wdHMudGhyb3dJZkNsb3N1cmVSZXF1aXJlZCl0aHJvdyB0aGlzLmJsb2NrUGF0aC5idWlsZENvZGVGcmFtZUVycm9yKCJDb21waWxpbmcgbGV0L2NvbnN0IGluIHRoaXMgYmxvY2sgd291bGQgYWRkIGEgY2xvc3VyZSAodGhyb3dJZkNsb3N1cmVSZXF1aXJlZCkuIik7dmFyIGU9dGhpcy5ibG9jayx0PXRoaXMub3V0c2lkZUxldFJlZmVyZW5jZXM7aWYodGhpcy5sb29wKWZvcih2YXIgciBpbiB0KXt2YXIgbj10W3JdOyh0aGlzLnNjb3BlLmhhc0dsb2JhbChuLm5hbWUpfHx0aGlzLnNjb3BlLnBhcmVudEhhc0JpbmRpbmcobi5uYW1lKSkmJihkZWxldGUgdFtuLm5hbWVdLGRlbGV0ZSB0aGlzLmxldFJlZmVyZW5jZXNbbi5uYW1lXSx0aGlzLnNjb3BlLnJlbmFtZShuLm5hbWUpLHRoaXMubGV0UmVmZXJlbmNlc1tuLm5hbWVdPW4sdFtuLm5hbWVdPW4pfXRoaXMuaGFzPXRoaXMuY2hlY2tMb29wKCksdGhpcy5ob2lzdFZhckRlY2xhcmF0aW9ucygpO3ZhciBpPSgwLHguZGVmYXVsdCkodCkscz0oMCx4LmRlZmF1bHQpKHQpLGE9dGhpcy5ibG9ja1BhdGguaXNTd2l0Y2hTdGF0ZW1lbnQoKSxvPWIuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsaSxiLmJsb2NrU3RhdGVtZW50KGE/W2VdOmUuYm9keSkpO28uc2hhZG93PSEwLHRoaXMuYWRkQ29udGludWF0aW9ucyhvKTt2YXIgdT1vO3RoaXMubG9vcCYmKHU9dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImxvb3AiKSx0aGlzLmxvb3BQYXRoLmluc2VydEJlZm9yZShiLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2IudmFyaWFibGVEZWNsYXJhdG9yKHUsbyldKSkpO3ZhciBsPWIuY2FsbEV4cHJlc3Npb24odSxzKSxjPXRoaXMuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJyZXQiKTt5LmRlZmF1bHQuaGFzVHlwZShvLmJvZHksdGhpcy5zY29wZSwiWWllbGRFeHByZXNzaW9uIixiLkZVTkNUSU9OX1RZUEVTKSYmKG8uZ2VuZXJhdG9yPSEwLGw9Yi55aWVsZEV4cHJlc3Npb24obCwhMCkpLHkuZGVmYXVsdC5oYXNUeXBlKG8uYm9keSx0aGlzLnNjb3BlLCJBd2FpdEV4cHJlc3Npb24iLGIuRlVOQ1RJT05fVFlQRVMpJiYoby5hc3luYz0hMCxsPWIuYXdhaXRFeHByZXNzaW9uKGwpKSx0aGlzLmJ1aWxkQ2xvc3VyZShjLGwpLGE/dGhpcy5ibG9ja1BhdGgucmVwbGFjZVdpdGhNdWx0aXBsZSh0aGlzLmJvZHkpOmUuYm9keT10aGlzLmJvZHl9LGUucHJvdG90eXBlLmJ1aWxkQ2xvc3VyZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuaGFzO3IuaGFzUmV0dXJufHxyLmhhc0JyZWFrQ29udGludWU/dGhpcy5idWlsZEhhcyhlLHQpOnRoaXMuYm9keS5wdXNoKGIuZXhwcmVzc2lvblN0YXRlbWVudCh0KSl9LGUucHJvdG90eXBlLmFkZENvbnRpbnVhdGlvbnM9ZnVuY3Rpb24oZSl7dmFyIHQ9e3JlYXNzaWdubWVudHM6e30sb3V0c2lkZVJlZmVyZW5jZXM6dGhpcy5vdXRzaWRlTGV0UmVmZXJlbmNlc307dGhpcy5zY29wZS50cmF2ZXJzZShlLFQsdCk7Zm9yKHZhciByPTA7cjxlLnBhcmFtcy5sZW5ndGg7cisrKXt2YXIgbj1lLnBhcmFtc1tyXTtpZih0LnJlYXNzaWdubWVudHNbbi5uYW1lXSl7dmFyIGk9dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIobi5uYW1lKTtlLnBhcmFtc1tyXT1pLHRoaXMuc2NvcGUucmVuYW1lKG4ubmFtZSxpLm5hbWUsZSksZS5ib2R5LmJvZHkucHVzaChiLmV4cHJlc3Npb25TdGF0ZW1lbnQoYi5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsbixpKSkpfX19LGUucHJvdG90eXBlLmdldExldFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5ibG9jayxyPVtdO2lmKHRoaXMubG9vcCl7dmFyIG49dGhpcy5sb29wLmxlZnR8fHRoaXMubG9vcC5pbml0O3MobikmJihyLnB1c2gobiksKDAsUy5kZWZhdWx0KSh0aGlzLm91dHNpZGVMZXRSZWZlcmVuY2VzLGIuZ2V0QmluZGluZ0lkZW50aWZpZXJzKG4pKSl9dmFyIGk9ZnVuY3Rpb24gbihpLG8pe289b3x8aS5ub2RlLChiLmlzQ2xhc3NEZWNsYXJhdGlvbihvKXx8Yi5pc0Z1bmN0aW9uRGVjbGFyYXRpb24obyl8fHMobykpJiYocyhvKSYmYShpLG8sdCxlLnNjb3BlKSxyPXIuY29uY2F0KG8uZGVjbGFyYXRpb25zfHxvKSksYi5pc0xhYmVsZWRTdGF0ZW1lbnQobykmJm4oaS5nZXQoImJvZHkiKSxvLmJvZHkpfTtpZih0LmJvZHkpZm9yKHZhciBvPTA7bzx0LmJvZHkubGVuZ3RoO28rKyl7dmFyIHU9dGhpcy5ibG9ja1BhdGguZ2V0KCJib2R5Iilbb107aSh1KX1pZih0LmNhc2VzKWZvcih2YXIgbD0wO2w8dC5jYXNlcy5sZW5ndGg7bCsrKWZvcih2YXIgYz10LmNhc2VzW2xdLmNvbnNlcXVlbnQsZj0wO2Y8Yy5sZW5ndGg7ZisrKXt2YXIgcD10aGlzLmJsb2NrUGF0aC5nZXQoImNhc2VzIilbbF0sZD1jW2ZdO2kocCxkKX1mb3IodmFyIGg9MDtoPHIubGVuZ3RoO2grKyl7dmFyIG09cltoXSx5PWIuZ2V0QmluZGluZ0lkZW50aWZpZXJzKG0sITEsITApOygwLFMuZGVmYXVsdCkodGhpcy5sZXRSZWZlcmVuY2VzLHkpLHRoaXMuaGFzTGV0UmVmZXJlbmNlcz0hMH1pZih0aGlzLmhhc0xldFJlZmVyZW5jZXMpe3ZhciB2PXtsZXRSZWZlcmVuY2VzOnRoaXMubGV0UmVmZXJlbmNlcyxjbG9zdXJpZnk6ITEsZmlsZTp0aGlzLmZpbGUsbG9vcERlcHRoOjB9LGc9dGhpcy5ibG9ja1BhdGguZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xvb3AoKXx8ZS5pc0Z1bmN0aW9uKCl9KTtyZXR1cm4gZyYmZy5pc0xvb3AoKSYmdi5sb29wRGVwdGgrKyx0aGlzLmJsb2NrUGF0aC50cmF2ZXJzZSh3LHYpLHYuY2xvc3VyaWZ5fX0sZS5wcm90b3R5cGUuY2hlY2tMb29wPWZ1bmN0aW9uKCl7dmFyIGU9e2hhc0JyZWFrQ29udGludWU6ITEsaWdub3JlTGFiZWxlc3M6ITEsaW5Td2l0Y2hDYXNlOiExLGlubmVyTGFiZWxzOltdLGhhc1JldHVybjohMSxpc0xvb3A6ISF0aGlzLmxvb3AsbWFwOnt9LExPT1BfSUdOT1JFOigwLGMuZGVmYXVsdCkoKX07cmV0dXJuIHRoaXMuYmxvY2tQYXRoLnRyYXZlcnNlKEYsZSksdGhpcy5ibG9ja1BhdGgudHJhdmVyc2UoTyxlKSxlfSxlLnByb3RvdHlwZS5ob2lzdFZhckRlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3RoaXMuYmxvY2tQYXRoLnRyYXZlcnNlKGssdGhpcyl9LGUucHJvdG90eXBlLnB1c2hEZWNsYXI9ZnVuY3Rpb24oZSl7dmFyIHQ9W10scj1iLmdldEJpbmRpbmdJZGVudGlmaWVycyhlKTtmb3IodmFyIG4gaW4gcil0LnB1c2goYi52YXJpYWJsZURlY2xhcmF0b3IocltuXSkpO3RoaXMuYm9keS5wdXNoKGIudmFyaWFibGVEZWNsYXJhdGlvbihlLmtpbmQsdCkpO2Zvcih2YXIgaT1bXSxzPTA7czxlLmRlY2xhcmF0aW9ucy5sZW5ndGg7cysrKXt2YXIgYT1lLmRlY2xhcmF0aW9uc1tzXTtpZihhLmluaXQpe3ZhciBvPWIuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGEuaWQsYS5pbml0KTtpLnB1c2goYi5pbmhlcml0cyhvLGEpKX19cmV0dXJuIGl9LGUucHJvdG90eXBlLmJ1aWxkSGFzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5ib2R5O3IucHVzaChiLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2IudmFyaWFibGVEZWNsYXJhdG9yKGUsdCldKSk7dmFyIG49dm9pZCAwLGk9dGhpcy5oYXMscz1bXTtpZihpLmhhc1JldHVybiYmKG49Qyh7UkVUVVJOOmV9KSksaS5oYXNCcmVha0NvbnRpbnVlKXtmb3IodmFyIGEgaW4gaS5tYXApcy5wdXNoKGIuc3dpdGNoQ2FzZShiLnN0cmluZ0xpdGVyYWwoYSksW2kubWFwW2FdXSkpO2lmKGkuaGFzUmV0dXJuJiZzLnB1c2goYi5zd2l0Y2hDYXNlKG51bGwsW25dKSksMT09PXMubGVuZ3RoKXt2YXIgbz1zWzBdO3IucHVzaChiLmlmU3RhdGVtZW50KGIuYmluYXJ5RXhwcmVzc2lvbigiPT09IixlLG8udGVzdCksby5jb25zZXF1ZW50WzBdKSl9ZWxzZXtpZih0aGlzLmxvb3ApZm9yKHZhciB1PTA7dTxzLmxlbmd0aDt1Kyspe3ZhciBsPXNbdV0uY29uc2VxdWVudFswXTtiLmlzQnJlYWtTdGF0ZW1lbnQobCkmJiFsLmxhYmVsJiYobC5sYWJlbD10aGlzLmxvb3BMYWJlbD10aGlzLmxvb3BMYWJlbHx8dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImxvb3AiKSl9ci5wdXNoKGIuc3dpdGNoU3RhdGVtZW50KGUscykpfX1lbHNlIGkuaGFzUmV0dXJuJiZyLnB1c2gobil9LGV9KCk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigxMCkscz1uKGkpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVzLHI9KDAscy5kZWZhdWx0KSgpO3JldHVybnt2aXNpdG9yOntFeHBvcnREZWZhdWx0RGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7aWYoZS5nZXQoImRlY2xhcmF0aW9uIikuaXNDbGFzc0RlY2xhcmF0aW9uKCkpe3ZhciByPWUubm9kZSxuPXIuZGVjbGFyYXRpb24uaWR8fGUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJjbGFzcyIpO3IuZGVjbGFyYXRpb24uaWQ9bixlLnJlcGxhY2VXaXRoKHIuZGVjbGFyYXRpb24pLGUuaW5zZXJ0QWZ0ZXIodC5leHBvcnREZWZhdWx0RGVjbGFyYXRpb24obikpfX0sQ2xhc3NEZWNsYXJhdGlvbjpmdW5jdGlvbihlKXt2YXIgcj1lLm5vZGUsbj1yLmlkfHxlLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiY2xhc3MiKTtlLnJlcGxhY2VXaXRoKHQudmFyaWFibGVEZWNsYXJhdGlvbigibGV0IixbdC52YXJpYWJsZURlY2xhcmF0b3Iobix0LnRvRXhwcmVzc2lvbihyKSldKSl9LENsYXNzRXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3ZhciBuPWUubm9kZTtpZighbltyXSl7dmFyIGk9KDAsZi5kZWZhdWx0KShlKTtpZihpJiZpIT09bilyZXR1cm4gZS5yZXBsYWNlV2l0aChpKTtuW3JdPSEwO3ZhciBzPWwuZGVmYXVsdDt0Lm9wdHMubG9vc2UmJihzPW8uZGVmYXVsdCksZS5yZXBsYWNlV2l0aChuZXcgcyhlLHQuZmlsZSkucnVuKCkpfX19fX07dmFyIGE9cigzMzEpLG89bihhKSx1PXIoMjA3KSxsPW4odSksYz1yKDQwKSxmPW4oYyk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG8uaXNPYmplY3RQcm9wZXJ0eShlKT9lLnZhbHVlOm8uaXNPYmplY3RNZXRob2QoZSk/by5mdW5jdGlvbkV4cHJlc3Npb24obnVsbCxlLnBhcmFtcyxlLmJvZHksZS5nZW5lcmF0b3IsZS5hc3luYyk6dm9pZCAwfWZ1bmN0aW9uIHIoZSxyLGkpeyJnZXQiPT09ci5raW5kJiYic2V0Ij09PXIua2luZD9uKGUscixpKTppLnB1c2goby5leHByZXNzaW9uU3RhdGVtZW50KG8uYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLG8ubWVtYmVyRXhwcmVzc2lvbihlLHIua2V5LHIuY29tcHV0ZWR8fG8uaXNMaXRlcmFsKHIua2V5KSksdChyKSkpKX1mdW5jdGlvbiBuKGUscil7dmFyIG49KGUub2JqSWQsZS5ib2R5KSxpPWUuZ2V0TXV0YXRvcklkLHM9ZS5zY29wZSxhPSFyLmNvbXB1dGVkJiZvLmlzSWRlbnRpZmllcihyLmtleSk/by5zdHJpbmdMaXRlcmFsKHIua2V5Lm5hbWUpOnIua2V5LHU9cy5tYXliZUdlbmVyYXRlTWVtb2lzZWQoYSk7dSYmKG4ucHVzaChvLmV4cHJlc3Npb25TdGF0ZW1lbnQoby5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdSxhKSkpLGE9dSksbi5wdXNoLmFwcGx5KG4sbCh7TVVUQVRPUl9NQVBfUkVGOmkoKSxLRVk6YSxWQUxVRTp0KHIpLEtJTkQ6by5pZGVudGlmaWVyKHIua2luZCl9KSl9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9ZS5jb21wdXRlZFByb3BzLHM9QXJyYXkuaXNBcnJheSh0KSxhPTAsdD1zP3Q6KDAsaS5kZWZhdWx0KSh0KTs7KXt2YXIgbztpZihzKXtpZihhPj10Lmxlbmd0aClicmVhaztvPXRbYSsrXX1lbHNle2lmKGE9dC5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX12YXIgdT1vOyJnZXQiPT09dS5raW5kfHwic2V0Ij09PXUua2luZD9uKGUsdSk6cihlLm9iaklkLHUsZS5ib2R5KX19ZnVuY3Rpb24gYShlKXtmb3IodmFyIHM9ZS5vYmpJZCxhPWUuYm9keSx1PWUuY29tcHV0ZWRQcm9wcyxsPWUuc3RhdGUsYz11LGY9QXJyYXkuaXNBcnJheShjKSxwPTAsYz1mP2M6KDAsaS5kZWZhdWx0KShjKTs7KXt2YXIgZDtpZihmKXtpZihwPj1jLmxlbmd0aClicmVhaztkPWNbcCsrXX1lbHNle2lmKHA9Yy5uZXh0KCkscC5kb25lKWJyZWFrO2Q9cC52YWx1ZX12YXIgaD1kLG09by50b0NvbXB1dGVkS2V5KGgpO2lmKCJnZXQiPT09aC5raW5kfHwic2V0Ij09PWgua2luZCluKGUsaCk7ZWxzZSBpZihvLmlzU3RyaW5nTGl0ZXJhbChtLHt2YWx1ZToiX19wcm90b19fIn0pKXIocyxoLGEpO2Vsc2V7aWYoMT09PXUubGVuZ3RoKXJldHVybiBvLmNhbGxFeHByZXNzaW9uKGwuYWRkSGVscGVyKCJkZWZpbmVQcm9wZXJ0eSIpLFtlLmluaXRQcm9wRXhwcmVzc2lvbixtLHQoaCldKTthLnB1c2goby5leHByZXNzaW9uU3RhdGVtZW50KG8uY2FsbEV4cHJlc3Npb24obC5hZGRIZWxwZXIoImRlZmluZVByb3BlcnR5IiksW3MsbSx0KGgpXSkpKX19fXZhciBvPWUudHlwZXMsdT1lLnRlbXBsYXRlLGw9dSgiXG4gICAgTVVUQVRPUl9NQVBfUkVGW0tFWV0gPSBNVVRBVE9SX01BUF9SRUZbS0VZXSB8fCB7fTtcbiAgICBNVVRBVE9SX01BUF9SRUZbS0VZXS5LSU5EID0gVkFMVUU7XG4gICIpO3JldHVybnt2aXNpdG9yOntPYmplY3RFeHByZXNzaW9uOntleGl0OmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUubm9kZSxuPWUucGFyZW50LHU9ZS5zY29wZSxsPSExLGM9ci5wcm9wZXJ0aWVzLGY9QXJyYXkuaXNBcnJheShjKSxwPTAsYz1mP2M6KDAsaS5kZWZhdWx0KShjKTs7KXt2YXIgZDtpZihmKXtpZihwPj1jLmxlbmd0aClicmVhaztkPWNbcCsrXX1lbHNle2lmKHA9Yy5uZXh0KCkscC5kb25lKWJyZWFrO2Q9cC52YWx1ZX1pZihsPSEwPT09ZC5jb21wdXRlZClicmVha31pZihsKXtmb3IodmFyIGg9W10sbT1bXSx5PSExLHY9ci5wcm9wZXJ0aWVzLGc9QXJyYXkuaXNBcnJheSh2KSxiPTAsdj1nP3Y6KDAsaS5kZWZhdWx0KSh2KTs7KXt2YXIgRTtpZihnKXtpZihiPj12Lmxlbmd0aClicmVhaztFPXZbYisrXX1lbHNle2lmKGI9di5uZXh0KCksYi5kb25lKWJyZWFrO0U9Yi52YWx1ZX12YXIgeD1FO3guY29tcHV0ZWQmJih5PSEwKSx5P20ucHVzaCh4KTpoLnB1c2goeCl9dmFyIEE9dS5nZW5lcmF0ZVVpZElkZW50aWZpZXJCYXNlZE9uTm9kZShuKSxTPW8ub2JqZWN0RXhwcmVzc2lvbihoKSxfPVtdO18ucHVzaChvLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW28udmFyaWFibGVEZWNsYXJhdG9yKEEsUyldKSk7dmFyIEQ9YTt0Lm9wdHMubG9vc2UmJihEPXMpO3ZhciBDPXZvaWQgMCx3PWZ1bmN0aW9uKCl7cmV0dXJuIEN8fChDPXUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJtdXRhdG9yTWFwIiksXy5wdXNoKG8udmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbby52YXJpYWJsZURlY2xhcmF0b3IoQyxvLm9iamVjdEV4cHJlc3Npb24oW10pKV0pKSksQ30sUD1EKHtzY29wZTp1LG9iaklkOkEsYm9keTpfLGNvbXB1dGVkUHJvcHM6bSxpbml0UHJvcEV4cHJlc3Npb246UyxnZXRNdXRhdG9ySWQ6dyxzdGF0ZTp0fSk7QyYmXy5wdXNoKG8uZXhwcmVzc2lvblN0YXRlbWVudChvLmNhbGxFeHByZXNzaW9uKHQuYWRkSGVscGVyKCJkZWZpbmVFbnVtZXJhYmxlUHJvcGVydGllcyIpLFtBLENdKSkpLFA/ZS5yZXBsYWNlV2l0aChQKTooXy5wdXNoKG8uZXhwcmVzc2lvblN0YXRlbWVudChBKSksZS5yZXBsYWNlV2l0aE11bHRpcGxlKF8pKX19fX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDMpLHM9bihpKSxhPXIoMiksbz1uKGEpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2Zvcih2YXIgdD1lLmRlY2xhcmF0aW9ucyxyPUFycmF5LmlzQXJyYXkodCksaT0wLHQ9cj90OigwLG8uZGVmYXVsdCkodCk7Oyl7dmFyIHM7aWYocil7aWYoaT49dC5sZW5ndGgpYnJlYWs7cz10W2krK119ZWxzZXtpZihpPXQubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9dmFyIGE9cztpZihuLmlzUGF0dGVybihhLmlkKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiByKGUpe2Zvcih2YXIgdD1lLmVsZW1lbnRzLHI9QXJyYXkuaXNBcnJheSh0KSxpPTAsdD1yP3Q6KDAsby5kZWZhdWx0KSh0KTs7KXt2YXIgcztpZihyKXtpZihpPj10Lmxlbmd0aClicmVhaztzPXRbaSsrXX1lbHNle2lmKGk9dC5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX12YXIgYT1zO2lmKG4uaXNSZXN0RWxlbWVudChhKSlyZXR1cm4hMH1yZXR1cm4hMX12YXIgbj1lLnR5cGVzLGk9e1JlZmVyZW5jZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUsdCl7dC5iaW5kaW5nc1tlLm5vZGUubmFtZV0mJih0LmRlb3B0PSEwLGUuc3RvcCgpKX19LGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeygwLHMuZGVmYXVsdCkodGhpcyxlKSx0aGlzLmJsb2NrSG9pc3Q9dC5ibG9ja0hvaXN0LHRoaXMub3BlcmF0b3I9dC5vcGVyYXRvcix0aGlzLmFycmF5cz17fSx0aGlzLm5vZGVzPXQubm9kZXN8fFtdLHRoaXMuc2NvcGU9dC5zY29wZSx0aGlzLmZpbGU9dC5maWxlLHRoaXMua2luZD10LmtpbmR9CnJldHVybiBlLnByb3RvdHlwZS5idWlsZFZhcmlhYmxlQXNzaWdubWVudD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMub3BlcmF0b3I7bi5pc01lbWJlckV4cHJlc3Npb24oZSkmJihyPSI9Iik7dmFyIGk9dm9pZCAwO3JldHVybiBpPXI/bi5leHByZXNzaW9uU3RhdGVtZW50KG4uYXNzaWdubWVudEV4cHJlc3Npb24ocixlLHQpKTpuLnZhcmlhYmxlRGVjbGFyYXRpb24odGhpcy5raW5kLFtuLnZhcmlhYmxlRGVjbGFyYXRvcihlLHQpXSksaS5fYmxvY2tIb2lzdD10aGlzLmJsb2NrSG9pc3QsaX0sZS5wcm90b3R5cGUuYnVpbGRWYXJpYWJsZURlY2xhcmF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bi52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLFtuLnZhcmlhYmxlRGVjbGFyYXRvcihlLHQpXSk7cmV0dXJuIHIuX2Jsb2NrSG9pc3Q9dGhpcy5ibG9ja0hvaXN0LHJ9LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSx0KXtuLmlzT2JqZWN0UGF0dGVybihlKT90aGlzLnB1c2hPYmplY3RQYXR0ZXJuKGUsdCk6bi5pc0FycmF5UGF0dGVybihlKT90aGlzLnB1c2hBcnJheVBhdHRlcm4oZSx0KTpuLmlzQXNzaWdubWVudFBhdHRlcm4oZSk/dGhpcy5wdXNoQXNzaWdubWVudFBhdHRlcm4oZSx0KTp0aGlzLm5vZGVzLnB1c2godGhpcy5idWlsZFZhcmlhYmxlQXNzaWdubWVudChlLHQpKX0sZS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmZpbGUub3B0cy5sb29zZXx8bi5pc0lkZW50aWZpZXIoZSkmJnRoaXMuYXJyYXlzW2UubmFtZV0/ZTp0aGlzLnNjb3BlLnRvQXJyYXkoZSx0KX0sZS5wcm90b3R5cGUucHVzaEFzc2lnbm1lbnRQYXR0ZXJuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXJCYXNlZE9uTm9kZSh0KSxpPW4udmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbbi52YXJpYWJsZURlY2xhcmF0b3Iocix0KV0pO2kuX2Jsb2NrSG9pc3Q9dGhpcy5ibG9ja0hvaXN0LHRoaXMubm9kZXMucHVzaChpKTt2YXIgcz1uLmNvbmRpdGlvbmFsRXhwcmVzc2lvbihuLmJpbmFyeUV4cHJlc3Npb24oIj09PSIscixuLmlkZW50aWZpZXIoInVuZGVmaW5lZCIpKSxlLnJpZ2h0LHIpLGE9ZS5sZWZ0O2lmKG4uaXNQYXR0ZXJuKGEpKXt2YXIgbz1uLmV4cHJlc3Npb25TdGF0ZW1lbnQobi5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIscixzKSk7by5fYmxvY2tIb2lzdD10aGlzLmJsb2NrSG9pc3QsdGhpcy5ub2Rlcy5wdXNoKG8pLHRoaXMucHVzaChhLHIpfWVsc2UgdGhpcy5ub2Rlcy5wdXNoKHRoaXMuYnVpbGRWYXJpYWJsZUFzc2lnbm1lbnQoYSxzKSl9LGUucHJvdG90eXBlLnB1c2hPYmplY3RSZXN0PWZ1bmN0aW9uKGUsdCxyLGkpe2Zvcih2YXIgcz1bXSxhPTA7YTxlLnByb3BlcnRpZXMubGVuZ3RoO2ErKyl7dmFyIG89ZS5wcm9wZXJ0aWVzW2FdO2lmKGE+PWkpYnJlYWs7aWYoIW4uaXNSZXN0UHJvcGVydHkobykpe3ZhciB1PW8ua2V5O24uaXNJZGVudGlmaWVyKHUpJiYhby5jb21wdXRlZCYmKHU9bi5zdHJpbmdMaXRlcmFsKG8ua2V5Lm5hbWUpKSxzLnB1c2godSl9fXM9bi5hcnJheUV4cHJlc3Npb24ocyk7dmFyIGw9bi5jYWxsRXhwcmVzc2lvbih0aGlzLmZpbGUuYWRkSGVscGVyKCJvYmplY3RXaXRob3V0UHJvcGVydGllcyIpLFt0LHNdKTt0aGlzLm5vZGVzLnB1c2godGhpcy5idWlsZFZhcmlhYmxlQXNzaWdubWVudChyLmFyZ3VtZW50LGwpKX0sZS5wcm90b3R5cGUucHVzaE9iamVjdFByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7bi5pc0xpdGVyYWwoZS5rZXkpJiYoZS5jb21wdXRlZD0hMCk7dmFyIHI9ZS52YWx1ZSxpPW4ubWVtYmVyRXhwcmVzc2lvbih0LGUua2V5LGUuY29tcHV0ZWQpO24uaXNQYXR0ZXJuKHIpP3RoaXMucHVzaChyLGkpOnRoaXMubm9kZXMucHVzaCh0aGlzLmJ1aWxkVmFyaWFibGVBc3NpZ25tZW50KHIsaSkpfSxlLnByb3RvdHlwZS5wdXNoT2JqZWN0UGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKGUucHJvcGVydGllcy5sZW5ndGh8fHRoaXMubm9kZXMucHVzaChuLmV4cHJlc3Npb25TdGF0ZW1lbnQobi5jYWxsRXhwcmVzc2lvbih0aGlzLmZpbGUuYWRkSGVscGVyKCJvYmplY3REZXN0cnVjdHVyaW5nRW1wdHkiKSxbdF0pKSksZS5wcm9wZXJ0aWVzLmxlbmd0aD4xJiYhdGhpcy5zY29wZS5pc1N0YXRpYyh0KSl7dmFyIHI9dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXJCYXNlZE9uTm9kZSh0KTt0aGlzLm5vZGVzLnB1c2godGhpcy5idWlsZFZhcmlhYmxlRGVjbGFyYXRpb24ocix0KSksdD1yfWZvcih2YXIgaT0wO2k8ZS5wcm9wZXJ0aWVzLmxlbmd0aDtpKyspe3ZhciBzPWUucHJvcGVydGllc1tpXTtuLmlzUmVzdFByb3BlcnR5KHMpP3RoaXMucHVzaE9iamVjdFJlc3QoZSx0LHMsaSk6dGhpcy5wdXNoT2JqZWN0UHJvcGVydHkocyx0KX19LGUucHJvdG90eXBlLmNhblVucGFja0FycmF5UGF0dGVybj1mdW5jdGlvbihlLHQpe2lmKCFuLmlzQXJyYXlFeHByZXNzaW9uKHQpKXJldHVybiExO2lmKCEoZS5lbGVtZW50cy5sZW5ndGg+dC5lbGVtZW50cy5sZW5ndGgpKXtpZihlLmVsZW1lbnRzLmxlbmd0aDx0LmVsZW1lbnRzLmxlbmd0aCYmIXIoZSkpcmV0dXJuITE7Zm9yKHZhciBzPWUuZWxlbWVudHMsYT1BcnJheS5pc0FycmF5KHMpLHU9MCxzPWE/czooMCxvLmRlZmF1bHQpKHMpOzspe3ZhciBsO2lmKGEpe2lmKHU+PXMubGVuZ3RoKWJyZWFrO2w9c1t1KytdfWVsc2V7aWYodT1zLm5leHQoKSx1LmRvbmUpYnJlYWs7bD11LnZhbHVlfXZhciBjPWw7aWYoIWMpcmV0dXJuITE7aWYobi5pc01lbWJlckV4cHJlc3Npb24oYykpcmV0dXJuITF9Zm9yKHZhciBmPXQuZWxlbWVudHMscD1BcnJheS5pc0FycmF5KGYpLGQ9MCxmPXA/ZjooMCxvLmRlZmF1bHQpKGYpOzspe3ZhciBoO2lmKHApe2lmKGQ+PWYubGVuZ3RoKWJyZWFrO2g9ZltkKytdfWVsc2V7aWYoZD1mLm5leHQoKSxkLmRvbmUpYnJlYWs7aD1kLnZhbHVlfXZhciBtPWg7aWYobi5pc1NwcmVhZEVsZW1lbnQobSkpcmV0dXJuITE7aWYobi5pc0NhbGxFeHByZXNzaW9uKG0pKXJldHVybiExO2lmKG4uaXNNZW1iZXJFeHByZXNzaW9uKG0pKXJldHVybiExfXZhciB5PW4uZ2V0QmluZGluZ0lkZW50aWZpZXJzKGUpLHY9e2Rlb3B0OiExLGJpbmRpbmdzOnl9O3JldHVybiB0aGlzLnNjb3BlLnRyYXZlcnNlKHQsaSx2KSwhdi5kZW9wdH19LGUucHJvdG90eXBlLnB1c2hVbnBhY2tlZEFycmF5UGF0dGVybj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5lbGVtZW50cy5sZW5ndGg7cisrKXt2YXIgaT1lLmVsZW1lbnRzW3JdO24uaXNSZXN0RWxlbWVudChpKT90aGlzLnB1c2goaS5hcmd1bWVudCxuLmFycmF5RXhwcmVzc2lvbih0LmVsZW1lbnRzLnNsaWNlKHIpKSk6dGhpcy5wdXNoKGksdC5lbGVtZW50c1tyXSl9fSxlLnByb3RvdHlwZS5wdXNoQXJyYXlQYXR0ZXJuPWZ1bmN0aW9uKGUsdCl7aWYoZS5lbGVtZW50cyl7aWYodGhpcy5jYW5VbnBhY2tBcnJheVBhdHRlcm4oZSx0KSlyZXR1cm4gdGhpcy5wdXNoVW5wYWNrZWRBcnJheVBhdHRlcm4oZSx0KTt2YXIgaT0hcihlKSYmZS5lbGVtZW50cy5sZW5ndGgscz10aGlzLnRvQXJyYXkodCxpKTtuLmlzSWRlbnRpZmllcihzKT90PXM6KHQ9dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXJCYXNlZE9uTm9kZSh0KSx0aGlzLmFycmF5c1t0Lm5hbWVdPSEwLHRoaXMubm9kZXMucHVzaCh0aGlzLmJ1aWxkVmFyaWFibGVEZWNsYXJhdGlvbih0LHMpKSk7Zm9yKHZhciBhPTA7YTxlLmVsZW1lbnRzLmxlbmd0aDthKyspe3ZhciBvPWUuZWxlbWVudHNbYV07aWYobyl7dmFyIHU9dm9pZCAwO24uaXNSZXN0RWxlbWVudChvKT8odT10aGlzLnRvQXJyYXkodCksdT1uLmNhbGxFeHByZXNzaW9uKG4ubWVtYmVyRXhwcmVzc2lvbih1LG4uaWRlbnRpZmllcigic2xpY2UiKSksW24ubnVtZXJpY0xpdGVyYWwoYSldKSxvPW8uYXJndW1lbnQpOnU9bi5tZW1iZXJFeHByZXNzaW9uKHQsbi5udW1lcmljTGl0ZXJhbChhKSwhMCksdGhpcy5wdXNoKG8sdSl9fX19LGUucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oZSx0KXtpZighbi5pc0FycmF5RXhwcmVzc2lvbih0KSYmIW4uaXNNZW1iZXJFeHByZXNzaW9uKHQpKXt2YXIgcj10aGlzLnNjb3BlLm1heWJlR2VuZXJhdGVNZW1vaXNlZCh0LCEwKTtyJiYodGhpcy5ub2Rlcy5wdXNoKHRoaXMuYnVpbGRWYXJpYWJsZURlY2xhcmF0aW9uKHIsdCkpLHQ9cil9cmV0dXJuIHRoaXMucHVzaChlLHQpLHRoaXMubm9kZXN9LGV9KCk7cmV0dXJue3Zpc2l0b3I6e0V4cG9ydE5hbWVkRGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXQoImRlY2xhcmF0aW9uIik7aWYoci5pc1ZhcmlhYmxlRGVjbGFyYXRpb24oKSYmdChyLm5vZGUpKXt2YXIgaT1bXTtmb3IodmFyIHMgaW4gZS5nZXRPdXRlckJpbmRpbmdJZGVudGlmaWVycyhlKSl7dmFyIGE9bi5pZGVudGlmaWVyKHMpO2kucHVzaChuLmV4cG9ydFNwZWNpZmllcihhLGEpKX1lLnJlcGxhY2VXaXRoKHIubm9kZSksZS5pbnNlcnRBZnRlcihuLmV4cG9ydE5hbWVkRGVjbGFyYXRpb24obnVsbCxpKSl9fSxGb3JYU3RhdGVtZW50OmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlLGk9ZS5zY29wZSxzPXIubGVmdDtpZihuLmlzUGF0dGVybihzKSl7dmFyIG89aS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInJlZiIpO3JldHVybiByLmxlZnQ9bi52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLFtuLnZhcmlhYmxlRGVjbGFyYXRvcihvKV0pLGUuZW5zdXJlQmxvY2soKSx2b2lkIHIuYm9keS5ib2R5LnVuc2hpZnQobi52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLFtuLnZhcmlhYmxlRGVjbGFyYXRvcihzLG8pXSkpfWlmKG4uaXNWYXJpYWJsZURlY2xhcmF0aW9uKHMpKXt2YXIgdT1zLmRlY2xhcmF0aW9uc1swXS5pZDtpZihuLmlzUGF0dGVybih1KSl7dmFyIGw9aS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInJlZiIpO3IubGVmdD1uLnZhcmlhYmxlRGVjbGFyYXRpb24ocy5raW5kLFtuLnZhcmlhYmxlRGVjbGFyYXRvcihsLG51bGwpXSk7dmFyIGM9W107bmV3IGEoe2tpbmQ6cy5raW5kLGZpbGU6dCxzY29wZTppLG5vZGVzOmN9KS5pbml0KHUsbCksZS5lbnN1cmVCbG9jaygpO3ZhciBmPXIuYm9keTtmLmJvZHk9Yy5jb25jYXQoZi5ib2R5KX19fSxDYXRjaENsYXVzZTpmdW5jdGlvbihlLHQpe3ZhciByPWUubm9kZSxpPWUuc2NvcGUscz1yLnBhcmFtO2lmKG4uaXNQYXR0ZXJuKHMpKXt2YXIgbz1pLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIik7ci5wYXJhbT1vO3ZhciB1PVtdO25ldyBhKHtraW5kOiJsZXQiLGZpbGU6dCxzY29wZTppLG5vZGVzOnV9KS5pbml0KHMsbyksci5ib2R5LmJvZHk9dS5jb25jYXQoci5ib2R5LmJvZHkpfX0sQXNzaWdubWVudEV4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUsaT1lLnNjb3BlO2lmKG4uaXNQYXR0ZXJuKHIubGVmdCkpe3ZhciBzPVtdLG89bmV3IGEoe29wZXJhdG9yOnIub3BlcmF0b3IsZmlsZTp0LHNjb3BlOmksbm9kZXM6c30pLHU9dm9pZCAwOyFlLmlzQ29tcGxldGlvblJlY29yZCgpJiZlLnBhcmVudFBhdGguaXNFeHByZXNzaW9uU3RhdGVtZW50KCl8fCh1PWkuZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUoci5yaWdodCwicmVmIikscy5wdXNoKG4udmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbbi52YXJpYWJsZURlY2xhcmF0b3IodSxyLnJpZ2h0KV0pKSxuLmlzQXJyYXlFeHByZXNzaW9uKHIucmlnaHQpJiYoby5hcnJheXNbdS5uYW1lXT0hMCkpLG8uaW5pdChyLmxlZnQsdXx8ci5yaWdodCksdSYmcy5wdXNoKG4uZXhwcmVzc2lvblN0YXRlbWVudCh1KSksZS5yZXBsYWNlV2l0aE11bHRpcGxlKHMpfX0sVmFyaWFibGVEZWNsYXJhdGlvbjpmdW5jdGlvbihlLHIpe3ZhciBpPWUubm9kZSxzPWUuc2NvcGUsdT1lLnBhcmVudDtpZighbi5pc0ZvclhTdGF0ZW1lbnQodSkmJnUmJmUuY29udGFpbmVyJiZ0KGkpKXtmb3IodmFyIGw9W10sYz12b2lkIDAsZj0wO2Y8aS5kZWNsYXJhdGlvbnMubGVuZ3RoO2YrKyl7Yz1pLmRlY2xhcmF0aW9uc1tmXTt2YXIgcD1jLmluaXQsZD1jLmlkLGg9bmV3IGEoe2Jsb2NrSG9pc3Q6aS5fYmxvY2tIb2lzdCxub2RlczpsLHNjb3BlOnMsa2luZDppLmtpbmQsZmlsZTpyfSk7bi5pc1BhdHRlcm4oZCk/KGguaW5pdChkLHApLCtmIT1pLmRlY2xhcmF0aW9ucy5sZW5ndGgtMSYmbi5pbmhlcml0cyhsW2wubGVuZ3RoLTFdLGMpKTpsLnB1c2gobi5pbmhlcml0cyhoLmJ1aWxkVmFyaWFibGVBc3NpZ25tZW50KGMuaWQsYy5pbml0KSxjKSl9Zm9yKHZhciBtPVtdLHk9bCx2PUFycmF5LmlzQXJyYXkoeSksZz0wLHk9dj95OigwLG8uZGVmYXVsdCkoeSk7Oyl7dmFyIGI7aWYodil7aWYoZz49eS5sZW5ndGgpYnJlYWs7Yj15W2crK119ZWxzZXtpZihnPXkubmV4dCgpLGcuZG9uZSlicmVhaztiPWcudmFsdWV9dmFyIEU9Yix4PW1bbS5sZW5ndGgtMV07aWYoeCYmbi5pc1ZhcmlhYmxlRGVjbGFyYXRpb24oeCkmJm4uaXNWYXJpYWJsZURlY2xhcmF0aW9uKEUpJiZ4LmtpbmQ9PT1FLmtpbmQpe3ZhciBBOyhBPXguZGVjbGFyYXRpb25zKS5wdXNoLmFwcGx5KEEsRS5kZWNsYXJhdGlvbnMpfWVsc2UgbS5wdXNoKEUpfWZvcih2YXIgUz1tLF89QXJyYXkuaXNBcnJheShTKSxEPTAsUz1fP1M6KDAsby5kZWZhdWx0KShTKTs7KXt2YXIgQztpZihfKXtpZihEPj1TLmxlbmd0aClicmVhaztDPVNbRCsrXX1lbHNle2lmKEQ9Uy5uZXh0KCksRC5kb25lKWJyZWFrO0M9RC52YWx1ZX12YXIgdz1DO2lmKHcuZGVjbGFyYXRpb25zKWZvcih2YXIgUD13LmRlY2xhcmF0aW9ucyxrPUFycmF5LmlzQXJyYXkoUCksRj0wLFA9az9QOigwLG8uZGVmYXVsdCkoUCk7Oyl7dmFyIFQ7aWYoayl7aWYoRj49UC5sZW5ndGgpYnJlYWs7VD1QW0YrK119ZWxzZXtpZihGPVAubmV4dCgpLEYuZG9uZSlicmVhaztUPUYudmFsdWV9dmFyIE89VCxCPU8uaWQubmFtZTtzLmJpbmRpbmdzW0JdJiYocy5iaW5kaW5nc1tCXS5raW5kPXcua2luZCl9fTE9PT1tLmxlbmd0aD9lLnJlcGxhY2VXaXRoKG1bMF0pOmUucmVwbGFjZVdpdGhNdWx0aXBsZShtKX19fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1lLm5vZGUscj1lLnNjb3BlLG49W10saT10LnJpZ2h0O2lmKCFhLmlzSWRlbnRpZmllcihpKXx8IXIuaGFzQmluZGluZyhpLm5hbWUpKXt2YXIgcz1yLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiYXJyIik7bi5wdXNoKGEudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbYS52YXJpYWJsZURlY2xhcmF0b3IocyxpKV0pKSxpPXN9dmFyIHU9ci5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImkiKSxsPW8oe0JPRFk6dC5ib2R5LEtFWTp1LEFSUjppfSk7YS5pbmhlcml0cyhsLHQpLGEuZW5zdXJlQmxvY2sobCk7dmFyIGM9YS5tZW1iZXJFeHByZXNzaW9uKGksdSwhMCksZj10LmxlZnQ7cmV0dXJuIGEuaXNWYXJpYWJsZURlY2xhcmF0aW9uKGYpPyhmLmRlY2xhcmF0aW9uc1swXS5pbml0PWMsbC5ib2R5LmJvZHkudW5zaGlmdChmKSk6bC5ib2R5LmJvZHkudW5zaGlmdChhLmV4cHJlc3Npb25TdGF0ZW1lbnQoYS5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsZixjKSkpLGUucGFyZW50UGF0aC5pc0xhYmVsZWRTdGF0ZW1lbnQoKSYmKGw9YS5sYWJlbGVkU3RhdGVtZW50KGUucGFyZW50UGF0aC5ub2RlLmxhYmVsLGwpKSxuLnB1c2gobCksbn1mdW5jdGlvbiByKGUsdCl7dmFyIHI9ZS5ub2RlLG49ZS5zY29wZSxzPWUucGFyZW50LG89ci5sZWZ0LGw9dm9pZCAwLGM9dm9pZCAwO2lmKGEuaXNJZGVudGlmaWVyKG8pfHxhLmlzUGF0dGVybihvKXx8YS5pc01lbWJlckV4cHJlc3Npb24obykpYz1vO2Vsc2V7aWYoIWEuaXNWYXJpYWJsZURlY2xhcmF0aW9uKG8pKXRocm93IHQuYnVpbGRDb2RlRnJhbWVFcnJvcihvLGkuZ2V0KCJ1bmtub3duRm9ySGVhZCIsby50eXBlKSk7Yz1uLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIiksbD1hLnZhcmlhYmxlRGVjbGFyYXRpb24oby5raW5kLFthLnZhcmlhYmxlRGVjbGFyYXRvcihvLmRlY2xhcmF0aW9uc1swXS5pZCxjKV0pfXZhciBmPW4uZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJpdGVyYXRvciIpLHA9bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImlzQXJyYXkiKSxkPXUoe0xPT1BfT0JKRUNUOmYsSVNfQVJSQVk6cCxPQkpFQ1Q6ci5yaWdodCxJTkRFWDpuLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiaSIpLElEOmN9KTtsfHxkLmJvZHkuYm9keS5zaGlmdCgpO3ZhciBoPWEuaXNMYWJlbGVkU3RhdGVtZW50KHMpLG09dm9pZCAwO3JldHVybiBoJiYobT1hLmxhYmVsZWRTdGF0ZW1lbnQocy5sYWJlbCxkKSkse3JlcGxhY2VQYXJlbnQ6aCxkZWNsYXI6bCxub2RlOm18fGQsbG9vcDpkfX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9ZS5ub2RlLG49ZS5zY29wZSxzPWUucGFyZW50LG89ci5sZWZ0LHU9dm9pZCAwLGM9bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInN0ZXAiKSxmPWEubWVtYmVyRXhwcmVzc2lvbihjLGEuaWRlbnRpZmllcigidmFsdWUiKSk7aWYoYS5pc0lkZW50aWZpZXIobyl8fGEuaXNQYXR0ZXJuKG8pfHxhLmlzTWVtYmVyRXhwcmVzc2lvbihvKSl1PWEuZXhwcmVzc2lvblN0YXRlbWVudChhLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixvLGYpKTtlbHNle2lmKCFhLmlzVmFyaWFibGVEZWNsYXJhdGlvbihvKSl0aHJvdyB0LmJ1aWxkQ29kZUZyYW1lRXJyb3IobyxpLmdldCgidW5rbm93bkZvckhlYWQiLG8udHlwZSkpO3U9YS52YXJpYWJsZURlY2xhcmF0aW9uKG8ua2luZCxbYS52YXJpYWJsZURlY2xhcmF0b3Ioby5kZWNsYXJhdGlvbnNbMF0uaWQsZildKX12YXIgcD1uLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiaXRlcmF0b3IiKSxkPWwoe0lURVJBVE9SX0hBRF9FUlJPUl9LRVk6bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImRpZEl0ZXJhdG9yRXJyb3IiKSxJVEVSQVRPUl9DT01QTEVUSU9OOm4uZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJpdGVyYXRvck5vcm1hbENvbXBsZXRpb24iKSxJVEVSQVRPUl9FUlJPUl9LRVk6bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoIml0ZXJhdG9yRXJyb3IiKSxJVEVSQVRPUl9LRVk6cCxTVEVQX0tFWTpjLE9CSkVDVDpyLnJpZ2h0LEJPRFk6bnVsbH0pLGg9YS5pc0xhYmVsZWRTdGF0ZW1lbnQocyksbT1kWzNdLmJsb2NrLmJvZHkseT1tWzBdO3JldHVybiBoJiYobVswXT1hLmxhYmVsZWRTdGF0ZW1lbnQocy5sYWJlbCx5KSkse3JlcGxhY2VQYXJlbnQ6aCxkZWNsYXI6dSxsb29wOnksbm9kZTpkfX12YXIgaT1lLm1lc3NhZ2VzLHM9ZS50ZW1wbGF0ZSxhPWUudHlwZXMsbz1zKCJcbiAgICBmb3IgKHZhciBLRVkgPSAwOyBLRVkgPCBBUlIubGVuZ3RoOyBLRVkrKykgQk9EWTtcbiAgIiksdT1zKCJcbiAgICBmb3IgKHZhciBMT09QX09CSkVDVCA9IE9CSkVDVCxcbiAgICAgICAgICAgICBJU19BUlJBWSA9IEFycmF5LmlzQXJyYXkoTE9PUF9PQkpFQ1QpLFxuICAgICAgICAgICAgIElOREVYID0gMCxcbiAgICAgICAgICAgICBMT09QX09CSkVDVCA9IElTX0FSUkFZID8gTE9PUF9PQkpFQ1QgOiBMT09QX09CSkVDVFtTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgICAgdmFyIElEO1xuICAgICAgaWYgKElTX0FSUkFZKSB7XG4gICAgICAgIGlmIChJTkRFWCA+PSBMT09QX09CSkVDVC5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBJRCA9IExPT1BfT0JKRUNUW0lOREVYKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSU5ERVggPSBMT09QX09CSkVDVC5uZXh0KCk7XG4gICAgICAgIGlmIChJTkRFWC5kb25lKSBicmVhaztcbiAgICAgICAgSUQgPSBJTkRFWC52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICIpLGw9cygiXG4gICAgdmFyIElURVJBVE9SX0NPTVBMRVRJT04gPSB0cnVlO1xuICAgIHZhciBJVEVSQVRPUl9IQURfRVJST1JfS0VZID0gZmFsc2U7XG4gICAgdmFyIElURVJBVE9SX0VSUk9SX0tFWSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZm9yICh2YXIgSVRFUkFUT1JfS0VZID0gT0JKRUNUW1N5bWJvbC5pdGVyYXRvcl0oKSwgU1RFUF9LRVk7ICEoSVRFUkFUT1JfQ09NUExFVElPTiA9IChTVEVQX0tFWSA9IElURVJBVE9SX0tFWS5uZXh0KCkpLmRvbmUpOyBJVEVSQVRPUl9DT01QTEVUSU9OID0gdHJ1ZSkge1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgSVRFUkFUT1JfSEFEX0VSUk9SX0tFWSA9IHRydWU7XG4gICAgICBJVEVSQVRPUl9FUlJPUl9LRVkgPSBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghSVRFUkFUT1JfQ09NUExFVElPTiAmJiBJVEVSQVRPUl9LRVkucmV0dXJuKSB7XG4gICAgICAgICAgSVRFUkFUT1JfS0VZLnJldHVybigpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoSVRFUkFUT1JfSEFEX0VSUk9SX0tFWSkge1xuICAgICAgICAgIHRocm93IElURVJBVE9SX0VSUk9SX0tFWTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgIik7cmV0dXJue3Zpc2l0b3I6e0Zvck9mU3RhdGVtZW50OmZ1bmN0aW9uKGUsaSl7aWYoZS5nZXQoInJpZ2h0IikuaXNBcnJheUV4cHJlc3Npb24oKSlyZXR1cm4gZS5wYXJlbnRQYXRoLmlzTGFiZWxlZFN0YXRlbWVudCgpP2UucGFyZW50UGF0aC5yZXBsYWNlV2l0aE11bHRpcGxlKHQoZSkpOmUucmVwbGFjZVdpdGhNdWx0aXBsZSh0KGUpKTt2YXIgcz1uO2kub3B0cy5sb29zZSYmKHM9cik7dmFyIG89ZS5ub2RlLHU9cyhlLGkpLGw9dS5kZWNsYXIsYz11Lmxvb3AsZj1jLmJvZHk7ZS5lbnN1cmVCbG9jaygpLGwmJmYuYm9keS5wdXNoKGwpLGYuYm9keT1mLmJvZHkuY29uY2F0KG8uYm9keS5ib2R5KSxhLmluaGVyaXRzKGMsbyksYS5pbmhlcml0cyhjLmJvZHksby5ib2R5KSx1LnJlcGxhY2VQYXJlbnQ/KGUucGFyZW50UGF0aC5yZXBsYWNlV2l0aE11bHRpcGxlKHUubm9kZSksZS5yZW1vdmUoKSk6ZS5yZXBsYWNlV2l0aE11bHRpcGxlKHUubm9kZSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnt2aXNpdG9yOntGdW5jdGlvbkV4cHJlc3Npb246e2V4aXQ6ZnVuY3Rpb24oZSl7aWYoInZhbHVlIiE9PWUua2V5JiYhZS5wYXJlbnRQYXRoLmlzT2JqZWN0UHJvcGVydHkoKSl7dmFyIHQ9KDAsaS5kZWZhdWx0KShlKTt0JiZlLnJlcGxhY2VXaXRoKHQpfX19LE9iamVjdFByb3BlcnR5OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0KCJ2YWx1ZSIpO2lmKHQuaXNGdW5jdGlvbigpKXt2YXIgcj0oMCxpLmRlZmF1bHQpKHQpO3ImJnQucmVwbGFjZVdpdGgocil9fX19fTt2YXIgbj1yKDQwKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnt2aXNpdG9yOntOdW1lcmljTGl0ZXJhbDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGU7dC5leHRyYSYmL14wW29iXS9pLnRlc3QodC5leHRyYS5yYXcpJiYodC5leHRyYT12b2lkIDApfSxTdHJpbmdMaXRlcmFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZTt0LmV4dHJhJiYvXFxbdV0vZ2kudGVzdCh0LmV4dHJhLnJhdykmJih0LmV4dHJhPXZvaWQgMCl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMTQpLHM9bihpKSxhPXIoOSksbz1uKGEpLHU9cigyKSxsPW4odSksYz1yKDEwKSxmPW4oYyk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9KDAsZi5kZWZhdWx0KSgpLHQ9e1JlZmVyZW5jZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZS5uYW1lLHI9dGhpcy5yZW1hcHNbdF07aWYociYmdGhpcy5zY29wZS5nZXRCaW5kaW5nKHQpPT09ZS5zY29wZS5nZXRCaW5kaW5nKHQpKXtpZihlLnBhcmVudFBhdGguaXNDYWxsRXhwcmVzc2lvbih7Y2FsbGVlOmUubm9kZX0pKWUucmVwbGFjZVdpdGgoZy5zZXF1ZW5jZUV4cHJlc3Npb24oW2cubnVtZXJpY0xpdGVyYWwoMCkscl0pKTtlbHNlIGlmKGUuaXNKU1hJZGVudGlmaWVyKCkmJmcuaXNNZW1iZXJFeHByZXNzaW9uKHIpKXt2YXIgbj1yLm9iamVjdCxpPXIucHJvcGVydHk7ZS5yZXBsYWNlV2l0aChnLkpTWE1lbWJlckV4cHJlc3Npb24oZy5KU1hJZGVudGlmaWVyKG4ubmFtZSksZy5KU1hJZGVudGlmaWVyKGkubmFtZSkpKX1lbHNlIGUucmVwbGFjZVdpdGgocik7dGhpcy5yZXF1ZXVlSW5QYXJlbnQoZSl9fSxBc3NpZ25tZW50RXhwcmVzc2lvbjpmdW5jdGlvbih0KXt2YXIgcj10Lm5vZGU7aWYoIXJbZV0pe3ZhciBuPXQuZ2V0KCJsZWZ0Iik7aWYobi5pc0lkZW50aWZpZXIoKSl7dmFyIGk9bi5ub2RlLm5hbWUscz10aGlzLmV4cG9ydHNbaV07aWYoIXMpcmV0dXJuO2lmKHRoaXMuc2NvcGUuZ2V0QmluZGluZyhpKSE9PXQuc2NvcGUuZ2V0QmluZGluZyhpKSlyZXR1cm47cltlXT0hMDtmb3IodmFyIGE9cyxvPUFycmF5LmlzQXJyYXkoYSksdT0wLGE9bz9hOigwLGwuZGVmYXVsdCkoYSk7Oyl7dmFyIGM7aWYobyl7aWYodT49YS5sZW5ndGgpYnJlYWs7Yz1hW3UrK119ZWxzZXtpZih1PWEubmV4dCgpLHUuZG9uZSlicmVhaztjPXUudmFsdWV9cj1TKGMscikuZXhwcmVzc2lvbn10LnJlcGxhY2VXaXRoKHIpLHRoaXMucmVxdWV1ZUluUGFyZW50KHQpfWVsc2UgaWYobi5pc09iamVjdFBhdHRlcm4oKSlmb3IodmFyIGY9bi5ub2RlLnByb3BlcnRpZXMscD1BcnJheS5pc0FycmF5KGYpLGQ9MCxmPXA/ZjooMCxsLmRlZmF1bHQpKGYpOzspe3ZhciBoO2lmKHApe2lmKGQ+PWYubGVuZ3RoKWJyZWFrO2g9ZltkKytdfWVsc2V7aWYoZD1mLm5leHQoKSxkLmRvbmUpYnJlYWs7aD1kLnZhbHVlfXZhciBtPWgseT1tLnZhbHVlLm5hbWUsdj10aGlzLmV4cG9ydHNbeV07aWYodil7aWYodGhpcy5zY29wZS5nZXRCaW5kaW5nKHkpIT09dC5zY29wZS5nZXRCaW5kaW5nKHkpKXJldHVybjtyW2VdPSEwLHQuaW5zZXJ0QWZ0ZXIoUyhnLmlkZW50aWZpZXIoeSksZy5pZGVudGlmaWVyKHkpKSl9fWVsc2UgaWYobi5pc0FycmF5UGF0dGVybigpKWZvcih2YXIgYj1uLm5vZGUuZWxlbWVudHMsRT1BcnJheS5pc0FycmF5KGIpLHg9MCxiPUU/YjooMCxsLmRlZmF1bHQpKGIpOzspe3ZhciBBO2lmKEUpe2lmKHg+PWIubGVuZ3RoKWJyZWFrO0E9Ylt4KytdfWVsc2V7aWYoeD1iLm5leHQoKSx4LmRvbmUpYnJlYWs7QT14LnZhbHVlfXZhciBfPUE7aWYoXyl7dmFyIEQ9Xy5uYW1lLEM9dGhpcy5leHBvcnRzW0RdO2lmKEMpe2lmKHRoaXMuc2NvcGUuZ2V0QmluZGluZyhEKSE9PXQuc2NvcGUuZ2V0QmluZGluZyhEKSlyZXR1cm47cltlXT0hMCx0Lmluc2VydEFmdGVyKFMoZy5pZGVudGlmaWVyKEQpLGcuaWRlbnRpZmllcihEKSkpfX19fX0sVXBkYXRlRXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD1lLmdldCgiYXJndW1lbnQiKTtpZih0LmlzSWRlbnRpZmllcigpKXt2YXIgcj10Lm5vZGUubmFtZTtpZih0aGlzLmV4cG9ydHNbcl0mJnRoaXMuc2NvcGUuZ2V0QmluZGluZyhyKT09PWUuc2NvcGUuZ2V0QmluZGluZyhyKSl7dmFyIG49Zy5hc3NpZ25tZW50RXhwcmVzc2lvbihlLm5vZGUub3BlcmF0b3JbMF0rIj0iLHQubm9kZSxnLm51bWVyaWNMaXRlcmFsKDEpKTtpZihlLnBhcmVudFBhdGguaXNFeHByZXNzaW9uU3RhdGVtZW50KCkmJiFlLmlzQ29tcGxldGlvblJlY29yZCgpfHxlLm5vZGUucHJlZml4KXJldHVybiBlLnJlcGxhY2VXaXRoKG4pLHZvaWQgdGhpcy5yZXF1ZXVlSW5QYXJlbnQoZSk7dmFyIGk9W107aS5wdXNoKG4pO3ZhciBzPXZvaWQgMDtzPSItLSI9PT1lLm5vZGUub3BlcmF0b3I/IisiOiItIixpLnB1c2goZy5iaW5hcnlFeHByZXNzaW9uKHMsdC5ub2RlLGcubnVtZXJpY0xpdGVyYWwoMSkpKSxlLnJlcGxhY2VXaXRoTXVsdGlwbGUoZy5zZXF1ZW5jZUV4cHJlc3Npb24oaSkpfX19fTtyZXR1cm57aW5oZXJpdHM6eS5kZWZhdWx0LHZpc2l0b3I6e1RoaXNFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dGhpcy5yYW5Db21tb25KU3x8ITA9PT10Lm9wdHMuYWxsb3dUb3BMZXZlbFRoaXN8fGUuZmluZFBhcmVudChmdW5jdGlvbihlKXtyZXR1cm4hZS5pcygic2hhZG93IikmJkQuaW5kZXhPZihlLnR5cGUpPj0wfSl8fGUucmVwbGFjZVdpdGgoZy5pZGVudGlmaWVyKCJ1bmRlZmluZWQiKSl9LFByb2dyYW06e2V4aXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gcih0LHIpe3ZhciBuPUNbdF07aWYobilyZXR1cm4gbjt2YXIgaT1lLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigoMCxwLmJhc2VuYW1lKSh0LCgwLHAuZXh0bmFtZSkodCkpKSxzPWcudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbZy52YXJpYWJsZURlY2xhcmF0b3IoaSxiKGcuc3RyaW5nTGl0ZXJhbCh0KSkuZXhwcmVzc2lvbildKTtyZXR1cm4gaFt0XSYmKHMubG9jPWhbdF0ubG9jKSwibnVtYmVyIj09dHlwZW9mIHImJnI+MCYmKHMuX2Jsb2NrSG9pc3Q9ciksdi5wdXNoKHMpLENbdF09aX1mdW5jdGlvbiBuKGUsdCxyKXt2YXIgbj1lW3RdfHxbXTtlW3RdPW4uY29uY2F0KHIpfXRoaXMucmFuQ29tbW9uSlM9ITA7dmFyIGk9ISF0aGlzLm9wdHMuc3RyaWN0LGE9ISF0aGlzLm9wdHMubm9JbnRlcm9wLHU9ZS5zY29wZTt1LnJlbmFtZSgibW9kdWxlIiksdS5yZW5hbWUoImV4cG9ydHMiKSx1LnJlbmFtZSgicmVxdWlyZSIpO2Zvcih2YXIgYz0hMSxmPSExLGQ9ZS5nZXQoImJvZHkiKSxoPSgwLG8uZGVmYXVsdCkobnVsbCksbT0oMCxvLmRlZmF1bHQpKG51bGwpLHk9KDAsby5kZWZhdWx0KShudWxsKSx2PVtdLEQ9KDAsby5kZWZhdWx0KShudWxsKSxDPSgwLG8uZGVmYXVsdCkobnVsbCksdz1kLFA9QXJyYXkuaXNBcnJheSh3KSxrPTAsdz1QP3c6KDAsbC5kZWZhdWx0KSh3KTs7KXt2YXIgRjtpZihQKXtpZihrPj13Lmxlbmd0aClicmVhaztGPXdbaysrXX1lbHNle2lmKGs9dy5uZXh0KCksay5kb25lKWJyZWFrO0Y9ay52YWx1ZX12YXIgVD1GO2lmKFQuaXNFeHBvcnREZWNsYXJhdGlvbigpKXtjPSEwO2Zvcih2YXIgTz1bXS5jb25jYXQoVC5nZXQoImRlY2xhcmF0aW9uIiksVC5nZXQoInNwZWNpZmllcnMiKSksQj1PLFI9QXJyYXkuaXNBcnJheShCKSxJPTAsQj1SP0I6KDAsbC5kZWZhdWx0KShCKTs7KXt2YXIgTTtpZihSKXtpZihJPj1CLmxlbmd0aClicmVhaztNPUJbSSsrXX1lbHNle2lmKEk9Qi5uZXh0KCksSS5kb25lKWJyZWFrO009SS52YWx1ZX12YXIgTj1NO2lmKE4uZ2V0QmluZGluZ0lkZW50aWZpZXJzKCkuX19lc01vZHVsZSl0aHJvdyBOLmJ1aWxkQ29kZUZyYW1lRXJyb3IoJ0lsbGVnYWwgZXhwb3J0ICJfX2VzTW9kdWxlIicpfX1pZihULmlzSW1wb3J0RGVjbGFyYXRpb24oKSl7dmFyIEw7Zj0hMDt2YXIgaj1ULm5vZGUuc291cmNlLnZhbHVlLFU9aFtqXXx8e3NwZWNpZmllcnM6W10sbWF4QmxvY2tIb2lzdDowLGxvYzpULm5vZGUubG9jfTsoTD1VLnNwZWNpZmllcnMpLnB1c2guYXBwbHkoTCxULm5vZGUuc3BlY2lmaWVycyksIm51bWJlciI9PXR5cGVvZiBULm5vZGUuX2Jsb2NrSG9pc3QmJihVLm1heEJsb2NrSG9pc3Q9TWF0aC5tYXgoVC5ub2RlLl9ibG9ja0hvaXN0LFUubWF4QmxvY2tIb2lzdCkpLGhbal09VSxULnJlbW92ZSgpfWVsc2UgaWYoVC5pc0V4cG9ydERlZmF1bHREZWNsYXJhdGlvbigpKXt2YXIgVj1ULmdldCgiZGVjbGFyYXRpb24iKTtpZihWLmlzRnVuY3Rpb25EZWNsYXJhdGlvbigpKXt2YXIgRz1WLm5vZGUuaWQsVz1nLmlkZW50aWZpZXIoImRlZmF1bHQiKTtHPyhuKG0sRy5uYW1lLFcpLHYucHVzaChTKFcsRykpLFQucmVwbGFjZVdpdGgoVi5ub2RlKSk6KHYucHVzaChTKFcsZy50b0V4cHJlc3Npb24oVi5ub2RlKSkpLFQucmVtb3ZlKCkpfWVsc2UgaWYoVi5pc0NsYXNzRGVjbGFyYXRpb24oKSl7dmFyIFk9Vi5ub2RlLmlkLHE9Zy5pZGVudGlmaWVyKCJkZWZhdWx0Iik7WT8obihtLFkubmFtZSxxKSxULnJlcGxhY2VXaXRoTXVsdGlwbGUoW1Yubm9kZSxTKHEsWSldKSk6KFQucmVwbGFjZVdpdGgoUyhxLGcudG9FeHByZXNzaW9uKFYubm9kZSkpKSxULnBhcmVudFBhdGgucmVxdWV1ZShULmdldCgiZXhwcmVzc2lvbi5sZWZ0IikpKX1lbHNlIFQucmVwbGFjZVdpdGgoUyhnLmlkZW50aWZpZXIoImRlZmF1bHQiKSxWLm5vZGUpKSxULnBhcmVudFBhdGgucmVxdWV1ZShULmdldCgiZXhwcmVzc2lvbi5sZWZ0IikpfWVsc2UgaWYoVC5pc0V4cG9ydE5hbWVkRGVjbGFyYXRpb24oKSl7dmFyIEs9VC5nZXQoImRlY2xhcmF0aW9uIik7aWYoSy5ub2RlKXtpZihLLmlzRnVuY3Rpb25EZWNsYXJhdGlvbigpKXt2YXIgSD1LLm5vZGUuaWQ7bihtLEgubmFtZSxIKSx2LnB1c2goUyhILEgpKSxULnJlcGxhY2VXaXRoKEsubm9kZSl9ZWxzZSBpZihLLmlzQ2xhc3NEZWNsYXJhdGlvbigpKXt2YXIgSj1LLm5vZGUuaWQ7bihtLEoubmFtZSxKKSxULnJlcGxhY2VXaXRoTXVsdGlwbGUoW0subm9kZSxTKEosSildKSx5W0oubmFtZV09ITB9ZWxzZSBpZihLLmlzVmFyaWFibGVEZWNsYXJhdGlvbigpKXtmb3IodmFyIFg9Sy5nZXQoImRlY2xhcmF0aW9ucyIpLHo9WCwkPUFycmF5LmlzQXJyYXkoeiksUT0wLHo9JD96OigwLGwuZGVmYXVsdCkoeik7Oyl7dmFyIFo7aWYoJCl7aWYoUT49ei5sZW5ndGgpYnJlYWs7Wj16W1ErK119ZWxzZXtpZihRPXoubmV4dCgpLFEuZG9uZSlicmVhaztaPVEudmFsdWV9dmFyIGVlPVosdGU9ZWUuZ2V0KCJpZCIpLHJlPWVlLmdldCgiaW5pdCIpLG5lPVtdO2lmKHJlLm5vZGV8fHJlLnJlcGxhY2VXaXRoKGcuaWRlbnRpZmllcigidW5kZWZpbmVkIikpLHRlLmlzSWRlbnRpZmllcigpKW4obSx0ZS5ub2RlLm5hbWUsdGUubm9kZSkscmUucmVwbGFjZVdpdGgoUyh0ZS5ub2RlLHJlLm5vZGUpLmV4cHJlc3Npb24pLHlbdGUubm9kZS5uYW1lXT0hMDtlbHNlIGlmKHRlLmlzT2JqZWN0UGF0dGVybigpKWZvcih2YXIgaWU9MDtpZTx0ZS5ub2RlLnByb3BlcnRpZXMubGVuZ3RoO2llKyspe3ZhciBzZT10ZS5ub2RlLnByb3BlcnRpZXNbaWVdLGFlPXNlLnZhbHVlO2cuaXNBc3NpZ25tZW50UGF0dGVybihhZSk/YWU9YWUubGVmdDpnLmlzUmVzdFByb3BlcnR5KHNlKSYmKGFlPXNlLmFyZ3VtZW50KSxuKG0sYWUubmFtZSxhZSksbmUucHVzaChTKGFlLGFlKSkseVthZS5uYW1lXT0hMH1lbHNlIGlmKHRlLmlzQXJyYXlQYXR0ZXJuKCkmJnRlLm5vZGUuZWxlbWVudHMpZm9yKHZhciBvZT0wO29lPHRlLm5vZGUuZWxlbWVudHMubGVuZ3RoO29lKyspe3ZhciB1ZT10ZS5ub2RlLmVsZW1lbnRzW29lXTtpZih1ZSl7Zy5pc0Fzc2lnbm1lbnRQYXR0ZXJuKHVlKT91ZT11ZS5sZWZ0OmcuaXNSZXN0RWxlbWVudCh1ZSkmJih1ZT11ZS5hcmd1bWVudCk7dmFyIGxlPXVlLm5hbWU7bihtLGxlLHVlKSxuZS5wdXNoKFModWUsdWUpKSx5W2xlXT0hMH19VC5pbnNlcnRBZnRlcihuZSl9VC5yZXBsYWNlV2l0aChLLm5vZGUpfWNvbnRpbnVlfXZhciBjZT1ULmdldCgic3BlY2lmaWVycyIpLGZlPVtdLHBlPVQubm9kZS5zb3VyY2U7aWYocGUpZm9yKHZhciBkZT1yKHBlLnZhbHVlLFQubm9kZS5fYmxvY2tIb2lzdCksaGU9Y2UsbWU9QXJyYXkuaXNBcnJheShoZSkseWU9MCxoZT1tZT9oZTooMCxsLmRlZmF1bHQpKGhlKTs7KXt2YXIgdmU7aWYobWUpe2lmKHllPj1oZS5sZW5ndGgpYnJlYWs7dmU9aGVbeWUrK119ZWxzZXtpZih5ZT1oZS5uZXh0KCkseWUuZG9uZSlicmVhazt2ZT15ZS52YWx1ZX12YXIgZ2U9dmU7Z2UuaXNFeHBvcnROYW1lc3BhY2VTcGVjaWZpZXIoKXx8Z2UuaXNFeHBvcnREZWZhdWx0U3BlY2lmaWVyKCl8fGdlLmlzRXhwb3J0U3BlY2lmaWVyKCkmJihhfHwiZGVmYXVsdCIhPT1nZS5ub2RlLmxvY2FsLm5hbWU/di5wdXNoKHgoZy5zdHJpbmdMaXRlcmFsKGdlLm5vZGUuZXhwb3J0ZWQubmFtZSksZy5tZW1iZXJFeHByZXNzaW9uKGRlLGdlLm5vZGUubG9jYWwpKSk6di5wdXNoKHgoZy5zdHJpbmdMaXRlcmFsKGdlLm5vZGUuZXhwb3J0ZWQubmFtZSksZy5tZW1iZXJFeHByZXNzaW9uKGcuY2FsbEV4cHJlc3Npb24odGhpcy5hZGRIZWxwZXIoImludGVyb3BSZXF1aXJlRGVmYXVsdCIpLFtkZV0pLGdlLm5vZGUubG9jYWwpKSkseVtnZS5ub2RlLmV4cG9ydGVkLm5hbWVdPSEwKX1lbHNlIGZvcih2YXIgYmU9Y2UsRWU9QXJyYXkuaXNBcnJheShiZSkseGU9MCxiZT1FZT9iZTooMCxsLmRlZmF1bHQpKGJlKTs7KXt2YXIgQWU7aWYoRWUpe2lmKHhlPj1iZS5sZW5ndGgpYnJlYWs7QWU9YmVbeGUrK119ZWxzZXtpZih4ZT1iZS5uZXh0KCkseGUuZG9uZSlicmVhaztBZT14ZS52YWx1ZX12YXIgU2U9QWU7U2UuaXNFeHBvcnRTcGVjaWZpZXIoKSYmKG4obSxTZS5ub2RlLmxvY2FsLm5hbWUsU2Uubm9kZS5leHBvcnRlZCkseVtTZS5ub2RlLmV4cG9ydGVkLm5hbWVdPSEwLGZlLnB1c2goUyhTZS5ub2RlLmV4cG9ydGVkLFNlLm5vZGUubG9jYWwpKSl9VC5yZXBsYWNlV2l0aE11bHRpcGxlKGZlKX1lbHNlIGlmKFQuaXNFeHBvcnRBbGxEZWNsYXJhdGlvbigpKXt2YXIgX2U9Xyh7T0JKRUNUOnIoVC5ub2RlLnNvdXJjZS52YWx1ZSxULm5vZGUuX2Jsb2NrSG9pc3QpfSk7X2UubG9jPVQubm9kZS5sb2Msdi5wdXNoKF9lKSxULnJlbW92ZSgpfX1mb3IodmFyIERlIGluIGgpe3ZhciBDZT1oW0RlXSxPPUNlLnNwZWNpZmllcnMsd2U9Q2UubWF4QmxvY2tIb2lzdDtpZihPLmxlbmd0aCl7Zm9yKHZhciBQZT1yKERlLHdlKSxrZT12b2lkIDAsRmU9MDtGZTxPLmxlbmd0aDtGZSsrKXt2YXIgVGU9T1tGZV07aWYoZy5pc0ltcG9ydE5hbWVzcGFjZVNwZWNpZmllcihUZSkpe2lmKGl8fGEpRFtUZS5sb2NhbC5uYW1lXT1QZTtlbHNle3ZhciBPZT1nLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2cudmFyaWFibGVEZWNsYXJhdG9yKFRlLmxvY2FsLGcuY2FsbEV4cHJlc3Npb24odGhpcy5hZGRIZWxwZXIoImludGVyb3BSZXF1aXJlV2lsZGNhcmQiKSxbUGVdKSldKTt3ZT4wJiYoT2UuX2Jsb2NrSG9pc3Q9d2UpLHYucHVzaChPZSl9a2U9VGUubG9jYWx9ZWxzZSBnLmlzSW1wb3J0RGVmYXVsdFNwZWNpZmllcihUZSkmJihPW0ZlXT1nLmltcG9ydFNwZWNpZmllcihUZS5sb2NhbCxnLmlkZW50aWZpZXIoImRlZmF1bHQiKSkpfWZvcih2YXIgQmU9TyxSZT1BcnJheS5pc0FycmF5KEJlKSxJZT0wLEJlPVJlP0JlOigwLGwuZGVmYXVsdCkoQmUpOzspe3ZhciBNZTtpZihSZSl7aWYoSWU+PUJlLmxlbmd0aClicmVhaztNZT1CZVtJZSsrXX1lbHNle2lmKEllPUJlLm5leHQoKSxJZS5kb25lKWJyZWFrO01lPUllLnZhbHVlfXZhciBOZT1NZTtpZihnLmlzSW1wb3J0U3BlY2lmaWVyKE5lKSl7dmFyIExlPVBlO2lmKCJkZWZhdWx0Ij09PU5lLmltcG9ydGVkLm5hbWUpaWYoa2UpTGU9a2U7ZWxzZSBpZighYSl7TGU9a2U9ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoUGUubmFtZSk7dmFyIGplPWcudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbZy52YXJpYWJsZURlY2xhcmF0b3IoTGUsZy5jYWxsRXhwcmVzc2lvbih0aGlzLmFkZEhlbHBlcigiaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiksW1BlXSkpXSk7d2U+MCYmKGplLl9ibG9ja0hvaXN0PXdlKSx2LnB1c2goamUpfURbTmUubG9jYWwubmFtZV09Zy5tZW1iZXJFeHByZXNzaW9uKExlLGcuY2xvbmVXaXRob3V0TG9jKE5lLmltcG9ydGVkKSl9fX1lbHNle3ZhciBVZT1iKGcuc3RyaW5nTGl0ZXJhbChEZSkpO1VlLmxvYz1oW0RlXS5sb2Msdi5wdXNoKFVlKX19aWYoZiYmKDAscy5kZWZhdWx0KSh5KS5sZW5ndGgpZm9yKHZhciBWZT0oMCxzLmRlZmF1bHQpKHkpLEdlPTA7R2U8VmUubGVuZ3RoO0dlKz0xMDApIWZ1bmN0aW9uKGUpe3ZhciB0PVZlLnNsaWNlKGUsZSsxMDApLHI9Zy5pZGVudGlmaWVyKCJ1bmRlZmluZWQiKTt0LmZvckVhY2goZnVuY3Rpb24oZSl7cj1TKGcuaWRlbnRpZmllcihlKSxyKS5leHByZXNzaW9ufSk7dmFyIG49Zy5leHByZXNzaW9uU3RhdGVtZW50KHIpO24uX2Jsb2NrSG9pc3Q9Myx2LnVuc2hpZnQobil9KEdlKTtpZihjJiYhaSl7dmFyIFdlPUU7dGhpcy5vcHRzLmxvb3NlJiYoV2U9QSk7dmFyIFllPVdlKCk7WWUuX2Jsb2NrSG9pc3Q9Myx2LnVuc2hpZnQoWWUpfWUudW5zaGlmdENvbnRhaW5lcigiYm9keSIsdiksZS50cmF2ZXJzZSh0LHtyZW1hcHM6RCxzY29wZTp1LGV4cG9ydHM6bSxyZXF1ZXVlSW5QYXJlbnQ6ZnVuY3Rpb24odCl7cmV0dXJuIGUucmVxdWV1ZSh0KX19KX19fX19O3ZhciBwPXIoMTkpLGQ9cig0KSxoPW4oZCksbT1yKDIxNikseT1uKG0pLHY9cigxKSxnPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0odiksYj0oMCxoLmRlZmF1bHQpKCJcbiAgcmVxdWlyZSgkMCk7XG4iKSxFPSgwLGguZGVmYXVsdCkoJ1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7XG4gICAgdmFsdWU6IHRydWVcbiAgfSk7XG4nKSx4PSgwLGguZGVmYXVsdCkoIlxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJDAsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICQxO1xuICAgIH1cbiAgfSk7XG4iKSxBPSgwLGguZGVmYXVsdCkoIlxuICBleHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuIiksUz0oMCxoLmRlZmF1bHQpKCJcbiAgZXhwb3J0cy4kMCA9ICQxO1xuIiksXz0oMCxoLmRlZmF1bHQpKCdcbiAgT2JqZWN0LmtleXMoT0JKRUNUKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoa2V5ID09PSAiZGVmYXVsdCIgfHwga2V5ID09PSAiX19lc01vZHVsZSIpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBPQkpFQ1Rba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4nKSxEPVsiRnVuY3Rpb25FeHByZXNzaW9uIiwiRnVuY3Rpb25EZWNsYXJhdGlvbiIsIkNsYXNzUHJvcGVydHkiLCJDbGFzc01ldGhvZCIsIk9iamVjdE1ldGhvZCJdO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMikscz1uKGkpLGE9cigxMCksbz1uKGEpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCxyLG4saSl7bmV3IGwuZGVmYXVsdCh7Z2V0T2JqZWN0UmVmOm4sbWV0aG9kTm9kZTp0LG1ldGhvZFBhdGg6ZSxpc1N0YXRpYzohMCxzY29wZTpyLGZpbGU6aX0pLnJlcGxhY2UoKX12YXIgcj1lLnR5cGVzLG49KDAsby5kZWZhdWx0KSgpO3JldHVybnt2aXNpdG9yOntTdXBlcjpmdW5jdGlvbihlKXt2YXIgdD1lLmZpbmRQYXJlbnQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNPYmplY3RFeHByZXNzaW9uKCl9KTt0JiYodC5ub2RlW25dPSEwKX0sT2JqZWN0RXhwcmVzc2lvbjp7ZXhpdDpmdW5jdGlvbihlLGkpe2lmKGUubm9kZVtuXSl7Zm9yKHZhciBhPXZvaWQgMCxvPWZ1bmN0aW9uKCl7cmV0dXJuIGE9YXx8ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoIm9iaiIpfSx1PWUuZ2V0KCJwcm9wZXJ0aWVzIiksbD11LGM9QXJyYXkuaXNBcnJheShsKSxmPTAsbD1jP2w6KDAscy5kZWZhdWx0KShsKTs7KXt2YXIgcDtpZihjKXtpZihmPj1sLmxlbmd0aClicmVhaztwPWxbZisrXX1lbHNle2lmKGY9bC5uZXh0KCksZi5kb25lKWJyZWFrO3A9Zi52YWx1ZX12YXIgZD1wO2QuaXNPYmplY3RQcm9wZXJ0eSgpJiYoZD1kLmdldCgidmFsdWUiKSksdChkLGQubm9kZSxlLnNjb3BlLG8saSl9YSYmKGUuc2NvcGUucHVzaCh7aWQ6YX0pLGUucmVwbGFjZVdpdGgoci5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsYSxlLm5vZGUpKSl9fX19fX07dmFyIHU9cigxOTMpLGw9bih1KTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShpKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dmlzaXRvcjphLnZpc2l0b3JzLm1lcmdlKFt7QXJyb3dGdW5jdGlvbkV4cHJlc3Npb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUuZ2V0KCJwYXJhbXMiKSxyPXQsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjooMCxzLmRlZmF1bHQpKHIpOzspe3ZhciBhO2lmKG4pe2lmKGk+PXIubGVuZ3RoKWJyZWFrO2E9cltpKytdfWVsc2V7aWYoaT1yLm5leHQoKSxpLmRvbmUpYnJlYWs7YT1pLnZhbHVlfXZhciBvPWE7aWYoby5pc1Jlc3RFbGVtZW50KCl8fG8uaXNBc3NpZ25tZW50UGF0dGVybigpKXtlLmFycm93RnVuY3Rpb25Ub1NoYWRvd2VkKCk7YnJlYWt9fX19LHUudmlzaXRvcixwLnZpc2l0b3IsYy52aXNpdG9yXSl9fTt2YXIgYT1yKDcpLG89cigzMzQpLHU9bihvKSxsPXIoMzMzKSxjPW4obCksZj1yKDMzNSkscD1uKGYpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnt2aXNpdG9yOntPYmplY3RNZXRob2Q6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO2lmKCJtZXRob2QiPT09dC5raW5kKXt2YXIgcj1pLmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLHQucGFyYW1zLHQuYm9keSx0LmdlbmVyYXRvcix0LmFzeW5jKTtyLnJldHVyblR5cGU9dC5yZXR1cm5UeXBlLGUucmVwbGFjZVdpdGgoaS5vYmplY3RQcm9wZXJ0eSh0LmtleSxyLHQuY29tcHV0ZWQpKX19LE9iamVjdFByb3BlcnR5OmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZTt0LnNob3J0aGFuZCYmKHQuc2hvcnRoYW5kPSExKX19fX07dmFyIG49cigxKSxpPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obik7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0LHIpe3JldHVybiByLm9wdHMubG9vc2UmJiFzLmlzSWRlbnRpZmllcihlLmFyZ3VtZW50LHtuYW1lOiJhcmd1bWVudHMifSk/ZS5hcmd1bWVudDp0LnRvQXJyYXkoZS5hcmd1bWVudCwhMCl9ZnVuY3Rpb24gcihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihzLmlzU3ByZWFkRWxlbWVudChlW3RdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBuKGUscixuKXtmdW5jdGlvbiBhKCl7dS5sZW5ndGgmJihvLnB1c2gocy5hcnJheUV4cHJlc3Npb24odSkpLHU9W10pfWZvcih2YXIgbz1bXSx1PVtdLGw9ZSxjPUFycmF5LmlzQXJyYXkobCksZj0wLGw9Yz9sOigwLGkuZGVmYXVsdCkobCk7Oyl7dmFyIHA7aWYoYyl7aWYoZj49bC5sZW5ndGgpYnJlYWs7cD1sW2YrK119ZWxzZXtpZihmPWwubmV4dCgpLGYuZG9uZSlicmVhaztwPWYudmFsdWV9dmFyIGQ9cDtzLmlzU3ByZWFkRWxlbWVudChkKT8oYSgpLG8ucHVzaCh0KGQscixuKSkpOnUucHVzaChkKX1yZXR1cm4gYSgpLG99dmFyIHM9ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7QXJyYXlFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5ub2RlLGE9ZS5zY29wZSxvPWkuZWxlbWVudHM7aWYocihvKSl7dmFyIHU9bihvLGEsdCksbD11LnNoaWZ0KCk7cy5pc0FycmF5RXhwcmVzc2lvbihsKXx8KHUudW5zaGlmdChsKSxsPXMuYXJyYXlFeHByZXNzaW9uKFtdKSksZS5yZXBsYWNlV2l0aChzLmNhbGxFeHByZXNzaW9uKHMubWVtYmVyRXhwcmVzc2lvbihsLHMuaWRlbnRpZmllcigiY29uY2F0IikpLHUpKX19LENhbGxFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIGk9ZS5ub2RlLGE9ZS5zY29wZSxvPWkuYXJndW1lbnRzO2lmKHIobykpe3ZhciB1PWUuZ2V0KCJjYWxsZWUiKTtpZighdS5pc1N1cGVyKCkpe3ZhciBsPXMuaWRlbnRpZmllcigidW5kZWZpbmVkIik7aS5hcmd1bWVudHM9W107dmFyIGM9dm9pZCAwO2M9MT09PW8ubGVuZ3RoJiYiYXJndW1lbnRzIj09PW9bMF0uYXJndW1lbnQubmFtZT9bb1swXS5hcmd1bWVudF06bihvLGEsdCk7dmFyIGY9Yy5zaGlmdCgpO2MubGVuZ3RoP2kuYXJndW1lbnRzLnB1c2gocy5jYWxsRXhwcmVzc2lvbihzLm1lbWJlckV4cHJlc3Npb24oZixzLmlkZW50aWZpZXIoImNvbmNhdCIpKSxjKSk6aS5hcmd1bWVudHMucHVzaChmKTt2YXIgcD1pLmNhbGxlZTtpZih1LmlzTWVtYmVyRXhwcmVzc2lvbigpKXt2YXIgZD1hLm1heWJlR2VuZXJhdGVNZW1vaXNlZChwLm9iamVjdCk7ZD8ocC5vYmplY3Q9cy5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsZCxwLm9iamVjdCksbD1kKTpsPXAub2JqZWN0LHMuYXBwZW5kVG9NZW1iZXJFeHByZXNzaW9uKHAscy5pZGVudGlmaWVyKCJhcHBseSIpKX1lbHNlIGkuY2FsbGVlPXMubWVtYmVyRXhwcmVzc2lvbihpLmNhbGxlZSxzLmlkZW50aWZpZXIoImFwcGx5IikpO3MuaXNTdXBlcihsKSYmKGw9cy50aGlzRXhwcmVzc2lvbigpKSxpLmFyZ3VtZW50cy51bnNoaWZ0KGwpfX19LE5ld0V4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXt2YXIgaT1lLm5vZGUsYT1lLnNjb3BlLG89aS5hcmd1bWVudHM7aWYocihvKSl7dmFyIHU9bihvLGEsdCksbD1zLmFycmF5RXhwcmVzc2lvbihbcy5udWxsTGl0ZXJhbCgpXSk7bz1zLmNhbGxFeHByZXNzaW9uKHMubWVtYmVyRXhwcmVzc2lvbihsLHMuaWRlbnRpZmllcigiY29uY2F0IikpLHUpLGUucmVwbGFjZVdpdGgocy5uZXdFeHByZXNzaW9uKHMuY2FsbEV4cHJlc3Npb24ocy5tZW1iZXJFeHByZXNzaW9uKHMubWVtYmVyRXhwcmVzc2lvbihzLm1lbWJlckV4cHJlc3Npb24ocy5pZGVudGlmaWVyKCJGdW5jdGlvbiIpLHMuaWRlbnRpZmllcigicHJvdG90eXBlIikpLHMuaWRlbnRpZmllcigiYmluZCIpKSxzLmlkZW50aWZpZXIoImFwcGx5IikpLFtpLmNhbGxlZSxvXSksW10pKX19fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnt2aXNpdG9yOntSZWdFeHBMaXRlcmFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZTtzLmlzKHQsInkiKSYmZS5yZXBsYWNlV2l0aChvLm5ld0V4cHJlc3Npb24oby5pZGVudGlmaWVyKCJSZWdFeHAiKSxbby5zdHJpbmdMaXRlcmFsKHQucGF0dGVybiksby5zdHJpbmdMaXRlcmFsKHQuZmxhZ3MpXSkpfX19fTt2YXIgaT1yKDE5Mikscz1uKGkpLGE9cigxKSxvPW4oYSk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIG4uaXNMaXRlcmFsKGUpJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWV9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBuLmJpbmFyeUV4cHJlc3Npb24oIisiLGUsdCl9dmFyIG49ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7VGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUubm9kZSxzPXIucXVhc2ksYT1bXSxvPVtdLHU9W10sbD1zLnF1YXNpcyxjPUFycmF5LmlzQXJyYXkobCksZj0wLGw9Yz9sOigwLGkuZGVmYXVsdCkobCk7Oyl7dmFyIHA7aWYoYyl7aWYoZj49bC5sZW5ndGgpYnJlYWs7cD1sW2YrK119ZWxzZXtpZihmPWwubmV4dCgpLGYuZG9uZSlicmVhaztwPWYudmFsdWV9dmFyIGQ9cDtvLnB1c2gobi5zdHJpbmdMaXRlcmFsKGQudmFsdWUuY29va2VkKSksdS5wdXNoKG4uc3RyaW5nTGl0ZXJhbChkLnZhbHVlLnJhdykpfW89bi5hcnJheUV4cHJlc3Npb24obyksdT1uLmFycmF5RXhwcmVzc2lvbih1KTt2YXIgaD0idGFnZ2VkVGVtcGxhdGVMaXRlcmFsIjt0Lm9wdHMubG9vc2UmJihoKz0iTG9vc2UiKTt2YXIgbT10LmZpbGUuYWRkVGVtcGxhdGVPYmplY3QoaCxvLHUpO2EucHVzaChtKSxhPWEuY29uY2F0KHMuZXhwcmVzc2lvbnMpLGUucmVwbGFjZVdpdGgobi5jYWxsRXhwcmVzc2lvbihyLnRhZyxhKSl9LFRlbXBsYXRlTGl0ZXJhbDpmdW5jdGlvbihlLHMpe2Zvcih2YXIgYT1bXSxvPWUuZ2V0KCJleHByZXNzaW9ucyIpLHU9ZS5ub2RlLnF1YXNpcyxsPUFycmF5LmlzQXJyYXkodSksYz0wLHU9bD91OigwLGkuZGVmYXVsdCkodSk7Oyl7dmFyIGY7aWYobCl7aWYoYz49dS5sZW5ndGgpYnJlYWs7Zj11W2MrK119ZWxzZXtpZihjPXUubmV4dCgpLGMuZG9uZSlicmVhaztmPWMudmFsdWV9dmFyIHA9ZjthLnB1c2gobi5zdHJpbmdMaXRlcmFsKHAudmFsdWUuY29va2VkKSk7dmFyIGQ9by5zaGlmdCgpO2QmJighcy5vcHRzLnNwZWN8fGQuaXNCYXNlVHlwZSgic3RyaW5nIil8fGQuaXNCYXNlVHlwZSgibnVtYmVyIik/YS5wdXNoKGQubm9kZSk6YS5wdXNoKG4uY2FsbEV4cHJlc3Npb24obi5pZGVudGlmaWVyKCJTdHJpbmciKSxbZC5ub2RlXSkpKX1pZihhPWEuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFuLmlzTGl0ZXJhbChlLHt2YWx1ZToiIn0pfSksdChhWzBdKXx8dChhWzFdKXx8YS51bnNoaWZ0KG4uc3RyaW5nTGl0ZXJhbCgiIikpLGEubGVuZ3RoPjEpe2Zvcih2YXIgaD1yKGEuc2hpZnQoKSxhLnNoaWZ0KCkpLG09YSx5PUFycmF5LmlzQXJyYXkobSksdj0wLG09eT9tOigwLGkuZGVmYXVsdCkobSk7Oyl7dmFyIGc7aWYoeSl7aWYodj49bS5sZW5ndGgpYnJlYWs7Zz1tW3YrK119ZWxzZXtpZih2PW0ubmV4dCgpLHYuZG9uZSlicmVhaztnPXYudmFsdWV9aD1yKGgsZyl9ZS5yZXBsYWNlV2l0aChoKX1lbHNlIGUucmVwbGFjZVdpdGgoYVswXSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMTApLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcyxyPSgwLGkuZGVmYXVsdCkoKTtyZXR1cm57dmlzaXRvcjp7U2NvcGU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zY29wZTt0LmdldEJpbmRpbmcoIlN5bWJvbCIpJiZ0LnJlbmFtZSgiU3ltYm9sIil9LFVuYXJ5RXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgbj1lLm5vZGUsaT1lLnBhcmVudDtpZighbltyXSYmIWUuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlJiYhIWUubm9kZS5fZ2VuZXJhdGVkfSkpe2lmKGUucGFyZW50UGF0aC5pc0JpbmFyeUV4cHJlc3Npb24oKSYmdC5FUVVBTElUWV9CSU5BUllfT1BFUkFUT1JTLmluZGV4T2YoaS5vcGVyYXRvcik+PTApe3ZhciBzPWUuZ2V0T3Bwb3NpdGUoKTtpZihzLmlzTGl0ZXJhbCgpJiYic3ltYm9sIiE9PXMubm9kZS52YWx1ZSYmIm9iamVjdCIhPT1zLm5vZGUudmFsdWUpcmV0dXJufWlmKCJ0eXBlb2YiPT09bi5vcGVyYXRvcil7dmFyIGE9dC5jYWxsRXhwcmVzc2lvbih0aGlzLmFkZEhlbHBlcigidHlwZW9mIiksW24uYXJndW1lbnRdKTtpZihlLmdldCgiYXJndW1lbnQiKS5pc0lkZW50aWZpZXIoKSl7dmFyIG89dC5zdHJpbmdMaXRlcmFsKCJ1bmRlZmluZWQiKSx1PXQudW5hcnlFeHByZXNzaW9uKCJ0eXBlb2YiLG4uYXJndW1lbnQpO3Vbcl09ITAsZS5yZXBsYWNlV2l0aCh0LmNvbmRpdGlvbmFsRXhwcmVzc2lvbih0LmJpbmFyeUV4cHJlc3Npb24oIj09PSIsdSxvKSxvLGEpKX1lbHNlIGUucmVwbGFjZVdpdGgoYSl9fX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue3Zpc2l0b3I6e1JlZ0V4cExpdGVyYWw6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO2EuaXModCwidSIpJiYodC5wYXR0ZXJuPSgwLGkuZGVmYXVsdCkodC5wYXR0ZXJuLHQuZmxhZ3MpLGEucHVsbEZsYWcodCwidSIpKX19fX07dmFyIG49cig2MTIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxzPXIoMTkyKSxhPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocyk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cig2MDYpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQwOCksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbigpe2koKSxzKCl9ZnVuY3Rpb24gaSgpe3QucGF0aD11PW5ldyBvLmRlZmF1bHR9ZnVuY3Rpb24gcygpe3Quc2NvcGU9bD1uZXcgby5kZWZhdWx0fXQuX19lc01vZHVsZT0hMCx0LnNjb3BlPXQucGF0aD12b2lkIDA7dmFyIGE9cigzNjQpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShhKTt0LmNsZWFyPW4sdC5jbGVhclBhdGg9aSx0LmNsZWFyU2NvcGU9czt2YXIgdT10LnBhdGg9bmV3IG8uZGVmYXVsdCxsPXQuc2NvcGU9bmV3IG8uZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZT1lLnNwbGl0KCIgIiksZnVuY3Rpb24odCl7cmV0dXJuIGUuaW5kZXhPZih0KT49MH19ZnVuY3Rpb24gbihlLHQpe2Zvcih2YXIgcj02NTUzNixuPTA7bjx0Lmxlbmd0aDtuKz0yKXtpZigocis9dFtuXSk+ZSlyZXR1cm4hMTtpZigocis9dFtuKzFdKT49ZSlyZXR1cm4hMH19ZnVuY3Rpb24gaShlKXtyZXR1cm4gZTw2NT8zNj09PWU6ZTw5MXx8KGU8OTc/OTU9PT1lOmU8MTIzfHwoZTw9NjU1MzU/ZT49MTcwJiZ4LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShlKSk6bihlLFMpKSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZTw0OD8zNj09PWU6ZTw1OHx8IShlPDY1KSYmKGU8OTF8fChlPDk3Pzk1PT09ZTplPDEyM3x8KGU8PTY1NTM1P2U+PTE3MCYmQS50ZXN0KFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpOm4oZSxTKXx8bihlLF8pKSkpfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9e307Zm9yKHZhciByIGluIEQpdFtyXT1lJiZyIGluIGU/ZVtyXTpEW3JdO3JldHVybiB0fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIDEwPT09ZXx8MTM9PT1lfHw4MjMyPT09ZXx8ODIzMz09PWV9ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj0xLG49MDs7KXtOLmxhc3RJbmRleD1uO3ZhciBpPU4uZXhlYyhlKTtpZighKGkmJmkuaW5kZXg8dCkpcmV0dXJuIG5ldyBWKHIsdC1uKTsrK3Isbj1pLmluZGV4K2lbMF0ubGVuZ3RofX1mdW5jdGlvbiBsKGUpe3JldHVybiBlPD02NTUzNT9TdHJpbmcuZnJvbUNoYXJDb2RlKGUpOlN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYrKGUtNjU1MzY+PjEwKSw1NjMyMCsoZS02NTUzNiYxMDIzKSl9ZnVuY3Rpb24gYyhlLHQscixuKXtyZXR1cm4gZS50eXBlPXQsZS5lbmQ9cixlLmxvYy5lbmQ9bix0aGlzLnByb2Nlc3NDb21tZW50KGUpLGV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gZVtlLmxlbmd0aC0xXX1mdW5jdGlvbiBwKGUpe3JldHVybiBlJiYiUHJvcGVydHkiPT09ZS50eXBlJiYiaW5pdCI9PT1lLmtpbmQmJiExPT09ZS5tZXRob2R9ZnVuY3Rpb24gZChlKXtyZXR1cm4iSlNYSWRlbnRpZmllciI9PT1lLnR5cGU/ZS5uYW1lOiJKU1hOYW1lc3BhY2VkTmFtZSI9PT1lLnR5cGU/ZS5uYW1lc3BhY2UubmFtZSsiOiIrZS5uYW1lLm5hbWU6IkpTWE1lbWJlckV4cHJlc3Npb24iPT09ZS50eXBlP2QoZS5vYmplY3QpKyIuIitkKGUucHJvcGVydHkpOnZvaWQgMH1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuIG5ldyBKKHQsZSkucGFyc2UoKX1mdW5jdGlvbiBtKGUsdCl7dmFyIHI9bmV3IEoodCxlKTtyZXR1cm4gci5vcHRpb25zLnN0cmljdE1vZGUmJihyLnN0YXRlLnN0cmljdD0hMCksci5nZXRFeHByZXNzaW9uKCl9dmFyIHk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgdj17NjpyKCJlbnVtIGF3YWl0Iiksc3RyaWN0OnIoImltcGxlbWVudHMgaW50ZXJmYWNlIGxldCBwYWNrYWdlIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyBzdGF0aWMgeWllbGQiKSxzdHJpY3RCaW5kOnIoImV2YWwgYXJndW1lbnRzIikKfSxnPXIoImJyZWFrIGNhc2UgY2F0Y2ggY29udGludWUgZGVidWdnZXIgZGVmYXVsdCBkbyBlbHNlIGZpbmFsbHkgZm9yIGZ1bmN0aW9uIGlmIHJldHVybiBzd2l0Y2ggdGhyb3cgdHJ5IHZhciB3aGlsZSB3aXRoIG51bGwgdHJ1ZSBmYWxzZSBpbnN0YW5jZW9mIHR5cGVvZiB2b2lkIGRlbGV0ZSBuZXcgaW4gdGhpcyBsZXQgY29uc3QgY2xhc3MgZXh0ZW5kcyBleHBvcnQgaW1wb3J0IHlpZWxkIHN1cGVyIiksYj0iwqrCtcK6w4Atw5bDmC3DtsO4LcuBy4Yty5HLoC3LpMusy67NsC3NtM22zbfNui3Nvc2/zobOiC3Ois6Mzo4tzqHOoy3Ptc+3LdKB0oot1K/UsS3VltWZ1aEt1ofXkC3XqtewLdey2KAt2YrZrtmv2bEt25Pbldul26bbrtuv27ot27zbv9yQ3JIt3K/djS3epd6x34ot36rftN+137rgoIAt4KCV4KCa4KCk4KCo4KGALeChmOCioC3gorTgorYt4KK94KSELeCkueCkveClkOClmC3gpaHgpbEt4KaA4KaFLeCmjOCmj+CmkOCmky3gpqjgpqot4Kaw4Kay4Ka2LeCmueCmveCnjuCnnOCnneCnny3gp6Hgp7Dgp7HgqIUt4KiK4KiP4KiQ4KiTLeCoqOCoqi3gqLDgqLLgqLPgqLXgqLbgqLjgqLngqZkt4Kmc4Kme4KmyLeCptOCqhS3gqo3gqo8t4KqR4KqTLeCqqOCqqi3gqrDgqrLgqrPgqrUt4Kq54Kq94KuQ4Kug4Kuh4Ku54KyFLeCsjOCsj+CskOCsky3grKjgrKot4Kyw4Kyy4Kyz4Ky1LeCsueCsveCtnOCtneCtny3graHgrbHgroPgroUt4K6K4K6OLeCukOCuki3grpXgrpngrprgrpzgrp7grp/grqPgrqTgrqgt4K6q4K6uLeCuueCvkOCwhS3gsIzgsI4t4LCQ4LCSLeCwqOCwqi3gsLngsL3gsZgt4LGa4LGg4LGh4LKA4LKFLeCyjOCyji3gspDgspIt4LKo4LKqLeCys+CytS3gsrngsr3gs57gs6Dgs6Hgs7Hgs7LgtIUt4LSM4LSOLeC0kOC0ki3gtLrgtL3gtY7gtZQt4LWW4LWfLeC1oeC1ui3gtb/gtoUt4LaW4LaaLeC2seC2sy3gtrvgtr3gt4At4LeG4LiBLeC4sOC4suC4s+C5gC3guYbguoHguoLguoTguofguojguorguo3gupQt4LqX4LqZLeC6n+C6oS3guqPguqXguqfguqrguqvguq0t4Lqw4Lqy4Lqz4Lq94LuALeC7hOC7huC7nC3gu5/gvIDgvYAt4L2H4L2JLeC9rOC+iC3gvozhgIAt4YCq4YC/4YGQLeGBleGBmi3hgZ3hgaHhgaXhgabhga4t4YGw4YG1LeGCgeGCjuGCoC3hg4Xhg4fhg43hg5At4YO64YO8LeGJiOGJii3hiY3hiZAt4YmW4YmY4YmaLeGJneGJoC3hiojhioot4YqN4YqQLeGKsOGKsi3hirXhirgt4Yq+4YuA4YuCLeGLheGLiC3hi5bhi5gt4YyQ4YySLeGMleGMmC3hjZrhjoAt4Y6P4Y6gLeGPteGPuC3hj73hkIEt4Zms4ZmvLeGZv+GagS3hmprhmqAt4Zuq4ZuuLeGbuOGcgC3hnIzhnI4t4ZyR4ZygLeGcseGdgC3hnZHhnaAt4Z2s4Z2uLeGdsOGegC3hnrPhn5fhn5zhoKAt4aG34aKALeGiqOGiquGisC3ho7XhpIAt4aSe4aWQLeGlreGlsC3hpbThpoAt4aar4aawLeGnieGogC3hqJbhqKAt4amU4aqn4ayFLeGss+GthS3hrYvhroMt4a6g4a6u4a6v4a66LeGvpeGwgC3hsKPhsY0t4bGP4bGaLeGxveGygC3hsojhs6kt4bOs4bOuLeGzseGzteGztuG0gC3htr/huIAt4byV4byYLeG8neG8oC3hvYXhvYgt4b2N4b2QLeG9l+G9meG9m+G9neG9ny3hvb3hvoAt4b604b62LeG+vOG+vuG/gi3hv4Thv4Yt4b+M4b+QLeG/k+G/li3hv5vhv6At4b+s4b+yLeG/tOG/ti3hv7zigbHigb/igpAt4oKc4oSC4oSH4oSKLeKEk+KEleKEmC3ihJ3ihKTihKbihKjihKot4oS54oS8LeKEv+KFhS3ihYnihY7ihaAt4oaI4rCALeKwruKwsC3isZ7isaAt4rOk4rOrLeKzruKzsuKzs+K0gC3itKXitKfitK3itLAt4rWn4rWv4raALeK2luK2oC3itqbitqgt4rau4rawLeK2tuK2uC3itr7it4At4reG4reILeK3juK3kC3it5bit5gt4ree44CFLeOAh+OAoS3jgKnjgLEt44C144C4LeOAvOOBgS3jgpbjgpst44Kf44KhLeODuuODvC3jg7/jhIUt44St44SxLeOGjuOGoC3jhrrjh7At44e/45CALeS2teS4gC3pv5XqgIAt6pKM6pOQLeqTveqUgC3qmIzqmJAt6pif6piq6pir6pmALeqZruqZvy3qmp3qmqAt6puv6pyXLeqcn+qcoi3qnojqnost6p6u6p6wLeqet+qfty3qoIHqoIMt6qCF6qCHLeqgiuqgjC3qoKLqoYAt6qGz6qKCLeqis+qjsi3qo7fqo7vqo73qpIot6qSl6qSwLeqlhuqloC3qpbzqpoQt6qay6qeP6qegLeqnpOqnpi3qp6/qp7ot6qe+6qiALeqoqOqpgC3qqYLqqYQt6qmL6qmgLeqptuqpuuqpvi3qqq/qqrHqqrXqqrbqqrkt6qq96quA6quC6qubLeqrneqroC3qq6rqq7It6qu06qyBLeqshuqsiS3qrI7qrJEt6qyW6qygLeqspuqsqC3qrK7qrLAt6q2a6q2cLeqtpeqtsC3qr6LqsIAt7Z6j7Z6wLe2fhu2fiy3tn7vvpIAt76mt76mwLe+rme+sgC3vrIbvrJMt76yX76yd76yfLe+sqO+sqi3vrLbvrLgt76y876y+762A762B762D762E762GLe+use+vky3vtL3vtZAt77aP77aSLe+3h++3sC3vt7vvubAt77m077m2Le+7vO+8oS3vvLrvvYEt772a772mLe++vu+/gi3vv4fvv4ot77+P77+SLe+/l++/mi3vv5wiLEU9IuKAjOKAjcK3zIAtza/Oh9KDLdKH1pEt1r3Wv9eB14LXhNeF14fYkC3YmtmLLdmp2bDbli3bnNufLduk26fbqNuqLdut27At27nckdywLd2K3qYt3rDfgC3fid+rLd+z4KCWLeCgmeCgmy3goKPgoKUt4KCn4KCpLeCgreChmS3goZvgo5Qt4KOh4KOjLeCkg+Ckui3gpLzgpL4t4KWP4KWRLeCll+ClouClo+Clpi3gpa/gpoEt4KaD4Ka84Ka+LeCnhOCnh+CniOCniy3gp43gp5fgp6Lgp6Pgp6Yt4Kev4KiBLeCog+CovOCovi3gqYLgqYfgqYjgqYst4KmN4KmR4KmmLeCpseCpteCqgS3gqoPgqrzgqr4t4KuF4KuHLeCrieCriy3gq43gq6Lgq6Pgq6Yt4Kuv4KyBLeCsg+CsvOCsvi3grYTgrYfgrYjgrYst4K2N4K2W4K2X4K2i4K2j4K2mLeCtr+CuguCuvi3gr4Lgr4Yt4K+I4K+KLeCvjeCvl+Cvpi3gr6/gsIAt4LCD4LC+LeCxhOCxhi3gsYjgsYot4LGN4LGV4LGW4LGi4LGj4LGmLeCxr+CygS3gsoPgsrzgsr4t4LOE4LOGLeCziOCzii3gs43gs5Xgs5bgs6Lgs6Pgs6Yt4LOv4LSBLeC0g+C0vi3gtYTgtYYt4LWI4LWKLeC1jeC1l+C1ouC1o+C1pi3gta/gtoLgtoPgt4rgt48t4LeU4LeW4LeYLeC3n+C3pi3gt6/gt7Lgt7PguLHguLQt4Li64LmHLeC5juC5kC3guZngurHgurQt4Lq54Lq74Lq84LuILeC7jeC7kC3gu5ngvJjgvJngvKAt4Lyp4Ly14Ly34Ly54Ly+4Ly/4L2xLeC+hOC+huC+h+C+jS3gvpfgvpkt4L684L+G4YCrLeGAvuGBgC3hgYnhgZYt4YGZ4YGeLeGBoOGBoi3hgaThgact4YGt4YGxLeGBtOGCgi3hgo3hgo8t4YKd4Y2dLeGNn+GNqS3hjbHhnJIt4ZyU4ZyyLeGctOGdkuGdk+GdsuGds+GetC3hn5Phn53hn6At4Z+p4aCLLeGgjeGgkC3hoJnhoqnhpKAt4aSr4aSwLeGku+Glhi3hpY/hp5At4aea4aiXLeGom+GplS3hqZ7hqaAt4am84am/LeGqieGqkC3hqpnhqrAt4aq94ayALeGshOGstC3hrYThrZAt4a2Z4a2rLeGts+GugC3hroLhrqEt4a6t4a6wLeGuueGvpi3hr7PhsKQt4bC34bGALeGxieGxkC3hsZnhs5At4bOS4bOULeGzqOGzreGzsi3hs7Ths7jhs7nht4At4be14be7LeG3v+KAv+KBgOKBlOKDkC3ig5zig6Hig6Ut4oOw4rOvLeKzseK1v+K3oC3it7/jgKot44Cv44KZ44Ka6pigLeqYqeqZr+qZtC3qmb3qmp7qmp/qm7Dqm7HqoILqoIbqoIvqoKMt6qCn6qKA6qKB6qK0LeqjheqjkC3qo5nqo6At6qOx6qSALeqkieqkpi3qpK3qpYct6qWT6qaALeqmg+qmsy3qp4Dqp5At6qeZ6qel6qewLeqnueqoqS3qqLbqqYPqqYzqqY3qqZAt6qmZ6qm7LeqpveqqsOqqsi3qqrTqqrfqqrjqqr7qqr/qq4Hqq6st6quv6qu16qu26q+jLeqvquqvrOqvreqvsC3qr7nvrJ7vuIAt77iP77igLe+4r++4s++4tO+5jS3vuY/vvJAt77yZ77y/Iix4PW5ldyBSZWdFeHAoIlsiK2IrIl0iKSxBPW5ldyBSZWdFeHAoIlsiK2IrRSsiXSIpO2I9RT1udWxsO3ZhciBTPVswLDExLDIsMjUsMiwxOCwyLDEsMiwxNCwzLDEzLDM1LDEyMiw3MCw1MiwyNjgsMjgsNCw0OCw0OCwzMSwxNywyNiw2LDM3LDExLDI5LDMsMzUsNSw3LDIsNCw0MywxNTcsMTksMzUsNSwzNSw1LDM5LDksNTEsMTU3LDMxMCwxMCwyMSwxMSw3LDE1Myw1LDMsMCwyLDQzLDIsMSw0LDAsMywyMiwxMSwyMiwxMCwzMCw2NiwxOCwyLDEsMTEsMjEsMTEsMjUsNzEsNTUsNywxLDY1LDAsMTYsMywyLDIsMiwyNiw0NSwyOCw0LDI4LDM2LDcsMiwyNywyOCw1MywxMSwyMSwxMSwxOCwxNCwxNywxMTEsNzIsNTYsNTAsMTQsNTAsNzg1LDUyLDc2LDQ0LDMzLDI0LDI3LDM1LDQyLDM0LDQsMCwxMyw0NywxNSwzLDIyLDAsMiwwLDM2LDE3LDIsMjQsODUsNiwyLDAsMiwzLDIsMTQsMiw5LDgsNDYsMzksNywzLDEsMywyMSwyLDYsMiwxLDIsNCw0LDAsMTksMCwxMyw0LDE1OSw1MiwxOSwzLDU0LDQ3LDIxLDEsMiwwLDE4NSw0Niw0MiwzLDM3LDQ3LDIxLDAsNjAsNDIsODYsMjUsMzkxLDYzLDMyLDAsNDQ5LDU2LDI2NCw4LDIsMzYsMTgsMCw1MCwyOSw4ODEsOTIxLDEwMywxMTAsMTgsMTk1LDI3NDksMTA3MCw0MDUwLDU4Miw4NjM0LDU2OCw4LDMwLDExNCwyOSwxOSw0NywxNywzLDMyLDIwLDYsMTgsODgxLDY4LDEyLDAsNjcsMTIsNjUsMCwzMiw2MTI0LDIwLDc1NCw5NDg2LDEsMzA3MSwxMDYsNiwxMiw0LDgsOCw5LDU5OTEsODQsMiw3MCwyLDEsMywwLDMsMSwzLDMsMiwxMSwyLDAsMiw2LDIsNjQsMiwzLDMsNywyLDYsMiwyNywyLDMsMiw0LDIsMCw0LDYsMiwzMzksMywyNCwyLDI0LDIsMzAsMiwyNCwyLDMwLDIsMjQsMiwzMCwyLDI0LDIsMzAsMiwyNCwyLDcsNDE0OSwxOTYsNjAsNjcsMTIxMywzLDIsMjYsMiwxLDIsMCwzLDAsMiw5LDIsMywyLDAsMiwwLDcsMCw1LDAsMiwwLDIsMCwyLDIsMiwxLDIsMCwzLDAsMiwwLDIsMCwyLDAsMiwwLDIsMSwyLDAsMywzLDIsNiwyLDMsMiwzLDIsMCwyLDksMiwxNiw2LDIsMiw0LDIsMTYsNDQyMSw0MjcxMCw0Miw0MTQ4LDEyLDIyMSwzLDU3NjEsMTA1OTEsNTQxXSxfPVs1MDksMCwyMjcsMCwxNTAsNCwyOTQsOSwxMzY4LDIsMiwxLDYsMyw0MSwyLDUsMCwxNjYsMSwxMzA2LDIsNTQsMTQsMzIsOSwxNiwzLDQ2LDEwLDU0LDksNywyLDM3LDEzLDIsOSw1MiwwLDEzLDIsNDksMTMsMTAsMiw0LDksODMsMTEsNywwLDE2MSwxMSw2LDksNywzLDU3LDAsMiw2LDMsMSwzLDIsMTAsMCwxMSwxLDMsNiw0LDQsMTkzLDE3LDEwLDksODcsMTksMTMsOSwyMTQsNiwzLDgsMjgsMSw4MywxNiwxNiw5LDgyLDEyLDksOSw4NCwxNCw1LDksNDIzLDksODM4LDcsMiw3LDE3LDksNTcsMjEsMiwxMywxOTg4Miw5LDEzNSw0LDYwLDYsMjYsOSwxMDE2LDQ1LDE3LDMsMTk3MjMsMSw1MzE5LDQsNCw1LDksNywzLDYsMzEsMywxNDksMiwxNDE4LDQ5LDUxMyw1NCw1LDQ5LDksMCwxNSwwLDIzLDQsMiwxNCwxMzYxLDYsMiwxNiwzLDYsMiwxLDIsNCwyMjE0LDYsMTEwLDYsNiw5LDc5MjQ4NywyMzldLEQ9e3NvdXJjZVR5cGU6InNjcmlwdCIsc291cmNlRmlsZW5hbWU6dm9pZCAwLHN0YXJ0TGluZToxLGFsbG93UmV0dXJuT3V0c2lkZUZ1bmN0aW9uOiExLGFsbG93SW1wb3J0RXhwb3J0RXZlcnl3aGVyZTohMSxhbGxvd1N1cGVyT3V0c2lkZU1ldGhvZDohMSxwbHVnaW5zOltdLHN0cmljdE1vZGU6bnVsbH0sQz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09PXkoU3ltYm9sLml0ZXJhdG9yKT9mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwPT09ZT8idW5kZWZpbmVkIjp5KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dm9pZCAwPT09ZT8idW5kZWZpbmVkIjp5KGUpfSx3PWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9LFA9ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKyh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOnkodCkpKTtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSx0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihlLHQpOmUuX19wcm90b19fPXQpfSxrPWZ1bmN0aW9uKGUsdCl7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWQiKTtyZXR1cm4hdHx8Im9iamVjdCIhPT0odm9pZCAwPT09dD8idW5kZWZpbmVkIjp5KHQpKSYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/ZTp0fSxGPSEwLFQ9ZnVuY3Rpb24gZSh0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307dyh0aGlzLGUpLHRoaXMubGFiZWw9dCx0aGlzLmtleXdvcmQ9ci5rZXl3b3JkLHRoaXMuYmVmb3JlRXhwcj0hIXIuYmVmb3JlRXhwcix0aGlzLnN0YXJ0c0V4cHI9ISFyLnN0YXJ0c0V4cHIsdGhpcy5yaWdodEFzc29jaWF0aXZlPSEhci5yaWdodEFzc29jaWF0aXZlLHRoaXMuaXNMb29wPSEhci5pc0xvb3AsdGhpcy5pc0Fzc2lnbj0hIXIuaXNBc3NpZ24sdGhpcy5wcmVmaXg9ISFyLnByZWZpeCx0aGlzLnBvc3RmaXg9ISFyLnBvc3RmaXgsdGhpcy5iaW5vcD1yLmJpbm9wfHxudWxsLHRoaXMudXBkYXRlQ29udGV4dD1udWxsfSxPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQocil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB3KHRoaXMsdCksbi5rZXl3b3JkPXIsayh0aGlzLGUuY2FsbCh0aGlzLHIsbikpfXJldHVybiBQKHQsZSksdH0oVCksQj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHIsbil7cmV0dXJuIHcodGhpcyx0KSxrKHRoaXMsZS5jYWxsKHRoaXMscix7YmVmb3JlRXhwcjpGLGJpbm9wOm59KSl9cmV0dXJuIFAodCxlKSx0fShUKSxSPXtudW06bmV3IFQoIm51bSIse3N0YXJ0c0V4cHI6ITB9KSxyZWdleHA6bmV3IFQoInJlZ2V4cCIse3N0YXJ0c0V4cHI6ITB9KSxzdHJpbmc6bmV3IFQoInN0cmluZyIse3N0YXJ0c0V4cHI6ITB9KSxuYW1lOm5ldyBUKCJuYW1lIix7c3RhcnRzRXhwcjohMH0pLGVvZjpuZXcgVCgiZW9mIiksYnJhY2tldEw6bmV3IFQoIlsiLHtiZWZvcmVFeHByOkYsc3RhcnRzRXhwcjohMH0pLGJyYWNrZXRSOm5ldyBUKCJdIiksYnJhY2VMOm5ldyBUKCJ7Iix7YmVmb3JlRXhwcjpGLHN0YXJ0c0V4cHI6ITB9KSxicmFjZUJhckw6bmV3IFQoInt8Iix7YmVmb3JlRXhwcjpGLHN0YXJ0c0V4cHI6ITB9KSxicmFjZVI6bmV3IFQoIn0iKSxicmFjZUJhclI6bmV3IFQoInx9IikscGFyZW5MOm5ldyBUKCIoIix7YmVmb3JlRXhwcjpGLHN0YXJ0c0V4cHI6ITB9KSxwYXJlblI6bmV3IFQoIikiKSxjb21tYTpuZXcgVCgiLCIse2JlZm9yZUV4cHI6Rn0pLHNlbWk6bmV3IFQoIjsiLHtiZWZvcmVFeHByOkZ9KSxjb2xvbjpuZXcgVCgiOiIse2JlZm9yZUV4cHI6Rn0pLGRvdWJsZUNvbG9uOm5ldyBUKCI6OiIse2JlZm9yZUV4cHI6Rn0pLGRvdDpuZXcgVCgiLiIpLHF1ZXN0aW9uOm5ldyBUKCI/Iix7YmVmb3JlRXhwcjpGfSksYXJyb3c6bmV3IFQoIj0+Iix7YmVmb3JlRXhwcjpGfSksdGVtcGxhdGU6bmV3IFQoInRlbXBsYXRlIiksZWxsaXBzaXM6bmV3IFQoIi4uLiIse2JlZm9yZUV4cHI6Rn0pLGJhY2tRdW90ZTpuZXcgVCgiYCIse3N0YXJ0c0V4cHI6ITB9KSxkb2xsYXJCcmFjZUw6bmV3IFQoIiR7Iix7YmVmb3JlRXhwcjpGLHN0YXJ0c0V4cHI6ITB9KSxhdDpuZXcgVCgiQCIpLGVxOm5ldyBUKCI9Iix7YmVmb3JlRXhwcjpGLGlzQXNzaWduOiEwfSksYXNzaWduOm5ldyBUKCJfPSIse2JlZm9yZUV4cHI6Rixpc0Fzc2lnbjohMH0pLGluY0RlYzpuZXcgVCgiKysvLS0iLHtwcmVmaXg6ITAscG9zdGZpeDohMCxzdGFydHNFeHByOiEwfSkscHJlZml4Om5ldyBUKCJwcmVmaXgiLHtiZWZvcmVFeHByOkYscHJlZml4OiEwLHN0YXJ0c0V4cHI6ITB9KSxsb2dpY2FsT1I6bmV3IEIoInx8IiwxKSxsb2dpY2FsQU5EOm5ldyBCKCImJiIsMiksYml0d2lzZU9SOm5ldyBCKCJ8IiwzKSxiaXR3aXNlWE9SOm5ldyBCKCJeIiw0KSxiaXR3aXNlQU5EOm5ldyBCKCImIiw1KSxlcXVhbGl0eTpuZXcgQigiPT0vIT0iLDYpLHJlbGF0aW9uYWw6bmV3IEIoIjwvPiIsNyksYml0U2hpZnQ6bmV3IEIoIjw8Lz4+Iiw4KSxwbHVzTWluOm5ldyBUKCIrLy0iLHtiZWZvcmVFeHByOkYsYmlub3A6OSxwcmVmaXg6ITAsc3RhcnRzRXhwcjohMH0pLG1vZHVsbzpuZXcgQigiJSIsMTApLHN0YXI6bmV3IEIoIioiLDEwKSxzbGFzaDpuZXcgQigiLyIsMTApLGV4cG9uZW50Om5ldyBUKCIqKiIse2JlZm9yZUV4cHI6RixiaW5vcDoxMSxyaWdodEFzc29jaWF0aXZlOiEwfSl9LEk9e2JyZWFrOm5ldyBPKCJicmVhayIpLGNhc2U6bmV3IE8oImNhc2UiLHtiZWZvcmVFeHByOkZ9KSxjYXRjaDpuZXcgTygiY2F0Y2giKSxjb250aW51ZTpuZXcgTygiY29udGludWUiKSxkZWJ1Z2dlcjpuZXcgTygiZGVidWdnZXIiKSxkZWZhdWx0Om5ldyBPKCJkZWZhdWx0Iix7YmVmb3JlRXhwcjpGfSksZG86bmV3IE8oImRvIix7aXNMb29wOiEwLGJlZm9yZUV4cHI6Rn0pLGVsc2U6bmV3IE8oImVsc2UiLHtiZWZvcmVFeHByOkZ9KSxmaW5hbGx5Om5ldyBPKCJmaW5hbGx5IiksZm9yOm5ldyBPKCJmb3IiLHtpc0xvb3A6ITB9KSxmdW5jdGlvbjpuZXcgTygiZnVuY3Rpb24iLHtzdGFydHNFeHByOiEwfSksaWY6bmV3IE8oImlmIikscmV0dXJuOm5ldyBPKCJyZXR1cm4iLHtiZWZvcmVFeHByOkZ9KSxzd2l0Y2g6bmV3IE8oInN3aXRjaCIpLHRocm93Om5ldyBPKCJ0aHJvdyIse2JlZm9yZUV4cHI6Rn0pLHRyeTpuZXcgTygidHJ5IiksdmFyOm5ldyBPKCJ2YXIiKSxsZXQ6bmV3IE8oImxldCIpLGNvbnN0Om5ldyBPKCJjb25zdCIpLHdoaWxlOm5ldyBPKCJ3aGlsZSIse2lzTG9vcDohMH0pLHdpdGg6bmV3IE8oIndpdGgiKSxuZXc6bmV3IE8oIm5ldyIse2JlZm9yZUV4cHI6RixzdGFydHNFeHByOiEwfSksdGhpczpuZXcgTygidGhpcyIse3N0YXJ0c0V4cHI6ITB9KSxzdXBlcjpuZXcgTygic3VwZXIiLHtzdGFydHNFeHByOiEwfSksY2xhc3M6bmV3IE8oImNsYXNzIiksZXh0ZW5kczpuZXcgTygiZXh0ZW5kcyIse2JlZm9yZUV4cHI6Rn0pLGV4cG9ydDpuZXcgTygiZXhwb3J0IiksaW1wb3J0Om5ldyBPKCJpbXBvcnQiLHtzdGFydHNFeHByOiEwfSkseWllbGQ6bmV3IE8oInlpZWxkIix7YmVmb3JlRXhwcjpGLHN0YXJ0c0V4cHI6ITB9KSxudWxsOm5ldyBPKCJudWxsIix7c3RhcnRzRXhwcjohMH0pLHRydWU6bmV3IE8oInRydWUiLHtzdGFydHNFeHByOiEwfSksZmFsc2U6bmV3IE8oImZhbHNlIix7c3RhcnRzRXhwcjohMH0pLGluOm5ldyBPKCJpbiIse2JlZm9yZUV4cHI6RixiaW5vcDo3fSksaW5zdGFuY2VvZjpuZXcgTygiaW5zdGFuY2VvZiIse2JlZm9yZUV4cHI6RixiaW5vcDo3fSksdHlwZW9mOm5ldyBPKCJ0eXBlb2YiLHtiZWZvcmVFeHByOkYscHJlZml4OiEwLHN0YXJ0c0V4cHI6ITB9KSx2b2lkOm5ldyBPKCJ2b2lkIix7YmVmb3JlRXhwcjpGLHByZWZpeDohMCxzdGFydHNFeHByOiEwfSksZGVsZXRlOm5ldyBPKCJkZWxldGUiLHtiZWZvcmVFeHByOkYscHJlZml4OiEwLHN0YXJ0c0V4cHI6ITB9KX07T2JqZWN0LmtleXMoSSkuZm9yRWFjaChmdW5jdGlvbihlKXtSWyJfIitlXT1JW2VdfSk7dmFyIE09L1xyXG4/fFxufFx1MjAyOHxcdTIwMjkvLE49bmV3IFJlZ0V4cChNLnNvdXJjZSwiZyIpLEw9L1tcdTE2ODBcdTE4MGVcdTIwMDAtXHUyMDBhXHUyMDJmXHUyMDVmXHUzMDAwXHVmZWZmXS8saj1mdW5jdGlvbiBlKHQscixuLGkpe3codGhpcyxlKSx0aGlzLnRva2VuPXQsdGhpcy5pc0V4cHI9ISFyLHRoaXMucHJlc2VydmVTcGFjZT0hIW4sdGhpcy5vdmVycmlkZT1pfSxVPXticmFjZVN0YXRlbWVudDpuZXcgaigieyIsITEpLGJyYWNlRXhwcmVzc2lvbjpuZXcgaigieyIsITApLHRlbXBsYXRlUXVhc2k6bmV3IGooIiR7IiwhMCkscGFyZW5TdGF0ZW1lbnQ6bmV3IGooIigiLCExKSxwYXJlbkV4cHJlc3Npb246bmV3IGooIigiLCEwKSx0ZW1wbGF0ZTpuZXcgaigiYCIsITAsITAsZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVhZFRtcGxUb2tlbigpfSksZnVuY3Rpb25FeHByZXNzaW9uOm5ldyBqKCJmdW5jdGlvbiIsITApfTtSLnBhcmVuUi51cGRhdGVDb250ZXh0PVIuYnJhY2VSLnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oKXtpZigxPT09dGhpcy5zdGF0ZS5jb250ZXh0Lmxlbmd0aClyZXR1cm4gdm9pZCh0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPSEwKTt2YXIgZT10aGlzLnN0YXRlLmNvbnRleHQucG9wKCk7ZT09PVUuYnJhY2VTdGF0ZW1lbnQmJnRoaXMuY3VyQ29udGV4dCgpPT09VS5mdW5jdGlvbkV4cHJlc3Npb24/KHRoaXMuc3RhdGUuY29udGV4dC5wb3AoKSx0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPSExKTplPT09VS50ZW1wbGF0ZVF1YXNpP3RoaXMuc3RhdGUuZXhwckFsbG93ZWQ9ITA6dGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hZS5pc0V4cHJ9LFIubmFtZS51cGRhdGVDb250ZXh0PWZ1bmN0aW9uKGUpe3RoaXMuc3RhdGUuZXhwckFsbG93ZWQ9ITEsZSE9PVIuX2xldCYmZSE9PVIuX2NvbnN0JiZlIT09Ui5fdmFyfHxNLnRlc3QodGhpcy5pbnB1dC5zbGljZSh0aGlzLnN0YXRlLmVuZCkpJiYodGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMCl9LFIuYnJhY2VMLnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZS5jb250ZXh0LnB1c2godGhpcy5icmFjZUlzQmxvY2soZSk/VS5icmFjZVN0YXRlbWVudDpVLmJyYWNlRXhwcmVzc2lvbiksdGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMH0sUi5kb2xsYXJCcmFjZUwudXBkYXRlQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuc3RhdGUuY29udGV4dC5wdXNoKFUudGVtcGxhdGVRdWFzaSksdGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMH0sUi5wYXJlbkwudXBkYXRlQ29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD1lPT09Ui5faWZ8fGU9PT1SLl9mb3J8fGU9PT1SLl93aXRofHxlPT09Ui5fd2hpbGU7dGhpcy5zdGF0ZS5jb250ZXh0LnB1c2godD9VLnBhcmVuU3RhdGVtZW50OlUucGFyZW5FeHByZXNzaW9uKSx0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPSEwfSxSLmluY0RlYy51cGRhdGVDb250ZXh0PWZ1bmN0aW9uKCl7fSxSLl9mdW5jdGlvbi51cGRhdGVDb250ZXh0PWZ1bmN0aW9uKCl7dGhpcy5jdXJDb250ZXh0KCkhPT1VLmJyYWNlU3RhdGVtZW50JiZ0aGlzLnN0YXRlLmNvbnRleHQucHVzaChVLmZ1bmN0aW9uRXhwcmVzc2lvbiksdGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMX0sUi5iYWNrUXVvdGUudXBkYXRlQ29udGV4dD1mdW5jdGlvbigpe3RoaXMuY3VyQ29udGV4dCgpPT09VS50ZW1wbGF0ZT90aGlzLnN0YXRlLmNvbnRleHQucG9wKCk6dGhpcy5zdGF0ZS5jb250ZXh0LnB1c2goVS50ZW1wbGF0ZSksdGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMX07dmFyIFY9ZnVuY3Rpb24gZSh0LHIpe3codGhpcyxlKSx0aGlzLmxpbmU9dCx0aGlzLmNvbHVtbj1yfSxHPWZ1bmN0aW9uIGUodCxyKXt3KHRoaXMsZSksdGhpcy5zdGFydD10LHRoaXMuZW5kPXJ9LFc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dyh0aGlzLGUpfXJldHVybiBlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc3RyaWN0PSExIT09ZS5zdHJpY3RNb2RlJiYibW9kdWxlIj09PWUuc291cmNlVHlwZSx0aGlzLmlucHV0PXQsdGhpcy5wb3RlbnRpYWxBcnJvd0F0PS0xLHRoaXMuaW5NZXRob2Q9dGhpcy5pbkZ1bmN0aW9uPXRoaXMuaW5HZW5lcmF0b3I9dGhpcy5pbkFzeW5jPXRoaXMuaW5Qcm9wZXJ0eU5hbWU9dGhpcy5pblR5cGU9dGhpcy5pbkNsYXNzUHJvcGVydHk9dGhpcy5ub0Fub25GdW5jdGlvblR5cGU9ITEsdGhpcy5sYWJlbHM9W10sdGhpcy5kZWNvcmF0b3JzPVtdLHRoaXMudG9rZW5zPVtdLHRoaXMuY29tbWVudHM9W10sdGhpcy50cmFpbGluZ0NvbW1lbnRzPVtdLHRoaXMubGVhZGluZ0NvbW1lbnRzPVtdLHRoaXMuY29tbWVudFN0YWNrPVtdLHRoaXMucG9zPXRoaXMubGluZVN0YXJ0PTAsdGhpcy5jdXJMaW5lPWUuc3RhcnRMaW5lLHRoaXMudHlwZT1SLmVvZix0aGlzLnZhbHVlPW51bGwsdGhpcy5zdGFydD10aGlzLmVuZD10aGlzLnBvcyx0aGlzLnN0YXJ0TG9jPXRoaXMuZW5kTG9jPXRoaXMuY3VyUG9zaXRpb24oKSx0aGlzLmxhc3RUb2tFbmRMb2M9dGhpcy5sYXN0VG9rU3RhcnRMb2M9bnVsbCx0aGlzLmxhc3RUb2tTdGFydD10aGlzLmxhc3RUb2tFbmQ9dGhpcy5wb3MsdGhpcy5jb250ZXh0PVtVLmJyYWNlU3RhdGVtZW50XSx0aGlzLmV4cHJBbGxvd2VkPSEwLHRoaXMuY29udGFpbnNFc2M9dGhpcy5jb250YWluc09jdGFsPSExLHRoaXMub2N0YWxQb3NpdGlvbj1udWxsLHRoaXMuaW52YWxpZFRlbXBsYXRlRXNjYXBlUG9zaXRpb249bnVsbCx0aGlzLmV4cG9ydGVkSWRlbnRpZmllcnM9W10sdGhpc30sZS5wcm90b3R5cGUuY3VyUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFYodGhpcy5jdXJMaW5lLHRoaXMucG9zLXRoaXMubGluZVN0YXJ0KX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9bmV3IGU7Zm9yKHZhciBuIGluIHRoaXMpe3ZhciBpPXRoaXNbbl07dCYmImNvbnRleHQiIT09bnx8IUFycmF5LmlzQXJyYXkoaSl8fChpPWkuc2xpY2UoKSkscltuXT1pfXJldHVybiByfSxlfSgpLFk9ZnVuY3Rpb24gZSh0KXt3KHRoaXMsZSksdGhpcy50eXBlPXQudHlwZSx0aGlzLnZhbHVlPXQudmFsdWUsdGhpcy5zdGFydD10LnN0YXJ0LHRoaXMuZW5kPXQuZW5kLHRoaXMubG9jPW5ldyBHKHQuc3RhcnRMb2MsdC5lbmRMb2MpfSxxPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe3codGhpcyxlKSx0aGlzLnN0YXRlPW5ldyBXLHRoaXMuc3RhdGUuaW5pdCh0LHIpfXJldHVybiBlLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5pc0xvb2thaGVhZHx8dGhpcy5zdGF0ZS50b2tlbnMucHVzaChuZXcgWSh0aGlzLnN0YXRlKSksdGhpcy5zdGF0ZS5sYXN0VG9rRW5kPXRoaXMuc3RhdGUuZW5kLHRoaXMuc3RhdGUubGFzdFRva1N0YXJ0PXRoaXMuc3RhdGUuc3RhcnQsdGhpcy5zdGF0ZS5sYXN0VG9rRW5kTG9jPXRoaXMuc3RhdGUuZW5kTG9jLHRoaXMuc3RhdGUubGFzdFRva1N0YXJ0TG9jPXRoaXMuc3RhdGUuc3RhcnRMb2MsdGhpcy5uZXh0VG9rZW4oKX0sZS5wcm90b3R5cGUuZWF0PWZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5tYXRjaChlKSYmKHRoaXMubmV4dCgpLCEwKX0sZS5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUudHlwZT09PWV9LGUucHJvdG90eXBlLmlzS2V5d29yZD1mdW5jdGlvbihlKXtyZXR1cm4gZyhlKX0sZS5wcm90b3R5cGUubG9va2FoZWFkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZTt0aGlzLnN0YXRlPWUuY2xvbmUoITApLHRoaXMuaXNMb29rYWhlYWQ9ITAsdGhpcy5uZXh0KCksdGhpcy5pc0xvb2thaGVhZD0hMTt2YXIgdD10aGlzLnN0YXRlLmNsb25lKCEwKTtyZXR1cm4gdGhpcy5zdGF0ZT1lLHR9LGUucHJvdG90eXBlLnNldFN0cmljdD1mdW5jdGlvbihlKXtpZih0aGlzLnN0YXRlLnN0cmljdD1lLHRoaXMubWF0Y2goUi5udW0pfHx0aGlzLm1hdGNoKFIuc3RyaW5nKSl7Zm9yKHRoaXMuc3RhdGUucG9zPXRoaXMuc3RhdGUuc3RhcnQ7dGhpcy5zdGF0ZS5wb3M8dGhpcy5zdGF0ZS5saW5lU3RhcnQ7KXRoaXMuc3RhdGUubGluZVN0YXJ0PXRoaXMuaW5wdXQubGFzdEluZGV4T2YoIlxuIix0aGlzLnN0YXRlLmxpbmVTdGFydC0yKSsxLC0tdGhpcy5zdGF0ZS5jdXJMaW5lO3RoaXMubmV4dFRva2VuKCl9fSxlLnByb3RvdHlwZS5jdXJDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGUuY29udGV4dFt0aGlzLnN0YXRlLmNvbnRleHQubGVuZ3RoLTFdfSxlLnByb3RvdHlwZS5uZXh0VG9rZW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmN1ckNvbnRleHQoKTtyZXR1cm4gZSYmZS5wcmVzZXJ2ZVNwYWNlfHx0aGlzLnNraXBTcGFjZSgpLHRoaXMuc3RhdGUuY29udGFpbnNPY3RhbD0hMSx0aGlzLnN0YXRlLm9jdGFsUG9zaXRpb249bnVsbCx0aGlzLnN0YXRlLnN0YXJ0PXRoaXMuc3RhdGUucG9zLHRoaXMuc3RhdGUuc3RhcnRMb2M9dGhpcy5zdGF0ZS5jdXJQb3NpdGlvbigpLHRoaXMuc3RhdGUucG9zPj10aGlzLmlucHV0Lmxlbmd0aD90aGlzLmZpbmlzaFRva2VuKFIuZW9mKTplLm92ZXJyaWRlP2Uub3ZlcnJpZGUodGhpcyk6dGhpcy5yZWFkVG9rZW4odGhpcy5mdWxsQ2hhckNvZGVBdFBvcygpKX0sZS5wcm90b3R5cGUucmVhZFRva2VuPWZ1bmN0aW9uKGUpe3JldHVybiBpKGUpfHw5Mj09PWU/dGhpcy5yZWFkV29yZCgpOnRoaXMuZ2V0VG9rZW5Gcm9tQ29kZShlKX0sZS5wcm90b3R5cGUuZnVsbENoYXJDb2RlQXRQb3M9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MpO3JldHVybiBlPD01NTI5NXx8ZT49NTczNDQ/ZTooZTw8MTApK3RoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysxKS01NjYxMzg4OH0sZS5wcm90b3R5cGUucHVzaENvbW1lbnQ9ZnVuY3Rpb24oZSx0LHIsbixpLHMpe3ZhciBhPXt0eXBlOmU/IkNvbW1lbnRCbG9jayI6IkNvbW1lbnRMaW5lIix2YWx1ZTp0LHN0YXJ0OnIsZW5kOm4sbG9jOm5ldyBHKGkscyl9O3RoaXMuaXNMb29rYWhlYWR8fCh0aGlzLnN0YXRlLnRva2Vucy5wdXNoKGEpLHRoaXMuc3RhdGUuY29tbWVudHMucHVzaChhKSx0aGlzLmFkZENvbW1lbnQoYSkpfSxlLnByb3RvdHlwZS5za2lwQmxvY2tDb21tZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS5jdXJQb3NpdGlvbigpLHQ9dGhpcy5zdGF0ZS5wb3Mscj10aGlzLmlucHV0LmluZGV4T2YoIiovIix0aGlzLnN0YXRlLnBvcys9Mik7LTE9PT1yJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUucG9zLTIsIlVudGVybWluYXRlZCBjb21tZW50IiksdGhpcy5zdGF0ZS5wb3M9cisyLE4ubGFzdEluZGV4PXQ7Zm9yKHZhciBuPXZvaWQgMDsobj1OLmV4ZWModGhpcy5pbnB1dCkpJiZuLmluZGV4PHRoaXMuc3RhdGUucG9zOykrK3RoaXMuc3RhdGUuY3VyTGluZSx0aGlzLnN0YXRlLmxpbmVTdGFydD1uLmluZGV4K25bMF0ubGVuZ3RoO3RoaXMucHVzaENvbW1lbnQoITAsdGhpcy5pbnB1dC5zbGljZSh0KzIsciksdCx0aGlzLnN0YXRlLnBvcyxlLHRoaXMuc3RhdGUuY3VyUG9zaXRpb24oKSl9LGUucHJvdG90eXBlLnNraXBMaW5lQ29tbWVudD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5zdGF0ZS5wb3Mscj10aGlzLnN0YXRlLmN1clBvc2l0aW9uKCksbj10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrPWUpO3RoaXMuc3RhdGUucG9zPHRoaXMuaW5wdXQubGVuZ3RoJiYxMCE9PW4mJjEzIT09biYmODIzMiE9PW4mJjgyMzMhPT1uOykrK3RoaXMuc3RhdGUucG9zLG49dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKTt0aGlzLnB1c2hDb21tZW50KCExLHRoaXMuaW5wdXQuc2xpY2UodCtlLHRoaXMuc3RhdGUucG9zKSx0LHRoaXMuc3RhdGUucG9zLHIsdGhpcy5zdGF0ZS5jdXJQb3NpdGlvbigpKX0sZS5wcm90b3R5cGUuc2tpcFNwYWNlPWZ1bmN0aW9uKCl7ZTpmb3IoO3RoaXMuc3RhdGUucG9zPHRoaXMuaW5wdXQubGVuZ3RoOyl7dmFyIGU9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKTtzd2l0Y2goZSl7Y2FzZSAzMjpjYXNlIDE2MDorK3RoaXMuc3RhdGUucG9zO2JyZWFrO2Nhc2UgMTM6MTA9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSkmJisrdGhpcy5zdGF0ZS5wb3M7Y2FzZSAxMDpjYXNlIDgyMzI6Y2FzZSA4MjMzOisrdGhpcy5zdGF0ZS5wb3MsKyt0aGlzLnN0YXRlLmN1ckxpbmUsdGhpcy5zdGF0ZS5saW5lU3RhcnQ9dGhpcy5zdGF0ZS5wb3M7YnJlYWs7Y2FzZSA0Nzpzd2l0Y2godGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKzEpKXtjYXNlIDQyOnRoaXMuc2tpcEJsb2NrQ29tbWVudCgpO2JyZWFrO2Nhc2UgNDc6dGhpcy5za2lwTGluZUNvbW1lbnQoMik7YnJlYWs7ZGVmYXVsdDpicmVhayBlfWJyZWFrO2RlZmF1bHQ6aWYoIShlPjgmJmU8MTR8fGU+PTU3NjAmJkwudGVzdChTdHJpbmcuZnJvbUNoYXJDb2RlKGUpKSkpYnJlYWsgZTsrK3RoaXMuc3RhdGUucG9zfX19LGUucHJvdG90eXBlLmZpbmlzaFRva2VuPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdGF0ZS5lbmQ9dGhpcy5zdGF0ZS5wb3MsdGhpcy5zdGF0ZS5lbmRMb2M9dGhpcy5zdGF0ZS5jdXJQb3NpdGlvbigpO3ZhciByPXRoaXMuc3RhdGUudHlwZTt0aGlzLnN0YXRlLnR5cGU9ZSx0aGlzLnN0YXRlLnZhbHVlPXQsdGhpcy51cGRhdGVDb250ZXh0KHIpfSxlLnByb3RvdHlwZS5yZWFkVG9rZW5fZG90PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKzEpO2lmKGU+PTQ4JiZlPD01NylyZXR1cm4gdGhpcy5yZWFkTnVtYmVyKCEwKTt2YXIgdD10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMik7cmV0dXJuIDQ2PT09ZSYmNDY9PT10Pyh0aGlzLnN0YXRlLnBvcys9Myx0aGlzLmZpbmlzaFRva2VuKFIuZWxsaXBzaXMpKTooKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuZG90KSl9LGUucHJvdG90eXBlLnJlYWRUb2tlbl9zbGFzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPygrK3RoaXMuc3RhdGUucG9zLHRoaXMucmVhZFJlZ2V4cCgpKTo2MT09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysxKT90aGlzLmZpbmlzaE9wKFIuYXNzaWduLDIpOnRoaXMuZmluaXNoT3AoUi5zbGFzaCwxKX0sZS5wcm90b3R5cGUucmVhZFRva2VuX211bHRfbW9kdWxvPWZ1bmN0aW9uKGUpe3ZhciB0PTQyPT09ZT9SLnN0YXI6Ui5tb2R1bG8scj0xLG49dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKzEpO3JldHVybiA0Mj09PW4mJihyKyssbj10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMiksdD1SLmV4cG9uZW50KSw2MT09PW4mJihyKyssdD1SLmFzc2lnbiksdGhpcy5maW5pc2hPcCh0LHIpfSxlLnByb3RvdHlwZS5yZWFkVG9rZW5fcGlwZV9hbXA9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKzEpO3JldHVybiB0PT09ZT90aGlzLmZpbmlzaE9wKDEyND09PWU/Ui5sb2dpY2FsT1I6Ui5sb2dpY2FsQU5ELDIpOjYxPT09dD90aGlzLmZpbmlzaE9wKFIuYXNzaWduLDIpOjEyND09PWUmJjEyNT09PXQmJnRoaXMuaGFzUGx1Z2luKCJmbG93Iik/dGhpcy5maW5pc2hPcChSLmJyYWNlQmFyUiwyKTp0aGlzLmZpbmlzaE9wKDEyND09PWU/Ui5iaXR3aXNlT1I6Ui5iaXR3aXNlQU5ELDEpfSxlLnByb3RvdHlwZS5yZWFkVG9rZW5fY2FyZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gNjE9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSk/dGhpcy5maW5pc2hPcChSLmFzc2lnbiwyKTp0aGlzLmZpbmlzaE9wKFIuYml0d2lzZVhPUiwxKX0sZS5wcm90b3R5cGUucmVhZFRva2VuX3BsdXNfbWluPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysxKTtyZXR1cm4gdD09PWU/NDU9PT10JiY2Mj09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysyKSYmTS50ZXN0KHRoaXMuaW5wdXQuc2xpY2UodGhpcy5zdGF0ZS5sYXN0VG9rRW5kLHRoaXMuc3RhdGUucG9zKSk/KHRoaXMuc2tpcExpbmVDb21tZW50KDMpLHRoaXMuc2tpcFNwYWNlKCksdGhpcy5uZXh0VG9rZW4oKSk6dGhpcy5maW5pc2hPcChSLmluY0RlYywyKTo2MT09PXQ/dGhpcy5maW5pc2hPcChSLmFzc2lnbiwyKTp0aGlzLmZpbmlzaE9wKFIucGx1c01pbiwxKX0sZS5wcm90b3R5cGUucmVhZFRva2VuX2x0X2d0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysxKSxyPTE7cmV0dXJuIHQ9PT1lPyhyPTYyPT09ZSYmNjI9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMik/MzoyLDYxPT09dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zK3IpP3RoaXMuZmluaXNoT3AoUi5hc3NpZ24scisxKTp0aGlzLmZpbmlzaE9wKFIuYml0U2hpZnQscikpOjMzPT09dCYmNjA9PT1lJiY0NT09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcysyKSYmNDU9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMyk/KHRoaXMuaW5Nb2R1bGUmJnRoaXMudW5leHBlY3RlZCgpLHRoaXMuc2tpcExpbmVDb21tZW50KDQpLHRoaXMuc2tpcFNwYWNlKCksdGhpcy5uZXh0VG9rZW4oKSk6KDYxPT09dCYmKHI9MiksdGhpcy5maW5pc2hPcChSLnJlbGF0aW9uYWwscikpfSxlLnByb3RvdHlwZS5yZWFkVG9rZW5fZXFfZXhjbD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSk7cmV0dXJuIDYxPT09dD90aGlzLmZpbmlzaE9wKFIuZXF1YWxpdHksNjE9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMik/MzoyKTo2MT09PWUmJjYyPT09dD8odGhpcy5zdGF0ZS5wb3MrPTIsdGhpcy5maW5pc2hUb2tlbihSLmFycm93KSk6dGhpcy5maW5pc2hPcCg2MT09PWU/Ui5lcTpSLnByZWZpeCwxKX0sZS5wcm90b3R5cGUuZ2V0VG9rZW5Gcm9tQ29kZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSA0NjpyZXR1cm4gdGhpcy5yZWFkVG9rZW5fZG90KCk7Y2FzZSA0MDpyZXR1cm4rK3RoaXMuc3RhdGUucG9zLHRoaXMuZmluaXNoVG9rZW4oUi5wYXJlbkwpO2Nhc2UgNDE6cmV0dXJuKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIucGFyZW5SKTtjYXNlIDU5OnJldHVybisrdGhpcy5zdGF0ZS5wb3MsdGhpcy5maW5pc2hUb2tlbihSLnNlbWkpO2Nhc2UgNDQ6cmV0dXJuKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuY29tbWEpO2Nhc2UgOTE6cmV0dXJuKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuYnJhY2tldEwpO2Nhc2UgOTM6cmV0dXJuKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuYnJhY2tldFIpO2Nhc2UgMTIzOnJldHVybiB0aGlzLmhhc1BsdWdpbigiZmxvdyIpJiYxMjQ9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSk/dGhpcy5maW5pc2hPcChSLmJyYWNlQmFyTCwyKTooKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuYnJhY2VMKSk7Y2FzZSAxMjU6cmV0dXJuKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuYnJhY2VSKTtjYXNlIDU4OnJldHVybiB0aGlzLmhhc1BsdWdpbigiZnVuY3Rpb25CaW5kIikmJjU4PT09dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKzEpP3RoaXMuZmluaXNoT3AoUi5kb3VibGVDb2xvbiwyKTooKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuY29sb24pKTtjYXNlIDYzOnJldHVybisrdGhpcy5zdGF0ZS5wb3MsdGhpcy5maW5pc2hUb2tlbihSLnF1ZXN0aW9uKTtjYXNlIDY0OnJldHVybisrdGhpcy5zdGF0ZS5wb3MsdGhpcy5maW5pc2hUb2tlbihSLmF0KTtjYXNlIDk2OnJldHVybisrdGhpcy5zdGF0ZS5wb3MsdGhpcy5maW5pc2hUb2tlbihSLmJhY2tRdW90ZSk7Y2FzZSA0ODp2YXIgdD10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSk7aWYoMTIwPT09dHx8ODg9PT10KXJldHVybiB0aGlzLnJlYWRSYWRpeE51bWJlcigxNik7aWYoMTExPT09dHx8Nzk9PT10KXJldHVybiB0aGlzLnJlYWRSYWRpeE51bWJlcig4KTtpZig5OD09PXR8fDY2PT09dClyZXR1cm4gdGhpcy5yZWFkUmFkaXhOdW1iZXIoMik7Y2FzZSA0OTpjYXNlIDUwOmNhc2UgNTE6Y2FzZSA1MjpjYXNlIDUzOmNhc2UgNTQ6Y2FzZSA1NTpjYXNlIDU2OmNhc2UgNTc6cmV0dXJuIHRoaXMucmVhZE51bWJlcighMSk7Y2FzZSAzNDpjYXNlIDM5OnJldHVybiB0aGlzLnJlYWRTdHJpbmcoZSk7Y2FzZSA0NzpyZXR1cm4gdGhpcy5yZWFkVG9rZW5fc2xhc2goKTtjYXNlIDM3OmNhc2UgNDI6cmV0dXJuIHRoaXMucmVhZFRva2VuX211bHRfbW9kdWxvKGUpO2Nhc2UgMTI0OmNhc2UgMzg6cmV0dXJuIHRoaXMucmVhZFRva2VuX3BpcGVfYW1wKGUpO2Nhc2UgOTQ6cmV0dXJuIHRoaXMucmVhZFRva2VuX2NhcmV0KCk7Y2FzZSA0MzpjYXNlIDQ1OnJldHVybiB0aGlzLnJlYWRUb2tlbl9wbHVzX21pbihlKTtjYXNlIDYwOmNhc2UgNjI6cmV0dXJuIHRoaXMucmVhZFRva2VuX2x0X2d0KGUpO2Nhc2UgNjE6Y2FzZSAzMzpyZXR1cm4gdGhpcy5yZWFkVG9rZW5fZXFfZXhjbChlKTtjYXNlIDEyNjpyZXR1cm4gdGhpcy5maW5pc2hPcChSLnByZWZpeCwxKX10aGlzLnJhaXNlKHRoaXMuc3RhdGUucG9zLCJVbmV4cGVjdGVkIGNoYXJhY3RlciAnIitsKGUpKyInIil9LGUucHJvdG90eXBlLmZpbmlzaE9wPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5pbnB1dC5zbGljZSh0aGlzLnN0YXRlLnBvcyx0aGlzLnN0YXRlLnBvcyt0KTtyZXR1cm4gdGhpcy5zdGF0ZS5wb3MrPXQsdGhpcy5maW5pc2hUb2tlbihlLHIpfSxlLnByb3RvdHlwZS5yZWFkUmVnZXhwPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuc3RhdGUucG9zLHQ9dm9pZCAwLHI9dm9pZCAwOzspe3RoaXMuc3RhdGUucG9zPj10aGlzLmlucHV0Lmxlbmd0aCYmdGhpcy5yYWlzZShlLCJVbnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uIik7dmFyIG49dGhpcy5pbnB1dC5jaGFyQXQodGhpcy5zdGF0ZS5wb3MpO2lmKE0udGVzdChuKSYmdGhpcy5yYWlzZShlLCJVbnRlcm1pbmF0ZWQgcmVndWxhciBleHByZXNzaW9uIiksdCl0PSExO2Vsc2V7aWYoIlsiPT09bilyPSEwO2Vsc2UgaWYoIl0iPT09biYmcilyPSExO2Vsc2UgaWYoIi8iPT09biYmIXIpYnJlYWs7dD0iXFwiPT09bn0rK3RoaXMuc3RhdGUucG9zfXZhciBpPXRoaXMuaW5wdXQuc2xpY2UoZSx0aGlzLnN0YXRlLnBvcyk7Kyt0aGlzLnN0YXRlLnBvczt2YXIgcz10aGlzLnJlYWRXb3JkMSgpO2lmKHMpey9eW2dtc2l5dV0qJC8udGVzdChzKXx8dGhpcy5yYWlzZShlLCJJbnZhbGlkIHJlZ3VsYXIgZXhwcmVzc2lvbiBmbGFnIil9cmV0dXJuIHRoaXMuZmluaXNoVG9rZW4oUi5yZWdleHAse3BhdHRlcm46aSxmbGFnczpzfSl9LGUucHJvdG90eXBlLnJlYWRJbnQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5zdGF0ZS5wb3Msbj0wLGk9MCxzPW51bGw9PXQ/MS8wOnQ7aTxzOysraSl7dmFyIGE9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKSxvPXZvaWQgMDtpZigobz1hPj05Nz9hLTk3KzEwOmE+PTY1P2EtNjUrMTA6YT49NDgmJmE8PTU3P2EtNDg6MS8wKT49ZSlicmVhazsrK3RoaXMuc3RhdGUucG9zLG49biplK299cmV0dXJuIHRoaXMuc3RhdGUucG9zPT09cnx8bnVsbCE9dCYmdGhpcy5zdGF0ZS5wb3MtciE9PXQ/bnVsbDpufSxlLnByb3RvdHlwZS5yZWFkUmFkaXhOdW1iZXI9ZnVuY3Rpb24oZSl7dGhpcy5zdGF0ZS5wb3MrPTI7dmFyIHQ9dGhpcy5yZWFkSW50KGUpO3JldHVybiBudWxsPT10JiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUuc3RhcnQrMiwiRXhwZWN0ZWQgbnVtYmVyIGluIHJhZGl4ICIrZSksaSh0aGlzLmZ1bGxDaGFyQ29kZUF0UG9zKCkpJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUucG9zLCJJZGVudGlmaWVyIGRpcmVjdGx5IGFmdGVyIG51bWJlciIpLHRoaXMuZmluaXNoVG9rZW4oUi5udW0sdCl9LGUucHJvdG90eXBlLnJlYWROdW1iZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5wb3Mscj00OD09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0KSxuPSExO2V8fG51bGwhPT10aGlzLnJlYWRJbnQoMTApfHx0aGlzLnJhaXNlKHQsIkludmFsaWQgbnVtYmVyIiksciYmdGhpcy5zdGF0ZS5wb3M9PXQrMSYmKHI9ITEpO3ZhciBzPXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcyk7NDYhPT1zfHxyfHwoKyt0aGlzLnN0YXRlLnBvcyx0aGlzLnJlYWRJbnQoMTApLG49ITAscz10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MpKSw2OSE9PXMmJjEwMSE9PXN8fHJ8fChzPXRoaXMuaW5wdXQuY2hhckNvZGVBdCgrK3RoaXMuc3RhdGUucG9zKSw0MyE9PXMmJjQ1IT09c3x8Kyt0aGlzLnN0YXRlLnBvcyxudWxsPT09dGhpcy5yZWFkSW50KDEwKSYmdGhpcy5yYWlzZSh0LCJJbnZhbGlkIG51bWJlciIpLG49ITApLGkodGhpcy5mdWxsQ2hhckNvZGVBdFBvcygpKSYmdGhpcy5yYWlzZSh0aGlzLnN0YXRlLnBvcywiSWRlbnRpZmllciBkaXJlY3RseSBhZnRlciBudW1iZXIiKTt2YXIgYT10aGlzLmlucHV0LnNsaWNlKHQsdGhpcy5zdGF0ZS5wb3MpLG89dm9pZCAwO3JldHVybiBuP289cGFyc2VGbG9hdChhKTpyJiYxIT09YS5sZW5ndGg/dGhpcy5zdGF0ZS5zdHJpY3Q/dGhpcy5yYWlzZSh0LCJJbnZhbGlkIG51bWJlciIpOm89L1s4OV0vLnRlc3QoYSk/cGFyc2VJbnQoYSwxMCk6cGFyc2VJbnQoYSw4KTpvPXBhcnNlSW50KGEsMTApLHRoaXMuZmluaXNoVG9rZW4oUi5udW0sbyl9LGUucHJvdG90eXBlLnJlYWRDb2RlUG9pbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKSxyPXZvaWQgMDtpZigxMjM9PT10KXt2YXIgbj0rK3RoaXMuc3RhdGUucG9zO2lmKHI9dGhpcy5yZWFkSGV4Q2hhcih0aGlzLmlucHV0LmluZGV4T2YoIn0iLHRoaXMuc3RhdGUucG9zKS10aGlzLnN0YXRlLnBvcyxlKSwrK3RoaXMuc3RhdGUucG9zLG51bGw9PT1yKS0tdGhpcy5zdGF0ZS5pbnZhbGlkVGVtcGxhdGVFc2NhcGVQb3NpdGlvbjtlbHNlIGlmKHI+MTExNDExMSl7aWYoIWUpcmV0dXJuIHRoaXMuc3RhdGUuaW52YWxpZFRlbXBsYXRlRXNjYXBlUG9zaXRpb249bi0yLG51bGw7dGhpcy5yYWlzZShuLCJDb2RlIHBvaW50IG91dCBvZiBib3VuZHMiKX19ZWxzZSByPXRoaXMucmVhZEhleENoYXIoNCxlKTtyZXR1cm4gcn0sZS5wcm90b3R5cGUucmVhZFN0cmluZz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9IiIscj0rK3RoaXMuc3RhdGUucG9zOzspe3RoaXMuc3RhdGUucG9zPj10aGlzLmlucHV0Lmxlbmd0aCYmdGhpcy5yYWlzZSh0aGlzLnN0YXRlLnN0YXJ0LCJVbnRlcm1pbmF0ZWQgc3RyaW5nIGNvbnN0YW50Iik7dmFyIG49dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKTtpZihuPT09ZSlicmVhazs5Mj09PW4/KHQrPXRoaXMuaW5wdXQuc2xpY2Uocix0aGlzLnN0YXRlLnBvcyksdCs9dGhpcy5yZWFkRXNjYXBlZENoYXIoITEpLHI9dGhpcy5zdGF0ZS5wb3MpOihvKG4pJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUuc3RhcnQsIlVudGVybWluYXRlZCBzdHJpbmcgY29uc3RhbnQiKSwrK3RoaXMuc3RhdGUucG9zKX1yZXR1cm4gdCs9dGhpcy5pbnB1dC5zbGljZShyLHRoaXMuc3RhdGUucG9zKyspLHRoaXMuZmluaXNoVG9rZW4oUi5zdHJpbmcsdCl9LGUucHJvdG90eXBlLnJlYWRUbXBsVG9rZW49ZnVuY3Rpb24oKXtmb3IodmFyIGU9IiIsdD10aGlzLnN0YXRlLnBvcyxyPSExOzspe3RoaXMuc3RhdGUucG9zPj10aGlzLmlucHV0Lmxlbmd0aCYmdGhpcy5yYWlzZSh0aGlzLnN0YXRlLnN0YXJ0LCJVbnRlcm1pbmF0ZWQgdGVtcGxhdGUiKTt2YXIgbj10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MpO2lmKDk2PT09bnx8MzY9PT1uJiYxMjM9PT10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MrMSkpcmV0dXJuIHRoaXMuc3RhdGUucG9zPT09dGhpcy5zdGF0ZS5zdGFydCYmdGhpcy5tYXRjaChSLnRlbXBsYXRlKT8zNj09PW4/KHRoaXMuc3RhdGUucG9zKz0yLHRoaXMuZmluaXNoVG9rZW4oUi5kb2xsYXJCcmFjZUwpKTooKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuYmFja1F1b3RlKSk6KGUrPXRoaXMuaW5wdXQuc2xpY2UodCx0aGlzLnN0YXRlLnBvcyksdGhpcy5maW5pc2hUb2tlbihSLnRlbXBsYXRlLHI/bnVsbDplKSk7aWYoOTI9PT1uKXtlKz10aGlzLmlucHV0LnNsaWNlKHQsdGhpcy5zdGF0ZS5wb3MpO3ZhciBpPXRoaXMucmVhZEVzY2FwZWRDaGFyKCEwKTtudWxsPT09aT9yPSEwOmUrPWksdD10aGlzLnN0YXRlLnBvc31lbHNlIGlmKG8obikpe3N3aXRjaChlKz10aGlzLmlucHV0LnNsaWNlKHQsdGhpcy5zdGF0ZS5wb3MpLCsrdGhpcy5zdGF0ZS5wb3Msbil7Y2FzZSAxMzoxMD09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcykmJisrdGhpcy5zdGF0ZS5wb3M7Y2FzZSAxMDplKz0iXG4iO2JyZWFrO2RlZmF1bHQ6ZSs9U3RyaW5nLmZyb21DaGFyQ29kZShuKX0rK3RoaXMuc3RhdGUuY3VyTGluZSx0aGlzLnN0YXRlLmxpbmVTdGFydD10aGlzLnN0YXRlLnBvcyx0PXRoaXMuc3RhdGUucG9zfWVsc2UrK3RoaXMuc3RhdGUucG9zfX0sZS5wcm90b3R5cGUucmVhZEVzY2FwZWRDaGFyPWZ1bmN0aW9uKGUpe3ZhciB0PSFlLHI9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KCsrdGhpcy5zdGF0ZS5wb3MpO3N3aXRjaCgrK3RoaXMuc3RhdGUucG9zLHIpe2Nhc2UgMTEwOnJldHVybiJcbiI7Y2FzZSAxMTQ6cmV0dXJuIlxyIjtjYXNlIDEyMDp2YXIgbj10aGlzLnJlYWRIZXhDaGFyKDIsdCk7cmV0dXJuIG51bGw9PT1uP251bGw6U3RyaW5nLmZyb21DaGFyQ29kZShuKTtjYXNlIDExNzp2YXIgaT10aGlzLnJlYWRDb2RlUG9pbnQodCk7cmV0dXJuIG51bGw9PT1pP251bGw6bChpKTtjYXNlIDExNjpyZXR1cm4iXHQiO2Nhc2UgOTg6cmV0dXJuIlxiIjtjYXNlIDExODpyZXR1cm4iXHYiO2Nhc2UgMTAyOnJldHVybiJcZiI7Y2FzZSAxMzoxMD09PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcykmJisrdGhpcy5zdGF0ZS5wb3M7Y2FzZSAxMDpyZXR1cm4gdGhpcy5zdGF0ZS5saW5lU3RhcnQ9dGhpcy5zdGF0ZS5wb3MsKyt0aGlzLnN0YXRlLmN1ckxpbmUsIiI7ZGVmYXVsdDppZihyPj00OCYmcjw9NTUpe3ZhciBzPXRoaXMuc3RhdGUucG9zLTEsYT10aGlzLmlucHV0LnN1YnN0cih0aGlzLnN0YXRlLnBvcy0xLDMpLm1hdGNoKC9eWzAtN10rLylbMF0sbz1wYXJzZUludChhLDgpO2lmKG8+MjU1JiYoYT1hLnNsaWNlKDAsLTEpLG89cGFyc2VJbnQoYSw4KSksbz4wKXtpZihlKXJldHVybiB0aGlzLnN0YXRlLmludmFsaWRUZW1wbGF0ZUVzY2FwZVBvc2l0aW9uPXMsbnVsbDt0aGlzLnN0YXRlLnN0cmljdD90aGlzLnJhaXNlKHMsIk9jdGFsIGxpdGVyYWwgaW4gc3RyaWN0IG1vZGUiKTp0aGlzLnN0YXRlLmNvbnRhaW5zT2N0YWx8fCh0aGlzLnN0YXRlLmNvbnRhaW5zT2N0YWw9ITAsdGhpcy5zdGF0ZS5vY3RhbFBvc2l0aW9uPXMpfXJldHVybiB0aGlzLnN0YXRlLnBvcys9YS5sZW5ndGgtMSxTdHJpbmcuZnJvbUNoYXJDb2RlKG8pfXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHIpfX0sZS5wcm90b3R5cGUucmVhZEhleENoYXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnN0YXRlLnBvcyxuPXRoaXMucmVhZEludCgxNixlKTtyZXR1cm4gbnVsbD09PW4mJih0P3RoaXMucmFpc2UociwiQmFkIGNoYXJhY3RlciBlc2NhcGUgc2VxdWVuY2UiKToodGhpcy5zdGF0ZS5wb3M9ci0xLHRoaXMuc3RhdGUuaW52YWxpZFRlbXBsYXRlRXNjYXBlUG9zaXRpb249ci0xKSksbn0sZS5wcm90b3R5cGUucmVhZFdvcmQxPWZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5jb250YWluc0VzYz0hMTtmb3IodmFyIGU9IiIsdD0hMCxyPXRoaXMuc3RhdGUucG9zO3RoaXMuc3RhdGUucG9zPHRoaXMuaW5wdXQubGVuZ3RoOyl7dmFyIG49dGhpcy5mdWxsQ2hhckNvZGVBdFBvcygpO2lmKHMobikpdGhpcy5zdGF0ZS5wb3MrPW48PTY1NTM1PzE6MjtlbHNle2lmKDkyIT09bilicmVhazt0aGlzLnN0YXRlLmNvbnRhaW5zRXNjPSEwLGUrPXRoaXMuaW5wdXQuc2xpY2Uocix0aGlzLnN0YXRlLnBvcyk7dmFyIGE9dGhpcy5zdGF0ZS5wb3M7MTE3IT09dGhpcy5pbnB1dC5jaGFyQ29kZUF0KCsrdGhpcy5zdGF0ZS5wb3MpJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUucG9zLCJFeHBlY3RpbmcgVW5pY29kZSBlc2NhcGUgc2VxdWVuY2UgXFx1WFhYWCIpLCsrdGhpcy5zdGF0ZS5wb3M7dmFyIG89dGhpcy5yZWFkQ29kZVBvaW50KCEwKTsodD9pOnMpKG8sITApfHx0aGlzLnJhaXNlKGEsIkludmFsaWQgVW5pY29kZSBlc2NhcGUiKSxlKz1sKG8pLHI9dGhpcy5zdGF0ZS5wb3N9dD0hMX1yZXR1cm4gZSt0aGlzLmlucHV0LnNsaWNlKHIsdGhpcy5zdGF0ZS5wb3MpfSxlLnByb3RvdHlwZS5yZWFkV29yZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFdvcmQxKCksdD1SLm5hbWU7cmV0dXJuIXRoaXMuc3RhdGUuY29udGFpbnNFc2MmJnRoaXMuaXNLZXl3b3JkKGUpJiYodD1JW2VdKSx0aGlzLmZpbmlzaFRva2VuKHQsZSl9LGUucHJvdG90eXBlLmJyYWNlSXNCbG9jaz1mdW5jdGlvbihlKXtpZihlPT09Ui5jb2xvbil7dmFyIHQ9dGhpcy5jdXJDb250ZXh0KCk7aWYodD09PVUuYnJhY2VTdGF0ZW1lbnR8fHQ9PT1VLmJyYWNlRXhwcmVzc2lvbilyZXR1cm4hdC5pc0V4cHJ9cmV0dXJuIGU9PT1SLl9yZXR1cm4/TS50ZXN0KHRoaXMuaW5wdXQuc2xpY2UodGhpcy5zdGF0ZS5sYXN0VG9rRW5kLHRoaXMuc3RhdGUuc3RhcnQpKTplPT09Ui5fZWxzZXx8ZT09PVIuc2VtaXx8ZT09PVIuZW9mfHxlPT09Ui5wYXJlblJ8fChlPT09Ui5icmFjZUw/dGhpcy5jdXJDb250ZXh0KCk9PT1VLmJyYWNlU3RhdGVtZW50OiF0aGlzLnN0YXRlLmV4cHJBbGxvd2VkKX0sZS5wcm90b3R5cGUudXBkYXRlQ29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnR5cGUscj12b2lkIDA7dC5rZXl3b3JkJiZlPT09Ui5kb3Q/dGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMToocj10LnVwZGF0ZUNvbnRleHQpP3IuY2FsbCh0aGlzLGUpOnRoaXMuc3RhdGUuZXhwckFsbG93ZWQ9dC5iZWZvcmVFeHByfSxlfSgpLEs9e30sSD1bImpzeCIsImRvRXhwcmVzc2lvbnMiLCJvYmplY3RSZXN0U3ByZWFkIiwiZGVjb3JhdG9ycyIsImNsYXNzUHJvcGVydGllcyIsImV4cG9ydEV4dGVuc2lvbnMiLCJhc3luY0dlbmVyYXRvcnMiLCJmdW5jdGlvbkJpbmQiLCJmdW5jdGlvblNlbnQiLCJkeW5hbWljSW1wb3J0IiwiZmxvdyJdLEo9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyLG4pe3codGhpcyx0KSxyPWEocik7dmFyIGk9ayh0aGlzLGUuY2FsbCh0aGlzLHIsbikpO3JldHVybiBpLm9wdGlvbnM9cixpLmluTW9kdWxlPSJtb2R1bGUiPT09aS5vcHRpb25zLnNvdXJjZVR5cGUsaS5pbnB1dD1uLGkucGx1Z2lucz1pLmxvYWRQbHVnaW5zKGkub3B0aW9ucy5wbHVnaW5zKSxpLmZpbGVuYW1lPXIuc291cmNlRmlsZW5hbWUsMD09PWkuc3RhdGUucG9zJiYiIyI9PT1pLmlucHV0WzBdJiYiISI9PT1pLmlucHV0WzFdJiZpLnNraXBMaW5lQ29tbWVudCgyKSxpfXJldHVybiBQKHQsZSksdC5wcm90b3R5cGUuaXNSZXNlcnZlZFdvcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuImF3YWl0Ij09PWU/dGhpcy5pbk1vZHVsZTp2WzZdKGUpfSx0LnByb3RvdHlwZS5oYXNQbHVnaW49ZnVuY3Rpb24oZSl7cmV0dXJuISEodGhpcy5wbHVnaW5zWyIqIl0mJkguaW5kZXhPZihlKT4tMSl8fCEhdGhpcy5wbHVnaW5zW2VdfSx0LnByb3RvdHlwZS5leHRlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzW2VdPXQodGhpc1tlXSl9LHQucHJvdG90eXBlLmxvYWRBbGxQbHVnaW5zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PU9iamVjdC5rZXlzKEspLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iZmxvdyIhPT1lJiYiZXN0cmVlIiE9PWV9KTt0LnB1c2goImZsb3ciKSx0LmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9S1t0XTtyJiZyKGUpfSl9LHQucHJvdG90eXBlLmxvYWRQbHVnaW5zPWZ1bmN0aW9uKGUpe2lmKGUuaW5kZXhPZigiKiIpPj0wKXJldHVybiB0aGlzLmxvYWRBbGxQbHVnaW5zKCkseyIqIjohMH07dmFyIHQ9e307ZS5pbmRleE9mKCJmbG93Iik+PTAmJihlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJmbG93IiE9PWV9KSxlLnB1c2goImZsb3ciKSksZS5pbmRleE9mKCJlc3RyZWUiKT49MCYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuImVzdHJlZSIhPT1lfSksZS51bnNoaWZ0KCJlc3RyZWUiKSk7Zm9yKHZhciByPWUsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjpyW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgcztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztzPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX12YXIgYT1zO2lmKCF0W2FdKXt0W2FdPSEwO3ZhciBvPUtbYV07byYmbyh0aGlzKX19cmV0dXJuIHR9LHQucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGFydE5vZGUoKSx0PXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dFRva2VuKCksdGhpcy5wYXJzZVRvcExldmVsKGUsdCl9LHR9KHEpLFg9Si5wcm90b3R5cGU7WC5hZGRFeHRyYT1mdW5jdGlvbihlLHQscil7aWYoZSl7KGUuZXh0cmE9ZS5leHRyYXx8e30pW3RdPXJ9fSxYLmlzUmVsYXRpb25hbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tYXRjaChSLnJlbGF0aW9uYWwpJiZ0aGlzLnN0YXRlLnZhbHVlPT09ZX0sWC5leHBlY3RSZWxhdGlvbmFsPWZ1bmN0aW9uKGUpe3RoaXMuaXNSZWxhdGlvbmFsKGUpP3RoaXMubmV4dCgpOnRoaXMudW5leHBlY3RlZChudWxsLFIucmVsYXRpb25hbCl9LFguaXNDb250ZXh0dWFsPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1hdGNoKFIubmFtZSkmJnRoaXMuc3RhdGUudmFsdWU9PT1lfSxYLmVhdENvbnRleHR1YWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUudmFsdWU9PT1lJiZ0aGlzLmVhdChSLm5hbWUpfSxYLmV4cGVjdENvbnRleHR1YWw9ZnVuY3Rpb24oZSx0KXt0aGlzLmVhdENvbnRleHR1YWwoZSl8fHRoaXMudW5leHBlY3RlZChudWxsLHQpfSxYLmNhbkluc2VydFNlbWljb2xvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKFIuZW9mKXx8dGhpcy5tYXRjaChSLmJyYWNlUil8fE0udGVzdCh0aGlzLmlucHV0LnNsaWNlKHRoaXMuc3RhdGUubGFzdFRva0VuZCx0aGlzLnN0YXRlLnN0YXJ0KSl9LFguaXNMaW5lVGVybWluYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVhdChSLnNlbWkpfHx0aGlzLmNhbkluc2VydFNlbWljb2xvbigpfSxYLnNlbWljb2xvbj1mdW5jdGlvbigpe3RoaXMuaXNMaW5lVGVybWluYXRvcigpfHx0aGlzLnVuZXhwZWN0ZWQobnVsbCxSLnNlbWkpfSxYLmV4cGVjdD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVhdChlKXx8dGhpcy51bmV4cGVjdGVkKHQsZSl9LFgudW5leHBlY3RlZD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06IlVuZXhwZWN0ZWQgdG9rZW4iO3QmJiJvYmplY3QiPT09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6Qyh0KSkmJnQubGFiZWwmJih0PSJVbmV4cGVjdGVkIHRva2VuLCBleHBlY3RlZCAiK3QubGFiZWwpLHRoaXMucmFpc2UobnVsbCE9ZT9lOnRoaXMuc3RhdGUuc3RhcnQsdCl9O3ZhciB6PUoucHJvdG90eXBlO3oucGFyc2VUb3BMZXZlbD1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNvdXJjZVR5cGU9dGhpcy5vcHRpb25zLnNvdXJjZVR5cGUsdGhpcy5wYXJzZUJsb2NrQm9keSh0LCEwLCEwLFIuZW9mKSxlLnByb2dyYW09dGhpcy5maW5pc2hOb2RlKHQsIlByb2dyYW0iKSxlLmNvbW1lbnRzPXRoaXMuc3RhdGUuY29tbWVudHMsZS50b2tlbnM9dGhpcy5zdGF0ZS50b2tlbnMsdGhpcy5maW5pc2hOb2RlKGUsIkZpbGUiKX07dmFyICQ9e2tpbmQ6Imxvb3AifSxRPXtraW5kOiJzd2l0Y2gifTt6LnN0bXRUb0RpcmVjdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1lLmV4cHJlc3Npb24scj10aGlzLnN0YXJ0Tm9kZUF0KHQuc3RhcnQsdC5sb2Muc3RhcnQpLG49dGhpcy5zdGFydE5vZGVBdChlLnN0YXJ0LGUubG9jLnN0YXJ0KSxpPXRoaXMuaW5wdXQuc2xpY2UodC5zdGFydCx0LmVuZCkscz1yLnZhbHVlPWkuc2xpY2UoMSwtMSk7cmV0dXJuIHRoaXMuYWRkRXh0cmEociwicmF3IixpKSx0aGlzLmFkZEV4dHJhKHIsInJhd1ZhbHVlIixzKSxuLnZhbHVlPXRoaXMuZmluaXNoTm9kZUF0KHIsIkRpcmVjdGl2ZUxpdGVyYWwiLHQuZW5kLHQubG9jLmVuZCksdGhpcy5maW5pc2hOb2RlQXQobiwiRGlyZWN0aXZlIixlLmVuZCxlLmxvYy5lbmQpfSx6LnBhcnNlU3RhdGVtZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5tYXRjaChSLmF0KSYmdGhpcy5wYXJzZURlY29yYXRvcnMoITApO3ZhciByPXRoaXMuc3RhdGUudHlwZSxuPXRoaXMuc3RhcnROb2RlKCk7c3dpdGNoKHIpe2Nhc2UgUi5fYnJlYWs6Y2FzZSBSLl9jb250aW51ZTpyZXR1cm4gdGhpcy5wYXJzZUJyZWFrQ29udGludWVTdGF0ZW1lbnQobixyLmtleXdvcmQpO2Nhc2UgUi5fZGVidWdnZXI6cmV0dXJuIHRoaXMucGFyc2VEZWJ1Z2dlclN0YXRlbWVudChuKTtjYXNlIFIuX2RvOnJldHVybiB0aGlzLnBhcnNlRG9TdGF0ZW1lbnQobik7Y2FzZSBSLl9mb3I6cmV0dXJuIHRoaXMucGFyc2VGb3JTdGF0ZW1lbnQobik7Y2FzZSBSLl9mdW5jdGlvbjpyZXR1cm4gZXx8dGhpcy51bmV4cGVjdGVkKCksdGhpcy5wYXJzZUZ1bmN0aW9uU3RhdGVtZW50KG4pO2Nhc2UgUi5fY2xhc3M6cmV0dXJuIGV8fHRoaXMudW5leHBlY3RlZCgpLHRoaXMucGFyc2VDbGFzcyhuLCEwKTtjYXNlIFIuX2lmOnJldHVybiB0aGlzLnBhcnNlSWZTdGF0ZW1lbnQobik7Y2FzZSBSLl9yZXR1cm46cmV0dXJuIHRoaXMucGFyc2VSZXR1cm5TdGF0ZW1lbnQobik7Y2FzZSBSLl9zd2l0Y2g6cmV0dXJuIHRoaXMucGFyc2VTd2l0Y2hTdGF0ZW1lbnQobik7Y2FzZSBSLl90aHJvdzpyZXR1cm4gdGhpcy5wYXJzZVRocm93U3RhdGVtZW50KG4pO2Nhc2UgUi5fdHJ5OnJldHVybiB0aGlzLnBhcnNlVHJ5U3RhdGVtZW50KG4pO2Nhc2UgUi5fbGV0OmNhc2UgUi5fY29uc3Q6ZXx8dGhpcy51bmV4cGVjdGVkKCk7Y2FzZSBSLl92YXI6cmV0dXJuIHRoaXMucGFyc2VWYXJTdGF0ZW1lbnQobixyKTtjYXNlIFIuX3doaWxlOnJldHVybiB0aGlzLnBhcnNlV2hpbGVTdGF0ZW1lbnQobik7Y2FzZSBSLl93aXRoOnJldHVybiB0aGlzLnBhcnNlV2l0aFN0YXRlbWVudChuKTtjYXNlIFIuYnJhY2VMOnJldHVybiB0aGlzLnBhcnNlQmxvY2soKTtjYXNlIFIuc2VtaTpyZXR1cm4gdGhpcy5wYXJzZUVtcHR5U3RhdGVtZW50KG4pO2Nhc2UgUi5fZXhwb3J0OmNhc2UgUi5faW1wb3J0OmlmKHRoaXMuaGFzUGx1Z2luKCJkeW5hbWljSW1wb3J0IikmJnRoaXMubG9va2FoZWFkKCkudHlwZT09PVIucGFyZW5MKWJyZWFrO3JldHVybiB0aGlzLm9wdGlvbnMuYWxsb3dJbXBvcnRFeHBvcnRFdmVyeXdoZXJlfHwodHx8dGhpcy5yYWlzZSh0aGlzLnN0YXRlLnN0YXJ0LCInaW1wb3J0JyBhbmQgJ2V4cG9ydCcgbWF5IG9ubHkgYXBwZWFyIGF0IHRoZSB0b3AgbGV2ZWwiKSx0aGlzLmluTW9kdWxlfHx0aGlzLnJhaXNlKHRoaXMuc3RhdGUuc3RhcnQsIidpbXBvcnQnIGFuZCAnZXhwb3J0JyBtYXkgYXBwZWFyIG9ubHkgd2l0aCAnc291cmNlVHlwZTogXCJtb2R1bGVcIiciKSkscj09PVIuX2ltcG9ydD90aGlzLnBhcnNlSW1wb3J0KG4pOnRoaXMucGFyc2VFeHBvcnQobik7Y2FzZSBSLm5hbWU6aWYoImFzeW5jIj09PXRoaXMuc3RhdGUudmFsdWUpe3ZhciBpPXRoaXMuc3RhdGUuY2xvbmUoKTtpZih0aGlzLm5leHQoKSx0aGlzLm1hdGNoKFIuX2Z1bmN0aW9uKSYmIXRoaXMuY2FuSW5zZXJ0U2VtaWNvbG9uKCkpcmV0dXJuIHRoaXMuZXhwZWN0KFIuX2Z1bmN0aW9uKSx0aGlzLnBhcnNlRnVuY3Rpb24obiwhMCwhMSwhMCk7dGhpcy5zdGF0ZT1pfX12YXIgcz10aGlzLnN0YXRlLnZhbHVlLGE9dGhpcy5wYXJzZUV4cHJlc3Npb24oKTtyZXR1cm4gcj09PVIubmFtZSYmIklkZW50aWZpZXIiPT09YS50eXBlJiZ0aGlzLmVhdChSLmNvbG9uKT90aGlzLnBhcnNlTGFiZWxlZFN0YXRlbWVudChuLHMsYSk6dGhpcy5wYXJzZUV4cHJlc3Npb25TdGF0ZW1lbnQobixhKX0sei50YWtlRGVjb3JhdG9ycz1mdW5jdGlvbihlKXt0aGlzLnN0YXRlLmRlY29yYXRvcnMubGVuZ3RoJiYoZS5kZWNvcmF0b3JzPXRoaXMuc3RhdGUuZGVjb3JhdG9ycyx0aGlzLnN0YXRlLmRlY29yYXRvcnM9W10pfSx6LnBhcnNlRGVjb3JhdG9ycz1mdW5jdGlvbihlKXtmb3IoO3RoaXMubWF0Y2goUi5hdCk7KXt2YXIgdD10aGlzLnBhcnNlRGVjb3JhdG9yKCk7dGhpcy5zdGF0ZS5kZWNvcmF0b3JzLnB1c2godCl9ZSYmdGhpcy5tYXRjaChSLl9leHBvcnQpfHx0aGlzLm1hdGNoKFIuX2NsYXNzKXx8dGhpcy5yYWlzZSh0aGlzLnN0YXRlLnN0YXJ0LCJMZWFkaW5nIGRlY29yYXRvcnMgbXVzdCBiZSBhdHRhY2hlZCB0byBhIGNsYXNzIGRlY2xhcmF0aW9uIil9LHoucGFyc2VEZWNvcmF0b3I9ZnVuY3Rpb24oKXt0aGlzLmhhc1BsdWdpbigiZGVjb3JhdG9ycyIpfHx0aGlzLnVuZXhwZWN0ZWQoKTt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpO3JldHVybiB0aGlzLm5leHQoKSxlLmV4cHJlc3Npb249dGhpcy5wYXJzZU1heWJlQXNzaWduKCksdGhpcy5maW5pc2hOb2RlKGUsIkRlY29yYXRvciIpfSx6LnBhcnNlQnJlYWtDb250aW51ZVN0YXRlbWVudD1mdW5jdGlvbihlLHQpe3ZhciByPSJicmVhayI9PT10O3RoaXMubmV4dCgpLHRoaXMuaXNMaW5lVGVybWluYXRvcigpP2UubGFiZWw9bnVsbDp0aGlzLm1hdGNoKFIubmFtZSk/KGUubGFiZWw9dGhpcy5wYXJzZUlkZW50aWZpZXIoKSx0aGlzLnNlbWljb2xvbigpKTp0aGlzLnVuZXhwZWN0ZWQoKTt2YXIgbj12b2lkIDA7Zm9yKG49MDtuPHRoaXMuc3RhdGUubGFiZWxzLmxlbmd0aDsrK24pe3ZhciBpPXRoaXMuc3RhdGUubGFiZWxzW25dO2lmKG51bGw9PWUubGFiZWx8fGkubmFtZT09PWUubGFiZWwubmFtZSl7aWYobnVsbCE9aS5raW5kJiYocnx8Imxvb3AiPT09aS5raW5kKSlicmVhaztpZihlLmxhYmVsJiZyKWJyZWFrfX1yZXR1cm4gbj09PXRoaXMuc3RhdGUubGFiZWxzLmxlbmd0aCYmdGhpcy5yYWlzZShlLnN0YXJ0LCJVbnN5bnRhY3RpYyAiK3QpLHRoaXMuZmluaXNoTm9kZShlLHI/IkJyZWFrU3RhdGVtZW50IjoiQ29udGludWVTdGF0ZW1lbnQiKX0sei5wYXJzZURlYnVnZ2VyU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoKSx0aGlzLnNlbWljb2xvbigpLHRoaXMuZmluaXNoTm9kZShlLCJEZWJ1Z2dlclN0YXRlbWVudCIpfSx6LnBhcnNlRG9TdGF0ZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuc3RhdGUubGFiZWxzLnB1c2goJCksZS5ib2R5PXRoaXMucGFyc2VTdGF0ZW1lbnQoITEpLHRoaXMuc3RhdGUubGFiZWxzLnBvcCgpLHRoaXMuZXhwZWN0KFIuX3doaWxlKSxlLnRlc3Q9dGhpcy5wYXJzZVBhcmVuRXhwcmVzc2lvbigpLHRoaXMuZWF0KFIuc2VtaSksdGhpcy5maW5pc2hOb2RlKGUsIkRvV2hpbGVTdGF0ZW1lbnQiKX0sei5wYXJzZUZvclN0YXRlbWVudD1mdW5jdGlvbihlKXt0aGlzLm5leHQoKSx0aGlzLnN0YXRlLmxhYmVscy5wdXNoKCQpO3ZhciB0PSExO2lmKHRoaXMuaGFzUGx1Z2luKCJhc3luY0dlbmVyYXRvcnMiKSYmdGhpcy5zdGF0ZS5pbkFzeW5jJiZ0aGlzLmlzQ29udGV4dHVhbCgiYXdhaXQiKSYmKHQ9ITAsdGhpcy5uZXh0KCkpLHRoaXMuZXhwZWN0KFIucGFyZW5MKSx0aGlzLm1hdGNoKFIuc2VtaSkpcmV0dXJuIHQmJnRoaXMudW5leHBlY3RlZCgpLHRoaXMucGFyc2VGb3IoZSxudWxsKTtpZih0aGlzLm1hdGNoKFIuX3Zhcil8fHRoaXMubWF0Y2goUi5fbGV0KXx8dGhpcy5tYXRjaChSLl9jb25zdCkpe3ZhciByPXRoaXMuc3RhcnROb2RlKCksbj10aGlzLnN0YXRlLnR5cGU7cmV0dXJuIHRoaXMubmV4dCgpLCh0aGlzLnBhcnNlVmFyKHIsITAsbiksdGhpcy5maW5pc2hOb2RlKHIsIlZhcmlhYmxlRGVjbGFyYXRpb24iKSwhdGhpcy5tYXRjaChSLl9pbikmJiF0aGlzLmlzQ29udGV4dHVhbCgib2YiKXx8MSE9PXIuZGVjbGFyYXRpb25zLmxlbmd0aHx8ci5kZWNsYXJhdGlvbnNbMF0uaW5pdCk/KHQmJnRoaXMudW5leHBlY3RlZCgpLAp0aGlzLnBhcnNlRm9yKGUscikpOnRoaXMucGFyc2VGb3JJbihlLHIsdCl9dmFyIGk9e3N0YXJ0OjB9LHM9dGhpcy5wYXJzZUV4cHJlc3Npb24oITAsaSk7aWYodGhpcy5tYXRjaChSLl9pbil8fHRoaXMuaXNDb250ZXh0dWFsKCJvZiIpKXt2YXIgYT10aGlzLmlzQ29udGV4dHVhbCgib2YiKT8iZm9yLW9mIHN0YXRlbWVudCI6ImZvci1pbiBzdGF0ZW1lbnQiO3JldHVybiB0aGlzLnRvQXNzaWduYWJsZShzLHZvaWQgMCxhKSx0aGlzLmNoZWNrTFZhbChzLHZvaWQgMCx2b2lkIDAsYSksdGhpcy5wYXJzZUZvckluKGUscyx0KX1yZXR1cm4gaS5zdGFydCYmdGhpcy51bmV4cGVjdGVkKGkuc3RhcnQpLHQmJnRoaXMudW5leHBlY3RlZCgpLHRoaXMucGFyc2VGb3IoZSxzKX0sei5wYXJzZUZ1bmN0aW9uU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoKSx0aGlzLnBhcnNlRnVuY3Rpb24oZSwhMCl9LHoucGFyc2VJZlN0YXRlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5uZXh0KCksZS50ZXN0PXRoaXMucGFyc2VQYXJlbkV4cHJlc3Npb24oKSxlLmNvbnNlcXVlbnQ9dGhpcy5wYXJzZVN0YXRlbWVudCghMSksZS5hbHRlcm5hdGU9dGhpcy5lYXQoUi5fZWxzZSk/dGhpcy5wYXJzZVN0YXRlbWVudCghMSk6bnVsbCx0aGlzLmZpbmlzaE5vZGUoZSwiSWZTdGF0ZW1lbnQiKX0sei5wYXJzZVJldHVyblN0YXRlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGF0ZS5pbkZ1bmN0aW9ufHx0aGlzLm9wdGlvbnMuYWxsb3dSZXR1cm5PdXRzaWRlRnVuY3Rpb258fHRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiJ3JldHVybicgb3V0c2lkZSBvZiBmdW5jdGlvbiIpLHRoaXMubmV4dCgpLHRoaXMuaXNMaW5lVGVybWluYXRvcigpP2UuYXJndW1lbnQ9bnVsbDooZS5hcmd1bWVudD10aGlzLnBhcnNlRXhwcmVzc2lvbigpLHRoaXMuc2VtaWNvbG9uKCkpLHRoaXMuZmluaXNoTm9kZShlLCJSZXR1cm5TdGF0ZW1lbnQiKX0sei5wYXJzZVN3aXRjaFN0YXRlbWVudD1mdW5jdGlvbihlKXt0aGlzLm5leHQoKSxlLmRpc2NyaW1pbmFudD10aGlzLnBhcnNlUGFyZW5FeHByZXNzaW9uKCksZS5jYXNlcz1bXSx0aGlzLmV4cGVjdChSLmJyYWNlTCksdGhpcy5zdGF0ZS5sYWJlbHMucHVzaChRKTtmb3IodmFyIHQscj12b2lkIDA7IXRoaXMubWF0Y2goUi5icmFjZVIpOylpZih0aGlzLm1hdGNoKFIuX2Nhc2UpfHx0aGlzLm1hdGNoKFIuX2RlZmF1bHQpKXt2YXIgbj10aGlzLm1hdGNoKFIuX2Nhc2UpO3ImJnRoaXMuZmluaXNoTm9kZShyLCJTd2l0Y2hDYXNlIiksZS5jYXNlcy5wdXNoKHI9dGhpcy5zdGFydE5vZGUoKSksci5jb25zZXF1ZW50PVtdLHRoaXMubmV4dCgpLG4/ci50ZXN0PXRoaXMucGFyc2VFeHByZXNzaW9uKCk6KHQmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5sYXN0VG9rU3RhcnQsIk11bHRpcGxlIGRlZmF1bHQgY2xhdXNlcyIpLHQ9ITAsci50ZXN0PW51bGwpLHRoaXMuZXhwZWN0KFIuY29sb24pfWVsc2Ugcj9yLmNvbnNlcXVlbnQucHVzaCh0aGlzLnBhcnNlU3RhdGVtZW50KCEwKSk6dGhpcy51bmV4cGVjdGVkKCk7cmV0dXJuIHImJnRoaXMuZmluaXNoTm9kZShyLCJTd2l0Y2hDYXNlIiksdGhpcy5uZXh0KCksdGhpcy5zdGF0ZS5sYWJlbHMucG9wKCksdGhpcy5maW5pc2hOb2RlKGUsIlN3aXRjaFN0YXRlbWVudCIpfSx6LnBhcnNlVGhyb3dTdGF0ZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLE0udGVzdCh0aGlzLmlucHV0LnNsaWNlKHRoaXMuc3RhdGUubGFzdFRva0VuZCx0aGlzLnN0YXRlLnN0YXJ0KSkmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5sYXN0VG9rRW5kLCJJbGxlZ2FsIG5ld2xpbmUgYWZ0ZXIgdGhyb3ciKSxlLmFyZ3VtZW50PXRoaXMucGFyc2VFeHByZXNzaW9uKCksdGhpcy5zZW1pY29sb24oKSx0aGlzLmZpbmlzaE5vZGUoZSwiVGhyb3dTdGF0ZW1lbnQiKX07dmFyIFo9W107ei5wYXJzZVRyeVN0YXRlbWVudD1mdW5jdGlvbihlKXtpZih0aGlzLm5leHQoKSxlLmJsb2NrPXRoaXMucGFyc2VCbG9jaygpLGUuaGFuZGxlcj1udWxsLHRoaXMubWF0Y2goUi5fY2F0Y2gpKXt2YXIgdD10aGlzLnN0YXJ0Tm9kZSgpO3RoaXMubmV4dCgpLHRoaXMuZXhwZWN0KFIucGFyZW5MKSx0LnBhcmFtPXRoaXMucGFyc2VCaW5kaW5nQXRvbSgpLHRoaXMuY2hlY2tMVmFsKHQucGFyYW0sITAsT2JqZWN0LmNyZWF0ZShudWxsKSwiY2F0Y2ggY2xhdXNlIiksdGhpcy5leHBlY3QoUi5wYXJlblIpLHQuYm9keT10aGlzLnBhcnNlQmxvY2soKSxlLmhhbmRsZXI9dGhpcy5maW5pc2hOb2RlKHQsIkNhdGNoQ2xhdXNlIil9cmV0dXJuIGUuZ3VhcmRlZEhhbmRsZXJzPVosZS5maW5hbGl6ZXI9dGhpcy5lYXQoUi5fZmluYWxseSk/dGhpcy5wYXJzZUJsb2NrKCk6bnVsbCxlLmhhbmRsZXJ8fGUuZmluYWxpemVyfHx0aGlzLnJhaXNlKGUuc3RhcnQsIk1pc3NpbmcgY2F0Y2ggb3IgZmluYWxseSBjbGF1c2UiKSx0aGlzLmZpbmlzaE5vZGUoZSwiVHJ5U3RhdGVtZW50Iil9LHoucGFyc2VWYXJTdGF0ZW1lbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5uZXh0KCksdGhpcy5wYXJzZVZhcihlLCExLHQpLHRoaXMuc2VtaWNvbG9uKCksdGhpcy5maW5pc2hOb2RlKGUsIlZhcmlhYmxlRGVjbGFyYXRpb24iKX0sei5wYXJzZVdoaWxlU3RhdGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoKSxlLnRlc3Q9dGhpcy5wYXJzZVBhcmVuRXhwcmVzc2lvbigpLHRoaXMuc3RhdGUubGFiZWxzLnB1c2goJCksZS5ib2R5PXRoaXMucGFyc2VTdGF0ZW1lbnQoITEpLHRoaXMuc3RhdGUubGFiZWxzLnBvcCgpLHRoaXMuZmluaXNoTm9kZShlLCJXaGlsZVN0YXRlbWVudCIpfSx6LnBhcnNlV2l0aFN0YXRlbWVudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zdGF0ZS5zdHJpY3QmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiJ3dpdGgnIGluIHN0cmljdCBtb2RlIiksdGhpcy5uZXh0KCksZS5vYmplY3Q9dGhpcy5wYXJzZVBhcmVuRXhwcmVzc2lvbigpLGUuYm9keT10aGlzLnBhcnNlU3RhdGVtZW50KCExKSx0aGlzLmZpbmlzaE5vZGUoZSwiV2l0aFN0YXRlbWVudCIpfSx6LnBhcnNlRW1wdHlTdGF0ZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZmluaXNoTm9kZShlLCJFbXB0eVN0YXRlbWVudCIpfSx6LnBhcnNlTGFiZWxlZFN0YXRlbWVudD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPXRoaXMuc3RhdGUubGFiZWxzLGk9QXJyYXkuaXNBcnJheShuKSxzPTAsbj1pP246bltTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9YS5uYW1lPT09dCYmdGhpcy5yYWlzZShyLnN0YXJ0LCJMYWJlbCAnIit0KyInIGlzIGFscmVhZHkgZGVjbGFyZWQiKX1mb3IodmFyIG89dGhpcy5zdGF0ZS50eXBlLmlzTG9vcD8ibG9vcCI6dGhpcy5tYXRjaChSLl9zd2l0Y2gpPyJzd2l0Y2giOm51bGwsdT10aGlzLnN0YXRlLmxhYmVscy5sZW5ndGgtMTt1Pj0wO3UtLSl7dmFyIGw9dGhpcy5zdGF0ZS5sYWJlbHNbdV07aWYobC5zdGF0ZW1lbnRTdGFydCE9PWUuc3RhcnQpYnJlYWs7bC5zdGF0ZW1lbnRTdGFydD10aGlzLnN0YXRlLnN0YXJ0LGwua2luZD1vfXJldHVybiB0aGlzLnN0YXRlLmxhYmVscy5wdXNoKHtuYW1lOnQsa2luZDpvLHN0YXRlbWVudFN0YXJ0OnRoaXMuc3RhdGUuc3RhcnR9KSxlLmJvZHk9dGhpcy5wYXJzZVN0YXRlbWVudCghMCksdGhpcy5zdGF0ZS5sYWJlbHMucG9wKCksZS5sYWJlbD1yLHRoaXMuZmluaXNoTm9kZShlLCJMYWJlbGVkU3RhdGVtZW50Iil9LHoucGFyc2VFeHByZXNzaW9uU3RhdGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZXhwcmVzc2lvbj10LHRoaXMuc2VtaWNvbG9uKCksdGhpcy5maW5pc2hOb2RlKGUsIkV4cHJlc3Npb25TdGF0ZW1lbnQiKX0sei5wYXJzZUJsb2NrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMuZXhwZWN0KFIuYnJhY2VMKSx0aGlzLnBhcnNlQmxvY2tCb2R5KHQsZSwhMSxSLmJyYWNlUiksdGhpcy5maW5pc2hOb2RlKHQsIkJsb2NrU3RhdGVtZW50Iil9LHouaXNWYWxpZERpcmVjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4iRXhwcmVzc2lvblN0YXRlbWVudCI9PT1lLnR5cGUmJiJTdHJpbmdMaXRlcmFsIj09PWUuZXhwcmVzc2lvbi50eXBlJiYhZS5leHByZXNzaW9uLmV4dHJhLnBhcmVudGhlc2l6ZWR9LHoucGFyc2VCbG9ja0JvZHk9ZnVuY3Rpb24oZSx0LHIsbil7ZS5ib2R5PVtdLGUuZGlyZWN0aXZlcz1bXTtmb3IodmFyIGk9ITEscz12b2lkIDAsYT12b2lkIDA7IXRoaXMuZWF0KG4pOyl7aXx8IXRoaXMuc3RhdGUuY29udGFpbnNPY3RhbHx8YXx8KGE9dGhpcy5zdGF0ZS5vY3RhbFBvc2l0aW9uKTt2YXIgbz10aGlzLnBhcnNlU3RhdGVtZW50KCEwLHIpO2lmKHQmJiFpJiZ0aGlzLmlzVmFsaWREaXJlY3RpdmUobykpe3ZhciB1PXRoaXMuc3RtdFRvRGlyZWN0aXZlKG8pO2UuZGlyZWN0aXZlcy5wdXNoKHUpLHZvaWQgMD09PXMmJiJ1c2Ugc3RyaWN0Ij09PXUudmFsdWUudmFsdWUmJihzPXRoaXMuc3RhdGUuc3RyaWN0LHRoaXMuc2V0U3RyaWN0KCEwKSxhJiZ0aGlzLnJhaXNlKGEsIk9jdGFsIGxpdGVyYWwgaW4gc3RyaWN0IG1vZGUiKSl9ZWxzZSBpPSEwLGUuYm9keS5wdXNoKG8pfSExPT09cyYmdGhpcy5zZXRTdHJpY3QoITEpfSx6LnBhcnNlRm9yPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5pdD10LHRoaXMuZXhwZWN0KFIuc2VtaSksZS50ZXN0PXRoaXMubWF0Y2goUi5zZW1pKT9udWxsOnRoaXMucGFyc2VFeHByZXNzaW9uKCksdGhpcy5leHBlY3QoUi5zZW1pKSxlLnVwZGF0ZT10aGlzLm1hdGNoKFIucGFyZW5SKT9udWxsOnRoaXMucGFyc2VFeHByZXNzaW9uKCksdGhpcy5leHBlY3QoUi5wYXJlblIpLGUuYm9keT10aGlzLnBhcnNlU3RhdGVtZW50KCExKSx0aGlzLnN0YXRlLmxhYmVscy5wb3AoKSx0aGlzLmZpbmlzaE5vZGUoZSwiRm9yU3RhdGVtZW50Iil9LHoucGFyc2VGb3JJbj1mdW5jdGlvbihlLHQscil7dmFyIG49dm9pZCAwO3JldHVybiByPyh0aGlzLmVhdENvbnRleHR1YWwoIm9mIiksbj0iRm9yQXdhaXRTdGF0ZW1lbnQiKToobj10aGlzLm1hdGNoKFIuX2luKT8iRm9ySW5TdGF0ZW1lbnQiOiJGb3JPZlN0YXRlbWVudCIsdGhpcy5uZXh0KCkpLGUubGVmdD10LGUucmlnaHQ9dGhpcy5wYXJzZUV4cHJlc3Npb24oKSx0aGlzLmV4cGVjdChSLnBhcmVuUiksZS5ib2R5PXRoaXMucGFyc2VTdGF0ZW1lbnQoITEpLHRoaXMuc3RhdGUubGFiZWxzLnBvcCgpLHRoaXMuZmluaXNoTm9kZShlLG4pfSx6LnBhcnNlVmFyPWZ1bmN0aW9uKGUsdCxyKXtmb3IoZS5kZWNsYXJhdGlvbnM9W10sZS5raW5kPXIua2V5d29yZDs7KXt2YXIgbj10aGlzLnN0YXJ0Tm9kZSgpO2lmKHRoaXMucGFyc2VWYXJIZWFkKG4pLHRoaXMuZWF0KFIuZXEpP24uaW5pdD10aGlzLnBhcnNlTWF5YmVBc3NpZ24odCk6ciE9PVIuX2NvbnN0fHx0aGlzLm1hdGNoKFIuX2luKXx8dGhpcy5pc0NvbnRleHR1YWwoIm9mIik/IklkZW50aWZpZXIiPT09bi5pZC50eXBlfHx0JiYodGhpcy5tYXRjaChSLl9pbil8fHRoaXMuaXNDb250ZXh0dWFsKCJvZiIpKT9uLmluaXQ9bnVsbDp0aGlzLnJhaXNlKHRoaXMuc3RhdGUubGFzdFRva0VuZCwiQ29tcGxleCBiaW5kaW5nIHBhdHRlcm5zIHJlcXVpcmUgYW4gaW5pdGlhbGl6YXRpb24gdmFsdWUiKTp0aGlzLnVuZXhwZWN0ZWQoKSxlLmRlY2xhcmF0aW9ucy5wdXNoKHRoaXMuZmluaXNoTm9kZShuLCJWYXJpYWJsZURlY2xhcmF0b3IiKSksIXRoaXMuZWF0KFIuY29tbWEpKWJyZWFrfXJldHVybiBlfSx6LnBhcnNlVmFySGVhZD1mdW5jdGlvbihlKXtlLmlkPXRoaXMucGFyc2VCaW5kaW5nQXRvbSgpLHRoaXMuY2hlY2tMVmFsKGUuaWQsITAsdm9pZCAwLCJ2YXJpYWJsZSBkZWNsYXJhdGlvbiIpfSx6LnBhcnNlRnVuY3Rpb249ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz10aGlzLnN0YXRlLmluTWV0aG9kO3JldHVybiB0aGlzLnN0YXRlLmluTWV0aG9kPSExLHRoaXMuaW5pdEZ1bmN0aW9uKGUsbiksdGhpcy5tYXRjaChSLnN0YXIpJiYoZS5hc3luYyYmIXRoaXMuaGFzUGx1Z2luKCJhc3luY0dlbmVyYXRvcnMiKT90aGlzLnVuZXhwZWN0ZWQoKTooZS5nZW5lcmF0b3I9ITAsdGhpcy5uZXh0KCkpKSwhdHx8aXx8dGhpcy5tYXRjaChSLm5hbWUpfHx0aGlzLm1hdGNoKFIuX3lpZWxkKXx8dGhpcy51bmV4cGVjdGVkKCksKHRoaXMubWF0Y2goUi5uYW1lKXx8dGhpcy5tYXRjaChSLl95aWVsZCkpJiYoZS5pZD10aGlzLnBhcnNlQmluZGluZ0lkZW50aWZpZXIoKSksdGhpcy5wYXJzZUZ1bmN0aW9uUGFyYW1zKGUpLHRoaXMucGFyc2VGdW5jdGlvbkJvZHkoZSxyKSx0aGlzLnN0YXRlLmluTWV0aG9kPXMsdGhpcy5maW5pc2hOb2RlKGUsdD8iRnVuY3Rpb25EZWNsYXJhdGlvbiI6IkZ1bmN0aW9uRXhwcmVzc2lvbiIpfSx6LnBhcnNlRnVuY3Rpb25QYXJhbXM9ZnVuY3Rpb24oZSl7dGhpcy5leHBlY3QoUi5wYXJlbkwpLGUucGFyYW1zPXRoaXMucGFyc2VCaW5kaW5nTGlzdChSLnBhcmVuUil9LHoucGFyc2VDbGFzcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMudGFrZURlY29yYXRvcnMoZSksdGhpcy5wYXJzZUNsYXNzSWQoZSx0LHIpLHRoaXMucGFyc2VDbGFzc1N1cGVyKGUpLHRoaXMucGFyc2VDbGFzc0JvZHkoZSksdGhpcy5maW5pc2hOb2RlKGUsdD8iQ2xhc3NEZWNsYXJhdGlvbiI6IkNsYXNzRXhwcmVzc2lvbiIpfSx6LmlzQ2xhc3NQcm9wZXJ0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKFIuZXEpfHx0aGlzLm1hdGNoKFIuc2VtaSl8fHRoaXMubWF0Y2goUi5icmFjZVIpfSx6LmlzQ2xhc3NNZXRob2Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChSLnBhcmVuTCl9LHouaXNOb25zdGF0aWNDb25zdHJ1Y3Rvcj1mdW5jdGlvbihlKXtyZXR1cm4hKGUuY29tcHV0ZWR8fGUuc3RhdGljfHwiY29uc3RydWN0b3IiIT09ZS5rZXkubmFtZSYmImNvbnN0cnVjdG9yIiE9PWUua2V5LnZhbHVlKX0sei5wYXJzZUNsYXNzQm9keT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnN0cmljdDt0aGlzLnN0YXRlLnN0cmljdD0hMDt2YXIgcj0hMSxuPSExLGk9W10scz10aGlzLnN0YXJ0Tm9kZSgpO2ZvcihzLmJvZHk9W10sdGhpcy5leHBlY3QoUi5icmFjZUwpOyF0aGlzLmVhdChSLmJyYWNlUik7KWlmKHRoaXMuZWF0KFIuc2VtaSkpaS5sZW5ndGg+MCYmdGhpcy5yYWlzZSh0aGlzLnN0YXRlLmxhc3RUb2tFbmQsIkRlY29yYXRvcnMgbXVzdCBub3QgYmUgZm9sbG93ZWQgYnkgYSBzZW1pY29sb24iKTtlbHNlIGlmKHRoaXMubWF0Y2goUi5hdCkpaS5wdXNoKHRoaXMucGFyc2VEZWNvcmF0b3IoKSk7ZWxzZXt2YXIgYT10aGlzLnN0YXJ0Tm9kZSgpO2lmKGkubGVuZ3RoJiYoYS5kZWNvcmF0b3JzPWksaT1bXSksYS5zdGF0aWM9ITEsdGhpcy5tYXRjaChSLm5hbWUpJiYic3RhdGljIj09PXRoaXMuc3RhdGUudmFsdWUpe3ZhciBvPXRoaXMucGFyc2VJZGVudGlmaWVyKCEwKTtpZih0aGlzLmlzQ2xhc3NNZXRob2QoKSl7YS5raW5kPSJtZXRob2QiLGEuY29tcHV0ZWQ9ITEsYS5rZXk9byx0aGlzLnBhcnNlQ2xhc3NNZXRob2QocyxhLCExLCExKTtjb250aW51ZX1pZih0aGlzLmlzQ2xhc3NQcm9wZXJ0eSgpKXthLmNvbXB1dGVkPSExLGEua2V5PW8scy5ib2R5LnB1c2godGhpcy5wYXJzZUNsYXNzUHJvcGVydHkoYSkpO2NvbnRpbnVlfWEuc3RhdGljPSEwfWlmKHRoaXMuZWF0KFIuc3RhcikpYS5raW5kPSJtZXRob2QiLHRoaXMucGFyc2VQcm9wZXJ0eU5hbWUoYSksdGhpcy5pc05vbnN0YXRpY0NvbnN0cnVjdG9yKGEpJiZ0aGlzLnJhaXNlKGEua2V5LnN0YXJ0LCJDb25zdHJ1Y3RvciBjYW4ndCBiZSBhIGdlbmVyYXRvciIpLGEuY29tcHV0ZWR8fCFhLnN0YXRpY3x8InByb3RvdHlwZSIhPT1hLmtleS5uYW1lJiYicHJvdG90eXBlIiE9PWEua2V5LnZhbHVlfHx0aGlzLnJhaXNlKGEua2V5LnN0YXJ0LCJDbGFzc2VzIG1heSBub3QgaGF2ZSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgcHJvdG90eXBlIiksdGhpcy5wYXJzZUNsYXNzTWV0aG9kKHMsYSwhMCwhMSk7ZWxzZXt2YXIgdT10aGlzLm1hdGNoKFIubmFtZSksbD10aGlzLnBhcnNlUHJvcGVydHlOYW1lKGEpO2lmKGEuY29tcHV0ZWR8fCFhLnN0YXRpY3x8InByb3RvdHlwZSIhPT1hLmtleS5uYW1lJiYicHJvdG90eXBlIiE9PWEua2V5LnZhbHVlfHx0aGlzLnJhaXNlKGEua2V5LnN0YXJ0LCJDbGFzc2VzIG1heSBub3QgaGF2ZSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgcHJvdG90eXBlIiksdGhpcy5pc0NsYXNzTWV0aG9kKCkpdGhpcy5pc05vbnN0YXRpY0NvbnN0cnVjdG9yKGEpPyhuP3RoaXMucmFpc2UobC5zdGFydCwiRHVwbGljYXRlIGNvbnN0cnVjdG9yIGluIHRoZSBzYW1lIGNsYXNzIik6YS5kZWNvcmF0b3JzJiZ0aGlzLnJhaXNlKGEuc3RhcnQsIllvdSBjYW4ndCBhdHRhY2ggZGVjb3JhdG9ycyB0byBhIGNsYXNzIGNvbnN0cnVjdG9yIiksbj0hMCxhLmtpbmQ9ImNvbnN0cnVjdG9yIik6YS5raW5kPSJtZXRob2QiLHRoaXMucGFyc2VDbGFzc01ldGhvZChzLGEsITEsITEpO2Vsc2UgaWYodGhpcy5pc0NsYXNzUHJvcGVydHkoKSl0aGlzLmlzTm9uc3RhdGljQ29uc3RydWN0b3IoYSkmJnRoaXMucmFpc2UoYS5rZXkuc3RhcnQsIkNsYXNzZXMgbWF5IG5vdCBoYXZlIGEgbm9uLXN0YXRpYyBmaWVsZCBuYW1lZCAnY29uc3RydWN0b3InIikscy5ib2R5LnB1c2godGhpcy5wYXJzZUNsYXNzUHJvcGVydHkoYSkpO2Vsc2UgaWYodSYmImFzeW5jIj09PWwubmFtZSYmIXRoaXMuaXNMaW5lVGVybWluYXRvcigpKXt2YXIgYz10aGlzLmhhc1BsdWdpbigiYXN5bmNHZW5lcmF0b3JzIikmJnRoaXMuZWF0KFIuc3Rhcik7YS5raW5kPSJtZXRob2QiLHRoaXMucGFyc2VQcm9wZXJ0eU5hbWUoYSksdGhpcy5pc05vbnN0YXRpY0NvbnN0cnVjdG9yKGEpJiZ0aGlzLnJhaXNlKGEua2V5LnN0YXJ0LCJDb25zdHJ1Y3RvciBjYW4ndCBiZSBhbiBhc3luYyBmdW5jdGlvbiIpLHRoaXMucGFyc2VDbGFzc01ldGhvZChzLGEsYywhMCl9ZWxzZSF1fHwiZ2V0IiE9PWwubmFtZSYmInNldCIhPT1sLm5hbWV8fHRoaXMuaXNMaW5lVGVybWluYXRvcigpJiZ0aGlzLm1hdGNoKFIuc3Rhcik/dGhpcy5oYXNQbHVnaW4oImNsYXNzQ29uc3RydWN0b3JDYWxsIikmJnUmJiJjYWxsIj09PWwubmFtZSYmdGhpcy5tYXRjaChSLm5hbWUpJiYiY29uc3RydWN0b3IiPT09dGhpcy5zdGF0ZS52YWx1ZT8ocj90aGlzLnJhaXNlKGEuc3RhcnQsIkR1cGxpY2F0ZSBjb25zdHJ1Y3RvciBjYWxsIGluIHRoZSBzYW1lIGNsYXNzIik6YS5kZWNvcmF0b3JzJiZ0aGlzLnJhaXNlKGEuc3RhcnQsIllvdSBjYW4ndCBhdHRhY2ggZGVjb3JhdG9ycyB0byBhIGNsYXNzIGNvbnN0cnVjdG9yIikscj0hMCxhLmtpbmQ9ImNvbnN0cnVjdG9yQ2FsbCIsdGhpcy5wYXJzZVByb3BlcnR5TmFtZShhKSx0aGlzLnBhcnNlQ2xhc3NNZXRob2QocyxhLCExLCExKSk6dGhpcy5pc0xpbmVUZXJtaW5hdG9yKCk/KHRoaXMuaXNOb25zdGF0aWNDb25zdHJ1Y3RvcihhKSYmdGhpcy5yYWlzZShhLmtleS5zdGFydCwiQ2xhc3NlcyBtYXkgbm90IGhhdmUgYSBub24tc3RhdGljIGZpZWxkIG5hbWVkICdjb25zdHJ1Y3RvciciKSxzLmJvZHkucHVzaCh0aGlzLnBhcnNlQ2xhc3NQcm9wZXJ0eShhKSkpOnRoaXMudW5leHBlY3RlZCgpOihhLmtpbmQ9bC5uYW1lLHRoaXMucGFyc2VQcm9wZXJ0eU5hbWUoYSksdGhpcy5pc05vbnN0YXRpY0NvbnN0cnVjdG9yKGEpJiZ0aGlzLnJhaXNlKGEua2V5LnN0YXJ0LCJDb25zdHJ1Y3RvciBjYW4ndCBoYXZlIGdldC9zZXQgbW9kaWZpZXIiKSx0aGlzLnBhcnNlQ2xhc3NNZXRob2QocyxhLCExLCExKSx0aGlzLmNoZWNrR2V0dGVyU2V0dGVyUGFyYW1Db3VudChhKSl9fWkubGVuZ3RoJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUuc3RhcnQsIllvdSBoYXZlIHRyYWlsaW5nIGRlY29yYXRvcnMgd2l0aCBubyBtZXRob2QiKSxlLmJvZHk9dGhpcy5maW5pc2hOb2RlKHMsIkNsYXNzQm9keSIpLHRoaXMuc3RhdGUuc3RyaWN0PXR9LHoucGFyc2VDbGFzc1Byb3BlcnR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnN0YXRlLmluQ2xhc3NQcm9wZXJ0eT0hMCx0aGlzLm1hdGNoKFIuZXEpPyh0aGlzLmhhc1BsdWdpbigiY2xhc3NQcm9wZXJ0aWVzIil8fHRoaXMudW5leHBlY3RlZCgpLHRoaXMubmV4dCgpLGUudmFsdWU9dGhpcy5wYXJzZU1heWJlQXNzaWduKCkpOmUudmFsdWU9bnVsbCx0aGlzLnNlbWljb2xvbigpLHRoaXMuc3RhdGUuaW5DbGFzc1Byb3BlcnR5PSExLHRoaXMuZmluaXNoTm9kZShlLCJDbGFzc1Byb3BlcnR5Iil9LHoucGFyc2VDbGFzc01ldGhvZD1mdW5jdGlvbihlLHQscixuKXt0aGlzLnBhcnNlTWV0aG9kKHQscixuKSxlLmJvZHkucHVzaCh0aGlzLmZpbmlzaE5vZGUodCwiQ2xhc3NNZXRob2QiKSl9LHoucGFyc2VDbGFzc0lkPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLm1hdGNoKFIubmFtZSk/ZS5pZD10aGlzLnBhcnNlSWRlbnRpZmllcigpOnJ8fCF0P2UuaWQ9bnVsbDp0aGlzLnVuZXhwZWN0ZWQoKX0sei5wYXJzZUNsYXNzU3VwZXI9ZnVuY3Rpb24oZSl7ZS5zdXBlckNsYXNzPXRoaXMuZWF0KFIuX2V4dGVuZHMpP3RoaXMucGFyc2VFeHByU3Vic2NyaXB0cygpOm51bGx9LHoucGFyc2VFeHBvcnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5uZXh0KCksdGhpcy5tYXRjaChSLnN0YXIpKXt2YXIgdD10aGlzLnN0YXJ0Tm9kZSgpO2lmKHRoaXMubmV4dCgpLCF0aGlzLmhhc1BsdWdpbigiZXhwb3J0RXh0ZW5zaW9ucyIpfHwhdGhpcy5lYXRDb250ZXh0dWFsKCJhcyIpKXJldHVybiB0aGlzLnBhcnNlRXhwb3J0RnJvbShlLCEwKSx0aGlzLmZpbmlzaE5vZGUoZSwiRXhwb3J0QWxsRGVjbGFyYXRpb24iKTt0LmV4cG9ydGVkPXRoaXMucGFyc2VJZGVudGlmaWVyKCksZS5zcGVjaWZpZXJzPVt0aGlzLmZpbmlzaE5vZGUodCwiRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyIildLHRoaXMucGFyc2VFeHBvcnRTcGVjaWZpZXJzTWF5YmUoZSksdGhpcy5wYXJzZUV4cG9ydEZyb20oZSwhMCl9ZWxzZSBpZih0aGlzLmhhc1BsdWdpbigiZXhwb3J0RXh0ZW5zaW9ucyIpJiZ0aGlzLmlzRXhwb3J0RGVmYXVsdFNwZWNpZmllcigpKXt2YXIgcj10aGlzLnN0YXJ0Tm9kZSgpO2lmKHIuZXhwb3J0ZWQ9dGhpcy5wYXJzZUlkZW50aWZpZXIoITApLGUuc3BlY2lmaWVycz1bdGhpcy5maW5pc2hOb2RlKHIsIkV4cG9ydERlZmF1bHRTcGVjaWZpZXIiKV0sdGhpcy5tYXRjaChSLmNvbW1hKSYmdGhpcy5sb29rYWhlYWQoKS50eXBlPT09Ui5zdGFyKXt0aGlzLmV4cGVjdChSLmNvbW1hKTt2YXIgbj10aGlzLnN0YXJ0Tm9kZSgpO3RoaXMuZXhwZWN0KFIuc3RhciksdGhpcy5leHBlY3RDb250ZXh0dWFsKCJhcyIpLG4uZXhwb3J0ZWQ9dGhpcy5wYXJzZUlkZW50aWZpZXIoKSxlLnNwZWNpZmllcnMucHVzaCh0aGlzLmZpbmlzaE5vZGUobiwiRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyIikpfWVsc2UgdGhpcy5wYXJzZUV4cG9ydFNwZWNpZmllcnNNYXliZShlKTt0aGlzLnBhcnNlRXhwb3J0RnJvbShlLCEwKX1lbHNle2lmKHRoaXMuZWF0KFIuX2RlZmF1bHQpKXt2YXIgaT10aGlzLnN0YXJ0Tm9kZSgpLHM9ITE7cmV0dXJuIHRoaXMuZWF0KFIuX2Z1bmN0aW9uKT9pPXRoaXMucGFyc2VGdW5jdGlvbihpLCEwLCExLCExLCEwKTp0aGlzLm1hdGNoKFIuX2NsYXNzKT9pPXRoaXMucGFyc2VDbGFzcyhpLCEwLCEwKToocz0hMCxpPXRoaXMucGFyc2VNYXliZUFzc2lnbigpKSxlLmRlY2xhcmF0aW9uPWkscyYmdGhpcy5zZW1pY29sb24oKSx0aGlzLmNoZWNrRXhwb3J0KGUsITAsITApLHRoaXMuZmluaXNoTm9kZShlLCJFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24iKX10aGlzLnNob3VsZFBhcnNlRXhwb3J0RGVjbGFyYXRpb24oKT8oZS5zcGVjaWZpZXJzPVtdLGUuc291cmNlPW51bGwsZS5kZWNsYXJhdGlvbj10aGlzLnBhcnNlRXhwb3J0RGVjbGFyYXRpb24oZSkpOihlLmRlY2xhcmF0aW9uPW51bGwsZS5zcGVjaWZpZXJzPXRoaXMucGFyc2VFeHBvcnRTcGVjaWZpZXJzKCksdGhpcy5wYXJzZUV4cG9ydEZyb20oZSkpfXJldHVybiB0aGlzLmNoZWNrRXhwb3J0KGUsITApLHRoaXMuZmluaXNoTm9kZShlLCJFeHBvcnROYW1lZERlY2xhcmF0aW9uIil9LHoucGFyc2VFeHBvcnREZWNsYXJhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcnNlU3RhdGVtZW50KCEwKX0sei5pc0V4cG9ydERlZmF1bHRTcGVjaWZpZXI9ZnVuY3Rpb24oKXtpZih0aGlzLm1hdGNoKFIubmFtZSkpcmV0dXJuImFzeW5jIiE9PXRoaXMuc3RhdGUudmFsdWU7aWYoIXRoaXMubWF0Y2goUi5fZGVmYXVsdCkpcmV0dXJuITE7dmFyIGU9dGhpcy5sb29rYWhlYWQoKTtyZXR1cm4gZS50eXBlPT09Ui5jb21tYXx8ZS50eXBlPT09Ui5uYW1lJiYiZnJvbSI9PT1lLnZhbHVlfSx6LnBhcnNlRXhwb3J0U3BlY2lmaWVyc01heWJlPWZ1bmN0aW9uKGUpe3RoaXMuZWF0KFIuY29tbWEpJiYoZS5zcGVjaWZpZXJzPWUuc3BlY2lmaWVycy5jb25jYXQodGhpcy5wYXJzZUV4cG9ydFNwZWNpZmllcnMoKSkpfSx6LnBhcnNlRXhwb3J0RnJvbT1mdW5jdGlvbihlLHQpe3RoaXMuZWF0Q29udGV4dHVhbCgiZnJvbSIpPyhlLnNvdXJjZT10aGlzLm1hdGNoKFIuc3RyaW5nKT90aGlzLnBhcnNlRXhwckF0b20oKTp0aGlzLnVuZXhwZWN0ZWQoKSx0aGlzLmNoZWNrRXhwb3J0KGUpKTp0P3RoaXMudW5leHBlY3RlZCgpOmUuc291cmNlPW51bGwsdGhpcy5zZW1pY29sb24oKX0sei5zaG91bGRQYXJzZUV4cG9ydERlY2xhcmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuInZhciI9PT10aGlzLnN0YXRlLnR5cGUua2V5d29yZHx8ImNvbnN0Ij09PXRoaXMuc3RhdGUudHlwZS5rZXl3b3JkfHwibGV0Ij09PXRoaXMuc3RhdGUudHlwZS5rZXl3b3JkfHwiZnVuY3Rpb24iPT09dGhpcy5zdGF0ZS50eXBlLmtleXdvcmR8fCJjbGFzcyI9PT10aGlzLnN0YXRlLnR5cGUua2V5d29yZHx8dGhpcy5pc0NvbnRleHR1YWwoImFzeW5jIil9LHouY2hlY2tFeHBvcnQ9ZnVuY3Rpb24oZSx0LHIpe2lmKHQpaWYocil0aGlzLmNoZWNrRHVwbGljYXRlRXhwb3J0cyhlLCJkZWZhdWx0Iik7ZWxzZSBpZihlLnNwZWNpZmllcnMmJmUuc3BlY2lmaWVycy5sZW5ndGgpZm9yKHZhciBuPWUuc3BlY2lmaWVycyxpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOm5bU3ltYm9sLml0ZXJhdG9yXSgpOzspe3ZhciBhO2lmKGkpe2lmKHM+PW4ubGVuZ3RoKWJyZWFrO2E9bltzKytdfWVsc2V7aWYocz1uLm5leHQoKSxzLmRvbmUpYnJlYWs7YT1zLnZhbHVlfXZhciBvPWE7dGhpcy5jaGVja0R1cGxpY2F0ZUV4cG9ydHMobyxvLmV4cG9ydGVkLm5hbWUpfWVsc2UgaWYoZS5kZWNsYXJhdGlvbilpZigiRnVuY3Rpb25EZWNsYXJhdGlvbiI9PT1lLmRlY2xhcmF0aW9uLnR5cGV8fCJDbGFzc0RlY2xhcmF0aW9uIj09PWUuZGVjbGFyYXRpb24udHlwZSl0aGlzLmNoZWNrRHVwbGljYXRlRXhwb3J0cyhlLGUuZGVjbGFyYXRpb24uaWQubmFtZSk7ZWxzZSBpZigiVmFyaWFibGVEZWNsYXJhdGlvbiI9PT1lLmRlY2xhcmF0aW9uLnR5cGUpZm9yKHZhciB1PWUuZGVjbGFyYXRpb24uZGVjbGFyYXRpb25zLGw9QXJyYXkuaXNBcnJheSh1KSxjPTAsdT1sP3U6dVtTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIGY7aWYobCl7aWYoYz49dS5sZW5ndGgpYnJlYWs7Zj11W2MrK119ZWxzZXtpZihjPXUubmV4dCgpLGMuZG9uZSlicmVhaztmPWMudmFsdWV9dmFyIHA9Zjt0aGlzLmNoZWNrRGVjbGFyYXRpb24ocC5pZCl9aWYodGhpcy5zdGF0ZS5kZWNvcmF0b3JzLmxlbmd0aCl7dmFyIGQ9ZS5kZWNsYXJhdGlvbiYmKCJDbGFzc0RlY2xhcmF0aW9uIj09PWUuZGVjbGFyYXRpb24udHlwZXx8IkNsYXNzRXhwcmVzc2lvbiI9PT1lLmRlY2xhcmF0aW9uLnR5cGUpO2UuZGVjbGFyYXRpb24mJmR8fHRoaXMucmFpc2UoZS5zdGFydCwiWW91IGNhbiBvbmx5IHVzZSBkZWNvcmF0b3JzIG9uIGFuIGV4cG9ydCB3aGVuIGV4cG9ydGluZyBhIGNsYXNzIiksdGhpcy50YWtlRGVjb3JhdG9ycyhlLmRlY2xhcmF0aW9uKX19LHouY2hlY2tEZWNsYXJhdGlvbj1mdW5jdGlvbihlKXtpZigiT2JqZWN0UGF0dGVybiI9PT1lLnR5cGUpZm9yKHZhciB0PWUucHJvcGVydGllcyxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OnRbU3ltYm9sLml0ZXJhdG9yXSgpOzspe3ZhciBpO2lmKHIpe2lmKG4+PXQubGVuZ3RoKWJyZWFrO2k9dFtuKytdfWVsc2V7aWYobj10Lm5leHQoKSxuLmRvbmUpYnJlYWs7aT1uLnZhbHVlfXZhciBzPWk7dGhpcy5jaGVja0RlY2xhcmF0aW9uKHMpfWVsc2UgaWYoIkFycmF5UGF0dGVybiI9PT1lLnR5cGUpZm9yKHZhciBhPWUuZWxlbWVudHMsbz1BcnJheS5pc0FycmF5KGEpLHU9MCxhPW8/YTphW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgbDtpZihvKXtpZih1Pj1hLmxlbmd0aClicmVhaztsPWFbdSsrXX1lbHNle2lmKHU9YS5uZXh0KCksdS5kb25lKWJyZWFrO2w9dS52YWx1ZX12YXIgYz1sO2MmJnRoaXMuY2hlY2tEZWNsYXJhdGlvbihjKX1lbHNlIk9iamVjdFByb3BlcnR5Ij09PWUudHlwZT90aGlzLmNoZWNrRGVjbGFyYXRpb24oZS52YWx1ZSk6IlJlc3RFbGVtZW50Ij09PWUudHlwZXx8IlJlc3RQcm9wZXJ0eSI9PT1lLnR5cGU/dGhpcy5jaGVja0RlY2xhcmF0aW9uKGUuYXJndW1lbnQpOiJJZGVudGlmaWVyIj09PWUudHlwZSYmdGhpcy5jaGVja0R1cGxpY2F0ZUV4cG9ydHMoZSxlLm5hbWUpfSx6LmNoZWNrRHVwbGljYXRlRXhwb3J0cz1mdW5jdGlvbihlLHQpe3RoaXMuc3RhdGUuZXhwb3J0ZWRJZGVudGlmaWVycy5pbmRleE9mKHQpPi0xJiZ0aGlzLnJhaXNlRHVwbGljYXRlRXhwb3J0RXJyb3IoZSx0KSx0aGlzLnN0YXRlLmV4cG9ydGVkSWRlbnRpZmllcnMucHVzaCh0KX0sei5yYWlzZUR1cGxpY2F0ZUV4cG9ydEVycm9yPWZ1bmN0aW9uKGUsdCl7dGhpcy5yYWlzZShlLnN0YXJ0LCJkZWZhdWx0Ij09PXQ/Ik9ubHkgb25lIGRlZmF1bHQgZXhwb3J0IGFsbG93ZWQgcGVyIG1vZHVsZS4iOiJgIit0KyJgIGhhcyBhbHJlYWR5IGJlZW4gZXhwb3J0ZWQuIEV4cG9ydGVkIGlkZW50aWZpZXJzIG11c3QgYmUgdW5pcXVlLiIpfSx6LnBhcnNlRXhwb3J0U3BlY2lmaWVycz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9ITAscj12b2lkIDA7Zm9yKHRoaXMuZXhwZWN0KFIuYnJhY2VMKTshdGhpcy5lYXQoUi5icmFjZVIpOyl7aWYodCl0PSExO2Vsc2UgaWYodGhpcy5leHBlY3QoUi5jb21tYSksdGhpcy5lYXQoUi5icmFjZVIpKWJyZWFrO3ZhciBuPXRoaXMubWF0Y2goUi5fZGVmYXVsdCk7biYmIXImJihyPSEwKTt2YXIgaT10aGlzLnN0YXJ0Tm9kZSgpO2kubG9jYWw9dGhpcy5wYXJzZUlkZW50aWZpZXIobiksaS5leHBvcnRlZD10aGlzLmVhdENvbnRleHR1YWwoImFzIik/dGhpcy5wYXJzZUlkZW50aWZpZXIoITApOmkubG9jYWwuX19jbG9uZSgpLGUucHVzaCh0aGlzLmZpbmlzaE5vZGUoaSwiRXhwb3J0U3BlY2lmaWVyIikpfXJldHVybiByJiYhdGhpcy5pc0NvbnRleHR1YWwoImZyb20iKSYmdGhpcy51bmV4cGVjdGVkKCksZX0sei5wYXJzZUltcG9ydD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5lYXQoUi5faW1wb3J0KSx0aGlzLm1hdGNoKFIuc3RyaW5nKT8oZS5zcGVjaWZpZXJzPVtdLGUuc291cmNlPXRoaXMucGFyc2VFeHByQXRvbSgpKTooZS5zcGVjaWZpZXJzPVtdLHRoaXMucGFyc2VJbXBvcnRTcGVjaWZpZXJzKGUpLHRoaXMuZXhwZWN0Q29udGV4dHVhbCgiZnJvbSIpLGUuc291cmNlPXRoaXMubWF0Y2goUi5zdHJpbmcpP3RoaXMucGFyc2VFeHByQXRvbSgpOnRoaXMudW5leHBlY3RlZCgpKSx0aGlzLnNlbWljb2xvbigpLHRoaXMuZmluaXNoTm9kZShlLCJJbXBvcnREZWNsYXJhdGlvbiIpfSx6LnBhcnNlSW1wb3J0U3BlY2lmaWVycz1mdW5jdGlvbihlKXt2YXIgdD0hMDtpZih0aGlzLm1hdGNoKFIubmFtZSkpe3ZhciByPXRoaXMuc3RhdGUuc3RhcnQsbj10aGlzLnN0YXRlLnN0YXJ0TG9jO2lmKGUuc3BlY2lmaWVycy5wdXNoKHRoaXMucGFyc2VJbXBvcnRTcGVjaWZpZXJEZWZhdWx0KHRoaXMucGFyc2VJZGVudGlmaWVyKCkscixuKSksIXRoaXMuZWF0KFIuY29tbWEpKXJldHVybn1pZih0aGlzLm1hdGNoKFIuc3Rhcikpe3ZhciBpPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZXhwZWN0Q29udGV4dHVhbCgiYXMiKSxpLmxvY2FsPXRoaXMucGFyc2VJZGVudGlmaWVyKCksdGhpcy5jaGVja0xWYWwoaS5sb2NhbCwhMCx2b2lkIDAsImltcG9ydCBuYW1lc3BhY2Ugc3BlY2lmaWVyIiksdm9pZCBlLnNwZWNpZmllcnMucHVzaCh0aGlzLmZpbmlzaE5vZGUoaSwiSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyIikpfWZvcih0aGlzLmV4cGVjdChSLmJyYWNlTCk7IXRoaXMuZWF0KFIuYnJhY2VSKTspe2lmKHQpdD0hMTtlbHNlIGlmKHRoaXMuZWF0KFIuY29sb24pJiZ0aGlzLnVuZXhwZWN0ZWQobnVsbCwiRVMyMDE1IG5hbWVkIGltcG9ydHMgZG8gbm90IGRlc3RydWN0dXJlLiBVc2UgYW5vdGhlciBzdGF0ZW1lbnQgZm9yIGRlc3RydWN0dXJpbmcgYWZ0ZXIgdGhlIGltcG9ydC4iKSx0aGlzLmV4cGVjdChSLmNvbW1hKSx0aGlzLmVhdChSLmJyYWNlUikpYnJlYWs7dGhpcy5wYXJzZUltcG9ydFNwZWNpZmllcihlKX19LHoucGFyc2VJbXBvcnRTcGVjaWZpZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGFydE5vZGUoKTt0LmltcG9ydGVkPXRoaXMucGFyc2VJZGVudGlmaWVyKCEwKSx0aGlzLmVhdENvbnRleHR1YWwoImFzIik/dC5sb2NhbD10aGlzLnBhcnNlSWRlbnRpZmllcigpOih0aGlzLmNoZWNrUmVzZXJ2ZWRXb3JkKHQuaW1wb3J0ZWQubmFtZSx0LnN0YXJ0LCEwLCEwKSx0LmxvY2FsPXQuaW1wb3J0ZWQuX19jbG9uZSgpKSx0aGlzLmNoZWNrTFZhbCh0LmxvY2FsLCEwLHZvaWQgMCwiaW1wb3J0IHNwZWNpZmllciIpLGUuc3BlY2lmaWVycy5wdXNoKHRoaXMuZmluaXNoTm9kZSh0LCJJbXBvcnRTcGVjaWZpZXIiKSl9LHoucGFyc2VJbXBvcnRTcGVjaWZpZXJEZWZhdWx0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnN0YXJ0Tm9kZUF0KHQscik7cmV0dXJuIG4ubG9jYWw9ZSx0aGlzLmNoZWNrTFZhbChuLmxvY2FsLCEwLHZvaWQgMCwiZGVmYXVsdCBpbXBvcnQgc3BlY2lmaWVyIiksdGhpcy5maW5pc2hOb2RlKG4sIkltcG9ydERlZmF1bHRTcGVjaWZpZXIiKX07dmFyIGVlPUoucHJvdG90eXBlO2VlLnRvQXNzaWduYWJsZT1mdW5jdGlvbihlLHQscil7aWYoZSlzd2l0Y2goZS50eXBlKXtjYXNlIklkZW50aWZpZXIiOmNhc2UiT2JqZWN0UGF0dGVybiI6Y2FzZSJBcnJheVBhdHRlcm4iOmNhc2UiQXNzaWdubWVudFBhdHRlcm4iOmJyZWFrO2Nhc2UiT2JqZWN0RXhwcmVzc2lvbiI6ZS50eXBlPSJPYmplY3RQYXR0ZXJuIjtmb3IodmFyIG49ZS5wcm9wZXJ0aWVzLGk9QXJyYXkuaXNBcnJheShuKSxzPTAsbj1pP246bltTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9dmFyIG89YTsiT2JqZWN0TWV0aG9kIj09PW8udHlwZT8iZ2V0Ij09PW8ua2luZHx8InNldCI9PT1vLmtpbmQ/dGhpcy5yYWlzZShvLmtleS5zdGFydCwiT2JqZWN0IHBhdHRlcm4gY2FuJ3QgY29udGFpbiBnZXR0ZXIgb3Igc2V0dGVyIik6dGhpcy5yYWlzZShvLmtleS5zdGFydCwiT2JqZWN0IHBhdHRlcm4gY2FuJ3QgY29udGFpbiBtZXRob2RzIik6dGhpcy50b0Fzc2lnbmFibGUobyx0LCJvYmplY3QgZGVzdHJ1Y3R1cmluZyBwYXR0ZXJuIil9YnJlYWs7Y2FzZSJPYmplY3RQcm9wZXJ0eSI6dGhpcy50b0Fzc2lnbmFibGUoZS52YWx1ZSx0LHIpO2JyZWFrO2Nhc2UiU3ByZWFkUHJvcGVydHkiOmUudHlwZT0iUmVzdFByb3BlcnR5Ijt2YXIgdT1lLmFyZ3VtZW50O3RoaXMudG9Bc3NpZ25hYmxlKHUsdCxyKTticmVhaztjYXNlIkFycmF5RXhwcmVzc2lvbiI6ZS50eXBlPSJBcnJheVBhdHRlcm4iLHRoaXMudG9Bc3NpZ25hYmxlTGlzdChlLmVsZW1lbnRzLHQscik7YnJlYWs7Y2FzZSJBc3NpZ25tZW50RXhwcmVzc2lvbiI6Ij0iPT09ZS5vcGVyYXRvcj8oZS50eXBlPSJBc3NpZ25tZW50UGF0dGVybiIsZGVsZXRlIGUub3BlcmF0b3IpOnRoaXMucmFpc2UoZS5sZWZ0LmVuZCwiT25seSAnPScgb3BlcmF0b3IgY2FuIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgZGVmYXVsdCB2YWx1ZS4iKTticmVhaztjYXNlIk1lbWJlckV4cHJlc3Npb24iOmlmKCF0KWJyZWFrO2RlZmF1bHQ6dmFyIGw9IkludmFsaWQgbGVmdC1oYW5kIHNpZGUiKyhyPyIgaW4gIityOiJleHByZXNzaW9uIik7dGhpcy5yYWlzZShlLnN0YXJ0LGwpfXJldHVybiBlfSxlZS50b0Fzc2lnbmFibGVMaXN0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLmxlbmd0aDtpZihuKXt2YXIgaT1lW24tMV07aWYoaSYmIlJlc3RFbGVtZW50Ij09PWkudHlwZSktLW47ZWxzZSBpZihpJiYiU3ByZWFkRWxlbWVudCI9PT1pLnR5cGUpe2kudHlwZT0iUmVzdEVsZW1lbnQiO3ZhciBzPWkuYXJndW1lbnQ7dGhpcy50b0Fzc2lnbmFibGUocyx0LHIpLCJJZGVudGlmaWVyIiE9PXMudHlwZSYmIk1lbWJlckV4cHJlc3Npb24iIT09cy50eXBlJiYiQXJyYXlQYXR0ZXJuIiE9PXMudHlwZSYmdGhpcy51bmV4cGVjdGVkKHMuc3RhcnQpLC0tbn19Zm9yKHZhciBhPTA7YTxuO2ErKyl7dmFyIG89ZVthXTtvJiZ0aGlzLnRvQXNzaWduYWJsZShvLHQscil9cmV0dXJuIGV9LGVlLnRvUmVmZXJlbmNlZExpc3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGVlLnBhcnNlU3ByZWFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLHQuYXJndW1lbnQ9dGhpcy5wYXJzZU1heWJlQXNzaWduKCExLGUpLHRoaXMuZmluaXNoTm9kZSh0LCJTcHJlYWRFbGVtZW50Iil9LGVlLnBhcnNlUmVzdD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLGUuYXJndW1lbnQ9dGhpcy5wYXJzZUJpbmRpbmdJZGVudGlmaWVyKCksdGhpcy5maW5pc2hOb2RlKGUsIlJlc3RFbGVtZW50Iil9LGVlLnNob3VsZEFsbG93WWllbGRJZGVudGlmaWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF0Y2goUi5feWllbGQpJiYhdGhpcy5zdGF0ZS5zdHJpY3QmJiF0aGlzLnN0YXRlLmluR2VuZXJhdG9yfSxlZS5wYXJzZUJpbmRpbmdJZGVudGlmaWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyc2VJZGVudGlmaWVyKHRoaXMuc2hvdWxkQWxsb3dZaWVsZElkZW50aWZpZXIoKSl9LGVlLnBhcnNlQmluZGluZ0F0b209ZnVuY3Rpb24oKXtzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIFIuX3lpZWxkOih0aGlzLnN0YXRlLnN0cmljdHx8dGhpcy5zdGF0ZS5pbkdlbmVyYXRvcikmJnRoaXMudW5leHBlY3RlZCgpO2Nhc2UgUi5uYW1lOnJldHVybiB0aGlzLnBhcnNlSWRlbnRpZmllcighMCk7Y2FzZSBSLmJyYWNrZXRMOnZhciBlPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLGUuZWxlbWVudHM9dGhpcy5wYXJzZUJpbmRpbmdMaXN0KFIuYnJhY2tldFIsITApLHRoaXMuZmluaXNoTm9kZShlLCJBcnJheVBhdHRlcm4iKTtjYXNlIFIuYnJhY2VMOnJldHVybiB0aGlzLnBhcnNlT2JqKCEwKTtkZWZhdWx0OnRoaXMudW5leHBlY3RlZCgpfX0sZWUucGFyc2VCaW5kaW5nTGlzdD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1bXSxuPSEwOyF0aGlzLmVhdChlKTspaWYobj9uPSExOnRoaXMuZXhwZWN0KFIuY29tbWEpLHQmJnRoaXMubWF0Y2goUi5jb21tYSkpci5wdXNoKG51bGwpO2Vsc2V7aWYodGhpcy5lYXQoZSkpYnJlYWs7aWYodGhpcy5tYXRjaChSLmVsbGlwc2lzKSl7ci5wdXNoKHRoaXMucGFyc2VBc3NpZ25hYmxlTGlzdEl0ZW1UeXBlcyh0aGlzLnBhcnNlUmVzdCgpKSksdGhpcy5leHBlY3QoZSk7YnJlYWt9Zm9yKHZhciBpPVtdO3RoaXMubWF0Y2goUi5hdCk7KWkucHVzaCh0aGlzLnBhcnNlRGVjb3JhdG9yKCkpO3ZhciBzPXRoaXMucGFyc2VNYXliZURlZmF1bHQoKTtpLmxlbmd0aCYmKHMuZGVjb3JhdG9ycz1pKSx0aGlzLnBhcnNlQXNzaWduYWJsZUxpc3RJdGVtVHlwZXMocyksci5wdXNoKHRoaXMucGFyc2VNYXliZURlZmF1bHQocy5zdGFydCxzLmxvYy5zdGFydCxzKSl9cmV0dXJuIHJ9LGVlLnBhcnNlQXNzaWduYWJsZUxpc3RJdGVtVHlwZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGVlLnBhcnNlTWF5YmVEZWZhdWx0PWZ1bmN0aW9uKGUsdCxyKXtpZih0PXR8fHRoaXMuc3RhdGUuc3RhcnRMb2MsZT1lfHx0aGlzLnN0YXRlLnN0YXJ0LHI9cnx8dGhpcy5wYXJzZUJpbmRpbmdBdG9tKCksIXRoaXMuZWF0KFIuZXEpKXJldHVybiByO3ZhciBuPXRoaXMuc3RhcnROb2RlQXQoZSx0KTtyZXR1cm4gbi5sZWZ0PXIsbi5yaWdodD10aGlzLnBhcnNlTWF5YmVBc3NpZ24oKSx0aGlzLmZpbmlzaE5vZGUobiwiQXNzaWdubWVudFBhdHRlcm4iKX0sZWUuY2hlY2tMVmFsPWZ1bmN0aW9uKGUsdCxyLG4pe3N3aXRjaChlLnR5cGUpe2Nhc2UiSWRlbnRpZmllciI6aWYodGhpcy5jaGVja1Jlc2VydmVkV29yZChlLm5hbWUsZS5zdGFydCwhMSwhMCkscil7dmFyIGk9Il8iK2UubmFtZTtyW2ldP3RoaXMucmFpc2UoZS5zdGFydCwiQXJndW1lbnQgbmFtZSBjbGFzaCBpbiBzdHJpY3QgbW9kZSIpOnJbaV09ITB9YnJlYWs7Y2FzZSJNZW1iZXJFeHByZXNzaW9uIjp0JiZ0aGlzLnJhaXNlKGUuc3RhcnQsKHQ/IkJpbmRpbmciOiJBc3NpZ25pbmcgdG8iKSsiIG1lbWJlciBleHByZXNzaW9uIik7YnJlYWs7Y2FzZSJPYmplY3RQYXR0ZXJuIjpmb3IodmFyIHM9ZS5wcm9wZXJ0aWVzLGE9QXJyYXkuaXNBcnJheShzKSxvPTAscz1hP3M6c1tTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIHU7aWYoYSl7aWYobz49cy5sZW5ndGgpYnJlYWs7dT1zW28rK119ZWxzZXtpZihvPXMubmV4dCgpLG8uZG9uZSlicmVhazt1PW8udmFsdWV9dmFyIGw9dTsiT2JqZWN0UHJvcGVydHkiPT09bC50eXBlJiYobD1sLnZhbHVlKSx0aGlzLmNoZWNrTFZhbChsLHQsciwib2JqZWN0IGRlc3RydWN0dXJpbmcgcGF0dGVybiIpfWJyZWFrO2Nhc2UiQXJyYXlQYXR0ZXJuIjpmb3IodmFyIGM9ZS5lbGVtZW50cyxmPUFycmF5LmlzQXJyYXkoYykscD0wLGM9Zj9jOmNbU3ltYm9sLml0ZXJhdG9yXSgpOzspe3ZhciBkO2lmKGYpe2lmKHA+PWMubGVuZ3RoKWJyZWFrO2Q9Y1twKytdfWVsc2V7aWYocD1jLm5leHQoKSxwLmRvbmUpYnJlYWs7ZD1wLnZhbHVlfXZhciBoPWQ7aCYmdGhpcy5jaGVja0xWYWwoaCx0LHIsImFycmF5IGRlc3RydWN0dXJpbmcgcGF0dGVybiIpfWJyZWFrO2Nhc2UiQXNzaWdubWVudFBhdHRlcm4iOnRoaXMuY2hlY2tMVmFsKGUubGVmdCx0LHIsImFzc2lnbm1lbnQgcGF0dGVybiIpO2JyZWFrO2Nhc2UiUmVzdFByb3BlcnR5Ijp0aGlzLmNoZWNrTFZhbChlLmFyZ3VtZW50LHQsciwicmVzdCBwcm9wZXJ0eSIpO2JyZWFrO2Nhc2UiUmVzdEVsZW1lbnQiOnRoaXMuY2hlY2tMVmFsKGUuYXJndW1lbnQsdCxyLCJyZXN0IGVsZW1lbnQiKTticmVhaztkZWZhdWx0OnZhciBtPSh0PyJCaW5kaW5nIGludmFsaWQiOiJJbnZhbGlkIikrIiBsZWZ0LWhhbmQgc2lkZSIrKG4/IiBpbiAiK246ImV4cHJlc3Npb24iKTt0aGlzLnJhaXNlKGUuc3RhcnQsbSl9fTt2YXIgdGU9Si5wcm90b3R5cGU7dGUuY2hlY2tQcm9wQ2xhc2g9ZnVuY3Rpb24oZSx0KXtpZighZS5jb21wdXRlZCYmIWUua2luZCl7dmFyIHI9ZS5rZXk7Il9fcHJvdG9fXyI9PT0oIklkZW50aWZpZXIiPT09ci50eXBlP3IubmFtZTpTdHJpbmcoci52YWx1ZSkpJiYodC5wcm90byYmdGhpcy5yYWlzZShyLnN0YXJ0LCJSZWRlZmluaXRpb24gb2YgX19wcm90b19fIHByb3BlcnR5IiksdC5wcm90bz0hMCl9fSx0ZS5nZXRFeHByZXNzaW9uPWZ1bmN0aW9uKCl7dGhpcy5uZXh0VG9rZW4oKTt2YXIgZT10aGlzLnBhcnNlRXhwcmVzc2lvbigpO3JldHVybiB0aGlzLm1hdGNoKFIuZW9mKXx8dGhpcy51bmV4cGVjdGVkKCksZX0sdGUucGFyc2VFeHByZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5zdGF0ZS5zdGFydCxuPXRoaXMuc3RhdGUuc3RhcnRMb2MsaT10aGlzLnBhcnNlTWF5YmVBc3NpZ24oZSx0KTtpZih0aGlzLm1hdGNoKFIuY29tbWEpKXt2YXIgcz10aGlzLnN0YXJ0Tm9kZUF0KHIsbik7Zm9yKHMuZXhwcmVzc2lvbnM9W2ldO3RoaXMuZWF0KFIuY29tbWEpOylzLmV4cHJlc3Npb25zLnB1c2godGhpcy5wYXJzZU1heWJlQXNzaWduKGUsdCkpO3JldHVybiB0aGlzLnRvUmVmZXJlbmNlZExpc3Qocy5leHByZXNzaW9ucyksdGhpcy5maW5pc2hOb2RlKHMsIlNlcXVlbmNlRXhwcmVzc2lvbiIpfXJldHVybiBpfSx0ZS5wYXJzZU1heWJlQXNzaWduPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPXRoaXMuc3RhdGUuc3RhcnQscz10aGlzLnN0YXRlLnN0YXJ0TG9jO2lmKHRoaXMubWF0Y2goUi5feWllbGQpJiZ0aGlzLnN0YXRlLmluR2VuZXJhdG9yKXt2YXIgYT10aGlzLnBhcnNlWWllbGQoKTtyZXR1cm4gciYmKGE9ci5jYWxsKHRoaXMsYSxpLHMpKSxhfXZhciBvPXZvaWQgMDt0P289ITE6KHQ9e3N0YXJ0OjB9LG89ITApLCh0aGlzLm1hdGNoKFIucGFyZW5MKXx8dGhpcy5tYXRjaChSLm5hbWUpKSYmKHRoaXMuc3RhdGUucG90ZW50aWFsQXJyb3dBdD10aGlzLnN0YXRlLnN0YXJ0KTt2YXIgdT10aGlzLnBhcnNlTWF5YmVDb25kaXRpb25hbChlLHQsbik7aWYociYmKHU9ci5jYWxsKHRoaXMsdSxpLHMpKSx0aGlzLnN0YXRlLnR5cGUuaXNBc3NpZ24pe3ZhciBsPXRoaXMuc3RhcnROb2RlQXQoaSxzKTtpZihsLm9wZXJhdG9yPXRoaXMuc3RhdGUudmFsdWUsbC5sZWZ0PXRoaXMubWF0Y2goUi5lcSk/dGhpcy50b0Fzc2lnbmFibGUodSx2b2lkIDAsImFzc2lnbm1lbnQgZXhwcmVzc2lvbiIpOnUsdC5zdGFydD0wLHRoaXMuY2hlY2tMVmFsKHUsdm9pZCAwLHZvaWQgMCwiYXNzaWdubWVudCBleHByZXNzaW9uIiksdS5leHRyYSYmdS5leHRyYS5wYXJlbnRoZXNpemVkKXt2YXIgYz12b2lkIDA7Ik9iamVjdFBhdHRlcm4iPT09dS50eXBlP2M9ImAoe2F9KSA9IDBgIHVzZSBgKHthfSA9IDApYCI6IkFycmF5UGF0dGVybiI9PT11LnR5cGUmJihjPSJgKFthXSkgPSAwYCB1c2UgYChbYV0gPSAwKWAiKSxjJiZ0aGlzLnJhaXNlKHUuc3RhcnQsIllvdSdyZSB0cnlpbmcgdG8gYXNzaWduIHRvIGEgcGFyZW50aGVzaXplZCBleHByZXNzaW9uLCBlZy4gaW5zdGVhZCBvZiAiK2MpfXJldHVybiB0aGlzLm5leHQoKSxsLnJpZ2h0PXRoaXMucGFyc2VNYXliZUFzc2lnbihlKSx0aGlzLmZpbmlzaE5vZGUobCwiQXNzaWdubWVudEV4cHJlc3Npb24iKX1yZXR1cm4gbyYmdC5zdGFydCYmdGhpcy51bmV4cGVjdGVkKHQuc3RhcnQpLHV9LHRlLnBhcnNlTWF5YmVDb25kaXRpb25hbD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5zdGF0ZS5zdGFydCxpPXRoaXMuc3RhdGUuc3RhcnRMb2Mscz10aGlzLnBhcnNlRXhwck9wcyhlLHQpO3JldHVybiB0JiZ0LnN0YXJ0P3M6dGhpcy5wYXJzZUNvbmRpdGlvbmFsKHMsZSxuLGkscil9LHRlLnBhcnNlQ29uZGl0aW9uYWw9ZnVuY3Rpb24oZSx0LHIsbil7aWYodGhpcy5lYXQoUi5xdWVzdGlvbikpe3ZhciBpPXRoaXMuc3RhcnROb2RlQXQocixuKTtyZXR1cm4gaS50ZXN0PWUsaS5jb25zZXF1ZW50PXRoaXMucGFyc2VNYXliZUFzc2lnbigpLHRoaXMuZXhwZWN0KFIuY29sb24pLGkuYWx0ZXJuYXRlPXRoaXMucGFyc2VNYXliZUFzc2lnbih0KSx0aGlzLmZpbmlzaE5vZGUoaSwiQ29uZGl0aW9uYWxFeHByZXNzaW9uIil9cmV0dXJuIGV9LHRlLnBhcnNlRXhwck9wcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RhdGUuc3RhcnQsbj10aGlzLnN0YXRlLnN0YXJ0TG9jLGk9dGhpcy5wYXJzZU1heWJlVW5hcnkodCk7cmV0dXJuIHQmJnQuc3RhcnQ/aTp0aGlzLnBhcnNlRXhwck9wKGkscixuLC0xLGUpfSx0ZS5wYXJzZUV4cHJPcD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzPXRoaXMuc3RhdGUudHlwZS5iaW5vcDtpZighKG51bGw9PXN8fGkmJnRoaXMubWF0Y2goUi5faW4pKSYmcz5uKXt2YXIgYT10aGlzLnN0YXJ0Tm9kZUF0KHQscik7YS5sZWZ0PWUsYS5vcGVyYXRvcj10aGlzLnN0YXRlLnZhbHVlLCIqKiIhPT1hLm9wZXJhdG9yfHwiVW5hcnlFeHByZXNzaW9uIiE9PWUudHlwZXx8IWUuZXh0cmF8fGUuZXh0cmEucGFyZW50aGVzaXplZEFyZ3VtZW50fHxlLmV4dHJhLnBhcmVudGhlc2l6ZWR8fHRoaXMucmFpc2UoZS5hcmd1bWVudC5zdGFydCwiSWxsZWdhbCBleHByZXNzaW9uLiBXcmFwIGxlZnQgaGFuZCBzaWRlIG9yIGVudGlyZSBleHBvbmVudGlhdGlvbiBpbiBwYXJlbnRoZXNlcy4iKTt2YXIgbz10aGlzLnN0YXRlLnR5cGU7dGhpcy5uZXh0KCk7dmFyIHU9dGhpcy5zdGF0ZS5zdGFydCxsPXRoaXMuc3RhdGUuc3RhcnRMb2M7cmV0dXJuIGEucmlnaHQ9dGhpcy5wYXJzZUV4cHJPcCh0aGlzLnBhcnNlTWF5YmVVbmFyeSgpLHUsbCxvLnJpZ2h0QXNzb2NpYXRpdmU/cy0xOnMsaSksdGhpcy5maW5pc2hOb2RlKGEsbz09PVIubG9naWNhbE9SfHxvPT09Ui5sb2dpY2FsQU5EPyJMb2dpY2FsRXhwcmVzc2lvbiI6IkJpbmFyeUV4cHJlc3Npb24iKSx0aGlzLnBhcnNlRXhwck9wKGEsdCxyLG4saSl9cmV0dXJuIGV9LHRlLnBhcnNlTWF5YmVVbmFyeT1mdW5jdGlvbihlKXtpZih0aGlzLnN0YXRlLnR5cGUucHJlZml4KXt2YXIgdD10aGlzLnN0YXJ0Tm9kZSgpLHI9dGhpcy5tYXRjaChSLmluY0RlYyk7dC5vcGVyYXRvcj10aGlzLnN0YXRlLnZhbHVlLHQucHJlZml4PSEwLHRoaXMubmV4dCgpO3ZhciBuPXRoaXMuc3RhdGUudHlwZTtyZXR1cm4gdC5hcmd1bWVudD10aGlzLnBhcnNlTWF5YmVVbmFyeSgpLHRoaXMuYWRkRXh0cmEodCwicGFyZW50aGVzaXplZEFyZ3VtZW50IiwhKG4hPT1SLnBhcmVuTHx8dC5hcmd1bWVudC5leHRyYSYmdC5hcmd1bWVudC5leHRyYS5wYXJlbnRoZXNpemVkKSksZSYmZS5zdGFydCYmdGhpcy51bmV4cGVjdGVkKGUuc3RhcnQpLHI/dGhpcy5jaGVja0xWYWwodC5hcmd1bWVudCx2b2lkIDAsdm9pZCAwLCJwcmVmaXggb3BlcmF0aW9uIik6dGhpcy5zdGF0ZS5zdHJpY3QmJiJkZWxldGUiPT09dC5vcGVyYXRvciYmIklkZW50aWZpZXIiPT09dC5hcmd1bWVudC50eXBlJiZ0aGlzLnJhaXNlKHQuc3RhcnQsIkRlbGV0aW5nIGxvY2FsIHZhcmlhYmxlIGluIHN0cmljdCBtb2RlIiksdGhpcy5maW5pc2hOb2RlKHQscj8iVXBkYXRlRXhwcmVzc2lvbiI6IlVuYXJ5RXhwcmVzc2lvbiIpfXZhciBpPXRoaXMuc3RhdGUuc3RhcnQscz10aGlzLnN0YXRlLnN0YXJ0TG9jLGE9dGhpcy5wYXJzZUV4cHJTdWJzY3JpcHRzKGUpO2lmKGUmJmUuc3RhcnQpcmV0dXJuIGE7Zm9yKDt0aGlzLnN0YXRlLnR5cGUucG9zdGZpeCYmIXRoaXMuY2FuSW5zZXJ0U2VtaWNvbG9uKCk7KXt2YXIgbz10aGlzLnN0YXJ0Tm9kZUF0KGkscyk7by5vcGVyYXRvcj10aGlzLnN0YXRlLnZhbHVlLG8ucHJlZml4PSExLG8uYXJndW1lbnQ9YSx0aGlzLmNoZWNrTFZhbChhLHZvaWQgMCx2b2lkIDAsInBvc3RmaXggb3BlcmF0aW9uIiksdGhpcy5uZXh0KCksYT10aGlzLmZpbmlzaE5vZGUobywiVXBkYXRlRXhwcmVzc2lvbiIpfXJldHVybiBhfSx0ZS5wYXJzZUV4cHJTdWJzY3JpcHRzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhdGUuc3RhcnQscj10aGlzLnN0YXRlLnN0YXJ0TG9jLG49dGhpcy5zdGF0ZS5wb3RlbnRpYWxBcnJvd0F0LGk9dGhpcy5wYXJzZUV4cHJBdG9tKGUpO3JldHVybiJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbiI9PT1pLnR5cGUmJmkuc3RhcnQ9PT1uP2k6ZSYmZS5zdGFydD9pOnRoaXMucGFyc2VTdWJzY3JpcHRzKGksdCxyKX0sdGUucGFyc2VTdWJzY3JpcHRzPWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcig7Oyl7aWYoIW4mJnRoaXMuZWF0KFIuZG91YmxlQ29sb24pKXt2YXIgaT10aGlzLnN0YXJ0Tm9kZUF0KHQscik7cmV0dXJuIGkub2JqZWN0PWUsaS5jYWxsZWU9dGhpcy5wYXJzZU5vQ2FsbEV4cHIoKSx0aGlzLnBhcnNlU3Vic2NyaXB0cyh0aGlzLmZpbmlzaE5vZGUoaSwiQmluZEV4cHJlc3Npb24iKSx0LHIsbil9aWYodGhpcy5lYXQoUi5kb3QpKXt2YXIgcz10aGlzLnN0YXJ0Tm9kZUF0KHQscik7cy5vYmplY3Q9ZSxzLnByb3BlcnR5PXRoaXMucGFyc2VJZGVudGlmaWVyKCEwKSxzLmNvbXB1dGVkPSExLGU9dGhpcy5maW5pc2hOb2RlKHMsIk1lbWJlckV4cHJlc3Npb24iKX1lbHNlIGlmKHRoaXMuZWF0KFIuYnJhY2tldEwpKXt2YXIgYT10aGlzLnN0YXJ0Tm9kZUF0KHQscik7YS5vYmplY3Q9ZSxhLnByb3BlcnR5PXRoaXMucGFyc2VFeHByZXNzaW9uKCksYS5jb21wdXRlZD0hMCx0aGlzLmV4cGVjdChSLmJyYWNrZXRSKSxlPXRoaXMuZmluaXNoTm9kZShhLCJNZW1iZXJFeHByZXNzaW9uIil9ZWxzZSBpZighbiYmdGhpcy5tYXRjaChSLnBhcmVuTCkpe3ZhciBvPXRoaXMuc3RhdGUucG90ZW50aWFsQXJyb3dBdD09PWUuc3RhcnQmJiJJZGVudGlmaWVyIj09PWUudHlwZSYmImFzeW5jIj09PWUubmFtZSYmIXRoaXMuY2FuSW5zZXJ0U2VtaWNvbG9uKCk7dGhpcy5uZXh0KCk7dmFyIHU9dGhpcy5zdGFydE5vZGVBdCh0LHIpO2lmKHUuY2FsbGVlPWUsdS5hcmd1bWVudHM9dGhpcy5wYXJzZUNhbGxFeHByZXNzaW9uQXJndW1lbnRzKFIucGFyZW5SLG8pLCJJbXBvcnQiPT09dS5jYWxsZWUudHlwZSYmMSE9PXUuYXJndW1lbnRzLmxlbmd0aCYmdGhpcy5yYWlzZSh1LnN0YXJ0LCJpbXBvcnQoKSByZXF1aXJlcyBleGFjdGx5IG9uZSBhcmd1bWVudCIpLGU9dGhpcy5maW5pc2hOb2RlKHUsIkNhbGxFeHByZXNzaW9uIiksbyYmdGhpcy5zaG91bGRQYXJzZUFzeW5jQXJyb3coKSlyZXR1cm4gdGhpcy5wYXJzZUFzeW5jQXJyb3dGcm9tQ2FsbEV4cHJlc3Npb24odGhpcy5zdGFydE5vZGVBdCh0LHIpLHUpO3RoaXMudG9SZWZlcmVuY2VkTGlzdCh1LmFyZ3VtZW50cyl9ZWxzZXtpZighdGhpcy5tYXRjaChSLmJhY2tRdW90ZSkpcmV0dXJuIGU7dmFyIGw9dGhpcy5zdGFydE5vZGVBdCh0LHIpO2wudGFnPWUsbC5xdWFzaT10aGlzLnBhcnNlVGVtcGxhdGUoITApLGU9dGhpcy5maW5pc2hOb2RlKGwsIlRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiIpfX19LHRlLnBhcnNlQ2FsbEV4cHJlc3Npb25Bcmd1bWVudHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9W10sbj12b2lkIDAsaT0hMDshdGhpcy5lYXQoZSk7KXtpZihpKWk9ITE7ZWxzZSBpZih0aGlzLmV4cGVjdChSLmNvbW1hKSx0aGlzLmVhdChlKSlicmVhazt0aGlzLm1hdGNoKFIucGFyZW5MKSYmIW4mJihuPXRoaXMuc3RhdGUuc3RhcnQpLHIucHVzaCh0aGlzLnBhcnNlRXhwckxpc3RJdGVtKCExLHQ/e3N0YXJ0OjB9OnZvaWQgMCx0P3tzdGFydDowfTp2b2lkIDApKX1yZXR1cm4gdCYmbiYmdGhpcy5zaG91bGRQYXJzZUFzeW5jQXJyb3coKSYmdGhpcy51bmV4cGVjdGVkKCkscn0sdGUuc2hvdWxkUGFyc2VBc3luY0Fycm93PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF0Y2goUi5hcnJvdyl9LHRlLnBhcnNlQXN5bmNBcnJvd0Zyb21DYWxsRXhwcmVzc2lvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmV4cGVjdChSLmFycm93KSx0aGlzLnBhcnNlQXJyb3dFeHByZXNzaW9uKGUsdC5hcmd1bWVudHMsITApfSx0ZS5wYXJzZU5vQ2FsbEV4cHI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLnN0YXJ0LHQ9dGhpcy5zdGF0ZS5zdGFydExvYztyZXR1cm4gdGhpcy5wYXJzZVN1YnNjcmlwdHModGhpcy5wYXJzZUV4cHJBdG9tKCksZSx0LCEwKX0sdGUucGFyc2VFeHByQXRvbT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnN0YXRlLnBvdGVudGlhbEFycm93QXQ9PT10aGlzLnN0YXRlLnN0YXJ0LHI9dm9pZCAwO3N3aXRjaCh0aGlzLnN0YXRlLnR5cGUpe2Nhc2UgUi5fc3VwZXI6cmV0dXJuIHRoaXMuc3RhdGUuaW5NZXRob2R8fHRoaXMuc3RhdGUuaW5DbGFzc1Byb3BlcnR5fHx0aGlzLm9wdGlvbnMuYWxsb3dTdXBlck91dHNpZGVNZXRob2R8fHRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiJ3N1cGVyJyBvdXRzaWRlIG9mIGZ1bmN0aW9uIG9yIGNsYXNzIikscj10aGlzLnN0YXJ0Tm9kZSgpLHRoaXMubmV4dCgpLHRoaXMubWF0Y2goUi5wYXJlbkwpfHx0aGlzLm1hdGNoKFIuYnJhY2tldEwpfHx0aGlzLm1hdGNoKFIuZG90KXx8dGhpcy51bmV4cGVjdGVkKCksdGhpcy5tYXRjaChSLnBhcmVuTCkmJiJjb25zdHJ1Y3RvciIhPT10aGlzLnN0YXRlLmluTWV0aG9kJiYhdGhpcy5vcHRpb25zLmFsbG93U3VwZXJPdXRzaWRlTWV0aG9kJiZ0aGlzLnJhaXNlKHIuc3RhcnQsInN1cGVyKCkgb3V0c2lkZSBvZiBjbGFzcyBjb25zdHJ1Y3RvciIpLHRoaXMuZmluaXNoTm9kZShyLCJTdXBlciIpO2Nhc2UgUi5faW1wb3J0OnJldHVybiB0aGlzLmhhc1BsdWdpbigiZHluYW1pY0ltcG9ydCIpfHx0aGlzLnVuZXhwZWN0ZWQoKSxyPXRoaXMuc3RhcnROb2RlKCksdGhpcy5uZXh0KCksdGhpcy5tYXRjaChSLnBhcmVuTCl8fHRoaXMudW5leHBlY3RlZChudWxsLFIucGFyZW5MKSx0aGlzLmZpbmlzaE5vZGUociwiSW1wb3J0Iik7Y2FzZSBSLl90aGlzOnJldHVybiByPXRoaXMuc3RhcnROb2RlKCksdGhpcy5uZXh0KCksdGhpcy5maW5pc2hOb2RlKHIsIlRoaXNFeHByZXNzaW9uIik7Y2FzZSBSLl95aWVsZDp0aGlzLnN0YXRlLmluR2VuZXJhdG9yJiZ0aGlzLnVuZXhwZWN0ZWQoKTtjYXNlIFIubmFtZTpyPXRoaXMuc3RhcnROb2RlKCk7dmFyIG49ImF3YWl0Ij09PXRoaXMuc3RhdGUudmFsdWUmJnRoaXMuc3RhdGUuaW5Bc3luYyxpPXRoaXMuc2hvdWxkQWxsb3dZaWVsZElkZW50aWZpZXIoKSxzPXRoaXMucGFyc2VJZGVudGlmaWVyKG58fGkpO2lmKCJhd2FpdCI9PT1zLm5hbWUpe2lmKHRoaXMuc3RhdGUuaW5Bc3luY3x8dGhpcy5pbk1vZHVsZSlyZXR1cm4gdGhpcy5wYXJzZUF3YWl0KHIpfWVsc2V7aWYoImFzeW5jIj09PXMubmFtZSYmdGhpcy5tYXRjaChSLl9mdW5jdGlvbikmJiF0aGlzLmNhbkluc2VydFNlbWljb2xvbigpKXJldHVybiB0aGlzLm5leHQoKSx0aGlzLnBhcnNlRnVuY3Rpb24ociwhMSwhMSwhMCk7aWYodCYmImFzeW5jIj09PXMubmFtZSYmdGhpcy5tYXRjaChSLm5hbWUpKXt2YXIgYT1bdGhpcy5wYXJzZUlkZW50aWZpZXIoKV07cmV0dXJuIHRoaXMuZXhwZWN0KFIuYXJyb3cpLHRoaXMucGFyc2VBcnJvd0V4cHJlc3Npb24ocixhLCEwKX19cmV0dXJuIHQmJiF0aGlzLmNhbkluc2VydFNlbWljb2xvbigpJiZ0aGlzLmVhdChSLmFycm93KT90aGlzLnBhcnNlQXJyb3dFeHByZXNzaW9uKHIsW3NdKTpzO2Nhc2UgUi5fZG86aWYodGhpcy5oYXNQbHVnaW4oImRvRXhwcmVzc2lvbnMiKSl7dmFyIG89dGhpcy5zdGFydE5vZGUoKTt0aGlzLm5leHQoKTt2YXIgdT10aGlzLnN0YXRlLmluRnVuY3Rpb24sbD10aGlzLnN0YXRlLmxhYmVscztyZXR1cm4gdGhpcy5zdGF0ZS5sYWJlbHM9W10sdGhpcy5zdGF0ZS5pbkZ1bmN0aW9uPSExLG8uYm9keT10aGlzLnBhcnNlQmxvY2soITEsITApLHRoaXMuc3RhdGUuaW5GdW5jdGlvbj11LHRoaXMuc3RhdGUubGFiZWxzPWwsdGhpcy5maW5pc2hOb2RlKG8sIkRvRXhwcmVzc2lvbiIpfWNhc2UgUi5yZWdleHA6dmFyIGM9dGhpcy5zdGF0ZS52YWx1ZTtyZXR1cm4gcj10aGlzLnBhcnNlTGl0ZXJhbChjLnZhbHVlLCJSZWdFeHBMaXRlcmFsIiksci5wYXR0ZXJuPWMucGF0dGVybixyLmZsYWdzPWMuZmxhZ3MscjtjYXNlIFIubnVtOnJldHVybiB0aGlzLnBhcnNlTGl0ZXJhbCh0aGlzLnN0YXRlLnZhbHVlLCJOdW1lcmljTGl0ZXJhbCIpO2Nhc2UgUi5zdHJpbmc6cmV0dXJuIHRoaXMucGFyc2VMaXRlcmFsKHRoaXMuc3RhdGUudmFsdWUsIlN0cmluZ0xpdGVyYWwiKTtjYXNlIFIuX251bGw6cmV0dXJuIHI9dGhpcy5zdGFydE5vZGUoKSx0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUociwiTnVsbExpdGVyYWwiKTtjYXNlIFIuX3RydWU6Y2FzZSBSLl9mYWxzZTpyZXR1cm4gcj10aGlzLnN0YXJ0Tm9kZSgpLHIudmFsdWU9dGhpcy5tYXRjaChSLl90cnVlKSx0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUociwiQm9vbGVhbkxpdGVyYWwiKTtjYXNlIFIucGFyZW5MOnJldHVybiB0aGlzLnBhcnNlUGFyZW5BbmREaXN0aW5ndWlzaEV4cHJlc3Npb24obnVsbCxudWxsLHQpO2Nhc2UgUi5icmFja2V0TDpyZXR1cm4gcj10aGlzLnN0YXJ0Tm9kZSgpLHRoaXMubmV4dCgpLHIuZWxlbWVudHM9dGhpcy5wYXJzZUV4cHJMaXN0KFIuYnJhY2tldFIsITAsZSksdGhpcy50b1JlZmVyZW5jZWRMaXN0KHIuZWxlbWVudHMpLHRoaXMuZmluaXNoTm9kZShyLCJBcnJheUV4cHJlc3Npb24iKTtjYXNlIFIuYnJhY2VMOnJldHVybiB0aGlzLnBhcnNlT2JqKCExLGUpO2Nhc2UgUi5fZnVuY3Rpb246cmV0dXJuIHRoaXMucGFyc2VGdW5jdGlvbkV4cHJlc3Npb24oKTtjYXNlIFIuYXQ6dGhpcy5wYXJzZURlY29yYXRvcnMoKTtjYXNlIFIuX2NsYXNzOnJldHVybiByPXRoaXMuc3RhcnROb2RlKCksdGhpcy50YWtlRGVjb3JhdG9ycyhyKSx0aGlzLnBhcnNlQ2xhc3MociwhMSk7Y2FzZSBSLl9uZXc6cmV0dXJuIHRoaXMucGFyc2VOZXcoKTtjYXNlIFIuYmFja1F1b3RlOnJldHVybiB0aGlzLnBhcnNlVGVtcGxhdGUoITEpO2Nhc2UgUi5kb3VibGVDb2xvbjpyPXRoaXMuc3RhcnROb2RlKCksdGhpcy5uZXh0KCksci5vYmplY3Q9bnVsbDt2YXIgZj1yLmNhbGxlZT10aGlzLnBhcnNlTm9DYWxsRXhwcigpO2lmKCJNZW1iZXJFeHByZXNzaW9uIj09PWYudHlwZSlyZXR1cm4gdGhpcy5maW5pc2hOb2RlKHIsIkJpbmRFeHByZXNzaW9uIik7dGhpcy5yYWlzZShmLnN0YXJ0LCJCaW5kaW5nIHNob3VsZCBiZSBwZXJmb3JtZWQgb24gb2JqZWN0IHByb3BlcnR5LiIpO2RlZmF1bHQ6dGhpcy51bmV4cGVjdGVkKCl9fSx0ZS5wYXJzZUZ1bmN0aW9uRXhwcmVzc2lvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCksdD10aGlzLnBhcnNlSWRlbnRpZmllcighMCk7cmV0dXJuIHRoaXMuc3RhdGUuaW5HZW5lcmF0b3ImJnRoaXMuZWF0KFIuZG90KSYmdGhpcy5oYXNQbHVnaW4oImZ1bmN0aW9uU2VudCIpP3RoaXMucGFyc2VNZXRhUHJvcGVydHkoZSx0LCJzZW50Iik6dGhpcy5wYXJzZUZ1bmN0aW9uKGUsITEpfSx0ZS5wYXJzZU1ldGFQcm9wZXJ0eT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUubWV0YT10LGUucHJvcGVydHk9dGhpcy5wYXJzZUlkZW50aWZpZXIoITApLGUucHJvcGVydHkubmFtZSE9PXImJnRoaXMucmFpc2UoZS5wcm9wZXJ0eS5zdGFydCwiVGhlIG9ubHkgdmFsaWQgbWV0YSBwcm9wZXJ0eSBmb3IgbmV3IGlzICIrdC5uYW1lKyIuIityKSx0aGlzLmZpbmlzaE5vZGUoZSwiTWV0YVByb3BlcnR5Iil9LHRlLnBhcnNlTGl0ZXJhbD1mdW5jdGlvbihlLHQscixuKXtyPXJ8fHRoaXMuc3RhdGUuc3RhcnQsbj1ufHx0aGlzLnN0YXRlLnN0YXJ0TG9jO3ZhciBpPXRoaXMuc3RhcnROb2RlQXQocixuKTtyZXR1cm4gdGhpcy5hZGRFeHRyYShpLCJyYXdWYWx1ZSIsZSksdGhpcy5hZGRFeHRyYShpLCJyYXciLHRoaXMuaW5wdXQuc2xpY2Uocix0aGlzLnN0YXRlLmVuZCkpLGkudmFsdWU9ZSx0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUoaSx0KX0sdGUucGFyc2VQYXJlbkV4cHJlc3Npb249ZnVuY3Rpb24oKXt0aGlzLmV4cGVjdChSLnBhcmVuTCk7dmFyIGU9dGhpcy5wYXJzZUV4cHJlc3Npb24oKTtyZXR1cm4gdGhpcy5leHBlY3QoUi5wYXJlblIpLGV9LHRlLnBhcnNlUGFyZW5BbmREaXN0aW5ndWlzaEV4cHJlc3Npb249ZnVuY3Rpb24oZSx0LHIpe2U9ZXx8dGhpcy5zdGF0ZS5zdGFydCx0PXR8fHRoaXMuc3RhdGUuc3RhcnRMb2M7dmFyIG49dm9pZCAwO3RoaXMuZXhwZWN0KFIucGFyZW5MKTtmb3IodmFyIGk9dGhpcy5zdGF0ZS5zdGFydCxzPXRoaXMuc3RhdGUuc3RhcnRMb2MsYT1bXSxvPXtzdGFydDowfSx1PXtzdGFydDowfSxsPSEwLGM9dm9pZCAwLGY9dm9pZCAwOyF0aGlzLm1hdGNoKFIucGFyZW5SKTspe2lmKGwpbD0hMTtlbHNlIGlmKHRoaXMuZXhwZWN0KFIuY29tbWEsdS5zdGFydHx8bnVsbCksdGhpcy5tYXRjaChSLnBhcmVuUikpe2Y9dGhpcy5zdGF0ZS5zdGFydDticmVha30KaWYodGhpcy5tYXRjaChSLmVsbGlwc2lzKSl7dmFyIHA9dGhpcy5zdGF0ZS5zdGFydCxkPXRoaXMuc3RhdGUuc3RhcnRMb2M7Yz10aGlzLnN0YXRlLnN0YXJ0LGEucHVzaCh0aGlzLnBhcnNlUGFyZW5JdGVtKHRoaXMucGFyc2VSZXN0KCkscCxkKSk7YnJlYWt9YS5wdXNoKHRoaXMucGFyc2VNYXliZUFzc2lnbighMSxvLHRoaXMucGFyc2VQYXJlbkl0ZW0sdSkpfXZhciBoPXRoaXMuc3RhdGUuc3RhcnQsbT10aGlzLnN0YXRlLnN0YXJ0TG9jO3RoaXMuZXhwZWN0KFIucGFyZW5SKTt2YXIgeT10aGlzLnN0YXJ0Tm9kZUF0KGUsdCk7aWYociYmdGhpcy5zaG91bGRQYXJzZUFycm93KCkmJih5PXRoaXMucGFyc2VBcnJvdyh5KSkpe2Zvcih2YXIgdj1hLGc9QXJyYXkuaXNBcnJheSh2KSxiPTAsdj1nP3Y6dltTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIEU7aWYoZyl7aWYoYj49di5sZW5ndGgpYnJlYWs7RT12W2IrK119ZWxzZXtpZihiPXYubmV4dCgpLGIuZG9uZSlicmVhaztFPWIudmFsdWV9dmFyIHg9RTt4LmV4dHJhJiZ4LmV4dHJhLnBhcmVudGhlc2l6ZWQmJnRoaXMudW5leHBlY3RlZCh4LmV4dHJhLnBhcmVuU3RhcnQpfXJldHVybiB0aGlzLnBhcnNlQXJyb3dFeHByZXNzaW9uKHksYSl9cmV0dXJuIGEubGVuZ3RofHx0aGlzLnVuZXhwZWN0ZWQodGhpcy5zdGF0ZS5sYXN0VG9rU3RhcnQpLGYmJnRoaXMudW5leHBlY3RlZChmKSxjJiZ0aGlzLnVuZXhwZWN0ZWQoYyksby5zdGFydCYmdGhpcy51bmV4cGVjdGVkKG8uc3RhcnQpLHUuc3RhcnQmJnRoaXMudW5leHBlY3RlZCh1LnN0YXJ0KSxhLmxlbmd0aD4xPyhuPXRoaXMuc3RhcnROb2RlQXQoaSxzKSxuLmV4cHJlc3Npb25zPWEsdGhpcy50b1JlZmVyZW5jZWRMaXN0KG4uZXhwcmVzc2lvbnMpLHRoaXMuZmluaXNoTm9kZUF0KG4sIlNlcXVlbmNlRXhwcmVzc2lvbiIsaCxtKSk6bj1hWzBdLHRoaXMuYWRkRXh0cmEobiwicGFyZW50aGVzaXplZCIsITApLHRoaXMuYWRkRXh0cmEobiwicGFyZW5TdGFydCIsZSksbn0sdGUuc2hvdWxkUGFyc2VBcnJvdz1mdW5jdGlvbigpe3JldHVybiF0aGlzLmNhbkluc2VydFNlbWljb2xvbigpfSx0ZS5wYXJzZUFycm93PWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWF0KFIuYXJyb3cpKXJldHVybiBlfSx0ZS5wYXJzZVBhcmVuSXRlbT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sdGUucGFyc2VOZXc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpLHQ9dGhpcy5wYXJzZUlkZW50aWZpZXIoITApO2lmKHRoaXMuZWF0KFIuZG90KSl7dmFyIHI9dGhpcy5wYXJzZU1ldGFQcm9wZXJ0eShlLHQsInRhcmdldCIpO3JldHVybiB0aGlzLnN0YXRlLmluRnVuY3Rpb258fHRoaXMucmFpc2Uoci5wcm9wZXJ0eS5zdGFydCwibmV3LnRhcmdldCBjYW4gb25seSBiZSB1c2VkIGluIGZ1bmN0aW9ucyIpLHJ9cmV0dXJuIGUuY2FsbGVlPXRoaXMucGFyc2VOb0NhbGxFeHByKCksdGhpcy5lYXQoUi5wYXJlbkwpPyhlLmFyZ3VtZW50cz10aGlzLnBhcnNlRXhwckxpc3QoUi5wYXJlblIpLHRoaXMudG9SZWZlcmVuY2VkTGlzdChlLmFyZ3VtZW50cykpOmUuYXJndW1lbnRzPVtdLHRoaXMuZmluaXNoTm9kZShlLCJOZXdFeHByZXNzaW9uIil9LHRlLnBhcnNlVGVtcGxhdGVFbGVtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIG51bGw9PT10aGlzLnN0YXRlLnZhbHVlJiYoZSYmdGhpcy5oYXNQbHVnaW4oInRlbXBsYXRlSW52YWxpZEVzY2FwZXMiKT90aGlzLnN0YXRlLmludmFsaWRUZW1wbGF0ZUVzY2FwZVBvc2l0aW9uPW51bGw6dGhpcy5yYWlzZSh0aGlzLnN0YXRlLmludmFsaWRUZW1wbGF0ZUVzY2FwZVBvc2l0aW9uLCJJbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZSBpbiB0ZW1wbGF0ZSIpKSx0LnZhbHVlPXtyYXc6dGhpcy5pbnB1dC5zbGljZSh0aGlzLnN0YXRlLnN0YXJ0LHRoaXMuc3RhdGUuZW5kKS5yZXBsYWNlKC9cclxuPy9nLCJcbiIpLGNvb2tlZDp0aGlzLnN0YXRlLnZhbHVlfSx0aGlzLm5leHQoKSx0LnRhaWw9dGhpcy5tYXRjaChSLmJhY2tRdW90ZSksdGhpcy5maW5pc2hOb2RlKHQsIlRlbXBsYXRlRWxlbWVudCIpfSx0ZS5wYXJzZVRlbXBsYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlKCk7dGhpcy5uZXh0KCksdC5leHByZXNzaW9ucz1bXTt2YXIgcj10aGlzLnBhcnNlVGVtcGxhdGVFbGVtZW50KGUpO2Zvcih0LnF1YXNpcz1bcl07IXIudGFpbDspdGhpcy5leHBlY3QoUi5kb2xsYXJCcmFjZUwpLHQuZXhwcmVzc2lvbnMucHVzaCh0aGlzLnBhcnNlRXhwcmVzc2lvbigpKSx0aGlzLmV4cGVjdChSLmJyYWNlUiksdC5xdWFzaXMucHVzaChyPXRoaXMucGFyc2VUZW1wbGF0ZUVsZW1lbnQoZSkpO3JldHVybiB0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUodCwiVGVtcGxhdGVMaXRlcmFsIil9LHRlLnBhcnNlT2JqPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W10sbj1PYmplY3QuY3JlYXRlKG51bGwpLGk9ITAscz10aGlzLnN0YXJ0Tm9kZSgpO3MucHJvcGVydGllcz1bXSx0aGlzLm5leHQoKTtmb3IodmFyIGE9bnVsbDshdGhpcy5lYXQoUi5icmFjZVIpOyl7aWYoaSlpPSExO2Vsc2UgaWYodGhpcy5leHBlY3QoUi5jb21tYSksdGhpcy5lYXQoUi5icmFjZVIpKWJyZWFrO2Zvcig7dGhpcy5tYXRjaChSLmF0KTspci5wdXNoKHRoaXMucGFyc2VEZWNvcmF0b3IoKSk7dmFyIG89dGhpcy5zdGFydE5vZGUoKSx1PSExLGw9ITEsYz12b2lkIDAsZj12b2lkIDA7aWYoci5sZW5ndGgmJihvLmRlY29yYXRvcnM9cixyPVtdKSx0aGlzLmhhc1BsdWdpbigib2JqZWN0UmVzdFNwcmVhZCIpJiZ0aGlzLm1hdGNoKFIuZWxsaXBzaXMpKXtpZihvPXRoaXMucGFyc2VTcHJlYWQoZT97c3RhcnQ6MH06dm9pZCAwKSxvLnR5cGU9ZT8iUmVzdFByb3BlcnR5IjoiU3ByZWFkUHJvcGVydHkiLGUmJnRoaXMudG9Bc3NpZ25hYmxlKG8uYXJndW1lbnQsITAsIm9iamVjdCBwYXR0ZXJuIikscy5wcm9wZXJ0aWVzLnB1c2gobyksIWUpY29udGludWU7dmFyIHA9dGhpcy5zdGF0ZS5zdGFydDtpZihudWxsPT09YSl7aWYodGhpcy5lYXQoUi5icmFjZVIpKWJyZWFrO2lmKHRoaXMubWF0Y2goUi5jb21tYSkmJnRoaXMubG9va2FoZWFkKCkudHlwZT09PVIuYnJhY2VSKWNvbnRpbnVlO2E9cDtjb250aW51ZX10aGlzLnVuZXhwZWN0ZWQoYSwiQ2Fubm90IGhhdmUgbXVsdGlwbGUgcmVzdCBlbGVtZW50cyB3aGVuIGRlc3RydWN0dXJpbmciKX1pZihvLm1ldGhvZD0hMSxvLnNob3J0aGFuZD0hMSwoZXx8dCkmJihjPXRoaXMuc3RhdGUuc3RhcnQsZj10aGlzLnN0YXRlLnN0YXJ0TG9jKSxlfHwodT10aGlzLmVhdChSLnN0YXIpKSwhZSYmdGhpcy5pc0NvbnRleHR1YWwoImFzeW5jIikpe3UmJnRoaXMudW5leHBlY3RlZCgpO3ZhciBkPXRoaXMucGFyc2VJZGVudGlmaWVyKCk7dGhpcy5tYXRjaChSLmNvbG9uKXx8dGhpcy5tYXRjaChSLnBhcmVuTCl8fHRoaXMubWF0Y2goUi5icmFjZVIpfHx0aGlzLm1hdGNoKFIuZXEpfHx0aGlzLm1hdGNoKFIuY29tbWEpPyhvLmtleT1kLG8uY29tcHV0ZWQ9ITEpOihsPSEwLHRoaXMuaGFzUGx1Z2luKCJhc3luY0dlbmVyYXRvcnMiKSYmKHU9dGhpcy5lYXQoUi5zdGFyKSksdGhpcy5wYXJzZVByb3BlcnR5TmFtZShvKSl9ZWxzZSB0aGlzLnBhcnNlUHJvcGVydHlOYW1lKG8pO3RoaXMucGFyc2VPYmpQcm9wVmFsdWUobyxjLGYsdSxsLGUsdCksdGhpcy5jaGVja1Byb3BDbGFzaChvLG4pLG8uc2hvcnRoYW5kJiZ0aGlzLmFkZEV4dHJhKG8sInNob3J0aGFuZCIsITApLHMucHJvcGVydGllcy5wdXNoKG8pfXJldHVybiBudWxsIT09YSYmdGhpcy51bmV4cGVjdGVkKGEsIlRoZSByZXN0IGVsZW1lbnQgaGFzIHRvIGJlIHRoZSBsYXN0IGVsZW1lbnQgd2hlbiBkZXN0cnVjdHVyaW5nIiksci5sZW5ndGgmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiWW91IGhhdmUgdHJhaWxpbmcgZGVjb3JhdG9ycyB3aXRoIG5vIHByb3BlcnR5IiksdGhpcy5maW5pc2hOb2RlKHMsZT8iT2JqZWN0UGF0dGVybiI6Ik9iamVjdEV4cHJlc3Npb24iKX0sdGUuaXNHZXR0ZXJPclNldHRlck1ldGhvZD1mdW5jdGlvbihlLHQpe3JldHVybiF0JiYhZS5jb21wdXRlZCYmIklkZW50aWZpZXIiPT09ZS5rZXkudHlwZSYmKCJnZXQiPT09ZS5rZXkubmFtZXx8InNldCI9PT1lLmtleS5uYW1lKSYmKHRoaXMubWF0Y2goUi5zdHJpbmcpfHx0aGlzLm1hdGNoKFIubnVtKXx8dGhpcy5tYXRjaChSLmJyYWNrZXRMKXx8dGhpcy5tYXRjaChSLm5hbWUpfHx0aGlzLnN0YXRlLnR5cGUua2V5d29yZCl9LHRlLmNoZWNrR2V0dGVyU2V0dGVyUGFyYW1Db3VudD1mdW5jdGlvbihlKXt2YXIgdD0iZ2V0Ij09PWUua2luZD8wOjE7aWYoZS5wYXJhbXMubGVuZ3RoIT09dCl7dmFyIHI9ZS5zdGFydDsiZ2V0Ij09PWUua2luZD90aGlzLnJhaXNlKHIsImdldHRlciBzaG91bGQgaGF2ZSBubyBwYXJhbXMiKTp0aGlzLnJhaXNlKHIsInNldHRlciBzaG91bGQgaGF2ZSBleGFjdGx5IG9uZSBwYXJhbSIpfX0sdGUucGFyc2VPYmplY3RNZXRob2Q9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHJ8fHR8fHRoaXMubWF0Y2goUi5wYXJlbkwpPyhuJiZ0aGlzLnVuZXhwZWN0ZWQoKSxlLmtpbmQ9Im1ldGhvZCIsZS5tZXRob2Q9ITAsdGhpcy5wYXJzZU1ldGhvZChlLHQsciksdGhpcy5maW5pc2hOb2RlKGUsIk9iamVjdE1ldGhvZCIpKTp0aGlzLmlzR2V0dGVyT3JTZXR0ZXJNZXRob2QoZSxuKT8oKHR8fHIpJiZ0aGlzLnVuZXhwZWN0ZWQoKSxlLmtpbmQ9ZS5rZXkubmFtZSx0aGlzLnBhcnNlUHJvcGVydHlOYW1lKGUpLHRoaXMucGFyc2VNZXRob2QoZSksdGhpcy5jaGVja0dldHRlclNldHRlclBhcmFtQ291bnQoZSksdGhpcy5maW5pc2hOb2RlKGUsIk9iamVjdE1ldGhvZCIpKTp2b2lkIDB9LHRlLnBhcnNlT2JqZWN0UHJvcGVydHk9ZnVuY3Rpb24oZSx0LHIsbixpKXtyZXR1cm4gdGhpcy5lYXQoUi5jb2xvbik/KGUudmFsdWU9bj90aGlzLnBhcnNlTWF5YmVEZWZhdWx0KHRoaXMuc3RhdGUuc3RhcnQsdGhpcy5zdGF0ZS5zdGFydExvYyk6dGhpcy5wYXJzZU1heWJlQXNzaWduKCExLGkpLHRoaXMuZmluaXNoTm9kZShlLCJPYmplY3RQcm9wZXJ0eSIpKTplLmNvbXB1dGVkfHwiSWRlbnRpZmllciIhPT1lLmtleS50eXBlP3ZvaWQgMDoodGhpcy5jaGVja1Jlc2VydmVkV29yZChlLmtleS5uYW1lLGUua2V5LnN0YXJ0LCEwLCEwKSxuP2UudmFsdWU9dGhpcy5wYXJzZU1heWJlRGVmYXVsdCh0LHIsZS5rZXkuX19jbG9uZSgpKTp0aGlzLm1hdGNoKFIuZXEpJiZpPyhpLnN0YXJ0fHwoaS5zdGFydD10aGlzLnN0YXRlLnN0YXJ0KSxlLnZhbHVlPXRoaXMucGFyc2VNYXliZURlZmF1bHQodCxyLGUua2V5Ll9fY2xvbmUoKSkpOmUudmFsdWU9ZS5rZXkuX19jbG9uZSgpLGUuc2hvcnRoYW5kPSEwLHRoaXMuZmluaXNoTm9kZShlLCJPYmplY3RQcm9wZXJ0eSIpKX0sdGUucGFyc2VPYmpQcm9wVmFsdWU9ZnVuY3Rpb24oZSx0LHIsbixpLHMsYSl7dmFyIG89dGhpcy5wYXJzZU9iamVjdE1ldGhvZChlLG4saSxzKXx8dGhpcy5wYXJzZU9iamVjdFByb3BlcnR5KGUsdCxyLHMsYSk7cmV0dXJuIG98fHRoaXMudW5leHBlY3RlZCgpLG99LHRlLnBhcnNlUHJvcGVydHlOYW1lPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZWF0KFIuYnJhY2tldEwpKWUuY29tcHV0ZWQ9ITAsZS5rZXk9dGhpcy5wYXJzZU1heWJlQXNzaWduKCksdGhpcy5leHBlY3QoUi5icmFja2V0Uik7ZWxzZXtlLmNvbXB1dGVkPSExO3ZhciB0PXRoaXMuc3RhdGUuaW5Qcm9wZXJ0eU5hbWU7dGhpcy5zdGF0ZS5pblByb3BlcnR5TmFtZT0hMCxlLmtleT10aGlzLm1hdGNoKFIubnVtKXx8dGhpcy5tYXRjaChSLnN0cmluZyk/dGhpcy5wYXJzZUV4cHJBdG9tKCk6dGhpcy5wYXJzZUlkZW50aWZpZXIoITApLHRoaXMuc3RhdGUuaW5Qcm9wZXJ0eU5hbWU9dH1yZXR1cm4gZS5rZXl9LHRlLmluaXRGdW5jdGlvbj1mdW5jdGlvbihlLHQpe2UuaWQ9bnVsbCxlLmdlbmVyYXRvcj0hMSxlLmV4cHJlc3Npb249ITEsZS5hc3luYz0hIXR9LHRlLnBhcnNlTWV0aG9kPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnN0YXRlLmluTWV0aG9kO3JldHVybiB0aGlzLnN0YXRlLmluTWV0aG9kPWUua2luZHx8ITAsdGhpcy5pbml0RnVuY3Rpb24oZSxyKSx0aGlzLmV4cGVjdChSLnBhcmVuTCksZS5wYXJhbXM9dGhpcy5wYXJzZUJpbmRpbmdMaXN0KFIucGFyZW5SKSxlLmdlbmVyYXRvcj0hIXQsdGhpcy5wYXJzZUZ1bmN0aW9uQm9keShlKSx0aGlzLnN0YXRlLmluTWV0aG9kPW4sZX0sdGUucGFyc2VBcnJvd0V4cHJlc3Npb249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLmluaXRGdW5jdGlvbihlLHIpLGUucGFyYW1zPXRoaXMudG9Bc3NpZ25hYmxlTGlzdCh0LCEwLCJhcnJvdyBmdW5jdGlvbiBwYXJhbWV0ZXJzIiksdGhpcy5wYXJzZUZ1bmN0aW9uQm9keShlLCEwKSx0aGlzLmZpbmlzaE5vZGUoZSwiQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24iKX0sdGUuaXNTdHJpY3RCb2R5PWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUuYm9keS5kaXJlY3RpdmVzLmxlbmd0aClmb3IodmFyIHI9ZS5ib2R5LmRpcmVjdGl2ZXMsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjpyW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgcztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztzPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX12YXIgYT1zO2lmKCJ1c2Ugc3RyaWN0Ij09PWEudmFsdWUudmFsdWUpcmV0dXJuITB9cmV0dXJuITF9LHRlLnBhcnNlRnVuY3Rpb25Cb2R5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dCYmIXRoaXMubWF0Y2goUi5icmFjZUwpLG49dGhpcy5zdGF0ZS5pbkFzeW5jO2lmKHRoaXMuc3RhdGUuaW5Bc3luYz1lLmFzeW5jLHIpZS5ib2R5PXRoaXMucGFyc2VNYXliZUFzc2lnbigpLGUuZXhwcmVzc2lvbj0hMDtlbHNle3ZhciBpPXRoaXMuc3RhdGUuaW5GdW5jdGlvbixzPXRoaXMuc3RhdGUuaW5HZW5lcmF0b3IsYT10aGlzLnN0YXRlLmxhYmVsczt0aGlzLnN0YXRlLmluRnVuY3Rpb249ITAsdGhpcy5zdGF0ZS5pbkdlbmVyYXRvcj1lLmdlbmVyYXRvcix0aGlzLnN0YXRlLmxhYmVscz1bXSxlLmJvZHk9dGhpcy5wYXJzZUJsb2NrKCEwKSxlLmV4cHJlc3Npb249ITEsdGhpcy5zdGF0ZS5pbkZ1bmN0aW9uPWksdGhpcy5zdGF0ZS5pbkdlbmVyYXRvcj1zLHRoaXMuc3RhdGUubGFiZWxzPWF9dGhpcy5zdGF0ZS5pbkFzeW5jPW47dmFyIG89dGhpcy5pc1N0cmljdEJvZHkoZSxyKSx1PXRoaXMuc3RhdGUuc3RyaWN0fHx0fHxvO2lmKG8mJmUuaWQmJiJJZGVudGlmaWVyIj09PWUuaWQudHlwZSYmInlpZWxkIj09PWUuaWQubmFtZSYmdGhpcy5yYWlzZShlLmlkLnN0YXJ0LCJCaW5kaW5nIHlpZWxkIGluIHN0cmljdCBtb2RlIiksdSl7dmFyIGw9T2JqZWN0LmNyZWF0ZShudWxsKSxjPXRoaXMuc3RhdGUuc3RyaWN0O28mJih0aGlzLnN0YXRlLnN0cmljdD0hMCksZS5pZCYmdGhpcy5jaGVja0xWYWwoZS5pZCwhMCx2b2lkIDAsImZ1bmN0aW9uIG5hbWUiKTtmb3IodmFyIGY9ZS5wYXJhbXMscD1BcnJheS5pc0FycmF5KGYpLGQ9MCxmPXA/ZjpmW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgaDtpZihwKXtpZihkPj1mLmxlbmd0aClicmVhaztoPWZbZCsrXX1lbHNle2lmKGQ9Zi5uZXh0KCksZC5kb25lKWJyZWFrO2g9ZC52YWx1ZX12YXIgbT1oO28mJiJJZGVudGlmaWVyIiE9PW0udHlwZSYmdGhpcy5yYWlzZShtLnN0YXJ0LCJOb24tc2ltcGxlIHBhcmFtZXRlciBpbiBzdHJpY3QgbW9kZSIpLHRoaXMuY2hlY2tMVmFsKG0sITAsbCwiZnVuY3Rpb24gcGFyYW1ldGVyIGxpc3QiKX10aGlzLnN0YXRlLnN0cmljdD1jfX0sdGUucGFyc2VFeHByTGlzdD1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPVtdLGk9ITA7IXRoaXMuZWF0KGUpOyl7aWYoaSlpPSExO2Vsc2UgaWYodGhpcy5leHBlY3QoUi5jb21tYSksdGhpcy5lYXQoZSkpYnJlYWs7bi5wdXNoKHRoaXMucGFyc2VFeHByTGlzdEl0ZW0odCxyKSl9cmV0dXJuIG59LHRlLnBhcnNlRXhwckxpc3RJdGVtPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSYmdGhpcy5tYXRjaChSLmNvbW1hKT9udWxsOnRoaXMubWF0Y2goUi5lbGxpcHNpcyk/dGhpcy5wYXJzZVNwcmVhZCh0KTp0aGlzLnBhcnNlTWF5YmVBc3NpZ24oITEsdCx0aGlzLnBhcnNlUGFyZW5JdGVtLHIpfSx0ZS5wYXJzZUlkZW50aWZpZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGFydE5vZGUoKTtyZXR1cm4gZXx8dGhpcy5jaGVja1Jlc2VydmVkV29yZCh0aGlzLnN0YXRlLnZhbHVlLHRoaXMuc3RhdGUuc3RhcnQsISF0aGlzLnN0YXRlLnR5cGUua2V5d29yZCwhMSksdGhpcy5tYXRjaChSLm5hbWUpP3QubmFtZT10aGlzLnN0YXRlLnZhbHVlOnRoaXMuc3RhdGUudHlwZS5rZXl3b3JkP3QubmFtZT10aGlzLnN0YXRlLnR5cGUua2V5d29yZDp0aGlzLnVuZXhwZWN0ZWQoKSwhZSYmImF3YWl0Ij09PXQubmFtZSYmdGhpcy5zdGF0ZS5pbkFzeW5jJiZ0aGlzLnJhaXNlKHQuc3RhcnQsImludmFsaWQgdXNlIG9mIGF3YWl0IGluc2lkZSBvZiBhbiBhc3luYyBmdW5jdGlvbiIpLHQubG9jLmlkZW50aWZpZXJOYW1lPXQubmFtZSx0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUodCwiSWRlbnRpZmllciIpfSx0ZS5jaGVja1Jlc2VydmVkV29yZD1mdW5jdGlvbihlLHQscixuKXsodGhpcy5pc1Jlc2VydmVkV29yZChlKXx8ciYmdGhpcy5pc0tleXdvcmQoZSkpJiZ0aGlzLnJhaXNlKHQsZSsiIGlzIGEgcmVzZXJ2ZWQgd29yZCIpLHRoaXMuc3RhdGUuc3RyaWN0JiYodi5zdHJpY3QoZSl8fG4mJnYuc3RyaWN0QmluZChlKSkmJnRoaXMucmFpc2UodCxlKyIgaXMgYSByZXNlcnZlZCB3b3JkIGluIHN0cmljdCBtb2RlIil9LHRlLnBhcnNlQXdhaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc3RhdGUuaW5Bc3luY3x8dGhpcy51bmV4cGVjdGVkKCksdGhpcy5tYXRjaChSLnN0YXIpJiZ0aGlzLnJhaXNlKGUuc3RhcnQsImF3YWl0KiBoYXMgYmVlbiByZW1vdmVkIGZyb20gdGhlIGFzeW5jIGZ1bmN0aW9ucyBwcm9wb3NhbC4gVXNlIFByb21pc2UuYWxsKCkgaW5zdGVhZC4iKSxlLmFyZ3VtZW50PXRoaXMucGFyc2VNYXliZVVuYXJ5KCksdGhpcy5maW5pc2hOb2RlKGUsIkF3YWl0RXhwcmVzc2lvbiIpfSx0ZS5wYXJzZVlpZWxkPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGFydE5vZGUoKTtyZXR1cm4gdGhpcy5uZXh0KCksdGhpcy5tYXRjaChSLnNlbWkpfHx0aGlzLmNhbkluc2VydFNlbWljb2xvbigpfHwhdGhpcy5tYXRjaChSLnN0YXIpJiYhdGhpcy5zdGF0ZS50eXBlLnN0YXJ0c0V4cHI/KGUuZGVsZWdhdGU9ITEsZS5hcmd1bWVudD1udWxsKTooZS5kZWxlZ2F0ZT10aGlzLmVhdChSLnN0YXIpLGUuYXJndW1lbnQ9dGhpcy5wYXJzZU1heWJlQXNzaWduKCkpLHRoaXMuZmluaXNoTm9kZShlLCJZaWVsZEV4cHJlc3Npb24iKX07dmFyIHJlPUoucHJvdG90eXBlLG5lPVsibGVhZGluZ0NvbW1lbnRzIiwidHJhaWxpbmdDb21tZW50cyIsImlubmVyQ29tbWVudHMiXSxpZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4pe3codGhpcyxlKSx0aGlzLnR5cGU9IiIsdGhpcy5zdGFydD10LHRoaXMuZW5kPTAsdGhpcy5sb2M9bmV3IEcociksbiYmKHRoaXMubG9jLmZpbGVuYW1lPW4pfXJldHVybiBlLnByb3RvdHlwZS5fX2Nsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IGU7Zm9yKHZhciByIGluIHRoaXMpbmUuaW5kZXhPZihyKTwwJiYodFtyXT10aGlzW3JdKTtyZXR1cm4gdH0sZX0oKTtyZS5zdGFydE5vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGllKHRoaXMuc3RhdGUuc3RhcnQsdGhpcy5zdGF0ZS5zdGFydExvYyx0aGlzLmZpbGVuYW1lKX0scmUuc3RhcnROb2RlQXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGllKGUsdCx0aGlzLmZpbGVuYW1lKX0scmUuZmluaXNoTm9kZT1mdW5jdGlvbihlLHQpe3JldHVybiBjLmNhbGwodGhpcyxlLHQsdGhpcy5zdGF0ZS5sYXN0VG9rRW5kLHRoaXMuc3RhdGUubGFzdFRva0VuZExvYyl9LHJlLmZpbmlzaE5vZGVBdD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gYy5jYWxsKHRoaXMsZSx0LHIsbil9LEoucHJvdG90eXBlLnJhaXNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dSh0aGlzLmlucHV0LGUpO3QrPSIgKCIrci5saW5lKyI6IityLmNvbHVtbisiKSI7dmFyIG49bmV3IFN5bnRheEVycm9yKHQpO3Rocm93IG4ucG9zPWUsbi5sb2M9cixufTt2YXIgc2U9Si5wcm90b3R5cGU7c2UuYWRkQ29tbWVudD1mdW5jdGlvbihlKXt0aGlzLmZpbGVuYW1lJiYoZS5sb2MuZmlsZW5hbWU9dGhpcy5maWxlbmFtZSksdGhpcy5zdGF0ZS50cmFpbGluZ0NvbW1lbnRzLnB1c2goZSksdGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHMucHVzaChlKX0sc2UucHJvY2Vzc0NvbW1lbnQ9ZnVuY3Rpb24oZSl7aWYoISgiUHJvZ3JhbSI9PT1lLnR5cGUmJmUuYm9keS5sZW5ndGg+MCkpe3ZhciB0PXRoaXMuc3RhdGUuY29tbWVudFN0YWNrLHI9dm9pZCAwLG49dm9pZCAwLGk9dm9pZCAwLHM9dm9pZCAwLGE9dm9pZCAwO2lmKHRoaXMuc3RhdGUudHJhaWxpbmdDb21tZW50cy5sZW5ndGg+MCl0aGlzLnN0YXRlLnRyYWlsaW5nQ29tbWVudHNbMF0uc3RhcnQ+PWUuZW5kPyhpPXRoaXMuc3RhdGUudHJhaWxpbmdDb21tZW50cyx0aGlzLnN0YXRlLnRyYWlsaW5nQ29tbWVudHM9W10pOnRoaXMuc3RhdGUudHJhaWxpbmdDb21tZW50cy5sZW5ndGg9MDtlbHNle3ZhciBvPWYodCk7dC5sZW5ndGg+MCYmby50cmFpbGluZ0NvbW1lbnRzJiZvLnRyYWlsaW5nQ29tbWVudHNbMF0uc3RhcnQ+PWUuZW5kJiYoaT1vLnRyYWlsaW5nQ29tbWVudHMsby50cmFpbGluZ0NvbW1lbnRzPW51bGwpfWZvcih0Lmxlbmd0aD4wJiZmKHQpLnN0YXJ0Pj1lLnN0YXJ0JiYocj10LnBvcCgpKTt0Lmxlbmd0aD4wJiZmKHQpLnN0YXJ0Pj1lLnN0YXJ0OyluPXQucG9wKCk7aWYoIW4mJnImJihuPXIpLHImJnRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzLmxlbmd0aD4wKXt2YXIgdT1mKHRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzKTtpZigiT2JqZWN0UHJvcGVydHkiPT09ci50eXBlKXtpZih1LnN0YXJ0Pj1lLnN0YXJ0JiZ0aGlzLnN0YXRlLmNvbW1lbnRQcmV2aW91c05vZGUpe2ZvcihhPTA7YTx0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5sZW5ndGg7YSsrKXRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzW2FdLmVuZDx0aGlzLnN0YXRlLmNvbW1lbnRQcmV2aW91c05vZGUuZW5kJiYodGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHMuc3BsaWNlKGEsMSksYS0tKTt0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5sZW5ndGg+MCYmKHIudHJhaWxpbmdDb21tZW50cz10aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cyx0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cz1bXSl9fWVsc2UgaWYoIkNhbGxFeHByZXNzaW9uIj09PWUudHlwZSYmZS5hcmd1bWVudHMmJmUuYXJndW1lbnRzLmxlbmd0aCl7dmFyIGw9ZihlLmFyZ3VtZW50cyk7bCYmdS5zdGFydD49bC5zdGFydCYmdS5lbmQ8PWUuZW5kJiZ0aGlzLnN0YXRlLmNvbW1lbnRQcmV2aW91c05vZGUmJnRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzLmxlbmd0aD4wJiYobC50cmFpbGluZ0NvbW1lbnRzPXRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzLHRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzPVtdKX19aWYobil7aWYobi5sZWFkaW5nQ29tbWVudHMpaWYobiE9PWUmJmYobi5sZWFkaW5nQ29tbWVudHMpLmVuZDw9ZS5zdGFydCllLmxlYWRpbmdDb21tZW50cz1uLmxlYWRpbmdDb21tZW50cyxuLmxlYWRpbmdDb21tZW50cz1udWxsO2Vsc2UgZm9yKHM9bi5sZWFkaW5nQ29tbWVudHMubGVuZ3RoLTI7cz49MDstLXMpaWYobi5sZWFkaW5nQ29tbWVudHNbc10uZW5kPD1lLnN0YXJ0KXtlLmxlYWRpbmdDb21tZW50cz1uLmxlYWRpbmdDb21tZW50cy5zcGxpY2UoMCxzKzEpO2JyZWFrfX1lbHNlIGlmKHRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzLmxlbmd0aD4wKWlmKGYodGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHMpLmVuZDw9ZS5zdGFydCl7aWYodGhpcy5zdGF0ZS5jb21tZW50UHJldmlvdXNOb2RlKWZvcihhPTA7YTx0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5sZW5ndGg7YSsrKXRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzW2FdLmVuZDx0aGlzLnN0YXRlLmNvbW1lbnRQcmV2aW91c05vZGUuZW5kJiYodGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHMuc3BsaWNlKGEsMSksYS0tKTt0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5sZW5ndGg+MCYmKGUubGVhZGluZ0NvbW1lbnRzPXRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzLHRoaXMuc3RhdGUubGVhZGluZ0NvbW1lbnRzPVtdKX1lbHNle2ZvcihzPTA7czx0aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5sZW5ndGgmJiEodGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHNbc10uZW5kPmUuc3RhcnQpO3MrKyk7ZS5sZWFkaW5nQ29tbWVudHM9dGhpcy5zdGF0ZS5sZWFkaW5nQ29tbWVudHMuc2xpY2UoMCxzKSwwPT09ZS5sZWFkaW5nQ29tbWVudHMubGVuZ3RoJiYoZS5sZWFkaW5nQ29tbWVudHM9bnVsbCksaT10aGlzLnN0YXRlLmxlYWRpbmdDb21tZW50cy5zbGljZShzKSwwPT09aS5sZW5ndGgmJihpPW51bGwpfXRoaXMuc3RhdGUuY29tbWVudFByZXZpb3VzTm9kZT1lLGkmJihpLmxlbmd0aCYmaVswXS5zdGFydD49ZS5zdGFydCYmZihpKS5lbmQ8PWUuZW5kP2UuaW5uZXJDb21tZW50cz1pOmUudHJhaWxpbmdDb21tZW50cz1pKSx0LnB1c2goZSl9fTt2YXIgYWU9Si5wcm90b3R5cGU7YWUuZXN0cmVlUGFyc2VSZWdFeHBMaXRlcmFsPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGF0dGVybixyPWUuZmxhZ3Msbj1udWxsO3RyeXtuPW5ldyBSZWdFeHAodCxyKX1jYXRjaChlKXt9dmFyIGk9dGhpcy5lc3RyZWVQYXJzZUxpdGVyYWwobik7cmV0dXJuIGkucmVnZXg9e3BhdHRlcm46dCxmbGFnczpyfSxpfSxhZS5lc3RyZWVQYXJzZUxpdGVyYWw9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucGFyc2VMaXRlcmFsKGUsIkxpdGVyYWwiKX0sYWUuZGlyZWN0aXZlVG9TdG10PWZ1bmN0aW9uKGUpe3ZhciB0PWUudmFsdWUscj10aGlzLnN0YXJ0Tm9kZUF0KGUuc3RhcnQsZS5sb2Muc3RhcnQpLG49dGhpcy5zdGFydE5vZGVBdCh0LnN0YXJ0LHQubG9jLnN0YXJ0KTtyZXR1cm4gbi52YWx1ZT10LnZhbHVlLG4ucmF3PXQuZXh0cmEucmF3LHIuZXhwcmVzc2lvbj10aGlzLmZpbmlzaE5vZGVBdChuLCJMaXRlcmFsIix0LmVuZCx0LmxvYy5lbmQpLHIuZGlyZWN0aXZlPXQuZXh0cmEucmF3LnNsaWNlKDEsLTEpLHRoaXMuZmluaXNoTm9kZUF0KHIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLGUuZW5kLGUubG9jLmVuZCl9O3ZhciBvZT1mdW5jdGlvbihlKXtlLmV4dGVuZCgiY2hlY2tEZWNsYXJhdGlvbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3AodCk/dGhpcy5jaGVja0RlY2xhcmF0aW9uKHQudmFsdWUpOmUuY2FsbCh0aGlzLHQpfX0pLGUuZXh0ZW5kKCJjaGVja0dldHRlclNldHRlclBhcmFtQ291bnQiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PSJnZXQiPT09ZS5raW5kPzA6MTtpZihlLnZhbHVlLnBhcmFtcy5sZW5ndGghPT10KXt2YXIgcj1lLnN0YXJ0OyJnZXQiPT09ZS5raW5kP3RoaXMucmFpc2UociwiZ2V0dGVyIHNob3VsZCBoYXZlIG5vIHBhcmFtcyIpOnRoaXMucmFpc2Uociwic2V0dGVyIHNob3VsZCBoYXZlIGV4YWN0bHkgb25lIHBhcmFtIil9fX0pLGUuZXh0ZW5kKCJjaGVja0xWYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7dmFyIGk9dGhpcztzd2l0Y2godC50eXBlKXtjYXNlIk9iamVjdFBhdHRlcm4iOnQucHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kuY2hlY2tMVmFsKCJQcm9wZXJ0eSI9PT1lLnR5cGU/ZS52YWx1ZTplLHIsbiwib2JqZWN0IGRlc3RydWN0dXJpbmcgcGF0dGVybiIpfSk7YnJlYWs7ZGVmYXVsdDpmb3IodmFyIHM9YXJndW1lbnRzLmxlbmd0aCxhPUFycmF5KHM+Mz9zLTM6MCksbz0zO288cztvKyspYVtvLTNdPWFyZ3VtZW50c1tvXTtlLmNhbGwuYXBwbHkoZSxbdGhpcyx0LHIsbl0uY29uY2F0KGEpKX19fSksZS5leHRlbmQoImNoZWNrUHJvcENsYXNoIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe2lmKCFlLmNvbXB1dGVkJiZwKGUpKXt2YXIgcj1lLmtleTsiX19wcm90b19fIj09PSgiSWRlbnRpZmllciI9PT1yLnR5cGU/ci5uYW1lOlN0cmluZyhyLnZhbHVlKSkmJih0LnByb3RvJiZ0aGlzLnJhaXNlKHIuc3RhcnQsIlJlZGVmaW5pdGlvbiBvZiBfX3Byb3RvX18gcHJvcGVydHkiKSx0LnByb3RvPSEwKX19fSksZS5leHRlbmQoImlzU3RyaWN0Qm9keSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtpZighdCYmZS5ib2R5LmJvZHkubGVuZ3RoPjApZm9yKHZhciByPWUuYm9keS5ib2R5LG49QXJyYXkuaXNBcnJheShyKSxpPTAscj1uP3I6cltTeW1ib2wuaXRlcmF0b3JdKCk7Oyl7dmFyIHM7aWYobil7aWYoaT49ci5sZW5ndGgpYnJlYWs7cz1yW2krK119ZWxzZXtpZihpPXIubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9dmFyIGE9cztpZigiRXhwcmVzc2lvblN0YXRlbWVudCIhPT1hLnR5cGV8fCJMaXRlcmFsIiE9PWEuZXhwcmVzc2lvbi50eXBlKWJyZWFrO2lmKCJ1c2Ugc3RyaWN0Ij09PWEuZXhwcmVzc2lvbi52YWx1ZSlyZXR1cm4hMH1yZXR1cm4hMX19KSxlLmV4dGVuZCgiaXNWYWxpZERpcmVjdGl2ZSIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuISgiRXhwcmVzc2lvblN0YXRlbWVudCIhPT1lLnR5cGV8fCJMaXRlcmFsIiE9PWUuZXhwcmVzc2lvbi50eXBlfHwic3RyaW5nIiE9dHlwZW9mIGUuZXhwcmVzc2lvbi52YWx1ZXx8ZS5leHByZXNzaW9uLmV4dHJhJiZlLmV4cHJlc3Npb24uZXh0cmEucGFyZW50aGVzaXplZCl9fSksZS5leHRlbmQoInN0bXRUb0RpcmVjdGl2ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPWUuY2FsbCh0aGlzLHQpLG49dC5leHByZXNzaW9uLnZhbHVlO3JldHVybiByLnZhbHVlLnZhbHVlPW4scn19KSxlLmV4dGVuZCgicGFyc2VCbG9ja0JvZHkiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheShuPjE/bi0xOjApLHM9MTtzPG47cysrKWlbcy0xXT1hcmd1bWVudHNbc107ZS5jYWxsLmFwcGx5KGUsW3RoaXMsdF0uY29uY2F0KGkpKSx0LmRpcmVjdGl2ZXMucmV2ZXJzZSgpLmZvckVhY2goZnVuY3Rpb24oZSl7dC5ib2R5LnVuc2hpZnQoci5kaXJlY3RpdmVUb1N0bXQoZSkpfSksZGVsZXRlIHQuZGlyZWN0aXZlc319KSxlLmV4dGVuZCgicGFyc2VDbGFzc01ldGhvZCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5wYXJzZU1ldGhvZCh0LHIsbiksdC50eXBlUGFyYW1ldGVycyYmKHQudmFsdWUudHlwZVBhcmFtZXRlcnM9dC50eXBlUGFyYW1ldGVycyxkZWxldGUgdC50eXBlUGFyYW1ldGVycyksZS5ib2R5LnB1c2godGhpcy5maW5pc2hOb2RlKHQsIk1ldGhvZERlZmluaXRpb24iKSl9fSksZS5leHRlbmQoInBhcnNlRXhwckF0b20iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3N3aXRjaCh0aGlzLnN0YXRlLnR5cGUpe2Nhc2UgUi5yZWdleHA6cmV0dXJuIHRoaXMuZXN0cmVlUGFyc2VSZWdFeHBMaXRlcmFsKHRoaXMuc3RhdGUudmFsdWUpO2Nhc2UgUi5udW06Y2FzZSBSLnN0cmluZzpyZXR1cm4gdGhpcy5lc3RyZWVQYXJzZUxpdGVyYWwodGhpcy5zdGF0ZS52YWx1ZSk7Y2FzZSBSLl9udWxsOnJldHVybiB0aGlzLmVzdHJlZVBhcnNlTGl0ZXJhbChudWxsKTtjYXNlIFIuX3RydWU6cmV0dXJuIHRoaXMuZXN0cmVlUGFyc2VMaXRlcmFsKCEwKTtjYXNlIFIuX2ZhbHNlOnJldHVybiB0aGlzLmVzdHJlZVBhcnNlTGl0ZXJhbCghMSk7ZGVmYXVsdDpmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQpLG49MDtuPHQ7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiBlLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHIpKX19fSksZS5leHRlbmQoInBhcnNlTGl0ZXJhbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWFyZ3VtZW50c1tuXTt2YXIgaT1lLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHIpKTtyZXR1cm4gaS5yYXc9aS5leHRyYS5yYXcsZGVsZXRlIGkuZXh0cmEsaX19KSxlLmV4dGVuZCgicGFyc2VNZXRob2QiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgcj10aGlzLnN0YXJ0Tm9kZSgpO3Iua2luZD10LmtpbmQ7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheShuPjE/bi0xOjApLHM9MTtzPG47cysrKWlbcy0xXT1hcmd1bWVudHNbc107cmV0dXJuIHI9ZS5jYWxsLmFwcGx5KGUsW3RoaXMscl0uY29uY2F0KGkpKSxkZWxldGUgci5raW5kLHQudmFsdWU9dGhpcy5maW5pc2hOb2RlKHIsIkZ1bmN0aW9uRXhwcmVzc2lvbiIpLHR9fSksZS5leHRlbmQoInBhcnNlT2JqZWN0TWV0aG9kIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQpLG49MDtuPHQ7bisrKXJbbl09YXJndW1lbnRzW25dO3ZhciBpPWUuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQocikpO3JldHVybiBpJiYoIm1ldGhvZCI9PT1pLmtpbmQmJihpLmtpbmQ9ImluaXQiKSxpLnR5cGU9IlByb3BlcnR5IiksaX19KSxlLmV4dGVuZCgicGFyc2VPYmplY3RQcm9wZXJ0eSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWFyZ3VtZW50c1tuXTt2YXIgaT1lLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHIpKTtyZXR1cm4gaSYmKGkua2luZD0iaW5pdCIsaS50eXBlPSJQcm9wZXJ0eSIpLGl9fSksZS5leHRlbmQoInRvQXNzaWduYWJsZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheShuPjI/bi0yOjApLHM9MjtzPG47cysrKWlbcy0yXT1hcmd1bWVudHNbc107aWYocCh0KSlyZXR1cm4gdGhpcy50b0Fzc2lnbmFibGUuYXBwbHkodGhpcyxbdC52YWx1ZSxyXS5jb25jYXQoaSkpLHQ7aWYoIk9iamVjdEV4cHJlc3Npb24iPT09dC50eXBlKXt0LnR5cGU9Ik9iamVjdFBhdHRlcm4iO2Zvcih2YXIgYT10LnByb3BlcnRpZXMsbz1BcnJheS5pc0FycmF5KGEpLHU9MCxhPW8/YTphW1N5bWJvbC5pdGVyYXRvcl0oKTs7KXt2YXIgbDtpZihvKXtpZih1Pj1hLmxlbmd0aClicmVhaztsPWFbdSsrXX1lbHNle2lmKHU9YS5uZXh0KCksdS5kb25lKWJyZWFrO2w9dS52YWx1ZX12YXIgYz1sOyJnZXQiPT09Yy5raW5kfHwic2V0Ij09PWMua2luZD90aGlzLnJhaXNlKGMua2V5LnN0YXJ0LCJPYmplY3QgcGF0dGVybiBjYW4ndCBjb250YWluIGdldHRlciBvciBzZXR0ZXIiKTpjLm1ldGhvZD90aGlzLnJhaXNlKGMua2V5LnN0YXJ0LCJPYmplY3QgcGF0dGVybiBjYW4ndCBjb250YWluIG1ldGhvZHMiKTp0aGlzLnRvQXNzaWduYWJsZShjLHIsIm9iamVjdCBkZXN0cnVjdHVyaW5nIHBhdHRlcm4iKX1yZXR1cm4gdH1yZXR1cm4gZS5jYWxsLmFwcGx5KGUsW3RoaXMsdCxyXS5jb25jYXQoaSkpfX0pfSx1ZT1bImFueSIsIm1peGVkIiwiZW1wdHkiLCJib29sIiwiYm9vbGVhbiIsIm51bWJlciIsInN0cmluZyIsInZvaWQiLCJudWxsIl0sbGU9Si5wcm90b3R5cGU7bGUuZmxvd1BhcnNlVHlwZUluaXRpYWxpc2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhdGUuaW5UeXBlO3RoaXMuc3RhdGUuaW5UeXBlPSEwLHRoaXMuZXhwZWN0KGV8fFIuY29sb24pO3ZhciByPXRoaXMuZmxvd1BhcnNlVHlwZSgpO3JldHVybiB0aGlzLnN0YXRlLmluVHlwZT10LHJ9LGxlLmZsb3dQYXJzZVByZWRpY2F0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCksdD10aGlzLnN0YXRlLnN0YXJ0TG9jLHI9dGhpcy5zdGF0ZS5zdGFydDt0aGlzLmV4cGVjdChSLm1vZHVsbyk7dmFyIG49dGhpcy5zdGF0ZS5zdGFydExvYztyZXR1cm4gdGhpcy5leHBlY3RDb250ZXh0dWFsKCJjaGVja3MiKSx0LmxpbmU9PT1uLmxpbmUmJnQuY29sdW1uPT09bi5jb2x1bW4tMXx8dGhpcy5yYWlzZShyLCJTcGFjZXMgYmV0d2VlbiDCtCXCtCBhbmQgwrRjaGVja3PCtCBhcmUgbm90IGFsbG93ZWQgaGVyZS4iKSx0aGlzLmVhdChSLnBhcmVuTCk/KGUuZXhwcmVzc2lvbj10aGlzLnBhcnNlRXhwcmVzc2lvbigpLHRoaXMuZXhwZWN0KFIucGFyZW5SKSx0aGlzLmZpbmlzaE5vZGUoZSwiRGVjbGFyZWRQcmVkaWNhdGUiKSk6dGhpcy5maW5pc2hOb2RlKGUsIkluZmVycmVkUHJlZGljYXRlIil9LGxlLmZsb3dQYXJzZVR5cGVBbmRQcmVkaWNhdGVJbml0aWFsaXNlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUuaW5UeXBlO3RoaXMuc3RhdGUuaW5UeXBlPSEwLHRoaXMuZXhwZWN0KFIuY29sb24pO3ZhciB0PW51bGwscj1udWxsO3JldHVybiB0aGlzLm1hdGNoKFIubW9kdWxvKT8odGhpcy5zdGF0ZS5pblR5cGU9ZSxyPXRoaXMuZmxvd1BhcnNlUHJlZGljYXRlKCkpOih0PXRoaXMuZmxvd1BhcnNlVHlwZSgpLHRoaXMuc3RhdGUuaW5UeXBlPWUsdGhpcy5tYXRjaChSLm1vZHVsbykmJihyPXRoaXMuZmxvd1BhcnNlUHJlZGljYXRlKCkpKSxbdCxyXX0sbGUuZmxvd1BhcnNlRGVjbGFyZUNsYXNzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoKSx0aGlzLmZsb3dQYXJzZUludGVyZmFjZWlzaChlLCEwKSx0aGlzLmZpbmlzaE5vZGUoZSwiRGVjbGFyZUNsYXNzIil9LGxlLmZsb3dQYXJzZURlY2xhcmVGdW5jdGlvbj1mdW5jdGlvbihlKXt0aGlzLm5leHQoKTt2YXIgdD1lLmlkPXRoaXMucGFyc2VJZGVudGlmaWVyKCkscj10aGlzLnN0YXJ0Tm9kZSgpLG49dGhpcy5zdGFydE5vZGUoKTt0aGlzLmlzUmVsYXRpb25hbCgiPCIpP3IudHlwZVBhcmFtZXRlcnM9dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb24oKTpyLnR5cGVQYXJhbWV0ZXJzPW51bGwsdGhpcy5leHBlY3QoUi5wYXJlbkwpO3ZhciBpPXRoaXMuZmxvd1BhcnNlRnVuY3Rpb25UeXBlUGFyYW1zKCk7ci5wYXJhbXM9aS5wYXJhbXMsci5yZXN0PWkucmVzdCx0aGlzLmV4cGVjdChSLnBhcmVuUik7dmFyIHM9bnVsbCxhPXRoaXMuZmxvd1BhcnNlVHlwZUFuZFByZWRpY2F0ZUluaXRpYWxpc2VyKCk7cmV0dXJuIHIucmV0dXJuVHlwZT1hWzBdLHM9YVsxXSxuLnR5cGVBbm5vdGF0aW9uPXRoaXMuZmluaXNoTm9kZShyLCJGdW5jdGlvblR5cGVBbm5vdGF0aW9uIiksbi5wcmVkaWNhdGU9cyx0LnR5cGVBbm5vdGF0aW9uPXRoaXMuZmluaXNoTm9kZShuLCJUeXBlQW5ub3RhdGlvbiIpLHRoaXMuZmluaXNoTm9kZSh0LHQudHlwZSksdGhpcy5zZW1pY29sb24oKSx0aGlzLmZpbmlzaE5vZGUoZSwiRGVjbGFyZUZ1bmN0aW9uIil9LGxlLmZsb3dQYXJzZURlY2xhcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWF0Y2goUi5fY2xhc3MpP3RoaXMuZmxvd1BhcnNlRGVjbGFyZUNsYXNzKGUpOnRoaXMubWF0Y2goUi5fZnVuY3Rpb24pP3RoaXMuZmxvd1BhcnNlRGVjbGFyZUZ1bmN0aW9uKGUpOnRoaXMubWF0Y2goUi5fdmFyKT90aGlzLmZsb3dQYXJzZURlY2xhcmVWYXJpYWJsZShlKTp0aGlzLmlzQ29udGV4dHVhbCgibW9kdWxlIik/dGhpcy5sb29rYWhlYWQoKS50eXBlPT09Ui5kb3Q/dGhpcy5mbG93UGFyc2VEZWNsYXJlTW9kdWxlRXhwb3J0cyhlKTp0aGlzLmZsb3dQYXJzZURlY2xhcmVNb2R1bGUoZSk6dGhpcy5pc0NvbnRleHR1YWwoInR5cGUiKT90aGlzLmZsb3dQYXJzZURlY2xhcmVUeXBlQWxpYXMoZSk6dGhpcy5pc0NvbnRleHR1YWwoIm9wYXF1ZSIpP3RoaXMuZmxvd1BhcnNlRGVjbGFyZU9wYXF1ZVR5cGUoZSk6dGhpcy5pc0NvbnRleHR1YWwoImludGVyZmFjZSIpP3RoaXMuZmxvd1BhcnNlRGVjbGFyZUludGVyZmFjZShlKTp0aGlzLm1hdGNoKFIuX2V4cG9ydCk/dGhpcy5mbG93UGFyc2VEZWNsYXJlRXhwb3J0RGVjbGFyYXRpb24oZSk6dm9pZCB0aGlzLnVuZXhwZWN0ZWQoKX0sbGUuZmxvd1BhcnNlRGVjbGFyZUV4cG9ydERlY2xhcmF0aW9uPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZXhwZWN0KFIuX2V4cG9ydCksdGhpcy5pc0NvbnRleHR1YWwoIm9wYXF1ZSIpKXJldHVybiBlLmRlY2xhcmF0aW9uPXRoaXMuZmxvd1BhcnNlRGVjbGFyZSh0aGlzLnN0YXJ0Tm9kZSgpKSxlLmRlZmF1bHQ9ITEsdGhpcy5maW5pc2hOb2RlKGUsIkRlY2xhcmVFeHBvcnREZWNsYXJhdGlvbiIpO3Rocm93IHRoaXMudW5leHBlY3RlZCgpfSxsZS5mbG93UGFyc2VEZWNsYXJlVmFyaWFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLGUuaWQ9dGhpcy5mbG93UGFyc2VUeXBlQW5ub3RhdGFibGVJZGVudGlmaWVyKCksdGhpcy5zZW1pY29sb24oKSx0aGlzLmZpbmlzaE5vZGUoZSwiRGVjbGFyZVZhcmlhYmxlIil9LGxlLmZsb3dQYXJzZURlY2xhcmVNb2R1bGU9ZnVuY3Rpb24oZSl7dGhpcy5uZXh0KCksdGhpcy5tYXRjaChSLnN0cmluZyk/ZS5pZD10aGlzLnBhcnNlRXhwckF0b20oKTplLmlkPXRoaXMucGFyc2VJZGVudGlmaWVyKCk7dmFyIHQ9ZS5ib2R5PXRoaXMuc3RhcnROb2RlKCkscj10LmJvZHk9W107Zm9yKHRoaXMuZXhwZWN0KFIuYnJhY2VMKTshdGhpcy5tYXRjaChSLmJyYWNlUik7KXt2YXIgbj10aGlzLnN0YXJ0Tm9kZSgpO2lmKHRoaXMubWF0Y2goUi5faW1wb3J0KSl7dmFyIGk9dGhpcy5sb29rYWhlYWQoKTsidHlwZSIhPT1pLnZhbHVlJiYidHlwZW9mIiE9PWkudmFsdWUmJnRoaXMudW5leHBlY3RlZChudWxsLCJJbXBvcnRzIHdpdGhpbiBhIGBkZWNsYXJlIG1vZHVsZWAgYm9keSBtdXN0IGFsd2F5cyBiZSBgaW1wb3J0IHR5cGVgIG9yIGBpbXBvcnQgdHlwZW9mYCIpLHRoaXMucGFyc2VJbXBvcnQobil9ZWxzZSB0aGlzLmV4cGVjdENvbnRleHR1YWwoImRlY2xhcmUiLCJPbmx5IGRlY2xhcmVzIGFuZCB0eXBlIGltcG9ydHMgYXJlIGFsbG93ZWQgaW5zaWRlIGRlY2xhcmUgbW9kdWxlIiksbj10aGlzLmZsb3dQYXJzZURlY2xhcmUobiwhMCk7ci5wdXNoKG4pfXJldHVybiB0aGlzLmV4cGVjdChSLmJyYWNlUiksdGhpcy5maW5pc2hOb2RlKHQsIkJsb2NrU3RhdGVtZW50IiksdGhpcy5maW5pc2hOb2RlKGUsIkRlY2xhcmVNb2R1bGUiKX0sbGUuZmxvd1BhcnNlRGVjbGFyZU1vZHVsZUV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZXhwZWN0Q29udGV4dHVhbCgibW9kdWxlIiksdGhpcy5leHBlY3QoUi5kb3QpLHRoaXMuZXhwZWN0Q29udGV4dHVhbCgiZXhwb3J0cyIpLGUudHlwZUFubm90YXRpb249dGhpcy5mbG93UGFyc2VUeXBlQW5ub3RhdGlvbigpLHRoaXMuc2VtaWNvbG9uKCksdGhpcy5maW5pc2hOb2RlKGUsIkRlY2xhcmVNb2R1bGVFeHBvcnRzIil9LGxlLmZsb3dQYXJzZURlY2xhcmVUeXBlQWxpYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZmxvd1BhcnNlVHlwZUFsaWFzKGUpLHRoaXMuZmluaXNoTm9kZShlLCJEZWNsYXJlVHlwZUFsaWFzIil9LGxlLmZsb3dQYXJzZURlY2xhcmVPcGFxdWVUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm5leHQoKSx0aGlzLmZsb3dQYXJzZU9wYXF1ZVR5cGUoZSwhMCksdGhpcy5maW5pc2hOb2RlKGUsIkRlY2xhcmVPcGFxdWVUeXBlIil9LGxlLmZsb3dQYXJzZURlY2xhcmVJbnRlcmZhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZmxvd1BhcnNlSW50ZXJmYWNlaXNoKGUpLHRoaXMuZmluaXNoTm9kZShlLCJEZWNsYXJlSW50ZXJmYWNlIil9LGxlLmZsb3dQYXJzZUludGVyZmFjZWlzaD1mdW5jdGlvbihlKXtpZihlLmlkPXRoaXMucGFyc2VJZGVudGlmaWVyKCksdGhpcy5pc1JlbGF0aW9uYWwoIjwiKT9lLnR5cGVQYXJhbWV0ZXJzPXRoaXMuZmxvd1BhcnNlVHlwZVBhcmFtZXRlckRlY2xhcmF0aW9uKCk6ZS50eXBlUGFyYW1ldGVycz1udWxsLGUuZXh0ZW5kcz1bXSxlLm1peGlucz1bXSx0aGlzLmVhdChSLl9leHRlbmRzKSlkb3tlLmV4dGVuZHMucHVzaCh0aGlzLmZsb3dQYXJzZUludGVyZmFjZUV4dGVuZHMoKSl9d2hpbGUodGhpcy5lYXQoUi5jb21tYSkpO2lmKHRoaXMuaXNDb250ZXh0dWFsKCJtaXhpbnMiKSl7dGhpcy5uZXh0KCk7ZG97ZS5taXhpbnMucHVzaCh0aGlzLmZsb3dQYXJzZUludGVyZmFjZUV4dGVuZHMoKSl9d2hpbGUodGhpcy5lYXQoUi5jb21tYSkpfWUuYm9keT10aGlzLmZsb3dQYXJzZU9iamVjdFR5cGUoITAsITEsITEpfSxsZS5mbG93UGFyc2VJbnRlcmZhY2VFeHRlbmRzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGFydE5vZGUoKTtyZXR1cm4gZS5pZD10aGlzLmZsb3dQYXJzZVF1YWxpZmllZFR5cGVJZGVudGlmaWVyKCksdGhpcy5pc1JlbGF0aW9uYWwoIjwiKT9lLnR5cGVQYXJhbWV0ZXJzPXRoaXMuZmxvd1BhcnNlVHlwZVBhcmFtZXRlckluc3RhbnRpYXRpb24oKTplLnR5cGVQYXJhbWV0ZXJzPW51bGwsdGhpcy5maW5pc2hOb2RlKGUsIkludGVyZmFjZUV4dGVuZHMiKX0sbGUuZmxvd1BhcnNlSW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZsb3dQYXJzZUludGVyZmFjZWlzaChlLCExKSx0aGlzLmZpbmlzaE5vZGUoZSwiSW50ZXJmYWNlRGVjbGFyYXRpb24iKX0sbGUuZmxvd1BhcnNlUmVzdHJpY3RlZElkZW50aWZpZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHVlLmluZGV4T2YodGhpcy5zdGF0ZS52YWx1ZSk+LTEmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiQ2Fubm90IG92ZXJ3cml0ZSBwcmltaXRpdmUgdHlwZSAiK3RoaXMuc3RhdGUudmFsdWUpLHRoaXMucGFyc2VJZGVudGlmaWVyKGUpfSxsZS5mbG93UGFyc2VUeXBlQWxpYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWQ9dGhpcy5mbG93UGFyc2VSZXN0cmljdGVkSWRlbnRpZmllcigpLHRoaXMuaXNSZWxhdGlvbmFsKCI8Iik/ZS50eXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbigpOmUudHlwZVBhcmFtZXRlcnM9bnVsbCxlLnJpZ2h0PXRoaXMuZmxvd1BhcnNlVHlwZUluaXRpYWxpc2VyKFIuZXEpLHRoaXMuc2VtaWNvbG9uKCksdGhpcy5maW5pc2hOb2RlKGUsIlR5cGVBbGlhcyIpfSxsZS5mbG93UGFyc2VPcGFxdWVUeXBlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuZXhwZWN0Q29udGV4dHVhbCgidHlwZSIpLGUuaWQ9dGhpcy5mbG93UGFyc2VSZXN0cmljdGVkSWRlbnRpZmllcigpLHRoaXMuaXNSZWxhdGlvbmFsKCI8Iik/ZS50eXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbigpOmUudHlwZVBhcmFtZXRlcnM9bnVsbCxlLnN1cGVydHlwZT1udWxsLHRoaXMubWF0Y2goUi5jb2xvbikmJihlLnN1cGVydHlwZT10aGlzLmZsb3dQYXJzZVR5cGVJbml0aWFsaXNlcihSLmNvbG9uKSksZS5pbXBsdHlwZT1udWxsLHR8fChlLmltcGx0eXBlPXRoaXMuZmxvd1BhcnNlVHlwZUluaXRpYWxpc2VyKFIuZXEpKSx0aGlzLnNlbWljb2xvbigpLHRoaXMuZmluaXNoTm9kZShlLCJPcGFxdWVUeXBlIil9LGxlLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpLHQ9dGhpcy5mbG93UGFyc2VWYXJpYW5jZSgpLHI9dGhpcy5mbG93UGFyc2VUeXBlQW5ub3RhdGFibGVJZGVudGlmaWVyKCk7cmV0dXJuIGUubmFtZT1yLm5hbWUsZS52YXJpYW5jZT10LGUuYm91bmQ9ci50eXBlQW5ub3RhdGlvbix0aGlzLm1hdGNoKFIuZXEpJiYodGhpcy5lYXQoUi5lcSksZS5kZWZhdWx0PXRoaXMuZmxvd1BhcnNlVHlwZSgpKSx0aGlzLmZpbmlzaE5vZGUoZSwiVHlwZVBhcmFtZXRlciIpfSxsZS5mbG93UGFyc2VUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLmluVHlwZSx0PXRoaXMuc3RhcnROb2RlKCk7dC5wYXJhbXM9W10sdGhpcy5zdGF0ZS5pblR5cGU9ITAsdGhpcy5pc1JlbGF0aW9uYWwoIjwiKXx8dGhpcy5tYXRjaChSLmpzeFRhZ1N0YXJ0KT90aGlzLm5leHQoKTp0aGlzLnVuZXhwZWN0ZWQoKTtkb3t0LnBhcmFtcy5wdXNoKHRoaXMuZmxvd1BhcnNlVHlwZVBhcmFtZXRlcigpKSx0aGlzLmlzUmVsYXRpb25hbCgiPiIpfHx0aGlzLmV4cGVjdChSLmNvbW1hKX13aGlsZSghdGhpcy5pc1JlbGF0aW9uYWwoIj4iKSk7cmV0dXJuIHRoaXMuZXhwZWN0UmVsYXRpb25hbCgiPiIpLHRoaXMuc3RhdGUuaW5UeXBlPWUsdGhpcy5maW5pc2hOb2RlKHQsIlR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbiIpfSxsZS5mbG93UGFyc2VUeXBlUGFyYW1ldGVySW5zdGFudGlhdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCksdD10aGlzLnN0YXRlLmluVHlwZTtmb3IoZS5wYXJhbXM9W10sdGhpcy5zdGF0ZS5pblR5cGU9ITAsdGhpcy5leHBlY3RSZWxhdGlvbmFsKCI8Iik7IXRoaXMuaXNSZWxhdGlvbmFsKCI+Iik7KWUucGFyYW1zLnB1c2godGhpcy5mbG93UGFyc2VUeXBlKCkpLHRoaXMuaXNSZWxhdGlvbmFsKCI+Iil8fHRoaXMuZXhwZWN0KFIuY29tbWEpO3JldHVybiB0aGlzLmV4cGVjdFJlbGF0aW9uYWwoIj4iKSx0aGlzLnN0YXRlLmluVHlwZT10LHRoaXMuZmluaXNoTm9kZShlLCJUeXBlUGFyYW1ldGVySW5zdGFudGlhdGlvbiIpfSxsZS5mbG93UGFyc2VPYmplY3RQcm9wZXJ0eUtleT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKFIubnVtKXx8dGhpcy5tYXRjaChSLnN0cmluZyk/dGhpcy5wYXJzZUV4cHJBdG9tKCk6dGhpcy5wYXJzZUlkZW50aWZpZXIoITApfSxsZS5mbG93UGFyc2VPYmplY3RUeXBlSW5kZXhlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUuc3RhdGljPXQsdGhpcy5leHBlY3QoUi5icmFja2V0TCksdGhpcy5sb29rYWhlYWQoKS50eXBlPT09Ui5jb2xvbj8oZS5pZD10aGlzLmZsb3dQYXJzZU9iamVjdFByb3BlcnR5S2V5KCksZS5rZXk9dGhpcy5mbG93UGFyc2VUeXBlSW5pdGlhbGlzZXIoKSk6KGUuaWQ9bnVsbCxlLmtleT10aGlzLmZsb3dQYXJzZVR5cGUoKSksdGhpcy5leHBlY3QoUi5icmFja2V0UiksZS52YWx1ZT10aGlzLmZsb3dQYXJzZVR5cGVJbml0aWFsaXNlcigpLGUudmFyaWFuY2U9cix0aGlzLmZsb3dPYmplY3RUeXBlU2VtaWNvbG9uKCksdGhpcy5maW5pc2hOb2RlKGUsIk9iamVjdFR5cGVJbmRleGVyIil9LGxlLmZsb3dQYXJzZU9iamVjdFR5cGVNZXRob2Rpc2g9ZnVuY3Rpb24oZSl7Zm9yKGUucGFyYW1zPVtdLGUucmVzdD1udWxsLGUudHlwZVBhcmFtZXRlcnM9bnVsbCx0aGlzLmlzUmVsYXRpb25hbCgiPCIpJiYoZS50eXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbigpKSx0aGlzLmV4cGVjdChSLnBhcmVuTCk7IXRoaXMubWF0Y2goUi5wYXJlblIpJiYhdGhpcy5tYXRjaChSLmVsbGlwc2lzKTspZS5wYXJhbXMucHVzaCh0aGlzLmZsb3dQYXJzZUZ1bmN0aW9uVHlwZVBhcmFtKCkpLHRoaXMubWF0Y2goUi5wYXJlblIpfHx0aGlzLmV4cGVjdChSLmNvbW1hKTtyZXR1cm4gdGhpcy5lYXQoUi5lbGxpcHNpcykmJihlLnJlc3Q9dGhpcy5mbG93UGFyc2VGdW5jdGlvblR5cGVQYXJhbSgpKSx0aGlzLmV4cGVjdChSLnBhcmVuUiksZS5yZXR1cm5UeXBlPXRoaXMuZmxvd1BhcnNlVHlwZUluaXRpYWxpc2VyKCksdGhpcy5maW5pc2hOb2RlKGUsIkZ1bmN0aW9uVHlwZUFubm90YXRpb24iKX0sbGUuZmxvd1BhcnNlT2JqZWN0VHlwZU1ldGhvZD1mdW5jdGlvbihlLHQscixuKXt2YXIgaT10aGlzLnN0YXJ0Tm9kZUF0KGUsdCk7cmV0dXJuIGkudmFsdWU9dGhpcy5mbG93UGFyc2VPYmplY3RUeXBlTWV0aG9kaXNoKHRoaXMuc3RhcnROb2RlQXQoZSx0KSksaS5zdGF0aWM9cixpLmtleT1uLGkub3B0aW9uYWw9ITEsdGhpcy5mbG93T2JqZWN0VHlwZVNlbWljb2xvbigpLHRoaXMuZmluaXNoTm9kZShpLCJPYmplY3RUeXBlUHJvcGVydHkiKX0sbGUuZmxvd1BhcnNlT2JqZWN0VHlwZUNhbGxQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIGUuc3RhdGljPXQsZS52YWx1ZT10aGlzLmZsb3dQYXJzZU9iamVjdFR5cGVNZXRob2Rpc2gociksdGhpcy5mbG93T2JqZWN0VHlwZVNlbWljb2xvbigpLHRoaXMuZmluaXNoTm9kZShlLCJPYmplY3RUeXBlQ2FsbFByb3BlcnR5Iil9LGxlLmZsb3dQYXJzZU9iamVjdFR5cGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuc3RhdGUuaW5UeXBlO3RoaXMuc3RhdGUuaW5UeXBlPSEwO3ZhciBpPXRoaXMuc3RhcnROb2RlKCkscz12b2lkIDAsYT12b2lkIDAsbz0hMTtpLmNhbGxQcm9wZXJ0aWVzPVtdLGkucHJvcGVydGllcz1bXSxpLmluZGV4ZXJzPVtdO3ZhciB1PXZvaWQgMCxsPXZvaWQgMDtmb3IodCYmdGhpcy5tYXRjaChSLmJyYWNlQmFyTCk/KHRoaXMuZXhwZWN0KFIuYnJhY2VCYXJMKSx1PVIuYnJhY2VCYXJSLGw9ITApOih0aGlzLmV4cGVjdChSLmJyYWNlTCksdT1SLmJyYWNlUixsPSExKSxpLmV4YWN0PWw7IXRoaXMubWF0Y2godSk7KXt2YXIgYz0hMSxmPXRoaXMuc3RhdGUuc3RhcnQscD10aGlzLnN0YXRlLnN0YXJ0TG9jO3M9dGhpcy5zdGFydE5vZGUoKSxlJiZ0aGlzLmlzQ29udGV4dHVhbCgic3RhdGljIikmJnRoaXMubG9va2FoZWFkKCkudHlwZSE9PVIuY29sb24mJih0aGlzLm5leHQoKSxvPSEwKTt2YXIgZD10aGlzLnN0YXRlLnN0YXJ0LGg9dGhpcy5mbG93UGFyc2VWYXJpYW5jZSgpO3RoaXMubWF0Y2goUi5icmFja2V0TCk/aS5pbmRleGVycy5wdXNoKHRoaXMuZmxvd1BhcnNlT2JqZWN0VHlwZUluZGV4ZXIocyxvLGgpKTp0aGlzLm1hdGNoKFIucGFyZW5MKXx8dGhpcy5pc1JlbGF0aW9uYWwoIjwiKT8oaCYmdGhpcy51bmV4cGVjdGVkKGQpLGkuY2FsbFByb3BlcnRpZXMucHVzaCh0aGlzLmZsb3dQYXJzZU9iamVjdFR5cGVDYWxsUHJvcGVydHkocyxvKSkpOnRoaXMubWF0Y2goUi5lbGxpcHNpcyk/KHJ8fHRoaXMudW5leHBlY3RlZChudWxsLCJTcHJlYWQgb3BlcmF0b3IgY2Fubm90IGFwcGVhciBpbiBjbGFzcyBvciBpbnRlcmZhY2UgZGVmaW5pdGlvbnMiKSxoJiZ0aGlzLnVuZXhwZWN0ZWQoaC5zdGFydCwiU3ByZWFkIHByb3BlcnRpZXMgY2Fubm90IGhhdmUgdmFyaWFuY2UiKSx0aGlzLmV4cGVjdChSLmVsbGlwc2lzKSxzLmFyZ3VtZW50PXRoaXMuZmxvd1BhcnNlVHlwZSgpLHRoaXMuZmxvd09iamVjdFR5cGVTZW1pY29sb24oKSxpLnByb3BlcnRpZXMucHVzaCh0aGlzLmZpbmlzaE5vZGUocywiT2JqZWN0VHlwZVNwcmVhZFByb3BlcnR5IikpKTooYT10aGlzLmZsb3dQYXJzZU9iamVjdFByb3BlcnR5S2V5KCksdGhpcy5pc1JlbGF0aW9uYWwoIjwiKXx8dGhpcy5tYXRjaChSLnBhcmVuTCk/KGgmJnRoaXMudW5leHBlY3RlZChoLnN0YXJ0KSxpLnByb3BlcnRpZXMucHVzaCh0aGlzLmZsb3dQYXJzZU9iamVjdFR5cGVNZXRob2QoZixwLG8sYSkpKToodGhpcy5lYXQoUi5xdWVzdGlvbikmJihjPSEwKSxzLmtleT1hLHMudmFsdWU9dGhpcy5mbG93UGFyc2VUeXBlSW5pdGlhbGlzZXIoKSxzLm9wdGlvbmFsPWMscy5zdGF0aWM9byxzLnZhcmlhbmNlPWgsdGhpcy5mbG93T2JqZWN0VHlwZVNlbWljb2xvbigpLGkucHJvcGVydGllcy5wdXNoKHRoaXMuZmluaXNoTm9kZShzLCJPYmplY3RUeXBlUHJvcGVydHkiKSkpKSxvPSExfXRoaXMuZXhwZWN0KHUpO3ZhciBtPXRoaXMuZmluaXNoTm9kZShpLCJPYmplY3RUeXBlQW5ub3RhdGlvbiIpO3JldHVybiB0aGlzLnN0YXRlLmluVHlwZT1uLG19LGxlLmZsb3dPYmplY3RUeXBlU2VtaWNvbG9uPWZ1bmN0aW9uKCl7dGhpcy5lYXQoUi5zZW1pKXx8dGhpcy5lYXQoUi5jb21tYSl8fHRoaXMubWF0Y2goUi5icmFjZVIpfHx0aGlzLm1hdGNoKFIuYnJhY2VCYXJSKXx8dGhpcy51bmV4cGVjdGVkKCl9LGxlLmZsb3dQYXJzZVF1YWxpZmllZFR5cGVJZGVudGlmaWVyPWZ1bmN0aW9uKGUsdCxyKXtlPWV8fHRoaXMuc3RhdGUuc3RhcnQsdD10fHx0aGlzLnN0YXRlLnN0YXJ0TG9jO2Zvcih2YXIgbj1yfHx0aGlzLnBhcnNlSWRlbnRpZmllcigpO3RoaXMuZWF0KFIuZG90KTspe3ZhciBpPXRoaXMuc3RhcnROb2RlQXQoZSx0KTtpLnF1YWxpZmljYXRpb249bixpLmlkPXRoaXMucGFyc2VJZGVudGlmaWVyKCksbj10aGlzLmZpbmlzaE5vZGUoaSwiUXVhbGlmaWVkVHlwZUlkZW50aWZpZXIiKX1yZXR1cm4gbn0sbGUuZmxvd1BhcnNlR2VuZXJpY1R5cGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuc3RhcnROb2RlQXQoZSx0KTtyZXR1cm4gbi50eXBlUGFyYW1ldGVycz1udWxsLG4uaWQ9dGhpcy5mbG93UGFyc2VRdWFsaWZpZWRUeXBlSWRlbnRpZmllcihlLHQsciksdGhpcy5pc1JlbGF0aW9uYWwoIjwiKSYmKG4udHlwZVBhcmFtZXRlcnM9dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVySW5zdGFudGlhdGlvbigpKSx0aGlzLmZpbmlzaE5vZGUobiwiR2VuZXJpY1R5cGVBbm5vdGF0aW9uIil9LGxlLmZsb3dQYXJzZVR5cGVvZlR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpO3JldHVybiB0aGlzLmV4cGVjdChSLl90eXBlb2YpLGUuYXJndW1lbnQ9dGhpcy5mbG93UGFyc2VQcmltYXJ5VHlwZSgpLHRoaXMuZmluaXNoTm9kZShlLCJUeXBlb2ZUeXBlQW5ub3RhdGlvbiIpfSxsZS5mbG93UGFyc2VUdXBsZVR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpO2ZvcihlLnR5cGVzPVtdLHRoaXMuZXhwZWN0KFIuYnJhY2tldEwpO3RoaXMuc3RhdGUucG9zPHRoaXMuaW5wdXQubGVuZ3RoJiYhdGhpcy5tYXRjaChSLmJyYWNrZXRSKSYmKGUudHlwZXMucHVzaCh0aGlzLmZsb3dQYXJzZVR5cGUoKSksIXRoaXMubWF0Y2goUi5icmFja2V0UikpOyl0aGlzLmV4cGVjdChSLmNvbW1hKTtyZXR1cm4gdGhpcy5leHBlY3QoUi5icmFja2V0UiksdGhpcy5maW5pc2hOb2RlKGUsIlR1cGxlVHlwZUFubm90YXRpb24iKX0sbGUuZmxvd1BhcnNlRnVuY3Rpb25UeXBlUGFyYW09ZnVuY3Rpb24oKXt2YXIgZT1udWxsLHQ9ITEscj1udWxsLG49dGhpcy5zdGFydE5vZGUoKSxpPXRoaXMubG9va2FoZWFkKCk7cmV0dXJuIGkudHlwZT09PVIuY29sb258fGkudHlwZT09PVIucXVlc3Rpb24/KGU9dGhpcy5wYXJzZUlkZW50aWZpZXIoKSx0aGlzLmVhdChSLnF1ZXN0aW9uKSYmKHQ9ITApLHI9dGhpcy5mbG93UGFyc2VUeXBlSW5pdGlhbGlzZXIoKSk6cj10aGlzLmZsb3dQYXJzZVR5cGUoKSxuLm5hbWU9ZSxuLm9wdGlvbmFsPXQsbi50eXBlQW5ub3RhdGlvbj1yLHRoaXMuZmluaXNoTm9kZShuLCJGdW5jdGlvblR5cGVQYXJhbSIpfSxsZS5yZWludGVycHJldFR5cGVBc0Z1bmN0aW9uVHlwZVBhcmFtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlQXQoZS5zdGFydCxlLmxvYy5zdGFydCk7cmV0dXJuIHQubmFtZT1udWxsLHQub3B0aW9uYWw9ITEsdC50eXBlQW5ub3RhdGlvbj1lLHRoaXMuZmluaXNoTm9kZSh0LCJGdW5jdGlvblR5cGVQYXJhbSIpfSxsZS5mbG93UGFyc2VGdW5jdGlvblR5cGVQYXJhbXM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHQ9e3BhcmFtczplLHJlc3Q6bnVsbH07IXRoaXMubWF0Y2goUi5wYXJlblIpJiYhdGhpcy5tYXRjaChSLmVsbGlwc2lzKTspdC5wYXJhbXMucHVzaCh0aGlzLmZsb3dQYXJzZUZ1bmN0aW9uVHlwZVBhcmFtKCkpLHRoaXMubWF0Y2goUi5wYXJlblIpfHx0aGlzLmV4cGVjdChSLmNvbW1hKTtyZXR1cm4gdGhpcy5lYXQoUi5lbGxpcHNpcykmJih0LnJlc3Q9dGhpcy5mbG93UGFyc2VGdW5jdGlvblR5cGVQYXJhbSgpKSx0fSxsZS5mbG93SWRlbnRUb1R5cGVBbm5vdGF0aW9uPWZ1bmN0aW9uKGUsdCxyLG4pe3N3aXRjaChuLm5hbWUpe2Nhc2UiYW55IjpyZXR1cm4gdGhpcy5maW5pc2hOb2RlKHIsIkFueVR5cGVBbm5vdGF0aW9uIik7Y2FzZSJ2b2lkIjpyZXR1cm4gdGhpcy5maW5pc2hOb2RlKHIsIlZvaWRUeXBlQW5ub3RhdGlvbiIpO2Nhc2UiYm9vbCI6Y2FzZSJib29sZWFuIjpyZXR1cm4gdGhpcy5maW5pc2hOb2RlKHIsIkJvb2xlYW5UeXBlQW5ub3RhdGlvbiIpO2Nhc2UibWl4ZWQiOnJldHVybiB0aGlzLmZpbmlzaE5vZGUociwiTWl4ZWRUeXBlQW5ub3RhdGlvbiIpO2Nhc2UiZW1wdHkiOnJldHVybiB0aGlzLmZpbmlzaE5vZGUociwiRW1wdHlUeXBlQW5ub3RhdGlvbiIpO2Nhc2UibnVtYmVyIjpyZXR1cm4gdGhpcy5maW5pc2hOb2RlKHIsIk51bWJlclR5cGVBbm5vdGF0aW9uIik7Y2FzZSJzdHJpbmciOnJldHVybiB0aGlzLmZpbmlzaE5vZGUociwiU3RyaW5nVHlwZUFubm90YXRpb24iKTtkZWZhdWx0OnJldHVybiB0aGlzLmZsb3dQYXJzZUdlbmVyaWNUeXBlKGUsdCxuKX19LGxlLmZsb3dQYXJzZVByaW1hcnlUeXBlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS5zdGFydCx0PXRoaXMuc3RhdGUuc3RhcnRMb2Mscj10aGlzLnN0YXJ0Tm9kZSgpLG49dm9pZCAwLGk9dm9pZCAwLHM9ITEsYT10aGlzLnN0YXRlLm5vQW5vbkZ1bmN0aW9uVHlwZTtzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIFIubmFtZTpyZXR1cm4gdGhpcy5mbG93SWRlbnRUb1R5cGVBbm5vdGF0aW9uKGUsdCxyLHRoaXMucGFyc2VJZGVudGlmaWVyKCkpO2Nhc2UgUi5icmFjZUw6cmV0dXJuIHRoaXMuZmxvd1BhcnNlT2JqZWN0VHlwZSghMSwhMSwhMCk7Y2FzZSBSLmJyYWNlQmFyTDpyZXR1cm4gdGhpcy5mbG93UGFyc2VPYmplY3RUeXBlKCExLCEwLCEwKTtjYXNlIFIuYnJhY2tldEw6cmV0dXJuIHRoaXMuZmxvd1BhcnNlVHVwbGVUeXBlKCk7Y2FzZSBSLnJlbGF0aW9uYWw6aWYoIjwiPT09dGhpcy5zdGF0ZS52YWx1ZSlyZXR1cm4gci50eXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbigpLHRoaXMuZXhwZWN0KFIucGFyZW5MKSxuPXRoaXMuZmxvd1BhcnNlRnVuY3Rpb25UeXBlUGFyYW1zKCksci5wYXJhbXM9bi5wYXJhbXMsci5yZXN0PW4ucmVzdCx0aGlzLmV4cGVjdChSLnBhcmVuUiksdGhpcy5leHBlY3QoUi5hcnJvdyksci5yZXR1cm5UeXBlPXRoaXMuZmxvd1BhcnNlVHlwZSgpLHRoaXMuZmluaXNoTm9kZShyLCJGdW5jdGlvblR5cGVBbm5vdGF0aW9uIik7YnJlYWs7Y2FzZSBSLnBhcmVuTDppZih0aGlzLm5leHQoKSwhdGhpcy5tYXRjaChSLnBhcmVuUikmJiF0aGlzLm1hdGNoKFIuZWxsaXBzaXMpKWlmKHRoaXMubWF0Y2goUi5uYW1lKSl7dmFyIG89dGhpcy5sb29rYWhlYWQoKS50eXBlO3M9byE9PVIucXVlc3Rpb24mJm8hPT1SLmNvbG9ufWVsc2Ugcz0hMDtpZihzKXtpZih0aGlzLnN0YXRlLm5vQW5vbkZ1bmN0aW9uVHlwZT0hMSxpPXRoaXMuZmxvd1BhcnNlVHlwZSgpLHRoaXMuc3RhdGUubm9Bbm9uRnVuY3Rpb25UeXBlPWEsdGhpcy5zdGF0ZS5ub0Fub25GdW5jdGlvblR5cGV8fCEodGhpcy5tYXRjaChSLmNvbW1hKXx8dGhpcy5tYXRjaChSLnBhcmVuUikmJnRoaXMubG9va2FoZWFkKCkudHlwZT09PVIuYXJyb3cpKXJldHVybiB0aGlzLmV4cGVjdChSLnBhcmVuUiksaTt0aGlzLmVhdChSLmNvbW1hKX1yZXR1cm4gbj1pP3RoaXMuZmxvd1BhcnNlRnVuY3Rpb25UeXBlUGFyYW1zKFt0aGlzLnJlaW50ZXJwcmV0VHlwZUFzRnVuY3Rpb25UeXBlUGFyYW0oaSldKTp0aGlzLmZsb3dQYXJzZUZ1bmN0aW9uVHlwZVBhcmFtcygpLHIucGFyYW1zPW4ucGFyYW1zLHIucmVzdD1uLnJlc3QsdGhpcy5leHBlY3QoUi5wYXJlblIpLHRoaXMuZXhwZWN0KFIuYXJyb3cpLHIucmV0dXJuVHlwZT10aGlzLmZsb3dQYXJzZVR5cGUoKSxyLnR5cGVQYXJhbWV0ZXJzPW51bGwsdGhpcy5maW5pc2hOb2RlKHIsIkZ1bmN0aW9uVHlwZUFubm90YXRpb24iKTtjYXNlIFIuc3RyaW5nOnJldHVybiB0aGlzLnBhcnNlTGl0ZXJhbCh0aGlzLnN0YXRlLnZhbHVlLCJTdHJpbmdMaXRlcmFsVHlwZUFubm90YXRpb24iKTtjYXNlIFIuX3RydWU6Y2FzZSBSLl9mYWxzZTpyZXR1cm4gci52YWx1ZT10aGlzLm1hdGNoKFIuX3RydWUpLHRoaXMubmV4dCgpLHRoaXMuZmluaXNoTm9kZShyLCJCb29sZWFuTGl0ZXJhbFR5cGVBbm5vdGF0aW9uIik7Y2FzZSBSLnBsdXNNaW46aWYoIi0iPT09dGhpcy5zdGF0ZS52YWx1ZSlyZXR1cm4gdGhpcy5uZXh0KCksCnRoaXMubWF0Y2goUi5udW0pfHx0aGlzLnVuZXhwZWN0ZWQobnVsbCwiVW5leHBlY3RlZCB0b2tlbiwgZXhwZWN0ZWQgbnVtYmVyIiksdGhpcy5wYXJzZUxpdGVyYWwoLXRoaXMuc3RhdGUudmFsdWUsIk51bWVyaWNMaXRlcmFsVHlwZUFubm90YXRpb24iLHIuc3RhcnQsci5sb2Muc3RhcnQpO3RoaXMudW5leHBlY3RlZCgpO2Nhc2UgUi5udW06cmV0dXJuIHRoaXMucGFyc2VMaXRlcmFsKHRoaXMuc3RhdGUudmFsdWUsIk51bWVyaWNMaXRlcmFsVHlwZUFubm90YXRpb24iKTtjYXNlIFIuX251bGw6cmV0dXJuIHIudmFsdWU9dGhpcy5tYXRjaChSLl9udWxsKSx0aGlzLm5leHQoKSx0aGlzLmZpbmlzaE5vZGUociwiTnVsbExpdGVyYWxUeXBlQW5ub3RhdGlvbiIpO2Nhc2UgUi5fdGhpczpyZXR1cm4gci52YWx1ZT10aGlzLm1hdGNoKFIuX3RoaXMpLHRoaXMubmV4dCgpLHRoaXMuZmluaXNoTm9kZShyLCJUaGlzVHlwZUFubm90YXRpb24iKTtjYXNlIFIuc3RhcjpyZXR1cm4gdGhpcy5uZXh0KCksdGhpcy5maW5pc2hOb2RlKHIsIkV4aXN0ZW50aWFsVHlwZVBhcmFtIik7ZGVmYXVsdDppZigidHlwZW9mIj09PXRoaXMuc3RhdGUudHlwZS5rZXl3b3JkKXJldHVybiB0aGlzLmZsb3dQYXJzZVR5cGVvZlR5cGUoKX10aGlzLnVuZXhwZWN0ZWQoKX0sbGUuZmxvd1BhcnNlUG9zdGZpeFR5cGU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5zdGF0ZS5zdGFydCx0PXRoaXMuc3RhdGUuc3RhcnRMb2Mscj10aGlzLmZsb3dQYXJzZVByaW1hcnlUeXBlKCk7IXRoaXMuY2FuSW5zZXJ0U2VtaWNvbG9uKCkmJnRoaXMubWF0Y2goUi5icmFja2V0TCk7KXt2YXIgbj10aGlzLnN0YXJ0Tm9kZUF0KGUsdCk7bi5lbGVtZW50VHlwZT1yLHRoaXMuZXhwZWN0KFIuYnJhY2tldEwpLHRoaXMuZXhwZWN0KFIuYnJhY2tldFIpLHI9dGhpcy5maW5pc2hOb2RlKG4sIkFycmF5VHlwZUFubm90YXRpb24iKX1yZXR1cm4gcn0sbGUuZmxvd1BhcnNlUHJlZml4VHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMuZWF0KFIucXVlc3Rpb24pPyhlLnR5cGVBbm5vdGF0aW9uPXRoaXMuZmxvd1BhcnNlUHJlZml4VHlwZSgpLHRoaXMuZmluaXNoTm9kZShlLCJOdWxsYWJsZVR5cGVBbm5vdGF0aW9uIikpOnRoaXMuZmxvd1BhcnNlUG9zdGZpeFR5cGUoKX0sbGUuZmxvd1BhcnNlQW5vbkZ1bmN0aW9uV2l0aG91dFBhcmVucz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZmxvd1BhcnNlUHJlZml4VHlwZSgpO2lmKCF0aGlzLnN0YXRlLm5vQW5vbkZ1bmN0aW9uVHlwZSYmdGhpcy5lYXQoUi5hcnJvdykpe3ZhciB0PXRoaXMuc3RhcnROb2RlQXQoZS5zdGFydCxlLmxvYy5zdGFydCk7cmV0dXJuIHQucGFyYW1zPVt0aGlzLnJlaW50ZXJwcmV0VHlwZUFzRnVuY3Rpb25UeXBlUGFyYW0oZSldLHQucmVzdD1udWxsLHQucmV0dXJuVHlwZT10aGlzLmZsb3dQYXJzZVR5cGUoKSx0LnR5cGVQYXJhbWV0ZXJzPW51bGwsdGhpcy5maW5pc2hOb2RlKHQsIkZ1bmN0aW9uVHlwZUFubm90YXRpb24iKX1yZXR1cm4gZX0sbGUuZmxvd1BhcnNlSW50ZXJzZWN0aW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7dGhpcy5lYXQoUi5iaXR3aXNlQU5EKTt2YXIgdD10aGlzLmZsb3dQYXJzZUFub25GdW5jdGlvbldpdGhvdXRQYXJlbnMoKTtmb3IoZS50eXBlcz1bdF07dGhpcy5lYXQoUi5iaXR3aXNlQU5EKTspZS50eXBlcy5wdXNoKHRoaXMuZmxvd1BhcnNlQW5vbkZ1bmN0aW9uV2l0aG91dFBhcmVucygpKTtyZXR1cm4gMT09PWUudHlwZXMubGVuZ3RoP3Q6dGhpcy5maW5pc2hOb2RlKGUsIkludGVyc2VjdGlvblR5cGVBbm5vdGF0aW9uIil9LGxlLmZsb3dQYXJzZVVuaW9uVHlwZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7dGhpcy5lYXQoUi5iaXR3aXNlT1IpO3ZhciB0PXRoaXMuZmxvd1BhcnNlSW50ZXJzZWN0aW9uVHlwZSgpO2ZvcihlLnR5cGVzPVt0XTt0aGlzLmVhdChSLmJpdHdpc2VPUik7KWUudHlwZXMucHVzaCh0aGlzLmZsb3dQYXJzZUludGVyc2VjdGlvblR5cGUoKSk7cmV0dXJuIDE9PT1lLnR5cGVzLmxlbmd0aD90OnRoaXMuZmluaXNoTm9kZShlLCJVbmlvblR5cGVBbm5vdGF0aW9uIil9LGxlLmZsb3dQYXJzZVR5cGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLmluVHlwZTt0aGlzLnN0YXRlLmluVHlwZT0hMDt2YXIgdD10aGlzLmZsb3dQYXJzZVVuaW9uVHlwZSgpO3JldHVybiB0aGlzLnN0YXRlLmluVHlwZT1lLHR9LGxlLmZsb3dQYXJzZVR5cGVBbm5vdGF0aW9uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGFydE5vZGUoKTtyZXR1cm4gZS50eXBlQW5ub3RhdGlvbj10aGlzLmZsb3dQYXJzZVR5cGVJbml0aWFsaXNlcigpLHRoaXMuZmluaXNoTm9kZShlLCJUeXBlQW5ub3RhdGlvbiIpfSxsZS5mbG93UGFyc2VUeXBlQW5kUHJlZGljYXRlQW5ub3RhdGlvbj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCksdD10aGlzLmZsb3dQYXJzZVR5cGVBbmRQcmVkaWNhdGVJbml0aWFsaXNlcigpO3JldHVybiBlLnR5cGVBbm5vdGF0aW9uPXRbMF0sZS5wcmVkaWNhdGU9dFsxXSx0aGlzLmZpbmlzaE5vZGUoZSwiVHlwZUFubm90YXRpb24iKX0sbGUuZmxvd1BhcnNlVHlwZUFubm90YXRhYmxlSWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZmxvd1BhcnNlUmVzdHJpY3RlZElkZW50aWZpZXIoKTtyZXR1cm4gdGhpcy5tYXRjaChSLmNvbG9uKSYmKGUudHlwZUFubm90YXRpb249dGhpcy5mbG93UGFyc2VUeXBlQW5ub3RhdGlvbigpLHRoaXMuZmluaXNoTm9kZShlLGUudHlwZSkpLGV9LGxlLnR5cGVDYXN0VG9QYXJhbWV0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXhwcmVzc2lvbi50eXBlQW5ub3RhdGlvbj1lLnR5cGVBbm5vdGF0aW9uLHRoaXMuZmluaXNoTm9kZUF0KGUuZXhwcmVzc2lvbixlLmV4cHJlc3Npb24udHlwZSxlLnR5cGVBbm5vdGF0aW9uLmVuZCxlLnR5cGVBbm5vdGF0aW9uLmxvYy5lbmQpfSxsZS5mbG93UGFyc2VWYXJpYW5jZT1mdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIHRoaXMubWF0Y2goUi5wbHVzTWluKSYmKCIrIj09PXRoaXMuc3RhdGUudmFsdWU/ZT0icGx1cyI6Ii0iPT09dGhpcy5zdGF0ZS52YWx1ZSYmKGU9Im1pbnVzIiksdGhpcy5uZXh0KCkpLGV9O3ZhciBjZT1mdW5jdGlvbihlKXtlLmV4dGVuZCgicGFyc2VGdW5jdGlvbkJvZHkiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLm1hdGNoKFIuY29sb24pJiYhciYmKHQucmV0dXJuVHlwZT10aGlzLmZsb3dQYXJzZVR5cGVBbmRQcmVkaWNhdGVBbm5vdGF0aW9uKCkpLGUuY2FsbCh0aGlzLHQscil9fSksZS5leHRlbmQoInBhcnNlU3RhdGVtZW50IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZih0aGlzLnN0YXRlLnN0cmljdCYmdGhpcy5tYXRjaChSLm5hbWUpJiYiaW50ZXJmYWNlIj09PXRoaXMuc3RhdGUudmFsdWUpe3ZhciBuPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZmxvd1BhcnNlSW50ZXJmYWNlKG4pfXJldHVybiBlLmNhbGwodGhpcyx0LHIpfX0pLGUuZXh0ZW5kKCJwYXJzZUV4cHJlc3Npb25TdGF0ZW1lbnQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe2lmKCJJZGVudGlmaWVyIj09PXIudHlwZSlpZigiZGVjbGFyZSI9PT1yLm5hbWUpe2lmKHRoaXMubWF0Y2goUi5fY2xhc3MpfHx0aGlzLm1hdGNoKFIubmFtZSl8fHRoaXMubWF0Y2goUi5fZnVuY3Rpb24pfHx0aGlzLm1hdGNoKFIuX3Zhcil8fHRoaXMubWF0Y2goUi5fZXhwb3J0KSlyZXR1cm4gdGhpcy5mbG93UGFyc2VEZWNsYXJlKHQpfWVsc2UgaWYodGhpcy5tYXRjaChSLm5hbWUpKXtpZigiaW50ZXJmYWNlIj09PXIubmFtZSlyZXR1cm4gdGhpcy5mbG93UGFyc2VJbnRlcmZhY2UodCk7aWYoInR5cGUiPT09ci5uYW1lKXJldHVybiB0aGlzLmZsb3dQYXJzZVR5cGVBbGlhcyh0KTtpZigib3BhcXVlIj09PXIubmFtZSlyZXR1cm4gdGhpcy5mbG93UGFyc2VPcGFxdWVUeXBlKHQsITEpfXJldHVybiBlLmNhbGwodGhpcyx0LHIpfX0pLGUuZXh0ZW5kKCJzaG91bGRQYXJzZUV4cG9ydERlY2xhcmF0aW9uIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0NvbnRleHR1YWwoInR5cGUiKXx8dGhpcy5pc0NvbnRleHR1YWwoImludGVyZmFjZSIpfHx0aGlzLmlzQ29udGV4dHVhbCgib3BhcXVlIil8fGUuY2FsbCh0aGlzKX19KSxlLmV4dGVuZCgiaXNFeHBvcnREZWZhdWx0U3BlY2lmaWVyIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4oIXRoaXMubWF0Y2goUi5uYW1lKXx8InR5cGUiIT09dGhpcy5zdGF0ZS52YWx1ZSYmImludGVyZmFjZSIhPT10aGlzLnN0YXRlLnZhbHVlJiYib3BhcXVlIiE9PXRoaXMuc3RhdGUudmFsdWUpJiZlLmNhbGwodGhpcyl9fSksZS5leHRlbmQoInBhcnNlQ29uZGl0aW9uYWwiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbixpLHMpe2lmKHMmJnRoaXMubWF0Y2goUi5xdWVzdGlvbikpe3ZhciBhPXRoaXMuc3RhdGUuY2xvbmUoKTt0cnl7cmV0dXJuIGUuY2FsbCh0aGlzLHQscixuLGkpfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBTeW50YXhFcnJvcilyZXR1cm4gdGhpcy5zdGF0ZT1hLHMuc3RhcnQ9ZS5wb3N8fHRoaXMuc3RhdGUuc3RhcnQsdDt0aHJvdyBlfX1yZXR1cm4gZS5jYWxsKHRoaXMsdCxyLG4saSl9fSksZS5leHRlbmQoInBhcnNlUGFyZW5JdGVtIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe2lmKHQ9ZS5jYWxsKHRoaXMsdCxyLG4pLHRoaXMuZWF0KFIucXVlc3Rpb24pJiYodC5vcHRpb25hbD0hMCksdGhpcy5tYXRjaChSLmNvbG9uKSl7dmFyIGk9dGhpcy5zdGFydE5vZGVBdChyLG4pO3JldHVybiBpLmV4cHJlc3Npb249dCxpLnR5cGVBbm5vdGF0aW9uPXRoaXMuZmxvd1BhcnNlVHlwZUFubm90YXRpb24oKSx0aGlzLmZpbmlzaE5vZGUoaSwiVHlwZUNhc3RFeHByZXNzaW9uIil9cmV0dXJuIHR9fSksZS5leHRlbmQoInBhcnNlRXhwb3J0IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ9ZS5jYWxsKHRoaXMsdCksIkV4cG9ydE5hbWVkRGVjbGFyYXRpb24iPT09dC50eXBlJiYodC5leHBvcnRLaW5kPXQuZXhwb3J0S2luZHx8InZhbHVlIiksdH19KSxlLmV4dGVuZCgicGFyc2VFeHBvcnREZWNsYXJhdGlvbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHRoaXMuaXNDb250ZXh0dWFsKCJ0eXBlIikpe3QuZXhwb3J0S2luZD0idHlwZSI7dmFyIHI9dGhpcy5zdGFydE5vZGUoKTtyZXR1cm4gdGhpcy5uZXh0KCksdGhpcy5tYXRjaChSLmJyYWNlTCk/KHQuc3BlY2lmaWVycz10aGlzLnBhcnNlRXhwb3J0U3BlY2lmaWVycygpLHRoaXMucGFyc2VFeHBvcnRGcm9tKHQpLG51bGwpOnRoaXMuZmxvd1BhcnNlVHlwZUFsaWFzKHIpfWlmKHRoaXMuaXNDb250ZXh0dWFsKCJvcGFxdWUiKSl7dC5leHBvcnRLaW5kPSJ0eXBlIjt2YXIgbj10aGlzLnN0YXJ0Tm9kZSgpO3JldHVybiB0aGlzLm5leHQoKSx0aGlzLmZsb3dQYXJzZU9wYXF1ZVR5cGUobiwhMSl9aWYodGhpcy5pc0NvbnRleHR1YWwoImludGVyZmFjZSIpKXt0LmV4cG9ydEtpbmQ9InR5cGUiO3ZhciBpPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuZmxvd1BhcnNlSW50ZXJmYWNlKGkpfXJldHVybiBlLmNhbGwodGhpcyx0KX19KSxlLmV4dGVuZCgicGFyc2VDbGFzc0lkIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksdGhpcy5pc1JlbGF0aW9uYWwoIjwiKSYmKHQudHlwZVBhcmFtZXRlcnM9dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb24oKSl9fSksZS5leHRlbmQoImlzS2V5d29yZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybighdGhpcy5zdGF0ZS5pblR5cGV8fCJ2b2lkIiE9PXQpJiZlLmNhbGwodGhpcyx0KX19KSxlLmV4dGVuZCgicmVhZFRva2VuIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIXRoaXMuc3RhdGUuaW5UeXBlfHw2MiE9PXQmJjYwIT09dD9lLmNhbGwodGhpcyx0KTp0aGlzLmZpbmlzaE9wKFIucmVsYXRpb25hbCwxKX19KSxlLmV4dGVuZCgianN4X3JlYWRUb2tlbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXRoaXMuc3RhdGUuaW5UeXBlKXJldHVybiBlLmNhbGwodGhpcyl9fSksZS5leHRlbmQoInRvQXNzaWduYWJsZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4iVHlwZUNhc3RFeHByZXNzaW9uIj09PXQudHlwZT9lLmNhbGwodGhpcyx0aGlzLnR5cGVDYXN0VG9QYXJhbWV0ZXIodCkscixuKTplLmNhbGwodGhpcyx0LHIsbil9fSksZS5leHRlbmQoInRvQXNzaWduYWJsZUxpc3QiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsbil7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBzPXRbaV07cyYmIlR5cGVDYXN0RXhwcmVzc2lvbiI9PT1zLnR5cGUmJih0W2ldPXRoaXMudHlwZUNhc3RUb1BhcmFtZXRlcihzKSl9cmV0dXJuIGUuY2FsbCh0aGlzLHQscixuKX19KSxlLmV4dGVuZCgidG9SZWZlcmVuY2VkTGlzdCIsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07ciYmci5fZXhwckxpc3RJdGVtJiYiVHlwZUNhc3RFeHByZXNzaW9uIj09PXIudHlwZSYmdGhpcy5yYWlzZShyLnN0YXJ0LCJVbmV4cGVjdGVkIHR5cGUgY2FzdCIpfXJldHVybiBlfX0pLGUuZXh0ZW5kKCJwYXJzZUV4cHJMaXN0SXRlbSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc3RhcnROb2RlKCkscj1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkociksaT0wO2k8cjtpKyspbltpXT1hcmd1bWVudHNbaV07dmFyIHM9ZS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChuKSk7cmV0dXJuIHRoaXMubWF0Y2goUi5jb2xvbik/KHQuX2V4cHJMaXN0SXRlbT0hMCx0LmV4cHJlc3Npb249cyx0LnR5cGVBbm5vdGF0aW9uPXRoaXMuZmxvd1BhcnNlVHlwZUFubm90YXRpb24oKSx0aGlzLmZpbmlzaE5vZGUodCwiVHlwZUNhc3RFeHByZXNzaW9uIikpOnN9fSksZS5leHRlbmQoImNoZWNrTFZhbCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCJUeXBlQ2FzdEV4cHJlc3Npb24iIT09dC50eXBlKXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSxlLmV4dGVuZCgicGFyc2VDbGFzc1Byb3BlcnR5IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSB0LnZhcmlhbmNlUG9zLHRoaXMubWF0Y2goUi5jb2xvbikmJih0LnR5cGVBbm5vdGF0aW9uPXRoaXMuZmxvd1BhcnNlVHlwZUFubm90YXRpb24oKSksZS5jYWxsKHRoaXMsdCl9fSksZS5leHRlbmQoImlzQ2xhc3NNZXRob2QiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVsYXRpb25hbCgiPCIpfHxlLmNhbGwodGhpcyl9fSksZS5leHRlbmQoImlzQ2xhc3NQcm9wZXJ0eSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWF0Y2goUi5jb2xvbil8fGUuY2FsbCh0aGlzKX19KSxlLmV4dGVuZCgiaXNOb25zdGF0aWNDb25zdHJ1Y3RvciIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiF0aGlzLm1hdGNoKFIuY29sb24pJiZlLmNhbGwodGhpcyx0KX19KSxlLmV4dGVuZCgicGFyc2VDbGFzc01ldGhvZCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7ci52YXJpYW5jZSYmdGhpcy51bmV4cGVjdGVkKHIudmFyaWFuY2VQb3MpLGRlbGV0ZSByLnZhcmlhbmNlLGRlbGV0ZSByLnZhcmlhbmNlUG9zLHRoaXMuaXNSZWxhdGlvbmFsKCI8IikmJihyLnR5cGVQYXJhbWV0ZXJzPXRoaXMuZmxvd1BhcnNlVHlwZVBhcmFtZXRlckRlY2xhcmF0aW9uKCkpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkobj4yP24tMjowKSxzPTI7czxuO3MrKylpW3MtMl09YXJndW1lbnRzW3NdO2UuY2FsbC5hcHBseShlLFt0aGlzLHQscl0uY29uY2F0KGkpKX19KSxlLmV4dGVuZCgicGFyc2VDbGFzc1N1cGVyIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZihlLmNhbGwodGhpcyx0LHIpLHQuc3VwZXJDbGFzcyYmdGhpcy5pc1JlbGF0aW9uYWwoIjwiKSYmKHQuc3VwZXJUeXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJJbnN0YW50aWF0aW9uKCkpLHRoaXMuaXNDb250ZXh0dWFsKCJpbXBsZW1lbnRzIikpe3RoaXMubmV4dCgpO3ZhciBuPXQuaW1wbGVtZW50cz1bXTtkb3t2YXIgaT10aGlzLnN0YXJ0Tm9kZSgpO2kuaWQ9dGhpcy5wYXJzZUlkZW50aWZpZXIoKSx0aGlzLmlzUmVsYXRpb25hbCgiPCIpP2kudHlwZVBhcmFtZXRlcnM9dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVySW5zdGFudGlhdGlvbigpOmkudHlwZVBhcmFtZXRlcnM9bnVsbCxuLnB1c2godGhpcy5maW5pc2hOb2RlKGksIkNsYXNzSW1wbGVtZW50cyIpKX13aGlsZSh0aGlzLmVhdChSLmNvbW1hKSl9fX0pLGUuZXh0ZW5kKCJwYXJzZVByb3BlcnR5TmFtZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuc3RhdGUuc3RhcnQsbj10aGlzLmZsb3dQYXJzZVZhcmlhbmNlKCksaT1lLmNhbGwodGhpcyx0KTtyZXR1cm4gdC52YXJpYW5jZT1uLHQudmFyaWFuY2VQb3M9cixpfX0pLGUuZXh0ZW5kKCJwYXJzZU9ialByb3BWYWx1ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3QudmFyaWFuY2UmJnRoaXMudW5leHBlY3RlZCh0LnZhcmlhbmNlUG9zKSxkZWxldGUgdC52YXJpYW5jZSxkZWxldGUgdC52YXJpYW5jZVBvczt2YXIgcj12b2lkIDA7dGhpcy5pc1JlbGF0aW9uYWwoIjwiKSYmKHI9dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb24oKSx0aGlzLm1hdGNoKFIucGFyZW5MKXx8dGhpcy51bmV4cGVjdGVkKCkpLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpLHImJigodC52YWx1ZXx8dCkudHlwZVBhcmFtZXRlcnM9cil9fSksZS5leHRlbmQoInBhcnNlQXNzaWduYWJsZUxpc3RJdGVtVHlwZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmVhdChSLnF1ZXN0aW9uKSYmKGUub3B0aW9uYWw9ITApLHRoaXMubWF0Y2goUi5jb2xvbikmJihlLnR5cGVBbm5vdGF0aW9uPXRoaXMuZmxvd1BhcnNlVHlwZUFubm90YXRpb24oKSksdGhpcy5maW5pc2hOb2RlKGUsZS50eXBlKSxlfX0pLGUuZXh0ZW5kKCJwYXJzZU1heWJlRGVmYXVsdCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheSh0KSxuPTA7bjx0O24rKylyW25dPWFyZ3VtZW50c1tuXTt2YXIgaT1lLmFwcGx5KHRoaXMscik7cmV0dXJuIkFzc2lnbm1lbnRQYXR0ZXJuIj09PWkudHlwZSYmaS50eXBlQW5ub3RhdGlvbiYmaS5yaWdodC5zdGFydDxpLnR5cGVBbm5vdGF0aW9uLnN0YXJ0JiZ0aGlzLnJhaXNlKGkudHlwZUFubm90YXRpb24uc3RhcnQsIlR5cGUgYW5ub3RhdGlvbnMgbXVzdCBjb21lIGJlZm9yZSBkZWZhdWx0IGFzc2lnbm1lbnRzLCBlLmcuIGluc3RlYWQgb2YgYGFnZSA9IDI1OiBudW1iZXJgIHVzZSBgYWdlOiBudW1iZXIgPSAyNWAiKSxpfX0pLGUuZXh0ZW5kKCJwYXJzZUltcG9ydFNwZWNpZmllcnMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt0LmltcG9ydEtpbmQ9InZhbHVlIjt2YXIgcj1udWxsO2lmKHRoaXMubWF0Y2goUi5fdHlwZW9mKT9yPSJ0eXBlb2YiOnRoaXMuaXNDb250ZXh0dWFsKCJ0eXBlIikmJihyPSJ0eXBlIikscil7dmFyIG49dGhpcy5sb29rYWhlYWQoKTsobi50eXBlPT09Ui5uYW1lJiYiZnJvbSIhPT1uLnZhbHVlfHxuLnR5cGU9PT1SLmJyYWNlTHx8bi50eXBlPT09Ui5zdGFyKSYmKHRoaXMubmV4dCgpLHQuaW1wb3J0S2luZD1yKX1lLmNhbGwodGhpcyx0KX19KSxlLmV4dGVuZCgicGFyc2VJbXBvcnRTcGVjaWZpZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc3RhcnROb2RlKCkscj10aGlzLnN0YXRlLnN0YXJ0LG49dGhpcy5wYXJzZUlkZW50aWZpZXIoITApLGk9bnVsbDsidHlwZSI9PT1uLm5hbWU/aT0idHlwZSI6InR5cGVvZiI9PT1uLm5hbWUmJihpPSJ0eXBlb2YiKTt2YXIgcz0hMTtpZih0aGlzLmlzQ29udGV4dHVhbCgiYXMiKSl7dmFyIGE9dGhpcy5wYXJzZUlkZW50aWZpZXIoITApO251bGw9PT1pfHx0aGlzLm1hdGNoKFIubmFtZSl8fHRoaXMuc3RhdGUudHlwZS5rZXl3b3JkPyh0LmltcG9ydGVkPW4sdC5pbXBvcnRLaW5kPW51bGwsdC5sb2NhbD10aGlzLnBhcnNlSWRlbnRpZmllcigpKToodC5pbXBvcnRlZD1hLHQuaW1wb3J0S2luZD1pLHQubG9jYWw9YS5fX2Nsb25lKCkpfWVsc2UgbnVsbCE9PWkmJih0aGlzLm1hdGNoKFIubmFtZSl8fHRoaXMuc3RhdGUudHlwZS5rZXl3b3JkKT8odC5pbXBvcnRlZD10aGlzLnBhcnNlSWRlbnRpZmllcighMCksdC5pbXBvcnRLaW5kPWksdGhpcy5lYXRDb250ZXh0dWFsKCJhcyIpP3QubG9jYWw9dGhpcy5wYXJzZUlkZW50aWZpZXIoKToocz0hMCx0LmxvY2FsPXQuaW1wb3J0ZWQuX19jbG9uZSgpKSk6KHM9ITAsdC5pbXBvcnRlZD1uLHQuaW1wb3J0S2luZD1udWxsLHQubG9jYWw9dC5pbXBvcnRlZC5fX2Nsb25lKCkpOyJ0eXBlIiE9PWUuaW1wb3J0S2luZCYmInR5cGVvZiIhPT1lLmltcG9ydEtpbmR8fCJ0eXBlIiE9PXQuaW1wb3J0S2luZCYmInR5cGVvZiIhPT10LmltcG9ydEtpbmR8fHRoaXMucmFpc2UociwiYFRoZSBgdHlwZWAgYW5kIGB0eXBlb2ZgIGtleXdvcmRzIG9uIG5hbWVkIGltcG9ydHMgY2FuIG9ubHkgYmUgdXNlZCBvbiByZWd1bGFyIGBpbXBvcnRgIHN0YXRlbWVudHMuIEl0IGNhbm5vdCBiZSB1c2VkIHdpdGggYGltcG9ydCB0eXBlYCBvciBgaW1wb3J0IHR5cGVvZmAgc3RhdGVtZW50c2AiKSxzJiZ0aGlzLmNoZWNrUmVzZXJ2ZWRXb3JkKHQubG9jYWwubmFtZSx0LnN0YXJ0LCEwLCEwKSx0aGlzLmNoZWNrTFZhbCh0LmxvY2FsLCEwLHZvaWQgMCwiaW1wb3J0IHNwZWNpZmllciIpLGUuc3BlY2lmaWVycy5wdXNoKHRoaXMuZmluaXNoTm9kZSh0LCJJbXBvcnRTcGVjaWZpZXIiKSl9fSksZS5leHRlbmQoInBhcnNlRnVuY3Rpb25QYXJhbXMiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt0aGlzLmlzUmVsYXRpb25hbCgiPCIpJiYodC50eXBlUGFyYW1ldGVycz10aGlzLmZsb3dQYXJzZVR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbigpKSxlLmNhbGwodGhpcyx0KX19KSxlLmV4dGVuZCgicGFyc2VWYXJIZWFkIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7ZS5jYWxsKHRoaXMsdCksdGhpcy5tYXRjaChSLmNvbG9uKSYmKHQuaWQudHlwZUFubm90YXRpb249dGhpcy5mbG93UGFyc2VUeXBlQW5ub3RhdGlvbigpLHRoaXMuZmluaXNoTm9kZSh0LmlkLHQuaWQudHlwZSkpfX0pLGUuZXh0ZW5kKCJwYXJzZUFzeW5jQXJyb3dGcm9tQ2FsbEV4cHJlc3Npb24iLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIpe2lmKHRoaXMubWF0Y2goUi5jb2xvbikpe3ZhciBuPXRoaXMuc3RhdGUubm9Bbm9uRnVuY3Rpb25UeXBlO3RoaXMuc3RhdGUubm9Bbm9uRnVuY3Rpb25UeXBlPSEwLHQucmV0dXJuVHlwZT10aGlzLmZsb3dQYXJzZVR5cGVBbm5vdGF0aW9uKCksdGhpcy5zdGF0ZS5ub0Fub25GdW5jdGlvblR5cGU9bn1yZXR1cm4gZS5jYWxsKHRoaXMsdCxyKX19KSxlLmV4dGVuZCgic2hvdWxkUGFyc2VBc3luY0Fycm93IixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXRjaChSLmNvbG9uKXx8ZS5jYWxsKHRoaXMpfX0pLGUuZXh0ZW5kKCJwYXJzZU1heWJlQXNzaWduIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHQ9bnVsbCxyPWFyZ3VtZW50cy5sZW5ndGgsbj1BcnJheShyKSxpPTA7aTxyO2krKyluW2ldPWFyZ3VtZW50c1tpXTtpZihSLmpzeFRhZ1N0YXJ0JiZ0aGlzLm1hdGNoKFIuanN4VGFnU3RhcnQpKXt2YXIgcz10aGlzLnN0YXRlLmNsb25lKCk7dHJ5e3JldHVybiBlLmFwcGx5KHRoaXMsbil9Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpKXRocm93IGU7dGhpcy5zdGF0ZT1zLHRoaXMuc3RhdGUuY29udGV4dC5sZW5ndGgtPTIsdD1lfX1pZihudWxsIT10fHx0aGlzLmlzUmVsYXRpb25hbCgiPCIpKXt2YXIgYT12b2lkIDAsbz12b2lkIDA7dHJ5e289dGhpcy5mbG93UGFyc2VUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb24oKSxhPWUuYXBwbHkodGhpcyxuKSxhLnR5cGVQYXJhbWV0ZXJzPW8sYS5zdGFydD1vLnN0YXJ0LGEubG9jLnN0YXJ0PW8ubG9jLnN0YXJ0fWNhdGNoKGUpe3Rocm93IHR8fGV9aWYoIkFycm93RnVuY3Rpb25FeHByZXNzaW9uIj09PWEudHlwZSlyZXR1cm4gYTtpZihudWxsIT10KXRocm93IHQ7dGhpcy5yYWlzZShvLnN0YXJ0LCJFeHBlY3RlZCBhbiBhcnJvdyBmdW5jdGlvbiBhZnRlciB0aGlzIHR5cGUgcGFyYW1ldGVyIGRlY2xhcmF0aW9uIil9cmV0dXJuIGUuYXBwbHkodGhpcyxuKX19KSxlLmV4dGVuZCgicGFyc2VBcnJvdyIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHRoaXMubWF0Y2goUi5jb2xvbikpe3ZhciByPXRoaXMuc3RhdGUuY2xvbmUoKTt0cnl7dmFyIG49dGhpcy5zdGF0ZS5ub0Fub25GdW5jdGlvblR5cGU7dGhpcy5zdGF0ZS5ub0Fub25GdW5jdGlvblR5cGU9ITA7dmFyIGk9dGhpcy5mbG93UGFyc2VUeXBlQW5kUHJlZGljYXRlQW5ub3RhdGlvbigpO3RoaXMuc3RhdGUubm9Bbm9uRnVuY3Rpb25UeXBlPW4sdGhpcy5jYW5JbnNlcnRTZW1pY29sb24oKSYmdGhpcy51bmV4cGVjdGVkKCksdGhpcy5tYXRjaChSLmFycm93KXx8dGhpcy51bmV4cGVjdGVkKCksdC5yZXR1cm5UeXBlPWl9Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgU3ludGF4RXJyb3IpKXRocm93IGU7dGhpcy5zdGF0ZT1yfX1yZXR1cm4gZS5jYWxsKHRoaXMsdCl9fSksZS5leHRlbmQoInNob3VsZFBhcnNlQXJyb3ciLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hdGNoKFIuY29sb24pfHxlLmNhbGwodGhpcyl9fSl9LGZlPVN0cmluZy5mcm9tQ29kZVBvaW50O2lmKCFmZSl7dmFyIHBlPVN0cmluZy5mcm9tQ2hhckNvZGUsZGU9TWF0aC5mbG9vcjtmZT1mdW5jdGlvbigpe3ZhciBlPVtdLHQ9dm9pZCAwLHI9dm9pZCAwLG49LTEsaT1hcmd1bWVudHMubGVuZ3RoO2lmKCFpKXJldHVybiIiO2Zvcih2YXIgcz0iIjsrK248aTspe3ZhciBhPU51bWJlcihhcmd1bWVudHNbbl0pO2lmKCFpc0Zpbml0ZShhKXx8YTwwfHxhPjExMTQxMTF8fGRlKGEpIT1hKXRocm93IFJhbmdlRXJyb3IoIkludmFsaWQgY29kZSBwb2ludDogIithKTthPD02NTUzNT9lLnB1c2goYSk6KGEtPTY1NTM2LHQ9NTUyOTYrKGE+PjEwKSxyPWElMTAyNCs1NjMyMCxlLnB1c2godCxyKSksKG4rMT09aXx8ZS5sZW5ndGg+MTYzODQpJiYocys9cGUuYXBwbHkobnVsbCxlKSxlLmxlbmd0aD0wKX1yZXR1cm4gc319dmFyIGhlPWZlLG1lPXtxdW90OiciJyxhbXA6IiYiLGFwb3M6IiciLGx0OiI8IixndDoiPiIsbmJzcDoiwqAiLGlleGNsOiLCoSIsY2VudDoiwqIiLHBvdW5kOiLCoyIsY3VycmVuOiLCpCIseWVuOiLCpSIsYnJ2YmFyOiLCpiIsc2VjdDoiwqciLHVtbDoiwqgiLGNvcHk6IsKpIixvcmRmOiLCqiIsbGFxdW86IsKrIixub3Q6IsKsIixzaHk6IsKtIixyZWc6IsKuIixtYWNyOiLCryIsZGVnOiLCsCIscGx1c21uOiLCsSIsc3VwMjoiwrIiLHN1cDM6IsKzIixhY3V0ZToiwrQiLG1pY3JvOiLCtSIscGFyYToiwrYiLG1pZGRvdDoiwrciLGNlZGlsOiLCuCIsc3VwMToiwrkiLG9yZG06IsK6IixyYXF1bzoiwrsiLGZyYWMxNDoiwrwiLGZyYWMxMjoiwr0iLGZyYWMzNDoiwr4iLGlxdWVzdDoiwr8iLEFncmF2ZToiw4AiLEFhY3V0ZToiw4EiLEFjaXJjOiLDgiIsQXRpbGRlOiLDgyIsQXVtbDoiw4QiLEFyaW5nOiLDhSIsQUVsaWc6IsOGIixDY2VkaWw6IsOHIixFZ3JhdmU6IsOIIixFYWN1dGU6IsOJIixFY2lyYzoiw4oiLEV1bWw6IsOLIixJZ3JhdmU6IsOMIixJYWN1dGU6IsONIixJY2lyYzoiw44iLEl1bWw6IsOPIixFVEg6IsOQIixOdGlsZGU6IsORIixPZ3JhdmU6IsOSIixPYWN1dGU6IsOTIixPY2lyYzoiw5QiLE90aWxkZToiw5UiLE91bWw6IsOWIix0aW1lczoiw5ciLE9zbGFzaDoiw5giLFVncmF2ZToiw5kiLFVhY3V0ZToiw5oiLFVjaXJjOiLDmyIsVXVtbDoiw5wiLFlhY3V0ZToiw50iLFRIT1JOOiLDniIsc3psaWc6IsOfIixhZ3JhdmU6IsOgIixhYWN1dGU6IsOhIixhY2lyYzoiw6IiLGF0aWxkZToiw6MiLGF1bWw6IsOkIixhcmluZzoiw6UiLGFlbGlnOiLDpiIsY2NlZGlsOiLDpyIsZWdyYXZlOiLDqCIsZWFjdXRlOiLDqSIsZWNpcmM6IsOqIixldW1sOiLDqyIsaWdyYXZlOiLDrCIsaWFjdXRlOiLDrSIsaWNpcmM6IsOuIixpdW1sOiLDryIsZXRoOiLDsCIsbnRpbGRlOiLDsSIsb2dyYXZlOiLDsiIsb2FjdXRlOiLDsyIsb2NpcmM6IsO0IixvdGlsZGU6IsO1IixvdW1sOiLDtiIsZGl2aWRlOiLDtyIsb3NsYXNoOiLDuCIsdWdyYXZlOiLDuSIsdWFjdXRlOiLDuiIsdWNpcmM6IsO7Iix1dW1sOiLDvCIseWFjdXRlOiLDvSIsdGhvcm46IsO+Iix5dW1sOiLDvyIsT0VsaWc6IsWSIixvZWxpZzoixZMiLFNjYXJvbjoixaAiLHNjYXJvbjoixaEiLFl1bWw6IsW4Iixmbm9mOiLGkiIsY2lyYzoiy4YiLHRpbGRlOiLLnCIsQWxwaGE6Is6RIixCZXRhOiLOkiIsR2FtbWE6Is6TIixEZWx0YToizpQiLEVwc2lsb246Is6VIixaZXRhOiLOliIsRXRhOiLOlyIsVGhldGE6Is6YIixJb3RhOiLOmSIsS2FwcGE6Is6aIixMYW1iZGE6Is6bIixNdToizpwiLE51OiLOnSIsWGk6Is6eIixPbWljcm9uOiLOnyIsUGk6Is6gIixSaG86Is6hIixTaWdtYToizqMiLFRhdToizqQiLFVwc2lsb246Is6lIixQaGk6Is6mIixDaGk6Is6nIixQc2k6Is6oIixPbWVnYToizqkiLGFscGhhOiLOsSIsYmV0YToizrIiLGdhbW1hOiLOsyIsZGVsdGE6Is60IixlcHNpbG9uOiLOtSIsemV0YToizrYiLGV0YToizrciLHRoZXRhOiLOuCIsaW90YToizrkiLGthcHBhOiLOuiIsbGFtYmRhOiLOuyIsbXU6Is68IixudToizr0iLHhpOiLOviIsb21pY3Jvbjoizr8iLHBpOiLPgCIscmhvOiLPgSIsc2lnbWFmOiLPgiIsc2lnbWE6Is+DIix0YXU6Is+EIix1cHNpbG9uOiLPhSIscGhpOiLPhiIsY2hpOiLPhyIscHNpOiLPiCIsb21lZ2E6Is+JIix0aGV0YXN5bToiz5EiLHVwc2loOiLPkiIscGl2OiLPliIsZW5zcDoi4oCCIixlbXNwOiLigIMiLHRoaW5zcDoi4oCJIix6d25qOiLigIwiLHp3ajoi4oCNIixscm06IuKAjiIscmxtOiLigI8iLG5kYXNoOiLigJMiLG1kYXNoOiLigJQiLGxzcXVvOiLigJgiLHJzcXVvOiLigJkiLHNicXVvOiLigJoiLGxkcXVvOiLigJwiLHJkcXVvOiLigJ0iLGJkcXVvOiLigJ4iLGRhZ2dlcjoi4oCgIixEYWdnZXI6IuKAoSIsYnVsbDoi4oCiIixoZWxsaXA6IuKApiIscGVybWlsOiLigLAiLHByaW1lOiLigLIiLFByaW1lOiLigLMiLGxzYXF1bzoi4oC5Iixyc2FxdW86IuKAuiIsb2xpbmU6IuKAviIsZnJhc2w6IuKBhCIsZXVybzoi4oKsIixpbWFnZToi4oSRIix3ZWllcnA6IuKEmCIscmVhbDoi4oScIix0cmFkZToi4oSiIixhbGVmc3ltOiLihLUiLGxhcnI6IuKGkCIsdWFycjoi4oaRIixyYXJyOiLihpIiLGRhcnI6IuKGkyIsaGFycjoi4oaUIixjcmFycjoi4oa1IixsQXJyOiLih5AiLHVBcnI6IuKHkSIsckFycjoi4oeSIixkQXJyOiLih5MiLGhBcnI6IuKHlCIsZm9yYWxsOiLiiIAiLHBhcnQ6IuKIgiIsZXhpc3Q6IuKIgyIsZW1wdHk6IuKIhSIsbmFibGE6IuKIhyIsaXNpbjoi4oiIIixub3Rpbjoi4oiJIixuaToi4oiLIixwcm9kOiLiiI8iLHN1bToi4oiRIixtaW51czoi4oiSIixsb3dhc3Q6IuKIlyIscmFkaWM6IuKImiIscHJvcDoi4oidIixpbmZpbjoi4oieIixhbmc6IuKIoCIsYW5kOiLiiKciLG9yOiLiiKgiLGNhcDoi4oipIixjdXA6IuKIqiIsaW50OiLiiKsiLHRoZXJlNDoi4oi0IixzaW06IuKIvCIsY29uZzoi4omFIixhc3ltcDoi4omIIixuZToi4omgIixlcXVpdjoi4omhIixsZToi4omkIixnZToi4omlIixzdWI6IuKKgiIsc3VwOiLiioMiLG5zdWI6IuKKhCIsc3ViZToi4oqGIixzdXBlOiLiiociLG9wbHVzOiLiipUiLG90aW1lczoi4oqXIixwZXJwOiLiiqUiLHNkb3Q6IuKLhSIsbGNlaWw6IuKMiCIscmNlaWw6IuKMiSIsbGZsb29yOiLijIoiLHJmbG9vcjoi4oyLIixsYW5nOiLijKkiLHJhbmc6IuKMqiIsbG96OiLil4oiLHNwYWRlczoi4pmgIixjbHViczoi4pmjIixoZWFydHM6IuKZpSIsZGlhbXM6IuKZpiJ9LHllPS9eW1xkYS1mQS1GXSskLyx2ZT0vXlxkKyQvO1Uual9vVGFnPW5ldyBqKCI8dGFnIiwhMSksVS5qX2NUYWc9bmV3IGooIjwvdGFnIiwhMSksVS5qX2V4cHI9bmV3IGooIjx0YWc+Li4uPC90YWc+IiwhMCwhMCksUi5qc3hOYW1lPW5ldyBUKCJqc3hOYW1lIiksUi5qc3hUZXh0PW5ldyBUKCJqc3hUZXh0Iix7YmVmb3JlRXhwcjohMH0pLFIuanN4VGFnU3RhcnQ9bmV3IFQoImpzeFRhZ1N0YXJ0Iix7c3RhcnRzRXhwcjohMH0pLFIuanN4VGFnRW5kPW5ldyBUKCJqc3hUYWdFbmQiKSxSLmpzeFRhZ1N0YXJ0LnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oKXt0aGlzLnN0YXRlLmNvbnRleHQucHVzaChVLmpfZXhwciksdGhpcy5zdGF0ZS5jb250ZXh0LnB1c2goVS5qX29UYWcpLHRoaXMuc3RhdGUuZXhwckFsbG93ZWQ9ITF9LFIuanN4VGFnRW5kLnVwZGF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdGF0ZS5jb250ZXh0LnBvcCgpO3Q9PT1VLmpfb1RhZyYmZT09PVIuc2xhc2h8fHQ9PT1VLmpfY1RhZz8odGhpcy5zdGF0ZS5jb250ZXh0LnBvcCgpLHRoaXMuc3RhdGUuZXhwckFsbG93ZWQ9dGhpcy5jdXJDb250ZXh0KCk9PT1VLmpfZXhwcik6dGhpcy5zdGF0ZS5leHByQWxsb3dlZD0hMH07dmFyIGdlPUoucHJvdG90eXBlO2dlLmpzeFJlYWRUb2tlbj1mdW5jdGlvbigpe2Zvcih2YXIgZT0iIix0PXRoaXMuc3RhdGUucG9zOzspe3RoaXMuc3RhdGUucG9zPj10aGlzLmlucHV0Lmxlbmd0aCYmdGhpcy5yYWlzZSh0aGlzLnN0YXRlLnN0YXJ0LCJVbnRlcm1pbmF0ZWQgSlNYIGNvbnRlbnRzIik7dmFyIHI9dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKTtzd2l0Y2gocil7Y2FzZSA2MDpjYXNlIDEyMzpyZXR1cm4gdGhpcy5zdGF0ZS5wb3M9PT10aGlzLnN0YXRlLnN0YXJ0PzYwPT09ciYmdGhpcy5zdGF0ZS5leHByQWxsb3dlZD8oKyt0aGlzLnN0YXRlLnBvcyx0aGlzLmZpbmlzaFRva2VuKFIuanN4VGFnU3RhcnQpKTp0aGlzLmdldFRva2VuRnJvbUNvZGUocik6KGUrPXRoaXMuaW5wdXQuc2xpY2UodCx0aGlzLnN0YXRlLnBvcyksdGhpcy5maW5pc2hUb2tlbihSLmpzeFRleHQsZSkpO2Nhc2UgMzg6ZSs9dGhpcy5pbnB1dC5zbGljZSh0LHRoaXMuc3RhdGUucG9zKSxlKz10aGlzLmpzeFJlYWRFbnRpdHkoKSx0PXRoaXMuc3RhdGUucG9zO2JyZWFrO2RlZmF1bHQ6byhyKT8oZSs9dGhpcy5pbnB1dC5zbGljZSh0LHRoaXMuc3RhdGUucG9zKSxlKz10aGlzLmpzeFJlYWROZXdMaW5lKCEwKSx0PXRoaXMuc3RhdGUucG9zKTorK3RoaXMuc3RhdGUucG9zfX19LGdlLmpzeFJlYWROZXdMaW5lPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaW5wdXQuY2hhckNvZGVBdCh0aGlzLnN0YXRlLnBvcykscj12b2lkIDA7cmV0dXJuKyt0aGlzLnN0YXRlLnBvcywxMz09PXQmJjEwPT09dGhpcy5pbnB1dC5jaGFyQ29kZUF0KHRoaXMuc3RhdGUucG9zKT8oKyt0aGlzLnN0YXRlLnBvcyxyPWU/IlxuIjoiXHJcbiIpOnI9U3RyaW5nLmZyb21DaGFyQ29kZSh0KSwrK3RoaXMuc3RhdGUuY3VyTGluZSx0aGlzLnN0YXRlLmxpbmVTdGFydD10aGlzLnN0YXRlLnBvcyxyfSxnZS5qc3hSZWFkU3RyaW5nPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0iIixyPSsrdGhpcy5zdGF0ZS5wb3M7Oyl7dGhpcy5zdGF0ZS5wb3M+PXRoaXMuaW5wdXQubGVuZ3RoJiZ0aGlzLnJhaXNlKHRoaXMuc3RhdGUuc3RhcnQsIlVudGVybWluYXRlZCBzdHJpbmcgY29uc3RhbnQiKTt2YXIgbj10aGlzLmlucHV0LmNoYXJDb2RlQXQodGhpcy5zdGF0ZS5wb3MpO2lmKG49PT1lKWJyZWFrOzM4PT09bj8odCs9dGhpcy5pbnB1dC5zbGljZShyLHRoaXMuc3RhdGUucG9zKSx0Kz10aGlzLmpzeFJlYWRFbnRpdHkoKSxyPXRoaXMuc3RhdGUucG9zKTpvKG4pPyh0Kz10aGlzLmlucHV0LnNsaWNlKHIsdGhpcy5zdGF0ZS5wb3MpLHQrPXRoaXMuanN4UmVhZE5ld0xpbmUoITEpLHI9dGhpcy5zdGF0ZS5wb3MpOisrdGhpcy5zdGF0ZS5wb3N9cmV0dXJuIHQrPXRoaXMuaW5wdXQuc2xpY2Uocix0aGlzLnN0YXRlLnBvcysrKSx0aGlzLmZpbmlzaFRva2VuKFIuc3RyaW5nLHQpfSxnZS5qc3hSZWFkRW50aXR5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPSIiLHQ9MCxyPXZvaWQgMCxuPXRoaXMuaW5wdXRbdGhpcy5zdGF0ZS5wb3NdLGk9Kyt0aGlzLnN0YXRlLnBvczt0aGlzLnN0YXRlLnBvczx0aGlzLmlucHV0Lmxlbmd0aCYmdCsrPDEwOyl7aWYoIjsiPT09KG49dGhpcy5pbnB1dFt0aGlzLnN0YXRlLnBvcysrXSkpeyIjIj09PWVbMF0/IngiPT09ZVsxXT8oZT1lLnN1YnN0cigyKSx5ZS50ZXN0KGUpJiYocj1oZShwYXJzZUludChlLDE2KSkpKTooZT1lLnN1YnN0cigxKSx2ZS50ZXN0KGUpJiYocj1oZShwYXJzZUludChlLDEwKSkpKTpyPW1lW2VdO2JyZWFrfWUrPW59cmV0dXJuIHJ8fCh0aGlzLnN0YXRlLnBvcz1pLCImIil9LGdlLmpzeFJlYWRXb3JkPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9dGhpcy5zdGF0ZS5wb3M7ZG97ZT10aGlzLmlucHV0LmNoYXJDb2RlQXQoKyt0aGlzLnN0YXRlLnBvcyl9d2hpbGUocyhlKXx8NDU9PT1lKTtyZXR1cm4gdGhpcy5maW5pc2hUb2tlbihSLmpzeE5hbWUsdGhpcy5pbnB1dC5zbGljZSh0LHRoaXMuc3RhdGUucG9zKSl9LGdlLmpzeFBhcnNlSWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMubWF0Y2goUi5qc3hOYW1lKT9lLm5hbWU9dGhpcy5zdGF0ZS52YWx1ZTp0aGlzLnN0YXRlLnR5cGUua2V5d29yZD9lLm5hbWU9dGhpcy5zdGF0ZS50eXBlLmtleXdvcmQ6dGhpcy51bmV4cGVjdGVkKCksdGhpcy5uZXh0KCksdGhpcy5maW5pc2hOb2RlKGUsIkpTWElkZW50aWZpZXIiKX0sZ2UuanN4UGFyc2VOYW1lc3BhY2VkTmFtZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUuc3RhcnQsdD10aGlzLnN0YXRlLnN0YXJ0TG9jLHI9dGhpcy5qc3hQYXJzZUlkZW50aWZpZXIoKTtpZighdGhpcy5lYXQoUi5jb2xvbikpcmV0dXJuIHI7dmFyIG49dGhpcy5zdGFydE5vZGVBdChlLHQpO3JldHVybiBuLm5hbWVzcGFjZT1yLG4ubmFtZT10aGlzLmpzeFBhcnNlSWRlbnRpZmllcigpLHRoaXMuZmluaXNoTm9kZShuLCJKU1hOYW1lc3BhY2VkTmFtZSIpfSxnZS5qc3hQYXJzZUVsZW1lbnROYW1lPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuc3RhdGUuc3RhcnQsdD10aGlzLnN0YXRlLnN0YXJ0TG9jLHI9dGhpcy5qc3hQYXJzZU5hbWVzcGFjZWROYW1lKCk7dGhpcy5lYXQoUi5kb3QpOyl7dmFyIG49dGhpcy5zdGFydE5vZGVBdChlLHQpO24ub2JqZWN0PXIsbi5wcm9wZXJ0eT10aGlzLmpzeFBhcnNlSWRlbnRpZmllcigpLHI9dGhpcy5maW5pc2hOb2RlKG4sIkpTWE1lbWJlckV4cHJlc3Npb24iKX1yZXR1cm4gcn0sZ2UuanN4UGFyc2VBdHRyaWJ1dGVWYWx1ZT1mdW5jdGlvbigpe3ZhciBlPXZvaWQgMDtzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIFIuYnJhY2VMOmlmKGU9dGhpcy5qc3hQYXJzZUV4cHJlc3Npb25Db250YWluZXIoKSwiSlNYRW1wdHlFeHByZXNzaW9uIiE9PWUuZXhwcmVzc2lvbi50eXBlKXJldHVybiBlO3RoaXMucmFpc2UoZS5zdGFydCwiSlNYIGF0dHJpYnV0ZXMgbXVzdCBvbmx5IGJlIGFzc2lnbmVkIGEgbm9uLWVtcHR5IGV4cHJlc3Npb24iKTtjYXNlIFIuanN4VGFnU3RhcnQ6Y2FzZSBSLnN0cmluZzpyZXR1cm4gZT10aGlzLnBhcnNlRXhwckF0b20oKSxlLmV4dHJhPW51bGwsZTtkZWZhdWx0OnRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiSlNYIHZhbHVlIHNob3VsZCBiZSBlaXRoZXIgYW4gZXhwcmVzc2lvbiBvciBhIHF1b3RlZCBKU1ggdGV4dCIpfX0sZ2UuanN4UGFyc2VFbXB0eUV4cHJlc3Npb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZUF0KHRoaXMuc3RhdGUubGFzdFRva0VuZCx0aGlzLnN0YXRlLmxhc3RUb2tFbmRMb2MpO3JldHVybiB0aGlzLmZpbmlzaE5vZGVBdChlLCJKU1hFbXB0eUV4cHJlc3Npb24iLHRoaXMuc3RhdGUuc3RhcnQsdGhpcy5zdGF0ZS5zdGFydExvYyl9LGdlLmpzeFBhcnNlU3ByZWFkQ2hpbGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpO3JldHVybiB0aGlzLmV4cGVjdChSLmJyYWNlTCksdGhpcy5leHBlY3QoUi5lbGxpcHNpcyksZS5leHByZXNzaW9uPXRoaXMucGFyc2VFeHByZXNzaW9uKCksdGhpcy5leHBlY3QoUi5icmFjZVIpLHRoaXMuZmluaXNoTm9kZShlLCJKU1hTcHJlYWRDaGlsZCIpfSxnZS5qc3hQYXJzZUV4cHJlc3Npb25Db250YWluZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXJ0Tm9kZSgpO3JldHVybiB0aGlzLm5leHQoKSx0aGlzLm1hdGNoKFIuYnJhY2VSKT9lLmV4cHJlc3Npb249dGhpcy5qc3hQYXJzZUVtcHR5RXhwcmVzc2lvbigpOmUuZXhwcmVzc2lvbj10aGlzLnBhcnNlRXhwcmVzc2lvbigpLHRoaXMuZXhwZWN0KFIuYnJhY2VSKSx0aGlzLmZpbmlzaE5vZGUoZSwiSlNYRXhwcmVzc2lvbkNvbnRhaW5lciIpfSxnZS5qc3hQYXJzZUF0dHJpYnV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhcnROb2RlKCk7cmV0dXJuIHRoaXMuZWF0KFIuYnJhY2VMKT8odGhpcy5leHBlY3QoUi5lbGxpcHNpcyksZS5hcmd1bWVudD10aGlzLnBhcnNlTWF5YmVBc3NpZ24oKSx0aGlzLmV4cGVjdChSLmJyYWNlUiksdGhpcy5maW5pc2hOb2RlKGUsIkpTWFNwcmVhZEF0dHJpYnV0ZSIpKTooZS5uYW1lPXRoaXMuanN4UGFyc2VOYW1lc3BhY2VkTmFtZSgpLGUudmFsdWU9dGhpcy5lYXQoUi5lcSk/dGhpcy5qc3hQYXJzZUF0dHJpYnV0ZVZhbHVlKCk6bnVsbCx0aGlzLmZpbmlzaE5vZGUoZSwiSlNYQXR0cmlidXRlIikpfSxnZS5qc3hQYXJzZU9wZW5pbmdFbGVtZW50QXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnN0YXJ0Tm9kZUF0KGUsdCk7Zm9yKHIuYXR0cmlidXRlcz1bXSxyLm5hbWU9dGhpcy5qc3hQYXJzZUVsZW1lbnROYW1lKCk7IXRoaXMubWF0Y2goUi5zbGFzaCkmJiF0aGlzLm1hdGNoKFIuanN4VGFnRW5kKTspci5hdHRyaWJ1dGVzLnB1c2godGhpcy5qc3hQYXJzZUF0dHJpYnV0ZSgpKTtyZXR1cm4gci5zZWxmQ2xvc2luZz10aGlzLmVhdChSLnNsYXNoKSx0aGlzLmV4cGVjdChSLmpzeFRhZ0VuZCksdGhpcy5maW5pc2hOb2RlKHIsIkpTWE9wZW5pbmdFbGVtZW50Iil9LGdlLmpzeFBhcnNlQ2xvc2luZ0VsZW1lbnRBdD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuc3RhcnROb2RlQXQoZSx0KTtyZXR1cm4gci5uYW1lPXRoaXMuanN4UGFyc2VFbGVtZW50TmFtZSgpLHRoaXMuZXhwZWN0KFIuanN4VGFnRW5kKSx0aGlzLmZpbmlzaE5vZGUociwiSlNYQ2xvc2luZ0VsZW1lbnQiKX0sZ2UuanN4UGFyc2VFbGVtZW50QXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLnN0YXJ0Tm9kZUF0KGUsdCksbj1bXSxpPXRoaXMuanN4UGFyc2VPcGVuaW5nRWxlbWVudEF0KGUsdCkscz1udWxsO2lmKCFpLnNlbGZDbG9zaW5nKXtlOmZvcig7Oylzd2l0Y2godGhpcy5zdGF0ZS50eXBlKXtjYXNlIFIuanN4VGFnU3RhcnQ6aWYoZT10aGlzLnN0YXRlLnN0YXJ0LHQ9dGhpcy5zdGF0ZS5zdGFydExvYyx0aGlzLm5leHQoKSx0aGlzLmVhdChSLnNsYXNoKSl7cz10aGlzLmpzeFBhcnNlQ2xvc2luZ0VsZW1lbnRBdChlLHQpO2JyZWFrIGV9bi5wdXNoKHRoaXMuanN4UGFyc2VFbGVtZW50QXQoZSx0KSk7YnJlYWs7Y2FzZSBSLmpzeFRleHQ6bi5wdXNoKHRoaXMucGFyc2VFeHByQXRvbSgpKTticmVhaztjYXNlIFIuYnJhY2VMOnRoaXMubG9va2FoZWFkKCkudHlwZT09PVIuZWxsaXBzaXM/bi5wdXNoKHRoaXMuanN4UGFyc2VTcHJlYWRDaGlsZCgpKTpuLnB1c2godGhpcy5qc3hQYXJzZUV4cHJlc3Npb25Db250YWluZXIoKSk7YnJlYWs7ZGVmYXVsdDp0aGlzLnVuZXhwZWN0ZWQoKX1kKHMubmFtZSkhPT1kKGkubmFtZSkmJnRoaXMucmFpc2Uocy5zdGFydCwiRXhwZWN0ZWQgY29ycmVzcG9uZGluZyBKU1ggY2xvc2luZyB0YWcgZm9yIDwiK2QoaS5uYW1lKSsiPiIpfXJldHVybiByLm9wZW5pbmdFbGVtZW50PWksci5jbG9zaW5nRWxlbWVudD1zLHIuY2hpbGRyZW49bix0aGlzLm1hdGNoKFIucmVsYXRpb25hbCkmJiI8Ij09PXRoaXMuc3RhdGUudmFsdWUmJnRoaXMucmFpc2UodGhpcy5zdGF0ZS5zdGFydCwiQWRqYWNlbnQgSlNYIGVsZW1lbnRzIG11c3QgYmUgd3JhcHBlZCBpbiBhbiBlbmNsb3NpbmcgdGFnIiksdGhpcy5maW5pc2hOb2RlKHIsIkpTWEVsZW1lbnQiKX0sZ2UuanN4UGFyc2VFbGVtZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0ZS5zdGFydCx0PXRoaXMuc3RhdGUuc3RhcnRMb2M7cmV0dXJuIHRoaXMubmV4dCgpLHRoaXMuanN4UGFyc2VFbGVtZW50QXQoZSx0KX07dmFyIGJlPWZ1bmN0aW9uKGUpe2UuZXh0ZW5kKCJwYXJzZUV4cHJBdG9tIixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodGhpcy5tYXRjaChSLmpzeFRleHQpKXt2YXIgcj10aGlzLnBhcnNlTGl0ZXJhbCh0aGlzLnN0YXRlLnZhbHVlLCJKU1hUZXh0Iik7cmV0dXJuIHIuZXh0cmE9bnVsbCxyfXJldHVybiB0aGlzLm1hdGNoKFIuanN4VGFnU3RhcnQpP3RoaXMuanN4UGFyc2VFbGVtZW50KCk6ZS5jYWxsKHRoaXMsdCl9fSksZS5leHRlbmQoInJlYWRUb2tlbiIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHRoaXMuc3RhdGUuaW5Qcm9wZXJ0eU5hbWUpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3ZhciByPXRoaXMuY3VyQ29udGV4dCgpO2lmKHI9PT1VLmpfZXhwcilyZXR1cm4gdGhpcy5qc3hSZWFkVG9rZW4oKTtpZihyPT09VS5qX29UYWd8fHI9PT1VLmpfY1RhZyl7aWYoaSh0KSlyZXR1cm4gdGhpcy5qc3hSZWFkV29yZCgpO2lmKDYyPT09dClyZXR1cm4rK3RoaXMuc3RhdGUucG9zLHRoaXMuZmluaXNoVG9rZW4oUi5qc3hUYWdFbmQpO2lmKCgzND09PXR8fDM5PT09dCkmJnI9PT1VLmpfb1RhZylyZXR1cm4gdGhpcy5qc3hSZWFkU3RyaW5nKHQpfXJldHVybiA2MD09PXQmJnRoaXMuc3RhdGUuZXhwckFsbG93ZWQ/KCsrdGhpcy5zdGF0ZS5wb3MsdGhpcy5maW5pc2hUb2tlbihSLmpzeFRhZ1N0YXJ0KSk6ZS5jYWxsKHRoaXMsdCl9fSksZS5leHRlbmQoInVwZGF0ZUNvbnRleHQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZih0aGlzLm1hdGNoKFIuYnJhY2VMKSl7dmFyIHI9dGhpcy5jdXJDb250ZXh0KCk7cj09PVUual9vVGFnP3RoaXMuc3RhdGUuY29udGV4dC5wdXNoKFUuYnJhY2VFeHByZXNzaW9uKTpyPT09VS5qX2V4cHI/dGhpcy5zdGF0ZS5jb250ZXh0LnB1c2goVS50ZW1wbGF0ZVF1YXNpKTplLmNhbGwodGhpcyx0KSx0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPSEwfWVsc2V7aWYoIXRoaXMubWF0Y2goUi5zbGFzaCl8fHQhPT1SLmpzeFRhZ1N0YXJ0KXJldHVybiBlLmNhbGwodGhpcyx0KTt0aGlzLnN0YXRlLmNvbnRleHQubGVuZ3RoLT0yLHRoaXMuc3RhdGUuY29udGV4dC5wdXNoKFUual9jVGFnKSx0aGlzLnN0YXRlLmV4cHJBbGxvd2VkPSExfX19KX07Sy5lc3RyZWU9b2UsSy5mbG93PWNlLEsuanN4PWJlLHQucGFyc2U9aCx0LnBhcnNlRXhwcmVzc2lvbj1tLHQudG9rVHlwZXM9Un0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIxKSxpPXIoNDMxKSxzPXIoMTQxKSxhPXIoMTUwKSgiSUVfUFJPVE8iKSxvPWZ1bmN0aW9uKCl7fSx1PWZ1bmN0aW9uKCl7dmFyIGUsdD1yKDIzMCkoImlmcmFtZSIpLG49cy5sZW5ndGg7Zm9yKHQuc3R5bGUuZGlzcGxheT0ibm9uZSIscig0MjYpLmFwcGVuZENoaWxkKHQpLHQuc3JjPSJqYXZhc2NyaXB0OiIsZT10LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsZS5vcGVuKCksZS53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDxcL3NjcmlwdD4iKSxlLmNsb3NlKCksdT1lLkY7bi0tOylkZWxldGUgdS5wcm90b3R5cGVbc1tuXV07cmV0dXJuIHUoKX07ZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhvLnByb3RvdHlwZT1uKGUpLHI9bmV3IG8sby5wcm90b3R5cGU9bnVsbCxyW2FdPWUpOnI9dSgpLHZvaWQgMD09PXQ/cjppKHIsdCl9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0LmY9e30ucHJvcGVydHlJc0VudW1lcmFibGV9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMykuZixpPXIoMjgpLHM9cigxMykoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhaShlPXI/ZTplLnByb3RvdHlwZSxzKSYmbihlLHMse2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPTAsbj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK3IrbikudG9TdHJpbmcoMzYpKX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QifSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiOyFmdW5jdGlvbigpe3QuYXN0PXIoNDYxKSx0LmNvZGU9cigyNDApLHQua2V5d29yZD1yKDQ2Mil9KCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrdDxyOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pfX12YXIgaT1yKDU0Nikscz1yKDU0NyksYT1yKDU0OCksbz1yKDU0OSksdT1yKDU1MCk7bi5wcm90b3R5cGUuY2xlYXI9aSxuLnByb3RvdHlwZS5kZWxldGU9cyxuLnByb3RvdHlwZS5nZXQ9YSxuLnByb3RvdHlwZS5oYXM9byxuLnByb3RvdHlwZS5zZXQ9dSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXRoaXMuX19kYXRhX189bmV3IGkoZSk7dGhpcy5zaXplPXQuc2l6ZX12YXIgaT1yKDk4KSxzPXIoNTY1KSxhPXIoNTY2KSxvPXIoNTY3KSx1PXIoNTY4KSxsPXIoNTY5KTtuLnByb3RvdHlwZS5jbGVhcj1zLG4ucHJvdG90eXBlLmRlbGV0ZT1hLG4ucHJvdG90eXBlLmdldD1vLG4ucHJvdG90eXBlLmhhcz11LG4ucHJvdG90eXBlLnNldD1sLGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOylpZihpKGVbcl1bMF0sdCkpcmV0dXJuIHI7cmV0dXJuLTF9dmFyIGk9cig0Nik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBhKHMoZSx0LGkpLGUrIiIpfXZhciBpPXIoMTEwKSxzPXIoNTYwKSxhPXIoNTYzKTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9fWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGkoZnVuY3Rpb24odCxyKXt2YXIgbj0tMSxpPXIubGVuZ3RoLGE9aT4xP3JbaS0xXTp2b2lkIDAsbz1pPjI/clsyXTp2b2lkIDA7Zm9yKGE9ZS5sZW5ndGg+MyYmImZ1bmN0aW9uIj09dHlwZW9mIGE/KGktLSxhKTp2b2lkIDAsbyYmcyhyWzBdLHJbMV0sbykmJihhPWk8Mz92b2lkIDA6YSxpPTEpLHQ9T2JqZWN0KHQpOysrbjxpOyl7dmFyIHU9cltuXTt1JiZlKHQsdSxuLGEpfXJldHVybiB0fSl9dmFyIGk9cigxMDEpLHM9cigxNzIpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj1lLl9fZGF0YV9fO3JldHVybiBpKHQpP3JbInN0cmluZyI9PXR5cGVvZiB0PyJzdHJpbmciOiJoYXNoIl06ci5tYXB9dmFyIGk9cig1NDQpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIGU9PT0oImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQucHJvdG90eXBlfHxuKX12YXIgbj1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzgpLGk9bihPYmplY3QsImNyZWF0ZSIpO2UuZXhwb3J0cz1pfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PS0xLHI9QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbKyt0XT1lfSkscn1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZXx8aShlKSlyZXR1cm4gZTt2YXIgdD1lKyIiO3JldHVybiIwIj09dCYmMS9lPT0tcz8iLTAiOnR9dmFyIGk9cig2Mikscz0xLzA7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaShlLHMpfXZhciBpPXIoMTY0KSxzPTQ7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGV9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscixuKXtlPXMoZSk/ZTp1KGUpLHI9ciYmIW4/byhyKTowO3ZhciBjPWUubGVuZ3RoO3JldHVybiByPDAmJihyPWwoYytyLDApKSxhKGUpP3I8PWMmJmUuaW5kZXhPZih0LHIpPi0xOiEhYyYmaShlLHQscik+LTF9dmFyIGk9cigxNjYpLHM9cigyNCksYT1yKDU4Nyksbz1yKDQ4KSx1PXIoMjgwKSxsPU1hdGgubWF4O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDkzKSxpPXIoMjUpLHM9T2JqZWN0LnByb3RvdHlwZSxhPXMuaGFzT3duUHJvcGVydHksbz1zLnByb3BlcnR5SXNFbnVtZXJhYmxlLHU9bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP246ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSkmJmEuY2FsbChlLCJjYWxsZWUiKSYmIW8uY2FsbChlLCJjYWxsZWUiKX07ZS5leHBvcnRzPXV9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciBuPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxpPXIoMTcpLHM9cig1OTYpLGE9Im9iamVjdCI9PW4odCkmJnQmJiF0Lm5vZGVUeXBlJiZ0LG89YSYmIm9iamVjdCI9PW4oZSkmJmUmJiFlLm5vZGVUeXBlJiZlLHU9byYmby5leHBvcnRzPT09YSxsPXU/aS5CdWZmZXI6dm9pZCAwLGM9bD9sLmlzQnVmZmVyOnZvaWQgMCxmPWN8fHM7ZS5leHBvcnRzPWZ9KS5jYWxsKHQscigzOSkoZSkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIG51bGw9PWU/IiI6aShlKX12YXIgaT1yKDI1Myk7ZS5leHBvcnRzPW59LDk2LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gby5tZW1iZXJFeHByZXNzaW9uKG8uaWRlbnRpZmllcigicmVnZW5lcmF0b3JSdW50aW1lIiksby5pZGVudGlmaWVyKGUpLCExKX1mdW5jdGlvbiBpKGUpe3JldHVybiBlLmlzUmVmZXJlbmNlZCgpfHxlLnBhcmVudFBhdGguaXNBc3NpZ25tZW50RXhwcmVzc2lvbih7bGVmdDplLm5vZGV9KX1mdW5jdGlvbiBzKGUsdCl7dD9lLnJlcGxhY2VXaXRoKHQpOmUucmVtb3ZlKCl9dC5fX2VzTW9kdWxlPSEwLHQucnVudGltZVByb3BlcnR5PW4sdC5pc1JlZmVyZW5jZT1pLHQucmVwbGFjZVdpdGhPclJlbW92ZT1zO3ZhciBhPXIoMSksbz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSxyKXt2YXIgbj17c2VlbjpbXSxzdHlsaXplOmF9O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYobi5kZXB0aD1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihuLmNvbG9ycz1hcmd1bWVudHNbM10pLG0ocik/bi5zaG93SGlkZGVuPXI6ciYmdC5fZXh0ZW5kKG4scikseChuLnNob3dIaWRkZW4pJiYobi5zaG93SGlkZGVuPSExKSx4KG4uZGVwdGgpJiYobi5kZXB0aD0yKSx4KG4uY29sb3JzKSYmKG4uY29sb3JzPSExKSx4KG4uY3VzdG9tSW5zcGVjdCkmJihuLmN1c3RvbUluc3BlY3Q9ITApLG4uY29sb3JzJiYobi5zdHlsaXplPXMpLHUobixlLG4uZGVwdGgpfWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1pLnN0eWxlc1t0XTtyZXR1cm4gcj8iG1siK2kuY29sb3JzW3JdWzBdKyJtIitlKyIbWyIraS5jb2xvcnNbcl1bMV0rIm0iOmV9ZnVuY3Rpb24gYShlLHQpe3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e307cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihlLHIpe3RbZV09ITB9KSx0fWZ1bmN0aW9uIHUoZSxyLG4pe2lmKGUuY3VzdG9tSW5zcGVjdCYmciYmQyhyLmluc3BlY3QpJiZyLmluc3BlY3QhPT10Lmluc3BlY3QmJighci5jb25zdHJ1Y3Rvcnx8ci5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPT1yKSl7dmFyIGk9ci5pbnNwZWN0KG4sZSk7cmV0dXJuIGIoaSl8fChpPXUoZSxpLG4pKSxpfXZhciBzPWwoZSxyKTtpZihzKXJldHVybiBzO3ZhciBhPU9iamVjdC5rZXlzKHIpLG09byhhKTtpZihlLnNob3dIaWRkZW4mJihhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHIpKSxEKHIpJiYoYS5pbmRleE9mKCJtZXNzYWdlIik+PTB8fGEuaW5kZXhPZigiZGVzY3JpcHRpb24iKT49MCkpcmV0dXJuIGMocik7aWYoMD09PWEubGVuZ3RoKXtpZihDKHIpKXt2YXIgeT1yLm5hbWU/IjogIityLm5hbWU6IiI7cmV0dXJuIGUuc3R5bGl6ZSgiW0Z1bmN0aW9uIit5KyJdIiwic3BlY2lhbCIpfWlmKEEocikpcmV0dXJuIGUuc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwociksInJlZ2V4cCIpO2lmKF8ocikpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHIpLCJkYXRlIik7aWYoRChyKSlyZXR1cm4gYyhyKX12YXIgdj0iIixnPSExLEU9WyJ7IiwifSJdO2lmKGgocikmJihnPSEwLEU9WyJbIiwiXSJdKSxDKHIpKXt2PSIgW0Z1bmN0aW9uIisoci5uYW1lPyI6ICIrci5uYW1lOiIiKSsiXSJ9aWYoQShyKSYmKHY9IiAiK1JlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSksXyhyKSYmKHY9IiAiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwocikpLEQocikmJih2PSIgIitjKHIpKSwwPT09YS5sZW5ndGgmJighZ3x8MD09ci5sZW5ndGgpKXJldHVybiBFWzBdK3YrRVsxXTtpZihuPDApcmV0dXJuIEEocik/ZS5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyKSwicmVnZXhwIik6ZS5zdHlsaXplKCJbT2JqZWN0XSIsInNwZWNpYWwiKTtlLnNlZW4ucHVzaChyKTt2YXIgeDtyZXR1cm4geD1nP2YoZSxyLG4sbSxhKTphLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gcChlLHIsbixtLHQsZyl9KSxlLnNlZW4ucG9wKCksZCh4LHYsRSl9ZnVuY3Rpb24gbChlLHQpe2lmKHgodCkpcmV0dXJuIGUuc3R5bGl6ZSgidW5kZWZpbmVkIiwidW5kZWZpbmVkIik7aWYoYih0KSl7dmFyIHI9IiciK0pTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoL14ifCIkL2csIiIpLnJlcGxhY2UoLycvZywiXFwnIikucmVwbGFjZSgvXFwiL2csJyInKSsiJyI7cmV0dXJuIGUuc3R5bGl6ZShyLCJzdHJpbmciKX1yZXR1cm4gZyh0KT9lLnN0eWxpemUoIiIrdCwibnVtYmVyIik6bSh0KT9lLnN0eWxpemUoIiIrdCwiYm9vbGVhbiIpOnkodCk/ZS5zdHlsaXplKCJudWxsIiwibnVsbCIpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3JldHVybiJbIitFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSsiXSJ9ZnVuY3Rpb24gZihlLHQscixuLGkpe2Zvcih2YXIgcz1bXSxhPTAsbz10Lmxlbmd0aDthPG87KythKVQodCxTdHJpbmcoYSkpP3MucHVzaChwKGUsdCxyLG4sU3RyaW5nKGEpLCEwKSk6cy5wdXNoKCIiKTtyZXR1cm4gaS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2kubWF0Y2goL15cZCskLyl8fHMucHVzaChwKGUsdCxyLG4saSwhMCkpfSksc31mdW5jdGlvbiBwKGUsdCxyLG4saSxzKXt2YXIgYSxvLGw7aWYobD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsaSl8fHt2YWx1ZTp0W2ldfSxsLmdldD9vPWwuc2V0P2Uuc3R5bGl6ZSgiW0dldHRlci9TZXR0ZXJdIiwic3BlY2lhbCIpOmUuc3R5bGl6ZSgiW0dldHRlcl0iLCJzcGVjaWFsIik6bC5zZXQmJihvPWUuc3R5bGl6ZSgiW1NldHRlcl0iLCJzcGVjaWFsIikpLFQobixpKXx8KGE9IlsiK2krIl0iKSxvfHwoZS5zZWVuLmluZGV4T2YobC52YWx1ZSk8MD8obz15KHIpP3UoZSxsLnZhbHVlLG51bGwpOnUoZSxsLnZhbHVlLHItMSksby5pbmRleE9mKCJcbiIpPi0xJiYobz1zP28uc3BsaXQoIlxuIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIgICIrZX0pLmpvaW4oIlxuIikuc3Vic3RyKDIpOiJcbiIrby5zcGxpdCgiXG4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiAgICIrZX0pLmpvaW4oIlxuIikpKTpvPWUuc3R5bGl6ZSgiW0NpcmN1bGFyXSIsInNwZWNpYWwiKSkseChhKSl7aWYocyYmaS5tYXRjaCgvXlxkKyQvKSlyZXR1cm4gbzthPUpTT04uc3RyaW5naWZ5KCIiK2kpLGEubWF0Y2goL14iKFthLXpBLVpfXVthLXpBLVpfMC05XSopIiQvKT8oYT1hLnN1YnN0cigxLGEubGVuZ3RoLTIpLGE9ZS5zdHlsaXplKGEsIm5hbWUiKSk6KGE9YS5yZXBsYWNlKC8nL2csIlxcJyIpLnJlcGxhY2UoL1xcIi9nLCciJykucmVwbGFjZSgvKF4ifCIkKS9nLCInIiksYT1lLnN0eWxpemUoYSwic3RyaW5nIikpfXJldHVybiBhKyI6ICIrb31mdW5jdGlvbiBkKGUsdCxyKXt2YXIgbj0wO3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBuKyssdC5pbmRleE9mKCJcbiIpPj0wJiZuKyssZSt0LnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csIiIpLmxlbmd0aCsxfSwwKT42MD9yWzBdKygiIj09PXQ/IiI6dCsiXG4gIikrIiAiK2Uuam9pbigiLFxuICAiKSsiICIrclsxXTpyWzBdK3QrIiAiK2Uuam9pbigiLCAiKSsiICIrclsxXX1mdW5jdGlvbiBoKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIG0oZSl7cmV0dXJuImJvb2xlYW4iPT10eXBlb2YgZX1mdW5jdGlvbiB5KGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiB2KGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfWZ1bmN0aW9uIGIoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfWZ1bmN0aW9uIEUoZSl7cmV0dXJuInN5bWJvbCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjpPKGUpKX1mdW5jdGlvbiB4KGUpe3JldHVybiB2b2lkIDA9PT1lfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IFJlZ0V4cF0iPT09UChlKX1mdW5jdGlvbiBTKGUpe3JldHVybiJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6TyhlKSkmJm51bGwhPT1lfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIFMoZSkmJiJbb2JqZWN0IERhdGVdIj09PVAoZSl9ZnVuY3Rpb24gRChlKXtyZXR1cm4gUyhlKSYmKCJbb2JqZWN0IEVycm9yXSI9PT1QKGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIEMoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gdyhlKXsKcmV0dXJuIG51bGw9PT1lfHwiYm9vbGVhbiI9PXR5cGVvZiBlfHwibnVtYmVyIj09dHlwZW9mIGV8fCJzdHJpbmciPT10eXBlb2YgZXx8InN5bWJvbCI9PT0odm9pZCAwPT09ZT8idW5kZWZpbmVkIjpPKGUpKXx8dm9pZCAwPT09ZX1mdW5jdGlvbiBQKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZTwxMD8iMCIrZS50b1N0cmluZygxMCk6ZS50b1N0cmluZygxMCl9ZnVuY3Rpb24gRigpe3ZhciBlPW5ldyBEYXRlLHQ9W2soZS5nZXRIb3VycygpKSxrKGUuZ2V0TWludXRlcygpKSxrKGUuZ2V0U2Vjb25kcygpKV0uam9pbigiOiIpO3JldHVybltlLmdldERhdGUoKSxNW2UuZ2V0TW9udGgoKV0sdF0uam9pbigiICIpfWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dmFyIE89ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LEI9LyVbc2RqJV0vZzt0LmZvcm1hdD1mdW5jdGlvbihlKXtpZighYihlKSl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQucHVzaChpKGFyZ3VtZW50c1tyXSkpO3JldHVybiB0LmpvaW4oIiAiKX1mb3IodmFyIHI9MSxuPWFyZ3VtZW50cyxzPW4ubGVuZ3RoLGE9U3RyaW5nKGUpLnJlcGxhY2UoQixmdW5jdGlvbihlKXtpZigiJSUiPT09ZSlyZXR1cm4iJSI7aWYocj49cylyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZSIlcyI6cmV0dXJuIFN0cmluZyhuW3IrK10pO2Nhc2UiJWQiOnJldHVybiBOdW1iZXIobltyKytdKTtjYXNlIiVqIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KG5bcisrXSl9Y2F0Y2goZSl7cmV0dXJuIltDaXJjdWxhcl0ifWRlZmF1bHQ6cmV0dXJuIGV9fSksbz1uW3JdO3I8cztvPW5bKytyXSl5KG8pfHwhUyhvKT9hKz0iICIrbzphKz0iICIraShvKTtyZXR1cm4gYX0sdC5kZXByZWNhdGU9ZnVuY3Rpb24ocixpKXtmdW5jdGlvbiBzKCl7aWYoIWEpe2lmKG4udGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3IoaSk7bi50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2UoaSk6Y29uc29sZS5lcnJvcihpKSxhPSEwfXJldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZih4KGUucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuZGVwcmVjYXRlKHIsaSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZighMD09PW4ubm9EZXByZWNhdGlvbilyZXR1cm4gcjt2YXIgYT0hMTtyZXR1cm4gc307dmFyIFIsST17fTt0LmRlYnVnbG9nPWZ1bmN0aW9uKGUpe2lmKHgoUikmJihSPW4uZW52Lk5PREVfREVCVUd8fCIiKSxlPWUudG9VcHBlckNhc2UoKSwhSVtlXSlpZihuZXcgUmVnRXhwKCJcXGIiK2UrIlxcYiIsImkiKS50ZXN0KFIpKXt2YXIgcj1uLnBpZDtJW2VdPWZ1bmN0aW9uKCl7dmFyIG49dC5mb3JtYXQuYXBwbHkodCxhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoIiVzICVkOiAlcyIsZSxyLG4pfX1lbHNlIElbZV09ZnVuY3Rpb24oKXt9O3JldHVybiBJW2VdfSx0Lmluc3BlY3Q9aSxpLmNvbG9ycz17Ym9sZDpbMSwyMl0saXRhbGljOlszLDIzXSx1bmRlcmxpbmU6WzQsMjRdLGludmVyc2U6WzcsMjddLHdoaXRlOlszNywzOV0sZ3JleTpbOTAsMzldLGJsYWNrOlszMCwzOV0sYmx1ZTpbMzQsMzldLGN5YW46WzM2LDM5XSxncmVlbjpbMzIsMzldLG1hZ2VudGE6WzM1LDM5XSxyZWQ6WzMxLDM5XSx5ZWxsb3c6WzMzLDM5XX0saS5zdHlsZXM9e3NwZWNpYWw6ImN5YW4iLG51bWJlcjoieWVsbG93Iixib29sZWFuOiJ5ZWxsb3ciLHVuZGVmaW5lZDoiZ3JleSIsbnVsbDoiYm9sZCIsc3RyaW5nOiJncmVlbiIsZGF0ZToibWFnZW50YSIscmVnZXhwOiJyZWQifSx0LmlzQXJyYXk9aCx0LmlzQm9vbGVhbj1tLHQuaXNOdWxsPXksdC5pc051bGxPclVuZGVmaW5lZD12LHQuaXNOdW1iZXI9Zyx0LmlzU3RyaW5nPWIsdC5pc1N5bWJvbD1FLHQuaXNVbmRlZmluZWQ9eCx0LmlzUmVnRXhwPUEsdC5pc09iamVjdD1TLHQuaXNEYXRlPV8sdC5pc0Vycm9yPUQsdC5pc0Z1bmN0aW9uPUMsdC5pc1ByaW1pdGl2ZT13LHQuaXNCdWZmZXI9cig2MjcpO3ZhciBNPVsiSmFuIiwiRmViIiwiTWFyIiwiQXByIiwiTWF5IiwiSnVuIiwiSnVsIiwiQXVnIiwiU2VwIiwiT2N0IiwiTm92IiwiRGVjIl07dC5sb2c9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZygiJXMgLSAlcyIsRigpLHQuZm9ybWF0LmFwcGx5KHQsYXJndW1lbnRzKSl9LHQuaW5oZXJpdHM9cig2MjYpLHQuX2V4dGVuZD1mdW5jdGlvbihlLHQpe2lmKCF0fHwhUyh0KSlyZXR1cm4gZTtmb3IodmFyIHI9T2JqZWN0LmtleXModCksbj1yLmxlbmd0aDtuLS07KWVbcltuXV09dFtyW25dXTtyZXR1cm4gZX19KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSxyKDgpKX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBzPXIoMTEpLGE9aShzKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4uY3dkKCk7aWYoIm9iamVjdCI9PT0odm9pZCAwPT09dS5kZWZhdWx0PyJ1bmRlZmluZWQiOigwLGEuZGVmYXVsdCkodS5kZWZhdWx0KSkpcmV0dXJuIG51bGw7dmFyIHI9Zlt0XTtpZighcil7cj1uZXcgdS5kZWZhdWx0O3ZhciBpPWMuZGVmYXVsdC5qb2luKHQsIi5iYWJlbHJjIik7ci5pZD1pLHIuZmlsZW5hbWU9aSxyLnBhdGhzPXUuZGVmYXVsdC5fbm9kZU1vZHVsZVBhdGhzKHQpLGZbdF09cn10cnl7cmV0dXJuIHUuZGVmYXVsdC5fcmVzb2x2ZUZpbGVuYW1lKGUscil9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fTt2YXIgbz1yKDExNSksdT1pKG8pLGw9cigxOSksYz1pKGwpLGY9e307ZS5leHBvcnRzPXQuZGVmYXVsdH0pLmNhbGwodCxyKDgpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigxMzMpLHM9bihpKSxhPXIoMyksbz1uKGEpLHU9cig0MiksbD1uKHUpLGM9cig0MSksZj1uKGMpLHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpeygwLG8uZGVmYXVsdCkodGhpcyx0KTt2YXIgcj0oMCxsLmRlZmF1bHQpKHRoaXMsZS5jYWxsKHRoaXMpKTtyZXR1cm4gci5keW5hbWljRGF0YT17fSxyfXJldHVybigwLGYuZGVmYXVsdCkodCxlKSx0LnByb3RvdHlwZS5zZXREeW5hbWljPWZ1bmN0aW9uKGUsdCl7dGhpcy5keW5hbWljRGF0YVtlXT10fSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7aWYodGhpcy5oYXModCkpcmV0dXJuIGUucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsdCk7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuZHluYW1pY0RhdGEsdCkpe3ZhciByPXRoaXMuZHluYW1pY0RhdGFbdF0oKTtyZXR1cm4gdGhpcy5zZXQodCxyKSxyfX0sdH0ocy5kZWZhdWx0KTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDMpLHM9bihpKSxhPXIoMjM5KSxvPW4oYSksdT0oMCxvLmRlZmF1bHQpKCJiYWJlbDp2ZXJib3NlIiksbD0oMCxvLmRlZmF1bHQpKCJiYWJlbCIpLGM9W10sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxzLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5maWxlbmFtZT1yLHRoaXMuZmlsZT10fXJldHVybiBlLnByb3RvdHlwZS5fYnVpbGRNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PSJbQkFCRUxdICIrdGhpcy5maWxlbmFtZTtyZXR1cm4gZSYmKHQrPSI6ICIrZSksdH0sZS5wcm90b3R5cGUud2Fybj1mdW5jdGlvbihlKXtjb25zb2xlLndhcm4odGhpcy5fYnVpbGRNZXNzYWdlKGUpKX0sZS5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3KGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpFcnJvcikodGhpcy5fYnVpbGRNZXNzYWdlKGUpKX0sZS5wcm90b3R5cGUuZGVwcmVjYXRlPWZ1bmN0aW9uKGUpe3RoaXMuZmlsZS5vcHRzJiZ0aGlzLmZpbGUub3B0cy5zdXBwcmVzc0RlcHJlY2F0aW9uTWVzc2FnZXN8fChlPXRoaXMuX2J1aWxkTWVzc2FnZShlKSxjLmluZGV4T2YoZSk+PTB8fChjLnB1c2goZSksY29uc29sZS5lcnJvcihlKSkpfSxlLnByb3RvdHlwZS52ZXJib3NlPWZ1bmN0aW9uKGUpe3UuZW5hYmxlZCYmdSh0aGlzLl9idWlsZE1lc3NhZ2UoZSkpfSxlLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbihlKXtsLmVuYWJsZWQmJmwodGhpcy5fYnVpbGRNZXNzYWdlKGUpKX0sZS5wcm90b3R5cGUuZGVvcHQ9ZnVuY3Rpb24oZSx0KXt0aGlzLmRlYnVnKHQpfSxlfSgpO3QuZGVmYXVsdD1mLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWUubm9kZSxuPXIuc291cmNlP3Iuc291cmNlLnZhbHVlOm51bGwsaT10Lm1ldGFkYXRhLm1vZHVsZXMuZXhwb3J0cyxzPWUuZ2V0KCJkZWNsYXJhdGlvbiIpO2lmKHMuaXNTdGF0ZW1lbnQoKSl7dmFyIG89cy5nZXRCaW5kaW5nSWRlbnRpZmllcnMoKTtmb3IodmFyIGwgaW4gbylpLmV4cG9ydGVkLnB1c2gobCksaS5zcGVjaWZpZXJzLnB1c2goe2tpbmQ6ImxvY2FsIixsb2NhbDpsLGV4cG9ydGVkOmUuaXNFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oKT8iZGVmYXVsdCI6bH0pfWlmKGUuaXNFeHBvcnROYW1lZERlY2xhcmF0aW9uKCkmJnIuc3BlY2lmaWVycylmb3IodmFyIGM9ci5zcGVjaWZpZXJzLGY9QXJyYXkuaXNBcnJheShjKSxwPTAsYz1mP2M6KDAsYS5kZWZhdWx0KShjKTs7KXt2YXIgZDtpZihmKXtpZihwPj1jLmxlbmd0aClicmVhaztkPWNbcCsrXX1lbHNle2lmKHA9Yy5uZXh0KCkscC5kb25lKWJyZWFrO2Q9cC52YWx1ZX12YXIgaD1kLG09aC5leHBvcnRlZC5uYW1lO2kuZXhwb3J0ZWQucHVzaChtKSx1LmlzRXhwb3J0RGVmYXVsdFNwZWNpZmllcihoKSYmaS5zcGVjaWZpZXJzLnB1c2goe2tpbmQ6ImV4dGVybmFsIixsb2NhbDptLGV4cG9ydGVkOm0sc291cmNlOm59KSx1LmlzRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyKGgpJiZpLnNwZWNpZmllcnMucHVzaCh7a2luZDoiZXh0ZXJuYWwtbmFtZXNwYWNlIixleHBvcnRlZDptLHNvdXJjZTpufSk7dmFyIHk9aC5sb2NhbDt5JiYobiYmaS5zcGVjaWZpZXJzLnB1c2goe2tpbmQ6ImV4dGVybmFsIixsb2NhbDp5Lm5hbWUsZXhwb3J0ZWQ6bSxzb3VyY2U6bn0pLG58fGkuc3BlY2lmaWVycy5wdXNoKHtraW5kOiJsb2NhbCIsbG9jYWw6eS5uYW1lLGV4cG9ydGVkOm19KSl9ZS5pc0V4cG9ydEFsbERlY2xhcmF0aW9uKCkmJmkuc3BlY2lmaWVycy5wdXNoKHtraW5kOiJleHRlcm5hbC1hbGwiLHNvdXJjZTpufSl9ZnVuY3Rpb24gaShlKXtlLnNraXAoKX10Ll9fZXNNb2R1bGU9ITAsdC5JbXBvcnREZWNsYXJhdGlvbj10Lk1vZHVsZURlY2xhcmF0aW9uPXZvaWQgMDt2YXIgcz1yKDIpLGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShzKTt0LkV4cG9ydERlY2xhcmF0aW9uPW4sdC5TY29wZT1pO3ZhciBvPXIoMSksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG8pO3QuTW9kdWxlRGVjbGFyYXRpb249e2VudGVyOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlO3Iuc291cmNlJiYoci5zb3VyY2UudmFsdWU9dC5yZXNvbHZlTW9kdWxlU291cmNlKHIuc291cmNlLnZhbHVlKSl9fSx0LkltcG9ydERlY2xhcmF0aW9uPXtleGl0OmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlLG49W10saT1bXTt0Lm1ldGFkYXRhLm1vZHVsZXMuaW1wb3J0cy5wdXNoKHtzb3VyY2U6ci5zb3VyY2UudmFsdWUsaW1wb3J0ZWQ6aSxzcGVjaWZpZXJzOm59KTtmb3IodmFyIHM9ZS5nZXQoInNwZWNpZmllcnMiKSxvPUFycmF5LmlzQXJyYXkocyksdT0wLHM9bz9zOigwLGEuZGVmYXVsdCkocyk7Oyl7dmFyIGw7aWYobyl7aWYodT49cy5sZW5ndGgpYnJlYWs7bD1zW3UrK119ZWxzZXtpZih1PXMubmV4dCgpLHUuZG9uZSlicmVhaztsPXUudmFsdWV9dmFyIGM9bCxmPWMubm9kZS5sb2NhbC5uYW1lO2lmKGMuaXNJbXBvcnREZWZhdWx0U3BlY2lmaWVyKCkmJihpLnB1c2goImRlZmF1bHQiKSxuLnB1c2goe2tpbmQ6Im5hbWVkIixpbXBvcnRlZDoiZGVmYXVsdCIsbG9jYWw6Zn0pKSxjLmlzSW1wb3J0U3BlY2lmaWVyKCkpe3ZhciBwPWMubm9kZS5pbXBvcnRlZC5uYW1lO2kucHVzaChwKSxuLnB1c2goe2tpbmQ6Im5hbWVkIixpbXBvcnRlZDpwLGxvY2FsOmZ9KX1jLmlzSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyKCkmJihpLnB1c2goIioiKSxuLnB1c2goe2tpbmQ6Im5hbWVzcGFjZSIsbG9jYWw6Zn0pKX19fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUsdCl7dmFyIHI9dHx8aS5FWFRFTlNJT05TLG49RC5kZWZhdWx0LmV4dG5hbWUoZSk7cmV0dXJuKDAseC5kZWZhdWx0KShyLG4pfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGU/QXJyYXkuaXNBcnJheShlKT9lOiJzdHJpbmciPT10eXBlb2YgZT9lLnNwbGl0KCIsIik6W2VdOltdfWZ1bmN0aW9uIGEoZSl7aWYoIWUpcmV0dXJuIG5ldyBSZWdFeHAoLy5eLyk7aWYoQXJyYXkuaXNBcnJheShlKSYmKGU9bmV3IFJlZ0V4cChlLm1hcChtLmRlZmF1bHQpLmpvaW4oInwiKSwiaSIpKSwic3RyaW5nIj09dHlwZW9mIGUpe2U9KDAsdy5kZWZhdWx0KShlKSwoKDAsdi5kZWZhdWx0KShlLCIuLyIpfHwoMCx2LmRlZmF1bHQpKGUsIiovIikpJiYoZT1lLnNsaWNlKDIpKSwoMCx2LmRlZmF1bHQpKGUsIioqLyIpJiYoZT1lLnNsaWNlKDMpKTt2YXIgdD1iLmRlZmF1bHQubWFrZVJlKGUse25vY2FzZTohMH0pO3JldHVybiBuZXcgUmVnRXhwKHQuc291cmNlLnNsaWNlKDEsLTEpLCJpIil9aWYoKDAsUy5kZWZhdWx0KShlKSlyZXR1cm4gZTt0aHJvdyBuZXcgVHlwZUVycm9yKCJpbGxlZ2FsIHR5cGUgZm9yIHJlZ2V4aWZ5Iil9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBlPyJib29sZWFuIj09dHlwZW9mIGU/byhbZV0sdCk6InN0cmluZyI9PXR5cGVvZiBlP28ocyhlKSx0KTpBcnJheS5pc0FycmF5KGUpPyh0JiYoZT1lLm1hcCh0KSksZSk6W2VdOltdfWZ1bmN0aW9uIHUoZSl7cmV0dXJuInRydWUiPT09ZXx8MT09ZXx8ISgiZmFsc2UiPT09ZXx8MD09ZXx8IWUpJiZlfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdLHI9YXJndW1lbnRzWzJdO2lmKGU9ZS5yZXBsYWNlKC9cXC9nLCIvIikscil7Zm9yKHZhciBuPXIsaT1BcnJheS5pc0FycmF5KG4pLHM9MCxuPWk/bjooMCxwLmRlZmF1bHQpKG4pOzspe3ZhciBhO2lmKGkpe2lmKHM+PW4ubGVuZ3RoKWJyZWFrO2E9bltzKytdfWVsc2V7aWYocz1uLm5leHQoKSxzLmRvbmUpYnJlYWs7YT1zLnZhbHVlfWlmKGMoYSxlKSlyZXR1cm4hMX1yZXR1cm4hMH1pZih0Lmxlbmd0aClmb3IodmFyIG89dCx1PUFycmF5LmlzQXJyYXkobyksbD0wLG89dT9vOigwLHAuZGVmYXVsdCkobyk7Oyl7dmFyIGY7aWYodSl7aWYobD49by5sZW5ndGgpYnJlYWs7Zj1vW2wrK119ZWxzZXtpZihsPW8ubmV4dCgpLGwuZG9uZSlicmVhaztmPWwudmFsdWV9dmFyIGQ9ZjtpZihjKGQsZSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2UodCk6ZS50ZXN0KHQpfXQuX19lc01vZHVsZT0hMCx0Lmluc3BlY3Q9dC5pbmhlcml0cz12b2lkIDA7dmFyIGY9cigyKSxwPW4oZiksZD1yKDExNyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImluaGVyaXRzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5pbmhlcml0c319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiaW5zcGVjdCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGQuaW5zcGVjdH19KSx0LmNhbkNvbXBpbGU9aSx0Lmxpc3Q9cyx0LnJlZ2V4aWZ5PWEsdC5hcnJheWlmeT1vLHQuYm9vbGVhbmlmeT11LHQuc2hvdWxkSWdub3JlPWw7dmFyIGg9cig1NzcpLG09bihoKSx5PXIoNTk1KSx2PW4oeSksZz1yKDYwMSksYj1uKGcpLEU9cigxMTEpLHg9bihFKSxBPXIoMjc2KSxTPW4oQSksXz1yKDE5KSxEPW4oXyksQz1yKDI4NCksdz1uKEMpO2kuRVhURU5TSU9OUz1bIi5qcyIsIi5qc3giLCIuZXM2IiwiLmVzIl19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtlLnZhcmlhbmNlJiYoInBsdXMiPT09ZS52YXJpYW5jZT90aGlzLnRva2VuKCIrIik6Im1pbnVzIj09PWUudmFyaWFuY2UmJnRoaXMudG9rZW4oIi0iKSksdGhpcy53b3JkKGUubmFtZSl9ZnVuY3Rpb24gaShlKXt0aGlzLnRva2VuKCIuLi4iKSx0aGlzLnByaW50KGUuYXJndW1lbnQsZSl9ZnVuY3Rpb24gcyhlKXt2YXIgdD1lLnByb3BlcnRpZXM7dGhpcy50b2tlbigieyIpLHRoaXMucHJpbnRJbm5lckNvbW1lbnRzKGUpLHQubGVuZ3RoJiYodGhpcy5zcGFjZSgpLHRoaXMucHJpbnRMaXN0KHQsZSx7aW5kZW50OiEwLHN0YXRlbWVudDohMH0pLHRoaXMuc3BhY2UoKSksdGhpcy50b2tlbigifSIpfWZ1bmN0aW9uIGEoZSl7dGhpcy5wcmludEpvaW4oZS5kZWNvcmF0b3JzLGUpLHRoaXMuX21ldGhvZChlKX1mdW5jdGlvbiBvKGUpe2lmKHRoaXMucHJpbnRKb2luKGUuZGVjb3JhdG9ycyxlKSxlLmNvbXB1dGVkKXRoaXMudG9rZW4oIlsiKSx0aGlzLnByaW50KGUua2V5LGUpLHRoaXMudG9rZW4oIl0iKTtlbHNle2lmKG0uaXNBc3NpZ25tZW50UGF0dGVybihlLnZhbHVlKSYmbS5pc0lkZW50aWZpZXIoZS5rZXkpJiZlLmtleS5uYW1lPT09ZS52YWx1ZS5sZWZ0Lm5hbWUpcmV0dXJuIHZvaWQgdGhpcy5wcmludChlLnZhbHVlLGUpO2lmKHRoaXMucHJpbnQoZS5rZXksZSksZS5zaG9ydGhhbmQmJm0uaXNJZGVudGlmaWVyKGUua2V5KSYmbS5pc0lkZW50aWZpZXIoZS52YWx1ZSkmJmUua2V5Lm5hbWU9PT1lLnZhbHVlLm5hbWUpcmV0dXJufXRoaXMudG9rZW4oIjoiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLnZhbHVlLGUpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZS5lbGVtZW50cyxyPXQubGVuZ3RoO3RoaXMudG9rZW4oIlsiKSx0aGlzLnByaW50SW5uZXJDb21tZW50cyhlKTtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpPyhuPjAmJnRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGksZSksbjxyLTEmJnRoaXMudG9rZW4oIiwiKSk6dGhpcy50b2tlbigiLCIpfXRoaXMudG9rZW4oIl0iKX1mdW5jdGlvbiBsKGUpe3RoaXMud29yZCgiLyIrZS5wYXR0ZXJuKyIvIitlLmZsYWdzKX1mdW5jdGlvbiBjKGUpe3RoaXMud29yZChlLnZhbHVlPyJ0cnVlIjoiZmFsc2UiKX1mdW5jdGlvbiBmKCl7dGhpcy53b3JkKCJudWxsIil9ZnVuY3Rpb24gcChlKXt2YXIgdD10aGlzLmdldFBvc3NpYmxlUmF3KGUpLHI9ZS52YWx1ZSsiIjtudWxsPT10P3RoaXMubnVtYmVyKHIpOnRoaXMuZm9ybWF0Lm1pbmlmaWVkP3RoaXMubnVtYmVyKHQubGVuZ3RoPHIubGVuZ3RoP3Q6cik6dGhpcy5udW1iZXIodCl9ZnVuY3Rpb24gZChlLHQpe3ZhciByPXRoaXMuZ2V0UG9zc2libGVSYXcoZSk7aWYoIXRoaXMuZm9ybWF0Lm1pbmlmaWVkJiZudWxsIT1yKXJldHVybiB2b2lkIHRoaXMudG9rZW4ocik7dmFyIG49e3F1b3RlczptLmlzSlNYKHQpPyJkb3VibGUiOnRoaXMuZm9ybWF0LnF1b3Rlcyx3cmFwOiEwfTt0aGlzLmZvcm1hdC5qc29uQ29tcGF0aWJsZVN0cmluZ3MmJihuLmpzb249ITApO3ZhciBpPSgwLHYuZGVmYXVsdCkoZS52YWx1ZSxuKTtyZXR1cm4gdGhpcy50b2tlbihpKX10Ll9fZXNNb2R1bGU9ITAsdC5BcnJheVBhdHRlcm49dC5PYmplY3RQYXR0ZXJuPXQuUmVzdFByb3BlcnR5PXQuU3ByZWFkUHJvcGVydHk9dC5TcHJlYWRFbGVtZW50PXZvaWQgMCx0LklkZW50aWZpZXI9bix0LlJlc3RFbGVtZW50PWksdC5PYmplY3RFeHByZXNzaW9uPXMsdC5PYmplY3RNZXRob2Q9YSx0Lk9iamVjdFByb3BlcnR5PW8sdC5BcnJheUV4cHJlc3Npb249dSx0LlJlZ0V4cExpdGVyYWw9bCx0LkJvb2xlYW5MaXRlcmFsPWMsdC5OdWxsTGl0ZXJhbD1mLHQuTnVtZXJpY0xpdGVyYWw9cCx0LlN0cmluZ0xpdGVyYWw9ZDt2YXIgaD1yKDEpLG09ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSx5PXIoNDY5KSx2PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oeSk7dC5TcHJlYWRFbGVtZW50PWksdC5TcHJlYWRQcm9wZXJ0eT1pLHQuUmVzdFByb3BlcnR5PWksdC5PYmplY3RQYXR0ZXJuPXMsdC5BcnJheVBhdHRlcm49dX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUsdCl7dmFyIHI9ZS5ub2RlLG49ci5ib2R5O3IuYXN5bmM9ITE7dmFyIGk9Zi5mdW5jdGlvbkV4cHJlc3Npb24obnVsbCxbXSxmLmJsb2NrU3RhdGVtZW50KG4uYm9keSksITApO2kuc2hhZG93PSEwLG4uYm9keT1bZi5yZXR1cm5TdGF0ZW1lbnQoZi5jYWxsRXhwcmVzc2lvbihmLmNhbGxFeHByZXNzaW9uKHQsW2ldKSxbXSkpXSxyLmdlbmVyYXRvcj0hMX1mdW5jdGlvbiBzKGUsdCl7dmFyIHI9ZS5ub2RlLG49ZS5pc0Z1bmN0aW9uRGVjbGFyYXRpb24oKSxpPXIuaWQscz1oO2UuaXNBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbigpP2UuYXJyb3dGdW5jdGlvblRvU2hhZG93ZWQoKTohbiYmaSYmKHM9bSksci5hc3luYz0hMSxyLmdlbmVyYXRvcj0hMCxyLmlkPW51bGwsbiYmKHIudHlwZT0iRnVuY3Rpb25FeHByZXNzaW9uIik7dmFyIGE9Zi5jYWxsRXhwcmVzc2lvbih0LFtyXSksdT1zKHtOQU1FOmksUkVGOmUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJyZWYiKSxGVU5DVElPTjphLFBBUkFNUzpyLnBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5kb25lPXQuZG9uZXx8Zi5pc0Fzc2lnbm1lbnRQYXR0ZXJuKHIpfHxmLmlzUmVzdEVsZW1lbnQociksdC5kb25lfHx0LnBhcmFtcy5wdXNoKGUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJ4IikpLHR9LHtwYXJhbXM6W10sZG9uZTohMX0pLnBhcmFtc30pLmV4cHJlc3Npb247aWYobil7dmFyIGw9Zi52YXJpYWJsZURlY2xhcmF0aW9uKCJsZXQiLFtmLnZhcmlhYmxlRGVjbGFyYXRvcihmLmlkZW50aWZpZXIoaS5uYW1lKSxmLmNhbGxFeHByZXNzaW9uKHUsW10pKV0pO2wuX2Jsb2NrSG9pc3Q9ITAsZS5yZXBsYWNlV2l0aChsKX1lbHNle3ZhciBjPXUuYm9keS5ib2R5WzFdLmFyZ3VtZW50O2l8fCgwLG8uZGVmYXVsdCkoe25vZGU6YyxwYXJlbnQ6ZS5wYXJlbnQsc2NvcGU6ZS5zY29wZX0pLCFjfHxjLmlkfHxyLnBhcmFtcy5sZW5ndGg/ZS5yZXBsYWNlV2l0aChmLmNhbGxFeHByZXNzaW9uKHUsW10pKTplLnJlcGxhY2VXaXRoKGEpfX10Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxyKXtyfHwocj17d3JhcEFzeW5jOnR9LHQ9bnVsbCksZS50cmF2ZXJzZSh5LHtmaWxlOnQsd3JhcEF3YWl0OnIud3JhcEF3YWl0fSksZS5pc0NsYXNzTWV0aG9kKCl8fGUuaXNPYmplY3RNZXRob2QoKT9pKGUsci53cmFwQXN5bmMpOnMoZSxyLndyYXBBc3luYyl9O3ZhciBhPXIoNDApLG89bihhKSx1PXIoNCksbD1uKHUpLGM9cigxKSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYykscD1yKDMyMCksZD1uKHApLGg9KDAsbC5kZWZhdWx0KSgiXG4gICgoKSA9PiB7XG4gICAgdmFyIFJFRiA9IEZVTkNUSU9OO1xuICAgIHJldHVybiBmdW5jdGlvbiBOQU1FKFBBUkFNUykge1xuICAgICAgcmV0dXJuIFJFRi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0pXG4iKSxtPSgwLGwuZGVmYXVsdCkoIlxuICAoKCkgPT4ge1xuICAgIHZhciBSRUYgPSBGVU5DVElPTjtcbiAgICBmdW5jdGlvbiBOQU1FKFBBUkFNUykge1xuICAgICAgcmV0dXJuIFJFRi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gTkFNRTtcbiAgfSlcbiIpLHk9e0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe2lmKGUuaXNBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbigpJiYhZS5ub2RlLmFzeW5jKXJldHVybiB2b2lkIGUuYXJyb3dGdW5jdGlvblRvU2hhZG93ZWQoKTtlLnNraXAoKX0sQXdhaXRFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlLG49dC53cmFwQXdhaXQ7ci50eXBlPSJZaWVsZEV4cHJlc3Npb24iLG4mJihyLmFyZ3VtZW50PWYuY2FsbEV4cHJlc3Npb24obixbci5hcmd1bWVudF0pKX0sRm9yQXdhaXRTdGF0ZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmZpbGUsbj10LndyYXBBd2FpdCxpPWUubm9kZSxzPSgwLGQuZGVmYXVsdCkoZSx7Z2V0QXN5bmNJdGVyYXRvcjpyLmFkZEhlbHBlcigiYXN5bmNJdGVyYXRvciIpLHdyYXBBd2FpdDpufSksYT1zLmRlY2xhcixvPXMubG9vcCx1PW8uYm9keTtlLmVuc3VyZUJsb2NrKCksYSYmdS5ib2R5LnB1c2goYSksdS5ib2R5PXUuYm9keS5jb25jYXQoaS5ib2R5LmJvZHkpLGYuaW5oZXJpdHMobyxpKSxmLmluaGVyaXRzKG8uYm9keSxpLmJvZHkpLHMucmVwbGFjZVBhcmVudD8oZS5wYXJlbnRQYXRoLnJlcGxhY2VXaXRoTXVsdGlwbGUocy5ub2RlKSxlLnJlbW92ZSgpKTplLnJlcGxhY2VXaXRoTXVsdGlwbGUocy5ub2RlKX19O2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgiZGVjb3JhdG9ycyIpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgiZmxvdyIpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgianN4Iil9fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnttYW5pcHVsYXRlT3B0aW9uczpmdW5jdGlvbihlLHQpe3QucGx1Z2lucy5wdXNoKCJ0cmFpbGluZ0Z1bmN0aW9uQ29tbWFzIil9fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue2luaGVyaXRzOnIoNjcpLHZpc2l0b3I6e0Z1bmN0aW9uOmZ1bmN0aW9uKGUsdCl7ZS5ub2RlLmFzeW5jJiYhZS5ub2RlLmdlbmVyYXRvciYmKDAsaS5kZWZhdWx0KShlLHQuZmlsZSx7d3JhcEFzeW5jOnQuYWRkSGVscGVyKCJhc3luY1RvR2VuZXJhdG9yIil9KX19fX07dmFyIG49cigxMjQpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGMuaXNJZGVudGlmaWVyKGUpP2UubmFtZTplLnZhbHVlLnRvU3RyaW5nKCl9dC5fX2VzTW9kdWxlPSEwO3ZhciBzPXIoMiksYT1uKHMpLG89cig5KSx1PW4obyk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue3Zpc2l0b3I6e09iamVjdEV4cHJlc3Npb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubm9kZSxyPXQucHJvcGVydGllcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaXNTcHJlYWRQcm9wZXJ0eShlKSYmIWUuY29tcHV0ZWR9KSxuPSgwLHUuZGVmYXVsdCkobnVsbCkscz0oMCx1LmRlZmF1bHQpKG51bGwpLG89KDAsdS5kZWZhdWx0KShudWxsKSxsPXIsZj1BcnJheS5pc0FycmF5KGwpLHA9MCxsPWY/bDooMCxhLmRlZmF1bHQpKGwpOzspe3ZhciBkO2lmKGYpe2lmKHA+PWwubGVuZ3RoKWJyZWFrO2Q9bFtwKytdfWVsc2V7aWYocD1sLm5leHQoKSxwLmRvbmUpYnJlYWs7ZD1wLnZhbHVlfXZhciBoPWQsbT1pKGgua2V5KSx5PSExO3N3aXRjaChoLmtpbmQpe2Nhc2UiZ2V0IjooblttXXx8c1ttXSkmJih5PSEwKSxzW21dPSEwO2JyZWFrO2Nhc2Uic2V0IjooblttXXx8b1ttXSkmJih5PSEwKSxvW21dPSEwO2JyZWFrO2RlZmF1bHQ6KG5bbV18fHNbbV18fG9bbV0pJiYoeT0hMCksblttXT0hMH15JiYoaC5jb21wdXRlZD0hMCxoLmtleT1jLnN0cmluZ0xpdGVyYWwobSkpfX19fX07dmFyIGw9cigxKSxjPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obCk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cig5KSxzPW4oaSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7aWYoIWUuaXNDYWxsRXhwcmVzc2lvbigpKXJldHVybiExO2lmKCFlLmdldCgiY2FsbGVlIikuaXNJZGVudGlmaWVyKHtuYW1lOiJyZXF1aXJlIn0pKXJldHVybiExO2lmKGUuc2NvcGUuZ2V0QmluZGluZygicmVxdWlyZSIpKXJldHVybiExO3ZhciB0PWUuZ2V0KCJhcmd1bWVudHMiKTtyZXR1cm4gMT09PXQubGVuZ3RoJiYhIXRbMF0uaXNTdHJpbmdMaXRlcmFsKCl9dmFyIG49ZS50eXBlcyxpPXtSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGUscj1lLnNjb3BlOyJleHBvcnRzIiE9PXQubmFtZXx8ci5nZXRCaW5kaW5nKCJleHBvcnRzIil8fCh0aGlzLmhhc0V4cG9ydHM9ITApLCJtb2R1bGUiIT09dC5uYW1lfHxyLmdldEJpbmRpbmcoIm1vZHVsZSIpfHwodGhpcy5oYXNNb2R1bGU9ITApfSxDYWxsRXhwcmVzc2lvbjpmdW5jdGlvbihlKXt0KGUpJiYodGhpcy5iYXJlU291cmNlcy5wdXNoKGUubm9kZS5hcmd1bWVudHNbMF0pLGUucmVtb3ZlKCkpfSxWYXJpYWJsZURlY2xhcmF0b3I6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXQoImlkIik7aWYoci5pc0lkZW50aWZpZXIoKSl7dmFyIG49ZS5nZXQoImluaXQiKTtpZih0KG4pKXt2YXIgaT1uLm5vZGUuYXJndW1lbnRzWzBdO3RoaXMuc291cmNlTmFtZXNbaS52YWx1ZV09ITAsdGhpcy5zb3VyY2VzLnB1c2goW3Iubm9kZSxpXSksZS5yZW1vdmUoKX19fX07cmV0dXJue2luaGVyaXRzOnIoNzcpLHByZTpmdW5jdGlvbigpe3RoaXMuc291cmNlcz1bXSx0aGlzLnNvdXJjZU5hbWVzPSgwLHMuZGVmYXVsdCkobnVsbCksdGhpcy5iYXJlU291cmNlcz1bXSx0aGlzLmhhc0V4cG9ydHM9ITEsdGhpcy5oYXNNb2R1bGU9ITF9LHZpc2l0b3I6e1Byb2dyYW06e2V4aXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZighdGhpcy5yYW4pe3RoaXMucmFuPSEwLGUudHJhdmVyc2UoaSx0aGlzKTt2YXIgcj10aGlzLnNvdXJjZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdfSkscz10aGlzLnNvdXJjZXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlWzFdfSk7cz1zLmNvbmNhdCh0aGlzLmJhcmVTb3VyY2VzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hdC5zb3VyY2VOYW1lc1tlLnZhbHVlXX0pKTt2YXIgYT10aGlzLmdldE1vZHVsZU5hbWUoKTthJiYoYT1uLnN0cmluZ0xpdGVyYWwoYSkpLHRoaXMuaGFzRXhwb3J0cyYmKHMudW5zaGlmdChuLnN0cmluZ0xpdGVyYWwoImV4cG9ydHMiKSksci51bnNoaWZ0KG4uaWRlbnRpZmllcigiZXhwb3J0cyIpKSksdGhpcy5oYXNNb2R1bGUmJihzLnVuc2hpZnQobi5zdHJpbmdMaXRlcmFsKCJtb2R1bGUiKSksci51bnNoaWZ0KG4uaWRlbnRpZmllcigibW9kdWxlIikpKTt2YXIgbz1lLm5vZGUsYz1sKHtQQVJBTVM6cixCT0RZOm8uYm9keX0pO2MuZXhwcmVzc2lvbi5ib2R5LmRpcmVjdGl2ZXM9by5kaXJlY3RpdmVzLG8uZGlyZWN0aXZlcz1bXSxvLmJvZHk9W3Uoe01PRFVMRV9OQU1FOmEsU09VUkNFUzpzLEZBQ1RPUlk6Y30pXX19fX19fTt2YXIgYT1yKDQpLG89bihhKSx1PSgwLG8uZGVmYXVsdCkoIlxuICBkZWZpbmUoTU9EVUxFX05BTUUsIFtTT1VSQ0VTXSwgRkFDVE9SWSk7XG4iKSxsPSgwLG8uZGVmYXVsdCkoIlxuICAoZnVuY3Rpb24gKFBBUkFNUykge1xuICAgIEJPRFk7XG4gIH0pXG4iKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcztyZXR1cm57aW5oZXJpdHM6cigxOTkpLHZpc2l0b3I6KDAsaS5kZWZhdWx0KSh7b3BlcmF0b3I6IioqIixidWlsZDpmdW5jdGlvbihlLHIpe3JldHVybiB0LmNhbGxFeHByZXNzaW9uKHQubWVtYmVyRXhwcmVzc2lvbih0LmlkZW50aWZpZXIoIk1hdGgiKSx0LmlkZW50aWZpZXIoInBvdyIpKSxbZSxyXSl9fSl9fTt2YXIgbj1yKDMxNiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDA2KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzKGUsdCxyKXtmb3IodmFyIG49SS5zY29wZS5nZXQoZS5ub2RlKXx8W10saT1uLHM9QXJyYXkuaXNBcnJheShpKSxhPTAsaT1zP2k6KDAseS5kZWZhdWx0KShpKTs7KXt2YXIgbztpZihzKXtpZihhPj1pLmxlbmd0aClicmVhaztvPWlbYSsrXX1lbHNle2lmKGE9aS5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX12YXIgdT1vO2lmKHUucGFyZW50PT09dCYmdS5wYXRoPT09ZSlyZXR1cm4gdX1uLnB1c2gociksSS5zY29wZS5oYXMoZS5ub2RlKXx8SS5zY29wZS5zZXQoZS5ub2RlLG4pfWZ1bmN0aW9uIGEoZSx0KXtpZihSLmlzTW9kdWxlRGVjbGFyYXRpb24oZSkpaWYoZS5zb3VyY2UpYShlLnNvdXJjZSx0KTtlbHNlIGlmKGUuc3BlY2lmaWVycyYmZS5zcGVjaWZpZXJzLmxlbmd0aClmb3IodmFyIHI9ZS5zcGVjaWZpZXJzLG49QXJyYXkuaXNBcnJheShyKSxpPTAscj1uP3I6KDAseS5kZWZhdWx0KShyKTs7KXt2YXIgcztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztzPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX12YXIgbz1zO2Eobyx0KX1lbHNlIGUuZGVjbGFyYXRpb24mJmEoZS5kZWNsYXJhdGlvbix0KTtlbHNlIGlmKFIuaXNNb2R1bGVTcGVjaWZpZXIoZSkpYShlLmxvY2FsLHQpO2Vsc2UgaWYoUi5pc01lbWJlckV4cHJlc3Npb24oZSkpYShlLm9iamVjdCx0KSxhKGUucHJvcGVydHksdCk7ZWxzZSBpZihSLmlzSWRlbnRpZmllcihlKSl0LnB1c2goZS5uYW1lKTtlbHNlIGlmKFIuaXNMaXRlcmFsKGUpKXQucHVzaChlLnZhbHVlKTtlbHNlIGlmKFIuaXNDYWxsRXhwcmVzc2lvbihlKSlhKGUuY2FsbGVlLHQpO2Vsc2UgaWYoUi5pc09iamVjdEV4cHJlc3Npb24oZSl8fFIuaXNPYmplY3RQYXR0ZXJuKGUpKWZvcih2YXIgdT1lLnByb3BlcnRpZXMsbD1BcnJheS5pc0FycmF5KHUpLGM9MCx1PWw/dTooMCx5LmRlZmF1bHQpKHUpOzspe3ZhciBmO2lmKGwpe2lmKGM+PXUubGVuZ3RoKWJyZWFrO2Y9dVtjKytdfWVsc2V7aWYoYz11Lm5leHQoKSxjLmRvbmUpYnJlYWs7Zj1jLnZhbHVlfXZhciBwPWY7YShwLmtleXx8cC5hcmd1bWVudCx0KX19dC5fX2VzTW9kdWxlPSEwO3ZhciBvPXIoMTQpLHU9aShvKSxsPXIoOSksYz1pKGwpLGY9cigxMzMpLHA9aShmKSxkPXIoMyksaD1pKGQpLG09cigyKSx5PWkobSksdj1yKDExMSksZz1pKHYpLGI9cigyNzgpLEU9aShiKSx4PXIoMzgzKSxBPWkoeCksUz1yKDcpLF89aShTKSxEPXIoMjczKSxDPWkoRCksdz1yKDIwKSxQPW4odyksaz1yKDIyNSksRj1pKGspLFQ9cig0NjMpLE89aShUKSxCPXIoMSksUj1uKEIpLEk9cig4OCksTT0wLE49e0ZvcjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9Ui5GT1JfSU5JVF9LRVlTLHI9QXJyYXkuaXNBcnJheSh0KSxuPTAsdD1yP3Q6KDAseS5kZWZhdWx0KSh0KTs7KXt2YXIgaTtpZihyKXtpZihuPj10Lmxlbmd0aClicmVhaztpPXRbbisrXX1lbHNle2lmKG49dC5uZXh0KCksbi5kb25lKWJyZWFrO2k9bi52YWx1ZX12YXIgcz1pLGE9ZS5nZXQocyk7YS5pc1ZhcigpJiZlLnNjb3BlLmdldEZ1bmN0aW9uUGFyZW50KCkucmVnaXN0ZXJCaW5kaW5nKCJ2YXIiLGEpfX0sRGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7ZS5pc0Jsb2NrU2NvcGVkKCl8fGUuaXNFeHBvcnREZWNsYXJhdGlvbigpJiZlLmdldCgiZGVjbGFyYXRpb24iKS5pc0RlY2xhcmF0aW9uKCl8fGUuc2NvcGUuZ2V0RnVuY3Rpb25QYXJlbnQoKS5yZWdpc3RlckRlY2xhcmF0aW9uKGUpfSxSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlLHQpe3QucmVmZXJlbmNlcy5wdXNoKGUpfSxGb3JYU3RhdGVtZW50OmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5nZXQoImxlZnQiKTsoci5pc1BhdHRlcm4oKXx8ci5pc0lkZW50aWZpZXIoKSkmJnQuY29uc3RhbnRWaW9sYXRpb25zLnB1c2gocil9LEV4cG9ydERlY2xhcmF0aW9uOntleGl0OmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZSxyPWUuc2NvcGUsbj10LmRlY2xhcmF0aW9uO2lmKFIuaXNDbGFzc0RlY2xhcmF0aW9uKG4pfHxSLmlzRnVuY3Rpb25EZWNsYXJhdGlvbihuKSl7dmFyIGk9bi5pZDtpZighaSlyZXR1cm47dmFyIHM9ci5nZXRCaW5kaW5nKGkubmFtZSk7cyYmcy5yZWZlcmVuY2UoZSl9ZWxzZSBpZihSLmlzVmFyaWFibGVEZWNsYXJhdGlvbihuKSlmb3IodmFyIGE9bi5kZWNsYXJhdGlvbnMsbz1BcnJheS5pc0FycmF5KGEpLHU9MCxhPW8/YTooMCx5LmRlZmF1bHQpKGEpOzspe3ZhciBsO2lmKG8pe2lmKHU+PWEubGVuZ3RoKWJyZWFrO2w9YVt1KytdfWVsc2V7aWYodT1hLm5leHQoKSx1LmRvbmUpYnJlYWs7bD11LnZhbHVlfXZhciBjPWwsZj1SLmdldEJpbmRpbmdJZGVudGlmaWVycyhjKTtmb3IodmFyIHAgaW4gZil7dmFyIGQ9ci5nZXRCaW5kaW5nKHApO2QmJmQucmVmZXJlbmNlKGUpfX19fSxMYWJlbGVkU3RhdGVtZW50OmZ1bmN0aW9uKGUpe2Uuc2NvcGUuZ2V0UHJvZ3JhbVBhcmVudCgpLmFkZEdsb2JhbChlLm5vZGUpLGUuc2NvcGUuZ2V0QmxvY2tQYXJlbnQoKS5yZWdpc3RlckRlY2xhcmF0aW9uKGUpfSxBc3NpZ25tZW50RXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3QuYXNzaWdubWVudHMucHVzaChlKX0sVXBkYXRlRXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3QuY29uc3RhbnRWaW9sYXRpb25zLnB1c2goZS5nZXQoImFyZ3VtZW50IikpfSxVbmFyeUV4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXsiZGVsZXRlIj09PWUubm9kZS5vcGVyYXRvciYmdC5jb25zdGFudFZpb2xhdGlvbnMucHVzaChlLmdldCgiYXJndW1lbnQiKSl9LEJsb2NrU2NvcGVkOmZ1bmN0aW9uKGUpe3ZhciB0PWUuc2NvcGU7dC5wYXRoPT09ZSYmKHQ9dC5wYXJlbnQpLHQuZ2V0QmxvY2tQYXJlbnQoKS5yZWdpc3RlckRlY2xhcmF0aW9uKGUpfSxDbGFzc0RlY2xhcmF0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZS5pZDtpZih0KXt2YXIgcj10Lm5hbWU7ZS5zY29wZS5iaW5kaW5nc1tyXT1lLnNjb3BlLmdldEJpbmRpbmcocil9fSxCbG9jazpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5nZXQoImJvZHkiKSxyPXQsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjooMCx5LmRlZmF1bHQpKHIpOzspe3ZhciBzO2lmKG4pe2lmKGk+PXIubGVuZ3RoKWJyZWFrO3M9cltpKytdfWVsc2V7aWYoaT1yLm5leHQoKSxpLmRvbmUpYnJlYWs7cz1pLnZhbHVlfXZhciBhPXM7YS5pc0Z1bmN0aW9uRGVjbGFyYXRpb24oKSYmZS5zY29wZS5nZXRCbG9ja1BhcmVudCgpLnJlZ2lzdGVyRGVjbGFyYXRpb24oYSl9fX0sTD0wLGo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7aWYoKDAsaC5kZWZhdWx0KSh0aGlzLGUpLHImJnIuYmxvY2s9PT10Lm5vZGUpcmV0dXJuIHI7dmFyIG49cyh0LHIsdGhpcyk7aWYobilyZXR1cm4gbjt0aGlzLnVpZD1MKyssdGhpcy5wYXJlbnQ9cix0aGlzLmh1Yj10Lmh1Yix0aGlzLnBhcmVudEJsb2NrPXQucGFyZW50LHRoaXMuYmxvY2s9dC5ub2RlLHRoaXMucGF0aD10LHRoaXMubGFiZWxzPW5ldyBwLmRlZmF1bHR9cmV0dXJuIGUucHJvdG90eXBlLnRyYXZlcnNlPWZ1bmN0aW9uKGUsdCxyKXsoMCxfLmRlZmF1bHQpKGUsdCx0aGlzLHIsdGhpcy5wYXRoKX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXI9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06InRlbXAiLHQ9dGhpcy5nZW5lcmF0ZVVpZElkZW50aWZpZXIoZSk7cmV0dXJuIHRoaXMucHVzaCh7aWQ6dH0pLHR9LGUucHJvdG90eXBlLmdlbmVyYXRlVWlkSWRlbnRpZmllcj1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToidGVtcCI7cmV0dXJuIFIuaWRlbnRpZmllcih0aGlzLmdlbmVyYXRlVWlkKGUpKX0sZS5wcm90b3R5cGUuZ2VuZXJhdGVVaWQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06InRlbXAiO2U9Ui50b0lkZW50aWZpZXIoZSkucmVwbGFjZSgvXl8rLywiIikucmVwbGFjZSgvWzAtOV0rJC9nLCIiKTt2YXIgdD12b2lkIDAscj0wO2Rve3Q9dGhpcy5fZ2VuZXJhdGVVaWQoZSxyKSxyKyt9d2hpbGUodGhpcy5oYXNMYWJlbCh0KXx8dGhpcy5oYXNCaW5kaW5nKHQpfHx0aGlzLmhhc0dsb2JhbCh0KXx8dGhpcy5oYXNSZWZlcmVuY2UodCkpO3ZhciBuPXRoaXMuZ2V0UHJvZ3JhbVBhcmVudCgpO3JldHVybiBuLnJlZmVyZW5jZXNbdF09ITAsbi51aWRzW3RdPSEwLHR9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVVpZD1mdW5jdGlvbihlLHQpe3ZhciByPWU7cmV0dXJuIHQ+MSYmKHIrPXQpLCJfIityfSxlLnByb3RvdHlwZS5nZW5lcmF0ZVVpZElkZW50aWZpZXJCYXNlZE9uTm9kZT1mdW5jdGlvbihlLHQpe3ZhciByPWU7Ui5pc0Fzc2lnbm1lbnRFeHByZXNzaW9uKGUpP3I9ZS5sZWZ0OlIuaXNWYXJpYWJsZURlY2xhcmF0b3IoZSk/cj1lLmlkOihSLmlzT2JqZWN0UHJvcGVydHkocil8fFIuaXNPYmplY3RNZXRob2QocikpJiYocj1yLmtleSk7dmFyIG49W107YShyLG4pO3ZhciBpPW4uam9pbigiJCIpO3JldHVybiBpPWkucmVwbGFjZSgvXl8vLCIiKXx8dHx8InJlZiIsdGhpcy5nZW5lcmF0ZVVpZElkZW50aWZpZXIoaS5zbGljZSgwLDIwKSl9LGUucHJvdG90eXBlLmlzU3RhdGljPWZ1bmN0aW9uKGUpe2lmKFIuaXNUaGlzRXhwcmVzc2lvbihlKXx8Ui5pc1N1cGVyKGUpKXJldHVybiEwO2lmKFIuaXNJZGVudGlmaWVyKGUpKXt2YXIgdD10aGlzLmdldEJpbmRpbmcoZS5uYW1lKTtyZXR1cm4gdD90LmNvbnN0YW50OnRoaXMuaGFzQmluZGluZyhlLm5hbWUpfXJldHVybiExfSxlLnByb3RvdHlwZS5tYXliZUdlbmVyYXRlTWVtb2lzZWQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmlzU3RhdGljKGUpKXJldHVybiBudWxsO3ZhciByPXRoaXMuZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUoZSk7cmV0dXJuIHR8fHRoaXMucHVzaCh7aWQ6cn0pLHJ9LGUucHJvdG90eXBlLmNoZWNrQmxvY2tTY29wZWRDb2xsaXNpb25zPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCJwYXJhbSIhPT10JiYoImhvaXN0ZWQiIT09dHx8ImxldCIhPT1lLmtpbmQpKXtpZigibGV0Ij09PXR8fCJsZXQiPT09ZS5raW5kfHwiY29uc3QiPT09ZS5raW5kfHwibW9kdWxlIj09PWUua2luZHx8InBhcmFtIj09PWUua2luZCYmKCJsZXQiPT09dHx8ImNvbnN0Ij09PXQpKXRocm93IHRoaXMuaHViLmZpbGUuYnVpbGRDb2RlRnJhbWVFcnJvcihuLFAuZ2V0KCJzY29wZUR1cGxpY2F0ZURlY2xhcmF0aW9uIixyKSxUeXBlRXJyb3IpfX0sZS5wcm90b3R5cGUucmVuYW1lPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLmdldEJpbmRpbmcoZSk7aWYobilyZXR1cm4gdD10fHx0aGlzLmdlbmVyYXRlVWlkSWRlbnRpZmllcihlKS5uYW1lLG5ldyBBLmRlZmF1bHQobixlLHQpLnJlbmFtZShyKX0sZS5wcm90b3R5cGUuX3JlbmFtZUZyb21NYXA9ZnVuY3Rpb24oZSx0LHIsbil7ZVt0XSYmKGVbcl09bixlW3RdPW51bGwpfSxlLnByb3RvdHlwZS5kdW1wPWZ1bmN0aW9uKCl7dmFyIGU9KDAsRS5kZWZhdWx0KSgiLSIsNjApO2NvbnNvbGUubG9nKGUpO3ZhciB0PXRoaXM7ZG97Y29uc29sZS5sb2coIiMiLHQuYmxvY2sudHlwZSk7Zm9yKHZhciByIGluIHQuYmluZGluZ3Mpe3ZhciBuPXQuYmluZGluZ3Nbcl07Y29uc29sZS5sb2coIiAtIixyLHtjb25zdGFudDpuLmNvbnN0YW50LHJlZmVyZW5jZXM6bi5yZWZlcmVuY2VzLHZpb2xhdGlvbnM6bi5jb25zdGFudFZpb2xhdGlvbnMubGVuZ3RoLGtpbmQ6bi5raW5kfSl9fXdoaWxlKHQ9dC5wYXJlbnQpO2NvbnNvbGUubG9nKGUpfSxlLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5odWIuZmlsZTtpZihSLmlzSWRlbnRpZmllcihlKSl7dmFyIG49dGhpcy5nZXRCaW5kaW5nKGUubmFtZSk7aWYobiYmbi5jb25zdGFudCYmbi5wYXRoLmlzR2VuZXJpY1R5cGUoIkFycmF5IikpcmV0dXJuIGV9aWYoUi5pc0FycmF5RXhwcmVzc2lvbihlKSlyZXR1cm4gZTtpZihSLmlzSWRlbnRpZmllcihlLHtuYW1lOiJhcmd1bWVudHMifSkpcmV0dXJuIFIuY2FsbEV4cHJlc3Npb24oUi5tZW1iZXJFeHByZXNzaW9uKFIubWVtYmVyRXhwcmVzc2lvbihSLm1lbWJlckV4cHJlc3Npb24oUi5pZGVudGlmaWVyKCJBcnJheSIpLFIuaWRlbnRpZmllcigicHJvdG90eXBlIikpLFIuaWRlbnRpZmllcigic2xpY2UiKSksUi5pZGVudGlmaWVyKCJjYWxsIikpLFtlXSk7dmFyIGk9InRvQXJyYXkiLHM9W2VdO3JldHVybiEwPT09dD9pPSJ0b0NvbnN1bWFibGVBcnJheSI6dCYmKHMucHVzaChSLm51bWVyaWNMaXRlcmFsKHQpKSxpPSJzbGljZWRUb0FycmF5IiksUi5jYWxsRXhwcmVzc2lvbihyLmFkZEhlbHBlcihpKSxzKX0sZS5wcm90b3R5cGUuaGFzTGFiZWw9ZnVuY3Rpb24oZSl7cmV0dXJuISF0aGlzLmdldExhYmVsKGUpfSxlLnByb3RvdHlwZS5nZXRMYWJlbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5sYWJlbHMuZ2V0KGUpfSxlLnByb3RvdHlwZS5yZWdpc3RlckxhYmVsPWZ1bmN0aW9uKGUpe3RoaXMubGFiZWxzLnNldChlLm5vZGUubGFiZWwubmFtZSxlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJEZWNsYXJhdGlvbj1mdW5jdGlvbihlKXtpZihlLmlzTGFiZWxlZFN0YXRlbWVudCgpKXRoaXMucmVnaXN0ZXJMYWJlbChlKTtlbHNlIGlmKGUuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCkpdGhpcy5yZWdpc3RlckJpbmRpbmcoImhvaXN0ZWQiLGUuZ2V0KCJpZCIpLGUpO2Vsc2UgaWYoZS5pc1ZhcmlhYmxlRGVjbGFyYXRpb24oKSlmb3IodmFyIHQ9ZS5nZXQoImRlY2xhcmF0aW9ucyIpLHI9dCxuPUFycmF5LmlzQXJyYXkociksaT0wLHI9bj9yOigwLHkuZGVmYXVsdCkocik7Oyl7dmFyIHM7aWYobil7aWYoaT49ci5sZW5ndGgpYnJlYWs7cz1yW2krK119ZWxzZXtpZihpPXIubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9dmFyIGE9czt0aGlzLnJlZ2lzdGVyQmluZGluZyhlLm5vZGUua2luZCxhKX1lbHNlIGlmKGUuaXNDbGFzc0RlY2xhcmF0aW9uKCkpdGhpcy5yZWdpc3RlckJpbmRpbmcoImxldCIsZSk7ZWxzZSBpZihlLmlzSW1wb3J0RGVjbGFyYXRpb24oKSlmb3IodmFyIG89ZS5nZXQoInNwZWNpZmllcnMiKSx1PW8sbD1BcnJheS5pc0FycmF5KHUpLGM9MCx1PWw/dTooMCx5LmRlZmF1bHQpKHUpOzspe3ZhciBmO2lmKGwpe2lmKGM+PXUubGVuZ3RoKWJyZWFrO2Y9dVtjKytdfWVsc2V7aWYoYz11Lm5leHQoKSxjLmRvbmUpYnJlYWs7Zj1jLnZhbHVlfXZhciBwPWY7dGhpcy5yZWdpc3RlckJpbmRpbmcoIm1vZHVsZSIscCl9ZWxzZSBpZihlLmlzRXhwb3J0RGVjbGFyYXRpb24oKSl7dmFyIGQ9ZS5nZXQoImRlY2xhcmF0aW9uIik7KGQuaXNDbGFzc0RlY2xhcmF0aW9uKCl8fGQuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCl8fGQuaXNWYXJpYWJsZURlY2xhcmF0aW9uKCkpJiZ0aGlzLnJlZ2lzdGVyRGVjbGFyYXRpb24oZCl9ZWxzZSB0aGlzLnJlZ2lzdGVyQmluZGluZygidW5rbm93biIsZSl9LGUucHJvdG90eXBlLmJ1aWxkVW5kZWZpbmVkTm9kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc0JpbmRpbmcoInVuZGVmaW5lZCIpP1IudW5hcnlFeHByZXNzaW9uKCJ2b2lkIixSLm51bWVyaWNMaXRlcmFsKDApLCEwKTpSLmlkZW50aWZpZXIoInVuZGVmaW5lZCIpfSxlLnByb3RvdHlwZS5yZWdpc3RlckNvbnN0YW50VmlvbGF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0QmluZGluZ0lkZW50aWZpZXJzKCk7Zm9yKHZhciByIGluIHQpe3ZhciBuPXRoaXMuZ2V0QmluZGluZyhyKTtuJiZuLnJlYXNzaWduKGUpfX0sZS5wcm90b3R5cGUucmVnaXN0ZXJCaW5kaW5nPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnQ7aWYoIWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJubyBga2luZGAiKTtpZih0LmlzVmFyaWFibGVEZWNsYXJhdGlvbigpKWZvcih2YXIgbj10LmdldCgiZGVjbGFyYXRpb25zIiksaT1uLHM9QXJyYXkuaXNBcnJheShpKSxhPTAsaT1zP2k6KDAseS5kZWZhdWx0KShpKTs7KXt2YXIgbztpZihzKXtpZihhPj1pLmxlbmd0aClicmVhaztvPWlbYSsrXX1lbHNle2lmKGE9aS5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX12YXIgdT1vO3RoaXMucmVnaXN0ZXJCaW5kaW5nKGUsdSl9ZWxzZXt2YXIgbD10aGlzLmdldFByb2dyYW1QYXJlbnQoKSxjPXQuZ2V0QmluZGluZ0lkZW50aWZpZXJzKCEwKTtmb3IodmFyIGYgaW4gYylmb3IodmFyIHA9Y1tmXSxkPUFycmF5LmlzQXJyYXkocCksaD0wLHA9ZD9wOigwLHkuZGVmYXVsdCkocCk7Oyl7dmFyIG07aWYoZCl7aWYoaD49cC5sZW5ndGgpYnJlYWs7bT1wW2grK119ZWxzZXtpZihoPXAubmV4dCgpLGguZG9uZSlicmVhazttPWgudmFsdWV9dmFyIHY9bSxnPXRoaXMuZ2V0T3duQmluZGluZyhmKTtpZihnKXtpZihnLmlkZW50aWZpZXI9PT12KWNvbnRpbnVlO3RoaXMuY2hlY2tCbG9ja1Njb3BlZENvbGxpc2lvbnMoZyxlLGYsdil9ZyYmZy5wYXRoLmlzRmxvdygpJiYoZz1udWxsKSxsLnJlZmVyZW5jZXNbZl09ITAsdGhpcy5iaW5kaW5nc1tmXT1uZXcgRi5kZWZhdWx0KHtpZGVudGlmaWVyOnYsZXhpc3Rpbmc6ZyxzY29wZTp0aGlzLHBhdGg6cixraW5kOmV9KX19fSxlLnByb3RvdHlwZS5hZGRHbG9iYWw9ZnVuY3Rpb24oZSl7dGhpcy5nbG9iYWxzW2UubmFtZV09ZX0sZS5wcm90b3R5cGUuaGFzVWlkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZG97aWYodC51aWRzW2VdKXJldHVybiEwfXdoaWxlKHQ9dC5wYXJlbnQpO3JldHVybiExfSxlLnByb3RvdHlwZS5oYXNHbG9iYWw9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztkb3tpZih0Lmdsb2JhbHNbZV0pcmV0dXJuITB9d2hpbGUodD10LnBhcmVudCk7cmV0dXJuITF9LGUucHJvdG90eXBlLmhhc1JlZmVyZW5jZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2Rve2lmKHQucmVmZXJlbmNlc1tlXSlyZXR1cm4hMH13aGlsZSh0PXQucGFyZW50KTtyZXR1cm4hMX0sZS5wcm90b3R5cGUuaXNQdXJlPWZ1bmN0aW9uKGUsdCl7aWYoUi5pc0lkZW50aWZpZXIoZSkpe3ZhciByPXRoaXMuZ2V0QmluZGluZyhlLm5hbWUpO3JldHVybiEhciYmKCF0fHxyLmNvbnN0YW50KX1pZihSLmlzQ2xhc3MoZSkpcmV0dXJuIShlLnN1cGVyQ2xhc3MmJiF0aGlzLmlzUHVyZShlLnN1cGVyQ2xhc3MsdCkpJiZ0aGlzLmlzUHVyZShlLmJvZHksdCk7aWYoUi5pc0NsYXNzQm9keShlKSl7Zm9yKHZhciBuPWUuYm9keSxpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOigwLHkuZGVmYXVsdCkobik7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9dmFyIG89YTtpZighdGhpcy5pc1B1cmUobyx0KSlyZXR1cm4hMX1yZXR1cm4hMH1pZihSLmlzQmluYXJ5KGUpKXJldHVybiB0aGlzLmlzUHVyZShlLmxlZnQsdCkmJnRoaXMuaXNQdXJlKGUucmlnaHQsdCk7aWYoUi5pc0FycmF5RXhwcmVzc2lvbihlKSl7Zm9yKHZhciB1PWUuZWxlbWVudHMsbD1BcnJheS5pc0FycmF5KHUpLGM9MCx1PWw/dTooMCx5LmRlZmF1bHQpKHUpOzspe3ZhciBmO2lmKGwpe2lmKGM+PXUubGVuZ3RoKWJyZWFrO2Y9dVtjKytdfWVsc2V7aWYoYz11Lm5leHQoKSxjLmRvbmUpYnJlYWs7Zj1jLnZhbHVlfXZhciBwPWY7aWYoIXRoaXMuaXNQdXJlKHAsdCkpcmV0dXJuITF9cmV0dXJuITB9aWYoUi5pc09iamVjdEV4cHJlc3Npb24oZSkpe2Zvcih2YXIgZD1lLnByb3BlcnRpZXMsaD1BcnJheS5pc0FycmF5KGQpLG09MCxkPWg/ZDooMCx5LmRlZmF1bHQpKGQpOzspe3ZhciB2O2lmKGgpe2lmKG0+PWQubGVuZ3RoKWJyZWFrO3Y9ZFttKytdfWVsc2V7aWYobT1kLm5leHQoKSxtLmRvbmUpYnJlYWs7dj1tLnZhbHVlfXZhciBnPXY7aWYoIXRoaXMuaXNQdXJlKGcsdCkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuIFIuaXNDbGFzc01ldGhvZChlKT8hKGUuY29tcHV0ZWQmJiF0aGlzLmlzUHVyZShlLmtleSx0KSkmJigiZ2V0IiE9PWUua2luZCYmInNldCIhPT1lLmtpbmQpOlIuaXNDbGFzc1Byb3BlcnR5KGUpfHxSLmlzT2JqZWN0UHJvcGVydHkoZSk/IShlLmNvbXB1dGVkJiYhdGhpcy5pc1B1cmUoZS5rZXksdCkpJiZ0aGlzLmlzUHVyZShlLnZhbHVlLHQpOlIuaXNVbmFyeUV4cHJlc3Npb24oZSk/dGhpcy5pc1B1cmUoZS5hcmd1bWVudCx0KTpSLmlzUHVyZWlzaChlKX0sZS5wcm90b3R5cGUuc2V0RGF0YT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmRhdGFbZV09dH0sZS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2Rve3ZhciByPXQuZGF0YVtlXTtpZihudWxsIT1yKXJldHVybiByfXdoaWxlKHQ9dC5wYXJlbnQpfSxlLnByb3RvdHlwZS5yZW1vdmVEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZG97bnVsbCE9dC5kYXRhW2VdJiYodC5kYXRhW2VdPW51bGwpfXdoaWxlKHQ9dC5wYXJlbnQpfSxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5yZWZlcmVuY2VzfHx0aGlzLmNyYXdsKCl9LGUucHJvdG90eXBlLmNyYXdsPWZ1bmN0aW9uKCl7TSsrLHRoaXMuX2NyYXdsKCksTS0tfSxlLnByb3RvdHlwZS5fY3Jhd2w9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhdGg7aWYodGhpcy5yZWZlcmVuY2VzPSgwLGMuZGVmYXVsdCkobnVsbCksdGhpcy5iaW5kaW5ncz0oMCxjLmRlZmF1bHQpKG51bGwpLHRoaXMuZ2xvYmFscz0oMCxjLmRlZmF1bHQpKG51bGwpLHRoaXMudWlkcz0oMCxjLmRlZmF1bHQpKG51bGwpLHRoaXMuZGF0YT0oMCxjLmRlZmF1bHQpKG51bGwpLGUuaXNMb29wKCkpZm9yKHZhciB0PVIuRk9SX0lOSVRfS0VZUyxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLHkuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aSxhPWUuZ2V0KHMpO2EuaXNCbG9ja1Njb3BlZCgpJiZ0aGlzLnJlZ2lzdGVyQmluZGluZyhhLm5vZGUua2luZCxhKX1pZihlLmlzRnVuY3Rpb25FeHByZXNzaW9uKCkmJmUuaGFzKCJpZCIpJiYoZS5nZXQoImlkIikubm9kZVtSLk5PVF9MT0NBTF9CSU5ESU5HXXx8dGhpcy5yZWdpc3RlckJpbmRpbmcoImxvY2FsIixlLmdldCgiaWQiKSxlKSksZS5pc0NsYXNzRXhwcmVzc2lvbigpJiZlLmhhcygiaWQiKSYmKGUuZ2V0KCJpZCIpLm5vZGVbUi5OT1RfTE9DQUxfQklORElOR118fHRoaXMucmVnaXN0ZXJCaW5kaW5nKCJsb2NhbCIsZSkpLGUuaXNGdW5jdGlvbigpKWZvcih2YXIgbz1lLmdldCgicGFyYW1zIiksdT1vLGw9QXJyYXkuaXNBcnJheSh1KSxmPTAsdT1sP3U6KDAseS5kZWZhdWx0KSh1KTs7KXt2YXIgcDtpZihsKXtpZihmPj11Lmxlbmd0aClicmVhaztwPXVbZisrXX1lbHNle2lmKGY9dS5uZXh0KCksZi5kb25lKWJyZWFrO3A9Zi52YWx1ZX12YXIgZD1wO3RoaXMucmVnaXN0ZXJCaW5kaW5nKCJwYXJhbSIsZCl9aWYoZS5pc0NhdGNoQ2xhdXNlKCkmJnRoaXMucmVnaXN0ZXJCaW5kaW5nKCJsZXQiLGUpLCF0aGlzLmdldFByb2dyYW1QYXJlbnQoKS5jcmF3bGluZyl7dmFyIGg9e3JlZmVyZW5jZXM6W10sY29uc3RhbnRWaW9sYXRpb25zOltdLGFzc2lnbm1lbnRzOltdfTt0aGlzLmNyYXdsaW5nPSEwLGUudHJhdmVyc2UoTixoKSx0aGlzLmNyYXdsaW5nPSExO2Zvcih2YXIgbT1oLmFzc2lnbm1lbnRzLHY9QXJyYXkuaXNBcnJheShtKSxnPTAsbT12P206KDAseS5kZWZhdWx0KShtKTs7KXt2YXIgYjtpZih2KXtpZihnPj1tLmxlbmd0aClicmVhaztiPW1bZysrXX1lbHNle2lmKGc9bS5uZXh0KCksZy5kb25lKWJyZWFrO2I9Zy52YWx1ZX12YXIgRT1iLHg9RS5nZXRCaW5kaW5nSWRlbnRpZmllcnMoKSxBPXZvaWQgMDtmb3IodmFyIFMgaW4geClFLnNjb3BlLmdldEJpbmRpbmcoUyl8fChBPUF8fEUuc2NvcGUuZ2V0UHJvZ3JhbVBhcmVudCgpLEEuYWRkR2xvYmFsKHhbU10pKTtFLnNjb3BlLnJlZ2lzdGVyQ29uc3RhbnRWaW9sYXRpb24oRSl9Zm9yKHZhciBfPWgucmVmZXJlbmNlcyxEPUFycmF5LmlzQXJyYXkoXyksQz0wLF89RD9fOigwLHkuZGVmYXVsdCkoXyk7Oyl7dmFyIHc7aWYoRCl7aWYoQz49Xy5sZW5ndGgpYnJlYWs7dz1fW0MrK119ZWxzZXtpZihDPV8ubmV4dCgpLEMuZG9uZSlicmVhazt3PUMudmFsdWV9dmFyIFA9dyxrPVAuc2NvcGUuZ2V0QmluZGluZyhQLm5vZGUubmFtZSk7az9rLnJlZmVyZW5jZShQKTpQLnNjb3BlLmdldFByb2dyYW1QYXJlbnQoKS5hZGRHbG9iYWwoUC5ub2RlKX1mb3IodmFyIEY9aC5jb25zdGFudFZpb2xhdGlvbnMsVD1BcnJheS5pc0FycmF5KEYpLE89MCxGPVQ/RjooMCx5LmRlZmF1bHQpKEYpOzspe3ZhciBCO2lmKFQpe2lmKE8+PUYubGVuZ3RoKWJyZWFrO0I9RltPKytdfWVsc2V7aWYoTz1GLm5leHQoKSxPLmRvbmUpYnJlYWs7Qj1PLnZhbHVlfXZhciBJPUI7SS5zY29wZS5yZWdpc3RlckNvbnN0YW50VmlvbGF0aW9uKEkpfX19LGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5wYXRoO3QuaXNCbG9ja1N0YXRlbWVudCgpfHx0LmlzUHJvZ3JhbSgpfHwodD10aGlzLmdldEJsb2NrUGFyZW50KCkucGF0aCksdC5pc1N3aXRjaFN0YXRlbWVudCgpJiYodD10aGlzLmdldEZ1bmN0aW9uUGFyZW50KCkucGF0aCksKHQuaXNMb29wKCl8fHQuaXNDYXRjaENsYXVzZSgpfHx0LmlzRnVuY3Rpb24oKSkmJihSLmVuc3VyZUJsb2NrKHQubm9kZSksdD10LmdldCgiYm9keSIpKTt2YXIgcj1lLnVuaXF1ZSxuPWUua2luZHx8InZhciIsaT1udWxsPT1lLl9ibG9ja0hvaXN0PzI6ZS5fYmxvY2tIb2lzdCxzPSJkZWNsYXJhdGlvbjoiK24rIjoiK2ksYT0hciYmdC5nZXREYXRhKHMpO2lmKCFhKXt2YXIgbz1SLnZhcmlhYmxlRGVjbGFyYXRpb24obixbXSk7by5fZ2VuZXJhdGVkPSEwLG8uX2Jsb2NrSG9pc3Q9aTthPXQudW5zaGlmdENvbnRhaW5lcigiYm9keSIsW29dKVswXSxyfHx0LnNldERhdGEocyxhKX12YXIgdT1SLnZhcmlhYmxlRGVjbGFyYXRvcihlLmlkLGUuaW5pdCk7YS5ub2RlLmRlY2xhcmF0aW9ucy5wdXNoKHUpLHRoaXMucmVnaXN0ZXJCaW5kaW5nKG4sYS5nZXQoImRlY2xhcmF0aW9ucyIpLnBvcCgpKX0sZS5wcm90b3R5cGUuZ2V0UHJvZ3JhbVBhcmVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZG97aWYoZS5wYXRoLmlzUHJvZ3JhbSgpKXJldHVybiBlfXdoaWxlKGU9ZS5wYXJlbnQpO3Rocm93IG5ldyBFcnJvcigiV2UgY291bGRuJ3QgZmluZCBhIEZ1bmN0aW9uIG9yIFByb2dyYW0uLi4iKX0sZS5wcm90b3R5cGUuZ2V0RnVuY3Rpb25QYXJlbnQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2Rve2lmKGUucGF0aC5pc0Z1bmN0aW9uUGFyZW50KCkpcmV0dXJuIGV9d2hpbGUoZT1lLnBhcmVudCk7dGhyb3cgbmV3IEVycm9yKCJXZSBjb3VsZG4ndCBmaW5kIGEgRnVuY3Rpb24gb3IgUHJvZ3JhbS4uLiIpfSxlLnByb3RvdHlwZS5nZXRCbG9ja1BhcmVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7ZG97aWYoZS5wYXRoLmlzQmxvY2tQYXJlbnQoKSlyZXR1cm4gZX13aGlsZShlPWUucGFyZW50KTt0aHJvdyBuZXcgRXJyb3IoIldlIGNvdWxkbid0IGZpbmQgYSBCbG9ja1N0YXRlbWVudCwgRm9yLCBTd2l0Y2gsIEZ1bmN0aW9uLCBMb29wIG9yIFByb2dyYW0uLi4iKX0sZS5wcm90b3R5cGUuZ2V0QWxsQmluZGluZ3M9ZnVuY3Rpb24oKXt2YXIgZT0oMCxjLmRlZmF1bHQpKG51bGwpLHQ9dGhpcztkb3soMCxDLmRlZmF1bHQpKGUsdC5iaW5kaW5ncyksdD10LnBhcmVudH13aGlsZSh0KTtyZXR1cm4gZX0sZS5wcm90b3R5cGUuZ2V0QWxsQmluZGluZ3NPZktpbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9KDAsYy5kZWZhdWx0KShudWxsKSx0PWFyZ3VtZW50cyxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLHkuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aSxhPXRoaXM7ZG97Zm9yKHZhciBvIGluIGEuYmluZGluZ3Mpe3ZhciB1PWEuYmluZGluZ3Nbb107dS5raW5kPT09cyYmKGVbb109dSl9YT1hLnBhcmVudH13aGlsZShhKX1yZXR1cm4gZX0sZS5wcm90b3R5cGUuYmluZGluZ0lkZW50aWZpZXJFcXVhbHM9ZnVuY3Rpb24oZSx0KXsKcmV0dXJuIHRoaXMuZ2V0QmluZGluZ0lkZW50aWZpZXIoZSk9PT10fSxlLnByb3RvdHlwZS53YXJuT25GbG93QmluZGluZz1mdW5jdGlvbihlKXtyZXR1cm4gMD09PU0mJmUmJmUucGF0aC5pc0Zsb3coKSYmY29uc29sZS53YXJuKCJcbiAgICAgICAgWW91IG9yIG9uZSBvZiB0aGUgQmFiZWwgcGx1Z2lucyB5b3UgYXJlIHVzaW5nIGFyZSB1c2luZyBGbG93IGRlY2xhcmF0aW9ucyBhcyBiaW5kaW5ncy5cbiAgICAgICAgU3VwcG9ydCBmb3IgdGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gdmVyc2lvbiA3LiBUbyBmaW5kIG91dCB0aGUgY2FsbGVyLCBncmVwIGZvciB0aGlzXG4gICAgICAgIG1lc3NhZ2UgYW5kIGNoYW5nZSBpdCB0byBhIGBjb25zb2xlLnRyYWNlKClgLlxuICAgICAgIiksZX0sZS5wcm90b3R5cGUuZ2V0QmluZGluZz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2Rve3ZhciByPXQuZ2V0T3duQmluZGluZyhlKTtpZihyKXJldHVybiB0aGlzLndhcm5PbkZsb3dCaW5kaW5nKHIpfXdoaWxlKHQ9dC5wYXJlbnQpfSxlLnByb3RvdHlwZS5nZXRPd25CaW5kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLndhcm5PbkZsb3dCaW5kaW5nKHRoaXMuYmluZGluZ3NbZV0pfSxlLnByb3RvdHlwZS5nZXRCaW5kaW5nSWRlbnRpZmllcj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJpbmRpbmcoZSk7cmV0dXJuIHQmJnQuaWRlbnRpZmllcn0sZS5wcm90b3R5cGUuZ2V0T3duQmluZGluZ0lkZW50aWZpZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iaW5kaW5nc1tlXTtyZXR1cm4gdCYmdC5pZGVudGlmaWVyfSxlLnByb3RvdHlwZS5oYXNPd25CaW5kaW5nPWZ1bmN0aW9uKGUpe3JldHVybiEhdGhpcy5nZXRPd25CaW5kaW5nKGUpfSxlLnByb3RvdHlwZS5oYXNCaW5kaW5nPWZ1bmN0aW9uKHQscil7cmV0dXJuISF0JiYoISF0aGlzLmhhc093bkJpbmRpbmcodCl8fCghIXRoaXMucGFyZW50SGFzQmluZGluZyh0LHIpfHwoISF0aGlzLmhhc1VpZCh0KXx8KCEocnx8ISgwLGcuZGVmYXVsdCkoZS5nbG9iYWxzLHQpKXx8IShyfHwhKDAsZy5kZWZhdWx0KShlLmNvbnRleHRWYXJpYWJsZXMsdCkpKSkpKX0sZS5wcm90b3R5cGUucGFyZW50SGFzQmluZGluZz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzQmluZGluZyhlLHQpfSxlLnByb3RvdHlwZS5tb3ZlQmluZGluZ1RvPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXRCaW5kaW5nKGUpO3ImJihyLnNjb3BlLnJlbW92ZU93bkJpbmRpbmcoZSksci5zY29wZT10LHQuYmluZGluZ3NbZV09cil9LGUucHJvdG90eXBlLnJlbW92ZU93bkJpbmRpbmc9ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuYmluZGluZ3NbZV19LGUucHJvdG90eXBlLnJlbW92ZUJpbmRpbmc9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXRCaW5kaW5nKGUpO3QmJnQuc2NvcGUucmVtb3ZlT3duQmluZGluZyhlKTt2YXIgcj10aGlzO2Rve3IudWlkc1tlXSYmKHIudWlkc1tlXT0hMSl9d2hpbGUocj1yLnBhcmVudCl9LGV9KCk7ai5nbG9iYWxzPSgwLHUuZGVmYXVsdCkoTy5kZWZhdWx0LmJ1aWx0aW4pLGouY29udGV4dFZhcmlhYmxlcz1bImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIkluZmluaXR5IiwiTmFOIl0sdC5kZWZhdWx0PWosZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5OT1RfTE9DQUxfQklORElORz10LkJMT0NLX1NDT1BFRF9TWU1CT0w9dC5JTkhFUklUX0tFWVM9dC5VTkFSWV9PUEVSQVRPUlM9dC5TVFJJTkdfVU5BUllfT1BFUkFUT1JTPXQuTlVNQkVSX1VOQVJZX09QRVJBVE9SUz10LkJPT0xFQU5fVU5BUllfT1BFUkFUT1JTPXQuQklOQVJZX09QRVJBVE9SUz10Lk5VTUJFUl9CSU5BUllfT1BFUkFUT1JTPXQuQk9PTEVBTl9CSU5BUllfT1BFUkFUT1JTPXQuQ09NUEFSSVNPTl9CSU5BUllfT1BFUkFUT1JTPXQuRVFVQUxJVFlfQklOQVJZX09QRVJBVE9SUz10LkJPT0xFQU5fTlVNQkVSX0JJTkFSWV9PUEVSQVRPUlM9dC5VUERBVEVfT1BFUkFUT1JTPXQuTE9HSUNBTF9PUEVSQVRPUlM9dC5DT01NRU5UX0tFWVM9dC5GT1JfSU5JVF9LRVlTPXQuRkxBVFRFTkFCTEVfS0VZUz10LlNUQVRFTUVOVF9PUl9CTE9DS19LRVlTPXZvaWQgMDt2YXIgbj1yKDM2MiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLHM9KHQuU1RBVEVNRU5UX09SX0JMT0NLX0tFWVM9WyJjb25zZXF1ZW50IiwiYm9keSIsImFsdGVybmF0ZSJdLHQuRkxBVFRFTkFCTEVfS0VZUz1bImJvZHkiLCJleHByZXNzaW9ucyJdLHQuRk9SX0lOSVRfS0VZUz1bImxlZnQiLCJpbml0Il0sdC5DT01NRU5UX0tFWVM9WyJsZWFkaW5nQ29tbWVudHMiLCJ0cmFpbGluZ0NvbW1lbnRzIiwiaW5uZXJDb21tZW50cyJdLHQuTE9HSUNBTF9PUEVSQVRPUlM9WyJ8fCIsIiYmIl0sdC5VUERBVEVfT1BFUkFUT1JTPVsiKysiLCItLSJdLHQuQk9PTEVBTl9OVU1CRVJfQklOQVJZX09QRVJBVE9SUz1bIj4iLCI8IiwiPj0iLCI8PSJdKSxhPXQuRVFVQUxJVFlfQklOQVJZX09QRVJBVE9SUz1bIj09IiwiPT09IiwiIT0iLCIhPT0iXSxvPXQuQ09NUEFSSVNPTl9CSU5BUllfT1BFUkFUT1JTPVtdLmNvbmNhdChhLFsiaW4iLCJpbnN0YW5jZW9mIl0pLHU9dC5CT09MRUFOX0JJTkFSWV9PUEVSQVRPUlM9W10uY29uY2F0KG8scyksbD10Lk5VTUJFUl9CSU5BUllfT1BFUkFUT1JTPVsiLSIsIi8iLCIlIiwiKiIsIioqIiwiJiIsInwiLCI+PiIsIj4+PiIsIjw8IiwiXiJdLGM9KHQuQklOQVJZX09QRVJBVE9SUz1bIisiXS5jb25jYXQobCx1KSx0LkJPT0xFQU5fVU5BUllfT1BFUkFUT1JTPVsiZGVsZXRlIiwiISJdKSxmPXQuTlVNQkVSX1VOQVJZX09QRVJBVE9SUz1bIisiLCItIiwiKysiLCItLSIsIn4iXSxwPXQuU1RSSU5HX1VOQVJZX09QRVJBVE9SUz1bInR5cGVvZiJdO3QuVU5BUllfT1BFUkFUT1JTPVsidm9pZCJdLmNvbmNhdChjLGYscCksdC5JTkhFUklUX0tFWVM9e29wdGlvbmFsOlsidHlwZUFubm90YXRpb24iLCJ0eXBlUGFyYW1ldGVycyIsInJldHVyblR5cGUiXSxmb3JjZTpbInN0YXJ0IiwibG9jIiwiZW5kIl19LHQuQkxPQ0tfU0NPUEVEX1NZTUJPTD0oMCxpLmRlZmF1bHQpKCJ2YXIgdXNlZCB0byBiZSBibG9jayBzY29wZWQiKSx0Lk5PVF9MT0NBTF9CSU5ESU5HPSgwLGkuZGVmYXVsdCkoInNob3VsZCBub3QgYmUgY29uc2lkZXJlZCBhIGxvY2FsIGJpbmRpbmciKX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDMpLGk9cigxNDIpLHM9cig5NCksYT1yKDE1Myksbz1yKDQyMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9MT09ZSx1PTI9PWUsbD0zPT1lLGM9ND09ZSxmPTY9PWUscD01PT1lfHxmLGQ9dHx8bztyZXR1cm4gZnVuY3Rpb24odCxvLGgpe2Zvcih2YXIgbSx5LHY9cyh0KSxnPWkodiksYj1uKG8saCwzKSxFPWEoZy5sZW5ndGgpLHg9MCxBPXI/ZCh0LEUpOnU/ZCh0LDApOnZvaWQgMDtFPng7eCsrKWlmKChwfHx4IGluIGcpJiYobT1nW3hdLHk9YihtLHgsdiksZSkpaWYocilBW3hdPXk7ZWxzZSBpZih5KXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBtO2Nhc2UgNjpyZXR1cm4geDtjYXNlIDI6QS5wdXNoKG0pfWVsc2UgaWYoYylyZXR1cm4hMTtyZXR1cm4gZj8tMTpsfHxjP2M6QX19fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS50b1N0cmluZztlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChlKS5zbGljZSg4LC0xKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNSksaT1yKDEyKSxzPXIoNTcpLGE9cigyNyksbz1yKDI5KSx1PXIoMTQ2KSxsPXIoNTUpLGM9cigxMzYpLGY9cigxNikscD1yKDkzKSxkPXIoMjMpLmYsaD1yKDEzNykoMCksbT1yKDIyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIseSx2LGcpe3ZhciBiPW5bZV0sRT1iLHg9dj8ic2V0IjoiYWRkIixBPUUmJkUucHJvdG90eXBlLFM9e307cmV0dXJuIG0mJiJmdW5jdGlvbiI9PXR5cGVvZiBFJiYoZ3x8QS5mb3JFYWNoJiYhYShmdW5jdGlvbigpeyhuZXcgRSkuZW50cmllcygpLm5leHQoKX0pKT8oRT10KGZ1bmN0aW9uKHQscil7Yyh0LEUsZSwiX2MiKSx0Ll9jPW5ldyBiLHZvaWQgMCE9ciYmbChyLHYsdFt4XSx0KX0pLGgoImFkZCxjbGVhcixkZWxldGUsZm9yRWFjaCxnZXQsaGFzLHNldCxrZXlzLHZhbHVlcyxlbnRyaWVzLHRvSlNPTiIuc3BsaXQoIiwiKSxmdW5jdGlvbihlKXt2YXIgdD0iYWRkIj09ZXx8InNldCI9PWU7ZSBpbiBBJiYoIWd8fCJjbGVhciIhPWUpJiZvKEUucHJvdG90eXBlLGUsZnVuY3Rpb24ocixuKXtpZihjKHRoaXMsRSxlKSwhdCYmZyYmIWYocikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgaT10aGlzLl9jW2VdKDA9PT1yPzA6cixuKTtyZXR1cm4gdD90aGlzOml9KX0pLGd8fGQoRS5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYy5zaXplfX0pKTooRT15LmdldENvbnN0cnVjdG9yKHQsZSx2LHgpLHUoRS5wcm90b3R5cGUscikscy5ORUVEPSEwKSxwKEUsZSksU1tlXT1FLGkoaS5HK2kuVytpLkYsUyksZ3x8eS5zZXRTdHJvbmcoRSxlLHYpLEV9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzOCk7ZS5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTQ0KSxpPXIoMTIpLHM9cigxNDcpLGE9cigyOSksbz1yKDI4KSx1PXIoNTYpLGw9cig0MjkpLGM9cig5MyksZj1yKDQzMykscD1yKDEzKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG0seSx2LGcpe2wocix0LG0pO3ZhciBiLEUseCxBPWZ1bmN0aW9uKGUpe2lmKCFkJiZlIGluIEMpcmV0dXJuIENbZV07c3dpdGNoKGUpe2Nhc2Uia2V5cyI6Y2FzZSJ2YWx1ZXMiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LFM9dCsiIEl0ZXJhdG9yIixfPSJ2YWx1ZXMiPT15LEQ9ITEsQz1lLnByb3RvdHlwZSx3PUNbcF18fENbIkBAaXRlcmF0b3IiXXx8eSYmQ1t5XSxQPXd8fEEoeSksaz15P18/QSgiZW50cmllcyIpOlA6dm9pZCAwLEY9IkFycmF5Ij09dD9DLmVudHJpZXN8fHc6dztpZihGJiYoeD1mKEYuY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJngubmV4dCYmKGMoeCxTLCEwKSxufHxvKHgscCl8fGEoeCxwLGgpKSxfJiZ3JiYidmFsdWVzIiE9PXcubmFtZSYmKEQ9ITAsUD1mdW5jdGlvbigpe3JldHVybiB3LmNhbGwodGhpcyl9KSxuJiYhZ3x8IWQmJiFEJiZDW3BdfHxhKEMscCxQKSx1W3RdPVAsdVtTXT1oLHkpaWYoYj17dmFsdWVzOl8/UDpBKCJ2YWx1ZXMiKSxrZXlzOnY/UDpBKCJrZXlzIiksZW50cmllczprfSxnKWZvcihFIGluIGIpRSBpbiBDfHxzKEMsRSxiW0VdKTtlbHNlIGkoaS5QK2kuRiooZHx8RCksdCxiKTtyZXR1cm4gYn19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz0hMH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIGkgaW4gdClyJiZlW2ldP2VbaV09dFtpXTpuKGUsaSx0W2ldKTtyZXR1cm4gZX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXIoMjkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTIpLGk9cigyMjcpLHM9cig0MyksYT1yKDU1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7bihuLlMsZSx7ZnJvbTpmdW5jdGlvbihlKXt2YXIgdCxyLG4sbyx1PWFyZ3VtZW50c1sxXTtyZXR1cm4gaSh0aGlzKSx0PXZvaWQgMCE9PXUsdCYmaSh1KSx2b2lkIDA9PWU/bmV3IHRoaXM6KHI9W10sdD8obj0wLG89cyh1LGFyZ3VtZW50c1syXSwyKSxhKGUsITEsZnVuY3Rpb24oZSl7ci5wdXNoKG8oZSxuKyspKX0pKTphKGUsITEsci5wdXNoLHIpLG5ldyB0aGlzKHIpKX19KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe24obi5TLGUse29mOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShlKTtlLS07KXRbZV09YXJndW1lbnRzW2VdO3JldHVybiBuZXcgdGhpcyh0KX19KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNTEpKCJrZXlzIiksaT1yKDk1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkoZSkpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE1KSxpPW5bIl9fY29yZS1qc19zaGFyZWRfXyJdfHwoblsiX19jb3JlLWpzX3NoYXJlZF9fIl09e30pO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaVtlXXx8KGlbZV09e30pfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9TWF0aC5jZWlsLG49TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9uOnIpKGUpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE1MiksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIW4oZSkpcmV0dXJuIGU7dmFyIHIsaTtpZih0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZihyPWUudmFsdWVPZikmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTtpZighdCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKGk9ci5jYWxsKGUpKSlyZXR1cm4gaTt0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZSIpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE1KSxpPXIoNSkscz1yKDE0NCksYT1yKDE1Niksbz1yKDIzKS5mO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pLlN5bWJvbHx8KGkuU3ltYm9sPXM/e306bi5TeW1ib2x8fHt9KTsiXyI9PWUuY2hhckF0KDApfHxlIGluIHR8fG8odCxlLHt2YWx1ZTphLmYoZSl9KX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5mPXIoMTMpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDM3KSghMCk7cigxNDMpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGk9cigxNSkscz1yKDI4KSxhPXIoMjIpLG89cigxMiksdT1yKDE0NyksbD1yKDU3KS5LRVksYz1yKDI3KSxmPXIoMTUxKSxwPXIoOTMpLGQ9cig5NSksaD1yKDEzKSxtPXIoMTU2KSx5PXIoMTU1KSx2PXIoNDMwKSxnPXIoNDI1KSxiPXIoMjMyKSxFPXIoMjEpLHg9cigzNyksQT1yKDE1NCksUz1yKDkyKSxfPXIoOTApLEQ9cig0MzIpLEM9cigyMzUpLHc9cigyMyksUD1yKDQ0KSxrPUMuZixGPXcuZixUPUQuZixPPWkuU3ltYm9sLEI9aS5KU09OLFI9QiYmQi5zdHJpbmdpZnksST1oKCJfaGlkZGVuIiksTT1oKCJ0b1ByaW1pdGl2ZSIpLE49e30ucHJvcGVydHlJc0VudW1lcmFibGUsTD1mKCJzeW1ib2wtcmVnaXN0cnkiKSxqPWYoInN5bWJvbHMiKSxVPWYoIm9wLXN5bWJvbHMiKSxWPU9iamVjdC5wcm90b3R5cGUsRz0iZnVuY3Rpb24iPT10eXBlb2YgTyxXPWkuUU9iamVjdCxZPSFXfHwhVy5wcm90b3R5cGV8fCFXLnByb3RvdHlwZS5maW5kQ2hpbGQscT1hJiZjKGZ1bmN0aW9uKCl7cmV0dXJuIDchPV8oRih7fSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiBGKHRoaXMsImEiLHt2YWx1ZTo3fSkuYX19KSkuYX0pP2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1rKFYsdCk7biYmZGVsZXRlIFZbdF0sRihlLHQsciksbiYmZSE9PVYmJkYoVix0LG4pfTpGLEs9ZnVuY3Rpb24oZSl7dmFyIHQ9altlXT1fKE8ucHJvdG90eXBlKTtyZXR1cm4gdC5faz1lLHR9LEg9RyYmInN5bWJvbCI9PW4oTy5pdGVyYXRvcik/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOm4oZSkpfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE99LEo9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09ViYmSihVLHQsciksRShlKSx0PUEodCwhMCksRShyKSxzKGosdCk/KHIuZW51bWVyYWJsZT8ocyhlLEkpJiZlW0ldW3RdJiYoZVtJXVt0XT0hMSkscj1fKHIse2VudW1lcmFibGU6UygwLCExKX0pKToocyhlLEkpfHxGKGUsSSxTKDEse30pKSxlW0ldW3RdPSEwKSxxKGUsdCxyKSk6RihlLHQscil9LFg9ZnVuY3Rpb24oZSx0KXtFKGUpO2Zvcih2YXIgcixuPWcodD14KHQpKSxpPTAscz1uLmxlbmd0aDtzPmk7KUooZSxyPW5baSsrXSx0W3JdKTtyZXR1cm4gZX0sej1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10P18oZSk6WChfKGUpLHQpfSwkPWZ1bmN0aW9uKGUpe3ZhciB0PU4uY2FsbCh0aGlzLGU9QShlLCEwKSk7cmV0dXJuISh0aGlzPT09ViYmcyhqLGUpJiYhcyhVLGUpKSYmKCEodHx8IXModGhpcyxlKXx8IXMoaixlKXx8cyh0aGlzLEkpJiZ0aGlzW0ldW2VdKXx8dCl9LFE9ZnVuY3Rpb24oZSx0KXtpZihlPXgoZSksdD1BKHQsITApLGUhPT1WfHwhcyhqLHQpfHxzKFUsdCkpe3ZhciByPWsoZSx0KTtyZXR1cm4hcnx8IXMoaix0KXx8cyhlLEkpJiZlW0ldW3RdfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sWj1mdW5jdGlvbihlKXtmb3IodmFyIHQscj1UKHgoZSkpLG49W10saT0wO3IubGVuZ3RoPmk7KXMoaix0PXJbaSsrXSl8fHQ9PUl8fHQ9PWx8fG4ucHVzaCh0KTtyZXR1cm4gbn0sZWU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9ZT09PVYsbj1UKHI/VTp4KGUpKSxpPVtdLGE9MDtuLmxlbmd0aD5hOykhcyhqLHQ9blthKytdKXx8ciYmIXMoVix0KXx8aS5wdXNoKGpbdF0pO3JldHVybiBpfTtHfHwoTz1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBPKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3ZhciBlPWQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApLHQ9ZnVuY3Rpb24gdChyKXt0aGlzPT09ViYmdC5jYWxsKFUscikscyh0aGlzLEkpJiZzKHRoaXNbSV0sZSkmJih0aGlzW0ldW2VdPSExKSxxKHRoaXMsZSxTKDEscikpfTtyZXR1cm4gYSYmWSYmcShWLGUse2NvbmZpZ3VyYWJsZTohMCxzZXQ6dH0pLEsoZSl9LHUoTy5wcm90b3R5cGUsInRvU3RyaW5nIixmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rfSksQy5mPVEsdy5mPUoscigyMzYpLmY9RC5mPVoscig5MSkuZj0kLHIoMTQ1KS5mPWVlLGEmJiFyKDE0NCkmJnUoViwicHJvcGVydHlJc0VudW1lcmFibGUiLCQsITApLG0uZj1mdW5jdGlvbihlKXtyZXR1cm4gSyhoKGUpKX0pLG8oby5HK28uVytvLkYqIUcse1N5bWJvbDpPfSk7Zm9yKHZhciB0ZT0iaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMiLnNwbGl0KCIsIikscmU9MDt0ZS5sZW5ndGg+cmU7KWgodGVbcmUrK10pO2Zvcih2YXIgbmU9UChoLnN0b3JlKSxpZT0wO25lLmxlbmd0aD5pZTspeShuZVtpZSsrXSk7byhvLlMrby5GKiFHLCJTeW1ib2wiLHtmb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIHMoTCxlKz0iIik/TFtlXTpMW2VdPU8oZSl9LGtleUZvcjpmdW5jdGlvbihlKXtpZihIKGUpKXJldHVybiB2KEwsZSk7dGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYSBzeW1ib2whIil9LHVzZVNldHRlcjpmdW5jdGlvbigpe1k9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe1k9ITF9fSksbyhvLlMrby5GKiFHLCJPYmplY3QiLHtjcmVhdGU6eixkZWZpbmVQcm9wZXJ0eTpKLGRlZmluZVByb3BlcnRpZXM6WCxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6USxnZXRPd25Qcm9wZXJ0eU5hbWVzOlosZ2V0T3duUHJvcGVydHlTeW1ib2xzOmVlfSksQiYmbyhvLlMrby5GKighR3x8YyhmdW5jdGlvbigpe3ZhciBlPU8oKTtyZXR1cm4iW251bGxdIiE9UihbZV0pfHwie30iIT1SKHthOmV9KXx8Int9IiE9UihPYmplY3QoZSkpfSkpLCJKU09OIix7c3RyaW5naWZ5OmZ1bmN0aW9uKGUpe2lmKHZvaWQgMCE9PWUmJiFIKGUpKXtmb3IodmFyIHQscixuPVtlXSxpPTE7YXJndW1lbnRzLmxlbmd0aD5pOyluLnB1c2goYXJndW1lbnRzW2krK10pO3JldHVybiB0PW5bMV0sImZ1bmN0aW9uIj09dHlwZW9mIHQmJihyPXQpLCFyJiZiKHQpfHwodD1mdW5jdGlvbihlLHQpe2lmKHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLCFIKHQpKXJldHVybiB0fSksblsxXT10LFIuYXBwbHkoQixuKX19fSksTy5wcm90b3R5cGVbTV18fHIoMjkpKE8ucHJvdG90eXBlLE0sTy5wcm90b3R5cGUudmFsdWVPZikscChPLCJTeW1ib2wiKSxwKE1hdGgsIk1hdGgiLCEwKSxwKGkuSlNPTiwiSlNPTiIsITApfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzgpLGk9cigxNykscz1uKGksIk1hcCIpO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9LTEscj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8cjspe3ZhciBuPWVbdF07dGhpcy5zZXQoblswXSxuWzFdKX19dmFyIGk9cig1NTEpLHM9cig1NTIpLGE9cig1NTMpLG89cig1NTQpLHU9cig1NTUpO24ucHJvdG90eXBlLmNsZWFyPWksbi5wcm90b3R5cGUuZGVsZXRlPXMsbi5wcm90b3R5cGUuZ2V0PWEsbi5wcm90b3R5cGUuaGFzPW8sbi5wcm90b3R5cGUuc2V0PXUsZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9LTEsbj10Lmxlbmd0aCxpPWUubGVuZ3RoOysrcjxuOyllW2krcl09dFtyXTtyZXR1cm4gZX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyKXt2YXIgbj1lW3RdO28uY2FsbChlLHQpJiZzKG4scikmJih2b2lkIDAhPT1yfHx0IGluIGUpfHxpKGUsdCxyKX12YXIgaT1yKDE2Mykscz1yKDQ2KSxhPU9iamVjdC5wcm90b3R5cGUsbz1hLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpeyJfX3Byb3RvX18iPT10JiZpP2koZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpyLHdyaXRhYmxlOiEwfSk6ZVt0XT1yfXZhciBpPXIoMjU5KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLFQsTyxCKXt2YXIgUixJPXQmUyxNPXQmXyxOPXQmRDtpZihyJiYoUj1PP3IoZSxULE8sQik6cihlKSksdm9pZCAwIT09UilyZXR1cm4gUjtpZigheChlKSlyZXR1cm4gZTt2YXIgTD1iKGUpO2lmKEwpe2lmKFI9eShlKSwhSSlyZXR1cm4gYyhlLFIpfWVsc2V7dmFyIGo9bShlKSxVPWo9PXd8fGo9PVA7aWYoRShlKSlyZXR1cm4gbChlLEkpO2lmKGo9PWt8fGo9PUN8fFUmJiFPKXtpZihSPU18fFU/e306ZyhlKSwhSSlyZXR1cm4gTT9wKGUsdShSLGUpKTpmKGUsbyhSLGUpKX1lbHNle2lmKCFGW2pdKXJldHVybiBPP2U6e307Uj12KGUsaixuLEkpfX1CfHwoQj1uZXcgaSk7dmFyIFY9Qi5nZXQoZSk7aWYoVilyZXR1cm4gVjtCLnNldChlLFIpO3ZhciBHPU4/TT9oOmQ6TT9rZXlzSW46QSxXPUw/dm9pZCAwOkcoZSk7cmV0dXJuIHMoV3x8ZSxmdW5jdGlvbihpLHMpe1cmJihzPWksaT1lW3NdKSxhKFIscyxuKGksdCxyLHMsZSxCKSl9KSxSfXZhciBpPXIoOTkpLHM9cig0NzgpLGE9cigxNjIpLG89cig0ODMpLHU9cig0ODQpLGw9cigyNTYpLGM9cigxNjgpLGY9cig1MjMpLHA9cig1MjQpLGQ9cigyNjIpLGg9cig1MzIpLG09cigyNjQpLHk9cig1NDEpLHY9cig1NDIpLGc9cigyNjYpLGI9cig2KSxFPXIoMTEzKSx4PXIoMTgpLEE9cigzMiksUz0xLF89MixEPTQsQz0iW29iamVjdCBBcmd1bWVudHNdIix3PSJbb2JqZWN0IEZ1bmN0aW9uXSIsUD0iW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0iLGs9IltvYmplY3QgT2JqZWN0XSIsRj17fTtGW0NdPUZbIltvYmplY3QgQXJyYXldIl09RlsiW29iamVjdCBBcnJheUJ1ZmZlcl0iXT1GWyJbb2JqZWN0IERhdGFWaWV3XSJdPUZbIltvYmplY3QgQm9vbGVhbl0iXT1GWyJbb2JqZWN0IERhdGVdIl09RlsiW29iamVjdCBGbG9hdDMyQXJyYXldIl09RlsiW29iamVjdCBGbG9hdDY0QXJyYXldIl09RlsiW29iamVjdCBJbnQ4QXJyYXldIl09RlsiW29iamVjdCBJbnQxNkFycmF5XSJdPUZbIltvYmplY3QgSW50MzJBcnJheV0iXT1GWyJbb2JqZWN0IE1hcF0iXT1GWyJbb2JqZWN0IE51bWJlcl0iXT1GW2tdPUZbIltvYmplY3QgUmVnRXhwXSJdPUZbIltvYmplY3QgU2V0XSJdPUZbIltvYmplY3QgU3RyaW5nXSJdPUZbIltvYmplY3QgU3ltYm9sXSJdPUZbIltvYmplY3QgVWludDhBcnJheV0iXT1GWyJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSJdPUZbIltvYmplY3QgVWludDE2QXJyYXldIl09RlsiW29iamVjdCBVaW50MzJBcnJheV0iXT0hMCxGWyJbb2JqZWN0IEVycm9yXSJdPUZbd109RlsiW29iamVjdCBXZWFrTWFwXSJdPSExLGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxyLG4pe2Zvcih2YXIgaT1lLmxlbmd0aCxzPXIrKG4/MTotMSk7bj9zLS06KytzPGk7KWlmKHQoZVtzXSxzLGUpKXJldHVybiBzO3JldHVybi0xfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3JldHVybiB0PT09dD9hKGUsdCxyKTppKGUscyxyKX12YXIgaT1yKDE2NSkscz1yKDQ5NiksYT1yKDU3MCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1uZXcgZS5jb25zdHJ1Y3RvcihlLmJ5dGVMZW5ndGgpO3JldHVybiBuZXcgaSh0KS5zZXQobmV3IGkoZSkpLHR9dmFyIGk9cigyNDMpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7dmFyIHI9LTEsbj1lLmxlbmd0aDtmb3IodHx8KHQ9QXJyYXkobikpOysrcjxuOyl0W3JdPWVbcl07cmV0dXJuIHR9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyNzEpLGk9bihPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDQ3OSksaT1yKDI3OSkscz1PYmplY3QucHJvdG90eXBlLGE9cy5wcm9wZXJ0eUlzRW51bWVyYWJsZSxvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsdT1vP2Z1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1tdOihlPU9iamVjdChlKSxuKG8oZSksZnVuY3Rpb24odCl7cmV0dXJuIGEuY2FsbChlLHQpfSkpfTppO2UuZXhwb3J0cz11fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuISEodD1udWxsPT10P246dCkmJigibnVtYmVyIj09dHlwZW9mIGV8fGkudGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTx0fXZhciBuPTkwMDcxOTkyNTQ3NDA5OTEsaT0vXig/OjB8WzEtOV1cZCopJC87ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7aWYoIXUocikpcmV0dXJuITE7dmFyIG49dm9pZCAwPT09dD8idW5kZWZpbmVkIjppKHQpO3JldHVybiEhKCJudW1iZXIiPT1uP2EocikmJm8odCxyLmxlbmd0aCk6InN0cmluZyI9PW4mJnQgaW4gcikmJnMoclt0XSxlKX12YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scz1yKDQ2KSxhPXIoMjQpLG89cigxNzEpLHU9cigxOCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2lmKHMoZSkpcmV0dXJuITE7dmFyIHI9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjppKGUpO3JldHVybiEoIm51bWJlciIhPXImJiJzeW1ib2wiIT1yJiYiYm9vbGVhbiIhPXImJm51bGwhPWUmJiFhKGUpKXx8KHUudGVzdChlKXx8IW8udGVzdChlKXx8bnVsbCE9dCYmZSBpbiBPYmplY3QodCkpfXZhciBpPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxzPXIoNiksYT1yKDYyKSxvPS9cLnxcWyg/OlteW1xdXSp8KFsiJ10pKD86KD8hXDEpW15cXF18XFwuKSo/XDEpXF0vLHU9L15cdyokLztlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE2MiksaT1yKDMxKSxzPXIoMTAzKSxhPXIoMjQpLG89cigxMDUpLHU9cigzMiksbD1PYmplY3QucHJvdG90eXBlLGM9bC5oYXNPd25Qcm9wZXJ0eSxmPXMoZnVuY3Rpb24oZSx0KXtpZihvKHQpfHxhKHQpKXJldHVybiB2b2lkIGkodCx1KHQpLGUpO2Zvcih2YXIgciBpbiB0KWMuY2FsbCh0LHIpJiZuKGUscix0W3JdKX0pO2UuZXhwb3J0cz1mfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoIXMoZSkpcmV0dXJuITE7dmFyIHQ9aShlKTtyZXR1cm4gdD09b3x8dD09dXx8dD09YXx8dD09bH12YXIgaT1yKDMwKSxzPXIoMTgpLGE9IltvYmplY3QgQXN5bmNGdW5jdGlvbl0iLG89IltvYmplY3QgRnVuY3Rpb25dIix1PSJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXSIsbD0iW29iamVjdCBQcm94eV0iO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZSYmZT4tMSYmZSUxPT0wJiZlPD1ufXZhciBuPTkwMDcxOTkyNTQ3NDA5OTE7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0OTkpLGk9cigxMDIpLHM9cigyNzApLGE9cyYmcy5pc1R5cGVkQXJyYXksbz1hP2koYSk6bjtlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHIoaShlKSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gc1tlXXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitlKyInLiIpfSgpfXZhciBzPXsiLi9pbmRleCI6NTAsIi4vaW5kZXguanMiOjUwLCIuL2xvZ2dlciI6MTIwLCIuL2xvZ2dlci5qcyI6MTIwLCIuL21ldGFkYXRhIjoxMjEsIi4vbWV0YWRhdGEuanMiOjEyMSwiLi9vcHRpb25zL2J1aWxkLWNvbmZpZy1jaGFpbiI6NTEsIi4vb3B0aW9ucy9idWlsZC1jb25maWctY2hhaW4uanMiOjUxLCIuL29wdGlvbnMvY29uZmlnIjozMywiLi9vcHRpb25zL2NvbmZpZy5qcyI6MzMsIi4vb3B0aW9ucy9pbmRleCI6NTIsIi4vb3B0aW9ucy9pbmRleC5qcyI6NTIsIi4vb3B0aW9ucy9vcHRpb24tbWFuYWdlciI6MzQsIi4vb3B0aW9ucy9vcHRpb24tbWFuYWdlci5qcyI6MzQsIi4vb3B0aW9ucy9wYXJzZXJzIjo1MywiLi9vcHRpb25zL3BhcnNlcnMuanMiOjUzLCIuL29wdGlvbnMvcmVtb3ZlZCI6NTQsIi4vb3B0aW9ucy9yZW1vdmVkLmpzIjo1NH07bi5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHMpfSxuLnJlc29sdmU9aSxlLmV4cG9ydHM9bixuLmlkPTE3OH0sZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuIHIoaShlKSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gc1tlXXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitlKyInLiIpfSgpfXZhciBzPXsiLi9idWlsZC1jb25maWctY2hhaW4iOjUxLCIuL2J1aWxkLWNvbmZpZy1jaGFpbi5qcyI6NTEsIi4vY29uZmlnIjozMywiLi9jb25maWcuanMiOjMzLCIuL2luZGV4Ijo1MiwiLi9pbmRleC5qcyI6NTIsIi4vb3B0aW9uLW1hbmFnZXIiOjM0LCIuL29wdGlvbi1tYW5hZ2VyLmpzIjozNCwiLi9wYXJzZXJzIjo1MywiLi9wYXJzZXJzLmpzIjo1MywiLi9yZW1vdmVkIjo1NCwiLi9yZW1vdmVkLmpzIjo1NH07bi5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5rZXlzKHMpfSxuLnJlc29sdmU9aSxlLmV4cG9ydHM9bixuLmlkPTE3OX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuL1tcdTAwMWJcdTAwOWJdW1soKSM7P10qKD86WzAtOV17MSw0fSg/OjtbMC05XXswLDR9KSopP1swLTlBLVBSWmNmLW5xcnk9PjxdL2d9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7cmV0dXJue2tleXdvcmQ6ZS5jeWFuLGNhcGl0YWxpemVkOmUueWVsbG93LGpzeF90YWc6ZS55ZWxsb3cscHVuY3R1YXRvcjplLnllbGxvdyxudW1iZXI6ZS5tYWdlbnRhLHN0cmluZzplLmdyZWVuLHJlZ2V4OmUubWFnZW50YSxjb21tZW50OmUuZ3JleSxpbnZhbGlkOmUud2hpdGUuYmdSZWQuYm9sZCxndXR0ZXI6ZS5ncmV5LG1hcmtlcjplLnJlZC5ib2xkfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUuc2xpY2UoLTIpLHI9dFswXSxuPXRbMV0saT0oMCxvLm1hdGNoVG9Ub2tlbikoZSk7aWYoIm5hbWUiPT09aS50eXBlKXtpZihjLmRlZmF1bHQua2V5d29yZC5pc1Jlc2VydmVkV29yZEVTNihpLnZhbHVlKSlyZXR1cm4ia2V5d29yZCI7aWYoaC50ZXN0KGkudmFsdWUpJiYoIjwiPT09bltyLTFdfHwiPC8iPT1uLnN1YnN0cihyLTIsMikpKXJldHVybiJqc3hfdGFnIjtpZihpLnZhbHVlWzBdIT09aS52YWx1ZVswXS50b0xvd2VyQ2FzZSgpKXJldHVybiJjYXBpdGFsaXplZCJ9cmV0dXJuInB1bmN0dWF0b3IiPT09aS50eXBlJiZtLnRlc3QoaS52YWx1ZSk/ImJyYWNrZXQiOmkudHlwZX1mdW5jdGlvbiBhKGUsdCl7cmV0dXJuIHQucmVwbGFjZSh1LmRlZmF1bHQsZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KHQpLG49MDtuPHQ7bisrKXJbbl09YXJndW1lbnRzW25dO3ZhciBpPXMociksYT1lW2ldO3JldHVybiBhP3JbMF0uc3BsaXQoZCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBhKGUpfSkuam9pbigiXG4iKTpyWzBdfSl9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3I9TWF0aC5tYXgociwwKTt2YXIgcz1uLmhpZ2hsaWdodENvZGUmJnAuZGVmYXVsdC5zdXBwb3J0c0NvbG9yfHxuLmZvcmNlQ29sb3Isbz1wLmRlZmF1bHQ7bi5mb3JjZUNvbG9yJiYobz1uZXcgcC5kZWZhdWx0LmNvbnN0cnVjdG9yKHtlbmFibGVkOiEwfSkpO3ZhciB1PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHM/ZSh0KTp0fSxsPWkobyk7cyYmKGU9YShsLGUpKTt2YXIgYz1uLmxpbmVzQWJvdmV8fDIsZj1uLmxpbmVzQmVsb3d8fDMsaD1lLnNwbGl0KGQpLG09TWF0aC5tYXgodC0oYysxKSwwKSx5PU1hdGgubWluKGgubGVuZ3RoLHQrZik7dHx8cnx8KG09MCx5PWgubGVuZ3RoKTt2YXIgdj1TdHJpbmcoeSkubGVuZ3RoLGc9aC5zbGljZShtLHkpLm1hcChmdW5jdGlvbihlLG4pe3ZhciBpPW0rMStuLHM9KCIgIitpKS5zbGljZSgtdiksYT0iICIrcysiIHwgIjtpZihpPT09dCl7dmFyIG89IiI7aWYocil7dmFyIGM9ZS5zbGljZSgwLHItMSkucmVwbGFjZSgvW15cdF0vZywiICIpO289WyJcbiAiLHUobC5ndXR0ZXIsYS5yZXBsYWNlKC9cZC9nLCIgIikpLGMsdShsLm1hcmtlciwiXiIpXS5qb2luKCIiKX1yZXR1cm5bdShsLm1hcmtlciwiPiIpLHUobC5ndXR0ZXIsYSksZSxvXS5qb2luKCIiKX1yZXR1cm4iICIrdShsLmd1dHRlcixhKStlfSkuam9pbigiXG4iKTtyZXR1cm4gcz9vLnJlc2V0KGcpOmd9O3ZhciBvPXIoNDY4KSx1PW4obyksbD1yKDk3KSxjPW4obCksZj1yKDQwMSkscD1uKGYpLGQ9L1xyXG58W1xuXHJcdTIwMjhcdTIwMjldLyxoPS9eW2Etel1bXHctXSokL2ksbT0vXlsoKVxbXF17fV0kLztlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSl7dGhyb3cgbmV3IEVycm9yKCJUaGUgKCIrZSsiKSBCYWJlbCA1IHBsdWdpbiBpcyBiZWluZyBydW4gd2l0aCBCYWJlbCA2LiIpfWZ1bmN0aW9uIGEoZSx0LHIpeyJmdW5jdGlvbiI9PXR5cGVvZiB0JiYocj10LHQ9e30pLHQuZmlsZW5hbWU9ZSx5LmRlZmF1bHQucmVhZEZpbGUoZSxmdW5jdGlvbihlLG4pe3ZhciBpPXZvaWQgMDtpZighZSl0cnl7aT1GKG4sdCl9Y2F0Y2godCl7ZT10fWU/cihlKTpyKG51bGwsaSl9KX1mdW5jdGlvbiBvKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gdC5maWxlbmFtZT1lLEYoeS5kZWZhdWx0LnJlYWRGaWxlU3luYyhlLCJ1dGY4IiksdCl9dC5fX2VzTW9kdWxlPSEwLHQudHJhbnNmb3JtRnJvbUFzdD10LnRyYW5zZm9ybT10LmFuYWx5c2U9dC5QaXBlbGluZT10Lk9wdGlvbk1hbmFnZXI9dC50cmF2ZXJzZT10LnR5cGVzPXQubWVzc2FnZXM9dC51dGlsPXQudmVyc2lvbj10LnJlc29sdmVQcmVzZXQ9dC5yZXNvbHZlUGx1Z2luPXQudGVtcGxhdGU9dC5idWlsZEV4dGVybmFsSGVscGVycz10Lm9wdGlvbnM9dC5GaWxlPXZvaWQgMDt2YXIgdT1yKDUwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiRmlsZSIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkodSkuZGVmYXVsdH19KTt2YXIgbD1yKDMzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwib3B0aW9ucyIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkobCkuZGVmYXVsdH19KTt2YXIgYz1yKDI5NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsImJ1aWxkRXh0ZXJuYWxIZWxwZXJzIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShjKS5kZWZhdWx0fX0pO3ZhciBmPXIoNCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInRlbXBsYXRlIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaShmKS5kZWZhdWx0fX0pO3ZhciBwPXIoMTg0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwicmVzb2x2ZVBsdWdpbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkocCkuZGVmYXVsdH19KTt2YXIgZD1yKDE4NSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsInJlc29sdmVQcmVzZXQiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpKGQpLmRlZmF1bHR9fSk7dmFyIGg9cig2MjgpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJ2ZXJzaW9uIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaC52ZXJzaW9ufX0pLHQuUGx1Z2luPXMsdC50cmFuc2Zvcm1GaWxlPWEsdC50cmFuc2Zvcm1GaWxlU3luYz1vO3ZhciBtPXIoMTE1KSx5PWkobSksdj1yKDEyMiksZz1uKHYpLGI9cigyMCksRT1uKGIpLHg9cigxKSxBPW4oeCksUz1yKDcpLF89aShTKSxEPXIoMzQpLEM9aShEKSx3PXIoMjk4KSxQPWkodyk7dC51dGlsPWcsdC5tZXNzYWdlcz1FLHQudHlwZXM9QSx0LnRyYXZlcnNlPV8uZGVmYXVsdCx0Lk9wdGlvbk1hbmFnZXI9Qy5kZWZhdWx0LHQuUGlwZWxpbmU9UC5kZWZhdWx0O3ZhciBrPW5ldyBQLmRlZmF1bHQsRj0odC5hbmFseXNlPWsuYW5hbHlzZS5iaW5kKGspLHQudHJhbnNmb3JtPWsudHJhbnNmb3JtLmJpbmQoaykpO3QudHJhbnNmb3JtRnJvbUFzdD1rLnRyYW5zZm9ybUZyb21Bc3QuYmluZChrKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGV8fCgwLHMuZGVmYXVsdCkocix0KX0sbnVsbCl9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1uO3ZhciBpPXIoMTE4KSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oaSk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06bi5jd2QoKTtyZXR1cm4oMCxvLmRlZmF1bHQpKCgwLGwuZGVmYXVsdCkoZSksdCl9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1zO3ZhciBhPXIoMTgzKSxvPWkoYSksdT1yKDI5MSksbD1pKHUpO2UuZXhwb3J0cz10LmRlZmF1bHR9KS5jYWxsKHQscig4KSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm4uY3dkKCk7cmV0dXJuKDAsby5kZWZhdWx0KSgoMCxsLmRlZmF1bHQpKGUpLHQpfXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9czt2YXIgYT1yKDE4Myksbz1pKGEpLHU9cigyOTIpLGw9aSh1KTtlLmV4cG9ydHM9dC5kZWZhdWx0fSkuY2FsbCh0LHIoOCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0LHIpe3ZhciBuPSIgICI7aWYoZSYmInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgaT0oMCxkLmRlZmF1bHQpKGUpLmluZGVudDtpJiYiICIhPT1pJiYobj1pKX12YXIgYT17YXV4aWxpYXJ5Q29tbWVudEJlZm9yZTp0LmF1eGlsaWFyeUNvbW1lbnRCZWZvcmUsYXV4aWxpYXJ5Q29tbWVudEFmdGVyOnQuYXV4aWxpYXJ5Q29tbWVudEFmdGVyLHNob3VsZFByaW50Q29tbWVudDp0LnNob3VsZFByaW50Q29tbWVudCxyZXRhaW5MaW5lczp0LnJldGFpbkxpbmVzLHJldGFpbkZ1bmN0aW9uUGFyZW5zOnQucmV0YWluRnVuY3Rpb25QYXJlbnMsY29tbWVudHM6bnVsbD09dC5jb21tZW50c3x8dC5jb21tZW50cyxjb21wYWN0OnQuY29tcGFjdCxtaW5pZmllZDp0Lm1pbmlmaWVkLGNvbmNpc2U6dC5jb25jaXNlLHF1b3Rlczp0LnF1b3Rlc3x8cyhlLHIpLGpzb25Db21wYXRpYmxlU3RyaW5nczp0Lmpzb25Db21wYXRpYmxlU3RyaW5ncyxpbmRlbnQ6e2FkanVzdE11bHRpbGluZUNvbW1lbnQ6ITAsc3R5bGU6bixiYXNlOjB9LGZsb3dDb21tYVNlcGFyYXRvcjp0LmZsb3dDb21tYVNlcGFyYXRvcn07cmV0dXJuIGEubWluaWZpZWQ/KGEuY29tcGFjdD0hMCxhLnNob3VsZFByaW50Q29tbWVudD1hLnNob3VsZFByaW50Q29tbWVudHx8ZnVuY3Rpb24oKXtyZXR1cm4gYS5jb21tZW50c30pOmEuc2hvdWxkUHJpbnRDb21tZW50PWEuc2hvdWxkUHJpbnRDb21tZW50fHxmdW5jdGlvbihlKXtyZXR1cm4gYS5jb21tZW50c3x8ZS5pbmRleE9mKCJAbGljZW5zZSIpPj0wfHxlLmluZGV4T2YoIkBwcmVzZXJ2ZSIpPj0wfSwiYXV0byI9PT1hLmNvbXBhY3QmJihhLmNvbXBhY3Q9ZS5sZW5ndGg+NWU1LGEuY29tcGFjdCYmY29uc29sZS5lcnJvcigiW0JBQkVMXSAiK3YuZ2V0KCJjb2RlR2VuZXJhdG9yRGVvcHQiLHQuZmlsZW5hbWUsIjUwMEtCIikpKSxhLmNvbXBhY3QmJihhLmluZGVudC5hZGp1c3RNdWx0aWxpbmVDb21tZW50PSExKSxhfWZ1bmN0aW9uIHMoZSx0KXtpZighZSlyZXR1cm4iZG91YmxlIjtmb3IodmFyIHI9e3NpbmdsZTowLGRvdWJsZTowfSxuPTAsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcz10W2ldO2lmKCJzdHJpbmciPT09cy50eXBlLmxhYmVsKXtpZigiJyI9PT1lLnNsaWNlKHMuc3RhcnQscy5lbmQpWzBdP3Iuc2luZ2xlKys6ci5kb3VibGUrKywrK24+PTMpYnJlYWt9fXJldHVybiByLnNpbmdsZT5yLmRvdWJsZT8ic2luZ2xlIjoiZG91YmxlIn10Ll9fZXNNb2R1bGU9ITAsdC5Db2RlR2VuZXJhdG9yPXZvaWQgMDt2YXIgYT1yKDMpLG89bihhKSx1PXIoNDIpLGw9bih1KSxjPXIoNDEpLGY9bihjKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgRShlLHQscikuZ2VuZXJhdGUoKX07dmFyIHA9cig0NTkpLGQ9bihwKSxoPXIoMzEzKSxtPW4oaCkseT1yKDIwKSx2PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oeSksZz1yKDMxMiksYj1uKGcpLEU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scz1hcmd1bWVudHNbMl07KDAsby5kZWZhdWx0KSh0aGlzLHQpO3ZhciBhPXIudG9rZW5zfHxbXSx1PWkocyxuLGEpLGM9bi5zb3VyY2VNYXBzP25ldyBtLmRlZmF1bHQobixzKTpudWxsLGY9KDAsbC5kZWZhdWx0KSh0aGlzLGUuY2FsbCh0aGlzLHUsYyxhKSk7cmV0dXJuIGYuYXN0PXIsZn1yZXR1cm4oMCxmLmRlZmF1bHQpKHQsZSksdC5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5wcm90b3R5cGUuZ2VuZXJhdGUuY2FsbCh0aGlzLHRoaXMuYXN0KX0sdH0oYi5kZWZhdWx0KTt0LkNvZGVHZW5lcmF0b3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuKXsoMCxvLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5fZ2VuZXJhdG9yPW5ldyBFKHQscixuKX1yZXR1cm4gZS5wcm90b3R5cGUuZ2VuZXJhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VuZXJhdG9yLmdlbmVyYXRlKCl9LGV9KCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXtmdW5jdGlvbiB0KGUsdCl7dmFyIG49cltlXTtyW2VdPW4/ZnVuY3Rpb24oZSxyLGkpe3ZhciBzPW4oZSxyLGkpO3JldHVybiBudWxsPT1zP3QoZSxyLGkpOnN9OnR9Zm9yKHZhciByPXt9LG49KDAsbS5kZWZhdWx0KShlKSxpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOigwLGQuZGVmYXVsdCkobik7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9dmFyIG89YSx1PXguRkxJUFBFRF9BTElBU19LRVlTW29dO2lmKHUpZm9yKHZhciBsPXUsYz1BcnJheS5pc0FycmF5KGwpLGY9MCxsPWM/bDooMCxkLmRlZmF1bHQpKGwpOzspe3ZhciBwO2lmKGMpe2lmKGY+PWwubGVuZ3RoKWJyZWFrO3A9bFtmKytdfWVsc2V7aWYoZj1sLm5leHQoKSxmLmRvbmUpYnJlYWs7cD1mLnZhbHVlfXZhciBoPXA7dChoLGVbb10pfWVsc2UgdChvLGVbb10pfXJldHVybiByfWZ1bmN0aW9uIGEoZSx0LHIsbil7dmFyIGk9ZVt0LnR5cGVdO3JldHVybiBpP2kodCxyLG4pOm51bGx9ZnVuY3Rpb24gbyhlKXtyZXR1cm4hIXguaXNDYWxsRXhwcmVzc2lvbihlKXx8ISF4LmlzTWVtYmVyRXhwcmVzc2lvbihlKSYmKG8oZS5vYmplY3QpfHwhZS5jb21wdXRlZCYmbyhlLnByb3BlcnR5KSl9ZnVuY3Rpb24gdShlLHQscil7aWYoIWUpcmV0dXJuIDA7eC5pc0V4cHJlc3Npb25TdGF0ZW1lbnQoZSkmJihlPWUuZXhwcmVzc2lvbik7dmFyIG49YShTLGUsdCk7aWYoIW4pe3ZhciBpPWEoXyxlLHQpO2lmKGkpZm9yKHZhciBzPTA7czxpLmxlbmd0aCYmIShuPXUoaVtzXSxlLHIpKTtzKyspO31yZXR1cm4gbiYmbltyXXx8MH1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIHUoZSx0LCJiZWZvcmUiKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIHUoZSx0LCJhZnRlciIpfWZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiEhdCYmKCEoIXguaXNOZXdFeHByZXNzaW9uKHQpfHx0LmNhbGxlZSE9PWV8fCFvKGUpKXx8YShBLGUsdCxyKSl9dC5fX2VzTW9kdWxlPSEwO3ZhciBwPXIoMiksZD1pKHApLGg9cigxNCksbT1pKGgpO3QubmVlZHNXaGl0ZXNwYWNlPXUsdC5uZWVkc1doaXRlc3BhY2VCZWZvcmU9bCx0Lm5lZWRzV2hpdGVzcGFjZUFmdGVyPWMsdC5uZWVkc1BhcmVucz1mO3ZhciB5PXIoMzExKSx2PWkoeSksZz1yKDMxMCksYj1uKGcpLEU9cigxKSx4PW4oRSksQT1zKGIpLFM9cyh2LmRlZmF1bHQubm9kZXMpLF89cyh2LmRlZmF1bHQubGlzdCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXtyZXR1cm4hdi5pc0NsYXNzTWV0aG9kKGUpJiYhdi5pc09iamVjdE1ldGhvZChlKXx8ImdldCIhPT1lLmtpbmQmJiJzZXQiIT09ZS5raW5kPyJ2YWx1ZSI6ZS5raW5kfWZ1bmN0aW9uIHMoZSx0LHIsbixzKXt2YXIgYT12LnRvS2V5QWxpYXModCksbz17fTtpZigoMCxtLmRlZmF1bHQpKGUsYSkmJihvPWVbYV0pLGVbYV09byxvLl9pbmhlcml0cz1vLl9pbmhlcml0c3x8W10sby5faW5oZXJpdHMucHVzaCh0KSxvLl9rZXk9dC5rZXksdC5jb21wdXRlZCYmKG8uX2NvbXB1dGVkPSEwKSx0LmRlY29yYXRvcnMpe3ZhciB1PW8uZGVjb3JhdG9ycz1vLmRlY29yYXRvcnN8fHYuYXJyYXlFeHByZXNzaW9uKFtdKTt1LmVsZW1lbnRzPXUuZWxlbWVudHMuY29uY2F0KHQuZGVjb3JhdG9ycy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXhwcmVzc2lvbn0pLnJldmVyc2UoKSl9aWYoby52YWx1ZXx8by5pbml0aWFsaXplcil0aHJvdyBuLmJ1aWxkQ29kZUZyYW1lRXJyb3IodCwiS2V5IGNvbmZsaWN0IHdpdGggc2libGluZyBub2RlIik7dmFyIGw9dm9pZCAwLGM9dm9pZCAwOyh2LmlzT2JqZWN0UHJvcGVydHkodCl8fHYuaXNPYmplY3RNZXRob2QodCl8fHYuaXNDbGFzc01ldGhvZCh0KSkmJihsPXYudG9Db21wdXRlZEtleSh0LHQua2V5KSksdi5pc09iamVjdFByb3BlcnR5KHQpfHx2LmlzQ2xhc3NQcm9wZXJ0eSh0KT9jPXQudmFsdWU6KHYuaXNPYmplY3RNZXRob2QodCl8fHYuaXNDbGFzc01ldGhvZCh0KSkmJihjPXYuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsdC5wYXJhbXMsdC5ib2R5LHQuZ2VuZXJhdG9yLHQuYXN5bmMpLGMucmV0dXJuVHlwZT10LnJldHVyblR5cGUpO3ZhciBmPWkodCk7cmV0dXJuIHImJiJ2YWx1ZSI9PT1mfHwocj1mKSxzJiZ2LmlzU3RyaW5nTGl0ZXJhbChsKSYmKCJ2YWx1ZSI9PT1yfHwiaW5pdGlhbGl6ZXIiPT09cikmJnYuaXNGdW5jdGlvbkV4cHJlc3Npb24oYykmJihjPSgwLGQuZGVmYXVsdCkoe2lkOmwsbm9kZTpjLHNjb3BlOnN9KSksYyYmKHYuaW5oZXJpdHNDb21tZW50cyhjLHQpLG9bcl09Yyksb31mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdCBpbiBlKWlmKGVbdF0uX2NvbXB1dGVkKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG8oZSl7Zm9yKHZhciB0PXYuYXJyYXlFeHByZXNzaW9uKFtdKSxyPTA7cjxlLnByb3BlcnRpZXMubGVuZ3RoO3IrKyl7dmFyIG49ZS5wcm9wZXJ0aWVzW3JdLGk9bi52YWx1ZTtpLnByb3BlcnRpZXMudW5zaGlmdCh2Lm9iamVjdFByb3BlcnR5KHYuaWRlbnRpZmllcigia2V5Iiksdi50b0NvbXB1dGVkS2V5KG4pKSksdC5lbGVtZW50cy5wdXNoKGkpfXJldHVybiB0fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9di5vYmplY3RFeHByZXNzaW9uKFtdKTtyZXR1cm4oMCxmLmRlZmF1bHQpKGUpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49ZVtyXSxpPXYub2JqZWN0RXhwcmVzc2lvbihbXSkscz12Lm9iamVjdFByb3BlcnR5KG4uX2tleSxpLG4uX2NvbXB1dGVkKTsoMCxmLmRlZmF1bHQpKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtpZigiXyIhPT1lWzBdKXt2YXIgcj10Oyh2LmlzQ2xhc3NNZXRob2QodCl8fHYuaXNDbGFzc1Byb3BlcnR5KHQpKSYmKHQ9dC52YWx1ZSk7dmFyIHM9di5vYmplY3RQcm9wZXJ0eSh2LmlkZW50aWZpZXIoZSksdCk7di5pbmhlcml0c0NvbW1lbnRzKHMsciksdi5yZW1vdmVDb21tZW50cyhyKSxpLnByb3BlcnRpZXMucHVzaChzKX19KSx0LnByb3BlcnRpZXMucHVzaChzKX0pLHR9ZnVuY3Rpb24gbChlKXtyZXR1cm4oMCxmLmRlZmF1bHQpKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZVt0XTtyLnZhbHVlJiYoci53cml0YWJsZT12LmJvb2xlYW5MaXRlcmFsKCEwKSksci5jb25maWd1cmFibGU9di5ib29sZWFuTGl0ZXJhbCghMCksci5lbnVtZXJhYmxlPXYuYm9vbGVhbkxpdGVyYWwoITApfSksdShlKX10Ll9fZXNNb2R1bGU9ITA7dmFyIGM9cigxNCksZj1uKGMpO3QucHVzaD1zLHQuaGFzQ29tcHV0ZWQ9YSx0LnRvQ29tcHV0ZWRPYmplY3RGcm9tQ2xhc3M9byx0LnRvQ2xhc3NPYmplY3Q9dSx0LnRvRGVmaW5lT2JqZWN0PWw7dmFyIHA9cig0MCksZD1uKHApLGg9cigyNzQpLG09bihoKSx5PXIoMSksdj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUucGFyYW1zLHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtpZihpLmlzQXNzaWdubWVudFBhdHRlcm4obil8fGkuaXNSZXN0RWxlbWVudChuKSlyZXR1cm4gcn1yZXR1cm4gdC5sZW5ndGh9O3ZhciBuPXIoMSksaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4pO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToidmFyIjtlLnRyYXZlcnNlKG8se2tpbmQ6cixlbWl0OnR9KX07dmFyIHM9cigxKSxhPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0ocyksbz17U2NvcGU6ZnVuY3Rpb24oZSx0KXsibGV0Ij09PXQua2luZCYmZS5za2lwKCl9LEZ1bmN0aW9uOmZ1bmN0aW9uKGUpe2Uuc2tpcCgpfSxWYXJpYWJsZURlY2xhcmF0aW9uOmZ1bmN0aW9uKGUsdCl7aWYoIXQua2luZHx8ZS5ub2RlLmtpbmQ9PT10LmtpbmQpe2Zvcih2YXIgcj1bXSxuPWUuZ2V0KCJkZWNsYXJhdGlvbnMiKSxzPXZvaWQgMCxvPW4sdT1BcnJheS5pc0FycmF5KG8pLGw9MCxvPXU/bzooMCxpLmRlZmF1bHQpKG8pOzspe3ZhciBjO2lmKHUpe2lmKGw+PW8ubGVuZ3RoKWJyZWFrO2M9b1tsKytdfWVsc2V7aWYobD1vLm5leHQoKSxsLmRvbmUpYnJlYWs7Yz1sLnZhbHVlfXZhciBmPWM7cz1mLm5vZGUuaWQsZi5ub2RlLmluaXQmJnIucHVzaChhLmV4cHJlc3Npb25TdGF0ZW1lbnQoYS5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsZi5ub2RlLmlkLGYubm9kZS5pbml0KSkpO2Zvcih2YXIgcCBpbiBmLmdldEJpbmRpbmdJZGVudGlmaWVycygpKXQuZW1pdChhLmlkZW50aWZpZXIocCkscCl9ZS5wYXJlbnRQYXRoLmlzRm9yKHtsZWZ0OmUubm9kZX0pP2UucmVwbGFjZVdpdGgocyk6ZS5yZXBsYWNlV2l0aE11bHRpcGxlKHIpfX19O2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIDE9PT1yLmxlbmd0aCYmaS5pc1NwcmVhZEVsZW1lbnQoclswXSkmJmkuaXNJZGVudGlmaWVyKHJbMF0uYXJndW1lbnQse25hbWU6ImFyZ3VtZW50cyJ9KT9pLmNhbGxFeHByZXNzaW9uKGkubWVtYmVyRXhwcmVzc2lvbihlLGkuaWRlbnRpZmllcigiYXBwbHkiKSksW3QsclswXS5hcmd1bWVudF0pOmkuY2FsbEV4cHJlc3Npb24oaS5tZW1iZXJFeHByZXNzaW9uKGUsaS5pZGVudGlmaWVyKCJjYWxsIikpLFt0XS5jb25jYXQocikpfTt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gdS5pc1JlZ0V4cExpdGVyYWwoZSkmJmUuZmxhZ3MuaW5kZXhPZih0KT49MH1mdW5jdGlvbiBpKGUsdCl7dmFyIHI9ZS5mbGFncy5zcGxpdCgiIik7ZS5mbGFncy5pbmRleE9mKHQpPDB8fCgoMCxhLmRlZmF1bHQpKHIsdCksZS5mbGFncz1yLmpvaW4oIiIpKX10Ll9fZXNNb2R1bGU9ITAsdC5pcz1uLHQucHVsbEZsYWc9aTt2YXIgcz1yKDI3NyksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHMpLG89cigxKSx1PWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0obyl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlLHQpe3JldHVybiEhdi5pc1N1cGVyKGUpJiYoIXYuaXNNZW1iZXJFeHByZXNzaW9uKHQse2NvbXB1dGVkOiExfSkmJiF2LmlzQ2FsbEV4cHJlc3Npb24odCx7Y2FsbGVlOmV9KSl9ZnVuY3Rpb24gYShlKXtyZXR1cm4gdi5pc01lbWJlckV4cHJlc3Npb24oZSkmJnYuaXNTdXBlcihlLm9iamVjdCl9ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXQ/ZTp2Lm1lbWJlckV4cHJlc3Npb24oZSx2LmlkZW50aWZpZXIoInByb3RvdHlwZSIpKTtyZXR1cm4gdi5sb2dpY2FsRXhwcmVzc2lvbigifHwiLHYubWVtYmVyRXhwcmVzc2lvbihyLHYuaWRlbnRpZmllcigiX19wcm90b19fIikpLHYuY2FsbEV4cHJlc3Npb24odi5tZW1iZXJFeHByZXNzaW9uKHYuaWRlbnRpZmllcigiT2JqZWN0Iiksdi5pZGVudGlmaWVyKCJnZXRQcm90b3R5cGVPZiIpKSxbcl0pKX10Ll9fZXNNb2R1bGU9ITA7dmFyIHU9cigzKSxsPWkodSksYz1yKDEwKSxmPWkoYykscD1yKDE5MSksZD1pKHApLGg9cigyMCksbT1uKGgpLHk9cigxKSx2PW4oeSksZz0oMCxmLmRlZmF1bHQpKCksYj17RnVuY3Rpb246ZnVuY3Rpb24oZSl7ZS5pblNoYWRvdygidGhpcyIpfHxlLnNraXAoKX0sUmV0dXJuU3RhdGVtZW50OmZ1bmN0aW9uKGUsdCl7ZS5pblNoYWRvdygidGhpcyIpfHx0LnJldHVybnMucHVzaChlKX0sVGhpc0V4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXtlLm5vZGVbZ118fHQudGhpc2VzLnB1c2goZSl9LGVudGVyOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5zcGVjSGFuZGxlO3QuaXNMb29zZSYmKHI9dC5sb29zZUhhbmRsZSk7dmFyIG49ZS5pc0NhbGxFeHByZXNzaW9uKCkmJmUuZ2V0KCJjYWxsZWUiKS5pc1N1cGVyKCksaT1yLmNhbGwodCxlKTtpJiYodC5oYXNTdXBlcj0hMCksbiYmdC5iYXJlU3VwZXJzLnB1c2goZSksITA9PT1pJiZlLnJlcXVldWUoKSwhMCE9PWkmJmkmJihBcnJheS5pc0FycmF5KGkpP2UucmVwbGFjZVdpdGhNdWx0aXBsZShpKTplLnJlcGxhY2VXaXRoKGkpKX19LEU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07KDAsbC5kZWZhdWx0KSh0aGlzLGUpLHRoaXMuZm9yY2VTdXBlck1lbW9pc2F0aW9uPXQuZm9yY2VTdXBlck1lbW9pc2F0aW9uLHRoaXMubWV0aG9kUGF0aD10Lm1ldGhvZFBhdGgsCnRoaXMubWV0aG9kTm9kZT10Lm1ldGhvZE5vZGUsdGhpcy5zdXBlclJlZj10LnN1cGVyUmVmLHRoaXMuaXNTdGF0aWM9dC5pc1N0YXRpYyx0aGlzLmhhc1N1cGVyPSExLHRoaXMuaW5DbGFzcz1yLHRoaXMuaXNMb29zZT10LmlzTG9vc2UsdGhpcy5zY29wZT10aGlzLm1ldGhvZFBhdGguc2NvcGUsdGhpcy5maWxlPXQuZmlsZSx0aGlzLm9wdHM9dCx0aGlzLmJhcmVTdXBlcnM9W10sdGhpcy5yZXR1cm5zPVtdLHRoaXMudGhpc2VzPVtdfXJldHVybiBlLnByb3RvdHlwZS5nZXRPYmplY3RSZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRzLm9iamVjdFJlZnx8dGhpcy5vcHRzLmdldE9iamVjdFJlZigpfSxlLnByb3RvdHlwZS5zZXRTdXBlclByb3BlcnR5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdi5jYWxsRXhwcmVzc2lvbih0aGlzLmZpbGUuYWRkSGVscGVyKCJzZXQiKSxbbyh0aGlzLmdldE9iamVjdFJlZigpLHRoaXMuaXNTdGF0aWMpLHI/ZTp2LnN0cmluZ0xpdGVyYWwoZS5uYW1lKSx0LHYudGhpc0V4cHJlc3Npb24oKV0pfSxlLnByb3RvdHlwZS5nZXRTdXBlclByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHYuY2FsbEV4cHJlc3Npb24odGhpcy5maWxlLmFkZEhlbHBlcigiZ2V0IiksW28odGhpcy5nZXRPYmplY3RSZWYoKSx0aGlzLmlzU3RhdGljKSx0P2U6di5zdHJpbmdMaXRlcmFsKGUubmFtZSksdi50aGlzRXhwcmVzc2lvbigpXSl9LGUucHJvdG90eXBlLnJlcGxhY2U9ZnVuY3Rpb24oKXt0aGlzLm1ldGhvZFBhdGgudHJhdmVyc2UoYix0aGlzKX0sZS5wcm90b3R5cGUuZ2V0TG9vc2VTdXBlclByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5tZXRob2ROb2RlLG49dGhpcy5zdXBlclJlZnx8di5pZGVudGlmaWVyKCJGdW5jdGlvbiIpO3JldHVybiB0LnByb3BlcnR5PT09ZT92b2lkIDA6di5pc0NhbGxFeHByZXNzaW9uKHQse2NhbGxlZTplfSk/dm9pZCAwOnYuaXNNZW1iZXJFeHByZXNzaW9uKHQpJiYhci5zdGF0aWM/di5tZW1iZXJFeHByZXNzaW9uKG4sdi5pZGVudGlmaWVyKCJwcm90b3R5cGUiKSk6bn0sZS5wcm90b3R5cGUubG9vc2VIYW5kbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO2lmKGUuaXNTdXBlcigpKXJldHVybiB0aGlzLmdldExvb3NlU3VwZXJQcm9wZXJ0eSh0LGUucGFyZW50KTtpZihlLmlzQ2FsbEV4cHJlc3Npb24oKSl7dmFyIHI9dC5jYWxsZWU7aWYoIXYuaXNNZW1iZXJFeHByZXNzaW9uKHIpKXJldHVybjtpZighdi5pc1N1cGVyKHIub2JqZWN0KSlyZXR1cm47cmV0dXJuIHYuYXBwZW5kVG9NZW1iZXJFeHByZXNzaW9uKHIsdi5pZGVudGlmaWVyKCJjYWxsIikpLHQuYXJndW1lbnRzLnVuc2hpZnQodi50aGlzRXhwcmVzc2lvbigpKSwhMH19LGUucHJvdG90eXBlLnNwZWNIYW5kbGVBc3NpZ25tZW50RXhwcmVzc2lvbj1mdW5jdGlvbihlLHQscil7cmV0dXJuIj0iPT09ci5vcGVyYXRvcj90aGlzLnNldFN1cGVyUHJvcGVydHkoci5sZWZ0LnByb3BlcnR5LHIucmlnaHQsci5sZWZ0LmNvbXB1dGVkKTooZT1lfHx0LnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIiksW3YudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbdi52YXJpYWJsZURlY2xhcmF0b3IoZSxyLmxlZnQpXSksdi5leHByZXNzaW9uU3RhdGVtZW50KHYuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLHIubGVmdCx2LmJpbmFyeUV4cHJlc3Npb24oci5vcGVyYXRvclswXSxlLHIucmlnaHQpKSldKX0sZS5wcm90b3R5cGUuc3BlY0hhbmRsZT1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDAscj12b2lkIDAsbj12b2lkIDAsaT1lLnBhcmVudCxvPWUubm9kZTtpZihzKG8saSkpdGhyb3cgZS5idWlsZENvZGVGcmFtZUVycm9yKG0uZ2V0KCJjbGFzc2VzSWxsZWdhbEJhcmVTdXBlciIpKTtpZih2LmlzQ2FsbEV4cHJlc3Npb24obykpe3ZhciB1PW8uY2FsbGVlO2lmKHYuaXNTdXBlcih1KSlyZXR1cm47YSh1KSYmKHQ9dS5wcm9wZXJ0eSxyPXUuY29tcHV0ZWQsbj1vLmFyZ3VtZW50cyl9ZWxzZSBpZih2LmlzTWVtYmVyRXhwcmVzc2lvbihvKSYmdi5pc1N1cGVyKG8ub2JqZWN0KSl0PW8ucHJvcGVydHkscj1vLmNvbXB1dGVkO2Vsc2V7aWYodi5pc1VwZGF0ZUV4cHJlc3Npb24obykmJmEoby5hcmd1bWVudCkpe3ZhciBsPXYuYmluYXJ5RXhwcmVzc2lvbihvLm9wZXJhdG9yWzBdLG8uYXJndW1lbnQsdi5udW1lcmljTGl0ZXJhbCgxKSk7aWYoby5wcmVmaXgpcmV0dXJuIHRoaXMuc3BlY0hhbmRsZUFzc2lnbm1lbnRFeHByZXNzaW9uKG51bGwsZSxsKTt2YXIgYz1lLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIik7cmV0dXJuIHRoaXMuc3BlY0hhbmRsZUFzc2lnbm1lbnRFeHByZXNzaW9uKGMsZSxsKS5jb25jYXQodi5leHByZXNzaW9uU3RhdGVtZW50KGMpKX1pZih2LmlzQXNzaWdubWVudEV4cHJlc3Npb24obykmJmEoby5sZWZ0KSlyZXR1cm4gdGhpcy5zcGVjSGFuZGxlQXNzaWdubWVudEV4cHJlc3Npb24obnVsbCxlLG8pfWlmKHQpe3ZhciBmPXRoaXMuZ2V0U3VwZXJQcm9wZXJ0eSh0LHIpO3JldHVybiBuP3RoaXMub3B0aW1pc2VDYWxsKGYsbik6Zn19LGUucHJvdG90eXBlLm9wdGltaXNlQ2FsbD1mdW5jdGlvbihlLHQpe3ZhciByPXYudGhpc0V4cHJlc3Npb24oKTtyZXR1cm4gcltnXT0hMCwoMCxkLmRlZmF1bHQpKGUscix0KX0sZX0oKTt0LmRlZmF1bHQ9RSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7dmFyIHQ9dS5kZWZhdWx0W2VdO2lmKCF0KXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigiVW5rbm93biBoZWxwZXIgIitlKTtyZXR1cm4gdCgpLmV4cHJlc3Npb259dC5fX2VzTW9kdWxlPSEwLHQubGlzdD12b2lkIDA7dmFyIHM9cigxNCksYT1uKHMpO3QuZ2V0PWk7dmFyIG89cigzMjEpLHU9bihvKTt0Lmxpc3Q9KDAsYS5kZWZhdWx0KSh1LmRlZmF1bHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eXy8sIiIpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJfX2VzTW9kdWxlIiE9PWV9KTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnttYW5pcHVsYXRlT3B0aW9uczpmdW5jdGlvbihlLHQpe3QucGx1Z2lucy5wdXNoKCJhc3luY0dlbmVyYXRvcnMiKX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImNsYXNzQ29uc3RydWN0b3JDYWxsIil9fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybnttYW5pcHVsYXRlT3B0aW9uczpmdW5jdGlvbihlLHQpe3QucGx1Z2lucy5wdXNoKCJjbGFzc1Byb3BlcnRpZXMiKX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImRvRXhwcmVzc2lvbnMiKX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImV4cG9uZW50aWF0aW9uT3BlcmF0b3IiKX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImV4cG9ydEV4dGVuc2lvbnMiKX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImZ1bmN0aW9uQmluZCIpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgib2JqZWN0UmVzdFNwcmVhZCIpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMikscz1uKGkpLGE9cigxMCksbz1uKGEpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe2Zvcih2YXIgdD1lLmdldCgiYm9keS5ib2R5Iikscj10LG49QXJyYXkuaXNBcnJheShyKSxpPTAscj1uP3I6KDAscy5kZWZhdWx0KShyKTs7KXt2YXIgYTtpZihuKXtpZihpPj1yLmxlbmd0aClicmVhazthPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO2E9aS52YWx1ZX12YXIgbz1hO2lmKCJjb25zdHJ1Y3RvckNhbGwiPT09by5ub2RlLmtpbmQpcmV0dXJuIG99cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihlLHQpe3ZhciByPXQsbj1yLm5vZGUscz1uLmlkfHx0LnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiY2xhc3MiKTt0LnBhcmVudFBhdGguaXNFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oKSYmKHQ9dC5wYXJlbnRQYXRoLHQuaW5zZXJ0QWZ0ZXIoaS5leHBvcnREZWZhdWx0RGVjbGFyYXRpb24ocykpKSx0LnJlcGxhY2VXaXRoTXVsdGlwbGUoYyh7Q0xBU1NfUkVGOnQuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKHMubmFtZSksQ0FMTF9SRUY6dC5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIocy5uYW1lKyJDYWxsIiksQ0FMTDppLmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLGUubm9kZS5wYXJhbXMsZS5ub2RlLmJvZHkpLENMQVNTOmkudG9FeHByZXNzaW9uKG4pLFdSQVBQRVJfUkVGOnN9KSksZS5yZW1vdmUoKX12YXIgaT1lLnR5cGVzLGE9KDAsby5kZWZhdWx0KSgpO3JldHVybntpbmhlcml0czpyKDE5NiksdmlzaXRvcjp7Q2xhc3M6ZnVuY3Rpb24oZSl7aWYoIWUubm9kZVthXSl7ZS5ub2RlW2FdPSEwO3ZhciByPXQoZSk7ciYmbihyLGUpfX19fX07dmFyIHU9cig0KSxsPW4odSksYz0oMCxsLmRlZmF1bHQpKCJcbiAgbGV0IENMQVNTX1JFRiA9IENMQVNTO1xuICB2YXIgQ0FMTF9SRUYgPSBDQUxMO1xuICB2YXIgV1JBUFBFUl9SRUYgPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgV1JBUFBFUl9SRUYpIHtcbiAgICAgIHJldHVybiBSZWZsZWN0LmNvbnN0cnVjdChDTEFTU19SRUYsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gQ0FMTF9SRUYuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9O1xuICBXUkFQUEVSX1JFRi5fX3Byb3RvX18gPSBDTEFTU19SRUY7XG4gIFdSQVBQRVJfUkVGO1xuIik7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigyKSxzPW4oaSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXMsbj17U3VwZXI6ZnVuY3Rpb24oZSl7ZS5wYXJlbnRQYXRoLmlzQ2FsbEV4cHJlc3Npb24oe2NhbGxlZTplLm5vZGV9KSYmdGhpcy5wdXNoKGUucGFyZW50UGF0aCl9fSxpPXtSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt0aGlzLnNjb3BlLmhhc093bkJpbmRpbmcoZS5ub2RlLm5hbWUpJiYodGhpcy5jb2xsaXNpb249ITAsZS5za2lwKCkpfX0sYT0oMCxsLmRlZmF1bHQpKCJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUkVGLCBLRVksIHtcbiAgICAgIC8vIGNvbmZpZ3VyYWJsZSBpcyBmYWxzZSBieSBkZWZhdWx0XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogVkFMVUVcbiAgICB9KTtcbiAgIiksdT1mdW5jdGlvbihlLHIpe3ZhciBuPXIua2V5LGk9ci52YWx1ZSxzPXIuY29tcHV0ZWQ7cmV0dXJuIGEoe1JFRjplLEtFWTp0LmlzSWRlbnRpZmllcihuKSYmIXM/dC5zdHJpbmdMaXRlcmFsKG4ubmFtZSk6bixWQUxVRTppfHx0LmlkZW50aWZpZXIoInVuZGVmaW5lZCIpfSl9LGM9ZnVuY3Rpb24oZSxyKXt2YXIgbj1yLmtleSxpPXIudmFsdWUscz1yLmNvbXB1dGVkO3JldHVybiB0LmV4cHJlc3Npb25TdGF0ZW1lbnQodC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdC5tZW1iZXJFeHByZXNzaW9uKGUsbixzfHx0LmlzTGl0ZXJhbChuKSksaSkpfTtyZXR1cm57aW5oZXJpdHM6cigxOTcpLHZpc2l0b3I6e0NsYXNzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciBhPXIub3B0cy5zcGVjP3U6YyxsPSEhZS5ub2RlLnN1cGVyQ2xhc3MsZj12b2lkIDAscD1bXSxkPWUuZ2V0KCJib2R5IiksaD1kLmdldCgiYm9keSIpLG09QXJyYXkuaXNBcnJheShoKSx5PTAsaD1tP2g6KDAscy5kZWZhdWx0KShoKTs7KXt2YXIgdjtpZihtKXtpZih5Pj1oLmxlbmd0aClicmVhazt2PWhbeSsrXX1lbHNle2lmKHk9aC5uZXh0KCkseS5kb25lKWJyZWFrO3Y9eS52YWx1ZX12YXIgZz12O2cuaXNDbGFzc1Byb3BlcnR5KCk/cC5wdXNoKGcpOmcuaXNDbGFzc01ldGhvZCh7a2luZDoiY29uc3RydWN0b3IifSkmJihmPWcpfWlmKHAubGVuZ3RoKXt2YXIgYj1bXSxFPXZvaWQgMDtlLmlzQ2xhc3NFeHByZXNzaW9uKCl8fCFlLm5vZGUuaWQ/KCgwLG8uZGVmYXVsdCkoZSksRT1lLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiY2xhc3MiKSk6RT1lLm5vZGUuaWQ7Zm9yKHZhciB4PVtdLEE9cCxTPUFycmF5LmlzQXJyYXkoQSksXz0wLEE9Uz9BOigwLHMuZGVmYXVsdCkoQSk7Oyl7dmFyIEQ7aWYoUyl7aWYoXz49QS5sZW5ndGgpYnJlYWs7RD1BW18rK119ZWxzZXtpZihfPUEubmV4dCgpLF8uZG9uZSlicmVhaztEPV8udmFsdWV9dmFyIEM9RCx3PUMubm9kZTtpZighKHcuZGVjb3JhdG9ycyYmdy5kZWNvcmF0b3JzLmxlbmd0aD4wKSYmKHIub3B0cy5zcGVjfHx3LnZhbHVlKSl7aWYody5zdGF0aWMpYi5wdXNoKGEoRSx3KSk7ZWxzZXtpZighdy52YWx1ZSljb250aW51ZTt4LnB1c2goYSh0LnRoaXNFeHByZXNzaW9uKCksdykpfX19aWYoeC5sZW5ndGgpe2lmKCFmKXt2YXIgUD10LmNsYXNzTWV0aG9kKCJjb25zdHJ1Y3RvciIsdC5pZGVudGlmaWVyKCJjb25zdHJ1Y3RvciIpLFtdLHQuYmxvY2tTdGF0ZW1lbnQoW10pKTtsJiYoUC5wYXJhbXM9W3QucmVzdEVsZW1lbnQodC5pZGVudGlmaWVyKCJhcmdzIikpXSxQLmJvZHkuYm9keS5wdXNoKHQucmV0dXJuU3RhdGVtZW50KHQuY2FsbEV4cHJlc3Npb24odC5zdXBlcigpLFt0LnNwcmVhZEVsZW1lbnQodC5pZGVudGlmaWVyKCJhcmdzIikpXSkpKSk7Zj1kLnVuc2hpZnRDb250YWluZXIoImJvZHkiLFApWzBdfWZvcih2YXIgaz17Y29sbGlzaW9uOiExLHNjb3BlOmYuc2NvcGV9LEY9cCxUPUFycmF5LmlzQXJyYXkoRiksTz0wLEY9VD9GOigwLHMuZGVmYXVsdCkoRik7Oyl7dmFyIEI7aWYoVCl7aWYoTz49Ri5sZW5ndGgpYnJlYWs7Qj1GW08rK119ZWxzZXtpZihPPUYubmV4dCgpLE8uZG9uZSlicmVhaztCPU8udmFsdWV9aWYoQi50cmF2ZXJzZShpLGspLGsuY29sbGlzaW9uKWJyZWFrfWlmKGsuY29sbGlzaW9uKXt2YXIgUj1lLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigiaW5pdGlhbGlzZVByb3BzIik7Yi5wdXNoKHQudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbdC52YXJpYWJsZURlY2xhcmF0b3IoUix0LmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLFtdLHQuYmxvY2tTdGF0ZW1lbnQoeCkpKV0pKSx4PVt0LmV4cHJlc3Npb25TdGF0ZW1lbnQodC5jYWxsRXhwcmVzc2lvbih0Lm1lbWJlckV4cHJlc3Npb24oUix0LmlkZW50aWZpZXIoImNhbGwiKSksW3QudGhpc0V4cHJlc3Npb24oKV0pKV19aWYobCl7dmFyIEk9W107Zi50cmF2ZXJzZShuLEkpO2Zvcih2YXIgTT1JLE49QXJyYXkuaXNBcnJheShNKSxMPTAsTT1OP006KDAscy5kZWZhdWx0KShNKTs7KXt2YXIgajtpZihOKXtpZihMPj1NLmxlbmd0aClicmVhaztqPU1bTCsrXX1lbHNle2lmKEw9TS5uZXh0KCksTC5kb25lKWJyZWFrO2o9TC52YWx1ZX1qLmluc2VydEFmdGVyKHgpfX1lbHNlIGYuZ2V0KCJib2R5IikudW5zaGlmdENvbnRhaW5lcigiYm9keSIseCl9Zm9yKHZhciBVPXAsVj1BcnJheS5pc0FycmF5KFUpLEc9MCxVPVY/VTooMCxzLmRlZmF1bHQpKFUpOzspe3ZhciBXO2lmKFYpe2lmKEc+PVUubGVuZ3RoKWJyZWFrO1c9VVtHKytdfWVsc2V7aWYoRz1VLm5leHQoKSxHLmRvbmUpYnJlYWs7Vz1HLnZhbHVlfVcucmVtb3ZlKCl9Yi5sZW5ndGgmJihlLmlzQ2xhc3NFeHByZXNzaW9uKCk/KGUuc2NvcGUucHVzaCh7aWQ6RX0pLGUucmVwbGFjZVdpdGgodC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsRSxlLm5vZGUpKSk6KGUubm9kZS5pZHx8KGUubm9kZS5pZD1FKSxlLnBhcmVudFBhdGguaXNFeHBvcnREZWNsYXJhdGlvbigpJiYoZT1lLnBhcmVudFBhdGgpKSxlLmluc2VydEFmdGVyKGIpKX19LEFycm93RnVuY3Rpb25FeHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0KCJib2R5Iik7aWYodC5pc0NsYXNzRXhwcmVzc2lvbigpKXt0LmdldCgiYm9keSIpLmdldCgiYm9keSIpLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNDbGFzc1Byb3BlcnR5KCl9KSYmZS5lbnN1cmVCbG9jaygpfX19fX07dmFyIGE9cig0MCksbz1uKGEpLHU9cig0KSxsPW4odSk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cig5KSxzPW4oaSksYT1yKDIpLG89bihhKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV4cHJlc3Npb259KX1mdW5jdGlvbiBuKGUscixuKXt2YXIgaT1bXSxhPWUubm9kZS5kZWNvcmF0b3JzO2lmKGEpe2Uubm9kZS5kZWNvcmF0b3JzPW51bGwsYT10KGEpO2Zvcih2YXIgbD1hLGM9QXJyYXkuaXNBcnJheShsKSxmPTAsbD1jP2w6KDAsby5kZWZhdWx0KShsKTs7KXt2YXIgZDtpZihjKXtpZihmPj1sLmxlbmd0aClicmVhaztkPWxbZisrXX1lbHNle2lmKGY9bC5uZXh0KCksZi5kb25lKWJyZWFrO2Q9Zi52YWx1ZX12YXIgaD1kO2kucHVzaChwKHtDTEFTU19SRUY6cixERUNPUkFUT1I6aH0pKX19Zm9yKHZhciBtPSgwLHMuZGVmYXVsdCkobnVsbCkseT1lLmdldCgiYm9keS5ib2R5Iiksdj1BcnJheS5pc0FycmF5KHkpLGc9MCx5PXY/eTooMCxvLmRlZmF1bHQpKHkpOzspe3ZhciBiO2lmKHYpe2lmKGc+PXkubGVuZ3RoKWJyZWFrO2I9eVtnKytdfWVsc2V7aWYoZz15Lm5leHQoKSxnLmRvbmUpYnJlYWs7Yj1nLnZhbHVlfXZhciBFPWI7aWYoRS5ub2RlLmRlY29yYXRvcnMpe3ZhciB4PXUudG9LZXlBbGlhcyhFLm5vZGUpO21beF09bVt4XXx8W10sbVt4XS5wdXNoKEUubm9kZSksRS5yZW1vdmUoKX19Zm9yKHZhciBBIGluIG0pe21bQV19cmV0dXJuIGl9ZnVuY3Rpb24gaShlKXtpZihlLmlzQ2xhc3MoKSl7aWYoZS5ub2RlLmRlY29yYXRvcnMpcmV0dXJuITA7Zm9yKHZhciB0PWUubm9kZS5ib2R5LmJvZHkscj1BcnJheS5pc0FycmF5KHQpLG49MCx0PXI/dDooMCxvLmRlZmF1bHQpKHQpOzspe3ZhciBpO2lmKHIpe2lmKG4+PXQubGVuZ3RoKWJyZWFrO2k9dFtuKytdfWVsc2V7aWYobj10Lm5leHQoKSxuLmRvbmUpYnJlYWs7aT1uLnZhbHVlfWlmKGkuZGVjb3JhdG9ycylyZXR1cm4hMH19ZWxzZSBpZihlLmlzT2JqZWN0RXhwcmVzc2lvbigpKWZvcih2YXIgcz1lLm5vZGUucHJvcGVydGllcyxhPUFycmF5LmlzQXJyYXkocyksdT0wLHM9YT9zOigwLG8uZGVmYXVsdCkocyk7Oyl7dmFyIGw7aWYoYSl7aWYodT49cy5sZW5ndGgpYnJlYWs7bD1zW3UrK119ZWxzZXtpZih1PXMubmV4dCgpLHUuZG9uZSlicmVhaztsPXUudmFsdWV9dmFyIGM9bDtpZihjLmRlY29yYXRvcnMpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gYShlKXt0aHJvdyBlLmJ1aWxkQ29kZUZyYW1lRXJyb3IoJ0RlY29yYXRvcnMgYXJlIG5vdCBvZmZpY2lhbGx5IHN1cHBvcnRlZCB5ZXQgaW4gNi54IHBlbmRpbmcgYSBwcm9wb3NhbCB1cGRhdGUuXG5Ib3dldmVyLCBpZiB5b3UgbmVlZCB0byB1c2UgdGhlbSB5b3UgY2FuIGluc3RhbGwgdGhlIGxlZ2FjeSBkZWNvcmF0b3JzIHRyYW5zZm9ybSB3aXRoOlxuXG5ucG0gaW5zdGFsbCBiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLWRlY29yYXRvcnMtbGVnYWN5IC0tc2F2ZS1kZXZcblxuYW5kIGFkZCB0aGUgZm9sbG93aW5nIGxpbmUgdG8geW91ciAuYmFiZWxyYyBmaWxlOlxuXG57XG4gICJwbHVnaW5zIjogWyJ0cmFuc2Zvcm0tZGVjb3JhdG9ycy1sZWdhY3kiXVxufVxuXG5UaGUgcmVwbyB1cmwgaXM6IGh0dHBzOi8vZ2l0aHViLmNvbS9sb2dhbmZzbXl0aC9iYWJlbC1wbHVnaW4tdHJhbnNmb3JtLWRlY29yYXRvcnMtbGVnYWN5LlxuICAgICcpfXZhciB1PWUudHlwZXM7cmV0dXJue2luaGVyaXRzOnIoMTI1KSx2aXNpdG9yOntDbGFzc0V4cHJlc3Npb246ZnVuY3Rpb24oZSl7aWYoaShlKSl7YShlKSwoMCxmLmRlZmF1bHQpKGUpO3ZhciB0PWUuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoInJlZiIpLHI9W107ci5wdXNoKHUuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLHQsZS5ub2RlKSkscj1yLmNvbmNhdChuKGUsdCx0aGlzKSksci5wdXNoKHQpLGUucmVwbGFjZVdpdGgodS5zZXF1ZW5jZUV4cHJlc3Npb24ocikpfX0sQ2xhc3NEZWNsYXJhdGlvbjpmdW5jdGlvbihlKXtpZihpKGUpKXthKGUpLCgwLGYuZGVmYXVsdCkoZSk7dmFyIHQ9ZS5ub2RlLmlkLHI9W107cj1yLmNvbmNhdChuKGUsdCx0aGlzKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHUuZXhwcmVzc2lvblN0YXRlbWVudChlKX0pKSxyLnB1c2godS5leHByZXNzaW9uU3RhdGVtZW50KHQpKSxlLmluc2VydEFmdGVyKHIpfX0sT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihlKXtpKGUpJiZhKGUpfX19fTt2YXIgdT1yKDQpLGw9bih1KSxjPXIoMzE5KSxmPW4oYykscD0oMCxsLmRlZmF1bHQpKCJcbiAgQ0xBU1NfUkVGID0gREVDT1JBVE9SKENMQVNTX1JFRikgfHwgQ0xBU1NfUkVGO1xuIik7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue2luaGVyaXRzOnIoMTk4KSx2aXNpdG9yOntEb0V4cHJlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlLmJvZHkuYm9keTt0Lmxlbmd0aD9lLnJlcGxhY2VXaXRoTXVsdGlwbGUodCk6ZS5yZXBsYWNlV2l0aChlLnNjb3BlLmJ1aWxkVW5kZWZpbmVkTm9kZSgpKX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIHM9cigyKSxhPWkocyksbz1yKDMpLHU9aShvKSxsPXIoNyksYz1yKDE5MyksZj1pKGMpLHA9cigxOTEpLGQ9aShwKSxoPXIoMTg4KSxtPW4oaCkseT1yKDQpLHY9aSh5KSxnPXIoMSksYj1uKGcpLEU9KDAsdi5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgfSlcbiIpLHg9eyJGdW5jdGlvbkV4cHJlc3Npb258RnVuY3Rpb25EZWNsYXJhdGlvbiI6ZnVuY3Rpb24oZSl7ZS5pcygic2hhZG93Iil8fGUuc2tpcCgpfSxNZXRob2Q6ZnVuY3Rpb24oZSl7ZS5za2lwKCl9fSxBPWwudmlzaXRvcnMubWVyZ2UoW3gse1N1cGVyOmZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNEZXJpdmVkJiYhdGhpcy5oYXNCYXJlU3VwZXImJiFlLnBhcmVudFBhdGguaXNDYWxsRXhwcmVzc2lvbih7Y2FsbGVlOmUubm9kZX0pKXRocm93IGUuYnVpbGRDb2RlRnJhbWVFcnJvcigiJ3N1cGVyLionIGlzIG5vdCBhbGxvd2VkIGJlZm9yZSBzdXBlcigpIil9LENhbGxFeHByZXNzaW9uOntleGl0OmZ1bmN0aW9uKGUpe2lmKGUuZ2V0KCJjYWxsZWUiKS5pc1N1cGVyKCkmJih0aGlzLmhhc0JhcmVTdXBlcj0hMCwhdGhpcy5pc0Rlcml2ZWQpKXRocm93IGUuYnVpbGRDb2RlRnJhbWVFcnJvcigic3VwZXIoKSBpcyBvbmx5IGFsbG93ZWQgaW4gYSBkZXJpdmVkIGNvbnN0cnVjdG9yIil9fSxUaGlzRXhwcmVzc2lvbjpmdW5jdGlvbihlKXtpZih0aGlzLmlzRGVyaXZlZCYmIXRoaXMuaGFzQmFyZVN1cGVyJiYhZS5pblNoYWRvdygidGhpcyIpKXRocm93IGUuYnVpbGRDb2RlRnJhbWVFcnJvcigiJ3RoaXMnIGlzIG5vdCBhbGxvd2VkIGJlZm9yZSBzdXBlcigpIil9fV0pLFM9bC52aXNpdG9ycy5tZXJnZShbeCx7VGhpc0V4cHJlc3Npb246ZnVuY3Rpb24oZSl7dGhpcy5zdXBlclRoaXNlcy5wdXNoKGUpfX1dKSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLHUuZGVmYXVsdCkodGhpcyxlKSx0aGlzLnBhcmVudD10LnBhcmVudCx0aGlzLnNjb3BlPXQuc2NvcGUsdGhpcy5ub2RlPXQubm9kZSx0aGlzLnBhdGg9dCx0aGlzLmZpbGU9cix0aGlzLmNsZWFyRGVzY3JpcHRvcnMoKSx0aGlzLmluc3RhbmNlUHJvcEJvZHk9W10sdGhpcy5pbnN0YW5jZVByb3BSZWZzPXt9LHRoaXMuc3RhdGljUHJvcEJvZHk9W10sdGhpcy5ib2R5PVtdLHRoaXMuYmFyZVN1cGVyQWZ0ZXI9W10sdGhpcy5iYXJlU3VwZXJzPVtdLHRoaXMucHVzaGVkQ29uc3RydWN0b3I9ITEsdGhpcy5wdXNoZWRJbmhlcml0cz0hMSx0aGlzLmlzTG9vc2U9ITEsdGhpcy5zdXBlclRoaXNlcz1bXSx0aGlzLmNsYXNzSWQ9dGhpcy5ub2RlLmlkLHRoaXMuY2xhc3NSZWY9dGhpcy5ub2RlLmlkP2IuaWRlbnRpZmllcih0aGlzLm5vZGUuaWQubmFtZSk6dGhpcy5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImNsYXNzIiksdGhpcy5zdXBlck5hbWU9dGhpcy5ub2RlLnN1cGVyQ2xhc3N8fGIuaWRlbnRpZmllcigiRnVuY3Rpb24iKSx0aGlzLmlzRGVyaXZlZD0hIXRoaXMubm9kZS5zdXBlckNsYXNzfXJldHVybiBlLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5zdXBlck5hbWUscj10aGlzLmZpbGUsbj10aGlzLmJvZHksaT10aGlzLmNvbnN0cnVjdG9yQm9keT1iLmJsb2NrU3RhdGVtZW50KFtdKTt0aGlzLmNvbnN0cnVjdG9yPXRoaXMuYnVpbGRDb25zdHJ1Y3RvcigpO3ZhciBzPVtdLGE9W107aWYodGhpcy5pc0Rlcml2ZWQmJihhLnB1c2godCksdD10aGlzLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllckJhc2VkT25Ob2RlKHQpLHMucHVzaCh0KSx0aGlzLnN1cGVyTmFtZT10KSx0aGlzLmJ1aWxkQm9keSgpLGkuYm9keS51bnNoaWZ0KGIuZXhwcmVzc2lvblN0YXRlbWVudChiLmNhbGxFeHByZXNzaW9uKHIuYWRkSGVscGVyKCJjbGFzc0NhbGxDaGVjayIpLFtiLnRoaXNFeHByZXNzaW9uKCksdGhpcy5jbGFzc1JlZl0pKSksbj1uLmNvbmNhdCh0aGlzLnN0YXRpY1Byb3BCb2R5Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdChlLmNsYXNzUmVmKX0pKSx0aGlzLmNsYXNzSWQmJjE9PT1uLmxlbmd0aClyZXR1cm4gYi50b0V4cHJlc3Npb24oblswXSk7bi5wdXNoKGIucmV0dXJuU3RhdGVtZW50KHRoaXMuY2xhc3NSZWYpKTt2YXIgbz1iLmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLHMsYi5ibG9ja1N0YXRlbWVudChuKSk7cmV0dXJuIG8uc2hhZG93PSEwLGIuY2FsbEV4cHJlc3Npb24obyxhKX0sZS5wcm90b3R5cGUuYnVpbGRDb25zdHJ1Y3Rvcj1mdW5jdGlvbigpe3ZhciBlPWIuZnVuY3Rpb25EZWNsYXJhdGlvbih0aGlzLmNsYXNzUmVmLFtdLHRoaXMuY29uc3RydWN0b3JCb2R5KTtyZXR1cm4gYi5pbmhlcml0cyhlLHRoaXMubm9kZSksZX0sZS5wcm90b3R5cGUucHVzaFRvTWFwPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiJ2YWx1ZSIsbj1hcmd1bWVudHNbM10saT12b2lkIDA7ZS5zdGF0aWM/KHRoaXMuaGFzU3RhdGljRGVzY3JpcHRvcnM9ITAsaT10aGlzLnN0YXRpY011dGF0b3JNYXApOih0aGlzLmhhc0luc3RhbmNlRGVzY3JpcHRvcnM9ITAsaT10aGlzLmluc3RhbmNlTXV0YXRvck1hcCk7dmFyIHM9bS5wdXNoKGksZSxyLHRoaXMuZmlsZSxuKTtyZXR1cm4gdCYmKHMuZW51bWVyYWJsZT1iLmJvb2xlYW5MaXRlcmFsKCEwKSksc30sZS5wcm90b3R5cGUuY29uc3RydWN0b3JNZU1heWJlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPSExLHQ9dGhpcy5wYXRoLmdldCgiYm9keS5ib2R5Iikscj10LG49QXJyYXkuaXNBcnJheShyKSxpPTAscj1uP3I6KDAsYS5kZWZhdWx0KShyKTs7KXt2YXIgcztpZihuKXtpZihpPj1yLmxlbmd0aClicmVhaztzPXJbaSsrXX1lbHNle2lmKGk9ci5uZXh0KCksaS5kb25lKWJyZWFrO3M9aS52YWx1ZX1pZihlPXMuZXF1YWxzKCJraW5kIiwiY29uc3RydWN0b3IiKSlicmVha31pZighZSl7dmFyIG89dm9pZCAwLHU9dm9pZCAwO2lmKHRoaXMuaXNEZXJpdmVkKXt2YXIgbD1FKCkuZXhwcmVzc2lvbjtvPWwucGFyYW1zLHU9bC5ib2R5fWVsc2Ugbz1bXSx1PWIuYmxvY2tTdGF0ZW1lbnQoW10pO3RoaXMucGF0aC5nZXQoImJvZHkiKS51bnNoaWZ0Q29udGFpbmVyKCJib2R5IixiLmNsYXNzTWV0aG9kKCJjb25zdHJ1Y3RvciIsYi5pZGVudGlmaWVyKCJjb25zdHJ1Y3RvciIpLG8sdSkpfX0sZS5wcm90b3R5cGUuYnVpbGRCb2R5PWZ1bmN0aW9uKCl7aWYodGhpcy5jb25zdHJ1Y3Rvck1lTWF5YmUoKSx0aGlzLnB1c2hCb2R5KCksdGhpcy52ZXJpZnlDb25zdHJ1Y3RvcigpLHRoaXMudXNlckNvbnN0cnVjdG9yKXt2YXIgZT10aGlzLmNvbnN0cnVjdG9yQm9keTtlLmJvZHk9ZS5ib2R5LmNvbmNhdCh0aGlzLnVzZXJDb25zdHJ1Y3Rvci5ib2R5LmJvZHkpLGIuaW5oZXJpdHModGhpcy5jb25zdHJ1Y3Rvcix0aGlzLnVzZXJDb25zdHJ1Y3RvciksYi5pbmhlcml0cyhlLHRoaXMudXNlckNvbnN0cnVjdG9yLmJvZHkpfXRoaXMucHVzaERlc2NyaXB0b3JzKCl9LGUucHJvdG90eXBlLnB1c2hCb2R5PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMucGF0aC5nZXQoImJvZHkuYm9keSIpLHQ9ZSxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLGEuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aSxvPXMubm9kZTtpZihzLmlzQ2xhc3NQcm9wZXJ0eSgpKXRocm93IHMuYnVpbGRDb2RlRnJhbWVFcnJvcigiTWlzc2luZyBjbGFzcyBwcm9wZXJ0aWVzIHRyYW5zZm9ybS4iKTtpZihvLmRlY29yYXRvcnMpdGhyb3cgcy5idWlsZENvZGVGcmFtZUVycm9yKCJNZXRob2QgaGFzIGRlY29yYXRvcnMsIHB1dCB0aGUgZGVjb3JhdG9yIHBsdWdpbiBiZWZvcmUgdGhlIGNsYXNzZXMgb25lLiIpO2lmKGIuaXNDbGFzc01ldGhvZChvKSl7dmFyIHU9ImNvbnN0cnVjdG9yIj09PW8ua2luZDtpZih1JiYocy50cmF2ZXJzZShBLHRoaXMpLCF0aGlzLmhhc0JhcmVTdXBlciYmdGhpcy5pc0Rlcml2ZWQpKXRocm93IHMuYnVpbGRDb2RlRnJhbWVFcnJvcigibWlzc2luZyBzdXBlcigpIGNhbGwgaW4gY29uc3RydWN0b3IiKTt2YXIgbD1uZXcgZi5kZWZhdWx0KHtmb3JjZVN1cGVyTWVtb2lzYXRpb246dSxtZXRob2RQYXRoOnMsbWV0aG9kTm9kZTpvLG9iamVjdFJlZjp0aGlzLmNsYXNzUmVmLHN1cGVyUmVmOnRoaXMuc3VwZXJOYW1lLGlzU3RhdGljOm8uc3RhdGljLGlzTG9vc2U6dGhpcy5pc0xvb3NlLHNjb3BlOnRoaXMuc2NvcGUsZmlsZTp0aGlzLmZpbGV9LCEwKTtsLnJlcGxhY2UoKSx1P3RoaXMucHVzaENvbnN0cnVjdG9yKGwsbyxzKTp0aGlzLnB1c2hNZXRob2QobyxzKX19fSxlLnByb3RvdHlwZS5jbGVhckRlc2NyaXB0b3JzPWZ1bmN0aW9uKCl7dGhpcy5oYXNJbnN0YW5jZURlc2NyaXB0b3JzPSExLHRoaXMuaGFzU3RhdGljRGVzY3JpcHRvcnM9ITEsdGhpcy5pbnN0YW5jZU11dGF0b3JNYXA9e30sdGhpcy5zdGF0aWNNdXRhdG9yTWFwPXt9fSxlLnByb3RvdHlwZS5wdXNoRGVzY3JpcHRvcnM9ZnVuY3Rpb24oKXt0aGlzLnB1c2hJbmhlcml0cygpO3ZhciBlPXRoaXMuYm9keSx0PXZvaWQgMCxyPXZvaWQgMDtpZih0aGlzLmhhc0luc3RhbmNlRGVzY3JpcHRvcnMmJih0PW0udG9DbGFzc09iamVjdCh0aGlzLmluc3RhbmNlTXV0YXRvck1hcCkpLHRoaXMuaGFzU3RhdGljRGVzY3JpcHRvcnMmJihyPW0udG9DbGFzc09iamVjdCh0aGlzLnN0YXRpY011dGF0b3JNYXApKSx0fHxyKXt0JiYodD1tLnRvQ29tcHV0ZWRPYmplY3RGcm9tQ2xhc3ModCkpLHImJihyPW0udG9Db21wdXRlZE9iamVjdEZyb21DbGFzcyhyKSk7dmFyIG49Yi5udWxsTGl0ZXJhbCgpLGk9W3RoaXMuY2xhc3NSZWYsbixuLG4sbl07dCYmKGlbMV09dCksciYmKGlbMl09ciksdGhpcy5pbnN0YW5jZUluaXRpYWxpemVyc0lkJiYoaVszXT10aGlzLmluc3RhbmNlSW5pdGlhbGl6ZXJzSWQsZS51bnNoaWZ0KHRoaXMuYnVpbGRPYmplY3RBc3NpZ25tZW50KHRoaXMuaW5zdGFuY2VJbml0aWFsaXplcnNJZCkpKSx0aGlzLnN0YXRpY0luaXRpYWxpemVyc0lkJiYoaVs0XT10aGlzLnN0YXRpY0luaXRpYWxpemVyc0lkLGUudW5zaGlmdCh0aGlzLmJ1aWxkT2JqZWN0QXNzaWdubWVudCh0aGlzLnN0YXRpY0luaXRpYWxpemVyc0lkKSkpO2Zvcih2YXIgcz0wLGE9MDthPGkubGVuZ3RoO2ErKylpW2FdIT09biYmKHM9YSk7aT1pLnNsaWNlKDAscysxKSxlLnB1c2goYi5leHByZXNzaW9uU3RhdGVtZW50KGIuY2FsbEV4cHJlc3Npb24odGhpcy5maWxlLmFkZEhlbHBlcigiY3JlYXRlQ2xhc3MiKSxpKSkpfXRoaXMuY2xlYXJEZXNjcmlwdG9ycygpfSxlLnByb3RvdHlwZS5idWlsZE9iamVjdEFzc2lnbm1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGIudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbYi52YXJpYWJsZURlY2xhcmF0b3IoZSxiLm9iamVjdEV4cHJlc3Npb24oW10pKV0pfSxlLnByb3RvdHlwZS53cmFwU3VwZXJDYWxsPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWUubm9kZTt0aGlzLmlzTG9vc2U/KGkuYXJndW1lbnRzLnVuc2hpZnQoYi50aGlzRXhwcmVzc2lvbigpKSwyPT09aS5hcmd1bWVudHMubGVuZ3RoJiZiLmlzU3ByZWFkRWxlbWVudChpLmFyZ3VtZW50c1sxXSkmJmIuaXNJZGVudGlmaWVyKGkuYXJndW1lbnRzWzFdLmFyZ3VtZW50LHtuYW1lOiJhcmd1bWVudHMifSk/KGkuYXJndW1lbnRzWzFdPWkuYXJndW1lbnRzWzFdLmFyZ3VtZW50LGkuY2FsbGVlPWIubWVtYmVyRXhwcmVzc2lvbih0LGIuaWRlbnRpZmllcigiYXBwbHkiKSkpOmkuY2FsbGVlPWIubWVtYmVyRXhwcmVzc2lvbih0LGIuaWRlbnRpZmllcigiY2FsbCIpKSk6aT0oMCxkLmRlZmF1bHQpKGIubG9naWNhbEV4cHJlc3Npb24oInx8IixiLm1lbWJlckV4cHJlc3Npb24odGhpcy5jbGFzc1JlZixiLmlkZW50aWZpZXIoIl9fcHJvdG9fXyIpKSxiLmNhbGxFeHByZXNzaW9uKGIubWVtYmVyRXhwcmVzc2lvbihiLmlkZW50aWZpZXIoIk9iamVjdCIpLGIuaWRlbnRpZmllcigiZ2V0UHJvdG90eXBlT2YiKSksW3RoaXMuY2xhc3NSZWZdKSksYi50aGlzRXhwcmVzc2lvbigpLGkuYXJndW1lbnRzKTt2YXIgcz1iLmNhbGxFeHByZXNzaW9uKHRoaXMuZmlsZS5hZGRIZWxwZXIoInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxbYi50aGlzRXhwcmVzc2lvbigpLGldKSxhPXRoaXMuYmFyZVN1cGVyQWZ0ZXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlKHIpfSk7ZS5wYXJlbnRQYXRoLmlzRXhwcmVzc2lvblN0YXRlbWVudCgpJiZlLnBhcmVudFBhdGguY29udGFpbmVyPT09bi5ub2RlLmJvZHkmJm4ubm9kZS5ib2R5Lmxlbmd0aC0xPT09ZS5wYXJlbnRQYXRoLmtleT8oKHRoaXMuc3VwZXJUaGlzZXMubGVuZ3RofHxhLmxlbmd0aCkmJihlLnNjb3BlLnB1c2goe2lkOnJ9KSxzPWIuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLHIscykpLGEubGVuZ3RoJiYocz1iLnRvU2VxdWVuY2VFeHByZXNzaW9uKFtzXS5jb25jYXQoYSxbcl0pKSksZS5wYXJlbnRQYXRoLnJlcGxhY2VXaXRoKGIucmV0dXJuU3RhdGVtZW50KHMpKSk6ZS5yZXBsYWNlV2l0aE11bHRpcGxlKFtiLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2IudmFyaWFibGVEZWNsYXJhdG9yKHIscyldKV0uY29uY2F0KGEsW2IuZXhwcmVzc2lvblN0YXRlbWVudChyKV0pKX0sZS5wcm90b3R5cGUudmVyaWZ5Q29uc3RydWN0b3I9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuaXNEZXJpdmVkKXt2YXIgdD10aGlzLnVzZXJDb25zdHJ1Y3RvclBhdGgscj10LmdldCgiYm9keSIpO3QudHJhdmVyc2UoUyx0aGlzKTtmb3IodmFyIG49ISF0aGlzLmJhcmVTdXBlcnMubGVuZ3RoLGk9dGhpcy5zdXBlck5hbWV8fGIuaWRlbnRpZmllcigiRnVuY3Rpb24iKSxzPXQuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJ0aGlzIiksbz10aGlzLmJhcmVTdXBlcnMsdT1BcnJheS5pc0FycmF5KG8pLGw9MCxvPXU/bzooMCxhLmRlZmF1bHQpKG8pOzspe3ZhciBjO2lmKHUpe2lmKGw+PW8ubGVuZ3RoKWJyZWFrO2M9b1tsKytdfWVsc2V7aWYobD1vLm5leHQoKSxsLmRvbmUpYnJlYWs7Yz1sLnZhbHVlfXZhciBmPWM7dGhpcy53cmFwU3VwZXJDYWxsKGYsaSxzLHIpLG4mJmYuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZT09PXR8fChlLmlzTG9vcCgpfHxlLmlzQ29uZGl0aW9uYWwoKT8obj0hMSwhMCk6dm9pZCAwKX0pfWZvcih2YXIgcD10aGlzLnN1cGVyVGhpc2VzLGQ9QXJyYXkuaXNBcnJheShwKSxoPTAscD1kP3A6KDAsYS5kZWZhdWx0KShwKTs7KXt2YXIgbTtpZihkKXtpZihoPj1wLmxlbmd0aClicmVhazttPXBbaCsrXX1lbHNle2lmKGg9cC5uZXh0KCksaC5kb25lKWJyZWFrO209aC52YWx1ZX1tLnJlcGxhY2VXaXRoKHMpfXZhciB5PWZ1bmN0aW9uKHQpe3JldHVybiBiLmNhbGxFeHByZXNzaW9uKGUuZmlsZS5hZGRIZWxwZXIoInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iKSxbc10uY29uY2F0KHR8fFtdKSl9LHY9ci5nZXQoImJvZHkiKTt2Lmxlbmd0aCYmIXYucG9wKCkuaXNSZXR1cm5TdGF0ZW1lbnQoKSYmci5wdXNoQ29udGFpbmVyKCJib2R5IixiLnJldHVyblN0YXRlbWVudChuP3M6eSgpKSk7Zm9yKHZhciBnPXRoaXMuc3VwZXJSZXR1cm5zLEU9QXJyYXkuaXNBcnJheShnKSx4PTAsZz1FP2c6KDAsYS5kZWZhdWx0KShnKTs7KXt2YXIgQTtpZihFKXtpZih4Pj1nLmxlbmd0aClicmVhaztBPWdbeCsrXX1lbHNle2lmKHg9Zy5uZXh0KCkseC5kb25lKWJyZWFrO0E9eC52YWx1ZX12YXIgXz1BO2lmKF8ubm9kZS5hcmd1bWVudCl7dmFyIEQ9Xy5zY29wZS5nZW5lcmF0ZURlY2xhcmVkVWlkSWRlbnRpZmllcigicmV0Iik7Xy5nZXQoImFyZ3VtZW50IikucmVwbGFjZVdpdGhNdWx0aXBsZShbYi5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsRCxfLm5vZGUuYXJndW1lbnQpLHkoRCldKX1lbHNlIF8uZ2V0KCJhcmd1bWVudCIpLnJlcGxhY2VXaXRoKHkoKSl9fX0sZS5wcm90b3R5cGUucHVzaE1ldGhvZD1mdW5jdGlvbihlLHQpe3ZhciByPXQ/dC5zY29wZTp0aGlzLnNjb3BlOyJtZXRob2QiPT09ZS5raW5kJiZ0aGlzLl9wcm9jZXNzTWV0aG9kKGUscil8fHRoaXMucHVzaFRvTWFwKGUsITEsbnVsbCxyKX0sZS5wcm90b3R5cGUuX3Byb2Nlc3NNZXRob2Q9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUucHVzaENvbnN0cnVjdG9yPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmJhcmVTdXBlcnM9ZS5iYXJlU3VwZXJzLHRoaXMuc3VwZXJSZXR1cm5zPWUucmV0dXJucyxyLnNjb3BlLmhhc093bkJpbmRpbmcodGhpcy5jbGFzc1JlZi5uYW1lKSYmci5zY29wZS5yZW5hbWUodGhpcy5jbGFzc1JlZi5uYW1lKTt2YXIgbj10aGlzLmNvbnN0cnVjdG9yO3RoaXMudXNlckNvbnN0cnVjdG9yUGF0aD1yLHRoaXMudXNlckNvbnN0cnVjdG9yPXQsdGhpcy5oYXNDb25zdHJ1Y3Rvcj0hMCxiLmluaGVyaXRzQ29tbWVudHMobix0KSxuLl9pZ25vcmVVc2VyV2hpdGVzcGFjZT0hMCxuLnBhcmFtcz10LnBhcmFtcyxiLmluaGVyaXRzKG4uYm9keSx0LmJvZHkpLG4uYm9keS5kaXJlY3RpdmVzPXQuYm9keS5kaXJlY3RpdmVzLHRoaXMuX3B1c2hDb25zdHJ1Y3RvcigpfSxlLnByb3RvdHlwZS5fcHVzaENvbnN0cnVjdG9yPWZ1bmN0aW9uKCl7dGhpcy5wdXNoZWRDb25zdHJ1Y3Rvcnx8KHRoaXMucHVzaGVkQ29uc3RydWN0b3I9ITAsKHRoaXMuaGFzSW5zdGFuY2VEZXNjcmlwdG9yc3x8dGhpcy5oYXNTdGF0aWNEZXNjcmlwdG9ycykmJnRoaXMucHVzaERlc2NyaXB0b3JzKCksdGhpcy5ib2R5LnB1c2godGhpcy5jb25zdHJ1Y3RvciksdGhpcy5wdXNoSW5oZXJpdHMoKSl9LGUucHJvdG90eXBlLnB1c2hJbmhlcml0cz1mdW5jdGlvbigpe3RoaXMuaXNEZXJpdmVkJiYhdGhpcy5wdXNoZWRJbmhlcml0cyYmKHRoaXMucHVzaGVkSW5oZXJpdHM9ITAsdGhpcy5ib2R5LnVuc2hpZnQoYi5leHByZXNzaW9uU3RhdGVtZW50KGIuY2FsbEV4cHJlc3Npb24odGhpcy5maWxlLmFkZEhlbHBlcigiaW5oZXJpdHMiKSxbdGhpcy5jbGFzc1JlZix0aGlzLnN1cGVyTmFtZV0pKSkpfSxlfSgpO3QuZGVmYXVsdD1fLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoOSkscz1uKGkpLGE9cigyKSxvPW4oYSksdT1yKDEwKSxsPW4odSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXMscj0oMCxsLmRlZmF1bHQpKCksbj17IkFzc2lnbm1lbnRFeHByZXNzaW9ufFVwZGF0ZUV4cHJlc3Npb24iOmZ1bmN0aW9uKGUpe2lmKCFlLm5vZGVbcl0pe2Uubm9kZVtyXT0hMDt2YXIgbj1lLmdldChlLmlzQXNzaWdubWVudEV4cHJlc3Npb24oKT8ibGVmdCI6ImFyZ3VtZW50Iik7aWYobi5pc0lkZW50aWZpZXIoKSl7dmFyIGk9bi5ub2RlLm5hbWU7aWYodGhpcy5zY29wZS5nZXRCaW5kaW5nKGkpPT09ZS5zY29wZS5nZXRCaW5kaW5nKGkpKXt2YXIgcz10aGlzLmV4cG9ydHNbaV07aWYocyl7dmFyIGE9ZS5ub2RlLHU9ZS5pc1VwZGF0ZUV4cHJlc3Npb24oKSYmIWEucHJlZml4O3UmJigiKysiPT09YS5vcGVyYXRvcj9hPXQuYmluYXJ5RXhwcmVzc2lvbigiKyIsYS5hcmd1bWVudCx0Lm51bWVyaWNMaXRlcmFsKDEpKToiLS0iPT09YS5vcGVyYXRvcj9hPXQuYmluYXJ5RXhwcmVzc2lvbigiLSIsYS5hcmd1bWVudCx0Lm51bWVyaWNMaXRlcmFsKDEpKTp1PSExKTtmb3IodmFyIGw9cyxjPUFycmF5LmlzQXJyYXkobCksZj0wLGw9Yz9sOigwLG8uZGVmYXVsdCkobCk7Oyl7dmFyIHA7aWYoYyl7aWYoZj49bC5sZW5ndGgpYnJlYWs7cD1sW2YrK119ZWxzZXtpZihmPWwubmV4dCgpLGYuZG9uZSlicmVhaztwPWYudmFsdWV9dmFyIGQ9cDthPXRoaXMuYnVpbGRDYWxsKGQsYSkuZXhwcmVzc2lvbn11JiYoYT10LnNlcXVlbmNlRXhwcmVzc2lvbihbYSxlLm5vZGVdKSksZS5yZXBsYWNlV2l0aChhKX19fX19fTtyZXR1cm57dmlzaXRvcjp7Q2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oZSxyKXtpZihlLm5vZGUuY2FsbGVlLnR5cGU9PT15KXt2YXIgbj1yLmNvbnRleHRJZGVudDtlLnJlcGxhY2VXaXRoKHQuY2FsbEV4cHJlc3Npb24odC5tZW1iZXJFeHByZXNzaW9uKG4sdC5pZGVudGlmaWVyKCJpbXBvcnQiKSksZS5ub2RlLmFyZ3VtZW50cykpfX0sUmVmZXJlbmNlZElkZW50aWZpZXI6ZnVuY3Rpb24oZSxyKXsiX19tb2R1bGVOYW1lIiE9ZS5ub2RlLm5hbWV8fGUuc2NvcGUuaGFzQmluZGluZygiX19tb2R1bGVOYW1lIil8fGUucmVwbGFjZVdpdGgodC5tZW1iZXJFeHByZXNzaW9uKHIuY29udGV4dElkZW50LHQuaWRlbnRpZmllcigiaWQiKSkpfSxQcm9ncmFtOntlbnRlcjpmdW5jdGlvbihlLHQpe3QuY29udGV4dElkZW50PWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJjb250ZXh0Iil9LGV4aXQ6ZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBpKGUsdCl7cFtlXT1wW2VdfHxbXSxwW2VdLnB1c2godCl9ZnVuY3Rpb24gYShlLHQscil7dmFyIG49dm9pZCAwO2QuZm9yRWFjaChmdW5jdGlvbih0KXt0LmtleT09PWUmJihuPXQpfSksbnx8ZC5wdXNoKG49e2tleTplLGltcG9ydHM6W10sZXhwb3J0czpbXX0pLG5bdF09blt0XS5jb25jYXQocil9ZnVuY3Rpb24gdShlLHIpe3JldHVybiB0LmV4cHJlc3Npb25TdGF0ZW1lbnQodC5jYWxsRXhwcmVzc2lvbihsLFt0LnN0cmluZ0xpdGVyYWwoZSkscl0pKX1mb3IodmFyIGw9ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImV4cG9ydCIpLGM9ci5jb250ZXh0SWRlbnQscD0oMCxzLmRlZmF1bHQpKG51bGwpLGQ9W10seT1bXSx2PVtdLGc9W10sYj1bXSxFPVtdLHg9ZS5nZXQoImJvZHkiKSxBPSEwLFM9eCxfPUFycmF5LmlzQXJyYXkoUyksRD0wLFM9Xz9TOigwLG8uZGVmYXVsdCkoUyk7Oyl7dmFyIEM7aWYoXyl7aWYoRD49Uy5sZW5ndGgpYnJlYWs7Qz1TW0QrK119ZWxzZXtpZihEPVMubmV4dCgpLEQuZG9uZSlicmVhaztDPUQudmFsdWV9dmFyIHc9QztpZih3LmlzRXhwb3J0RGVjbGFyYXRpb24oKSYmKHc9dy5nZXQoImRlY2xhcmF0aW9uIikpLHcuaXNWYXJpYWJsZURlY2xhcmF0aW9uKCkmJiJ2YXIiIT09dy5ub2RlLmtpbmQpe0E9ITE7YnJlYWt9fWZvcih2YXIgUD14LGs9QXJyYXkuaXNBcnJheShQKSxGPTAsUD1rP1A6KDAsby5kZWZhdWx0KShQKTs7KXt2YXIgVDtpZihrKXtpZihGPj1QLmxlbmd0aClicmVhaztUPVBbRisrXX1lbHNle2lmKEY9UC5uZXh0KCksRi5kb25lKWJyZWFrO1Q9Ri52YWx1ZX12YXIgTz1UO2lmKEEmJk8uaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCkpeS5wdXNoKE8ubm9kZSksRS5wdXNoKE8pO2Vsc2UgaWYoTy5pc0ltcG9ydERlY2xhcmF0aW9uKCkpe3ZhciBCPU8ubm9kZS5zb3VyY2UudmFsdWU7YShCLCJpbXBvcnRzIixPLm5vZGUuc3BlY2lmaWVycyk7Zm9yKHZhciBSIGluIE8uZ2V0QmluZGluZ0lkZW50aWZpZXJzKCkpTy5zY29wZS5yZW1vdmVCaW5kaW5nKFIpLGIucHVzaCh0LmlkZW50aWZpZXIoUikpO08ucmVtb3ZlKCl9ZWxzZSBpZihPLmlzRXhwb3J0QWxsRGVjbGFyYXRpb24oKSlhKE8ubm9kZS5zb3VyY2UudmFsdWUsImV4cG9ydHMiLE8ubm9kZSksTy5yZW1vdmUoKTtlbHNlIGlmKE8uaXNFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24oKSl7dmFyIEk9Ty5nZXQoImRlY2xhcmF0aW9uIik7aWYoSS5pc0NsYXNzRGVjbGFyYXRpb24oKXx8SS5pc0Z1bmN0aW9uRGVjbGFyYXRpb24oKSl7dmFyIE09SS5ub2RlLmlkLE49W107TT8oTi5wdXNoKEkubm9kZSksTi5wdXNoKHUoImRlZmF1bHQiLE0pKSxpKE0ubmFtZSwiZGVmYXVsdCIpKTpOLnB1c2godSgiZGVmYXVsdCIsdC50b0V4cHJlc3Npb24oSS5ub2RlKSkpLCFBfHxJLmlzQ2xhc3NEZWNsYXJhdGlvbigpP08ucmVwbGFjZVdpdGhNdWx0aXBsZShOKTooeT15LmNvbmNhdChOKSxFLnB1c2goTykpfWVsc2UgTy5yZXBsYWNlV2l0aCh1KCJkZWZhdWx0IixJLm5vZGUpKX1lbHNlIGlmKE8uaXNFeHBvcnROYW1lZERlY2xhcmF0aW9uKCkpe3ZhciBMPU8uZ2V0KCJkZWNsYXJhdGlvbiIpO2lmKEwubm9kZSl7Ty5yZXBsYWNlV2l0aChMKTt2YXIgaj1bXSxVPXZvaWQgMDtpZihPLmlzRnVuY3Rpb24oKSl7dmFyIFY9TC5ub2RlLEc9Vi5pZC5uYW1lO2lmKEEpaShHLEcpLHkucHVzaChWKSx5LnB1c2godShHLFYuaWQpKSxFLnB1c2goTyk7ZWxzZXt2YXIgVztXPXt9LFdbR109Vi5pZCxVPVd9fWVsc2UgVT1MLmdldEJpbmRpbmdJZGVudGlmaWVycygpO2Zvcih2YXIgWSBpbiBVKWkoWSxZKSxqLnB1c2godShZLHQuaWRlbnRpZmllcihZKSkpO08uaW5zZXJ0QWZ0ZXIoail9ZWxzZXt2YXIgcT1PLm5vZGUuc3BlY2lmaWVycztpZihxJiZxLmxlbmd0aClpZihPLm5vZGUuc291cmNlKWEoTy5ub2RlLnNvdXJjZS52YWx1ZSwiZXhwb3J0cyIscSksTy5yZW1vdmUoKTtlbHNle2Zvcih2YXIgSz1bXSxIPXEsSj1BcnJheS5pc0FycmF5KEgpLFg9MCxIPUo/SDooMCxvLmRlZmF1bHQpKEgpOzspe3ZhciB6O2lmKEope2lmKFg+PUgubGVuZ3RoKWJyZWFrO3o9SFtYKytdfWVsc2V7aWYoWD1ILm5leHQoKSxYLmRvbmUpYnJlYWs7ej1YLnZhbHVlfXZhciAkPXo7Sy5wdXNoKHUoJC5leHBvcnRlZC5uYW1lLCQubG9jYWwpKSxpKCQubG9jYWwubmFtZSwkLmV4cG9ydGVkLm5hbWUpfU8ucmVwbGFjZVdpdGhNdWx0aXBsZShLKX19fX1kLmZvckVhY2goZnVuY3Rpb24ocil7Zm9yKHZhciBuPVtdLGk9ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoci5rZXkpLHM9ci5pbXBvcnRzLGE9QXJyYXkuaXNBcnJheShzKSx1PTAscz1hP3M6KDAsby5kZWZhdWx0KShzKTs7KXt2YXIgYztpZihhKXtpZih1Pj1zLmxlbmd0aClicmVhaztjPXNbdSsrXX1lbHNle2lmKHU9cy5uZXh0KCksdS5kb25lKWJyZWFrO2M9dS52YWx1ZX12YXIgZj1jO3QuaXNJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIoZik/bi5wdXNoKHQuZXhwcmVzc2lvblN0YXRlbWVudCh0LmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixmLmxvY2FsLGkpKSk6dC5pc0ltcG9ydERlZmF1bHRTcGVjaWZpZXIoZikmJihmPXQuaW1wb3J0U3BlY2lmaWVyKGYubG9jYWwsdC5pZGVudGlmaWVyKCJkZWZhdWx0IikpKSx0LmlzSW1wb3J0U3BlY2lmaWVyKGYpJiZuLnB1c2godC5leHByZXNzaW9uU3RhdGVtZW50KHQuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGYubG9jYWwsdC5tZW1iZXJFeHByZXNzaW9uKGksZi5pbXBvcnRlZCkpKSl9aWYoci5leHBvcnRzLmxlbmd0aCl7dmFyIHA9ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImV4cG9ydE9iaiIpO24ucHVzaCh0LnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW3QudmFyaWFibGVEZWNsYXJhdG9yKHAsdC5vYmplY3RFeHByZXNzaW9uKFtdKSldKSk7Zm9yKHZhciBkPXIuZXhwb3J0cyxoPUFycmF5LmlzQXJyYXkoZCkseT0wLGQ9aD9kOigwLG8uZGVmYXVsdCkoZCk7Oyl7dmFyIGI7aWYoaCl7aWYoeT49ZC5sZW5ndGgpYnJlYWs7Yj1kW3krK119ZWxzZXtpZih5PWQubmV4dCgpLHkuZG9uZSlicmVhaztiPXkudmFsdWV9dmFyIEU9Yjt0LmlzRXhwb3J0QWxsRGVjbGFyYXRpb24oRSk/bi5wdXNoKG0oe0tFWTplLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcigia2V5IiksRVhQT1JUX09CSjpwLFRBUkdFVDppfSkpOnQuaXNFeHBvcnRTcGVjaWZpZXIoRSkmJm4ucHVzaCh0LmV4cHJlc3Npb25TdGF0ZW1lbnQodC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdC5tZW1iZXJFeHByZXNzaW9uKHAsRS5leHBvcnRlZCksdC5tZW1iZXJFeHByZXNzaW9uKGksRS5sb2NhbCkpKSl9bi5wdXNoKHQuZXhwcmVzc2lvblN0YXRlbWVudCh0LmNhbGxFeHByZXNzaW9uKGwsW3BdKSkpfWcucHVzaCh0LnN0cmluZ0xpdGVyYWwoci5rZXkpKSx2LnB1c2godC5mdW5jdGlvbkV4cHJlc3Npb24obnVsbCxbaV0sdC5ibG9ja1N0YXRlbWVudChuKSkpfSk7dmFyIFE9dGhpcy5nZXRNb2R1bGVOYW1lKCk7USYmKFE9dC5zdHJpbmdMaXRlcmFsKFEpKSxBJiYoMCxmLmRlZmF1bHQpKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGIucHVzaChlKX0pLGIubGVuZ3RoJiZ5LnVuc2hpZnQodC52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLGIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LnZhcmlhYmxlRGVjbGFyYXRvcihlKX0pKSksZS50cmF2ZXJzZShuLHtleHBvcnRzOnAsYnVpbGRDYWxsOnUsc2NvcGU6ZS5zY29wZX0pO2Zvcih2YXIgWj1FLGVlPUFycmF5LmlzQXJyYXkoWiksdGU9MCxaPWVlP1o6KDAsby5kZWZhdWx0KShaKTs7KXt2YXIgcmU7aWYoZWUpe2lmKHRlPj1aLmxlbmd0aClicmVhaztyZT1aW3RlKytdfWVsc2V7aWYodGU9Wi5uZXh0KCksdGUuZG9uZSlicmVhaztyZT10ZS52YWx1ZX1yZS5yZW1vdmUoKX1lLm5vZGUuYm9keT1baCh7U1lTVEVNX1JFR0lTVEVSOnQubWVtYmVyRXhwcmVzc2lvbih0LmlkZW50aWZpZXIoci5vcHRzLnN5c3RlbUdsb2JhbHx8IlN5c3RlbSIpLHQuaWRlbnRpZmllcigicmVnaXN0ZXIiKSksQkVGT1JFX0JPRFk6eSxNT0RVTEVfTkFNRTpRLFNFVFRFUlM6dixTT1VSQ0VTOmcsQk9EWTplLm5vZGUuYm9keSxFWFBPUlRfSURFTlRJRklFUjpsLENPTlRFWFRfSURFTlRJRklFUjpjfSldfX19fX07dmFyIGM9cigxOTApLGY9bihjKSxwPXIoNCksZD1uKHApLGg9KDAsZC5kZWZhdWx0KSgnXG4gIFNZU1RFTV9SRUdJU1RFUihNT0RVTEVfTkFNRSwgW1NPVVJDRVNdLCBmdW5jdGlvbiAoRVhQT1JUX0lERU5USUZJRVIsIENPTlRFWFRfSURFTlRJRklFUikge1xuICAgICJ1c2Ugc3RyaWN0IjtcbiAgICBCRUZPUkVfQk9EWTtcbiAgICByZXR1cm4ge1xuICAgICAgc2V0dGVyczogW1NFVFRFUlNdLFxuICAgICAgZXhlY3V0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBCT0RZO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuJyksbT0oMCxkLmRlZmF1bHQpKCdcbiAgZm9yICh2YXIgS0VZIGluIFRBUkdFVCkge1xuICAgIGlmIChLRVkgIT09ICJkZWZhdWx0IiAmJiBLRVkgIT09ICJfX2VzTW9kdWxlIikgRVhQT1JUX09CSltLRVldID0gVEFSR0VUW0tFWV07XG4gIH1cbicpLHk9IkltcG9ydCI7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7aWYoZS5pc0V4cHJlc3Npb25TdGF0ZW1lbnQoKSl7dmFyIHQ9ZS5nZXQoImV4cHJlc3Npb24iKTtpZighdC5pc0NhbGxFeHByZXNzaW9uKCkpcmV0dXJuITE7aWYoIXQuZ2V0KCJjYWxsZWUiKS5pc0lkZW50aWZpZXIoe25hbWU6ImRlZmluZSJ9KSlyZXR1cm4hMTt2YXIgcj10LmdldCgiYXJndW1lbnRzIik7cmV0dXJuISgzPT09ci5sZW5ndGgmJiFyLnNoaWZ0KCkuaXNTdHJpbmdMaXRlcmFsKCkpJiYoMj09PXIubGVuZ3RoJiYoISFyLnNoaWZ0KCkuaXNBcnJheUV4cHJlc3Npb24oKSYmISFyLnNoaWZ0KCkuaXNGdW5jdGlvbkV4cHJlc3Npb24oKSkpfX12YXIgaT1lLnR5cGVzO3JldHVybntpbmhlcml0czpyKDEzMSksdmlzaXRvcjp7UHJvZ3JhbTp7ZXhpdDpmdW5jdGlvbihlLHIpe3ZhciBzPWUuZ2V0KCJib2R5IikucG9wKCk7aWYodChzKSl7dmFyIGw9cy5ub2RlLmV4cHJlc3Npb24sYz1sLmFyZ3VtZW50cyxmPTM9PT1jLmxlbmd0aD9jLnNoaWZ0KCk6bnVsbCxwPWwuYXJndW1lbnRzWzBdLGQ9bC5hcmd1bWVudHNbMV0saD1yLm9wdHMuZ2xvYmFsc3x8e30sbT1wLmVsZW1lbnRzLm1hcChmdW5jdGlvbihlKXtyZXR1cm4ibW9kdWxlIj09PWUudmFsdWV8fCJleHBvcnRzIj09PWUudmFsdWU/aS5pZGVudGlmaWVyKGUudmFsdWUpOmkuY2FsbEV4cHJlc3Npb24oaS5pZGVudGlmaWVyKCJyZXF1aXJlIiksW2VdKX0pLHk9cC5lbGVtZW50cy5tYXAoZnVuY3Rpb24oZSl7aWYoIm1vZHVsZSI9PT1lLnZhbHVlKXJldHVybiBpLmlkZW50aWZpZXIoIm1vZCIpO2lmKCJleHBvcnRzIj09PWUudmFsdWUpcmV0dXJuIGkubWVtYmVyRXhwcmVzc2lvbihpLmlkZW50aWZpZXIoIm1vZCIpLGkuaWRlbnRpZmllcigiZXhwb3J0cyIpKTt2YXIgdD12b2lkIDA7aWYoci5vcHRzLmV4YWN0R2xvYmFscyl7dmFyIHM9aFtlLnZhbHVlXTt0PXM/cy5zcGxpdCgiLiIpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBpLm1lbWJlckV4cHJlc3Npb24oZSxpLmlkZW50aWZpZXIodCkpfSxpLmlkZW50aWZpZXIoImdsb2JhbCIpKTppLm1lbWJlckV4cHJlc3Npb24oaS5pZGVudGlmaWVyKCJnbG9iYWwiKSxpLmlkZW50aWZpZXIoaS50b0lkZW50aWZpZXIoZS52YWx1ZSkpKX1lbHNle3ZhciBhPSgwLG4uYmFzZW5hbWUpKGUudmFsdWUsKDAsbi5leHRuYW1lKShlLnZhbHVlKSksbz1oW2FdfHxhO3Q9aS5tZW1iZXJFeHByZXNzaW9uKGkuaWRlbnRpZmllcigiZ2xvYmFsIiksaS5pZGVudGlmaWVyKGkudG9JZGVudGlmaWVyKG8pKSl9cmV0dXJuIHR9KSx2PWY/Zi52YWx1ZTp0aGlzLmZpbGUub3B0cy5iYXNlbmFtZSxnPWkubWVtYmVyRXhwcmVzc2lvbihpLmlkZW50aWZpZXIoImdsb2JhbCIpLGkuaWRlbnRpZmllcihpLnRvSWRlbnRpZmllcih2KSkpLGI9bnVsbDtpZihyLm9wdHMuZXhhY3RHbG9iYWxzKXt2YXIgRT1oW3ZdO2lmKEUpe2I9W107dmFyIHg9RS5zcGxpdCgiLiIpO2c9eC5zbGljZSgxKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gYi5wdXNoKGEoe0dMT0JBTF9SRUZFUkVOQ0U6ZX0pKSxpLm1lbWJlckV4cHJlc3Npb24oZSxpLmlkZW50aWZpZXIodCkpfSxpLm1lbWJlckV4cHJlc3Npb24oaS5pZGVudGlmaWVyKCJnbG9iYWwiKSxpLmlkZW50aWZpZXIoeFswXSkpKX19dmFyIEE9byh7QlJPV1NFUl9BUkdVTUVOVFM6eSxQUkVSRVFVSVNJVEVfQVNTSUdOTUVOVFM6YixHTE9CQUxfVE9fQVNTSUdOOmd9KTtzLnJlcGxhY2VXaXRoKHUoe01PRFVMRV9OQU1FOmYsQU1EX0FSR1VNRU5UUzpwLENPTU1PTl9BUkdVTUVOVFM6bSxHTE9CQUxfRVhQT1JUOkEsRlVOQzpkfSkpfX19fX19O3ZhciBuPXIoMTkpLGk9cig0KSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oaSksYT0oMCxzLmRlZmF1bHQpKCJcbiAgR0xPQkFMX1JFRkVSRU5DRSA9IEdMT0JBTF9SRUZFUkVOQ0UgfHwge31cbiIpLG89KDAscy5kZWZhdWx0KSgiXG4gIHZhciBtb2QgPSB7IGV4cG9ydHM6IHt9IH07XG4gIGZhY3RvcnkoQlJPV1NFUl9BUkdVTUVOVFMpO1xuICBQUkVSRVFVSVNJVEVfQVNTSUdOTUVOVFNcbiAgR0xPQkFMX1RPX0FTU0lHTiA9IG1vZC5leHBvcnRzO1xuIiksdT0oMCxzLmRlZmF1bHQpKCdcbiAgKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICBkZWZpbmUoTU9EVUxFX05BTUUsIEFNRF9BUkdVTUVOVFMsIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICJ1bmRlZmluZWQiKSB7XG4gICAgICBmYWN0b3J5KENPTU1PTl9BUkdVTUVOVFMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBHTE9CQUxfRVhQT1JUXG4gICAgfVxuICB9KSh0aGlzLCBGVU5DKTtcbicpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixpKXt2YXIgcz1lLnNwZWNpZmllcnNbMF07aWYobi5pc0V4cG9ydE5hbWVzcGFjZVNwZWNpZmllcihzKXx8bi5pc0V4cG9ydERlZmF1bHRTcGVjaWZpZXIocykpe3ZhciBhPWUuc3BlY2lmaWVycy5zaGlmdCgpLG89aS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoYS5leHBvcnRlZC5uYW1lKSx1PXZvaWQgMDt1PW4uaXNFeHBvcnROYW1lc3BhY2VTcGVjaWZpZXIoYSk/bi5pbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIobyk6bi5pbXBvcnREZWZhdWx0U3BlY2lmaWVyKG8pLHIucHVzaChuLmltcG9ydERlY2xhcmF0aW9uKFt1XSxlLnNvdXJjZSkpLHIucHVzaChuLmV4cG9ydE5hbWVkRGVjbGFyYXRpb24obnVsbCxbbi5leHBvcnRTcGVjaWZpZXIobyxhLmV4cG9ydGVkKV0pKSx0KGUscixpKX19dmFyIG49ZS50eXBlcztyZXR1cm57aW5oZXJpdHM6cigyMDApLHZpc2l0b3I6e0V4cG9ydE5hbWVkRGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ub2RlLG49ZS5zY29wZSxpPVtdO3QocixpLG4pLGkubGVuZ3RoJiYoci5zcGVjaWZpZXJzLmxlbmd0aD49MSYmaS5wdXNoKHIpLGUucmVwbGFjZVdpdGhNdWx0aXBsZShpKSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVzO3JldHVybntpbmhlcml0czpyKDEyNiksdmlzaXRvcjp7UHJvZ3JhbTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10LmZpbGUuYXN0LmNvbW1lbnRzLG49cixzPUFycmF5LmlzQXJyYXkobiksYT0wLG49cz9uOigwLGkuZGVmYXVsdCkobik7Oyl7dmFyIG87aWYocyl7aWYoYT49bi5sZW5ndGgpYnJlYWs7bz1uW2ErK119ZWxzZXtpZihhPW4ubmV4dCgpLGEuZG9uZSlicmVhaztvPWEudmFsdWV9dmFyIHU9bzt1LnZhbHVlLmluZGV4T2YoIkBmbG93Iik+PTAmJih1LnZhbHVlPXUudmFsdWUucmVwbGFjZSgiQGZsb3ciLCIiKSx1LnZhbHVlLnJlcGxhY2UoL1wqL2csIiIpLnRyaW0oKXx8KHUuaWdub3JlPSEwKSl9fSxGbG93OmZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9LENsYXNzUHJvcGVydHk6ZnVuY3Rpb24oZSl7ZS5ub2RlLnZhcmlhbmNlPW51bGwsZS5ub2RlLnR5cGVBbm5vdGF0aW9uPW51bGwsZS5ub2RlLnZhbHVlfHxlLnJlbW92ZSgpfSxDbGFzczpmdW5jdGlvbihlKXtlLm5vZGUuaW1wbGVtZW50cz1udWxsLGUuZ2V0KCJib2R5LmJvZHkiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuaXNDbGFzc1Byb3BlcnR5KCkmJihlLm5vZGUudHlwZUFubm90YXRpb249bnVsbCxlLm5vZGUudmFsdWV8fGUucmVtb3ZlKCkpfSl9LEFzc2lnbm1lbnRQYXR0ZXJuOmZ1bmN0aW9uKGUpe2Uubm9kZS5sZWZ0Lm9wdGlvbmFsPSExfSxGdW5jdGlvbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5ub2RlLHI9MDtyPHQucGFyYW1zLmxlbmd0aDtyKyspe3QucGFyYW1zW3JdLm9wdGlvbmFsPSExfX0sVHlwZUNhc3RFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciByPWUubm9kZTtkb3tyPXIuZXhwcmVzc2lvbn13aGlsZSh0LmlzVHlwZUNhc3RFeHByZXNzaW9uKHIpKTtlLnJlcGxhY2VXaXRoKHIpfX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD1lLnBhdGguZ2V0RGF0YSgiZnVuY3Rpb25CaW5kIik7cmV0dXJuIHR8fCh0PWUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoImNvbnRleHQiKSxlLnBhdGguc2V0RGF0YSgiZnVuY3Rpb25CaW5kIix0KSl9ZnVuY3Rpb24gbihlLHQpe3ZhciByPWUub2JqZWN0fHxlLmNhbGxlZS5vYmplY3Q7cmV0dXJuIHQuaXNTdGF0aWMocikmJnJ9ZnVuY3Rpb24gaShlLHIpe3ZhciBpPW4oZSxyKTtpZihpKXJldHVybiBpO3ZhciBhPXQocik7cmV0dXJuIGUub2JqZWN0P2UuY2FsbGVlPXMuc2VxdWVuY2VFeHByZXNzaW9uKFtzLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixhLGUub2JqZWN0KSxlLmNhbGxlZV0pOmUuY2FsbGVlLm9iamVjdD1zLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixhLGUuY2FsbGVlLm9iamVjdCksYX12YXIgcz1lLnR5cGVzO3JldHVybntpbmhlcml0czpyKDIwMSksdmlzaXRvcjp7Q2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlLHI9ZS5zY29wZSxuPXQuY2FsbGVlO2lmKHMuaXNCaW5kRXhwcmVzc2lvbihuKSl7dmFyIGE9aShuLHIpO3QuY2FsbGVlPXMubWVtYmVyRXhwcmVzc2lvbihuLmNhbGxlZSxzLmlkZW50aWZpZXIoImNhbGwiKSksdC5hcmd1bWVudHMudW5zaGlmdChhKX19LEJpbmRFeHByZXNzaW9uOmZ1bmN0aW9uKGUpewp2YXIgdD1lLm5vZGUscj1lLnNjb3BlLG49aSh0LHIpO2UucmVwbGFjZVdpdGgocy5jYWxsRXhwcmVzc2lvbihzLm1lbWJlckV4cHJlc3Npb24odC5jYWxsZWUscy5pZGVudGlmaWVyKCJiaW5kIikpLFtuXSkpfX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgdD0hMTtyZXR1cm4gZS50cmF2ZXJzZSh7UmVzdFByb3BlcnR5OmZ1bmN0aW9uKCl7dD0hMCxlLnN0b3AoKX19KSx0fWZ1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PWUucHJvcGVydGllcyxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLGkuZGVmYXVsdCkodCk7Oyl7dmFyIHM7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7cz10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztzPW4udmFsdWV9dmFyIGE9cztpZihvLmlzU3ByZWFkUHJvcGVydHkoYSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcyhlLHQscil7Zm9yKHZhciBuPXQucG9wKCkscz1bXSxhPXQsdT1BcnJheS5pc0FycmF5KGEpLGw9MCxhPXU/YTooMCxpLmRlZmF1bHQpKGEpOzspe3ZhciBjO2lmKHUpe2lmKGw+PWEubGVuZ3RoKWJyZWFrO2M9YVtsKytdfWVsc2V7aWYobD1hLm5leHQoKSxsLmRvbmUpYnJlYWs7Yz1sLnZhbHVlfXZhciBmPWMscD1mLmtleTtvLmlzSWRlbnRpZmllcihwKSYmIWYuY29tcHV0ZWQmJihwPW8uc3RyaW5nTGl0ZXJhbChmLmtleS5uYW1lKSkscy5wdXNoKHApfXJldHVybltuLmFyZ3VtZW50LG8uY2FsbEV4cHJlc3Npb24oZS5hZGRIZWxwZXIoIm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiksW3Isby5hcnJheUV4cHJlc3Npb24ocyldKV19ZnVuY3Rpb24gYShlLHIsbixpKXtpZihyLmlzQXNzaWdubWVudFBhdHRlcm4oKSlyZXR1cm4gdm9pZCBhKGUsci5nZXQoImxlZnQiKSxuLGkpO2lmKHIuaXNPYmplY3RQYXR0ZXJuKCkmJnQocikpe3ZhciBzPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJyZWYiKSx1PW8udmFyaWFibGVEZWNsYXJhdGlvbigibGV0Iixbby52YXJpYWJsZURlY2xhcmF0b3Ioci5ub2RlLHMpXSk7dS5fYmxvY2tIb2lzdD1uP2ktbjoxLGUuZW5zdXJlQmxvY2soKSxlLmdldCgiYm9keSIpLnVuc2hpZnRDb250YWluZXIoImJvZHkiLHUpLHIucmVwbGFjZVdpdGgocyl9fXZhciBvPWUudHlwZXM7cmV0dXJue2luaGVyaXRzOnIoMjAyKSx2aXNpdG9yOntGdW5jdGlvbjpmdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5nZXQoInBhcmFtcyIpLHI9MDtyPHQubGVuZ3RoO3IrKylhKHRbcl0ucGFyZW50UGF0aCx0W3JdLHIsdC5sZW5ndGgpfSxWYXJpYWJsZURlY2xhcmF0b3I6ZnVuY3Rpb24oZSx0KXtpZihlLmdldCgiaWQiKS5pc09iamVjdFBhdHRlcm4oKSl7dmFyIHI9ZTtlLmdldCgiaWQiKS50cmF2ZXJzZSh7UmVzdFByb3BlcnR5OmZ1bmN0aW9uKGUpe2lmKHRoaXMub3JpZ2luYWxQYXRoLm5vZGUuaWQucHJvcGVydGllcy5sZW5ndGg+MSYmIW8uaXNJZGVudGlmaWVyKHRoaXMub3JpZ2luYWxQYXRoLm5vZGUuaW5pdCkpe3ZhciBuPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUodGhpcy5vcmlnaW5hbFBhdGgubm9kZS5pbml0LCJyZWYiKTtyZXR1cm4gdGhpcy5vcmlnaW5hbFBhdGguaW5zZXJ0QmVmb3JlKG8udmFyaWFibGVEZWNsYXJhdG9yKG4sdGhpcy5vcmlnaW5hbFBhdGgubm9kZS5pbml0KSksdm9pZCB0aGlzLm9yaWdpbmFsUGF0aC5yZXBsYWNlV2l0aChvLnZhcmlhYmxlRGVjbGFyYXRvcih0aGlzLm9yaWdpbmFsUGF0aC5ub2RlLmlkLG4pKX12YXIgaT10aGlzLm9yaWdpbmFsUGF0aC5ub2RlLmluaXQsYT1bXTtlLmZpbmRQYXJlbnQoZnVuY3Rpb24oZSl7aWYoZS5pc09iamVjdFByb3BlcnR5KCkpYS51bnNoaWZ0KGUubm9kZS5rZXkubmFtZSk7ZWxzZSBpZihlLmlzVmFyaWFibGVEZWNsYXJhdG9yKCkpcmV0dXJuITB9KSxhLmxlbmd0aCYmYS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2k9by5tZW1iZXJFeHByZXNzaW9uKGksby5pZGVudGlmaWVyKGUpKX0pO3ZhciB1PXModCxlLnBhcmVudFBhdGgubm9kZS5wcm9wZXJ0aWVzLGkpLGw9dVswXSxjPXVbMV07ci5pbnNlcnRBZnRlcihvLnZhcmlhYmxlRGVjbGFyYXRvcihsLGMpKSxyPXIuZ2V0U2libGluZyhyLmtleSsxKSwwPT09ZS5wYXJlbnRQYXRoLm5vZGUucHJvcGVydGllcy5sZW5ndGgmJmUuZmluZFBhcmVudChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc09iamVjdFByb3BlcnR5KCl8fGUuaXNWYXJpYWJsZURlY2xhcmF0b3IoKX0pLnJlbW92ZSgpfX0se29yaWdpbmFsUGF0aDplfSl9fSxFeHBvcnROYW1lZERlY2xhcmF0aW9uOmZ1bmN0aW9uKGUpe3ZhciByPWUuZ2V0KCJkZWNsYXJhdGlvbiIpO2lmKHIuaXNWYXJpYWJsZURlY2xhcmF0aW9uKCkmJnQocikpe3ZhciBuPVtdO2Zvcih2YXIgaSBpbiBlLmdldE91dGVyQmluZGluZ0lkZW50aWZpZXJzKGUpKXt2YXIgcz1vLmlkZW50aWZpZXIoaSk7bi5wdXNoKG8uZXhwb3J0U3BlY2lmaWVyKHMscykpfWUucmVwbGFjZVdpdGgoci5ub2RlKSxlLmluc2VydEFmdGVyKG8uZXhwb3J0TmFtZWREZWNsYXJhdGlvbihudWxsLG4pKX19LENhdGNoQ2xhdXNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2V0KCJwYXJhbSIpO2EodC5wYXJlbnRQYXRoLHQpfSxBc3NpZ25tZW50RXhwcmVzc2lvbjpmdW5jdGlvbihlLHIpe3ZhciBuPWUuZ2V0KCJsZWZ0Iik7aWYobi5pc09iamVjdFBhdHRlcm4oKSYmdChuKSl7dmFyIGk9W10sYT12b2lkIDA7KGUuaXNDb21wbGV0aW9uUmVjb3JkKCl8fGUucGFyZW50UGF0aC5pc0V4cHJlc3Npb25TdGF0ZW1lbnQoKSkmJihhPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUoZS5ub2RlLnJpZ2h0LCJyZWYiKSxpLnB1c2goby52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLFtvLnZhcmlhYmxlRGVjbGFyYXRvcihhLGUubm9kZS5yaWdodCldKSkpO3ZhciB1PXMocixlLm5vZGUubGVmdC5wcm9wZXJ0aWVzLGEpLGw9dVswXSxjPXVbMV0sZj1vLmNsb25lKGUubm9kZSk7Zi5yaWdodD1hLGkucHVzaChvLmV4cHJlc3Npb25TdGF0ZW1lbnQoZikpLGkucHVzaChvLnRvU3RhdGVtZW50KG8uYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGwsYykpKSxhJiZpLnB1c2goby5leHByZXNzaW9uU3RhdGVtZW50KGEpKSxlLnJlcGxhY2VXaXRoTXVsdGlwbGUoaSl9fSxGb3JYU3RhdGVtZW50OmZ1bmN0aW9uKGUpe3ZhciByPWUubm9kZSxuPWUuc2NvcGUsaT1lLmdldCgibGVmdCIpLHM9ci5sZWZ0O2lmKG8uaXNPYmplY3RQYXR0ZXJuKHMpJiZ0KGkpKXt2YXIgYT1uLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIik7cmV0dXJuIHIubGVmdD1vLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW28udmFyaWFibGVEZWNsYXJhdG9yKGEpXSksZS5lbnN1cmVCbG9jaygpLHZvaWQgci5ib2R5LmJvZHkudW5zaGlmdChvLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW28udmFyaWFibGVEZWNsYXJhdG9yKHMsYSldKSl9aWYoby5pc1ZhcmlhYmxlRGVjbGFyYXRpb24ocykpe3ZhciB1PXMuZGVjbGFyYXRpb25zWzBdLmlkO2lmKG8uaXNPYmplY3RQYXR0ZXJuKHUpKXt2YXIgbD1uLmdlbmVyYXRlVWlkSWRlbnRpZmllcigicmVmIik7ci5sZWZ0PW8udmFyaWFibGVEZWNsYXJhdGlvbihzLmtpbmQsW28udmFyaWFibGVEZWNsYXJhdG9yKGwsbnVsbCldKSxlLmVuc3VyZUJsb2NrKCksci5ib2R5LmJvZHkudW5zaGlmdChvLnZhcmlhYmxlRGVjbGFyYXRpb24oci5sZWZ0LmtpbmQsW28udmFyaWFibGVEZWNsYXJhdG9yKHUsbCldKSl9fX0sT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoKXt1Lmxlbmd0aCYmKGEucHVzaChvLm9iamVjdEV4cHJlc3Npb24odSkpLHU9W10pfWlmKG4oZS5ub2RlKSl7dmFyIHM9dC5vcHRzLnVzZUJ1aWx0SW5zfHwhMTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzKXRocm93IG5ldyBFcnJvcigidHJhbnNmb3JtLW9iamVjdC1yZXN0LXNwcmVhZCBjdXJyZW50bHkgb25seSBhY2NlcHRzIGEgYm9vbGVhbiBvcHRpb24gZm9yIHVzZUJ1aWx0SW5zIChkZWZhdWx0cyB0byBmYWxzZSkiKTtmb3IodmFyIGE9W10sdT1bXSxsPWUubm9kZS5wcm9wZXJ0aWVzLGM9QXJyYXkuaXNBcnJheShsKSxmPTAsbD1jP2w6KDAsaS5kZWZhdWx0KShsKTs7KXt2YXIgcDtpZihjKXtpZihmPj1sLmxlbmd0aClicmVhaztwPWxbZisrXX1lbHNle2lmKGY9bC5uZXh0KCksZi5kb25lKWJyZWFrO3A9Zi52YWx1ZX12YXIgZD1wO28uaXNTcHJlYWRQcm9wZXJ0eShkKT8ocigpLGEucHVzaChkLmFyZ3VtZW50KSk6dS5wdXNoKGQpfXIoKSxvLmlzT2JqZWN0RXhwcmVzc2lvbihhWzBdKXx8YS51bnNoaWZ0KG8ub2JqZWN0RXhwcmVzc2lvbihbXSkpO3ZhciBoPXM/by5tZW1iZXJFeHByZXNzaW9uKG8uaWRlbnRpZmllcigiT2JqZWN0Iiksby5pZGVudGlmaWVyKCJhc3NpZ24iKSk6dC5hZGRIZWxwZXIoImV4dGVuZHMiKTtlLnJlcGxhY2VXaXRoKG8uY2FsbEV4cHJlc3Npb24oaCxhKSl9fX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgcj10LmFyZ3VtZW50c1swXS5wcm9wZXJ0aWVzLGk9ITAscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgYT1yW3NdLG89bi50b0NvbXB1dGVkS2V5KGEpO2lmKG4uaXNMaXRlcmFsKG8se3ZhbHVlOiJkaXNwbGF5TmFtZSJ9KSl7aT0hMTticmVha319aSYmci51bnNoaWZ0KG4ub2JqZWN0UHJvcGVydHkobi5pZGVudGlmaWVyKCJkaXNwbGF5TmFtZSIpLG4uc3RyaW5nTGl0ZXJhbChlKSkpfWZ1bmN0aW9uIHIoZSl7aWYoIWV8fCFuLmlzQ2FsbEV4cHJlc3Npb24oZSkpcmV0dXJuITE7aWYoIXMoZS5jYWxsZWUpJiYhYShlLmNhbGxlZSkpcmV0dXJuITE7dmFyIHQ9ZS5hcmd1bWVudHM7aWYoMSE9PXQubGVuZ3RoKXJldHVybiExO3ZhciByPXRbMF07cmV0dXJuISFuLmlzT2JqZWN0RXhwcmVzc2lvbihyKX12YXIgbj1lLnR5cGVzLHM9bi5idWlsZE1hdGNoTWVtYmVyRXhwcmVzc2lvbigiUmVhY3QuY3JlYXRlQ2xhc3MiKSxhPWZ1bmN0aW9uKGUpe3JldHVybiJjcmVhdGVSZWFjdENsYXNzIj09PWUubmFtZX07cmV0dXJue3Zpc2l0b3I6e0V4cG9ydERlZmF1bHREZWNsYXJhdGlvbjpmdW5jdGlvbihlLG4pe3ZhciBzPWUubm9kZTtpZihyKHMuZGVjbGFyYXRpb24pKXt2YXIgYT1uLmZpbGUub3B0cy5iYXNlbmFtZTsiaW5kZXgiPT09YSYmKGE9aS5kZWZhdWx0LmJhc2VuYW1lKGkuZGVmYXVsdC5kaXJuYW1lKG4uZmlsZS5vcHRzLmZpbGVuYW1lKSkpLHQoYSxzLmRlY2xhcmF0aW9uKX19LENhbGxFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciBpPWUubm9kZTtpZihyKGkpKXt2YXIgcz12b2lkIDA7ZS5maW5kKGZ1bmN0aW9uKGUpe2lmKGUuaXNBc3NpZ25tZW50RXhwcmVzc2lvbigpKXM9ZS5ub2RlLmxlZnQ7ZWxzZSBpZihlLmlzT2JqZWN0UHJvcGVydHkoKSlzPWUubm9kZS5rZXk7ZWxzZSBpZihlLmlzVmFyaWFibGVEZWNsYXJhdG9yKCkpcz1lLm5vZGUuaWQ7ZWxzZSBpZihlLmlzU3RhdGVtZW50KCkpcmV0dXJuITA7aWYocylyZXR1cm4hMH0pLHMmJihuLmlzTWVtYmVyRXhwcmVzc2lvbihzKSYmKHM9cy5wcm9wZXJ0eSksbi5pc0lkZW50aWZpZXIocykmJnQocy5uYW1lLGkpKX19fX19O3ZhciBuPXIoMTkpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIpLHM9bihpKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcyxyPS9cKj9ccypAanN4XHMrKFteXHNdKykvLG49KDAsbC5kZWZhdWx0KSh7cHJlOmZ1bmN0aW9uKGUpe3ZhciByPWUudGFnTmFtZSxuPWUuYXJnczt0LnJlYWN0LmlzQ29tcGF0VGFnKHIpP24ucHVzaCh0LnN0cmluZ0xpdGVyYWwocikpOm4ucHVzaChlLnRhZ0V4cHIpfSxwb3N0OmZ1bmN0aW9uKGUsdCl7ZS5jYWxsZWU9dC5nZXQoImpzeElkZW50aWZpZXIiKSgpfX0pO3JldHVybiBuLlByb2dyYW09ZnVuY3Rpb24oZSxuKXtmb3IodmFyIGk9bi5maWxlLGE9bi5vcHRzLnByYWdtYXx8IlJlYWN0LmNyZWF0ZUVsZW1lbnQiLG89aS5hc3QuY29tbWVudHMsdT1BcnJheS5pc0FycmF5KG8pLGw9MCxvPXU/bzooMCxzLmRlZmF1bHQpKG8pOzspe3ZhciBjO2lmKHUpe2lmKGw+PW8ubGVuZ3RoKWJyZWFrO2M9b1tsKytdfWVsc2V7aWYobD1vLm5leHQoKSxsLmRvbmUpYnJlYWs7Yz1sLnZhbHVlfXZhciBmPWMscD1yLmV4ZWMoZi52YWx1ZSk7aWYocCl7aWYoIlJlYWN0LkRPTSI9PT0oYT1wWzFdKSl0aHJvdyBpLmJ1aWxkQ29kZUZyYW1lRXJyb3IoZiwiVGhlIEBqc3ggUmVhY3QuRE9NIHByYWdtYSBoYXMgYmVlbiBkZXByZWNhdGVkIGFzIG9mIFJlYWN0IDAuMTIiKTticmVha319bi5zZXQoImpzeElkZW50aWZpZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGEuc3BsaXQoIi4iKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaWRlbnRpZmllcihlKX0pLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiB0Lm1lbWJlckV4cHJlc3Npb24oZSxyKX0pfSl9LHtpbmhlcml0czpvLmRlZmF1bHQsdmlzaXRvcjpufX07dmFyIGE9cigxMjcpLG89bihhKSx1PXIoMzUxKSxsPW4odSk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue3Zpc2l0b3I6e1Byb2dyYW06ZnVuY3Rpb24oZSx0KXtpZighMSE9PXQub3B0cy5zdHJpY3QmJiExIT09dC5vcHRzLnN0cmljdE1vZGUpe2Zvcih2YXIgcj1lLm5vZGUsbj1yLmRpcmVjdGl2ZXMscz1BcnJheS5pc0FycmF5KG4pLG89MCxuPXM/bjooMCxpLmRlZmF1bHQpKG4pOzspe3ZhciB1O2lmKHMpe2lmKG8+PW4ubGVuZ3RoKWJyZWFrO3U9bltvKytdfWVsc2V7aWYobz1uLm5leHQoKSxvLmRvbmUpYnJlYWs7dT1vLnZhbHVlfWlmKCJ1c2Ugc3RyaWN0Ij09PXUudmFsdWUudmFsdWUpcmV0dXJufWUudW5zaGlmdENvbnRhaW5lcigiZGlyZWN0aXZlcyIsYS5kaXJlY3RpdmUoYS5kaXJlY3RpdmVMaXRlcmFsKCJ1c2Ugc3RyaWN0IikpKX19fX19O3ZhciBzPXIoMSksYT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1bImNvbW1vbmpzIiwiYW1kIiwidW1kIiwic3lzdGVtanMiXSxuPSExLGk9ImNvbW1vbmpzIixzPSExO2lmKHZvaWQgMCE9PXQmJih2b2lkIDAhPT10Lmxvb3NlJiYobj10Lmxvb3NlKSx2b2lkIDAhPT10Lm1vZHVsZXMmJihpPXQubW9kdWxlcyksdm9pZCAwIT09dC5zcGVjJiYocz10LnNwZWMpKSwiYm9vbGVhbiIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcigiUHJlc2V0IGVzMjAxNSAnbG9vc2UnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi4iKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzKXRocm93IG5ldyBFcnJvcigiUHJlc2V0IGVzMjAxNSAnc3BlYycgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLiIpO2lmKCExIT09aSYmLTE9PT1yLmluZGV4T2YoaSkpdGhyb3cgbmV3IEVycm9yKCJQcmVzZXQgZXMyMDE1ICdtb2R1bGVzJyBvcHRpb24gbXVzdCBiZSAnZmFsc2UnIHRvIGluZGljYXRlIG5vIG1vZHVsZXNcbm9yIGEgbW9kdWxlIHR5cGUgd2hpY2ggYmUgYmUgb25lIG9mOiAnY29tbW9uanMnIChkZWZhdWx0KSwgJ2FtZCcsICd1bWQnLCAnc3lzdGVtanMnIik7dmFyIG89e2xvb3NlOm59O3JldHVybntwbHVnaW5zOltbYS5kZWZhdWx0LHtsb29zZTpuLHNwZWM6c31dLHUuZGVmYXVsdCxjLmRlZmF1bHQsW3AuZGVmYXVsdCx7c3BlYzpzfV0saC5kZWZhdWx0LFt5LmRlZmF1bHQsb10sZy5kZWZhdWx0LEUuZGVmYXVsdCxBLmRlZmF1bHQsW18uZGVmYXVsdCxvXSxbQy5kZWZhdWx0LG9dLFAuZGVmYXVsdCxGLmRlZmF1bHQsTy5kZWZhdWx0LFtSLmRlZmF1bHQsb10sTS5kZWZhdWx0LFtMLmRlZmF1bHQsb10sVS5kZWZhdWx0LEcuZGVmYXVsdCwiY29tbW9uanMiPT09aSYmW1kuZGVmYXVsdCxvXSwic3lzdGVtanMiPT09aSYmW0suZGVmYXVsdCxvXSwiYW1kIj09PWkmJltKLmRlZmF1bHQsb10sInVtZCI9PT1pJiZbei5kZWZhdWx0LG9dLFtRLmRlZmF1bHQse2FzeW5jOiExLGFzeW5jR2VuZXJhdG9yczohMX1dXS5maWx0ZXIoQm9vbGVhbil9fXQuX19lc01vZHVsZT0hMDt2YXIgcz1yKDgzKSxhPW4ocyksbz1yKDc2KSx1PW4obyksbD1yKDc1KSxjPW4obCksZj1yKDY4KSxwPW4oZiksZD1yKDY5KSxoPW4oZCksbT1yKDcxKSx5PW4obSksdj1yKDc4KSxnPW4odiksYj1yKDgwKSxFPW4oYikseD1yKDEzMCksQT1uKHgpLFM9cig3MiksXz1uKFMpLEQ9cig3NCksQz1uKEQpLHc9cig4MiksUD1uKHcpLGs9cig4NSksRj1uKGspLFQ9cig2NiksTz1uKFQpLEI9cig4MSksUj1uKEIpLEk9cig3OSksTT1uKEkpLE49cig3MyksTD1uKE4pLGo9cig3MCksVT1uKGopLFY9cig4NCksRz1uKFYpLFc9cig3NyksWT1uKFcpLHE9cigyMDgpLEs9bihxKSxIPXIoMTMxKSxKPW4oSCksWD1yKDIwOSksej1uKFgpLCQ9cig4NiksUT1uKCQpLFo9aSh7fSk7dC5kZWZhdWx0PVosT2JqZWN0LmRlZmluZVByb3BlcnR5KFosImJ1aWxkUHJlc2V0Iix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITEsdmFsdWU6aX0pLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMTMyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PXtwbHVnaW5zOltpLmRlZmF1bHRdfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDEyOCkscz1uKGkpLGE9cigxMjkpLG89bihhKTt0LmRlZmF1bHQ9e3BsdWdpbnM6W3MuZGVmYXVsdCxvLmRlZmF1bHRdfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIyMSkscz1uKGkpLGE9cigyMDMpLG89bihhKSx1PXIoMjEwKSxsPW4odSk7dC5kZWZhdWx0PXtwcmVzZXRzOltzLmRlZmF1bHRdLHBsdWdpbnM6W28uZGVmYXVsdCxsLmRlZmF1bHRdfSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIyMikscz1uKGkpLGE9cigyMDQpLG89bihhKSx1PXIoMjA1KSxsPW4odSksYz1yKDMyNCksZj1uKGMpO3QuZGVmYXVsdD17cHJlc2V0czpbcy5kZWZhdWx0XSxwbHVnaW5zOltmLmRlZmF1bHQsby5kZWZhdWx0LGwuZGVmYXVsdF19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMTI4KSxzPW4oaSksYT1yKDEyOSksbz1uKGEpLHU9cigxMzIpLGw9bih1KSxjPXIoMjEzKSxmPW4oYykscD1yKDMyNyksZD1uKHApO3QuZGVmYXVsdD17cGx1Z2luczpbcy5kZWZhdWx0LG8uZGVmYXVsdCxsLmRlZmF1bHQsZC5kZWZhdWx0LGYuZGVmYXVsdF19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMyksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLHM9ZnVuY3Rpb24gZSh0LHIpeygwLGkuZGVmYXVsdCkodGhpcyxlKSx0aGlzLmZpbGU9dCx0aGlzLm9wdGlvbnM9cn07dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5GbG93PXQuUHVyZT10LkdlbmVyYXRlZD10LlVzZXI9dC5WYXI9dC5CbG9ja1Njb3BlZD10LlJlZmVyZW5jZWQ9dC5TY29wZT10LkV4cHJlc3Npb249dC5TdGF0ZW1lbnQ9dC5CaW5kaW5nSWRlbnRpZmllcj10LlJlZmVyZW5jZWRNZW1iZXJFeHByZXNzaW9uPXQuUmVmZXJlbmNlZElkZW50aWZpZXI9dm9pZCAwO3ZhciBuPXIoMSksaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4pO3QuUmVmZXJlbmNlZElkZW50aWZpZXI9e3R5cGVzOlsiSWRlbnRpZmllciIsIkpTWElkZW50aWZpZXIiXSxjaGVja1BhdGg6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUscz1lLnBhcmVudDtpZighaS5pc0lkZW50aWZpZXIocix0KSYmIWkuaXNKU1hNZW1iZXJFeHByZXNzaW9uKHMsdCkpe2lmKCFpLmlzSlNYSWRlbnRpZmllcihyLHQpKXJldHVybiExO2lmKG4ucmVhY3QuaXNDb21wYXRUYWcoci5uYW1lKSlyZXR1cm4hMX1yZXR1cm4gaS5pc1JlZmVyZW5jZWQocixzKX19LHQuUmVmZXJlbmNlZE1lbWJlckV4cHJlc3Npb249e3R5cGVzOlsiTWVtYmVyRXhwcmVzc2lvbiJdLGNoZWNrUGF0aDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGUscj1lLnBhcmVudDtyZXR1cm4gaS5pc01lbWJlckV4cHJlc3Npb24odCkmJmkuaXNSZWZlcmVuY2VkKHQscil9fSx0LkJpbmRpbmdJZGVudGlmaWVyPXt0eXBlczpbIklkZW50aWZpZXIiXSxjaGVja1BhdGg6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlLHI9ZS5wYXJlbnQ7cmV0dXJuIGkuaXNJZGVudGlmaWVyKHQpJiZpLmlzQmluZGluZyh0LHIpfX0sdC5TdGF0ZW1lbnQ9e3R5cGVzOlsiU3RhdGVtZW50Il0sY2hlY2tQYXRoOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZSxyPWUucGFyZW50O2lmKGkuaXNTdGF0ZW1lbnQodCkpe2lmKGkuaXNWYXJpYWJsZURlY2xhcmF0aW9uKHQpKXtpZihpLmlzRm9yWFN0YXRlbWVudChyLHtsZWZ0OnR9KSlyZXR1cm4hMTtpZihpLmlzRm9yU3RhdGVtZW50KHIse2luaXQ6dH0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfX0sdC5FeHByZXNzaW9uPXt0eXBlczpbIkV4cHJlc3Npb24iXSxjaGVja1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNJZGVudGlmaWVyKCk/ZS5pc1JlZmVyZW5jZWRJZGVudGlmaWVyKCk6aS5pc0V4cHJlc3Npb24oZS5ub2RlKX19LHQuU2NvcGU9e3R5cGVzOlsiU2NvcGFibGUiXSxjaGVja1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNTY29wZShlLm5vZGUsZS5wYXJlbnQpfX0sdC5SZWZlcmVuY2VkPXtjaGVja1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNSZWZlcmVuY2VkKGUubm9kZSxlLnBhcmVudCl9fSx0LkJsb2NrU2NvcGVkPXtjaGVja1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkuaXNCbG9ja1Njb3BlZChlLm5vZGUpfX0sdC5WYXI9e3R5cGVzOlsiVmFyaWFibGVEZWNsYXJhdGlvbiJdLGNoZWNrUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4gaS5pc1ZhcihlLm5vZGUpfX0sdC5Vc2VyPXtjaGVja1BhdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZSYmISFlLm5vZGUubG9jfX0sdC5HZW5lcmF0ZWQ9e2NoZWNrUGF0aDpmdW5jdGlvbihlKXtyZXR1cm4hZS5pc1VzZXIoKX19LHQuUHVyZT17Y2hlY2tQYXRoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2NvcGUuaXNQdXJlKGUubm9kZSx0KX19LHQuRmxvdz17dHlwZXM6WyJGbG93IiwiSW1wb3J0RGVjbGFyYXRpb24iLCJFeHBvcnREZWNsYXJhdGlvbiIsIkltcG9ydFNwZWNpZmllciJdLGNoZWNrUGF0aDpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGU7cmV0dXJuISFpLmlzRmxvdyh0KXx8KGkuaXNJbXBvcnREZWNsYXJhdGlvbih0KT8idHlwZSI9PT10LmltcG9ydEtpbmR8fCJ0eXBlb2YiPT09dC5pbXBvcnRLaW5kOmkuaXNFeHBvcnREZWNsYXJhdGlvbih0KT8idHlwZSI9PT10LmV4cG9ydEtpbmQ6ISFpLmlzSW1wb3J0U3BlY2lmaWVyKHQpJiYoInR5cGUiPT09dC5pbXBvcnRLaW5kfHwidHlwZW9mIj09PXQuaW1wb3J0S2luZCkpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3ZhciBuPXIoMyksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXQuZXhpc3Rpbmcsbj10LmlkZW50aWZpZXIscz10LnNjb3BlLGE9dC5wYXRoLG89dC5raW5kOygwLGkuZGVmYXVsdCkodGhpcyxlKSx0aGlzLmlkZW50aWZpZXI9bix0aGlzLnNjb3BlPXMsdGhpcy5wYXRoPWEsdGhpcy5raW5kPW8sdGhpcy5jb25zdGFudFZpb2xhdGlvbnM9W10sdGhpcy5jb25zdGFudD0hMCx0aGlzLnJlZmVyZW5jZVBhdGhzPVtdLHRoaXMucmVmZXJlbmNlZD0hMSx0aGlzLnJlZmVyZW5jZXM9MCx0aGlzLmNsZWFyVmFsdWUoKSxyJiYodGhpcy5jb25zdGFudFZpb2xhdGlvbnM9W10uY29uY2F0KHIucGF0aCxyLmNvbnN0YW50VmlvbGF0aW9ucyx0aGlzLmNvbnN0YW50VmlvbGF0aW9ucykpfXJldHVybiBlLnByb3RvdHlwZS5kZW9wdFZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5jbGVhclZhbHVlKCksdGhpcy5oYXNEZW9wdGVkVmFsdWU9ITB9LGUucHJvdG90eXBlLnNldFZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMuaGFzRGVvcHRlZFZhbHVlfHwodGhpcy5oYXNWYWx1ZT0hMCx0aGlzLnZhbHVlPWUpfSxlLnByb3RvdHlwZS5jbGVhclZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5oYXNEZW9wdGVkVmFsdWU9ITEsdGhpcy5oYXNWYWx1ZT0hMSx0aGlzLnZhbHVlPW51bGx9LGUucHJvdG90eXBlLnJlYXNzaWduPWZ1bmN0aW9uKGUpe3RoaXMuY29uc3RhbnQ9ITEsLTE9PT10aGlzLmNvbnN0YW50VmlvbGF0aW9ucy5pbmRleE9mKGUpJiZ0aGlzLmNvbnN0YW50VmlvbGF0aW9ucy5wdXNoKGUpfSxlLnByb3RvdHlwZS5yZWZlcmVuY2U9ZnVuY3Rpb24oZSl7LTE9PT10aGlzLnJlZmVyZW5jZVBhdGhzLmluZGV4T2YoZSkmJih0aGlzLnJlZmVyZW5jZWQ9ITAsdGhpcy5yZWZlcmVuY2VzKyssdGhpcy5yZWZlcmVuY2VQYXRocy5wdXNoKGUpKX0sZS5wcm90b3R5cGUuZGVyZWZlcmVuY2U9ZnVuY3Rpb24oKXt0aGlzLnJlZmVyZW5jZXMtLSx0aGlzLnJlZmVyZW5jZWQ9ISF0aGlzLnJlZmVyZW5jZXN9LGV9KCk7dC5kZWZhdWx0PXMsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyKXtmb3IodmFyIG49W10uY29uY2F0KGUpLGk9KDAsYS5kZWZhdWx0KShudWxsKTtuLmxlbmd0aDspe3ZhciBzPW4uc2hpZnQoKTtpZihzKXt2YXIgbz11LmdldEJpbmRpbmdJZGVudGlmaWVycy5rZXlzW3MudHlwZV07aWYodS5pc0lkZW50aWZpZXIocykpaWYodCl7dmFyIGw9aVtzLm5hbWVdPWlbcy5uYW1lXXx8W107bC5wdXNoKHMpfWVsc2UgaVtzLm5hbWVdPXM7ZWxzZSBpZih1LmlzRXhwb3J0RGVjbGFyYXRpb24ocykpdS5pc0RlY2xhcmF0aW9uKHMuZGVjbGFyYXRpb24pJiZuLnB1c2gocy5kZWNsYXJhdGlvbik7ZWxzZXtpZihyKXtpZih1LmlzRnVuY3Rpb25EZWNsYXJhdGlvbihzKSl7bi5wdXNoKHMuaWQpO2NvbnRpbnVlfWlmKHUuaXNGdW5jdGlvbkV4cHJlc3Npb24ocykpY29udGludWV9aWYobylmb3IodmFyIGM9MDtjPG8ubGVuZ3RoO2MrKyl7dmFyIGY9b1tjXTtzW2ZdJiYobj1uLmNvbmNhdChzW2ZdKSl9fX19cmV0dXJuIGl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBuKGUsdCwhMCl9dC5fX2VzTW9kdWxlPSEwO3ZhciBzPXIoOSksYT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHMpO3QuZ2V0QmluZGluZ0lkZW50aWZpZXJzPW4sdC5nZXRPdXRlckJpbmRpbmdJZGVudGlmaWVycz1pO3ZhciBvPXIoMSksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG8pO24ua2V5cz17RGVjbGFyZUNsYXNzOlsiaWQiXSxEZWNsYXJlRnVuY3Rpb246WyJpZCJdLERlY2xhcmVNb2R1bGU6WyJpZCJdLERlY2xhcmVWYXJpYWJsZTpbImlkIl0sSW50ZXJmYWNlRGVjbGFyYXRpb246WyJpZCJdLFR5cGVBbGlhczpbImlkIl0sT3BhcXVlVHlwZTpbImlkIl0sQ2F0Y2hDbGF1c2U6WyJwYXJhbSJdLExhYmVsZWRTdGF0ZW1lbnQ6WyJsYWJlbCJdLFVuYXJ5RXhwcmVzc2lvbjpbImFyZ3VtZW50Il0sQXNzaWdubWVudEV4cHJlc3Npb246WyJsZWZ0Il0sSW1wb3J0U3BlY2lmaWVyOlsibG9jYWwiXSxJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXI6WyJsb2NhbCJdLEltcG9ydERlZmF1bHRTcGVjaWZpZXI6WyJsb2NhbCJdLEltcG9ydERlY2xhcmF0aW9uOlsic3BlY2lmaWVycyJdLEV4cG9ydFNwZWNpZmllcjpbImV4cG9ydGVkIl0sRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyOlsiZXhwb3J0ZWQiXSxFeHBvcnREZWZhdWx0U3BlY2lmaWVyOlsiZXhwb3J0ZWQiXSxGdW5jdGlvbkRlY2xhcmF0aW9uOlsiaWQiLCJwYXJhbXMiXSxGdW5jdGlvbkV4cHJlc3Npb246WyJpZCIsInBhcmFtcyJdLENsYXNzRGVjbGFyYXRpb246WyJpZCJdLENsYXNzRXhwcmVzc2lvbjpbImlkIl0sUmVzdEVsZW1lbnQ6WyJhcmd1bWVudCJdLFVwZGF0ZUV4cHJlc3Npb246WyJhcmd1bWVudCJdLFJlc3RQcm9wZXJ0eTpbImFyZ3VtZW50Il0sT2JqZWN0UHJvcGVydHk6WyJ2YWx1ZSJdLEFzc2lnbm1lbnRQYXR0ZXJuOlsibGVmdCJdLEFycmF5UGF0dGVybjpbImVsZW1lbnRzIl0sT2JqZWN0UGF0dGVybjpbInByb3BlcnRpZXMiXSxWYXJpYWJsZURlY2xhcmF0aW9uOlsiZGVjbGFyYXRpb25zIl0sVmFyaWFibGVEZWNsYXJhdG9yOlsiaWQiXX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzOCksaT1yKDEzKSgidG9TdHJpbmdUYWciKSxzPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixvO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9YSh0PU9iamVjdChlKSxpKSk/cjpzP24odCk6Ik9iamVjdCI9PShvPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6b319LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNDYpLGk9cig1NykuZ2V0V2VhayxzPXIoMjEpLGE9cigxNiksbz1yKDEzNiksdT1yKDU1KSxsPXIoMTM3KSxjPXIoMjgpLGY9cig1OCkscD1sKDUpLGQ9bCg2KSxoPTAsbT1mdW5jdGlvbihlKXtyZXR1cm4gZS5fbHx8KGUuX2w9bmV3IHkpfSx5PWZ1bmN0aW9uKCl7dGhpcy5hPVtdfSx2PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHAoZS5hLGZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPT09dH0pfTt5LnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXYodGhpcyxlKTtpZih0KXJldHVybiB0WzFdfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF2KHRoaXMsZSl9LHNldDpmdW5jdGlvbihlLHQpe3ZhciByPXYodGhpcyxlKTtyP3JbMV09dDp0aGlzLmEucHVzaChbZSx0XSl9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdD1kKHRoaXMuYSxmdW5jdGlvbih0KXtyZXR1cm4gdFswXT09PWV9KTtyZXR1cm5+dCYmdGhpcy5hLnNwbGljZSh0LDEpLCEhfnR9fSxlLmV4cG9ydHM9e2dldENvbnN0cnVjdG9yOmZ1bmN0aW9uKGUsdCxyLHMpe3ZhciBsPWUoZnVuY3Rpb24oZSxuKXtvKGUsbCx0LCJfaSIpLGUuX3Q9dCxlLl9pPWgrKyxlLl9sPXZvaWQgMCx2b2lkIDAhPW4mJnUobixyLGVbc10sZSl9KTtyZXR1cm4gbihsLnByb3RvdHlwZSx7ZGVsZXRlOmZ1bmN0aW9uKGUpe2lmKCFhKGUpKXJldHVybiExO3ZhciByPWkoZSk7cmV0dXJuITA9PT1yP20oZih0aGlzLHQpKS5kZWxldGUoZSk6ciYmYyhyLHRoaXMuX2kpJiZkZWxldGUgclt0aGlzLl9pXX0saGFzOmZ1bmN0aW9uKGUpe2lmKCFhKGUpKXJldHVybiExO3ZhciByPWkoZSk7cmV0dXJuITA9PT1yP20oZih0aGlzLHQpKS5oYXMoZSk6ciYmYyhyLHRoaXMuX2kpfX0pLGx9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG49aShzKHQpLCEwKTtyZXR1cm4hMD09PW4/bShlKS5zZXQodCxyKTpuW2UuX2ldPXIsZX0sdWZzdG9yZTptfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE2KSxpPXIoMTUpLmRvY3VtZW50LHM9bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz0hcigyMikmJiFyKDI3KShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkocigyMzApKCJkaXYiKSwiYSIse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pLmF9KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEzOCk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDQpLGk9cigxNDUpLHM9cig5MSksYT1yKDk0KSxvPXIoMTQyKSx1PU9iamVjdC5hc3NpZ247ZS5leHBvcnRzPSF1fHxyKDI3KShmdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj1TeW1ib2woKSxuPSJhYmNkZWZnaGlqa2xtbm9wcXJzdCI7cmV0dXJuIGVbcl09NyxuLnNwbGl0KCIiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3RbZV09ZX0pLDchPXUoe30sZSlbcl18fE9iamVjdC5rZXlzKHUoe30sdCkpLmpvaW4oIiIpIT1ufSk/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9YShlKSx1PWFyZ3VtZW50cy5sZW5ndGgsbD0xLGM9aS5mLGY9cy5mO3U+bDspZm9yKHZhciBwLGQ9byhhcmd1bWVudHNbbCsrXSksaD1jP24oZCkuY29uY2F0KGMoZCkpOm4oZCksbT1oLmxlbmd0aCx5PTA7bT55OylmLmNhbGwoZCxwPWhbeSsrXSkmJihyW3BdPWRbcF0pO3JldHVybiByfTp1fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOTEpLGk9cig5Mikscz1yKDM3KSxhPXIoMTU0KSxvPXIoMjgpLHU9cigyMzEpLGw9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cigyMik/bDpmdW5jdGlvbihlLHQpe2lmKGU9cyhlKSx0PWEodCwhMCksdSl0cnl7cmV0dXJuIGwoZSx0KX1jYXRjaChlKXt9aWYobyhlLHQpKXJldHVybiBpKCFuLmYuY2FsbChlLHQpLGVbdF0pfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIzNyksaT1yKDE0MSkuY29uY2F0KCJsZW5ndGgiLCJwcm90b3R5cGUiKTt0LmY9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjgpLGk9cigzNykscz1yKDQyMCkoITEpLGE9cigxNTApKCJJRV9QUk9UTyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG89aShlKSx1PTAsbD1bXTtmb3IociBpbiBvKXIhPWEmJm4obyxyKSYmbC5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihvLHI9dFt1KytdKSYmKH5zKGwscil8fGwucHVzaChyKSk7cmV0dXJuIGx9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjI4KSxpPXIoMTMpKCJpdGVyYXRvciIpLHM9cig1Nik7ZS5leHBvcnRzPXIoNSkuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT1lKXJldHVybiBlW2ldfHxlWyJAQGl0ZXJhdG9yIl18fHNbbihlKV19fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKCl7cmV0dXJuISgidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5wcm9jZXNzfHwicmVuZGVyZXIiIT09d2luZG93LnByb2Nlc3MudHlwZSl8fCgidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2V8fCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuY29uc29sZSYmKHdpbmRvdy5jb25zb2xlLmZpcmVidWd8fHdpbmRvdy5jb25zb2xlLmV4Y2VwdGlvbiYmd2luZG93LmNvbnNvbGUudGFibGUpfHwidW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XC8oXGQrKS8pJiZwYXJzZUludChSZWdFeHAuJDEsMTApPj0zMXx8InVuZGVmaW5lZCIhPXR5cGVvZiBuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcLyhcZCspLykpfWZ1bmN0aW9uIHMoZSl7dmFyIHI9dGhpcy51c2VDb2xvcnM7aWYoZVswXT0ocj8iJWMiOiIiKSt0aGlzLm5hbWVzcGFjZSsocj8iICVjIjoiICIpK2VbMF0rKHI/IiVjICI6IiAiKSsiKyIrdC5odW1hbml6ZSh0aGlzLmRpZmYpLHIpe3ZhciBuPSJjb2xvcjogIit0aGlzLmNvbG9yO2Uuc3BsaWNlKDEsMCxuLCJjb2xvcjogaW5oZXJpdCIpO3ZhciBpPTAscz0wO2VbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLGZ1bmN0aW9uKGUpeyIlJSIhPT1lJiYoaSsrLCIlYyI9PT1lJiYocz1pKSl9KSxlLnNwbGljZShzLDAsbil9fWZ1bmN0aW9uIGEoKXtyZXR1cm4ib2JqZWN0Ij09PSgidW5kZWZpbmVkIj09dHlwZW9mIGNvbnNvbGU/InVuZGVmaW5lZCI6bChjb25zb2xlKSkmJmNvbnNvbGUubG9nJiZGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlLmxvZyxjb25zb2xlLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbyhlKXt0cnl7bnVsbD09ZT90LnN0b3JhZ2UucmVtb3ZlSXRlbSgiZGVidWciKTp0LnN0b3JhZ2UuZGVidWc9ZX1jYXRjaChlKXt9fWZ1bmN0aW9uIHUoKXt2YXIgZTt0cnl7ZT10LnN0b3JhZ2UuZGVidWd9Y2F0Y2goZSl7fXJldHVybiFlJiZ2b2lkIDAhPT1uJiYiZW52ImluIG4mJihlPW4uZW52LkRFQlVHKSxlfXZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTt0PWUuZXhwb3J0cz1yKDQ1OCksdC5sb2c9YSx0LmZvcm1hdEFyZ3M9cyx0LnNhdmU9byx0LmxvYWQ9dSx0LnVzZUNvbG9ycz1pLHQuc3RvcmFnZT0idW5kZWZpbmVkIiE9dHlwZW9mIGNocm9tZSYmdm9pZCAwIT09Y2hyb21lLnN0b3JhZ2U/Y2hyb21lLnN0b3JhZ2UubG9jYWw6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2V9Y2F0Y2goZSl7fX0oKSx0LmNvbG9ycz1bImxpZ2h0c2VhZ3JlZW4iLCJmb3Jlc3RncmVlbiIsImdvbGRlbnJvZCIsImRvZGdlcmJsdWUiLCJkYXJrb3JjaGlkIiwiY3JpbXNvbiJdLHQuZm9ybWF0dGVycy5qPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSl9Y2F0Y2goZSl7cmV0dXJuIltVbmV4cGVjdGVkSlNPTlBhcnNlRXJyb3JdOiAiK2UubWVzc2FnZX19LHQuZW5hYmxlKHUoKSl9KS5jYWxsKHQscig4KSl9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIDQ4PD1lJiZlPD01N31mdW5jdGlvbiByKGUpe3JldHVybiA0ODw9ZSYmZTw9NTd8fDk3PD1lJiZlPD0xMDJ8fDY1PD1lJiZlPD03MH1mdW5jdGlvbiBuKGUpe3JldHVybiBlPj00OCYmZTw9NTV9ZnVuY3Rpb24gaShlKXtyZXR1cm4gMzI9PT1lfHw5PT09ZXx8MTE9PT1lfHwxMj09PWV8fDE2MD09PWV8fGU+PTU3NjAmJmQuaW5kZXhPZihlKT49MH1mdW5jdGlvbiBzKGUpe3JldHVybiAxMD09PWV8fDEzPT09ZXx8ODIzMj09PWV8fDgyMzM9PT1lfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGU8PTY1NTM1P1N0cmluZy5mcm9tQ2hhckNvZGUoZSk6U3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLmZsb29yKChlLTY1NTM2KS8xMDI0KSs1NTI5NikrU3RyaW5nLmZyb21DaGFyQ29kZSgoZS02NTUzNiklMTAyNCs1NjMyMCl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZTwxMjg/aFtlXTpwLk5vbkFzY2lpSWRlbnRpZmllclN0YXJ0LnRlc3QoYShlKSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZTwxMjg/bVtlXTpwLk5vbkFzY2lpSWRlbnRpZmllclBhcnQudGVzdChhKGUpKX1mdW5jdGlvbiBsKGUpe3JldHVybiBlPDEyOD9oW2VdOmYuTm9uQXNjaWlJZGVudGlmaWVyU3RhcnQudGVzdChhKGUpKX1mdW5jdGlvbiBjKGUpe3JldHVybiBlPDEyOD9tW2VdOmYuTm9uQXNjaWlJZGVudGlmaWVyUGFydC50ZXN0KGEoZSkpfXZhciBmLHAsZCxoLG0seTtmb3IocD17Tm9uQXNjaWlJZGVudGlmaWVyU3RhcnQ6L1tceEFBXHhCNVx4QkFceEMwLVx4RDZceEQ4LVx4RjZceEY4LVx1MDJDMVx1MDJDNi1cdTAyRDFcdTAyRTAtXHUwMkU0XHUwMkVDXHUwMkVFXHUwMzcwLVx1MDM3NFx1MDM3Nlx1MDM3N1x1MDM3QS1cdTAzN0RcdTAzN0ZcdTAzODZcdTAzODgtXHUwMzhBXHUwMzhDXHUwMzhFLVx1MDNBMVx1MDNBMy1cdTAzRjVcdTAzRjctXHUwNDgxXHUwNDhBLVx1MDUyRlx1MDUzMS1cdTA1NTZcdTA1NTlcdTA1NjEtXHUwNTg3XHUwNUQwLVx1MDVFQVx1MDVGMC1cdTA1RjJcdTA2MjAtXHUwNjRBXHUwNjZFXHUwNjZGXHUwNjcxLVx1MDZEM1x1MDZENVx1MDZFNVx1MDZFNlx1MDZFRVx1MDZFRlx1MDZGQS1cdTA2RkNcdTA2RkZcdTA3MTBcdTA3MTItXHUwNzJGXHUwNzRELVx1MDdBNVx1MDdCMVx1MDdDQS1cdTA3RUFcdTA3RjRcdTA3RjVcdTA3RkFcdTA4MDAtXHUwODE1XHUwODFBXHUwODI0XHUwODI4XHUwODQwLVx1MDg1OFx1MDhBMC1cdTA4QjJcdTA5MDQtXHUwOTM5XHUwOTNEXHUwOTUwXHUwOTU4LVx1MDk2MVx1MDk3MS1cdTA5ODBcdTA5ODUtXHUwOThDXHUwOThGXHUwOTkwXHUwOTkzLVx1MDlBOFx1MDlBQS1cdTA5QjBcdTA5QjJcdTA5QjYtXHUwOUI5XHUwOUJEXHUwOUNFXHUwOURDXHUwOUREXHUwOURGLVx1MDlFMVx1MDlGMFx1MDlGMVx1MEEwNS1cdTBBMEFcdTBBMEZcdTBBMTBcdTBBMTMtXHUwQTI4XHUwQTJBLVx1MEEzMFx1MEEzMlx1MEEzM1x1MEEzNVx1MEEzNlx1MEEzOFx1MEEzOVx1MEE1OS1cdTBBNUNcdTBBNUVcdTBBNzItXHUwQTc0XHUwQTg1LVx1MEE4RFx1MEE4Ri1cdTBBOTFcdTBBOTMtXHUwQUE4XHUwQUFBLVx1MEFCMFx1MEFCMlx1MEFCM1x1MEFCNS1cdTBBQjlcdTBBQkRcdTBBRDBcdTBBRTBcdTBBRTFcdTBCMDUtXHUwQjBDXHUwQjBGXHUwQjEwXHUwQjEzLVx1MEIyOFx1MEIyQS1cdTBCMzBcdTBCMzJcdTBCMzNcdTBCMzUtXHUwQjM5XHUwQjNEXHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2MVx1MEI3MVx1MEI4M1x1MEI4NS1cdTBCOEFcdTBCOEUtXHUwQjkwXHUwQjkyLVx1MEI5NVx1MEI5OVx1MEI5QVx1MEI5Q1x1MEI5RVx1MEI5Rlx1MEJBM1x1MEJBNFx1MEJBOC1cdTBCQUFcdTBCQUUtXHUwQkI5XHUwQkQwXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRFx1MEM1OFx1MEM1OVx1MEM2MFx1MEM2MVx1MEM4NS1cdTBDOENcdTBDOEUtXHUwQzkwXHUwQzkyLVx1MENBOFx1MENBQS1cdTBDQjNcdTBDQjUtXHUwQ0I5XHUwQ0JEXHUwQ0RFXHUwQ0UwXHUwQ0UxXHUwQ0YxXHUwQ0YyXHUwRDA1LVx1MEQwQ1x1MEQwRS1cdTBEMTBcdTBEMTItXHUwRDNBXHUwRDNEXHUwRDRFXHUwRDYwXHUwRDYxXHUwRDdBLVx1MEQ3Rlx1MEQ4NS1cdTBEOTZcdTBEOUEtXHUwREIxXHUwREIzLVx1MERCQlx1MERCRFx1MERDMC1cdTBEQzZcdTBFMDEtXHUwRTMwXHUwRTMyXHUwRTMzXHUwRTQwLVx1MEU0Nlx1MEU4MVx1MEU4Mlx1MEU4NFx1MEU4N1x1MEU4OFx1MEU4QVx1MEU4RFx1MEU5NC1cdTBFOTdcdTBFOTktXHUwRTlGXHUwRUExLVx1MEVBM1x1MEVBNVx1MEVBN1x1MEVBQVx1MEVBQlx1MEVBRC1cdTBFQjBcdTBFQjJcdTBFQjNcdTBFQkRcdTBFQzAtXHUwRUM0XHUwRUM2XHUwRURDLVx1MEVERlx1MEYwMFx1MEY0MC1cdTBGNDdcdTBGNDktXHUwRjZDXHUwRjg4LVx1MEY4Q1x1MTAwMC1cdTEwMkFcdTEwM0ZcdTEwNTAtXHUxMDU1XHUxMDVBLVx1MTA1RFx1MTA2MVx1MTA2NVx1MTA2Nlx1MTA2RS1cdTEwNzBcdTEwNzUtXHUxMDgxXHUxMDhFXHUxMEEwLVx1MTBDNVx1MTBDN1x1MTBDRFx1MTBEMC1cdTEwRkFcdTEwRkMtXHUxMjQ4XHUxMjRBLVx1MTI0RFx1MTI1MC1cdTEyNTZcdTEyNThcdTEyNUEtXHUxMjVEXHUxMjYwLVx1MTI4OFx1MTI4QS1cdTEyOERcdTEyOTAtXHUxMkIwXHUxMkIyLVx1MTJCNVx1MTJCOC1cdTEyQkVcdTEyQzBcdTEyQzItXHUxMkM1XHUxMkM4LVx1MTJENlx1MTJEOC1cdTEzMTBcdTEzMTItXHUxMzE1XHUxMzE4LVx1MTM1QVx1MTM4MC1cdTEzOEZcdTEzQTAtXHUxM0Y0XHUxNDAxLVx1MTY2Q1x1MTY2Ri1cdTE2N0ZcdTE2ODEtXHUxNjlBXHUxNkEwLVx1MTZFQVx1MTZFRS1cdTE2RjhcdTE3MDAtXHUxNzBDXHUxNzBFLVx1MTcxMVx1MTcyMC1cdTE3MzFcdTE3NDAtXHUxNzUxXHUxNzYwLVx1MTc2Q1x1MTc2RS1cdTE3NzBcdTE3ODAtXHUxN0IzXHUxN0Q3XHUxN0RDXHUxODIwLVx1MTg3N1x1MTg4MC1cdTE4QThcdTE4QUFcdTE4QjAtXHUxOEY1XHUxOTAwLVx1MTkxRVx1MTk1MC1cdTE5NkRcdTE5NzAtXHUxOTc0XHUxOTgwLVx1MTlBQlx1MTlDMS1cdTE5QzdcdTFBMDAtXHUxQTE2XHUxQTIwLVx1MUE1NFx1MUFBN1x1MUIwNS1cdTFCMzNcdTFCNDUtXHUxQjRCXHUxQjgzLVx1MUJBMFx1MUJBRVx1MUJBRlx1MUJCQS1cdTFCRTVcdTFDMDAtXHUxQzIzXHUxQzRELVx1MUM0Rlx1MUM1QS1cdTFDN0RcdTFDRTktXHUxQ0VDXHUxQ0VFLVx1MUNGMVx1MUNGNVx1MUNGNlx1MUQwMC1cdTFEQkZcdTFFMDAtXHUxRjE1XHUxRjE4LVx1MUYxRFx1MUYyMC1cdTFGNDVcdTFGNDgtXHUxRjREXHUxRjUwLVx1MUY1N1x1MUY1OVx1MUY1Qlx1MUY1RFx1MUY1Ri1cdTFGN0RcdTFGODAtXHUxRkI0XHUxRkI2LVx1MUZCQ1x1MUZCRVx1MUZDMi1cdTFGQzRcdTFGQzYtXHUxRkNDXHUxRkQwLVx1MUZEM1x1MUZENi1cdTFGREJcdTFGRTAtXHUxRkVDXHUxRkYyLVx1MUZGNFx1MUZGNi1cdTFGRkNcdTIwNzFcdTIwN0ZcdTIwOTAtXHUyMDlDXHUyMTAyXHUyMTA3XHUyMTBBLVx1MjExM1x1MjExNVx1MjExOS1cdTIxMURcdTIxMjRcdTIxMjZcdTIxMjhcdTIxMkEtXHUyMTJEXHUyMTJGLVx1MjEzOVx1MjEzQy1cdTIxM0ZcdTIxNDUtXHUyMTQ5XHUyMTRFXHUyMTYwLVx1MjE4OFx1MkMwMC1cdTJDMkVcdTJDMzAtXHUyQzVFXHUyQzYwLVx1MkNFNFx1MkNFQi1cdTJDRUVcdTJDRjJcdTJDRjNcdTJEMDAtXHUyRDI1XHUyRDI3XHUyRDJEXHUyRDMwLVx1MkQ2N1x1MkQ2Rlx1MkQ4MC1cdTJEOTZcdTJEQTAtXHUyREE2XHUyREE4LVx1MkRBRVx1MkRCMC1cdTJEQjZcdTJEQjgtXHUyREJFXHUyREMwLVx1MkRDNlx1MkRDOC1cdTJEQ0VcdTJERDAtXHUyREQ2XHUyREQ4LVx1MkRERVx1MkUyRlx1MzAwNS1cdTMwMDdcdTMwMjEtXHUzMDI5XHUzMDMxLVx1MzAzNVx1MzAzOC1cdTMwM0NcdTMwNDEtXHUzMDk2XHUzMDlELVx1MzA5Rlx1MzBBMS1cdTMwRkFcdTMwRkMtXHUzMEZGXHUzMTA1LVx1MzEyRFx1MzEzMS1cdTMxOEVcdTMxQTAtXHUzMUJBXHUzMUYwLVx1MzFGRlx1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkNDXHVBMDAwLVx1QTQ4Q1x1QTREMC1cdUE0RkRcdUE1MDAtXHVBNjBDXHVBNjEwLVx1QTYxRlx1QTYyQVx1QTYyQlx1QTY0MC1cdUE2NkVcdUE2N0YtXHVBNjlEXHVBNkEwLVx1QTZFRlx1QTcxNy1cdUE3MUZcdUE3MjItXHVBNzg4XHVBNzhCLVx1QTc4RVx1QTc5MC1cdUE3QURcdUE3QjBcdUE3QjFcdUE3RjctXHVBODAxXHVBODAzLVx1QTgwNVx1QTgwNy1cdUE4MEFcdUE4MEMtXHVBODIyXHVBODQwLVx1QTg3M1x1QTg4Mi1cdUE4QjNcdUE4RjItXHVBOEY3XHVBOEZCXHVBOTBBLVx1QTkyNVx1QTkzMC1cdUE5NDZcdUE5NjAtXHVBOTdDXHVBOTg0LVx1QTlCMlx1QTlDRlx1QTlFMC1cdUE5RTRcdUE5RTYtXHVBOUVGXHVBOUZBLVx1QTlGRVx1QUEwMC1cdUFBMjhcdUFBNDAtXHVBQTQyXHVBQTQ0LVx1QUE0Qlx1QUE2MC1cdUFBNzZcdUFBN0FcdUFBN0UtXHVBQUFGXHVBQUIxXHVBQUI1XHVBQUI2XHVBQUI5LVx1QUFCRFx1QUFDMFx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVBXHVBQUYyLVx1QUFGNFx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNUZcdUFCNjRcdUFCNjVcdUFCQzAtXHVBQkUyXHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRFx1RkIxRi1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMjEtXHVGRjNBXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDXS8sTm9uQXNjaWlJZGVudGlmaWVyUGFydDovW1x4QUFceEI1XHhCQVx4QzAtXHhENlx4RDgtXHhGNlx4RjgtXHUwMkMxXHUwMkM2LVx1MDJEMVx1MDJFMC1cdTAyRTRcdTAyRUNcdTAyRUVcdTAzMDAtXHUwMzc0XHUwMzc2XHUwMzc3XHUwMzdBLVx1MDM3RFx1MDM3Rlx1MDM4Nlx1MDM4OC1cdTAzOEFcdTAzOENcdTAzOEUtXHUwM0ExXHUwM0EzLVx1MDNGNVx1MDNGNy1cdTA0ODFcdTA0ODMtXHUwNDg3XHUwNDhBLVx1MDUyRlx1MDUzMS1cdTA1NTZcdTA1NTlcdTA1NjEtXHUwNTg3XHUwNTkxLVx1MDVCRFx1MDVCRlx1MDVDMVx1MDVDMlx1MDVDNFx1MDVDNVx1MDVDN1x1MDVEMC1cdTA1RUFcdTA1RjAtXHUwNUYyXHUwNjEwLVx1MDYxQVx1MDYyMC1cdTA2NjlcdTA2NkUtXHUwNkQzXHUwNkQ1LVx1MDZEQ1x1MDZERi1cdTA2RThcdTA2RUEtXHUwNkZDXHUwNkZGXHUwNzEwLVx1MDc0QVx1MDc0RC1cdTA3QjFcdTA3QzAtXHUwN0Y1XHUwN0ZBXHUwODAwLVx1MDgyRFx1MDg0MC1cdTA4NUJcdTA4QTAtXHUwOEIyXHUwOEU0LVx1MDk2M1x1MDk2Ni1cdTA5NkZcdTA5NzEtXHUwOTgzXHUwOTg1LVx1MDk4Q1x1MDk4Rlx1MDk5MFx1MDk5My1cdTA5QThcdTA5QUEtXHUwOUIwXHUwOUIyXHUwOUI2LVx1MDlCOVx1MDlCQy1cdTA5QzRcdTA5QzdcdTA5QzhcdTA5Q0ItXHUwOUNFXHUwOUQ3XHUwOURDXHUwOUREXHUwOURGLVx1MDlFM1x1MDlFNi1cdTA5RjFcdTBBMDEtXHUwQTAzXHUwQTA1LVx1MEEwQVx1MEEwRlx1MEExMFx1MEExMy1cdTBBMjhcdTBBMkEtXHUwQTMwXHUwQTMyXHUwQTMzXHUwQTM1XHUwQTM2XHUwQTM4XHUwQTM5XHUwQTNDXHUwQTNFLVx1MEE0Mlx1MEE0N1x1MEE0OFx1MEE0Qi1cdTBBNERcdTBBNTFcdTBBNTktXHUwQTVDXHUwQTVFXHUwQTY2LVx1MEE3NVx1MEE4MS1cdTBBODNcdTBBODUtXHUwQThEXHUwQThGLVx1MEE5MVx1MEE5My1cdTBBQThcdTBBQUEtXHUwQUIwXHUwQUIyXHUwQUIzXHUwQUI1LVx1MEFCOVx1MEFCQy1cdTBBQzVcdTBBQzctXHUwQUM5XHUwQUNCLVx1MEFDRFx1MEFEMFx1MEFFMC1cdTBBRTNcdTBBRTYtXHUwQUVGXHUwQjAxLVx1MEIwM1x1MEIwNS1cdTBCMENcdTBCMEZcdTBCMTBcdTBCMTMtXHUwQjI4XHUwQjJBLVx1MEIzMFx1MEIzMlx1MEIzM1x1MEIzNS1cdTBCMzlcdTBCM0MtXHUwQjQ0XHUwQjQ3XHUwQjQ4XHUwQjRCLVx1MEI0RFx1MEI1Nlx1MEI1N1x1MEI1Q1x1MEI1RFx1MEI1Ri1cdTBCNjNcdTBCNjYtXHUwQjZGXHUwQjcxXHUwQjgyXHUwQjgzXHUwQjg1LVx1MEI4QVx1MEI4RS1cdTBCOTBcdTBCOTItXHUwQjk1XHUwQjk5XHUwQjlBXHUwQjlDXHUwQjlFXHUwQjlGXHUwQkEzXHUwQkE0XHUwQkE4LVx1MEJBQVx1MEJBRS1cdTBCQjlcdTBCQkUtXHUwQkMyXHUwQkM2LVx1MEJDOFx1MEJDQS1cdTBCQ0RcdTBCRDBcdTBCRDdcdTBCRTYtXHUwQkVGXHUwQzAwLVx1MEMwM1x1MEMwNS1cdTBDMENcdTBDMEUtXHUwQzEwXHUwQzEyLVx1MEMyOFx1MEMyQS1cdTBDMzlcdTBDM0QtXHUwQzQ0XHUwQzQ2LVx1MEM0OFx1MEM0QS1cdTBDNERcdTBDNTVcdTBDNTZcdTBDNThcdTBDNTlcdTBDNjAtXHUwQzYzXHUwQzY2LVx1MEM2Rlx1MEM4MS1cdTBDODNcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCQy1cdTBDQzRcdTBDQzYtXHUwQ0M4XHUwQ0NBLVx1MENDRFx1MENENVx1MENENlx1MENERVx1MENFMC1cdTBDRTNcdTBDRTYtXHUwQ0VGXHUwQ0YxXHUwQ0YyXHUwRDAxLVx1MEQwM1x1MEQwNS1cdTBEMENcdTBEMEUtXHUwRDEwXHUwRDEyLVx1MEQzQVx1MEQzRC1cdTBENDRcdTBENDYtXHUwRDQ4XHUwRDRBLVx1MEQ0RVx1MEQ1N1x1MEQ2MC1cdTBENjNcdTBENjYtXHUwRDZGXHUwRDdBLVx1MEQ3Rlx1MEQ4Mlx1MEQ4M1x1MEQ4NS1cdTBEOTZcdTBEOUEtXHUwREIxXHUwREIzLVx1MERCQlx1MERCRFx1MERDMC1cdTBEQzZcdTBEQ0FcdTBEQ0YtXHUwREQ0XHUwREQ2XHUwREQ4LVx1MERERlx1MERFNi1cdTBERUZcdTBERjJcdTBERjNcdTBFMDEtXHUwRTNBXHUwRTQwLVx1MEU0RVx1MEU1MC1cdTBFNTlcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUI5XHUwRUJCLVx1MEVCRFx1MEVDMC1cdTBFQzRcdTBFQzZcdTBFQzgtXHUwRUNEXHUwRUQwLVx1MEVEOVx1MEVEQy1cdTBFREZcdTBGMDBcdTBGMThcdTBGMTlcdTBGMjAtXHUwRjI5XHUwRjM1XHUwRjM3XHUwRjM5XHUwRjNFLVx1MEY0N1x1MEY0OS1cdTBGNkNcdTBGNzEtXHUwRjg0XHUwRjg2LVx1MEY5N1x1MEY5OS1cdTBGQkNcdTBGQzZcdTEwMDAtXHUxMDQ5XHUxMDUwLVx1MTA5RFx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzNUQtXHUxMzVGXHUxMzgwLVx1MTM4Rlx1MTNBMC1cdTEzRjRcdTE0MDEtXHUxNjZDXHUxNjZGLVx1MTY3Rlx1MTY4MS1cdTE2OUFcdTE2QTAtXHUxNkVBXHUxNkVFLVx1MTZGOFx1MTcwMC1cdTE3MENcdTE3MEUtXHUxNzE0XHUxNzIwLVx1MTczNFx1MTc0MC1cdTE3NTNcdTE3NjAtXHUxNzZDXHUxNzZFLVx1MTc3MFx1MTc3Mlx1MTc3M1x1MTc4MC1cdTE3RDNcdTE3RDdcdTE3RENcdTE3RERcdTE3RTAtXHUxN0U5XHUxODBCLVx1MTgwRFx1MTgxMC1cdTE4MTlcdTE4MjAtXHUxODc3XHUxODgwLVx1MThBQVx1MThCMC1cdTE4RjVcdTE5MDAtXHUxOTFFXHUxOTIwLVx1MTkyQlx1MTkzMC1cdTE5M0JcdTE5NDYtXHUxOTZEXHUxOTcwLVx1MTk3NFx1MTk4MC1cdTE5QUJcdTE5QjAtXHUxOUM5XHUxOUQwLVx1MTlEOVx1MUEwMC1cdTFBMUJcdTFBMjAtXHUxQTVFXHUxQTYwLVx1MUE3Q1x1MUE3Ri1cdTFBODlcdTFBOTAtXHUxQTk5XHUxQUE3XHUxQUIwLVx1MUFCRFx1MUIwMC1cdTFCNEJcdTFCNTAtXHUxQjU5XHUxQjZCLVx1MUI3M1x1MUI4MC1cdTFCRjNcdTFDMDAtXHUxQzM3XHUxQzQwLVx1MUM0OVx1MUM0RC1cdTFDN0RcdTFDRDAtXHUxQ0QyXHUxQ0Q0LVx1MUNGNlx1MUNGOFx1MUNGOVx1MUQwMC1cdTFERjVcdTFERkMtXHUxRjE1XHUxRjE4LVx1MUYxRFx1MUYyMC1cdTFGNDVcdTFGNDgtXHUxRjREXHUxRjUwLVx1MUY1N1x1MUY1OVx1MUY1Qlx1MUY1RFx1MUY1Ri1cdTFGN0RcdTFGODAtXHUxRkI0XHUxRkI2LVx1MUZCQ1x1MUZCRVx1MUZDMi1cdTFGQzRcdTFGQzYtXHUxRkNDXHUxRkQwLVx1MUZEM1x1MUZENi1cdTFGREJcdTFGRTAtXHUxRkVDXHUxRkYyLVx1MUZGNFx1MUZGNi1cdTFGRkNcdTIwMENcdTIwMERcdTIwM0ZcdTIwNDBcdTIwNTRcdTIwNzFcdTIwN0ZcdTIwOTAtXHUyMDlDXHUyMEQwLVx1MjBEQ1x1MjBFMVx1MjBFNS1cdTIwRjBcdTIxMDJcdTIxMDdcdTIxMEEtXHUyMTEzXHUyMTE1XHUyMTE5LVx1MjExRFx1MjEyNFx1MjEyNlx1MjEyOFx1MjEyQS1cdTIxMkRcdTIxMkYtXHUyMTM5XHUyMTNDLVx1MjEzRlx1MjE0NS1cdTIxNDlcdTIxNEVcdTIxNjAtXHUyMTg4XHUyQzAwLVx1MkMyRVx1MkMzMC1cdTJDNUVcdTJDNjAtXHUyQ0U0XHUyQ0VCLVx1MkNGM1x1MkQwMC1cdTJEMjVcdTJEMjdcdTJEMkRcdTJEMzAtXHUyRDY3XHUyRDZGXHUyRDdGLVx1MkQ5Nlx1MkRBMC1cdTJEQTZcdTJEQTgtXHUyREFFXHUyREIwLVx1MkRCNlx1MkRCOC1cdTJEQkVcdTJEQzAtXHUyREM2XHUyREM4LVx1MkRDRVx1MkREMC1cdTJERDZcdTJERDgtXHUyRERFXHUyREUwLVx1MkRGRlx1MkUyRlx1MzAwNS1cdTMwMDdcdTMwMjEtXHUzMDJGXHUzMDMxLVx1MzAzNVx1MzAzOC1cdTMwM0NcdTMwNDEtXHUzMDk2XHUzMDk5XHUzMDlBXHUzMDlELVx1MzA5Rlx1MzBBMS1cdTMwRkFcdTMwRkMtXHUzMEZGXHUzMTA1LVx1MzEyRFx1MzEzMS1cdTMxOEVcdTMxQTAtXHUzMUJBXHUzMUYwLVx1MzFGRlx1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkNDXHVBMDAwLVx1QTQ4Q1x1QTREMC1cdUE0RkRcdUE1MDAtXHVBNjBDXHVBNjEwLVx1QTYyQlx1QTY0MC1cdUE2NkZcdUE2NzQtXHVBNjdEXHVBNjdGLVx1QTY5RFx1QTY5Ri1cdUE2RjFcdUE3MTctXHVBNzFGXHVBNzIyLVx1QTc4OFx1QTc4Qi1cdUE3OEVcdUE3OTAtXHVBN0FEXHVBN0IwXHVBN0IxXHVBN0Y3LVx1QTgyN1x1QTg0MC1cdUE4NzNcdUE4ODAtXHVBOEM0XHVBOEQwLVx1QThEOVx1QThFMC1cdUE4RjdcdUE4RkJcdUE5MDAtXHVBOTJEXHVBOTMwLVx1QTk1M1x1QTk2MC1cdUE5N0NcdUE5ODAtXHVBOUMwXHVBOUNGLVx1QTlEOVx1QTlFMC1cdUE5RkVcdUFBMDAtXHVBQTM2XHVBQTQwLVx1QUE0RFx1QUE1MC1cdUFBNTlcdUFBNjAtXHVBQTc2XHVBQTdBLVx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVGXHVBQUYyLVx1QUFGNlx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNUZcdUFCNjRcdUFCNjVcdUFCQzAtXHVBQkVBXHVBQkVDXHVBQkVEXHVBQkYwLVx1QUJGOVx1QUMwMC1cdUQ3QTNcdUQ3QjAtXHVEN0M2XHVEN0NCLVx1RDdGQlx1RjkwMC1cdUZBNkRcdUZBNzAtXHVGQUQ5XHVGQjAwLVx1RkIwNlx1RkIxMy1cdUZCMTdcdUZCMUQtXHVGQjI4XHVGQjJBLVx1RkIzNlx1RkIzOC1cdUZCM0NcdUZCM0VcdUZCNDBcdUZCNDFcdUZCNDNcdUZCNDRcdUZCNDYtXHVGQkIxXHVGQkQzLVx1RkQzRFx1RkQ1MC1cdUZEOEZcdUZEOTItXHVGREM3XHVGREYwLVx1RkRGQlx1RkUwMC1cdUZFMEZcdUZFMjAtXHVGRTJEXHVGRTMzXHVGRTM0XHVGRTRELVx1RkU0Rlx1RkU3MC1cdUZFNzRcdUZFNzYtXHVGRUZDXHVGRjEwLVx1RkYxOVx1RkYyMS1cdUZGM0FcdUZGM0ZcdUZGNDEtXHVGRjVBXHVGRjY2LVx1RkZCRVx1RkZDMi1cdUZGQzdcdUZGQ0EtXHVGRkNGXHVGRkQyLVx1RkZEN1x1RkZEQS1cdUZGRENdL30sZj17Ck5vbkFzY2lpSWRlbnRpZmllclN0YXJ0Oi9bXHhBQVx4QjVceEJBXHhDMC1ceEQ2XHhEOC1ceEY2XHhGOC1cdTAyQzFcdTAyQzYtXHUwMkQxXHUwMkUwLVx1MDJFNFx1MDJFQ1x1MDJFRVx1MDM3MC1cdTAzNzRcdTAzNzZcdTAzNzdcdTAzN0EtXHUwMzdEXHUwMzdGXHUwMzg2XHUwMzg4LVx1MDM4QVx1MDM4Q1x1MDM4RS1cdTAzQTFcdTAzQTMtXHUwM0Y1XHUwM0Y3LVx1MDQ4MVx1MDQ4QS1cdTA1MkZcdTA1MzEtXHUwNTU2XHUwNTU5XHUwNTYxLVx1MDU4N1x1MDVEMC1cdTA1RUFcdTA1RjAtXHUwNUYyXHUwNjIwLVx1MDY0QVx1MDY2RVx1MDY2Rlx1MDY3MS1cdTA2RDNcdTA2RDVcdTA2RTVcdTA2RTZcdTA2RUVcdTA2RUZcdTA2RkEtXHUwNkZDXHUwNkZGXHUwNzEwXHUwNzEyLVx1MDcyRlx1MDc0RC1cdTA3QTVcdTA3QjFcdTA3Q0EtXHUwN0VBXHUwN0Y0XHUwN0Y1XHUwN0ZBXHUwODAwLVx1MDgxNVx1MDgxQVx1MDgyNFx1MDgyOFx1MDg0MC1cdTA4NThcdTA4QTAtXHUwOEIyXHUwOTA0LVx1MDkzOVx1MDkzRFx1MDk1MFx1MDk1OC1cdTA5NjFcdTA5NzEtXHUwOTgwXHUwOTg1LVx1MDk4Q1x1MDk4Rlx1MDk5MFx1MDk5My1cdTA5QThcdTA5QUEtXHUwOUIwXHUwOUIyXHUwOUI2LVx1MDlCOVx1MDlCRFx1MDlDRVx1MDlEQ1x1MDlERFx1MDlERi1cdTA5RTFcdTA5RjBcdTA5RjFcdTBBMDUtXHUwQTBBXHUwQTBGXHUwQTEwXHUwQTEzLVx1MEEyOFx1MEEyQS1cdTBBMzBcdTBBMzJcdTBBMzNcdTBBMzVcdTBBMzZcdTBBMzhcdTBBMzlcdTBBNTktXHUwQTVDXHUwQTVFXHUwQTcyLVx1MEE3NFx1MEE4NS1cdTBBOERcdTBBOEYtXHUwQTkxXHUwQTkzLVx1MEFBOFx1MEFBQS1cdTBBQjBcdTBBQjJcdTBBQjNcdTBBQjUtXHUwQUI5XHUwQUJEXHUwQUQwXHUwQUUwXHUwQUUxXHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzRFx1MEI1Q1x1MEI1RFx1MEI1Ri1cdTBCNjFcdTBCNzFcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJEMFx1MEMwNS1cdTBDMENcdTBDMEUtXHUwQzEwXHUwQzEyLVx1MEMyOFx1MEMyQS1cdTBDMzlcdTBDM0RcdTBDNThcdTBDNTlcdTBDNjBcdTBDNjFcdTBDODUtXHUwQzhDXHUwQzhFLVx1MEM5MFx1MEM5Mi1cdTBDQThcdTBDQUEtXHUwQ0IzXHUwQ0I1LVx1MENCOVx1MENCRFx1MENERVx1MENFMFx1MENFMVx1MENGMVx1MENGMlx1MEQwNS1cdTBEMENcdTBEMEUtXHUwRDEwXHUwRDEyLVx1MEQzQVx1MEQzRFx1MEQ0RVx1MEQ2MFx1MEQ2MVx1MEQ3QS1cdTBEN0ZcdTBEODUtXHUwRDk2XHUwRDlBLVx1MERCMVx1MERCMy1cdTBEQkJcdTBEQkRcdTBEQzAtXHUwREM2XHUwRTAxLVx1MEUzMFx1MEUzMlx1MEUzM1x1MEU0MC1cdTBFNDZcdTBFODFcdTBFODJcdTBFODRcdTBFODdcdTBFODhcdTBFOEFcdTBFOERcdTBFOTQtXHUwRTk3XHUwRTk5LVx1MEU5Rlx1MEVBMS1cdTBFQTNcdTBFQTVcdTBFQTdcdTBFQUFcdTBFQUJcdTBFQUQtXHUwRUIwXHUwRUIyXHUwRUIzXHUwRUJEXHUwRUMwLVx1MEVDNFx1MEVDNlx1MEVEQy1cdTBFREZcdTBGMDBcdTBGNDAtXHUwRjQ3XHUwRjQ5LVx1MEY2Q1x1MEY4OC1cdTBGOENcdTEwMDAtXHUxMDJBXHUxMDNGXHUxMDUwLVx1MTA1NVx1MTA1QS1cdTEwNURcdTEwNjFcdTEwNjVcdTEwNjZcdTEwNkUtXHUxMDcwXHUxMDc1LVx1MTA4MVx1MTA4RVx1MTBBMC1cdTEwQzVcdTEwQzdcdTEwQ0RcdTEwRDAtXHUxMEZBXHUxMEZDLVx1MTI0OFx1MTI0QS1cdTEyNERcdTEyNTAtXHUxMjU2XHUxMjU4XHUxMjVBLVx1MTI1RFx1MTI2MC1cdTEyODhcdTEyOEEtXHUxMjhEXHUxMjkwLVx1MTJCMFx1MTJCMi1cdTEyQjVcdTEyQjgtXHUxMkJFXHUxMkMwXHUxMkMyLVx1MTJDNVx1MTJDOC1cdTEyRDZcdTEyRDgtXHUxMzEwXHUxMzEyLVx1MTMxNVx1MTMxOC1cdTEzNUFcdTEzODAtXHUxMzhGXHUxM0EwLVx1MTNGNFx1MTQwMS1cdTE2NkNcdTE2NkYtXHUxNjdGXHUxNjgxLVx1MTY5QVx1MTZBMC1cdTE2RUFcdTE2RUUtXHUxNkY4XHUxNzAwLVx1MTcwQ1x1MTcwRS1cdTE3MTFcdTE3MjAtXHUxNzMxXHUxNzQwLVx1MTc1MVx1MTc2MC1cdTE3NkNcdTE3NkUtXHUxNzcwXHUxNzgwLVx1MTdCM1x1MTdEN1x1MTdEQ1x1MTgyMC1cdTE4NzdcdTE4ODAtXHUxOEE4XHUxOEFBXHUxOEIwLVx1MThGNVx1MTkwMC1cdTE5MUVcdTE5NTAtXHUxOTZEXHUxOTcwLVx1MTk3NFx1MTk4MC1cdTE5QUJcdTE5QzEtXHUxOUM3XHUxQTAwLVx1MUExNlx1MUEyMC1cdTFBNTRcdTFBQTdcdTFCMDUtXHUxQjMzXHUxQjQ1LVx1MUI0Qlx1MUI4My1cdTFCQTBcdTFCQUVcdTFCQUZcdTFCQkEtXHUxQkU1XHUxQzAwLVx1MUMyM1x1MUM0RC1cdTFDNEZcdTFDNUEtXHUxQzdEXHUxQ0U5LVx1MUNFQ1x1MUNFRS1cdTFDRjFcdTFDRjVcdTFDRjZcdTFEMDAtXHUxREJGXHUxRTAwLVx1MUYxNVx1MUYxOC1cdTFGMURcdTFGMjAtXHUxRjQ1XHUxRjQ4LVx1MUY0RFx1MUY1MC1cdTFGNTdcdTFGNTlcdTFGNUJcdTFGNURcdTFGNUYtXHUxRjdEXHUxRjgwLVx1MUZCNFx1MUZCNi1cdTFGQkNcdTFGQkVcdTFGQzItXHUxRkM0XHUxRkM2LVx1MUZDQ1x1MUZEMC1cdTFGRDNcdTFGRDYtXHUxRkRCXHUxRkUwLVx1MUZFQ1x1MUZGMi1cdTFGRjRcdTFGRjYtXHUxRkZDXHUyMDcxXHUyMDdGXHUyMDkwLVx1MjA5Q1x1MjEwMlx1MjEwN1x1MjEwQS1cdTIxMTNcdTIxMTVcdTIxMTgtXHUyMTFEXHUyMTI0XHUyMTI2XHUyMTI4XHUyMTJBLVx1MjEzOVx1MjEzQy1cdTIxM0ZcdTIxNDUtXHUyMTQ5XHUyMTRFXHUyMTYwLVx1MjE4OFx1MkMwMC1cdTJDMkVcdTJDMzAtXHUyQzVFXHUyQzYwLVx1MkNFNFx1MkNFQi1cdTJDRUVcdTJDRjJcdTJDRjNcdTJEMDAtXHUyRDI1XHUyRDI3XHUyRDJEXHUyRDMwLVx1MkQ2N1x1MkQ2Rlx1MkQ4MC1cdTJEOTZcdTJEQTAtXHUyREE2XHUyREE4LVx1MkRBRVx1MkRCMC1cdTJEQjZcdTJEQjgtXHUyREJFXHUyREMwLVx1MkRDNlx1MkRDOC1cdTJEQ0VcdTJERDAtXHUyREQ2XHUyREQ4LVx1MkRERVx1MzAwNS1cdTMwMDdcdTMwMjEtXHUzMDI5XHUzMDMxLVx1MzAzNVx1MzAzOC1cdTMwM0NcdTMwNDEtXHUzMDk2XHUzMDlCLVx1MzA5Rlx1MzBBMS1cdTMwRkFcdTMwRkMtXHUzMEZGXHUzMTA1LVx1MzEyRFx1MzEzMS1cdTMxOEVcdTMxQTAtXHUzMUJBXHUzMUYwLVx1MzFGRlx1MzQwMC1cdTREQjVcdTRFMDAtXHU5RkNDXHVBMDAwLVx1QTQ4Q1x1QTREMC1cdUE0RkRcdUE1MDAtXHVBNjBDXHVBNjEwLVx1QTYxRlx1QTYyQVx1QTYyQlx1QTY0MC1cdUE2NkVcdUE2N0YtXHVBNjlEXHVBNkEwLVx1QTZFRlx1QTcxNy1cdUE3MUZcdUE3MjItXHVBNzg4XHVBNzhCLVx1QTc4RVx1QTc5MC1cdUE3QURcdUE3QjBcdUE3QjFcdUE3RjctXHVBODAxXHVBODAzLVx1QTgwNVx1QTgwNy1cdUE4MEFcdUE4MEMtXHVBODIyXHVBODQwLVx1QTg3M1x1QTg4Mi1cdUE4QjNcdUE4RjItXHVBOEY3XHVBOEZCXHVBOTBBLVx1QTkyNVx1QTkzMC1cdUE5NDZcdUE5NjAtXHVBOTdDXHVBOTg0LVx1QTlCMlx1QTlDRlx1QTlFMC1cdUE5RTRcdUE5RTYtXHVBOUVGXHVBOUZBLVx1QTlGRVx1QUEwMC1cdUFBMjhcdUFBNDAtXHVBQTQyXHVBQTQ0LVx1QUE0Qlx1QUE2MC1cdUFBNzZcdUFBN0FcdUFBN0UtXHVBQUFGXHVBQUIxXHVBQUI1XHVBQUI2XHVBQUI5LVx1QUFCRFx1QUFDMFx1QUFDMlx1QUFEQi1cdUFBRERcdUFBRTAtXHVBQUVBXHVBQUYyLVx1QUFGNFx1QUIwMS1cdUFCMDZcdUFCMDktXHVBQjBFXHVBQjExLVx1QUIxNlx1QUIyMC1cdUFCMjZcdUFCMjgtXHVBQjJFXHVBQjMwLVx1QUI1QVx1QUI1Qy1cdUFCNUZcdUFCNjRcdUFCNjVcdUFCQzAtXHVBQkUyXHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRFx1RkIxRi1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMjEtXHVGRjNBXHVGRjQxLVx1RkY1QVx1RkY2Ni1cdUZGQkVcdUZGQzItXHVGRkM3XHVGRkNBLVx1RkZDRlx1RkZEMi1cdUZGRDdcdUZGREEtXHVGRkRDXXxcdUQ4MDBbXHVEQzAwLVx1REMwQlx1REMwRC1cdURDMjZcdURDMjgtXHVEQzNBXHVEQzNDXHVEQzNEXHVEQzNGLVx1REM0RFx1REM1MC1cdURDNURcdURDODAtXHVEQ0ZBXHVERDQwLVx1REQ3NFx1REU4MC1cdURFOUNcdURFQTAtXHVERUQwXHVERjAwLVx1REYxRlx1REYzMC1cdURGNEFcdURGNTAtXHVERjc1XHVERjgwLVx1REY5RFx1REZBMC1cdURGQzNcdURGQzgtXHVERkNGXHVERkQxLVx1REZENV18XHVEODAxW1x1REMwMC1cdURDOURcdUREMDAtXHVERDI3XHVERDMwLVx1REQ2M1x1REUwMC1cdURGMzZcdURGNDAtXHVERjU1XHVERjYwLVx1REY2N118XHVEODAyW1x1REMwMC1cdURDMDVcdURDMDhcdURDMEEtXHVEQzM1XHVEQzM3XHVEQzM4XHVEQzNDXHVEQzNGLVx1REM1NVx1REM2MC1cdURDNzZcdURDODAtXHVEQzlFXHVERDAwLVx1REQxNVx1REQyMC1cdUREMzlcdUREODAtXHVEREI3XHVEREJFXHVEREJGXHVERTAwXHVERTEwLVx1REUxM1x1REUxNS1cdURFMTdcdURFMTktXHVERTMzXHVERTYwLVx1REU3Q1x1REU4MC1cdURFOUNcdURFQzAtXHVERUM3XHVERUM5LVx1REVFNFx1REYwMC1cdURGMzVcdURGNDAtXHVERjU1XHVERjYwLVx1REY3Mlx1REY4MC1cdURGOTFdfFx1RDgwM1tcdURDMDAtXHVEQzQ4XXxcdUQ4MDRbXHVEQzAzLVx1REMzN1x1REM4My1cdURDQUZcdURDRDAtXHVEQ0U4XHVERDAzLVx1REQyNlx1REQ1MC1cdURENzJcdURENzZcdUREODMtXHVEREIyXHVEREMxLVx1RERDNFx1REREQVx1REUwMC1cdURFMTFcdURFMTMtXHVERTJCXHVERUIwLVx1REVERVx1REYwNS1cdURGMENcdURGMEZcdURGMTBcdURGMTMtXHVERjI4XHVERjJBLVx1REYzMFx1REYzMlx1REYzM1x1REYzNS1cdURGMzlcdURGM0RcdURGNUQtXHVERjYxXXxcdUQ4MDVbXHVEQzgwLVx1RENBRlx1RENDNFx1RENDNVx1RENDN1x1REQ4MC1cdUREQUVcdURFMDAtXHVERTJGXHVERTQ0XHVERTgwLVx1REVBQV18XHVEODA2W1x1RENBMC1cdURDREZcdURDRkZcdURFQzAtXHVERUY4XXxcdUQ4MDhbXHVEQzAwLVx1REY5OF18XHVEODA5W1x1REMwMC1cdURDNkVdfFtcdUQ4MENcdUQ4NDAtXHVEODY4XHVEODZBLVx1RDg2Q11bXHVEQzAwLVx1REZGRl18XHVEODBEW1x1REMwMC1cdURDMkVdfFx1RDgxQVtcdURDMDAtXHVERTM4XHVERTQwLVx1REU1RVx1REVEMC1cdURFRURcdURGMDAtXHVERjJGXHVERjQwLVx1REY0M1x1REY2My1cdURGNzdcdURGN0QtXHVERjhGXXxcdUQ4MUJbXHVERjAwLVx1REY0NFx1REY1MFx1REY5My1cdURGOUZdfFx1RDgyQ1tcdURDMDBcdURDMDFdfFx1RDgyRltcdURDMDAtXHVEQzZBXHVEQzcwLVx1REM3Q1x1REM4MC1cdURDODhcdURDOTAtXHVEQzk5XXxcdUQ4MzVbXHVEQzAwLVx1REM1NFx1REM1Ni1cdURDOUNcdURDOUVcdURDOUZcdURDQTJcdURDQTVcdURDQTZcdURDQTktXHVEQ0FDXHVEQ0FFLVx1RENCOVx1RENCQlx1RENCRC1cdURDQzNcdURDQzUtXHVERDA1XHVERDA3LVx1REQwQVx1REQwRC1cdUREMTRcdUREMTYtXHVERDFDXHVERDFFLVx1REQzOVx1REQzQi1cdUREM0VcdURENDAtXHVERDQ0XHVERDQ2XHVERDRBLVx1REQ1MFx1REQ1Mi1cdURFQTVcdURFQTgtXHVERUMwXHVERUMyLVx1REVEQVx1REVEQy1cdURFRkFcdURFRkMtXHVERjE0XHVERjE2LVx1REYzNFx1REYzNi1cdURGNEVcdURGNTAtXHVERjZFXHVERjcwLVx1REY4OFx1REY4QS1cdURGQThcdURGQUEtXHVERkMyXHVERkM0LVx1REZDQl18XHVEODNBW1x1REMwMC1cdURDQzRdfFx1RDgzQltcdURFMDAtXHVERTAzXHVERTA1LVx1REUxRlx1REUyMVx1REUyMlx1REUyNFx1REUyN1x1REUyOS1cdURFMzJcdURFMzQtXHVERTM3XHVERTM5XHVERTNCXHVERTQyXHVERTQ3XHVERTQ5XHVERTRCXHVERTRELVx1REU0Rlx1REU1MVx1REU1Mlx1REU1NFx1REU1N1x1REU1OVx1REU1Qlx1REU1RFx1REU1Rlx1REU2MVx1REU2Mlx1REU2NFx1REU2Ny1cdURFNkFcdURFNkMtXHVERTcyXHVERTc0LVx1REU3N1x1REU3OS1cdURFN0NcdURFN0VcdURFODAtXHVERTg5XHVERThCLVx1REU5Qlx1REVBMS1cdURFQTNcdURFQTUtXHVERUE5XHVERUFCLVx1REVCQl18XHVEODY5W1x1REMwMC1cdURFRDZcdURGMDAtXHVERkZGXXxcdUQ4NkRbXHVEQzAwLVx1REYzNFx1REY0MC1cdURGRkZdfFx1RDg2RVtcdURDMDAtXHVEQzFEXXxcdUQ4N0VbXHVEQzAwLVx1REUxRF0vLE5vbkFzY2lpSWRlbnRpZmllclBhcnQ6L1tceEFBXHhCNVx4QjdceEJBXHhDMC1ceEQ2XHhEOC1ceEY2XHhGOC1cdTAyQzFcdTAyQzYtXHUwMkQxXHUwMkUwLVx1MDJFNFx1MDJFQ1x1MDJFRVx1MDMwMC1cdTAzNzRcdTAzNzZcdTAzNzdcdTAzN0EtXHUwMzdEXHUwMzdGXHUwMzg2LVx1MDM4QVx1MDM4Q1x1MDM4RS1cdTAzQTFcdTAzQTMtXHUwM0Y1XHUwM0Y3LVx1MDQ4MVx1MDQ4My1cdTA0ODdcdTA0OEEtXHUwNTJGXHUwNTMxLVx1MDU1Nlx1MDU1OVx1MDU2MS1cdTA1ODdcdTA1OTEtXHUwNUJEXHUwNUJGXHUwNUMxXHUwNUMyXHUwNUM0XHUwNUM1XHUwNUM3XHUwNUQwLVx1MDVFQVx1MDVGMC1cdTA1RjJcdTA2MTAtXHUwNjFBXHUwNjIwLVx1MDY2OVx1MDY2RS1cdTA2RDNcdTA2RDUtXHUwNkRDXHUwNkRGLVx1MDZFOFx1MDZFQS1cdTA2RkNcdTA2RkZcdTA3MTAtXHUwNzRBXHUwNzRELVx1MDdCMVx1MDdDMC1cdTA3RjVcdTA3RkFcdTA4MDAtXHUwODJEXHUwODQwLVx1MDg1Qlx1MDhBMC1cdTA4QjJcdTA4RTQtXHUwOTYzXHUwOTY2LVx1MDk2Rlx1MDk3MS1cdTA5ODNcdTA5ODUtXHUwOThDXHUwOThGXHUwOTkwXHUwOTkzLVx1MDlBOFx1MDlBQS1cdTA5QjBcdTA5QjJcdTA5QjYtXHUwOUI5XHUwOUJDLVx1MDlDNFx1MDlDN1x1MDlDOFx1MDlDQi1cdTA5Q0VcdTA5RDdcdTA5RENcdTA5RERcdTA5REYtXHUwOUUzXHUwOUU2LVx1MDlGMVx1MEEwMS1cdTBBMDNcdTBBMDUtXHUwQTBBXHUwQTBGXHUwQTEwXHUwQTEzLVx1MEEyOFx1MEEyQS1cdTBBMzBcdTBBMzJcdTBBMzNcdTBBMzVcdTBBMzZcdTBBMzhcdTBBMzlcdTBBM0NcdTBBM0UtXHUwQTQyXHUwQTQ3XHUwQTQ4XHUwQTRCLVx1MEE0RFx1MEE1MVx1MEE1OS1cdTBBNUNcdTBBNUVcdTBBNjYtXHUwQTc1XHUwQTgxLVx1MEE4M1x1MEE4NS1cdTBBOERcdTBBOEYtXHUwQTkxXHUwQTkzLVx1MEFBOFx1MEFBQS1cdTBBQjBcdTBBQjJcdTBBQjNcdTBBQjUtXHUwQUI5XHUwQUJDLVx1MEFDNVx1MEFDNy1cdTBBQzlcdTBBQ0ItXHUwQUNEXHUwQUQwXHUwQUUwLVx1MEFFM1x1MEFFNi1cdTBBRUZcdTBCMDEtXHUwQjAzXHUwQjA1LVx1MEIwQ1x1MEIwRlx1MEIxMFx1MEIxMy1cdTBCMjhcdTBCMkEtXHUwQjMwXHUwQjMyXHUwQjMzXHUwQjM1LVx1MEIzOVx1MEIzQy1cdTBCNDRcdTBCNDdcdTBCNDhcdTBCNEItXHUwQjREXHUwQjU2XHUwQjU3XHUwQjVDXHUwQjVEXHUwQjVGLVx1MEI2M1x1MEI2Ni1cdTBCNkZcdTBCNzFcdTBCODJcdTBCODNcdTBCODUtXHUwQjhBXHUwQjhFLVx1MEI5MFx1MEI5Mi1cdTBCOTVcdTBCOTlcdTBCOUFcdTBCOUNcdTBCOUVcdTBCOUZcdTBCQTNcdTBCQTRcdTBCQTgtXHUwQkFBXHUwQkFFLVx1MEJCOVx1MEJCRS1cdTBCQzJcdTBCQzYtXHUwQkM4XHUwQkNBLVx1MEJDRFx1MEJEMFx1MEJEN1x1MEJFNi1cdTBCRUZcdTBDMDAtXHUwQzAzXHUwQzA1LVx1MEMwQ1x1MEMwRS1cdTBDMTBcdTBDMTItXHUwQzI4XHUwQzJBLVx1MEMzOVx1MEMzRC1cdTBDNDRcdTBDNDYtXHUwQzQ4XHUwQzRBLVx1MEM0RFx1MEM1NVx1MEM1Nlx1MEM1OFx1MEM1OVx1MEM2MC1cdTBDNjNcdTBDNjYtXHUwQzZGXHUwQzgxLVx1MEM4M1x1MEM4NS1cdTBDOENcdTBDOEUtXHUwQzkwXHUwQzkyLVx1MENBOFx1MENBQS1cdTBDQjNcdTBDQjUtXHUwQ0I5XHUwQ0JDLVx1MENDNFx1MENDNi1cdTBDQzhcdTBDQ0EtXHUwQ0NEXHUwQ0Q1XHUwQ0Q2XHUwQ0RFXHUwQ0UwLVx1MENFM1x1MENFNi1cdTBDRUZcdTBDRjFcdTBDRjJcdTBEMDEtXHUwRDAzXHUwRDA1LVx1MEQwQ1x1MEQwRS1cdTBEMTBcdTBEMTItXHUwRDNBXHUwRDNELVx1MEQ0NFx1MEQ0Ni1cdTBENDhcdTBENEEtXHUwRDRFXHUwRDU3XHUwRDYwLVx1MEQ2M1x1MEQ2Ni1cdTBENkZcdTBEN0EtXHUwRDdGXHUwRDgyXHUwRDgzXHUwRDg1LVx1MEQ5Nlx1MEQ5QS1cdTBEQjFcdTBEQjMtXHUwREJCXHUwREJEXHUwREMwLVx1MERDNlx1MERDQVx1MERDRi1cdTBERDRcdTBERDZcdTBERDgtXHUwRERGXHUwREU2LVx1MERFRlx1MERGMlx1MERGM1x1MEUwMS1cdTBFM0FcdTBFNDAtXHUwRTRFXHUwRTUwLVx1MEU1OVx1MEU4MVx1MEU4Mlx1MEU4NFx1MEU4N1x1MEU4OFx1MEU4QVx1MEU4RFx1MEU5NC1cdTBFOTdcdTBFOTktXHUwRTlGXHUwRUExLVx1MEVBM1x1MEVBNVx1MEVBN1x1MEVBQVx1MEVBQlx1MEVBRC1cdTBFQjlcdTBFQkItXHUwRUJEXHUwRUMwLVx1MEVDNFx1MEVDNlx1MEVDOC1cdTBFQ0RcdTBFRDAtXHUwRUQ5XHUwRURDLVx1MEVERlx1MEYwMFx1MEYxOFx1MEYxOVx1MEYyMC1cdTBGMjlcdTBGMzVcdTBGMzdcdTBGMzlcdTBGM0UtXHUwRjQ3XHUwRjQ5LVx1MEY2Q1x1MEY3MS1cdTBGODRcdTBGODYtXHUwRjk3XHUwRjk5LVx1MEZCQ1x1MEZDNlx1MTAwMC1cdTEwNDlcdTEwNTAtXHUxMDlEXHUxMEEwLVx1MTBDNVx1MTBDN1x1MTBDRFx1MTBEMC1cdTEwRkFcdTEwRkMtXHUxMjQ4XHUxMjRBLVx1MTI0RFx1MTI1MC1cdTEyNTZcdTEyNThcdTEyNUEtXHUxMjVEXHUxMjYwLVx1MTI4OFx1MTI4QS1cdTEyOERcdTEyOTAtXHUxMkIwXHUxMkIyLVx1MTJCNVx1MTJCOC1cdTEyQkVcdTEyQzBcdTEyQzItXHUxMkM1XHUxMkM4LVx1MTJENlx1MTJEOC1cdTEzMTBcdTEzMTItXHUxMzE1XHUxMzE4LVx1MTM1QVx1MTM1RC1cdTEzNUZcdTEzNjktXHUxMzcxXHUxMzgwLVx1MTM4Rlx1MTNBMC1cdTEzRjRcdTE0MDEtXHUxNjZDXHUxNjZGLVx1MTY3Rlx1MTY4MS1cdTE2OUFcdTE2QTAtXHUxNkVBXHUxNkVFLVx1MTZGOFx1MTcwMC1cdTE3MENcdTE3MEUtXHUxNzE0XHUxNzIwLVx1MTczNFx1MTc0MC1cdTE3NTNcdTE3NjAtXHUxNzZDXHUxNzZFLVx1MTc3MFx1MTc3Mlx1MTc3M1x1MTc4MC1cdTE3RDNcdTE3RDdcdTE3RENcdTE3RERcdTE3RTAtXHUxN0U5XHUxODBCLVx1MTgwRFx1MTgxMC1cdTE4MTlcdTE4MjAtXHUxODc3XHUxODgwLVx1MThBQVx1MThCMC1cdTE4RjVcdTE5MDAtXHUxOTFFXHUxOTIwLVx1MTkyQlx1MTkzMC1cdTE5M0JcdTE5NDYtXHUxOTZEXHUxOTcwLVx1MTk3NFx1MTk4MC1cdTE5QUJcdTE5QjAtXHUxOUM5XHUxOUQwLVx1MTlEQVx1MUEwMC1cdTFBMUJcdTFBMjAtXHUxQTVFXHUxQTYwLVx1MUE3Q1x1MUE3Ri1cdTFBODlcdTFBOTAtXHUxQTk5XHUxQUE3XHUxQUIwLVx1MUFCRFx1MUIwMC1cdTFCNEJcdTFCNTAtXHUxQjU5XHUxQjZCLVx1MUI3M1x1MUI4MC1cdTFCRjNcdTFDMDAtXHUxQzM3XHUxQzQwLVx1MUM0OVx1MUM0RC1cdTFDN0RcdTFDRDAtXHUxQ0QyXHUxQ0Q0LVx1MUNGNlx1MUNGOFx1MUNGOVx1MUQwMC1cdTFERjVcdTFERkMtXHUxRjE1XHUxRjE4LVx1MUYxRFx1MUYyMC1cdTFGNDVcdTFGNDgtXHUxRjREXHUxRjUwLVx1MUY1N1x1MUY1OVx1MUY1Qlx1MUY1RFx1MUY1Ri1cdTFGN0RcdTFGODAtXHUxRkI0XHUxRkI2LVx1MUZCQ1x1MUZCRVx1MUZDMi1cdTFGQzRcdTFGQzYtXHUxRkNDXHUxRkQwLVx1MUZEM1x1MUZENi1cdTFGREJcdTFGRTAtXHUxRkVDXHUxRkYyLVx1MUZGNFx1MUZGNi1cdTFGRkNcdTIwMENcdTIwMERcdTIwM0ZcdTIwNDBcdTIwNTRcdTIwNzFcdTIwN0ZcdTIwOTAtXHUyMDlDXHUyMEQwLVx1MjBEQ1x1MjBFMVx1MjBFNS1cdTIwRjBcdTIxMDJcdTIxMDdcdTIxMEEtXHUyMTEzXHUyMTE1XHUyMTE4LVx1MjExRFx1MjEyNFx1MjEyNlx1MjEyOFx1MjEyQS1cdTIxMzlcdTIxM0MtXHUyMTNGXHUyMTQ1LVx1MjE0OVx1MjE0RVx1MjE2MC1cdTIxODhcdTJDMDAtXHUyQzJFXHUyQzMwLVx1MkM1RVx1MkM2MC1cdTJDRTRcdTJDRUItXHUyQ0YzXHUyRDAwLVx1MkQyNVx1MkQyN1x1MkQyRFx1MkQzMC1cdTJENjdcdTJENkZcdTJEN0YtXHUyRDk2XHUyREEwLVx1MkRBNlx1MkRBOC1cdTJEQUVcdTJEQjAtXHUyREI2XHUyREI4LVx1MkRCRVx1MkRDMC1cdTJEQzZcdTJEQzgtXHUyRENFXHUyREQwLVx1MkRENlx1MkREOC1cdTJEREVcdTJERTAtXHUyREZGXHUzMDA1LVx1MzAwN1x1MzAyMS1cdTMwMkZcdTMwMzEtXHUzMDM1XHUzMDM4LVx1MzAzQ1x1MzA0MS1cdTMwOTZcdTMwOTktXHUzMDlGXHUzMEExLVx1MzBGQVx1MzBGQy1cdTMwRkZcdTMxMDUtXHUzMTJEXHUzMTMxLVx1MzE4RVx1MzFBMC1cdTMxQkFcdTMxRjAtXHUzMUZGXHUzNDAwLVx1NERCNVx1NEUwMC1cdTlGQ0NcdUEwMDAtXHVBNDhDXHVBNEQwLVx1QTRGRFx1QTUwMC1cdUE2MENcdUE2MTAtXHVBNjJCXHVBNjQwLVx1QTY2Rlx1QTY3NC1cdUE2N0RcdUE2N0YtXHVBNjlEXHVBNjlGLVx1QTZGMVx1QTcxNy1cdUE3MUZcdUE3MjItXHVBNzg4XHVBNzhCLVx1QTc4RVx1QTc5MC1cdUE3QURcdUE3QjBcdUE3QjFcdUE3RjctXHVBODI3XHVBODQwLVx1QTg3M1x1QTg4MC1cdUE4QzRcdUE4RDAtXHVBOEQ5XHVBOEUwLVx1QThGN1x1QThGQlx1QTkwMC1cdUE5MkRcdUE5MzAtXHVBOTUzXHVBOTYwLVx1QTk3Q1x1QTk4MC1cdUE5QzBcdUE5Q0YtXHVBOUQ5XHVBOUUwLVx1QTlGRVx1QUEwMC1cdUFBMzZcdUFBNDAtXHVBQTREXHVBQTUwLVx1QUE1OVx1QUE2MC1cdUFBNzZcdUFBN0EtXHVBQUMyXHVBQURCLVx1QUFERFx1QUFFMC1cdUFBRUZcdUFBRjItXHVBQUY2XHVBQjAxLVx1QUIwNlx1QUIwOS1cdUFCMEVcdUFCMTEtXHVBQjE2XHVBQjIwLVx1QUIyNlx1QUIyOC1cdUFCMkVcdUFCMzAtXHVBQjVBXHVBQjVDLVx1QUI1Rlx1QUI2NFx1QUI2NVx1QUJDMC1cdUFCRUFcdUFCRUNcdUFCRURcdUFCRjAtXHVBQkY5XHVBQzAwLVx1RDdBM1x1RDdCMC1cdUQ3QzZcdUQ3Q0ItXHVEN0ZCXHVGOTAwLVx1RkE2RFx1RkE3MC1cdUZBRDlcdUZCMDAtXHVGQjA2XHVGQjEzLVx1RkIxN1x1RkIxRC1cdUZCMjhcdUZCMkEtXHVGQjM2XHVGQjM4LVx1RkIzQ1x1RkIzRVx1RkI0MFx1RkI0MVx1RkI0M1x1RkI0NFx1RkI0Ni1cdUZCQjFcdUZCRDMtXHVGRDNEXHVGRDUwLVx1RkQ4Rlx1RkQ5Mi1cdUZEQzdcdUZERjAtXHVGREZCXHVGRTAwLVx1RkUwRlx1RkUyMC1cdUZFMkRcdUZFMzNcdUZFMzRcdUZFNEQtXHVGRTRGXHVGRTcwLVx1RkU3NFx1RkU3Ni1cdUZFRkNcdUZGMTAtXHVGRjE5XHVGRjIxLVx1RkYzQVx1RkYzRlx1RkY0MS1cdUZGNUFcdUZGNjYtXHVGRkJFXHVGRkMyLVx1RkZDN1x1RkZDQS1cdUZGQ0ZcdUZGRDItXHVGRkQ3XHVGRkRBLVx1RkZEQ118XHVEODAwW1x1REMwMC1cdURDMEJcdURDMEQtXHVEQzI2XHVEQzI4LVx1REMzQVx1REMzQ1x1REMzRFx1REMzRi1cdURDNERcdURDNTAtXHVEQzVEXHVEQzgwLVx1RENGQVx1REQ0MC1cdURENzRcdURERkRcdURFODAtXHVERTlDXHVERUEwLVx1REVEMFx1REVFMFx1REYwMC1cdURGMUZcdURGMzAtXHVERjRBXHVERjUwLVx1REY3QVx1REY4MC1cdURGOURcdURGQTAtXHVERkMzXHVERkM4LVx1REZDRlx1REZEMS1cdURGRDVdfFx1RDgwMVtcdURDMDAtXHVEQzlEXHVEQ0EwLVx1RENBOVx1REQwMC1cdUREMjdcdUREMzAtXHVERDYzXHVERTAwLVx1REYzNlx1REY0MC1cdURGNTVcdURGNjAtXHVERjY3XXxcdUQ4MDJbXHVEQzAwLVx1REMwNVx1REMwOFx1REMwQS1cdURDMzVcdURDMzdcdURDMzhcdURDM0NcdURDM0YtXHVEQzU1XHVEQzYwLVx1REM3Nlx1REM4MC1cdURDOUVcdUREMDAtXHVERDE1XHVERDIwLVx1REQzOVx1REQ4MC1cdUREQjdcdUREQkVcdUREQkZcdURFMDAtXHVERTAzXHVERTA1XHVERTA2XHVERTBDLVx1REUxM1x1REUxNS1cdURFMTdcdURFMTktXHVERTMzXHVERTM4LVx1REUzQVx1REUzRlx1REU2MC1cdURFN0NcdURFODAtXHVERTlDXHVERUMwLVx1REVDN1x1REVDOS1cdURFRTZcdURGMDAtXHVERjM1XHVERjQwLVx1REY1NVx1REY2MC1cdURGNzJcdURGODAtXHVERjkxXXxcdUQ4MDNbXHVEQzAwLVx1REM0OF18XHVEODA0W1x1REMwMC1cdURDNDZcdURDNjYtXHVEQzZGXHVEQzdGLVx1RENCQVx1RENEMC1cdURDRThcdURDRjAtXHVEQ0Y5XHVERDAwLVx1REQzNFx1REQzNi1cdUREM0ZcdURENTAtXHVERDczXHVERDc2XHVERDgwLVx1RERDNFx1REREMC1cdUREREFcdURFMDAtXHVERTExXHVERTEzLVx1REUzN1x1REVCMC1cdURFRUFcdURFRjAtXHVERUY5XHVERjAxLVx1REYwM1x1REYwNS1cdURGMENcdURGMEZcdURGMTBcdURGMTMtXHVERjI4XHVERjJBLVx1REYzMFx1REYzMlx1REYzM1x1REYzNS1cdURGMzlcdURGM0MtXHVERjQ0XHVERjQ3XHVERjQ4XHVERjRCLVx1REY0RFx1REY1N1x1REY1RC1cdURGNjNcdURGNjYtXHVERjZDXHVERjcwLVx1REY3NF18XHVEODA1W1x1REM4MC1cdURDQzVcdURDQzdcdURDRDAtXHVEQ0Q5XHVERDgwLVx1RERCNVx1RERCOC1cdUREQzBcdURFMDAtXHVERTQwXHVERTQ0XHVERTUwLVx1REU1OVx1REU4MC1cdURFQjdcdURFQzAtXHVERUM5XXxcdUQ4MDZbXHVEQ0EwLVx1RENFOVx1RENGRlx1REVDMC1cdURFRjhdfFx1RDgwOFtcdURDMDAtXHVERjk4XXxcdUQ4MDlbXHVEQzAwLVx1REM2RV18W1x1RDgwQ1x1RDg0MC1cdUQ4NjhcdUQ4NkEtXHVEODZDXVtcdURDMDAtXHVERkZGXXxcdUQ4MERbXHVEQzAwLVx1REMyRV18XHVEODFBW1x1REMwMC1cdURFMzhcdURFNDAtXHVERTVFXHVERTYwLVx1REU2OVx1REVEMC1cdURFRURcdURFRjAtXHVERUY0XHVERjAwLVx1REYzNlx1REY0MC1cdURGNDNcdURGNTAtXHVERjU5XHVERjYzLVx1REY3N1x1REY3RC1cdURGOEZdfFx1RDgxQltcdURGMDAtXHVERjQ0XHVERjUwLVx1REY3RVx1REY4Ri1cdURGOUZdfFx1RDgyQ1tcdURDMDBcdURDMDFdfFx1RDgyRltcdURDMDAtXHVEQzZBXHVEQzcwLVx1REM3Q1x1REM4MC1cdURDODhcdURDOTAtXHVEQzk5XHVEQzlEXHVEQzlFXXxcdUQ4MzRbXHVERDY1LVx1REQ2OVx1REQ2RC1cdURENzJcdUREN0ItXHVERDgyXHVERDg1LVx1REQ4Qlx1RERBQS1cdUREQURcdURFNDItXHVERTQ0XXxcdUQ4MzVbXHVEQzAwLVx1REM1NFx1REM1Ni1cdURDOUNcdURDOUVcdURDOUZcdURDQTJcdURDQTVcdURDQTZcdURDQTktXHVEQ0FDXHVEQ0FFLVx1RENCOVx1RENCQlx1RENCRC1cdURDQzNcdURDQzUtXHVERDA1XHVERDA3LVx1REQwQVx1REQwRC1cdUREMTRcdUREMTYtXHVERDFDXHVERDFFLVx1REQzOVx1REQzQi1cdUREM0VcdURENDAtXHVERDQ0XHVERDQ2XHVERDRBLVx1REQ1MFx1REQ1Mi1cdURFQTVcdURFQTgtXHVERUMwXHVERUMyLVx1REVEQVx1REVEQy1cdURFRkFcdURFRkMtXHVERjE0XHVERjE2LVx1REYzNFx1REYzNi1cdURGNEVcdURGNTAtXHVERjZFXHVERjcwLVx1REY4OFx1REY4QS1cdURGQThcdURGQUEtXHVERkMyXHVERkM0LVx1REZDQlx1REZDRS1cdURGRkZdfFx1RDgzQVtcdURDMDAtXHVEQ0M0XHVEQ0QwLVx1RENENl18XHVEODNCW1x1REUwMC1cdURFMDNcdURFMDUtXHVERTFGXHVERTIxXHVERTIyXHVERTI0XHVERTI3XHVERTI5LVx1REUzMlx1REUzNC1cdURFMzdcdURFMzlcdURFM0JcdURFNDJcdURFNDdcdURFNDlcdURFNEJcdURFNEQtXHVERTRGXHVERTUxXHVERTUyXHVERTU0XHVERTU3XHVERTU5XHVERTVCXHVERTVEXHVERTVGXHVERTYxXHVERTYyXHVERTY0XHVERTY3LVx1REU2QVx1REU2Qy1cdURFNzJcdURFNzQtXHVERTc3XHVERTc5LVx1REU3Q1x1REU3RVx1REU4MC1cdURFODlcdURFOEItXHVERTlCXHVERUExLVx1REVBM1x1REVBNS1cdURFQTlcdURFQUItXHVERUJCXXxcdUQ4NjlbXHVEQzAwLVx1REVENlx1REYwMC1cdURGRkZdfFx1RDg2RFtcdURDMDAtXHVERjM0XHVERjQwLVx1REZGRl18XHVEODZFW1x1REMwMC1cdURDMURdfFx1RDg3RVtcdURDMDAtXHVERTFEXXxcdURCNDBbXHVERDAwLVx1RERFRl0vfSxkPVs1NzYwLDYxNTgsODE5Miw4MTkzLDgxOTQsODE5NSw4MTk2LDgxOTcsODE5OCw4MTk5LDgyMDAsODIwMSw4MjAyLDgyMzksODI4NywxMjI4OCw2NTI3OV0saD1uZXcgQXJyYXkoMTI4KSx5PTA7eTwxMjg7Kyt5KWhbeV09eT49OTcmJnk8PTEyMnx8eT49NjUmJnk8PTkwfHwzNj09PXl8fDk1PT09eTtmb3IobT1uZXcgQXJyYXkoMTI4KSx5PTA7eTwxMjg7Kyt5KW1beV09eT49OTcmJnk8PTEyMnx8eT49NjUmJnk8PTkwfHx5Pj00OCYmeTw9NTd8fDM2PT09eXx8OTU9PT15O2UuZXhwb3J0cz17aXNEZWNpbWFsRGlnaXQ6dCxpc0hleERpZ2l0OnIsaXNPY3RhbERpZ2l0Om4saXNXaGl0ZVNwYWNlOmksaXNMaW5lVGVybWluYXRvcjpzLGlzSWRlbnRpZmllclN0YXJ0RVM1Om8saXNJZGVudGlmaWVyUGFydEVTNTp1LGlzSWRlbnRpZmllclN0YXJ0RVM2OmwsaXNJZGVudGlmaWVyUGFydEVTNjpjfX0oKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDM4KSxpPXIoMTcpLHM9bihpLCJTZXQiKTtlLmV4cG9ydHM9c30sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PS0xLHI9bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyBpOysrdDxyOyl0aGlzLmFkZChlW3RdKX12YXIgaT1yKDE2MCkscz1yKDU2MSksYT1yKDU2Mik7bi5wcm90b3R5cGUuYWRkPW4ucHJvdG90eXBlLnB1c2g9cyxuLnByb3RvdHlwZS5oYXM9YSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE3KSxpPW4uVWludDhBcnJheTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQscil7c3dpdGNoKHIubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGUuY2FsbCh0KTtjYXNlIDE6cmV0dXJuIGUuY2FsbCh0LHJbMF0pO2Nhc2UgMjpyZXR1cm4gZS5jYWxsKHQsclswXSxyWzFdKTtjYXNlIDM6cmV0dXJuIGUuY2FsbCh0LHJbMF0sclsxXSxyWzJdKX1yZXR1cm4gZS5hcHBseSh0LHIpfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj1hKGUpLG49IXImJnMoZSksYz0hciYmIW4mJm8oZSkscD0hciYmIW4mJiFjJiZsKGUpLGQ9cnx8bnx8Y3x8cCxoPWQ/aShlLmxlbmd0aCxTdHJpbmcpOltdLG09aC5sZW5ndGg7Zm9yKHZhciB5IGluIGUpIXQmJiFmLmNhbGwoZSx5KXx8ZCYmKCJsZW5ndGgiPT15fHxjJiYoIm9mZnNldCI9PXl8fCJwYXJlbnQiPT15KXx8cCYmKCJidWZmZXIiPT15fHwiYnl0ZUxlbmd0aCI9PXl8fCJieXRlT2Zmc2V0Ij09eSl8fHUoeSxtKSl8fGgucHVzaCh5KTtyZXR1cm4gaH12YXIgaT1yKDUxMykscz1yKDExMiksYT1yKDYpLG89cigxMTMpLHU9cigxNzEpLGw9cigxNzcpLGM9T2JqZWN0LnByb3RvdHlwZSxmPWMuaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LHIsbil7dmFyIGk9LTEscz1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKG4mJnMmJihyPWVbKytpXSk7KytpPHM7KXI9dChyLGVbaV0saSxlKTtyZXR1cm4gcn1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyKXsodm9pZCAwPT09cnx8cyhlW3RdLHIpKSYmKHZvaWQgMCE9PXJ8fHQgaW4gZSl8fGkoZSx0LHIpfXZhciBpPXIoMTYzKSxzPXIoNDYpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTI3KSxpPW4oKTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dD1pKHQsZSk7Zm9yKHZhciByPTAsbj10Lmxlbmd0aDtudWxsIT1lJiZyPG47KWU9ZVtzKHRbcisrXSldO3JldHVybiByJiZyPT1uP2U6dm9pZCAwfXZhciBpPXIoMjU1KSxzPXIoMTA4KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyKXt2YXIgbj10KGUpO3JldHVybiBzKGUpP246aShuLHIoZSkpfXZhciBpPXIoMTYxKSxzPXIoNik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscixhLG8pe3JldHVybiBlPT09dHx8KG51bGw9PWV8fG51bGw9PXR8fCFzKGUpJiYhcyh0KT9lIT09ZSYmdCE9PXQ6aShlLHQscixhLG4sbykpfXZhciBpPXIoNDk0KSxzPXIoMjUpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj0tMSxuPXMoZSk/QXJyYXkoZS5sZW5ndGgpOltdO3JldHVybiBpKGUsZnVuY3Rpb24oZSxpLHMpe25bKytyXT10KGUsaSxzKX0pLG59dmFyIGk9cig0ODcpLHM9cigyNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoYShlKSlyZXR1cm4gcyhlLG4pKyIiO2lmKG8oZSkpcmV0dXJuIGM/Yy5jYWxsKGUpOiIiO3ZhciB0PWUrIiI7cmV0dXJuIjAiPT10JiYxL2U9PS11PyItMCI6dH12YXIgaT1yKDQ1KSxzPXIoNjApLGE9cig2KSxvPXIoNjIpLHU9MS8wLGw9aT9pLnByb3RvdHlwZTp2b2lkIDAsYz1sP2wudG9TdHJpbmc6dm9pZCAwO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGUuaGFzKHQpfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gaShlKT9lOnMoZSx0KT9bZV06YShvKGUpKX12YXIgaT1yKDYpLHM9cigxNzMpLGE9cig1NzEpLG89cigxMTQpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYodClyZXR1cm4gZS5zbGljZSgpO3ZhciByPWUubGVuZ3RoLG49Yz9jKHIpOm5ldyBlLmNvbnN0cnVjdG9yKHIpO3JldHVybiBlLmNvcHkobiksbn12YXIgaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0scz1yKDE3KSxhPSJvYmplY3QiPT1pKHQpJiZ0JiYhdC5ub2RlVHlwZSYmdCxvPWEmJiJvYmplY3QiPT1pKGUpJiZlJiYhZS5ub2RlVHlwZSYmZSx1PW8mJm8uZXhwb3J0cz09PWEsbD11P3MuQnVmZmVyOnZvaWQgMCxjPWw/bC5hbGxvY1Vuc2FmZTp2b2lkIDA7ZS5leHBvcnRzPW59KS5jYWxsKHQscigzOSkoZSkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXt2YXIgcj10P2koZS5idWZmZXIpOmUuYnVmZmVyO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihyLGUuYnl0ZU9mZnNldCxlLmxlbmd0aCl9dmFyIGk9cigxNjcpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXt2YXIgbz1PYmplY3QodCk7aWYoIXModCkpe3ZhciB1PWkociwzKTt0PWEodCkscj1mdW5jdGlvbihlKXtyZXR1cm4gdShvW2VdLGUsbyl9fXZhciBsPWUodCxyLG4pO3JldHVybiBsPi0xP29bdT90W2xdOmxdOnZvaWQgMH19dmFyIGk9cig2MSkscz1yKDI0KSxhPXIoMzIpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzgpLGk9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bihPYmplY3QsImRlZmluZVByb3BlcnR5Iik7cmV0dXJuIGUoe30sIiIse30pLGV9Y2F0Y2goZSl7fX0oKTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLG4sbCxjKXt2YXIgZj1yJm8scD1lLmxlbmd0aCxkPXQubGVuZ3RoO2lmKHAhPWQmJiEoZiYmZD5wKSlyZXR1cm4hMTt2YXIgaD1jLmdldChlKTtpZihoJiZjLmdldCh0KSlyZXR1cm4gaD09dDt2YXIgbT0tMSx5PSEwLHY9ciZ1P25ldyBpOnZvaWQgMDtmb3IoYy5zZXQoZSx0KSxjLnNldCh0LGUpOysrbTxwOyl7dmFyIGc9ZVttXSxiPXRbbV07aWYobil2YXIgRT1mP24oYixnLG0sdCxlLGMpOm4oZyxiLG0sZSx0LGMpO2lmKHZvaWQgMCE9PUUpe2lmKEUpY29udGludWU7eT0hMTticmVha31pZih2KXtpZighcyh0LGZ1bmN0aW9uKGUsdCl7aWYoIWEodix0KSYmKGc9PT1lfHxsKGcsZSxyLG4sYykpKXJldHVybiB2LnB1c2godCl9KSl7eT0hMTticmVha319ZWxzZSBpZihnIT09YiYmIWwoZyxiLHIsbixjKSl7eT0hMTticmVha319cmV0dXJuIGMuZGVsZXRlKGUpLGMuZGVsZXRlKHQpLHl9dmFyIGk9cigyNDIpLHM9cig0ODIpLGE9cigyNTQpLG89MSx1PTI7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sbj0ib2JqZWN0Ij09KHZvaWQgMD09PXQ/InVuZGVmaW5lZCI6cih0KSkmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0O2UuZXhwb3J0cz1ufSkuY2FsbCh0LGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGkoZSxhLHMpfXZhciBpPXIoMjUwKSxzPXIoMTcwKSxhPXIoMzIpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTYxKSxpPXIoMTY5KSxzPXIoMTcwKSxhPXIoMjc5KSxvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsdT1vP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXTtlOyluKHQscyhlKSksZT1pKGUpO3JldHVybiB0fTphO2UuZXhwb3J0cz11fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDcyKSxpPXIoMTU5KSxzPXIoNDc0KSxhPXIoMjQxKSxvPXIoNDc1KSx1PXIoMzApLGw9cigyNzIpLGM9bChuKSxmPWwoaSkscD1sKHMpLGQ9bChhKSxoPWwobyksbT11OyhuJiYiW29iamVjdCBEYXRhVmlld10iIT1tKG5ldyBuKG5ldyBBcnJheUJ1ZmZlcigxKSkpfHxpJiYiW29iamVjdCBNYXBdIiE9bShuZXcgaSl8fHMmJiJbb2JqZWN0IFByb21pc2VdIiE9bShzLnJlc29sdmUoKSl8fGEmJiJbb2JqZWN0IFNldF0iIT1tKG5ldyBhKXx8byYmIltvYmplY3QgV2Vha01hcF0iIT1tKG5ldyBvKSkmJihtPWZ1bmN0aW9uKGUpe3ZhciB0PXUoZSkscj0iW29iamVjdCBPYmplY3RdIj09dD9lLmNvbnN0cnVjdG9yOnZvaWQgMCxuPXI/bChyKToiIjtpZihuKXN3aXRjaChuKXtjYXNlIGM6cmV0dXJuIltvYmplY3QgRGF0YVZpZXddIjtjYXNlIGY6cmV0dXJuIltvYmplY3QgTWFwXSI7Y2FzZSBwOnJldHVybiJbb2JqZWN0IFByb21pc2VdIjtjYXNlIGQ6cmV0dXJuIltvYmplY3QgU2V0XSI7Y2FzZSBoOnJldHVybiJbb2JqZWN0IFdlYWtNYXBdIn1yZXR1cm4gdH0pLGUuZXhwb3J0cz1tfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3Q9aSh0LGUpO2Zvcih2YXIgbj0tMSxjPXQubGVuZ3RoLGY9ITE7KytuPGM7KXt2YXIgcD1sKHRbbl0pO2lmKCEoZj1udWxsIT1lJiZyKGUscCkpKWJyZWFrO2U9ZVtwXX1yZXR1cm4gZnx8KytuIT1jP2Y6ISEoYz1udWxsPT1lPzA6ZS5sZW5ndGgpJiZ1KGMpJiZvKHAsYykmJihhKGUpfHxzKGUpKX12YXIgaT1yKDI1NSkscz1yKDExMiksYT1yKDYpLG89cigxNzEpLHU9cigxNzYpLGw9cigxMDgpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIGUuY29uc3RydWN0b3J8fGEoZSk/e306aShzKGUpKX12YXIgaT1yKDQ4Nikscz1yKDE2OSksYT1yKDEwNSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT09PWUmJiFpKGUpfXZhciBpPXIoMTgpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PS0xLHI9QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUsbil7clsrK3RdPVtuLGVdfSkscn1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gbnVsbCE9ciYmKHJbZV09PT10JiYodm9pZCAwIT09dHx8ZSBpbiBPYmplY3QocikpKX19ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO3ZhciBuPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxpPXIoMjYxKSxzPSJvYmplY3QiPT1uKHQpJiZ0JiYhdC5ub2RlVHlwZSYmdCxhPXMmJiJvYmplY3QiPT1uKGUpJiZlJiYhZS5ub2RlVHlwZSYmZSxvPWEmJmEuZXhwb3J0cz09PXMsdT1vJiZpLnByb2Nlc3MsbD1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdSYmdS5iaW5kaW5nJiZ1LmJpbmRpbmcoInV0aWwiKX1jYXRjaChlKXt9fSgpO2UuZXhwb3J0cz1sfSkuY2FsbCh0LHIoMzkpKGUpKX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZSh0KHIpKX19ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBpLmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZSsiIn1jYXRjaChlKXt9fXJldHVybiIifXZhciBuPUZ1bmN0aW9uLnByb3RvdHlwZSxpPW4udG9TdHJpbmc7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyNDQpLGk9cig1NzMpLHM9cigxMDEpLGE9cig1MjkpLG89cyhmdW5jdGlvbihlKXtyZXR1cm4gZS5wdXNoKHZvaWQgMCxhKSxuKGksdm9pZCAwLGUpfSk7ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBudWxsIT1lJiZzKGUsdCxpKX12YXIgaT1yKDQ5MCkscz1yKDI2NSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZighYShlKXx8aShlKSE9bylyZXR1cm4hMTt2YXIgdD1zKGUpO2lmKG51bGw9PT10KXJldHVybiEwO3ZhciByPWYuY2FsbCh0LCJjb25zdHJ1Y3RvciIpJiZ0LmNvbnN0cnVjdG9yO3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiByJiZyIGluc3RhbmNlb2YgciYmYy5jYWxsKHIpPT1wfXZhciBpPXIoMzApLHM9cigxNjkpLGE9cigyNSksbz0iW29iamVjdCBPYmplY3RdIix1PUZ1bmN0aW9uLnByb3RvdHlwZSxsPU9iamVjdC5wcm90b3R5cGUsYz11LnRvU3RyaW5nLGY9bC5oYXNPd25Qcm9wZXJ0eSxwPWMuY2FsbChPYmplY3QpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDk4KSxpPXIoMTAyKSxzPXIoMjcwKSxhPXMmJnMuaXNSZWdFeHAsbz1hP2koYSk6bjtlLmV4cG9ydHM9b30sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEwMSksaT1yKDU5Mykscz1uKGkpO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3JldHVybiB0PShyP3MoZSx0LHIpOnZvaWQgMD09PXQpPzE6YSh0KSxpKG8oZSksdCl9dmFyIGk9cig1MTApLHM9cigxNzIpLGE9cig0OCksbz1yKDExNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXtyZXR1cm5bXX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBudWxsPT1lP1tdOmkoZSxzKGUpKX12YXIgaT1yKDUxNSkscz1yKDMyKTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQscil7aWYoYyl0cnl7Yy5jYWxsKGwsZSx0LHt2YWx1ZTpyfSl9Y2F0Y2gobil7ZVt0XT1yfWVsc2UgZVt0XT1yfWZ1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJihyKGUsImNhbGwiLGUuY2FsbCkscihlLCJhcHBseSIsZS5hcHBseSkpLGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZj9mLmNhbGwobCxlKToobS5wcm90b3R5cGU9ZXx8bnVsbCxuZXcgbSl9ZnVuY3Rpb24gcygpe2Rve3ZhciBlPWEoaC5jYWxsKGQuY2FsbCh5KCksMzYpLDIpKX13aGlsZShwLmNhbGwodixlKSk7cmV0dXJuIHZbZV09ZX1mdW5jdGlvbiBhKGUpe3ZhciB0PXt9O3JldHVybiB0W2VdPSEwLE9iamVjdC5rZXlzKHQpWzBdfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGkobnVsbCl9ZnVuY3Rpb24gdShlKXtmdW5jdGlvbiB0KHQpe2Z1bmN0aW9uIG4ocixuKXtpZihyPT09dSlyZXR1cm4gbj9pPW51bGw6aXx8KGk9ZSh0KSl9dmFyIGk7cih0LGEsbil9ZnVuY3Rpb24gbihlKXtyZXR1cm4gcC5jYWxsKGUsYSl8fHQoZSksZVthXSh1KX12YXIgYT1zKCksdT1pKG51bGwpO3JldHVybiBlPWV8fG8sbi5mb3JnZXQ9ZnVuY3Rpb24oZSl7cC5jYWxsKGUsYSkmJmVbYV0odSwhMCl9LG59dmFyIGw9T2JqZWN0LGM9T2JqZWN0LmRlZmluZVByb3BlcnR5LGY9T2JqZWN0LmNyZWF0ZTtuKGMpLG4oZik7dmFyIHA9bihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KSxkPW4oTnVtYmVyLnByb3RvdHlwZS50b1N0cmluZyksaD1uKFN0cmluZy5wcm90b3R5cGUuc2xpY2UpLG09ZnVuY3Rpb24oKXt9LHk9TWF0aC5yYW5kb20sdj1pKG51bGwpO3QubWFrZVVuaXF1ZUtleT1zO3ZhciBnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzO09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1nKGUpLHI9MCxuPTAsaT10Lmxlbmd0aDtyPGk7KytyKXAuY2FsbCh2LHRbcl0pfHwocj5uJiYodFtuXT10W3JdKSwrK24pO3JldHVybiB0Lmxlbmd0aD1uLHR9LHQubWFrZUFjY2Vzc29yPXV9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbjsoZnVuY3Rpb24oZSxpKXsidXNlIHN0cmljdCI7dmFyIHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9OyFmdW5jdGlvbihhKXt2YXIgbz0ib2JqZWN0Ij09cyh0KSYmdCx1PSJvYmplY3QiPT1zKGUpJiZlJiZlLmV4cG9ydHM9PW8mJmUsbD0ib2JqZWN0Ij09KHZvaWQgMD09PWk/InVuZGVmaW5lZCI6cyhpKSkmJmk7bC5nbG9iYWwhPT1sJiZsLndpbmRvdyE9PWx8fChhPWwpO3ZhciBjPXtyYW5nZU9yZGVyOiJBIHJhbmdl4oCZcyBgc3RvcGAgdmFsdWUgbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGBzdGFydGAgdmFsdWUuIixjb2RlUG9pbnRSYW5nZToiSW52YWxpZCBjb2RlIHBvaW50IHZhbHVlLiBDb2RlIHBvaW50cyByYW5nZSBmcm9tIFUrMDAwMDAwIHRvIFUrMTBGRkZGLiJ9LGY9L1xceDAwKFteMDEyMzQ1Njc4OV18JCkvZyxwPXt9LGQ9cC5oYXNPd25Qcm9wZXJ0eSxoPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPS0xLG49ZS5sZW5ndGg7KytyPG47KXQoZVtyXSxyKX0sbT1wLnRvU3RyaW5nLHk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09bS5jYWxsKGUpfSx2PWZ1bmN0aW9uKGUpe3JldHVybiJudW1iZXIiPT10eXBlb2YgZXx8IltvYmplY3QgTnVtYmVyXSI9PW0uY2FsbChlKX0sZz1mdW5jdGlvbihlLHQpe3ZhciByPVN0cmluZyhlKTtyZXR1cm4gci5sZW5ndGg8dD8oIjAwMDAiK3IpLnNsaWNlKC10KTpyfSxiPWZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9LEU9W10uc2xpY2UseD1mdW5jdGlvbihlKXtmb3IodmFyIHQscj0tMSxuPWUubGVuZ3RoLGk9bi0xLHM9W10sYT0hMCxvPTA7KytyPG47KWlmKHQ9ZVtyXSxhKXMucHVzaCh0KSxvPXQsYT0hMTtlbHNlIGlmKHQ9PW8rMSl7aWYociE9aSl7bz10O2NvbnRpbnVlfWE9ITAscy5wdXNoKHQrMSl9ZWxzZSBzLnB1c2gobysxLHQpLG89dDtyZXR1cm4gYXx8cy5wdXNoKHQrMSksc30sQT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGk9MCxzPWUubGVuZ3RoO2k8czspe2lmKHI9ZVtpXSxuPWVbaSsxXSx0Pj1yJiZ0PG4pcmV0dXJuIHQ9PXI/bj09cisxPyhlLnNwbGljZShpLDIpLGUpOihlW2ldPXQrMSxlKTp0PT1uLTE/KGVbaSsxXT10LGUpOihlLnNwbGljZShpLDIscix0LHQrMSxuKSxlKTtpKz0yfXJldHVybiBlfSxTPWZ1bmN0aW9uKGUsdCxyKXtpZihyPHQpdGhyb3cgRXJyb3IoYy5yYW5nZU9yZGVyKTtmb3IodmFyIG4saSxzPTA7czxlLmxlbmd0aDspe2lmKG49ZVtzXSxpPWVbcysxXS0xLG4+cilyZXR1cm4gZTtpZih0PD1uJiZyPj1pKWUuc3BsaWNlKHMsMik7ZWxzZXtpZih0Pj1uJiZyPGkpcmV0dXJuIHQ9PW4/KGVbc109cisxLGVbcysxXT1pKzEsZSk6KGUuc3BsaWNlKHMsMixuLHQscisxLGkrMSksZSk7aWYodD49biYmdDw9aSllW3MrMV09dDtlbHNlIGlmKHI+PW4mJnI8PWkpcmV0dXJuIGVbc109cisxLGU7cys9Mn19cmV0dXJuIGV9LF89ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9MCxzPW51bGwsYT1lLmxlbmd0aDtpZih0PDB8fHQ+MTExNDExMSl0aHJvdyBSYW5nZUVycm9yKGMuY29kZVBvaW50UmFuZ2UpO2Zvcig7aTxhOyl7aWYocj1lW2ldLG49ZVtpKzFdLHQ+PXImJnQ8bilyZXR1cm4gZTtpZih0PT1yLTEpcmV0dXJuIGVbaV09dCxlO2lmKHI+dClyZXR1cm4gZS5zcGxpY2UobnVsbCE9cz9zKzI6MCwwLHQsdCsxKSxlO2lmKHQ9PW4pcmV0dXJuIHQrMT09ZVtpKzJdPyhlLnNwbGljZShpLDQscixlW2krM10pLGUpOihlW2krMV09dCsxLGUpO3M9aSxpKz0yfXJldHVybiBlLnB1c2godCx0KzEpLGV9LEQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbixpPTAscz1lLnNsaWNlKCksYT10Lmxlbmd0aDtpPGE7KXI9dFtpXSxuPXRbaSsxXS0xLHM9cj09bj9fKHMscik6dyhzLHIsbiksaSs9MjtyZXR1cm4gc30sQz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGk9MCxzPWUuc2xpY2UoKSxhPXQubGVuZ3RoO2k8YTspcj10W2ldLG49dFtpKzFdLTEscz1yPT1uP0EocyxyKTpTKHMscixuKSxpKz0yO3JldHVybiBzfSx3PWZ1bmN0aW9uKGUsdCxyKXtpZihyPHQpdGhyb3cgRXJyb3IoYy5yYW5nZU9yZGVyKTtpZih0PDB8fHQ+MTExNDExMXx8cjwwfHxyPjExMTQxMTEpdGhyb3cgUmFuZ2VFcnJvcihjLmNvZGVQb2ludFJhbmdlKTtmb3IodmFyIG4saSxzPTAsYT0hMSxvPWUubGVuZ3RoO3M8bzspe2lmKG49ZVtzXSxpPWVbcysxXSxhKXtpZihuPT1yKzEpcmV0dXJuIGUuc3BsaWNlKHMtMSwyKSxlO2lmKG4+cilyZXR1cm4gZTtuPj10JiZuPD1yJiYoaT50JiZpLTE8PXI/KGUuc3BsaWNlKHMsMikscy09Mik6KGUuc3BsaWNlKHMtMSwyKSxzLT0yKSl9ZWxzZXtpZihuPT1yKzEpcmV0dXJuIGVbc109dCxlO2lmKG4+cilyZXR1cm4gZS5zcGxpY2UocywwLHQscisxKSxlO2lmKHQ+PW4mJnQ8aSYmcisxPD1pKXJldHVybiBlO3Q+PW4mJnQ8aXx8aT09dD8oZVtzKzFdPXIrMSxhPSEwKTp0PD1uJiZyKzE+PWkmJihlW3NdPXQsZVtzKzFdPXIrMSxhPSEwKX1zKz0yfXJldHVybiBhfHxlLnB1c2godCxyKzEpLGV9LFA9ZnVuY3Rpb24oZSx0KXt2YXIgcj0wLG49ZS5sZW5ndGgsaT1lW3JdLHM9ZVtuLTFdO2lmKG4+PTImJih0PGl8fHQ+cykpcmV0dXJuITE7Zm9yKDtyPG47KXtpZihpPWVbcl0scz1lW3IrMV0sdD49aSYmdDxzKXJldHVybiEwO3IrPTJ9cmV0dXJuITF9LGs9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj0wLGk9dC5sZW5ndGgscz1bXTtuPGk7KXI9dFtuXSxQKGUscikmJnMucHVzaChyKSwrK247cmV0dXJuIHgocyl9LEY9ZnVuY3Rpb24oZSl7cmV0dXJuIWUubGVuZ3RofSxUPWZ1bmN0aW9uKGUpe3JldHVybiAyPT1lLmxlbmd0aCYmZVswXSsxPT1lWzFdfSxPPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxyLG49MCxpPVtdLHM9ZS5sZW5ndGg7bjxzOyl7Zm9yKHQ9ZVtuXSxyPWVbbisxXTt0PHI7KWkucHVzaCh0KSwrK3Q7bis9Mn1yZXR1cm4gaX0sQj1NYXRoLmZsb29yLFI9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KEIoKGUtNjU1MzYpLzEwMjQpKzU1Mjk2LDEwKX0sST1mdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoKGUtNjU1MzYpJTEwMjQrNTYzMjAsMTApfSxNPVN0cmluZy5mcm9tQ2hhckNvZGUsTj1mdW5jdGlvbihlKXtyZXR1cm4gOT09ZT8iXFx0IjoxMD09ZT8iXFxuIjoxMj09ZT8iXFxmIjoxMz09ZT8iXFxyIjo5Mj09ZT8iXFxcXCI6MzY9PWV8fGU+PTQwJiZlPD00M3x8NDU9PWV8fDQ2PT1lfHw2Mz09ZXx8ZT49OTEmJmU8PTk0fHxlPj0xMjMmJmU8PTEyNT8iXFwiK00oZSk6ZT49MzImJmU8PTEyNj9NKGUpOmU8PTI1NT8iXFx4IitnKGIoZSksMik6IlxcdSIrZyhiKGUpLDQpfSxMPWZ1bmN0aW9uKGUpe3JldHVybiBlPD02NTUzNT9OKGUpOiJcXHV7IitlLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpKyJ9In0saj1mdW5jdGlvbihlKXt2YXIgdCxyPWUubGVuZ3RoLG49ZS5jaGFyQ29kZUF0KDApO3JldHVybiBuPj01NTI5NiYmbjw9NTYzMTkmJnI+MT8odD1lLmNoYXJDb2RlQXQoMSksMTAyNCoobi01NTI5NikrdC01NjMyMCs2NTUzNik6bn0sVT1mdW5jdGlvbihlKXt2YXIgdCxyLG49IiIsaT0wLHM9ZS5sZW5ndGg7aWYoVChlKSlyZXR1cm4gTihlWzBdKTtmb3IoO2k8czspdD1lW2ldLHI9ZVtpKzFdLTEsbis9dD09cj9OKHQpOnQrMT09cj9OKHQpK04ocik6Tih0KSsiLSIrTihyKSxpKz0yO3JldHVybiJbIituKyJdIn0sVj1mdW5jdGlvbihlKXt2YXIgdCxyLG49IiIsaT0wLHM9ZS5sZW5ndGg7aWYoVChlKSlyZXR1cm4gTChlWzBdKTtmb3IoO2k8czspdD1lW2ldLHI9ZVtpKzFdLTEsbis9dD09cj9MKHQpOnQrMT09cj9MKHQpK0wocik6TCh0KSsiLSIrTChyKSxpKz0yO3JldHVybiJbIituKyJdIn0sRz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuPVtdLGk9W10scz1bXSxhPVtdLG89MCx1PWUubGVuZ3RoO288dTspdD1lW29dLHI9ZVtvKzFdLTEsdDw1NTI5Nj8ocjw1NTI5NiYmcy5wdXNoKHQscisxKSxyPj01NTI5NiYmcjw9NTYzMTkmJihzLnB1c2godCw1NTI5Niksbi5wdXNoKDU1Mjk2LHIrMSkpLHI+PTU2MzIwJiZyPD01NzM0MyYmKHMucHVzaCh0LDU1Mjk2KSxuLnB1c2goNTUyOTYsNTYzMjApLGkucHVzaCg1NjMyMCxyKzEpKSxyPjU3MzQzJiYocy5wdXNoKHQsNTUyOTYpLG4ucHVzaCg1NTI5Niw1NjMyMCksaS5wdXNoKDU2MzIwLDU3MzQ0KSxyPD02NTUzNT9zLnB1c2goNTczNDQscisxKToocy5wdXNoKDU3MzQ0LDY1NTM2KSxhLnB1c2goNjU1MzYscisxKSkpKTp0Pj01NTI5NiYmdDw9NTYzMTk/KHI+PTU1Mjk2JiZyPD01NjMxOSYmbi5wdXNoKHQscisxKSxyPj01NjMyMCYmcjw9NTczNDMmJihuLnB1c2godCw1NjMyMCksaS5wdXNoKDU2MzIwLHIrMSkpLHI+NTczNDMmJihuLnB1c2godCw1NjMyMCksaS5wdXNoKDU2MzIwLDU3MzQ0KSxyPD02NTUzNT9zLnB1c2goNTczNDQscisxKToocy5wdXNoKDU3MzQ0LDY1NTM2KSxhLnB1c2goNjU1MzYscisxKSkpKTp0Pj01NjMyMCYmdDw9NTczNDM/KHI+PTU2MzIwJiZyPD01NzM0MyYmaS5wdXNoKHQscisxKSxyPjU3MzQzJiYoaS5wdXNoKHQsNTczNDQpLHI8PTY1NTM1P3MucHVzaCg1NzM0NCxyKzEpOihzLnB1c2goNTczNDQsNjU1MzYpLGEucHVzaCg2NTUzNixyKzEpKSkpOnQ+NTczNDMmJnQ8PTY1NTM1P3I8PTY1NTM1P3MucHVzaCh0LHIrMSk6KHMucHVzaCh0LDY1NTM2KSxhLnB1c2goNjU1MzYscisxKSk6YS5wdXNoKHQscisxKSxvKz0yO3JldHVybntsb25lSGlnaFN1cnJvZ2F0ZXM6bixsb25lTG93U3Vycm9nYXRlczppLGJtcDpzLGFzdHJhbDphfX0sVz1mdW5jdGlvbihlKXtmb3IodmFyIHQscixuLGkscyxhLG89W10sdT1bXSxsPSExLGM9LTEsZj1lLmxlbmd0aDsrK2M8ZjspaWYodD1lW2NdLHI9ZVtjKzFdKXtmb3Iobj10WzBdLGk9dFsxXSxzPXJbMF0sYT1yWzFdLHU9aTtzJiZuWzBdPT1zWzBdJiZuWzFdPT1zWzFdOyl1PVQoYSk/Xyh1LGFbMF0pOncodSxhWzBdLGFbMV0tMSksKytjLHQ9ZVtjXSxuPXRbMF0saT10WzFdLHI9ZVtjKzFdLHM9ciYmclswXSxhPXImJnJbMV0sbD0hMDtvLnB1c2goW24sbD91OmldKSxsPSExfWVsc2Ugby5wdXNoKHQpO3JldHVybiBZKG8pfSxZPWZ1bmN0aW9uKGUpe2lmKDE9PWUubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgdD0tMSxyPS0xOysrdDxlLmxlbmd0aDspe3ZhciBuPWVbdF0saT1uWzFdLHM9aVswXSxhPWlbMV07Zm9yKHI9dDsrK3I8ZS5sZW5ndGg7KXt2YXIgbz1lW3JdLHU9b1sxXSxsPXVbMF0sYz11WzFdO3M9PWwmJmE9PWMmJihUKG9bMF0pP25bMF09XyhuWzBdLG9bMF1bMF0pOm5bMF09dyhuWzBdLG9bMF1bMF0sb1swXVsxXS0xKSxlLnNwbGljZShyLDEpLC0tcil9fXJldHVybiBlfSxxPWZ1bmN0aW9uKGUpe2lmKCFlLmxlbmd0aClyZXR1cm5bXTtmb3IodmFyIHQscixuLGkscyxhLG89MCx1PVtdLGw9ZS5sZW5ndGg7bzxsOyl7dD1lW29dLHI9ZVtvKzFdLTEsbj1SKHQpLGk9SSh0KSxzPVIociksYT1JKHIpO3ZhciBjPTU2MzIwPT1pLGY9NTczNDM9PWEscD0hMTtuPT1zfHxjJiZmPyh1LnB1c2goW1tuLHMrMV0sW2ksYSsxXV0pLHA9ITApOnUucHVzaChbW24sbisxXSxbaSw1NzM0NF1dKSwhcCYmbisxPHMmJihmPyh1LnB1c2goW1tuKzEscysxXSxbNTYzMjAsYSsxXV0pLHA9ITApOnUucHVzaChbW24rMSxzXSxbNTYzMjAsNTczNDRdXSkpLHB8fHUucHVzaChbW3MscysxXSxbNTYzMjAsYSsxXV0pLG8rPTJ9cmV0dXJuIFcodSl9LEs9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGgoZSxmdW5jdGlvbihlKXt2YXIgcj1lWzBdLG49ZVsxXTt0LnB1c2goVShyKStVKG4pKX0pLHQuam9pbigifCIpfSxIPWZ1bmN0aW9uKGUsdCxyKXtpZihyKXJldHVybiBWKGUpO3ZhciBuPVtdLGk9RyhlKSxzPWkubG9uZUhpZ2hTdXJyb2dhdGVzLGE9aS5sb25lTG93U3Vycm9nYXRlcyxvPWkuYm1wLHU9aS5hc3RyYWwsbD0hRihzKSxjPSFGKGEpLGY9cSh1KTtyZXR1cm4gdCYmKG89RChvLHMpLGw9ITEsbz1EKG8sYSksYz0hMSksRihvKXx8bi5wdXNoKFUobykpLGYubGVuZ3RoJiZuLnB1c2goSyhmKSksbCYmbi5wdXNoKFUocykrIig/IVtcXHVEQzAwLVxcdURGRkZdKSIpLGMmJm4ucHVzaCgiKD86W15cXHVEODAwLVxcdURCRkZdfF4pIitVKGEpKSxuLmpvaW4oInwiKX0sSj1mdW5jdGlvbiBlKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJih0PUUuY2FsbChhcmd1bWVudHMpKSx0aGlzIGluc3RhbmNlb2YgZT8odGhpcy5kYXRhPVtdLHQ/dGhpcy5hZGQodCk6dGhpcyk6KG5ldyBlKS5hZGQodCl9O0oudmVyc2lvbj0iMS4zLjIiO3ZhciBYPUoucHJvdG90eXBlOyFmdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyIGluIHQpZC5jYWxsKHQscikmJihlW3JdPXRbcl0pfShYLHthZGQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbnVsbD09ZT90OmUgaW5zdGFuY2VvZiBKPyh0LmRhdGE9RCh0LmRhdGEsZS5kYXRhKSx0KTooYXJndW1lbnRzLmxlbmd0aD4xJiYoZT1FLmNhbGwoYXJndW1lbnRzKSkseShlKT8oaChlLGZ1bmN0aW9uKGUpe3QuYWRkKGUpfSksdCk6KHQuZGF0YT1fKHQuZGF0YSx2KGUpP2U6aihlKSksdCkpfSxyZW1vdmU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbnVsbD09ZT90OmUgaW5zdGFuY2VvZiBKPyh0LmRhdGE9Qyh0LmRhdGEsZS5kYXRhKSx0KTooYXJndW1lbnRzLmxlbmd0aD4xJiYoZT1FLmNhbGwoYXJndW1lbnRzKSkseShlKT8oaChlLGZ1bmN0aW9uKGUpe3QucmVtb3ZlKGUpfSksdCk6KHQuZGF0YT1BKHQuZGF0YSx2KGUpP2U6aihlKSksdCkpfSxhZGRSYW5nZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIHIuZGF0YT13KHIuZGF0YSx2KGUpP2U6aihlKSx2KHQpP3Q6aih0KSkscn0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dihlKT9lOmooZSksaT12KHQpP3Q6aih0KTtyZXR1cm4gci5kYXRhPVMoci5kYXRhLG4saSkscn0saW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lIGluc3RhbmNlb2YgSj9PKGUuZGF0YSk6ZTtyZXR1cm4gdC5kYXRhPWsodC5kYXRhLHIpLHR9LGNvbnRhaW5zOmZ1bmN0aW9uKGUpe3JldHVybiBQKHRoaXMuZGF0YSx2KGUpP2U6aihlKSl9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IEo7cmV0dXJuIGUuZGF0YT10aGlzLmRhdGEuc2xpY2UoMCksZX0sdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9SCh0aGlzLmRhdGEsISFlJiZlLmJtcE9ubHksISFlJiZlLmhhc1VuaWNvZGVGbGFnKTtyZXR1cm4gdD90LnJlcGxhY2UoZiwiXFwwJDEiKToiW10ifSx0b1JlZ0V4cDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnRvU3RyaW5nKGUmJi0xIT1lLmluZGV4T2YoInUiKT97aGFzVW5pY29kZUZsYWc6ITB9Om51bGwpO3JldHVybiBSZWdFeHAodCxlfHwiIil9LHZhbHVlT2Y6ZnVuY3Rpb24oKXtyZXR1cm4gTyh0aGlzLmRhdGEpfX0pLFgudG9BcnJheT1YLnZhbHVlT2YsIm9iamVjdCI9PXMocig0OSkpJiZyKDQ5KT92b2lkIDAhPT0obj1mdW5jdGlvbigpe3JldHVybiBKfS5jYWxsKHQscix0LGUpKSYmKGUuZXhwb3J0cz1uKTpvJiYhby5ub2RlVHlwZT91P3UuZXhwb3J0cz1KOm8ucmVnZW5lcmF0ZT1KOmEucmVnZW5lcmF0ZT1KfSh2b2lkIDApfSkuY2FsbCh0LHIoMzkpKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSl7cC5kZWZhdWx0Lm9rKHRoaXMgaW5zdGFuY2VvZiBzKSxoLmFzc2VydElkZW50aWZpZXIoZSksdGhpcy5uZXh0VGVtcElkPTAsdGhpcy5jb250ZXh0SWQ9ZSx0aGlzLmxpc3Rpbmc9W10sdGhpcy5tYXJrZWQ9WyEwXSx0aGlzLmZpbmFsTG9jPWEoKSx0aGlzLnRyeUVudHJpZXM9W10sdGhpcy5sZWFwTWFuYWdlcj1uZXcgeS5MZWFwTWFuYWdlcih0aGlzKX1mdW5jdGlvbiBhKCl7cmV0dXJuIGgubnVtZXJpY0xpdGVyYWwoLTEpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIG5ldyBFcnJvcigiYWxsIGRlY2xhcmF0aW9ucyBzaG91bGQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIGludG8gYXNzaWdubWVudHMgYmVmb3JlIHRoZSBFeHBsb2RlciBiZWdhbiBpdHMgd29yazogIisoMCxjLmRlZmF1bHQpKGUpKX1mdW5jdGlvbiB1KGUpe3ZhciB0PWUudHlwZQo7cmV0dXJuIm5vcm1hbCI9PT10PyF4LmNhbGwoZSwidGFyZ2V0Iik6ImJyZWFrIj09PXR8fCJjb250aW51ZSI9PT10PyF4LmNhbGwoZSwidmFsdWUiKSYmaC5pc0xpdGVyYWwoZS50YXJnZXQpOigicmV0dXJuIj09PXR8fCJ0aHJvdyI9PT10KSYmKHguY2FsbChlLCJ2YWx1ZSIpJiYheC5jYWxsKGUsInRhcmdldCIpKX12YXIgbD1yKDM1KSxjPWkobCksZj1yKDY0KSxwPWkoZiksZD1yKDEpLGg9bihkKSxtPXIoNjA3KSx5PW4obSksdj1yKDYwOCksZz1uKHYpLGI9cigxMTYpLEU9bihiKSx4PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksQT1zLnByb3RvdHlwZTt0LkVtaXR0ZXI9cyxBLm1hcms9ZnVuY3Rpb24oZSl7aC5hc3NlcnRMaXRlcmFsKGUpO3ZhciB0PXRoaXMubGlzdGluZy5sZW5ndGg7cmV0dXJuLTE9PT1lLnZhbHVlP2UudmFsdWU9dDpwLmRlZmF1bHQuc3RyaWN0RXF1YWwoZS52YWx1ZSx0KSx0aGlzLm1hcmtlZFt0XT0hMCxlfSxBLmVtaXQ9ZnVuY3Rpb24oZSl7aC5pc0V4cHJlc3Npb24oZSkmJihlPWguZXhwcmVzc2lvblN0YXRlbWVudChlKSksaC5hc3NlcnRTdGF0ZW1lbnQoZSksdGhpcy5saXN0aW5nLnB1c2goZSl9LEEuZW1pdEFzc2lnbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmVtaXQodGhpcy5hc3NpZ24oZSx0KSksZX0sQS5hc3NpZ249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaC5leHByZXNzaW9uU3RhdGVtZW50KGguYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGUsdCkpfSxBLmNvbnRleHRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3JldHVybiBoLm1lbWJlckV4cHJlc3Npb24odGhpcy5jb250ZXh0SWQsdD9oLnN0cmluZ0xpdGVyYWwoZSk6aC5pZGVudGlmaWVyKGUpLCEhdCl9LEEuc3RvcD1mdW5jdGlvbihlKXtlJiZ0aGlzLnNldFJldHVyblZhbHVlKGUpLHRoaXMuanVtcCh0aGlzLmZpbmFsTG9jKX0sQS5zZXRSZXR1cm5WYWx1ZT1mdW5jdGlvbihlKXtoLmFzc2VydEV4cHJlc3Npb24oZS52YWx1ZSksdGhpcy5lbWl0QXNzaWduKHRoaXMuY29udGV4dFByb3BlcnR5KCJydmFsIiksdGhpcy5leHBsb2RlRXhwcmVzc2lvbihlKSl9LEEuY2xlYXJQZW5kaW5nRXhjZXB0aW9uPWZ1bmN0aW9uKGUsdCl7aC5hc3NlcnRMaXRlcmFsKGUpO3ZhciByPWguY2FsbEV4cHJlc3Npb24odGhpcy5jb250ZXh0UHJvcGVydHkoImNhdGNoIiwhMCksW2VdKTt0P3RoaXMuZW1pdEFzc2lnbih0LHIpOnRoaXMuZW1pdChyKX0sQS5qdW1wPWZ1bmN0aW9uKGUpe3RoaXMuZW1pdEFzc2lnbih0aGlzLmNvbnRleHRQcm9wZXJ0eSgibmV4dCIpLGUpLHRoaXMuZW1pdChoLmJyZWFrU3RhdGVtZW50KCkpfSxBLmp1bXBJZj1mdW5jdGlvbihlLHQpe2guYXNzZXJ0RXhwcmVzc2lvbihlKSxoLmFzc2VydExpdGVyYWwodCksdGhpcy5lbWl0KGguaWZTdGF0ZW1lbnQoZSxoLmJsb2NrU3RhdGVtZW50KFt0aGlzLmFzc2lnbih0aGlzLmNvbnRleHRQcm9wZXJ0eSgibmV4dCIpLHQpLGguYnJlYWtTdGF0ZW1lbnQoKV0pKSl9LEEuanVtcElmTm90PWZ1bmN0aW9uKGUsdCl7aC5hc3NlcnRFeHByZXNzaW9uKGUpLGguYXNzZXJ0TGl0ZXJhbCh0KTt2YXIgcj12b2lkIDA7cj1oLmlzVW5hcnlFeHByZXNzaW9uKGUpJiYiISI9PT1lLm9wZXJhdG9yP2UuYXJndW1lbnQ6aC51bmFyeUV4cHJlc3Npb24oIiEiLGUpLHRoaXMuZW1pdChoLmlmU3RhdGVtZW50KHIsaC5ibG9ja1N0YXRlbWVudChbdGhpcy5hc3NpZ24odGhpcy5jb250ZXh0UHJvcGVydHkoIm5leHQiKSx0KSxoLmJyZWFrU3RhdGVtZW50KCldKSkpfSxBLm1ha2VUZW1wVmFyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dFByb3BlcnR5KCJ0Iit0aGlzLm5leHRUZW1wSWQrKyl9LEEuZ2V0Q29udGV4dEZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3JldHVybiBoLmZ1bmN0aW9uRXhwcmVzc2lvbihlfHxudWxsLFt0aGlzLmNvbnRleHRJZF0saC5ibG9ja1N0YXRlbWVudChbdGhpcy5nZXREaXNwYXRjaExvb3AoKV0pLCExLCExKX0sQS5nZXREaXNwYXRjaExvb3A9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9W10scj12b2lkIDAsbj0hMTtyZXR1cm4gZS5saXN0aW5nLmZvckVhY2goZnVuY3Rpb24oaSxzKXtlLm1hcmtlZC5oYXNPd25Qcm9wZXJ0eShzKSYmKHQucHVzaChoLnN3aXRjaENhc2UoaC5udW1lcmljTGl0ZXJhbChzKSxyPVtdKSksbj0hMSksbnx8KHIucHVzaChpKSxoLmlzQ29tcGxldGlvblN0YXRlbWVudChpKSYmKG49ITApKX0pLHRoaXMuZmluYWxMb2MudmFsdWU9dGhpcy5saXN0aW5nLmxlbmd0aCx0LnB1c2goaC5zd2l0Y2hDYXNlKHRoaXMuZmluYWxMb2MsW10pLGguc3dpdGNoQ2FzZShoLnN0cmluZ0xpdGVyYWwoImVuZCIpLFtoLnJldHVyblN0YXRlbWVudChoLmNhbGxFeHByZXNzaW9uKHRoaXMuY29udGV4dFByb3BlcnR5KCJzdG9wIiksW10pKV0pKSxoLndoaWxlU3RhdGVtZW50KGgubnVtZXJpY0xpdGVyYWwoMSksaC5zd2l0Y2hTdGF0ZW1lbnQoaC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdGhpcy5jb250ZXh0UHJvcGVydHkoInByZXYiKSx0aGlzLmNvbnRleHRQcm9wZXJ0eSgibmV4dCIpKSx0KSl9LEEuZ2V0VHJ5TG9jc0xpc3Q9ZnVuY3Rpb24oKXtpZigwPT09dGhpcy50cnlFbnRyaWVzLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgZT0wO3JldHVybiBoLmFycmF5RXhwcmVzc2lvbih0aGlzLnRyeUVudHJpZXMubWFwKGZ1bmN0aW9uKHQpe3ZhciByPXQuZmlyc3RMb2MudmFsdWU7cC5kZWZhdWx0Lm9rKHI+PWUsInRyeSBlbnRyaWVzIG91dCBvZiBvcmRlciIpLGU9cjt2YXIgbj10LmNhdGNoRW50cnksaT10LmZpbmFsbHlFbnRyeSxzPVt0LmZpcnN0TG9jLG4/bi5maXJzdExvYzpudWxsXTtyZXR1cm4gaSYmKHNbMl09aS5maXJzdExvYyxzWzNdPWkuYWZ0ZXJMb2MpLGguYXJyYXlFeHByZXNzaW9uKHMpfSkpfSxBLmV4cGxvZGU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUsbj10aGlzO2lmKGguYXNzZXJ0Tm9kZShyKSxoLmlzRGVjbGFyYXRpb24ocikpdGhyb3cgbyhyKTtpZihoLmlzU3RhdGVtZW50KHIpKXJldHVybiBuLmV4cGxvZGVTdGF0ZW1lbnQoZSk7aWYoaC5pc0V4cHJlc3Npb24ocikpcmV0dXJuIG4uZXhwbG9kZUV4cHJlc3Npb24oZSx0KTtzd2l0Y2goci50eXBlKXtjYXNlIlByb2dyYW0iOnJldHVybiBlLmdldCgiYm9keSIpLm1hcChuLmV4cGxvZGVTdGF0ZW1lbnQsbik7Y2FzZSJWYXJpYWJsZURlY2xhcmF0b3IiOnRocm93IG8ocik7Y2FzZSJQcm9wZXJ0eSI6Y2FzZSJTd2l0Y2hDYXNlIjpjYXNlIkNhdGNoQ2xhdXNlIjp0aHJvdyBuZXcgRXJyb3Ioci50eXBlKyIgbm9kZXMgc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlaXIgcGFyZW50cyIpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJ1bmtub3duIE5vZGUgb2YgdHlwZSAiKygwLGMuZGVmYXVsdCkoci50eXBlKSl9fSxBLmV4cGxvZGVTdGF0ZW1lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUsbj10aGlzLGk9dm9pZCAwLHM9dm9pZCAwLG89dm9pZCAwO2lmKGguYXNzZXJ0U3RhdGVtZW50KHIpLHQ/aC5hc3NlcnRJZGVudGlmaWVyKHQpOnQ9bnVsbCxoLmlzQmxvY2tTdGF0ZW1lbnQocikpcmV0dXJuIHZvaWQgZS5nZXQoImJvZHkiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uZXhwbG9kZVN0YXRlbWVudChlKX0pO2lmKCFnLmNvbnRhaW5zTGVhcChyKSlyZXR1cm4gdm9pZCBuLmVtaXQocik7c3dpdGNoKHIudHlwZSl7Y2FzZSJFeHByZXNzaW9uU3RhdGVtZW50IjpuLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJleHByZXNzaW9uIiksITApO2JyZWFrO2Nhc2UiTGFiZWxlZFN0YXRlbWVudCI6cz1hKCksbi5sZWFwTWFuYWdlci53aXRoRW50cnkobmV3IHkuTGFiZWxlZEVudHJ5KHMsci5sYWJlbCksZnVuY3Rpb24oKXtuLmV4cGxvZGVTdGF0ZW1lbnQoZS5nZXQoImJvZHkiKSxyLmxhYmVsKX0pLG4ubWFyayhzKTticmVhaztjYXNlIldoaWxlU3RhdGVtZW50IjppPWEoKSxzPWEoKSxuLm1hcmsoaSksbi5qdW1wSWZOb3Qobi5leHBsb2RlRXhwcmVzc2lvbihlLmdldCgidGVzdCIpKSxzKSxuLmxlYXBNYW5hZ2VyLndpdGhFbnRyeShuZXcgeS5Mb29wRW50cnkocyxpLHQpLGZ1bmN0aW9uKCl7bi5leHBsb2RlU3RhdGVtZW50KGUuZ2V0KCJib2R5IikpfSksbi5qdW1wKGkpLG4ubWFyayhzKTticmVhaztjYXNlIkRvV2hpbGVTdGF0ZW1lbnQiOnZhciB1PWEoKSxsPWEoKTtzPWEoKSxuLm1hcmsodSksbi5sZWFwTWFuYWdlci53aXRoRW50cnkobmV3IHkuTG9vcEVudHJ5KHMsbCx0KSxmdW5jdGlvbigpe24uZXhwbG9kZShlLmdldCgiYm9keSIpKX0pLG4ubWFyayhsKSxuLmp1bXBJZihuLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJ0ZXN0IikpLHUpLG4ubWFyayhzKTticmVhaztjYXNlIkZvclN0YXRlbWVudCI6bz1hKCk7dmFyIGY9YSgpO3M9YSgpLHIuaW5pdCYmbi5leHBsb2RlKGUuZ2V0KCJpbml0IiksITApLG4ubWFyayhvKSxyLnRlc3QmJm4uanVtcElmTm90KG4uZXhwbG9kZUV4cHJlc3Npb24oZS5nZXQoInRlc3QiKSkscyksbi5sZWFwTWFuYWdlci53aXRoRW50cnkobmV3IHkuTG9vcEVudHJ5KHMsZix0KSxmdW5jdGlvbigpe24uZXhwbG9kZVN0YXRlbWVudChlLmdldCgiYm9keSIpKX0pLG4ubWFyayhmKSxyLnVwZGF0ZSYmbi5leHBsb2RlKGUuZ2V0KCJ1cGRhdGUiKSwhMCksbi5qdW1wKG8pLG4ubWFyayhzKTticmVhaztjYXNlIlR5cGVDYXN0RXhwcmVzc2lvbiI6cmV0dXJuIG4uZXhwbG9kZUV4cHJlc3Npb24oZS5nZXQoImV4cHJlc3Npb24iKSk7Y2FzZSJGb3JJblN0YXRlbWVudCI6bz1hKCkscz1hKCk7dmFyIGQ9bi5tYWtlVGVtcFZhcigpO24uZW1pdEFzc2lnbihkLGguY2FsbEV4cHJlc3Npb24oRS5ydW50aW1lUHJvcGVydHkoImtleXMiKSxbbi5leHBsb2RlRXhwcmVzc2lvbihlLmdldCgicmlnaHQiKSldKSksbi5tYXJrKG8pO3ZhciBtPW4ubWFrZVRlbXBWYXIoKTtuLmp1bXBJZihoLm1lbWJlckV4cHJlc3Npb24oaC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsbSxoLmNhbGxFeHByZXNzaW9uKGQsW10pKSxoLmlkZW50aWZpZXIoImRvbmUiKSwhMSkscyksbi5lbWl0QXNzaWduKHIubGVmdCxoLm1lbWJlckV4cHJlc3Npb24obSxoLmlkZW50aWZpZXIoInZhbHVlIiksITEpKSxuLmxlYXBNYW5hZ2VyLndpdGhFbnRyeShuZXcgeS5Mb29wRW50cnkocyxvLHQpLGZ1bmN0aW9uKCl7bi5leHBsb2RlU3RhdGVtZW50KGUuZ2V0KCJib2R5IikpfSksbi5qdW1wKG8pLG4ubWFyayhzKTticmVhaztjYXNlIkJyZWFrU3RhdGVtZW50IjpuLmVtaXRBYnJ1cHRDb21wbGV0aW9uKHt0eXBlOiJicmVhayIsdGFyZ2V0Om4ubGVhcE1hbmFnZXIuZ2V0QnJlYWtMb2Moci5sYWJlbCl9KTticmVhaztjYXNlIkNvbnRpbnVlU3RhdGVtZW50IjpuLmVtaXRBYnJ1cHRDb21wbGV0aW9uKHt0eXBlOiJjb250aW51ZSIsdGFyZ2V0Om4ubGVhcE1hbmFnZXIuZ2V0Q29udGludWVMb2Moci5sYWJlbCl9KTticmVhaztjYXNlIlN3aXRjaFN0YXRlbWVudCI6dmFyIHY9bi5lbWl0QXNzaWduKG4ubWFrZVRlbXBWYXIoKSxuLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJkaXNjcmltaW5hbnQiKSkpO3M9YSgpO2Zvcih2YXIgYj1hKCkseD1iLEE9W10sXz1yLmNhc2VzfHxbXSxEPV8ubGVuZ3RoLTE7RD49MDstLUQpe3ZhciBDPV9bRF07aC5hc3NlcnRTd2l0Y2hDYXNlKEMpLEMudGVzdD94PWguY29uZGl0aW9uYWxFeHByZXNzaW9uKGguYmluYXJ5RXhwcmVzc2lvbigiPT09Iix2LEMudGVzdCksQVtEXT1hKCkseCk6QVtEXT1ifXZhciB3PWUuZ2V0KCJkaXNjcmltaW5hbnQiKTtFLnJlcGxhY2VXaXRoT3JSZW1vdmUodyx4KSxuLmp1bXAobi5leHBsb2RlRXhwcmVzc2lvbih3KSksbi5sZWFwTWFuYWdlci53aXRoRW50cnkobmV3IHkuU3dpdGNoRW50cnkocyksZnVuY3Rpb24oKXtlLmdldCgiY2FzZXMiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5O24ubWFyayhBW3RdKSxlLmdldCgiY29uc2VxdWVudCIpLmZvckVhY2goZnVuY3Rpb24oZSl7bi5leHBsb2RlU3RhdGVtZW50KGUpfSl9KX0pLG4ubWFyayhzKSwtMT09PWIudmFsdWUmJihuLm1hcmsoYikscC5kZWZhdWx0LnN0cmljdEVxdWFsKHMudmFsdWUsYi52YWx1ZSkpO2JyZWFrO2Nhc2UiSWZTdGF0ZW1lbnQiOnZhciBQPXIuYWx0ZXJuYXRlJiZhKCk7cz1hKCksbi5qdW1wSWZOb3Qobi5leHBsb2RlRXhwcmVzc2lvbihlLmdldCgidGVzdCIpKSxQfHxzKSxuLmV4cGxvZGVTdGF0ZW1lbnQoZS5nZXQoImNvbnNlcXVlbnQiKSksUCYmKG4uanVtcChzKSxuLm1hcmsoUCksbi5leHBsb2RlU3RhdGVtZW50KGUuZ2V0KCJhbHRlcm5hdGUiKSkpLG4ubWFyayhzKTticmVhaztjYXNlIlJldHVyblN0YXRlbWVudCI6bi5lbWl0QWJydXB0Q29tcGxldGlvbih7dHlwZToicmV0dXJuIix2YWx1ZTpuLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJhcmd1bWVudCIpKX0pO2JyZWFrO2Nhc2UiV2l0aFN0YXRlbWVudCI6dGhyb3cgbmV3IEVycm9yKCJXaXRoU3RhdGVtZW50IG5vdCBzdXBwb3J0ZWQgaW4gZ2VuZXJhdG9yIGZ1bmN0aW9ucy4iKTtjYXNlIlRyeVN0YXRlbWVudCI6cz1hKCk7dmFyIGs9ci5oYW5kbGVyLEY9ayYmYSgpLFQ9RiYmbmV3IHkuQ2F0Y2hFbnRyeShGLGsucGFyYW0pLE89ci5maW5hbGl6ZXImJmEoKSxCPU8mJm5ldyB5LkZpbmFsbHlFbnRyeShPLHMpLFI9bmV3IHkuVHJ5RW50cnkobi5nZXRVbm1hcmtlZEN1cnJlbnRMb2MoKSxULEIpO24udHJ5RW50cmllcy5wdXNoKFIpLG4udXBkYXRlQ29udGV4dFByZXZMb2MoUi5maXJzdExvYyksbi5sZWFwTWFuYWdlci53aXRoRW50cnkoUixmdW5jdGlvbigpe2lmKG4uZXhwbG9kZVN0YXRlbWVudChlLmdldCgiYmxvY2siKSksRil7Tz9uLmp1bXAoTyk6bi5qdW1wKHMpLG4udXBkYXRlQ29udGV4dFByZXZMb2Mobi5tYXJrKEYpKTt2YXIgdD1lLmdldCgiaGFuZGxlci5ib2R5Iikscj1uLm1ha2VUZW1wVmFyKCk7bi5jbGVhclBlbmRpbmdFeGNlcHRpb24oUi5maXJzdExvYyxyKSx0LnRyYXZlcnNlKFMse3NhZmVQYXJhbTpyLGNhdGNoUGFyYW1OYW1lOmsucGFyYW0ubmFtZX0pLG4ubGVhcE1hbmFnZXIud2l0aEVudHJ5KFQsZnVuY3Rpb24oKXtuLmV4cGxvZGVTdGF0ZW1lbnQodCl9KX1PJiYobi51cGRhdGVDb250ZXh0UHJldkxvYyhuLm1hcmsoTykpLG4ubGVhcE1hbmFnZXIud2l0aEVudHJ5KEIsZnVuY3Rpb24oKXtuLmV4cGxvZGVTdGF0ZW1lbnQoZS5nZXQoImZpbmFsaXplciIpKX0pLG4uZW1pdChoLnJldHVyblN0YXRlbWVudChoLmNhbGxFeHByZXNzaW9uKG4uY29udGV4dFByb3BlcnR5KCJmaW5pc2giKSxbQi5maXJzdExvY10pKSkpfSksbi5tYXJrKHMpO2JyZWFrO2Nhc2UiVGhyb3dTdGF0ZW1lbnQiOm4uZW1pdChoLnRocm93U3RhdGVtZW50KG4uZXhwbG9kZUV4cHJlc3Npb24oZS5nZXQoImFyZ3VtZW50IikpKSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24gU3RhdGVtZW50IG9mIHR5cGUgIisoMCxjLmRlZmF1bHQpKHIudHlwZSkpfX07dmFyIFM9e0lkZW50aWZpZXI6ZnVuY3Rpb24oZSx0KXtlLm5vZGUubmFtZT09PXQuY2F0Y2hQYXJhbU5hbWUmJkUuaXNSZWZlcmVuY2UoZSkmJkUucmVwbGFjZVdpdGhPclJlbW92ZShlLHQuc2FmZVBhcmFtKX0sU2NvcGU6ZnVuY3Rpb24oZSx0KXtlLnNjb3BlLmhhc093bkJpbmRpbmcodC5jYXRjaFBhcmFtTmFtZSkmJmUuc2tpcCgpfX07QS5lbWl0QWJydXB0Q29tcGxldGlvbj1mdW5jdGlvbihlKXt1KGUpfHxwLmRlZmF1bHQub2soITEsImludmFsaWQgY29tcGxldGlvbiByZWNvcmQ6ICIrKDAsYy5kZWZhdWx0KShlKSkscC5kZWZhdWx0Lm5vdFN0cmljdEVxdWFsKGUudHlwZSwibm9ybWFsIiwibm9ybWFsIGNvbXBsZXRpb25zIGFyZSBub3QgYWJydXB0Iik7dmFyIHQ9W2guc3RyaW5nTGl0ZXJhbChlLnR5cGUpXTsiYnJlYWsiPT09ZS50eXBlfHwiY29udGludWUiPT09ZS50eXBlPyhoLmFzc2VydExpdGVyYWwoZS50YXJnZXQpLHRbMV09ZS50YXJnZXQpOiJyZXR1cm4iIT09ZS50eXBlJiYidGhyb3ciIT09ZS50eXBlfHxlLnZhbHVlJiYoaC5hc3NlcnRFeHByZXNzaW9uKGUudmFsdWUpLHRbMV09ZS52YWx1ZSksdGhpcy5lbWl0KGgucmV0dXJuU3RhdGVtZW50KGguY2FsbEV4cHJlc3Npb24odGhpcy5jb250ZXh0UHJvcGVydHkoImFicnVwdCIpLHQpKSl9LEEuZ2V0VW5tYXJrZWRDdXJyZW50TG9jPWZ1bmN0aW9uKCl7cmV0dXJuIGgubnVtZXJpY0xpdGVyYWwodGhpcy5saXN0aW5nLmxlbmd0aCl9LEEudXBkYXRlQ29udGV4dFByZXZMb2M9ZnVuY3Rpb24oZSl7ZT8oaC5hc3NlcnRMaXRlcmFsKGUpLC0xPT09ZS52YWx1ZT9lLnZhbHVlPXRoaXMubGlzdGluZy5sZW5ndGg6cC5kZWZhdWx0LnN0cmljdEVxdWFsKGUudmFsdWUsdGhpcy5saXN0aW5nLmxlbmd0aCkpOmU9dGhpcy5nZXRVbm1hcmtlZEN1cnJlbnRMb2MoKSx0aGlzLmVtaXRBc3NpZ24odGhpcy5jb250ZXh0UHJvcGVydHkoInByZXYiKSxlKX0sQS5leHBsb2RlRXhwcmVzc2lvbj1mdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIoZSl7aWYoaC5hc3NlcnRFeHByZXNzaW9uKGUpLCF0KXJldHVybiBlO3MuZW1pdChlKX1mdW5jdGlvbiBuKGUsdCxyKXtwLmRlZmF1bHQub2soIXJ8fCFlLCJJZ25vcmluZyB0aGUgcmVzdWx0IG9mIGEgY2hpbGQgZXhwcmVzc2lvbiBidXQgZm9yY2luZyBpdCB0byBiZSBhc3NpZ25lZCB0byBhIHRlbXBvcmFyeSB2YXJpYWJsZT8iKTt2YXIgbj1zLmV4cGxvZGVFeHByZXNzaW9uKHQscik7cmV0dXJuIHJ8fChlfHxsJiYhaC5pc0xpdGVyYWwobikpJiYobj1zLmVtaXRBc3NpZ24oZXx8cy5tYWtlVGVtcFZhcigpLG4pKSxufXZhciBpPWUubm9kZTtpZighaSlyZXR1cm4gaTtoLmFzc2VydEV4cHJlc3Npb24oaSk7dmFyIHM9dGhpcyxvPXZvaWQgMCx1PXZvaWQgMDtpZighZy5jb250YWluc0xlYXAoaSkpcmV0dXJuIHIoaSk7dmFyIGw9Zy5jb250YWluc0xlYXAub25seUNoaWxkcmVuKGkpO3N3aXRjaChpLnR5cGUpe2Nhc2UiTWVtYmVyRXhwcmVzc2lvbiI6cmV0dXJuIHIoaC5tZW1iZXJFeHByZXNzaW9uKHMuZXhwbG9kZUV4cHJlc3Npb24oZS5nZXQoIm9iamVjdCIpKSxpLmNvbXB1dGVkP24obnVsbCxlLmdldCgicHJvcGVydHkiKSk6aS5wcm9wZXJ0eSxpLmNvbXB1dGVkKSk7Y2FzZSJDYWxsRXhwcmVzc2lvbiI6dmFyIGY9ZS5nZXQoImNhbGxlZSIpLGQ9ZS5nZXQoImFyZ3VtZW50cyIpLG09dm9pZCAwLHk9W10sdj0hMTtpZihkLmZvckVhY2goZnVuY3Rpb24oZSl7dj12fHxnLmNvbnRhaW5zTGVhcChlLm5vZGUpfSksaC5pc01lbWJlckV4cHJlc3Npb24oZi5ub2RlKSlpZih2KXt2YXIgYj1uKHMubWFrZVRlbXBWYXIoKSxmLmdldCgib2JqZWN0IikpLEU9Zi5ub2RlLmNvbXB1dGVkP24obnVsbCxmLmdldCgicHJvcGVydHkiKSk6Zi5ub2RlLnByb3BlcnR5O3kudW5zaGlmdChiKSxtPWgubWVtYmVyRXhwcmVzc2lvbihoLm1lbWJlckV4cHJlc3Npb24oYixFLGYubm9kZS5jb21wdXRlZCksaC5pZGVudGlmaWVyKCJjYWxsIiksITEpfWVsc2UgbT1zLmV4cGxvZGVFeHByZXNzaW9uKGYpO2Vsc2UgbT1uKG51bGwsZiksaC5pc01lbWJlckV4cHJlc3Npb24obSkmJihtPWguc2VxdWVuY2VFeHByZXNzaW9uKFtoLm51bWVyaWNMaXRlcmFsKDApLG1dKSk7cmV0dXJuIGQuZm9yRWFjaChmdW5jdGlvbihlKXt5LnB1c2gobihudWxsLGUpKX0pLHIoaC5jYWxsRXhwcmVzc2lvbihtLHkpKTtjYXNlIk5ld0V4cHJlc3Npb24iOnJldHVybiByKGgubmV3RXhwcmVzc2lvbihuKG51bGwsZS5nZXQoImNhbGxlZSIpKSxlLmdldCgiYXJndW1lbnRzIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuKG51bGwsZSl9KSkpO2Nhc2UiT2JqZWN0RXhwcmVzc2lvbiI6cmV0dXJuIHIoaC5vYmplY3RFeHByZXNzaW9uKGUuZ2V0KCJwcm9wZXJ0aWVzIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzT2JqZWN0UHJvcGVydHkoKT9oLm9iamVjdFByb3BlcnR5KGUubm9kZS5rZXksbihudWxsLGUuZ2V0KCJ2YWx1ZSIpKSxlLm5vZGUuY29tcHV0ZWQpOmUubm9kZX0pKSk7Y2FzZSJBcnJheUV4cHJlc3Npb24iOnJldHVybiByKGguYXJyYXlFeHByZXNzaW9uKGUuZ2V0KCJlbGVtZW50cyIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbihudWxsLGUpfSkpKTtjYXNlIlNlcXVlbmNlRXhwcmVzc2lvbiI6dmFyIHg9aS5leHByZXNzaW9ucy5sZW5ndGgtMTtyZXR1cm4gZS5nZXQoImV4cHJlc3Npb25zIikuZm9yRWFjaChmdW5jdGlvbihlKXtlLmtleT09PXg/bz1zLmV4cGxvZGVFeHByZXNzaW9uKGUsdCk6cy5leHBsb2RlRXhwcmVzc2lvbihlLCEwKX0pLG87Y2FzZSJMb2dpY2FsRXhwcmVzc2lvbiI6dT1hKCksdHx8KG89cy5tYWtlVGVtcFZhcigpKTt2YXIgQT1uKG8sZS5nZXQoImxlZnQiKSk7cmV0dXJuIiYmIj09PWkub3BlcmF0b3I/cy5qdW1wSWZOb3QoQSx1KToocC5kZWZhdWx0LnN0cmljdEVxdWFsKGkub3BlcmF0b3IsInx8Iikscy5qdW1wSWYoQSx1KSksbihvLGUuZ2V0KCJyaWdodCIpLHQpLHMubWFyayh1KSxvO2Nhc2UiQ29uZGl0aW9uYWxFeHByZXNzaW9uIjp2YXIgUz1hKCk7dT1hKCk7dmFyIF89cy5leHBsb2RlRXhwcmVzc2lvbihlLmdldCgidGVzdCIpKTtyZXR1cm4gcy5qdW1wSWZOb3QoXyxTKSx0fHwobz1zLm1ha2VUZW1wVmFyKCkpLG4obyxlLmdldCgiY29uc2VxdWVudCIpLHQpLHMuanVtcCh1KSxzLm1hcmsoUyksbihvLGUuZ2V0KCJhbHRlcm5hdGUiKSx0KSxzLm1hcmsodSksbztjYXNlIlVuYXJ5RXhwcmVzc2lvbiI6cmV0dXJuIHIoaC51bmFyeUV4cHJlc3Npb24oaS5vcGVyYXRvcixzLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJhcmd1bWVudCIpKSwhIWkucHJlZml4KSk7Y2FzZSJCaW5hcnlFeHByZXNzaW9uIjpyZXR1cm4gcihoLmJpbmFyeUV4cHJlc3Npb24oaS5vcGVyYXRvcixuKG51bGwsZS5nZXQoImxlZnQiKSksbihudWxsLGUuZ2V0KCJyaWdodCIpKSkpO2Nhc2UiQXNzaWdubWVudEV4cHJlc3Npb24iOnJldHVybiByKGguYXNzaWdubWVudEV4cHJlc3Npb24oaS5vcGVyYXRvcixzLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJsZWZ0IikpLHMuZXhwbG9kZUV4cHJlc3Npb24oZS5nZXQoInJpZ2h0IikpKSk7Y2FzZSJVcGRhdGVFeHByZXNzaW9uIjpyZXR1cm4gcihoLnVwZGF0ZUV4cHJlc3Npb24oaS5vcGVyYXRvcixzLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJhcmd1bWVudCIpKSxpLnByZWZpeCkpO2Nhc2UiWWllbGRFeHByZXNzaW9uIjp1PWEoKTt2YXIgRD1pLmFyZ3VtZW50JiZzLmV4cGxvZGVFeHByZXNzaW9uKGUuZ2V0KCJhcmd1bWVudCIpKTtpZihEJiZpLmRlbGVnYXRlKXt2YXIgQz1zLm1ha2VUZW1wVmFyKCk7cmV0dXJuIHMuZW1pdChoLnJldHVyblN0YXRlbWVudChoLmNhbGxFeHByZXNzaW9uKHMuY29udGV4dFByb3BlcnR5KCJkZWxlZ2F0ZVlpZWxkIiksW0QsaC5zdHJpbmdMaXRlcmFsKEMucHJvcGVydHkubmFtZSksdV0pKSkscy5tYXJrKHUpLEN9cmV0dXJuIHMuZW1pdEFzc2lnbihzLmNvbnRleHRQcm9wZXJ0eSgibmV4dCIpLHUpLHMuZW1pdChoLnJldHVyblN0YXRlbWVudChEfHxudWxsKSkscy5tYXJrKHUpLHMuY29udGV4dFByb3BlcnR5KCJzZW50Iik7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoInVua25vd24gRXhwcmVzc2lvbiBvZiB0eXBlICIrKDAsYy5kZWZhdWx0KShpLnR5cGUpKX19fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9L15cXFxcXD9cXC8udGVzdChlKSxyPS9bXlx4MDAtXHg4MF0rLy50ZXN0KGUpO3JldHVybiB0fHxyP2U6ZS5yZXBsYWNlKC9cXC9nLCIvIil9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt0aGlzLl9hcnJheT1bXSx0aGlzLl9zZXQ9T2JqZWN0LmNyZWF0ZShudWxsKX12YXIgaT1yKDYzKSxzPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7bi5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9bmV3IG4saT0wLHM9ZS5sZW5ndGg7aTxzO2krKylyLmFkZChlW2ldLHQpO3JldHVybiByfSxuLnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMuX3NldCkubGVuZ3RofSxuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLnRvU2V0U3RyaW5nKGUpLG49cy5jYWxsKHRoaXMuX3NldCxyKSxhPXRoaXMuX2FycmF5Lmxlbmd0aDtuJiYhdHx8dGhpcy5fYXJyYXkucHVzaChlKSxufHwodGhpcy5fc2V0W3JdPWEpfSxuLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7dmFyIHQ9aS50b1NldFN0cmluZyhlKTtyZXR1cm4gcy5jYWxsKHRoaXMuX3NldCx0KX0sbi5wcm90b3R5cGUuaW5kZXhPZj1mdW5jdGlvbihlKXt2YXIgdD1pLnRvU2V0U3RyaW5nKGUpO2lmKHMuY2FsbCh0aGlzLl9zZXQsdCkpcmV0dXJuIHRoaXMuX3NldFt0XTt0aHJvdyBuZXcgRXJyb3IoJyInK2UrJyIgaXMgbm90IGluIHRoZSBzZXQuJyl9LG4ucHJvdG90eXBlLmF0PWZ1bmN0aW9uKGUpe2lmKGU+PTAmJmU8dGhpcy5fYXJyYXkubGVuZ3RoKXJldHVybiB0aGlzLl9hcnJheVtlXTt0aHJvdyBuZXcgRXJyb3IoIk5vIGVsZW1lbnQgaW5kZXhlZCBieSAiK2UpfSxuLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKCl9LHQuQXJyYXlTZXQ9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlPDA/MSsoLWU8PDEpOjArKGU8PDEpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9MT09KDEmZSkscj1lPj4xO3JldHVybiB0Py1yOnJ9dmFyIHM9cig2MTYpO3QuZW5jb2RlPWZ1bmN0aW9uKGUpe3ZhciB0LHI9IiIsaT1uKGUpO2Rve3Q9MzEmaSxpPj4+PTUsaT4wJiYodHw9MzIpLHIrPXMuZW5jb2RlKHQpfXdoaWxlKGk+MCk7cmV0dXJuIHJ9LHQuZGVjb2RlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhLG89ZS5sZW5ndGgsdT0wLGw9MDtkb3tpZih0Pj1vKXRocm93IG5ldyBFcnJvcigiRXhwZWN0ZWQgbW9yZSBkaWdpdHMgaW4gYmFzZSA2NCBWTFEgdmFsdWUuIik7aWYoLTE9PT0oYT1zLmRlY29kZShlLmNoYXJDb2RlQXQodCsrKSkpKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBiYXNlNjQgZGlnaXQ6ICIrZS5jaGFyQXQodC0xKSk7bj0hISgzMiZhKSxhJj0zMSx1Kz1hPDxsLGwrPTV9d2hpbGUobik7ci52YWx1ZT1pKHUpLHIucmVzdD10fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2V8fChlPXt9KSx0aGlzLl9maWxlPXMuZ2V0QXJnKGUsImZpbGUiLG51bGwpLHRoaXMuX3NvdXJjZVJvb3Q9cy5nZXRBcmcoZSwic291cmNlUm9vdCIsbnVsbCksdGhpcy5fc2tpcFZhbGlkYXRpb249cy5nZXRBcmcoZSwic2tpcFZhbGlkYXRpb24iLCExKSx0aGlzLl9zb3VyY2VzPW5ldyBhLHRoaXMuX25hbWVzPW5ldyBhLHRoaXMuX21hcHBpbmdzPW5ldyBvLHRoaXMuX3NvdXJjZXNDb250ZW50cz1udWxsfXZhciBpPXIoMjg2KSxzPXIoNjMpLGE9cigyODUpLkFycmF5U2V0LG89cig2MTgpLk1hcHBpbmdMaXN0O24ucHJvdG90eXBlLl92ZXJzaW9uPTMsbi5mcm9tU291cmNlTWFwPWZ1bmN0aW9uKGUpe3ZhciB0PWUuc291cmNlUm9vdCxyPW5ldyBuKHtmaWxlOmUuZmlsZSxzb3VyY2VSb290OnR9KTtyZXR1cm4gZS5lYWNoTWFwcGluZyhmdW5jdGlvbihlKXt2YXIgbj17Z2VuZXJhdGVkOntsaW5lOmUuZ2VuZXJhdGVkTGluZSxjb2x1bW46ZS5nZW5lcmF0ZWRDb2x1bW59fTtudWxsIT1lLnNvdXJjZSYmKG4uc291cmNlPWUuc291cmNlLG51bGwhPXQmJihuLnNvdXJjZT1zLnJlbGF0aXZlKHQsbi5zb3VyY2UpKSxuLm9yaWdpbmFsPXtsaW5lOmUub3JpZ2luYWxMaW5lLGNvbHVtbjplLm9yaWdpbmFsQ29sdW1ufSxudWxsIT1lLm5hbWUmJihuLm5hbWU9ZS5uYW1lKSksci5hZGRNYXBwaW5nKG4pfSksZS5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5zb3VyY2VDb250ZW50Rm9yKHQpO251bGwhPW4mJnIuc2V0U291cmNlQ29udGVudCh0LG4pfSkscn0sbi5wcm90b3R5cGUuYWRkTWFwcGluZz1mdW5jdGlvbihlKXt2YXIgdD1zLmdldEFyZyhlLCJnZW5lcmF0ZWQiKSxyPXMuZ2V0QXJnKGUsIm9yaWdpbmFsIixudWxsKSxuPXMuZ2V0QXJnKGUsInNvdXJjZSIsbnVsbCksaT1zLmdldEFyZyhlLCJuYW1lIixudWxsKTt0aGlzLl9za2lwVmFsaWRhdGlvbnx8dGhpcy5fdmFsaWRhdGVNYXBwaW5nKHQscixuLGkpLG51bGwhPW4mJihuPVN0cmluZyhuKSx0aGlzLl9zb3VyY2VzLmhhcyhuKXx8dGhpcy5fc291cmNlcy5hZGQobikpLG51bGwhPWkmJihpPVN0cmluZyhpKSx0aGlzLl9uYW1lcy5oYXMoaSl8fHRoaXMuX25hbWVzLmFkZChpKSksdGhpcy5fbWFwcGluZ3MuYWRkKHtnZW5lcmF0ZWRMaW5lOnQubGluZSxnZW5lcmF0ZWRDb2x1bW46dC5jb2x1bW4sb3JpZ2luYWxMaW5lOm51bGwhPXImJnIubGluZSxvcmlnaW5hbENvbHVtbjpudWxsIT1yJiZyLmNvbHVtbixzb3VyY2U6bixuYW1lOml9KX0sbi5wcm90b3R5cGUuc2V0U291cmNlQ29udGVudD1mdW5jdGlvbihlLHQpe3ZhciByPWU7bnVsbCE9dGhpcy5fc291cmNlUm9vdCYmKHI9cy5yZWxhdGl2ZSh0aGlzLl9zb3VyY2VSb290LHIpKSxudWxsIT10Pyh0aGlzLl9zb3VyY2VzQ29udGVudHN8fCh0aGlzLl9zb3VyY2VzQ29udGVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSksdGhpcy5fc291cmNlc0NvbnRlbnRzW3MudG9TZXRTdHJpbmcocildPXQpOnRoaXMuX3NvdXJjZXNDb250ZW50cyYmKGRlbGV0ZSB0aGlzLl9zb3VyY2VzQ29udGVudHNbcy50b1NldFN0cmluZyhyKV0sMD09PU9iamVjdC5rZXlzKHRoaXMuX3NvdXJjZXNDb250ZW50cykubGVuZ3RoJiYodGhpcy5fc291cmNlc0NvbnRlbnRzPW51bGwpKX0sbi5wcm90b3R5cGUuYXBwbHlTb3VyY2VNYXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQ7aWYobnVsbD09dCl7aWYobnVsbD09ZS5maWxlKXRocm93IG5ldyBFcnJvcignU291cmNlTWFwR2VuZXJhdG9yLnByb3RvdHlwZS5hcHBseVNvdXJjZU1hcCByZXF1aXJlcyBlaXRoZXIgYW4gZXhwbGljaXQgc291cmNlIGZpbGUsIG9yIHRoZSBzb3VyY2UgbWFwXCdzICJmaWxlIiBwcm9wZXJ0eS4gQm90aCB3ZXJlIG9taXR0ZWQuJyk7bj1lLmZpbGV9dmFyIGk9dGhpcy5fc291cmNlUm9vdDtudWxsIT1pJiYobj1zLnJlbGF0aXZlKGksbikpO3ZhciBvPW5ldyBhLHU9bmV3IGE7dGhpcy5fbWFwcGluZ3MudW5zb3J0ZWRGb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKHQuc291cmNlPT09biYmbnVsbCE9dC5vcmlnaW5hbExpbmUpe3ZhciBhPWUub3JpZ2luYWxQb3NpdGlvbkZvcih7bGluZTp0Lm9yaWdpbmFsTGluZSxjb2x1bW46dC5vcmlnaW5hbENvbHVtbn0pO251bGwhPWEuc291cmNlJiYodC5zb3VyY2U9YS5zb3VyY2UsbnVsbCE9ciYmKHQuc291cmNlPXMuam9pbihyLHQuc291cmNlKSksbnVsbCE9aSYmKHQuc291cmNlPXMucmVsYXRpdmUoaSx0LnNvdXJjZSkpLHQub3JpZ2luYWxMaW5lPWEubGluZSx0Lm9yaWdpbmFsQ29sdW1uPWEuY29sdW1uLG51bGwhPWEubmFtZSYmKHQubmFtZT1hLm5hbWUpKX12YXIgbD10LnNvdXJjZTtudWxsPT1sfHxvLmhhcyhsKXx8by5hZGQobCk7dmFyIGM9dC5uYW1lO251bGw9PWN8fHUuaGFzKGMpfHx1LmFkZChjKX0sdGhpcyksdGhpcy5fc291cmNlcz1vLHRoaXMuX25hbWVzPXUsZS5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIG49ZS5zb3VyY2VDb250ZW50Rm9yKHQpO251bGwhPW4mJihudWxsIT1yJiYodD1zLmpvaW4ocix0KSksbnVsbCE9aSYmKHQ9cy5yZWxhdGl2ZShpLHQpKSx0aGlzLnNldFNvdXJjZUNvbnRlbnQodCxuKSl9LHRoaXMpfSxuLnByb3RvdHlwZS5fdmFsaWRhdGVNYXBwaW5nPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCghKGUmJiJsaW5lImluIGUmJiJjb2x1bW4iaW4gZSYmZS5saW5lPjAmJmUuY29sdW1uPj0wKXx8dHx8cnx8bikmJiEoZSYmImxpbmUiaW4gZSYmImNvbHVtbiJpbiBlJiZ0JiYibGluZSJpbiB0JiYiY29sdW1uImluIHQmJmUubGluZT4wJiZlLmNvbHVtbj49MCYmdC5saW5lPjAmJnQuY29sdW1uPj0wJiZyKSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgbWFwcGluZzogIitKU09OLnN0cmluZ2lmeSh7Z2VuZXJhdGVkOmUsc291cmNlOnIsb3JpZ2luYWw6dCxuYW1lOm59KSl9LG4ucHJvdG90eXBlLl9zZXJpYWxpemVNYXBwaW5ncz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0LHIsbixhPTAsbz0xLHU9MCxsPTAsYz0wLGY9MCxwPSIiLGQ9dGhpcy5fbWFwcGluZ3MudG9BcnJheSgpLGg9MCxtPWQubGVuZ3RoO2g8bTtoKyspe2lmKHQ9ZFtoXSxlPSIiLHQuZ2VuZXJhdGVkTGluZSE9PW8pZm9yKGE9MDt0LmdlbmVyYXRlZExpbmUhPT1vOyllKz0iOyIsbysrO2Vsc2UgaWYoaD4wKXtpZighcy5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZCh0LGRbaC0xXSkpY29udGludWU7ZSs9IiwifWUrPWkuZW5jb2RlKHQuZ2VuZXJhdGVkQ29sdW1uLWEpLGE9dC5nZW5lcmF0ZWRDb2x1bW4sbnVsbCE9dC5zb3VyY2UmJihuPXRoaXMuX3NvdXJjZXMuaW5kZXhPZih0LnNvdXJjZSksZSs9aS5lbmNvZGUobi1mKSxmPW4sZSs9aS5lbmNvZGUodC5vcmlnaW5hbExpbmUtMS1sKSxsPXQub3JpZ2luYWxMaW5lLTEsZSs9aS5lbmNvZGUodC5vcmlnaW5hbENvbHVtbi11KSx1PXQub3JpZ2luYWxDb2x1bW4sbnVsbCE9dC5uYW1lJiYocj10aGlzLl9uYW1lcy5pbmRleE9mKHQubmFtZSksZSs9aS5lbmNvZGUoci1jKSxjPXIpKSxwKz1lfXJldHVybiBwfSxuLnByb3RvdHlwZS5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudD1mdW5jdGlvbihlLHQpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtpZighdGhpcy5fc291cmNlc0NvbnRlbnRzKXJldHVybiBudWxsO251bGwhPXQmJihlPXMucmVsYXRpdmUodCxlKSk7dmFyIHI9cy50b1NldFN0cmluZyhlKTtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3NvdXJjZXNDb250ZW50cyxyKT90aGlzLl9zb3VyY2VzQ29udGVudHNbcl06bnVsbH0sdGhpcyl9LG4ucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBlPXt2ZXJzaW9uOnRoaXMuX3ZlcnNpb24sc291cmNlczp0aGlzLl9zb3VyY2VzLnRvQXJyYXkoKSxuYW1lczp0aGlzLl9uYW1lcy50b0FycmF5KCksbWFwcGluZ3M6dGhpcy5fc2VyaWFsaXplTWFwcGluZ3MoKX07cmV0dXJuIG51bGwhPXRoaXMuX2ZpbGUmJihlLmZpbGU9dGhpcy5fZmlsZSksbnVsbCE9dGhpcy5fc291cmNlUm9vdCYmKGUuc291cmNlUm9vdD10aGlzLl9zb3VyY2VSb290KSx0aGlzLl9zb3VyY2VzQ29udGVudHMmJihlLnNvdXJjZXNDb250ZW50PXRoaXMuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQoZS5zb3VyY2VzLGUuc291cmNlUm9vdCkpLGV9LG4ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudG9KU09OKCkpfSx0LlNvdXJjZU1hcEdlbmVyYXRvcj1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuU291cmNlTWFwR2VuZXJhdG9yPXIoMjg3KS5Tb3VyY2VNYXBHZW5lcmF0b3IsdC5Tb3VyY2VNYXBDb25zdW1lcj1yKDYyMCkuU291cmNlTWFwQ29uc3VtZXIsdC5Tb3VyY2VOb2RlPXIoNjIxKS5Tb3VyY2VOb2RlfSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7dmFyIGU9e21vZGlmaWVyczp7cmVzZXQ6WzAsMF0sYm9sZDpbMSwyMl0sZGltOlsyLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10saGlkZGVuOls4LDI4XSxzdHJpa2V0aHJvdWdoOls5LDI5XX0sY29sb3JzOntibGFjazpbMzAsMzldLHJlZDpbMzEsMzldLGdyZWVuOlszMiwzOV0seWVsbG93OlszMywzOV0sYmx1ZTpbMzQsMzldLG1hZ2VudGE6WzM1LDM5XSxjeWFuOlszNiwzOV0sd2hpdGU6WzM3LDM5XSxncmF5Ols5MCwzOV19LGJnQ29sb3JzOntiZ0JsYWNrOls0MCw0OV0sYmdSZWQ6WzQxLDQ5XSxiZ0dyZWVuOls0Miw0OV0sYmdZZWxsb3c6WzQzLDQ5XSxiZ0JsdWU6WzQ0LDQ5XSxiZ01hZ2VudGE6WzQ1LDQ5XSxiZ0N5YW46WzQ2LDQ5XSxiZ1doaXRlOls0Nyw0OV19fTtyZXR1cm4gZS5jb2xvcnMuZ3JleT1lLmNvbG9ycy5ncmF5LE9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZVt0XTtPYmplY3Qua2V5cyhyKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPXJbdF07ZVt0XT1yW3RdPXtvcGVuOiIbWyIrblswXSsibSIsY2xvc2U6IhtbIituWzFdKyJtIn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITF9KX0pLGV9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImV4cG9ydHMiLHtlbnVtZXJhYmxlOiEwLGdldDp0fSl9KS5jYWxsKHQscigzOSkoZSkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yKDE4Mil9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuWyJiYWJlbC1wbHVnaW4tIitlLGVdfXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9cixlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PVsiYmFiZWwtcHJlc2V0LSIrZSxlXSxyPWUubWF0Y2goL14oQFteXC9dKylcLyguKykkLyk7aWYocil7dmFyIG49clsxXSxpPXJbMl07dC5wdXNoKG4rIi9iYWJlbC1wcmVzZXQtIitpKX1yZXR1cm4gdH10Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXIsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigyKSxzPW4oaSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7aWYoZSYmdClyZXR1cm4oMCxvLmRlZmF1bHQpKGUsdCxmdW5jdGlvbihlLHQpe2lmKHQmJkFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgcj10LnNsaWNlKDApLG49ZSxpPUFycmF5LmlzQXJyYXkobiksYT0wLG49aT9uOigwLHMuZGVmYXVsdCkobik7Oyl7dmFyIG87aWYoaSl7aWYoYT49bi5sZW5ndGgpYnJlYWs7bz1uW2ErK119ZWxzZXtpZihhPW4ubmV4dCgpLGEuZG9uZSlicmVhaztvPWEudmFsdWV9dmFyIHU9bztyLmluZGV4T2YodSk8MCYmci5wdXNoKHUpfXJldHVybiByfX0pfTt2YXIgYT1yKDU5MCksbz1uKGEpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQscil7aWYoZSl7aWYoIlByb2dyYW0iPT09ZS50eXBlKXJldHVybiBpLmZpbGUoZSx0fHxbXSxyfHxbXSk7aWYoIkZpbGUiPT09ZS50eXBlKXJldHVybiBlfXRocm93IG5ldyBFcnJvcigiTm90IGEgdmFsaWQgYXN0PyIpfTt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1bXSxuPWcuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsW2cuaWRlbnRpZmllcigiZ2xvYmFsIildLGcuYmxvY2tTdGF0ZW1lbnQocikpLGk9Zy5wcm9ncmFtKFtnLmV4cHJlc3Npb25TdGF0ZW1lbnQoZy5jYWxsRXhwcmVzc2lvbihuLFtjLmdldCgic2VsZkdsb2JhbCIpXSkpXSk7cmV0dXJuIHIucHVzaChnLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2cudmFyaWFibGVEZWNsYXJhdG9yKGUsZy5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsZy5tZW1iZXJFeHByZXNzaW9uKGcuaWRlbnRpZmllcigiZ2xvYmFsIiksZSksZy5vYmplY3RFeHByZXNzaW9uKFtdKSkpXSkpLHQociksaX1mdW5jdGlvbiBhKGUsdCl7dmFyIHI9W107cmV0dXJuIHIucHVzaChnLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2cudmFyaWFibGVEZWNsYXJhdG9yKGUsZy5pZGVudGlmaWVyKCJnbG9iYWwiKSldKSksdChyKSxnLnByb2dyYW0oW2Ioe0ZBQ1RPUllfUEFSQU1FVEVSUzpnLmlkZW50aWZpZXIoImdsb2JhbCIpLEJST1dTRVJfQVJHVU1FTlRTOmcuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGcubWVtYmVyRXhwcmVzc2lvbihnLmlkZW50aWZpZXIoInJvb3QiKSxlKSxnLm9iamVjdEV4cHJlc3Npb24oW10pKSxDT01NT05fQVJHVU1FTlRTOmcuaWRlbnRpZmllcigiZXhwb3J0cyIpLEFNRF9BUkdVTUVOVFM6Zy5hcnJheUV4cHJlc3Npb24oW2cuc3RyaW5nTGl0ZXJhbCgiZXhwb3J0cyIpXSksRkFDVE9SWV9CT0RZOnIsVU1EX1JPT1Q6Zy5pZGVudGlmaWVyKCJ0aGlzIil9KV0pfWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1bXTtyZXR1cm4gci5wdXNoKGcudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbZy52YXJpYWJsZURlY2xhcmF0b3IoZSxnLm9iamVjdEV4cHJlc3Npb24oW10pKV0pKSx0KHIpLHIucHVzaChnLmV4cHJlc3Npb25TdGF0ZW1lbnQoZSkpLGcucHJvZ3JhbShyKX1mdW5jdGlvbiB1KGUsdCxyKXtjLmxpc3QuZm9yRWFjaChmdW5jdGlvbihuKXtpZighKHImJnIuaW5kZXhPZihuKTwwKSl7dmFyIGk9Zy5pZGVudGlmaWVyKG4pO2UucHVzaChnLmV4cHJlc3Npb25TdGF0ZW1lbnQoZy5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsZy5tZW1iZXJFeHByZXNzaW9uKHQsaSksYy5nZXQobikpKSl9fSl9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06Imdsb2JhbCIscj1nLmlkZW50aWZpZXIoImJhYmVsSGVscGVycyIpLG49ZnVuY3Rpb24odCl7cmV0dXJuIHUodCxyLGUpfSxpPXZvaWQgMCxsPXtnbG9iYWw6cyx1bWQ6YSx2YXI6b31bdF07aWYoIWwpdGhyb3cgbmV3IEVycm9yKGguZ2V0KCJ1bnN1cHBvcnRlZE91dHB1dFR5cGUiLHQpKTtyZXR1cm4gaT1sKHIsbiksKDAscC5kZWZhdWx0KShpKS5jb2RlfTt2YXIgbD1yKDE5NCksYz1pKGwpLGY9cigxODYpLHA9bihmKSxkPXIoMjApLGg9aShkKSxtPXIoNCkseT1uKG0pLHY9cigxKSxnPWkodiksYj0oMCx5LmRlZmF1bHQpKCdcbiAgKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgZGVmaW5lKEFNRF9BUkdVTUVOVFMsIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICJvYmplY3QiKSB7XG4gICAgICBmYWN0b3J5KENPTU1PTl9BUkdVTUVOVFMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmYWN0b3J5KEJST1dTRVJfQVJHVU1FTlRTKTtcbiAgICB9XG4gIH0pKFVNRF9ST09ULCBmdW5jdGlvbiAoRkFDVE9SWV9QQVJBTUVURVJTKSB7XG4gICAgRkFDVE9SWV9CT0RZXG4gIH0pO1xuJyk7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cig2NSkscz1uKGkpLGE9cig1OTQpLG89bihhKTt0LmRlZmF1bHQ9bmV3IHMuZGVmYXVsdCh7bmFtZToiaW50ZXJuYWwuYmxvY2tIb2lzdCIsdmlzaXRvcjp7QmxvY2s6e2V4aXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubm9kZSxyPSExLG49MDtuPHQuYm9keS5sZW5ndGg7bisrKXt2YXIgaT10LmJvZHlbbl07aWYoaSYmbnVsbCE9aS5fYmxvY2tIb2lzdCl7cj0hMDticmVha319ciYmKHQuYm9keT0oMCxvLmRlZmF1bHQpKHQuYm9keSxmdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9ibG9ja0hvaXN0O3JldHVybiBudWxsPT10JiYodD0xKSwhMD09PXQmJih0PTIpLC0xKnR9KSl9fX19KSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4hIWUuaXMoIl9mb3JjZVNoYWRvdyIpfHx0fWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj1lLmluU2hhZG93KHQpO2lmKGkoZSxyKSl7dmFyIG49ZS5ub2RlLl9zaGFkb3dlZEZ1bmN0aW9uTGl0ZXJhbCxzPXZvaWQgMCxhPSExLG89ZS5maW5kKGZ1bmN0aW9uKHQpe2lmKHQucGFyZW50UGF0aCYmdC5wYXJlbnRQYXRoLmlzQ2xhc3NQcm9wZXJ0eSgpJiYidmFsdWUiPT09dC5rZXkpcmV0dXJuITA7aWYoZT09PXQpcmV0dXJuITE7aWYoKHQuaXNQcm9ncmFtKCl8fHQuaXNGdW5jdGlvbigpKSYmKHM9c3x8dCksdC5pc1Byb2dyYW0oKSlyZXR1cm4gYT0hMCwhMDtpZih0LmlzRnVuY3Rpb24oKSYmIXQuaXNBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbigpKXtpZihuKXtpZih0PT09bnx8dC5ub2RlPT09bi5ub2RlKXJldHVybiEwfWVsc2UgaWYoIXQuaXMoInNoYWRvdyIpKXJldHVybiEwO3JldHVybiBhPSEwLCExfXJldHVybiExfSk7aWYobiYmby5pc1Byb2dyYW0oKSYmIW4uaXNQcm9ncmFtKCkmJihvPWUuZmluZFBhcmVudChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc1Byb2dyYW0oKXx8ZS5pc0Z1bmN0aW9uKCl9KSksbyE9PXMmJmEpe3ZhciB1PW8uZ2V0RGF0YSh0KTtpZih1KXJldHVybiBlLnJlcGxhY2VXaXRoKHUpO3ZhciBsPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKHQpO28uc2V0RGF0YSh0LGwpO3ZhciBjPW8uZmluZFBhcmVudChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0NsYXNzKCl9KSxwPSEhKGMmJmMubm9kZSYmYy5ub2RlLnN1cGVyQ2xhc3MpO2lmKCJ0aGlzIj09PXQmJm8uaXNNZXRob2Qoe2tpbmQ6ImNvbnN0cnVjdG9yIn0pJiZwKW8uc2NvcGUucHVzaCh7aWQ6bH0pLG8udHJhdmVyc2UoZCx7aWQ6bH0pO2Vsc2V7dmFyIGg9InRoaXMiPT09dD9mLnRoaXNFeHByZXNzaW9uKCk6Zi5pZGVudGlmaWVyKHQpO24mJihoLl9zaGFkb3dlZEZ1bmN0aW9uTGl0ZXJhbD1uKSxvLnNjb3BlLnB1c2goe2lkOmwsaW5pdDpofSl9cmV0dXJuIGUucmVwbGFjZVdpdGgobCl9fX10Ll9fZXNNb2R1bGU9ITA7dmFyIGE9cigxMCksbz1uKGEpLHU9cig2NSksbD1uKHUpLGM9cigxKSxmPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYykscD0oMCxvLmRlZmF1bHQpKCJzdXBlciB0aGlzIGJvdW5kIiksZD17Q2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oZSl7aWYoZS5nZXQoImNhbGxlZSIpLmlzU3VwZXIoKSl7dmFyIHQ9ZS5ub2RlO3RbcF18fCh0W3BdPSEwLGUucmVwbGFjZVdpdGgoZi5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdGhpcy5pZCx0KSkpfX19O3QuZGVmYXVsdD1uZXcgbC5kZWZhdWx0KHtuYW1lOiJpbnRlcm5hbC5zaGFkb3dGdW5jdGlvbnMiLHZpc2l0b3I6e1RoaXNFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe3MoZSwidGhpcyIpfSxSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlKXsiYXJndW1lbnRzIj09PWUubm9kZS5uYW1lJiZzKGUsImFyZ3VtZW50cyIpfX19KSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDMpLHM9bihpKSxhPXIoMjk0KSxvPW4oYSksdT1yKDY1KSxsPW4odSksYz1yKDUwKSxmPW4oYykscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXsoMCxzLmRlZmF1bHQpKHRoaXMsZSl9cmV0dXJuIGUucHJvdG90eXBlLmxpbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3JldHVybiB0LmNvZGU9ITEsdC5tb2RlPSJsaW50Iix0aGlzLnRyYW5zZm9ybShlLHQpfSxlLnByb3RvdHlwZS5wcmV0cmFuc2Zvcm09ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgZi5kZWZhdWx0KHQsdGhpcyk7cmV0dXJuIHIud3JhcChlLGZ1bmN0aW9uKCl7cmV0dXJuIHIuYWRkQ29kZShlKSxyLnBhcnNlQ29kZShlKSxyfSl9LGUucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBmLmRlZmF1bHQodCx0aGlzKTtyZXR1cm4gci53cmFwKGUsZnVuY3Rpb24oKXtyZXR1cm4gci5hZGRDb2RlKGUpLHIucGFyc2VDb2RlKGUpLHIudHJhbnNmb3JtKCl9KX0sZS5wcm90b3R5cGUuYW5hbHlzZT1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1hcmd1bWVudHNbMl07cmV0dXJuIHQuY29kZT0hMSxyJiYodC5wbHVnaW5zPXQucGx1Z2luc3x8W10sdC5wbHVnaW5zLnB1c2gobmV3IGwuZGVmYXVsdCh7dmlzaXRvcjpyfSkpKSx0aGlzLnRyYW5zZm9ybShlLHQpLm1ldGFkYXRhfSxlLnByb3RvdHlwZS50cmFuc2Zvcm1Gcm9tQXN0PWZ1bmN0aW9uKGUsdCxyKXtlPSgwLG8uZGVmYXVsdCkoZSk7dmFyIG49bmV3IGYuZGVmYXVsdChyLHRoaXMpO3JldHVybiBuLndyYXAodCxmdW5jdGlvbigpe3JldHVybiBuLmFkZENvZGUodCksbi5hZGRBc3QoZSksbi50cmFuc2Zvcm0oKX0pfSxlfSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMykscz1uKGkpLGE9cig0Miksbz1uKGEpLHU9cig0MSksbD1uKHUpLGM9cigxMTkpLGY9bihjKSxwPXIoNTApLGQ9KG4ocCksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChyLG4pe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIGE9KDAsby5kZWZhdWx0KSh0aGlzLGUuY2FsbCh0aGlzKSk7cmV0dXJuIGEucGx1Z2luPW4sYS5rZXk9bi5rZXksYS5maWxlPXIsYS5vcHRzPWksYX1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksdC5wcm90b3R5cGUuYWRkSGVscGVyPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5maWxlKS5hZGRIZWxwZXIuYXBwbHkoZSxhcmd1bWVudHMpfSx0LnByb3RvdHlwZS5hZGRJbXBvcnQ9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLmZpbGUpLmFkZEltcG9ydC5hcHBseShlLGFyZ3VtZW50cyl9LHQucHJvdG90eXBlLmdldE1vZHVsZU5hbWU9ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4oZT10aGlzLmZpbGUpLmdldE1vZHVsZU5hbWUuYXBwbHkoZSxhcmd1bWVudHMpfSx0LnByb3RvdHlwZS5idWlsZENvZGVGcmFtZUVycm9yPWZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5maWxlKS5idWlsZENvZGVGcmFtZUVycm9yLmFwcGx5KGUsYXJndW1lbnRzKX0sdH0oZi5kZWZhdWx0KSk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigzKSxzPW4oaSksYT1yKDYyNSksbz1uKGEpLHU9L15bIFx0XSskLyxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxzLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5fbWFwPW51bGwsdGhpcy5fYnVmPVtdLHRoaXMuX2xhc3Q9IiIsdGhpcy5fcXVldWU9W10sdGhpcy5fcG9zaXRpb249e2xpbmU6MSxjb2x1bW46MH0sdGhpcy5fc291cmNlUG9zaXRpb249e2lkZW50aWZpZXJOYW1lOm51bGwsbGluZTpudWxsLGNvbHVtbjpudWxsLGZpbGVuYW1lOm51bGx9LHRoaXMuX21hcD10fXJldHVybiBlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXt0aGlzLl9mbHVzaCgpO3ZhciBlPXRoaXMuX21hcCx0PXtjb2RlOigwLG8uZGVmYXVsdCkodGhpcy5fYnVmLmpvaW4oIiIpKSxtYXA6bnVsbCxyYXdNYXBwaW5nczplJiZlLmdldFJhd01hcHBpbmdzKCl9O3JldHVybiBlJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCwibWFwIix7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwPWUuZ2V0KCl9LHNldDpmdW5jdGlvbihlKXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywibWFwIix7dmFsdWU6ZSx3cml0YWJsZTohMH0pfX0pLHR9LGUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXt0aGlzLl9mbHVzaCgpO3ZhciB0PXRoaXMuX3NvdXJjZVBvc2l0aW9uLHI9dC5saW5lLG49dC5jb2x1bW4saT10LmZpbGVuYW1lLHM9dC5pZGVudGlmaWVyTmFtZTt0aGlzLl9hcHBlbmQoZSxyLG4scyxpKX0sZS5wcm90b3R5cGUucXVldWU9ZnVuY3Rpb24oZSl7aWYoIlxuIj09PWUpZm9yKDt0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmdS50ZXN0KHRoaXMuX3F1ZXVlWzBdWzBdKTspdGhpcy5fcXVldWUuc2hpZnQoKTt2YXIgdD10aGlzLl9zb3VyY2VQb3NpdGlvbixyPXQubGluZSxuPXQuY29sdW1uLGk9dC5maWxlbmFtZSxzPXQuaWRlbnRpZmllck5hbWU7dGhpcy5fcXVldWUudW5zaGlmdChbZSxyLG4scyxpXSl9LGUucHJvdG90eXBlLl9mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgZT12b2lkIDA7ZT10aGlzLl9xdWV1ZS5wb3AoKTspdGhpcy5fYXBwZW5kLmFwcGx5KHRoaXMsZSl9LGUucHJvdG90eXBlLl9hcHBlbmQ9ZnVuY3Rpb24oZSx0LHIsbixpKXt0aGlzLl9tYXAmJiJcbiIhPT1lWzBdJiZ0aGlzLl9tYXAubWFyayh0aGlzLl9wb3NpdGlvbi5saW5lLHRoaXMuX3Bvc2l0aW9uLmNvbHVtbix0LHIsbixpKSx0aGlzLl9idWYucHVzaChlKSx0aGlzLl9sYXN0PWVbZS5sZW5ndGgtMV07Zm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspIlxuIj09PWVbc10/KHRoaXMuX3Bvc2l0aW9uLmxpbmUrKyx0aGlzLl9wb3NpdGlvbi5jb2x1bW49MCk6dGhpcy5fcG9zaXRpb24uY29sdW1uKyt9LGUucHJvdG90eXBlLnJlbW92ZVRyYWlsaW5nTmV3bGluZT1mdW5jdGlvbigpe3RoaXMuX3F1ZXVlLmxlbmd0aD4wJiYiXG4iPT09dGhpcy5fcXVldWVbMF1bMF0mJnRoaXMuX3F1ZXVlLnNoaWZ0KCl9LGUucHJvdG90eXBlLnJlbW92ZUxhc3RTZW1pY29sb249ZnVuY3Rpb24oKXt0aGlzLl9xdWV1ZS5sZW5ndGg+MCYmIjsiPT09dGhpcy5fcXVldWVbMF1bMF0mJnRoaXMuX3F1ZXVlLnNoaWZ0KCl9LGUucHJvdG90eXBlLmVuZHNXaXRoPWZ1bmN0aW9uKGUpe2lmKDE9PT1lLmxlbmd0aCl7dmFyIHQ9dm9pZCAwO2lmKHRoaXMuX3F1ZXVlLmxlbmd0aD4wKXt2YXIgcj10aGlzLl9xdWV1ZVswXVswXTt0PXJbci5sZW5ndGgtMV19ZWxzZSB0PXRoaXMuX2xhc3Q7cmV0dXJuIHQ9PT1lfXZhciBuPXRoaXMuX2xhc3QrdGhpcy5fcXVldWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRbMF0rZX0sIiIpO3JldHVybiBlLmxlbmd0aDw9bi5sZW5ndGgmJm4uc2xpY2UoLWUubGVuZ3RoKT09PWV9LGUucHJvdG90eXBlLmhhc0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcXVldWUubGVuZ3RoPjB8fCEhdGhpcy5fbGFzdH0sZS5wcm90b3R5cGUuc291cmNlPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fHQpe3ZhciByPXQ/dFtlXTpudWxsO3RoaXMuX3NvdXJjZVBvc2l0aW9uLmlkZW50aWZpZXJOYW1lPXQmJnQuaWRlbnRpZmllck5hbWV8fG51bGwsdGhpcy5fc291cmNlUG9zaXRpb24ubGluZT1yP3IubGluZTpudWxsLHRoaXMuX3NvdXJjZVBvc2l0aW9uLmNvbHVtbj1yP3IuY29sdW1uOm51bGwsdGhpcy5fc291cmNlUG9zaXRpb24uZmlsZW5hbWU9dCYmdC5maWxlbmFtZXx8bnVsbH19LGUucHJvdG90eXBlLndpdGhTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0aGlzLl9tYXApcmV0dXJuIHIoKTt2YXIgbj10aGlzLl9zb3VyY2VQb3NpdGlvbi5saW5lLGk9dGhpcy5fc291cmNlUG9zaXRpb24uY29sdW1uLHM9dGhpcy5fc291cmNlUG9zaXRpb24uZmlsZW5hbWUsYT10aGlzLl9zb3VyY2VQb3NpdGlvbi5pZGVudGlmaWVyTmFtZTt0aGlzLnNvdXJjZShlLHQpLHIoKSx0aGlzLl9zb3VyY2VQb3NpdGlvbi5saW5lPW4sdGhpcy5fc291cmNlUG9zaXRpb24uY29sdW1uPWksdGhpcy5fc291cmNlUG9zaXRpb24uZmlsZW5hbWU9cyx0aGlzLl9zb3VyY2VQb3NpdGlvbi5pZGVudGlmaWVyTmFtZT1hfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50Q29sdW1uPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcXVldWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRbMF0rZX0sIiIpLHQ9ZS5sYXN0SW5kZXhPZigiXG4iKTtyZXR1cm4tMT09PXQ/dGhpcy5fcG9zaXRpb24uY29sdW1uK2UubGVuZ3RoOmUubGVuZ3RoLTEtdH0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudExpbmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fcXVldWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRbMF0rZX0sIiIpLHQ9MCxyPTA7cjxlLmxlbmd0aDtyKyspIlxuIj09PWVbcl0mJnQrKztyZXR1cm4gdGhpcy5fcG9zaXRpb24ubGluZSt0fSxlfSgpO3QuZGVmYXVsdD1sLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt0aGlzLnByaW50KGUucHJvZ3JhbSxlKX1mdW5jdGlvbiBpKGUpe3RoaXMucHJpbnRJbm5lckNvbW1lbnRzKGUsITEpLHRoaXMucHJpbnRTZXF1ZW5jZShlLmRpcmVjdGl2ZXMsZSksZS5kaXJlY3RpdmVzJiZlLmRpcmVjdGl2ZXMubGVuZ3RoJiZ0aGlzLm5ld2xpbmUoKSx0aGlzLnByaW50U2VxdWVuY2UoZS5ib2R5LGUpfWZ1bmN0aW9uIHMoZSl7dGhpcy50b2tlbigieyIpLHRoaXMucHJpbnRJbm5lckNvbW1lbnRzKGUpO3ZhciB0PWUuZGlyZWN0aXZlcyYmZS5kaXJlY3RpdmVzLmxlbmd0aDtlLmJvZHkubGVuZ3RofHx0Pyh0aGlzLm5ld2xpbmUoKSx0aGlzLnByaW50U2VxdWVuY2UoZS5kaXJlY3RpdmVzLGUse2luZGVudDohMH0pLHQmJnRoaXMubmV3bGluZSgpLHRoaXMucHJpbnRTZXF1ZW5jZShlLmJvZHksZSx7aW5kZW50OiEwfSksdGhpcy5yZW1vdmVUcmFpbGluZ05ld2xpbmUoKSx0aGlzLnNvdXJjZSgiZW5kIixlLmxvYyksdGhpcy5lbmRzV2l0aCgiXG4iKXx8dGhpcy5uZXdsaW5lKCksdGhpcy5yaWdodEJyYWNlKCkpOih0aGlzLnNvdXJjZSgiZW5kIixlLmxvYyksdGhpcy50b2tlbigifSIpKX1mdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIG8oZSl7dGhpcy5wcmludChlLnZhbHVlLGUpLHRoaXMuc2VtaWNvbG9uKCl9dC5fX2VzTW9kdWxlPSEwLHQuRmlsZT1uLHQuUHJvZ3JhbT1pLHQuQmxvY2tTdGF0ZW1lbnQ9cyx0Lk5vb3A9YSx0LkRpcmVjdGl2ZT1vO3ZhciB1PXIoMTIzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiRGlyZWN0aXZlTGl0ZXJhbCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHUuU3RyaW5nTGl0ZXJhbH19KX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt0aGlzLnByaW50Sm9pbihlLmRlY29yYXRvcnMsZSksdGhpcy53b3JkKCJjbGFzcyIpLGUuaWQmJih0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmlkLGUpKSx0aGlzLnByaW50KGUudHlwZVBhcmFtZXRlcnMsZSksZS5zdXBlckNsYXNzJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgiZXh0ZW5kcyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuc3VwZXJDbGFzcyxlKSx0aGlzLnByaW50KGUuc3VwZXJUeXBlUGFyYW1ldGVycyxlKSksZS5pbXBsZW1lbnRzJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgiaW1wbGVtZW50cyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50TGlzdChlLmltcGxlbWVudHMsZSkpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKX1mdW5jdGlvbiBuKGUpe3RoaXMudG9rZW4oInsiKSx0aGlzLnByaW50SW5uZXJDb21tZW50cyhlKSwwPT09ZS5ib2R5Lmxlbmd0aD90aGlzLnRva2VuKCJ9Iik6KHRoaXMubmV3bGluZSgpLHRoaXMuaW5kZW50KCksdGhpcy5wcmludFNlcXVlbmNlKGUuYm9keSxlKSx0aGlzLmRlZGVudCgpLHRoaXMuZW5kc1dpdGgoIlxuIil8fHRoaXMubmV3bGluZSgpLHRoaXMucmlnaHRCcmFjZSgpKX1mdW5jdGlvbiBpKGUpe3RoaXMucHJpbnRKb2luKGUuZGVjb3JhdG9ycyxlKSxlLnN0YXRpYyYmKHRoaXMud29yZCgic3RhdGljIiksdGhpcy5zcGFjZSgpKSxlLmNvbXB1dGVkPyh0aGlzLnRva2VuKCJbIiksdGhpcy5wcmludChlLmtleSxlKSx0aGlzLnRva2VuKCJdIikpOih0aGlzLl92YXJpYW5jZShlKSx0aGlzLnByaW50KGUua2V5LGUpKSx0aGlzLnByaW50KGUudHlwZUFubm90YXRpb24sZSksZS52YWx1ZSYmKHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCI9IiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS52YWx1ZSxlKSksdGhpcy5zZW1pY29sb24oKX1mdW5jdGlvbiBzKGUpe3RoaXMucHJpbnRKb2luKGUuZGVjb3JhdG9ycyxlKSxlLnN0YXRpYyYmKHRoaXMud29yZCgic3RhdGljIiksdGhpcy5zcGFjZSgpKSwiY29uc3RydWN0b3JDYWxsIj09PWUua2luZCYmKHRoaXMud29yZCgiY2FsbCIpLHRoaXMuc3BhY2UoKSksdGhpcy5fbWV0aG9kKGUpfXQuX19lc01vZHVsZT0hMCx0LkNsYXNzRGVjbGFyYXRpb249cix0LkNsYXNzQm9keT1uLHQuQ2xhc3NQcm9wZXJ0eT1pLHQuQ2xhc3NNZXRob2Q9cyx0LkNsYXNzRXhwcmVzc2lvbj1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7InZvaWQiPT09ZS5vcGVyYXRvcnx8ImRlbGV0ZSI9PT1lLm9wZXJhdG9yfHwidHlwZW9mIj09PWUub3BlcmF0b3I/KHRoaXMud29yZChlLm9wZXJhdG9yKSx0aGlzLnNwYWNlKCkpOnRoaXMudG9rZW4oZS5vcGVyYXRvciksdGhpcy5wcmludChlLmFyZ3VtZW50LGUpfWZ1bmN0aW9uIHMoZSl7dGhpcy53b3JkKCJkbyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKX1mdW5jdGlvbiBhKGUpe3RoaXMudG9rZW4oIigiKSx0aGlzLnByaW50KGUuZXhwcmVzc2lvbixlKSx0aGlzLnRva2VuKCIpIil9ZnVuY3Rpb24gbyhlKXtlLnByZWZpeD8odGhpcy50b2tlbihlLm9wZXJhdG9yKSx0aGlzLnByaW50KGUuYXJndW1lbnQsZSkpOih0aGlzLnByaW50KGUuYXJndW1lbnQsZSksdGhpcy50b2tlbihlLm9wZXJhdG9yKSl9ZnVuY3Rpb24gdShlKXt0aGlzLnByaW50KGUudGVzdCxlKSx0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiPyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuY29uc2VxdWVudCxlKSx0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiOiIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYWx0ZXJuYXRlLGUpfWZ1bmN0aW9uIGwoZSx0KXt0aGlzLndvcmQoIm5ldyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuY2FsbGVlLGUpLCgwIT09ZS5hcmd1bWVudHMubGVuZ3RofHwhdGhpcy5mb3JtYXQubWluaWZpZWR8fEMuaXNDYWxsRXhwcmVzc2lvbih0LHtjYWxsZWU6ZX0pfHxDLmlzTWVtYmVyRXhwcmVzc2lvbih0KXx8Qy5pc05ld0V4cHJlc3Npb24odCkpJiYodGhpcy50b2tlbigiKCIpLHRoaXMucHJpbnRMaXN0KGUuYXJndW1lbnRzLGUpLHRoaXMudG9rZW4oIikiKSl9ZnVuY3Rpb24gYyhlKXt0aGlzLnByaW50TGlzdChlLmV4cHJlc3Npb25zLGUpfWZ1bmN0aW9uIGYoKXsKdGhpcy53b3JkKCJ0aGlzIil9ZnVuY3Rpb24gcCgpe3RoaXMud29yZCgic3VwZXIiKX1mdW5jdGlvbiBkKGUpe3RoaXMudG9rZW4oIkAiKSx0aGlzLnByaW50KGUuZXhwcmVzc2lvbixlKSx0aGlzLm5ld2xpbmUoKX1mdW5jdGlvbiBoKCl7dGhpcy50b2tlbigiLCIpLHRoaXMubmV3bGluZSgpLHRoaXMuZW5kc1dpdGgoIlxuIil8fHRoaXMuc3BhY2UoKX1mdW5jdGlvbiBtKGUpe3RoaXMucHJpbnQoZS5jYWxsZWUsZSksdGhpcy50b2tlbigiKCIpO3ZhciB0PWUuX3ByZXR0eUNhbGwscj12b2lkIDA7dCYmKHI9aCx0aGlzLm5ld2xpbmUoKSx0aGlzLmluZGVudCgpKSx0aGlzLnByaW50TGlzdChlLmFyZ3VtZW50cyxlLHtzZXBhcmF0b3I6cn0pLHQmJih0aGlzLm5ld2xpbmUoKSx0aGlzLmRlZGVudCgpKSx0aGlzLnRva2VuKCIpIil9ZnVuY3Rpb24geSgpe3RoaXMud29yZCgiaW1wb3J0Iil9ZnVuY3Rpb24gdihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYodGhpcy53b3JkKGUpLHQuZGVsZWdhdGUmJnRoaXMudG9rZW4oIioiKSx0LmFyZ3VtZW50KXt0aGlzLnNwYWNlKCk7dmFyIHI9dGhpcy5zdGFydFRlcm1pbmF0b3JsZXNzKCk7dGhpcy5wcmludCh0LmFyZ3VtZW50LHQpLHRoaXMuZW5kVGVybWluYXRvcmxlc3Mocil9fX1mdW5jdGlvbiBnKCl7dGhpcy5zZW1pY29sb24oITApfWZ1bmN0aW9uIGIoZSl7dGhpcy5wcmludChlLmV4cHJlc3Npb24sZSksdGhpcy5zZW1pY29sb24oKX1mdW5jdGlvbiBFKGUpe3RoaXMucHJpbnQoZS5sZWZ0LGUpLGUubGVmdC5vcHRpb25hbCYmdGhpcy50b2tlbigiPyIpLHRoaXMucHJpbnQoZS5sZWZ0LnR5cGVBbm5vdGF0aW9uLGUpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCI9IiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5yaWdodCxlKX1mdW5jdGlvbiB4KGUsdCl7dmFyIHI9dGhpcy5pbkZvclN0YXRlbWVudEluaXRDb3VudGVyJiYiaW4iPT09ZS5vcGVyYXRvciYmIVAubmVlZHNQYXJlbnMoZSx0KTtyJiZ0aGlzLnRva2VuKCIoIiksdGhpcy5wcmludChlLmxlZnQsZSksdGhpcy5zcGFjZSgpLCJpbiI9PT1lLm9wZXJhdG9yfHwiaW5zdGFuY2VvZiI9PT1lLm9wZXJhdG9yP3RoaXMud29yZChlLm9wZXJhdG9yKTp0aGlzLnRva2VuKGUub3BlcmF0b3IpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUucmlnaHQsZSksciYmdGhpcy50b2tlbigiKSIpfWZ1bmN0aW9uIEEoZSl7dGhpcy5wcmludChlLm9iamVjdCxlKSx0aGlzLnRva2VuKCI6OiIpLHRoaXMucHJpbnQoZS5jYWxsZWUsZSl9ZnVuY3Rpb24gUyhlKXtpZih0aGlzLnByaW50KGUub2JqZWN0LGUpLCFlLmNvbXB1dGVkJiZDLmlzTWVtYmVyRXhwcmVzc2lvbihlLnByb3BlcnR5KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJHb3QgYSBNZW1iZXJFeHByZXNzaW9uIGZvciBNZW1iZXJFeHByZXNzaW9uIHByb3BlcnR5Iik7dmFyIHQ9ZS5jb21wdXRlZDtDLmlzTGl0ZXJhbChlLnByb3BlcnR5KSYmIm51bWJlciI9PXR5cGVvZiBlLnByb3BlcnR5LnZhbHVlJiYodD0hMCksdD8odGhpcy50b2tlbigiWyIpLHRoaXMucHJpbnQoZS5wcm9wZXJ0eSxlKSx0aGlzLnRva2VuKCJdIikpOih0aGlzLnRva2VuKCIuIiksdGhpcy5wcmludChlLnByb3BlcnR5LGUpKX1mdW5jdGlvbiBfKGUpe3RoaXMucHJpbnQoZS5tZXRhLGUpLHRoaXMudG9rZW4oIi4iKSx0aGlzLnByaW50KGUucHJvcGVydHksZSl9dC5fX2VzTW9kdWxlPSEwLHQuTG9naWNhbEV4cHJlc3Npb249dC5CaW5hcnlFeHByZXNzaW9uPXQuQXdhaXRFeHByZXNzaW9uPXQuWWllbGRFeHByZXNzaW9uPXZvaWQgMCx0LlVuYXJ5RXhwcmVzc2lvbj1pLHQuRG9FeHByZXNzaW9uPXMsdC5QYXJlbnRoZXNpemVkRXhwcmVzc2lvbj1hLHQuVXBkYXRlRXhwcmVzc2lvbj1vLHQuQ29uZGl0aW9uYWxFeHByZXNzaW9uPXUsdC5OZXdFeHByZXNzaW9uPWwsdC5TZXF1ZW5jZUV4cHJlc3Npb249Yyx0LlRoaXNFeHByZXNzaW9uPWYsdC5TdXBlcj1wLHQuRGVjb3JhdG9yPWQsdC5DYWxsRXhwcmVzc2lvbj1tLHQuSW1wb3J0PXksdC5FbXB0eVN0YXRlbWVudD1nLHQuRXhwcmVzc2lvblN0YXRlbWVudD1iLHQuQXNzaWdubWVudFBhdHRlcm49RSx0LkFzc2lnbm1lbnRFeHByZXNzaW9uPXgsdC5CaW5kRXhwcmVzc2lvbj1BLHQuTWVtYmVyRXhwcmVzc2lvbj1TLHQuTWV0YVByb3BlcnR5PV87dmFyIEQ9cigxKSxDPW4oRCksdz1yKDE4NyksUD1uKHcpO3QuWWllbGRFeHByZXNzaW9uPXYoInlpZWxkIiksdC5Bd2FpdEV4cHJlc3Npb249digiYXdhaXQiKTt0LkJpbmFyeUV4cHJlc3Npb249eCx0LkxvZ2ljYWxFeHByZXNzaW9uPXh9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbigpe3RoaXMud29yZCgiYW55Iil9ZnVuY3Rpb24gaShlKXt0aGlzLnByaW50KGUuZWxlbWVudFR5cGUsZSksdGhpcy50b2tlbigiWyIpLHRoaXMudG9rZW4oIl0iKX1mdW5jdGlvbiBzKCl7dGhpcy53b3JkKCJib29sZWFuIil9ZnVuY3Rpb24gYShlKXt0aGlzLndvcmQoZS52YWx1ZT8idHJ1ZSI6ImZhbHNlIil9ZnVuY3Rpb24gbygpe3RoaXMud29yZCgibnVsbCIpfWZ1bmN0aW9uIHUoZSx0KXtRLmlzRGVjbGFyZUV4cG9ydERlY2xhcmF0aW9uKHQpfHwodGhpcy53b3JkKCJkZWNsYXJlIiksdGhpcy5zcGFjZSgpKSx0aGlzLndvcmQoImNsYXNzIiksdGhpcy5zcGFjZSgpLHRoaXMuX2ludGVyZmFjZWlzaChlKX1mdW5jdGlvbiBsKGUsdCl7US5pc0RlY2xhcmVFeHBvcnREZWNsYXJhdGlvbih0KXx8KHRoaXMud29yZCgiZGVjbGFyZSIpLHRoaXMuc3BhY2UoKSksdGhpcy53b3JkKCJmdW5jdGlvbiIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuaWQsZSksdGhpcy5wcmludChlLmlkLnR5cGVBbm5vdGF0aW9uLnR5cGVBbm5vdGF0aW9uLGUpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24gYyhlKXt0aGlzLndvcmQoImRlY2xhcmUiKSx0aGlzLnNwYWNlKCksdGhpcy5JbnRlcmZhY2VEZWNsYXJhdGlvbihlKX1mdW5jdGlvbiBmKGUpe3RoaXMud29yZCgiZGVjbGFyZSIpLHRoaXMuc3BhY2UoKSx0aGlzLndvcmQoIm1vZHVsZSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuaWQsZSksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5ib2R5LGUpfWZ1bmN0aW9uIHAoZSl7dGhpcy53b3JkKCJkZWNsYXJlIiksdGhpcy5zcGFjZSgpLHRoaXMud29yZCgibW9kdWxlIiksdGhpcy50b2tlbigiLiIpLHRoaXMud29yZCgiZXhwb3J0cyIpLHRoaXMucHJpbnQoZS50eXBlQW5ub3RhdGlvbixlKX1mdW5jdGlvbiBkKGUpe3RoaXMud29yZCgiZGVjbGFyZSIpLHRoaXMuc3BhY2UoKSx0aGlzLlR5cGVBbGlhcyhlKX1mdW5jdGlvbiBoKGUsdCl7US5pc0RlY2xhcmVFeHBvcnREZWNsYXJhdGlvbih0KXx8KHRoaXMud29yZCgiZGVjbGFyZSIpLHRoaXMuc3BhY2UoKSksdGhpcy5PcGFxdWVUeXBlKGUpfWZ1bmN0aW9uIG0oZSx0KXtRLmlzRGVjbGFyZUV4cG9ydERlY2xhcmF0aW9uKHQpfHwodGhpcy53b3JkKCJkZWNsYXJlIiksdGhpcy5zcGFjZSgpKSx0aGlzLndvcmQoInZhciIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuaWQsZSksdGhpcy5wcmludChlLmlkLnR5cGVBbm5vdGF0aW9uLGUpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24geShlKXt0aGlzLndvcmQoImRlY2xhcmUiKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJleHBvcnQiKSx0aGlzLnNwYWNlKCksZS5kZWZhdWx0JiYodGhpcy53b3JkKCJkZWZhdWx0IiksdGhpcy5zcGFjZSgpKSx2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB2KGUpe2lmKGUuZGVjbGFyYXRpb24pe3ZhciB0PWUuZGVjbGFyYXRpb247dGhpcy5wcmludCh0LGUpLFEuaXNTdGF0ZW1lbnQodCl8fHRoaXMuc2VtaWNvbG9uKCl9ZWxzZSB0aGlzLnRva2VuKCJ7IiksZS5zcGVjaWZpZXJzLmxlbmd0aCYmKHRoaXMuc3BhY2UoKSx0aGlzLnByaW50TGlzdChlLnNwZWNpZmllcnMsZSksdGhpcy5zcGFjZSgpKSx0aGlzLnRva2VuKCJ9IiksZS5zb3VyY2UmJih0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJmcm9tIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5zb3VyY2UsZSkpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24gZygpe3RoaXMudG9rZW4oIioiKX1mdW5jdGlvbiBiKGUsdCl7dGhpcy5wcmludChlLnR5cGVQYXJhbWV0ZXJzLGUpLHRoaXMudG9rZW4oIigiKSx0aGlzLnByaW50TGlzdChlLnBhcmFtcyxlKSxlLnJlc3QmJihlLnBhcmFtcy5sZW5ndGgmJih0aGlzLnRva2VuKCIsIiksdGhpcy5zcGFjZSgpKSx0aGlzLnRva2VuKCIuLi4iKSx0aGlzLnByaW50KGUucmVzdCxlKSksdGhpcy50b2tlbigiKSIpLCJPYmplY3RUeXBlQ2FsbFByb3BlcnR5Ij09PXQudHlwZXx8IkRlY2xhcmVGdW5jdGlvbiI9PT10LnR5cGU/dGhpcy50b2tlbigiOiIpOih0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiPT4iKSksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5yZXR1cm5UeXBlLGUpfWZ1bmN0aW9uIEUoZSl7dGhpcy5wcmludChlLm5hbWUsZSksZS5vcHRpb25hbCYmdGhpcy50b2tlbigiPyIpLHRoaXMudG9rZW4oIjoiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLnR5cGVBbm5vdGF0aW9uLGUpfWZ1bmN0aW9uIHgoZSl7dGhpcy5wcmludChlLmlkLGUpLHRoaXMucHJpbnQoZS50eXBlUGFyYW1ldGVycyxlKX1mdW5jdGlvbiBBKGUpe3RoaXMucHJpbnQoZS5pZCxlKSx0aGlzLnByaW50KGUudHlwZVBhcmFtZXRlcnMsZSksZS5leHRlbmRzLmxlbmd0aCYmKHRoaXMuc3BhY2UoKSx0aGlzLndvcmQoImV4dGVuZHMiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludExpc3QoZS5leHRlbmRzLGUpKSxlLm1peGlucyYmZS5taXhpbnMubGVuZ3RoJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgibWl4aW5zIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnRMaXN0KGUubWl4aW5zLGUpKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmJvZHksZSl9ZnVuY3Rpb24gUyhlKXsicGx1cyI9PT1lLnZhcmlhbmNlP3RoaXMudG9rZW4oIisiKToibWludXMiPT09ZS52YXJpYW5jZSYmdGhpcy50b2tlbigiLSIpfWZ1bmN0aW9uIF8oZSl7dGhpcy53b3JkKCJpbnRlcmZhY2UiKSx0aGlzLnNwYWNlKCksdGhpcy5faW50ZXJmYWNlaXNoKGUpfWZ1bmN0aW9uIEQoKXt0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiJiIpLHRoaXMuc3BhY2UoKX1mdW5jdGlvbiBDKGUpe3RoaXMucHJpbnRKb2luKGUudHlwZXMsZSx7c2VwYXJhdG9yOkR9KX1mdW5jdGlvbiB3KCl7dGhpcy53b3JkKCJtaXhlZCIpfWZ1bmN0aW9uIFAoKXt0aGlzLndvcmQoImVtcHR5Iil9ZnVuY3Rpb24gayhlKXt0aGlzLnRva2VuKCI/IiksdGhpcy5wcmludChlLnR5cGVBbm5vdGF0aW9uLGUpfWZ1bmN0aW9uIEYoKXt0aGlzLndvcmQoIm51bWJlciIpfWZ1bmN0aW9uIFQoKXt0aGlzLndvcmQoInN0cmluZyIpfWZ1bmN0aW9uIE8oKXt0aGlzLndvcmQoInRoaXMiKX1mdW5jdGlvbiBCKGUpe3RoaXMudG9rZW4oIlsiKSx0aGlzLnByaW50TGlzdChlLnR5cGVzLGUpLHRoaXMudG9rZW4oIl0iKX1mdW5jdGlvbiBSKGUpe3RoaXMud29yZCgidHlwZW9mIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5hcmd1bWVudCxlKX1mdW5jdGlvbiBJKGUpe3RoaXMud29yZCgidHlwZSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuaWQsZSksdGhpcy5wcmludChlLnR5cGVQYXJhbWV0ZXJzLGUpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCI9IiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5yaWdodCxlKSx0aGlzLnNlbWljb2xvbigpfWZ1bmN0aW9uIE0oZSl7dGhpcy53b3JkKCJvcGFxdWUiKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJ0eXBlIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5pZCxlKSx0aGlzLnByaW50KGUudHlwZVBhcmFtZXRlcnMsZSksZS5zdXBlcnR5cGUmJih0aGlzLnRva2VuKCI6IiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5zdXBlcnR5cGUsZSkpLGUuaW1wbHR5cGUmJih0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiPSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuaW1wbHR5cGUsZSkpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24gTihlKXt0aGlzLnRva2VuKCI6IiksdGhpcy5zcGFjZSgpLGUub3B0aW9uYWwmJnRoaXMudG9rZW4oIj8iKSx0aGlzLnByaW50KGUudHlwZUFubm90YXRpb24sZSl9ZnVuY3Rpb24gTChlKXt0aGlzLl92YXJpYW5jZShlKSx0aGlzLndvcmQoZS5uYW1lKSxlLmJvdW5kJiZ0aGlzLnByaW50KGUuYm91bmQsZSksZS5kZWZhdWx0JiYodGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIj0iKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmRlZmF1bHQsZSkpfWZ1bmN0aW9uIGooZSl7dGhpcy50b2tlbigiPCIpLHRoaXMucHJpbnRMaXN0KGUucGFyYW1zLGUse30pLHRoaXMudG9rZW4oIj4iKX1mdW5jdGlvbiBVKGUpe3ZhciB0PXRoaXM7ZS5leGFjdD90aGlzLnRva2VuKCJ7fCIpOnRoaXMudG9rZW4oInsiKTt2YXIgcj1lLnByb3BlcnRpZXMuY29uY2F0KGUuY2FsbFByb3BlcnRpZXMsZS5pbmRleGVycyk7ci5sZW5ndGgmJih0aGlzLnNwYWNlKCksdGhpcy5wcmludEpvaW4ocixlLHthZGROZXdsaW5lczpmdW5jdGlvbihlKXtpZihlJiYhclswXSlyZXR1cm4gMX0saW5kZW50OiEwLHN0YXRlbWVudDohMCxpdGVyYXRvcjpmdW5jdGlvbigpezEhPT1yLmxlbmd0aCYmKHQuZm9ybWF0LmZsb3dDb21tYVNlcGFyYXRvcj90LnRva2VuKCIsIik6dC5zZW1pY29sb24oKSx0LnNwYWNlKCkpfX0pLHRoaXMuc3BhY2UoKSksZS5leGFjdD90aGlzLnRva2VuKCJ8fSIpOnRoaXMudG9rZW4oIn0iKX1mdW5jdGlvbiBWKGUpe2Uuc3RhdGljJiYodGhpcy53b3JkKCJzdGF0aWMiKSx0aGlzLnNwYWNlKCkpLHRoaXMucHJpbnQoZS52YWx1ZSxlKX1mdW5jdGlvbiBHKGUpe2Uuc3RhdGljJiYodGhpcy53b3JkKCJzdGF0aWMiKSx0aGlzLnNwYWNlKCkpLHRoaXMuX3ZhcmlhbmNlKGUpLHRoaXMudG9rZW4oIlsiKSx0aGlzLnByaW50KGUuaWQsZSksdGhpcy50b2tlbigiOiIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUua2V5LGUpLHRoaXMudG9rZW4oIl0iKSx0aGlzLnRva2VuKCI6IiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS52YWx1ZSxlKX1mdW5jdGlvbiBXKGUpe2Uuc3RhdGljJiYodGhpcy53b3JkKCJzdGF0aWMiKSx0aGlzLnNwYWNlKCkpLHRoaXMuX3ZhcmlhbmNlKGUpLHRoaXMucHJpbnQoZS5rZXksZSksZS5vcHRpb25hbCYmdGhpcy50b2tlbigiPyIpLHRoaXMudG9rZW4oIjoiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLnZhbHVlLGUpfWZ1bmN0aW9uIFkoZSl7dGhpcy50b2tlbigiLi4uIiksdGhpcy5wcmludChlLmFyZ3VtZW50LGUpfWZ1bmN0aW9uIHEoZSl7dGhpcy5wcmludChlLnF1YWxpZmljYXRpb24sZSksdGhpcy50b2tlbigiLiIpLHRoaXMucHJpbnQoZS5pZCxlKX1mdW5jdGlvbiBLKCl7dGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oInwiKSx0aGlzLnNwYWNlKCl9ZnVuY3Rpb24gSChlKXt0aGlzLnByaW50Sm9pbihlLnR5cGVzLGUse3NlcGFyYXRvcjpLfSl9ZnVuY3Rpb24gSihlKXt0aGlzLnRva2VuKCIoIiksdGhpcy5wcmludChlLmV4cHJlc3Npb24sZSksdGhpcy5wcmludChlLnR5cGVBbm5vdGF0aW9uLGUpLHRoaXMudG9rZW4oIikiKX1mdW5jdGlvbiBYKCl7dGhpcy53b3JkKCJ2b2lkIil9dC5fX2VzTW9kdWxlPSEwLHQuVHlwZVBhcmFtZXRlckRlY2xhcmF0aW9uPXQuU3RyaW5nTGl0ZXJhbFR5cGVBbm5vdGF0aW9uPXQuTnVtZXJpY0xpdGVyYWxUeXBlQW5ub3RhdGlvbj10LkdlbmVyaWNUeXBlQW5ub3RhdGlvbj10LkNsYXNzSW1wbGVtZW50cz12b2lkIDAsdC5BbnlUeXBlQW5ub3RhdGlvbj1uLHQuQXJyYXlUeXBlQW5ub3RhdGlvbj1pLHQuQm9vbGVhblR5cGVBbm5vdGF0aW9uPXMsdC5Cb29sZWFuTGl0ZXJhbFR5cGVBbm5vdGF0aW9uPWEsdC5OdWxsTGl0ZXJhbFR5cGVBbm5vdGF0aW9uPW8sdC5EZWNsYXJlQ2xhc3M9dSx0LkRlY2xhcmVGdW5jdGlvbj1sLHQuRGVjbGFyZUludGVyZmFjZT1jLHQuRGVjbGFyZU1vZHVsZT1mLHQuRGVjbGFyZU1vZHVsZUV4cG9ydHM9cCx0LkRlY2xhcmVUeXBlQWxpYXM9ZCx0LkRlY2xhcmVPcGFxdWVUeXBlPWgsdC5EZWNsYXJlVmFyaWFibGU9bSx0LkRlY2xhcmVFeHBvcnREZWNsYXJhdGlvbj15LHQuRXhpc3RlbnRpYWxUeXBlUGFyYW09Zyx0LkZ1bmN0aW9uVHlwZUFubm90YXRpb249Yix0LkZ1bmN0aW9uVHlwZVBhcmFtPUUsdC5JbnRlcmZhY2VFeHRlbmRzPXgsdC5faW50ZXJmYWNlaXNoPUEsdC5fdmFyaWFuY2U9Uyx0LkludGVyZmFjZURlY2xhcmF0aW9uPV8sdC5JbnRlcnNlY3Rpb25UeXBlQW5ub3RhdGlvbj1DLHQuTWl4ZWRUeXBlQW5ub3RhdGlvbj13LHQuRW1wdHlUeXBlQW5ub3RhdGlvbj1QLHQuTnVsbGFibGVUeXBlQW5ub3RhdGlvbj1rO3ZhciB6PXIoMTIzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiTnVtZXJpY0xpdGVyYWxUeXBlQW5ub3RhdGlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHouTnVtZXJpY0xpdGVyYWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIlN0cmluZ0xpdGVyYWxUeXBlQW5ub3RhdGlvbiIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHouU3RyaW5nTGl0ZXJhbH19KSx0Lk51bWJlclR5cGVBbm5vdGF0aW9uPUYsdC5TdHJpbmdUeXBlQW5ub3RhdGlvbj1ULHQuVGhpc1R5cGVBbm5vdGF0aW9uPU8sdC5UdXBsZVR5cGVBbm5vdGF0aW9uPUIsdC5UeXBlb2ZUeXBlQW5ub3RhdGlvbj1SLHQuVHlwZUFsaWFzPUksdC5PcGFxdWVUeXBlPU0sdC5UeXBlQW5ub3RhdGlvbj1OLHQuVHlwZVBhcmFtZXRlcj1MLHQuVHlwZVBhcmFtZXRlckluc3RhbnRpYXRpb249aix0Lk9iamVjdFR5cGVBbm5vdGF0aW9uPVUsdC5PYmplY3RUeXBlQ2FsbFByb3BlcnR5PVYsdC5PYmplY3RUeXBlSW5kZXhlcj1HLHQuT2JqZWN0VHlwZVByb3BlcnR5PVcsdC5PYmplY3RUeXBlU3ByZWFkUHJvcGVydHk9WSx0LlF1YWxpZmllZFR5cGVJZGVudGlmaWVyPXEsdC5VbmlvblR5cGVBbm5vdGF0aW9uPUgsdC5UeXBlQ2FzdEV4cHJlc3Npb249Six0LlZvaWRUeXBlQW5ub3RhdGlvbj1YO3ZhciAkPXIoMSksUT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KCQpO3QuQ2xhc3NJbXBsZW1lbnRzPXgsdC5HZW5lcmljVHlwZUFubm90YXRpb249eCx0LlR5cGVQYXJhbWV0ZXJEZWNsYXJhdGlvbj1qfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dGhpcy5wcmludChlLm5hbWUsZSksZS52YWx1ZSYmKHRoaXMudG9rZW4oIj0iKSx0aGlzLnByaW50KGUudmFsdWUsZSkpfWZ1bmN0aW9uIGkoZSl7dGhpcy53b3JkKGUubmFtZSl9ZnVuY3Rpb24gcyhlKXt0aGlzLnByaW50KGUubmFtZXNwYWNlLGUpLHRoaXMudG9rZW4oIjoiKSx0aGlzLnByaW50KGUubmFtZSxlKX1mdW5jdGlvbiBhKGUpe3RoaXMucHJpbnQoZS5vYmplY3QsZSksdGhpcy50b2tlbigiLiIpLHRoaXMucHJpbnQoZS5wcm9wZXJ0eSxlKX1mdW5jdGlvbiBvKGUpe3RoaXMudG9rZW4oInsiKSx0aGlzLnRva2VuKCIuLi4iKSx0aGlzLnByaW50KGUuYXJndW1lbnQsZSksdGhpcy50b2tlbigifSIpfWZ1bmN0aW9uIHUoZSl7dGhpcy50b2tlbigieyIpLHRoaXMucHJpbnQoZS5leHByZXNzaW9uLGUpLHRoaXMudG9rZW4oIn0iKX1mdW5jdGlvbiBsKGUpe3RoaXMudG9rZW4oInsiKSx0aGlzLnRva2VuKCIuLi4iKSx0aGlzLnByaW50KGUuZXhwcmVzc2lvbixlKSx0aGlzLnRva2VuKCJ9Iil9ZnVuY3Rpb24gYyhlKXt0aGlzLnRva2VuKGUudmFsdWUpfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9ZS5vcGVuaW5nRWxlbWVudDtpZih0aGlzLnByaW50KHQsZSksIXQuc2VsZkNsb3Npbmcpe3RoaXMuaW5kZW50KCk7Zm9yKHZhciByPWUuY2hpbGRyZW4sbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjooMCx2LmRlZmF1bHQpKHIpOzspe3ZhciBzO2lmKG4pe2lmKGk+PXIubGVuZ3RoKWJyZWFrO3M9cltpKytdfWVsc2V7aWYoaT1yLm5leHQoKSxpLmRvbmUpYnJlYWs7cz1pLnZhbHVlfXZhciBhPXM7dGhpcy5wcmludChhLGUpfXRoaXMuZGVkZW50KCksdGhpcy5wcmludChlLmNsb3NpbmdFbGVtZW50LGUpfX1mdW5jdGlvbiBwKCl7dGhpcy5zcGFjZSgpfWZ1bmN0aW9uIGQoZSl7dGhpcy50b2tlbigiPCIpLHRoaXMucHJpbnQoZS5uYW1lLGUpLGUuYXR0cmlidXRlcy5sZW5ndGg+MCYmKHRoaXMuc3BhY2UoKSx0aGlzLnByaW50Sm9pbihlLmF0dHJpYnV0ZXMsZSx7c2VwYXJhdG9yOnB9KSksZS5zZWxmQ2xvc2luZz8odGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIi8+IikpOnRoaXMudG9rZW4oIj4iKX1mdW5jdGlvbiBoKGUpe3RoaXMudG9rZW4oIjwvIiksdGhpcy5wcmludChlLm5hbWUsZSksdGhpcy50b2tlbigiPiIpfWZ1bmN0aW9uIG0oKXt9dC5fX2VzTW9kdWxlPSEwO3ZhciB5PXIoMiksdj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHkpO3QuSlNYQXR0cmlidXRlPW4sdC5KU1hJZGVudGlmaWVyPWksdC5KU1hOYW1lc3BhY2VkTmFtZT1zLHQuSlNYTWVtYmVyRXhwcmVzc2lvbj1hLHQuSlNYU3ByZWFkQXR0cmlidXRlPW8sdC5KU1hFeHByZXNzaW9uQ29udGFpbmVyPXUsdC5KU1hTcHJlYWRDaGlsZD1sLHQuSlNYVGV4dD1jLHQuSlNYRWxlbWVudD1mLHQuSlNYT3BlbmluZ0VsZW1lbnQ9ZCx0LkpTWENsb3NpbmdFbGVtZW50PWgsdC5KU1hFbXB0eUV4cHJlc3Npb249bX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXRoaXM7dGhpcy5wcmludChlLnR5cGVQYXJhbWV0ZXJzLGUpLHRoaXMudG9rZW4oIigiKSx0aGlzLnByaW50TGlzdChlLnBhcmFtcyxlLHtpdGVyYXRvcjpmdW5jdGlvbihlKXtlLm9wdGlvbmFsJiZ0LnRva2VuKCI/IiksdC5wcmludChlLnR5cGVBbm5vdGF0aW9uLGUpfX0pLHRoaXMudG9rZW4oIikiKSxlLnJldHVyblR5cGUmJnRoaXMucHJpbnQoZS5yZXR1cm5UeXBlLGUpfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9ZS5raW5kLHI9ZS5rZXk7Im1ldGhvZCIhPT10JiYiaW5pdCIhPT10fHxlLmdlbmVyYXRvciYmdGhpcy50b2tlbigiKiIpLCJnZXQiIT09dCYmInNldCIhPT10fHwodGhpcy53b3JkKHQpLHRoaXMuc3BhY2UoKSksZS5hc3luYyYmKHRoaXMud29yZCgiYXN5bmMiKSx0aGlzLnNwYWNlKCkpLGUuY29tcHV0ZWQ/KHRoaXMudG9rZW4oIlsiKSx0aGlzLnByaW50KHIsZSksdGhpcy50b2tlbigiXSIpKTp0aGlzLnByaW50KHIsZSksdGhpcy5fcGFyYW1zKGUpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKX1mdW5jdGlvbiBzKGUpe2UuYXN5bmMmJih0aGlzLndvcmQoImFzeW5jIiksdGhpcy5zcGFjZSgpKSx0aGlzLndvcmQoImZ1bmN0aW9uIiksZS5nZW5lcmF0b3ImJnRoaXMudG9rZW4oIioiKSxlLmlkPyh0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmlkLGUpKTp0aGlzLnNwYWNlKCksdGhpcy5fcGFyYW1zKGUpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKX1mdW5jdGlvbiBhKGUpe2UuYXN5bmMmJih0aGlzLndvcmQoImFzeW5jIiksdGhpcy5zcGFjZSgpKTt2YXIgdD1lLnBhcmFtc1swXTsxPT09ZS5wYXJhbXMubGVuZ3RoJiZsLmlzSWRlbnRpZmllcih0KSYmIW8oZSx0KT90aGlzLnByaW50KHQsZSk6dGhpcy5fcGFyYW1zKGUpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCI9PiIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKX1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIGUudHlwZVBhcmFtZXRlcnN8fGUucmV0dXJuVHlwZXx8dC50eXBlQW5ub3RhdGlvbnx8dC5vcHRpb25hbHx8dC50cmFpbGluZ0NvbW1lbnRzfXQuX19lc01vZHVsZT0hMCx0LkZ1bmN0aW9uRGVjbGFyYXRpb249dm9pZCAwLHQuX3BhcmFtcz1uLHQuX21ldGhvZD1pLHQuRnVuY3Rpb25FeHByZXNzaW9uPXMsdC5BcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbj1hO3ZhciB1PXIoMSksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHUpO3QuRnVuY3Rpb25EZWNsYXJhdGlvbj1zfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7InR5cGUiIT09ZS5pbXBvcnRLaW5kJiYidHlwZW9mIiE9PWUuaW1wb3J0S2luZHx8KHRoaXMud29yZChlLmltcG9ydEtpbmQpLHRoaXMuc3BhY2UoKSksdGhpcy5wcmludChlLmltcG9ydGVkLGUpLGUubG9jYWwmJmUubG9jYWwubmFtZSE9PWUuaW1wb3J0ZWQubmFtZSYmKHRoaXMuc3BhY2UoKSx0aGlzLndvcmQoImFzIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5sb2NhbCxlKSl9ZnVuY3Rpb24gaShlKXt0aGlzLnByaW50KGUubG9jYWwsZSl9ZnVuY3Rpb24gcyhlKXt0aGlzLnByaW50KGUuZXhwb3J0ZWQsZSl9ZnVuY3Rpb24gYShlKXt0aGlzLnByaW50KGUubG9jYWwsZSksZS5leHBvcnRlZCYmZS5sb2NhbC5uYW1lIT09ZS5leHBvcnRlZC5uYW1lJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgiYXMiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmV4cG9ydGVkLGUpKX1mdW5jdGlvbiBvKGUpe3RoaXMudG9rZW4oIioiKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJhcyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuZXhwb3J0ZWQsZSl9ZnVuY3Rpb24gdShlKXt0aGlzLndvcmQoImV4cG9ydCIpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCIqIiksdGhpcy5zcGFjZSgpLHRoaXMud29yZCgiZnJvbSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuc291cmNlLGUpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24gbCgpe3RoaXMud29yZCgiZXhwb3J0IiksdGhpcy5zcGFjZSgpLGYuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoKXt0aGlzLndvcmQoImV4cG9ydCIpLHRoaXMuc3BhY2UoKSx0aGlzLndvcmQoImRlZmF1bHQiKSx0aGlzLnNwYWNlKCksZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZihlKXtpZihlLmRlY2xhcmF0aW9uKXt2YXIgdD1lLmRlY2xhcmF0aW9uO3RoaXMucHJpbnQodCxlKSxtLmlzU3RhdGVtZW50KHQpfHx0aGlzLnNlbWljb2xvbigpfWVsc2V7InR5cGUiPT09ZS5leHBvcnRLaW5kJiYodGhpcy53b3JkKCJ0eXBlIiksdGhpcy5zcGFjZSgpKTtmb3IodmFyIHI9ZS5zcGVjaWZpZXJzLnNsaWNlKDApLG49ITE7Oyl7dmFyIGk9clswXTtpZighbS5pc0V4cG9ydERlZmF1bHRTcGVjaWZpZXIoaSkmJiFtLmlzRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyKGkpKWJyZWFrO249ITAsdGhpcy5wcmludChyLnNoaWZ0KCksZSksci5sZW5ndGgmJih0aGlzLnRva2VuKCIsIiksdGhpcy5zcGFjZSgpKX0oci5sZW5ndGh8fCFyLmxlbmd0aCYmIW4pJiYodGhpcy50b2tlbigieyIpLHIubGVuZ3RoJiYodGhpcy5zcGFjZSgpLHRoaXMucHJpbnRMaXN0KHIsZSksdGhpcy5zcGFjZSgpKSx0aGlzLnRva2VuKCJ9IikpLGUuc291cmNlJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgiZnJvbSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuc291cmNlLGUpKSx0aGlzLnNlbWljb2xvbigpfX1mdW5jdGlvbiBwKGUpe3RoaXMud29yZCgiaW1wb3J0IiksdGhpcy5zcGFjZSgpLCJ0eXBlIiE9PWUuaW1wb3J0S2luZCYmInR5cGVvZiIhPT1lLmltcG9ydEtpbmR8fCh0aGlzLndvcmQoZS5pbXBvcnRLaW5kKSx0aGlzLnNwYWNlKCkpO3ZhciB0PWUuc3BlY2lmaWVycy5zbGljZSgwKTtpZih0JiZ0Lmxlbmd0aCl7Zm9yKDs7KXt2YXIgcj10WzBdO2lmKCFtLmlzSW1wb3J0RGVmYXVsdFNwZWNpZmllcihyKSYmIW0uaXNJbXBvcnROYW1lc3BhY2VTcGVjaWZpZXIocikpYnJlYWs7dGhpcy5wcmludCh0LnNoaWZ0KCksZSksdC5sZW5ndGgmJih0aGlzLnRva2VuKCIsIiksdGhpcy5zcGFjZSgpKX10Lmxlbmd0aCYmKHRoaXMudG9rZW4oInsiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludExpc3QodCxlKSx0aGlzLnNwYWNlKCksdGhpcy50b2tlbigifSIpKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJmcm9tIiksdGhpcy5zcGFjZSgpfXRoaXMucHJpbnQoZS5zb3VyY2UsZSksdGhpcy5zZW1pY29sb24oKX1mdW5jdGlvbiBkKGUpe3RoaXMudG9rZW4oIioiKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJhcyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUubG9jYWwsZSl9dC5fX2VzTW9kdWxlPSEwLHQuSW1wb3J0U3BlY2lmaWVyPW4sdC5JbXBvcnREZWZhdWx0U3BlY2lmaWVyPWksdC5FeHBvcnREZWZhdWx0U3BlY2lmaWVyPXMsdC5FeHBvcnRTcGVjaWZpZXI9YSx0LkV4cG9ydE5hbWVzcGFjZVNwZWNpZmllcj1vLHQuRXhwb3J0QWxsRGVjbGFyYXRpb249dSx0LkV4cG9ydE5hbWVkRGVjbGFyYXRpb249bCx0LkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbj1jLHQuSW1wb3J0RGVjbGFyYXRpb249cCx0LkltcG9ydE5hbWVzcGFjZVNwZWNpZmllcj1kO3ZhciBoPXIoMSksbT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGgpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dGhpcy53b3JkKCJ3aXRoIiksdGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIigiKSx0aGlzLnByaW50KGUub2JqZWN0LGUpLHRoaXMudG9rZW4oIikiKSx0aGlzLnByaW50QmxvY2soZSl9ZnVuY3Rpb24gaShlKXt0aGlzLndvcmQoImlmIiksdGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIigiKSx0aGlzLnByaW50KGUudGVzdCxlKSx0aGlzLnRva2VuKCIpIiksdGhpcy5zcGFjZSgpO3ZhciB0PWUuYWx0ZXJuYXRlJiZTLmlzSWZTdGF0ZW1lbnQocyhlLmNvbnNlcXVlbnQpKTt0JiYodGhpcy50b2tlbigieyIpLHRoaXMubmV3bGluZSgpLHRoaXMuaW5kZW50KCkpLHRoaXMucHJpbnRBbmRJbmRlbnRPbkNvbW1lbnRzKGUuY29uc2VxdWVudCxlKSx0JiYodGhpcy5kZWRlbnQoKSx0aGlzLm5ld2xpbmUoKSx0aGlzLnRva2VuKCJ9IikpLGUuYWx0ZXJuYXRlJiYodGhpcy5lbmRzV2l0aCgifSIpJiZ0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJlbHNlIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnRBbmRJbmRlbnRPbkNvbW1lbnRzKGUuYWx0ZXJuYXRlLGUpKX1mdW5jdGlvbiBzKGUpe3JldHVybiBTLmlzU3RhdGVtZW50KGUuYm9keSk/cyhlLmJvZHkpOmV9ZnVuY3Rpb24gYShlKXt0aGlzLndvcmQoImZvciIpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCIoIiksdGhpcy5pbkZvclN0YXRlbWVudEluaXRDb3VudGVyKyssdGhpcy5wcmludChlLmluaXQsZSksdGhpcy5pbkZvclN0YXRlbWVudEluaXRDb3VudGVyLS0sdGhpcy50b2tlbigiOyIpLGUudGVzdCYmKHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUudGVzdCxlKSksdGhpcy50b2tlbigiOyIpLGUudXBkYXRlJiYodGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS51cGRhdGUsZSkpLHRoaXMudG9rZW4oIikiKSx0aGlzLnByaW50QmxvY2soZSl9ZnVuY3Rpb24gbyhlKXt0aGlzLndvcmQoIndoaWxlIiksdGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIigiKSx0aGlzLnByaW50KGUudGVzdCxlKSx0aGlzLnRva2VuKCIpIiksdGhpcy5wcmludEJsb2NrKGUpfWZ1bmN0aW9uIHUoZSl7dGhpcy53b3JkKCJkbyIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYm9keSxlKSx0aGlzLnNwYWNlKCksdGhpcy53b3JkKCJ3aGlsZSIpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCIoIiksdGhpcy5wcmludChlLnRlc3QsZSksdGhpcy50b2tlbigiKSIpLHRoaXMuc2VtaWNvbG9uKCl9ZnVuY3Rpb24gbChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImxhYmVsIjtyZXR1cm4gZnVuY3Rpb24ocil7dGhpcy53b3JkKGUpO3ZhciBuPXJbdF07aWYobil7dGhpcy5zcGFjZSgpO3ZhciBpPXRoaXMuc3RhcnRUZXJtaW5hdG9ybGVzcygpO3RoaXMucHJpbnQobixyKSx0aGlzLmVuZFRlcm1pbmF0b3JsZXNzKGkpfXRoaXMuc2VtaWNvbG9uKCl9fWZ1bmN0aW9uIGMoZSl7dGhpcy5wcmludChlLmxhYmVsLGUpLHRoaXMudG9rZW4oIjoiKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmJvZHksZSl9ZnVuY3Rpb24gZihlKXt0aGlzLndvcmQoInRyeSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuYmxvY2ssZSksdGhpcy5zcGFjZSgpLGUuaGFuZGxlcnM/dGhpcy5wcmludChlLmhhbmRsZXJzWzBdLGUpOnRoaXMucHJpbnQoZS5oYW5kbGVyLGUpLGUuZmluYWxpemVyJiYodGhpcy5zcGFjZSgpLHRoaXMud29yZCgiZmluYWxseSIpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KGUuZmluYWxpemVyLGUpKX1mdW5jdGlvbiBwKGUpe3RoaXMud29yZCgiY2F0Y2giKSx0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiKCIpLHRoaXMucHJpbnQoZS5wYXJhbSxlKSx0aGlzLnRva2VuKCIpIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS5ib2R5LGUpfWZ1bmN0aW9uIGQoZSl7dGhpcy53b3JkKCJzd2l0Y2giKSx0aGlzLnNwYWNlKCksdGhpcy50b2tlbigiKCIpLHRoaXMucHJpbnQoZS5kaXNjcmltaW5hbnQsZSksdGhpcy50b2tlbigiKSIpLHRoaXMuc3BhY2UoKSx0aGlzLnRva2VuKCJ7IiksdGhpcy5wcmludFNlcXVlbmNlKGUuY2FzZXMsZSx7aW5kZW50OiEwLGFkZE5ld2xpbmVzOmZ1bmN0aW9uKHQscil7aWYoIXQmJmUuY2FzZXNbZS5jYXNlcy5sZW5ndGgtMV09PT1yKXJldHVybi0xfX0pLHRoaXMudG9rZW4oIn0iKX1mdW5jdGlvbiBoKGUpe2UudGVzdD8odGhpcy53b3JkKCJjYXNlIiksdGhpcy5zcGFjZSgpLHRoaXMucHJpbnQoZS50ZXN0LGUpLHRoaXMudG9rZW4oIjoiKSk6KHRoaXMud29yZCgiZGVmYXVsdCIpLHRoaXMudG9rZW4oIjoiKSksZS5jb25zZXF1ZW50Lmxlbmd0aCYmKHRoaXMubmV3bGluZSgpLHRoaXMucHJpbnRTZXF1ZW5jZShlLmNvbnNlcXVlbnQsZSx7aW5kZW50OiEwfSkpfWZ1bmN0aW9uIG0oKXt0aGlzLndvcmQoImRlYnVnZ2VyIiksdGhpcy5zZW1pY29sb24oKX1mdW5jdGlvbiB5KCl7aWYodGhpcy50b2tlbigiLCIpLHRoaXMubmV3bGluZSgpLHRoaXMuZW5kc1dpdGgoIlxuIikpZm9yKHZhciBlPTA7ZTw0O2UrKyl0aGlzLnNwYWNlKCEwKX1mdW5jdGlvbiB2KCl7aWYodGhpcy50b2tlbigiLCIpLHRoaXMubmV3bGluZSgpLHRoaXMuZW5kc1dpdGgoIlxuIikpZm9yKHZhciBlPTA7ZTw2O2UrKyl0aGlzLnNwYWNlKCEwKX1mdW5jdGlvbiBnKGUsdCl7dGhpcy53b3JkKGUua2luZCksdGhpcy5zcGFjZSgpO3ZhciByPSExO2lmKCFTLmlzRm9yKHQpKWZvcih2YXIgbj1lLmRlY2xhcmF0aW9ucyxpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOigwLHguZGVmYXVsdCkobik7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9dmFyIG89YTtvLmluaXQmJihyPSEwKX12YXIgdT12b2lkIDA7ciYmKHU9ImNvbnN0Ij09PWUua2luZD92OnkpLHRoaXMucHJpbnRMaXN0KGUuZGVjbGFyYXRpb25zLGUse3NlcGFyYXRvcjp1fSksKCFTLmlzRm9yKHQpfHx0LmxlZnQhPT1lJiZ0LmluaXQhPT1lKSYmdGhpcy5zZW1pY29sb24oKX1mdW5jdGlvbiBiKGUpe3RoaXMucHJpbnQoZS5pZCxlKSx0aGlzLnByaW50KGUuaWQudHlwZUFubm90YXRpb24sZSksZS5pbml0JiYodGhpcy5zcGFjZSgpLHRoaXMudG9rZW4oIj0iKSx0aGlzLnNwYWNlKCksdGhpcy5wcmludChlLmluaXQsZSkpfXQuX19lc01vZHVsZT0hMCx0LlRocm93U3RhdGVtZW50PXQuQnJlYWtTdGF0ZW1lbnQ9dC5SZXR1cm5TdGF0ZW1lbnQ9dC5Db250aW51ZVN0YXRlbWVudD10LkZvckF3YWl0U3RhdGVtZW50PXQuRm9yT2ZTdGF0ZW1lbnQ9dC5Gb3JJblN0YXRlbWVudD12b2lkIDA7dmFyIEU9cigyKSx4PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oRSk7dC5XaXRoU3RhdGVtZW50PW4sdC5JZlN0YXRlbWVudD1pLHQuRm9yU3RhdGVtZW50PWEsdC5XaGlsZVN0YXRlbWVudD1vLHQuRG9XaGlsZVN0YXRlbWVudD11LHQuTGFiZWxlZFN0YXRlbWVudD1jLHQuVHJ5U3RhdGVtZW50PWYsdC5DYXRjaENsYXVzZT1wLHQuU3dpdGNoU3RhdGVtZW50PWQsdC5Td2l0Y2hDYXNlPWgsdC5EZWJ1Z2dlclN0YXRlbWVudD1tLHQuVmFyaWFibGVEZWNsYXJhdGlvbj1nLHQuVmFyaWFibGVEZWNsYXJhdG9yPWI7dmFyIEE9cigxKSxTPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oQSksXz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dGhpcy53b3JkKCJmb3IiKSx0aGlzLnNwYWNlKCksImF3YWl0Ij09PWUmJih0aGlzLndvcmQoImF3YWl0IiksdGhpcy5zcGFjZSgpKSx0aGlzLnRva2VuKCIoIiksdGhpcy5wcmludCh0LmxlZnQsdCksdGhpcy5zcGFjZSgpLHRoaXMud29yZCgiYXdhaXQiPT09ZT8ib2YiOmUpLHRoaXMuc3BhY2UoKSx0aGlzLnByaW50KHQucmlnaHQsdCksdGhpcy50b2tlbigiKSIpLHRoaXMucHJpbnRCbG9jayh0KX19O3QuRm9ySW5TdGF0ZW1lbnQ9XygiaW4iKSx0LkZvck9mU3RhdGVtZW50PV8oIm9mIiksdC5Gb3JBd2FpdFN0YXRlbWVudD1fKCJhd2FpdCIpLHQuQ29udGludWVTdGF0ZW1lbnQ9bCgiY29udGludWUiKSx0LlJldHVyblN0YXRlbWVudD1sKCJyZXR1cm4iLCJhcmd1bWVudCIpLHQuQnJlYWtTdGF0ZW1lbnQ9bCgiYnJlYWsiKSx0LlRocm93U3RhdGVtZW50PWwoInRocm93IiwiYXJndW1lbnQiKX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt0aGlzLnByaW50KGUudGFnLGUpLHRoaXMucHJpbnQoZS5xdWFzaSxlKX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9dC5xdWFzaXNbMF09PT1lLG49dC5xdWFzaXNbdC5xdWFzaXMubGVuZ3RoLTFdPT09ZSxpPShyPyJgIjoifSIpK2UudmFsdWUucmF3KyhuPyJgIjoiJHsiKTt0aGlzLnRva2VuKGkpfWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PWUucXVhc2lzLHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLnByaW50KHRbcl0sZSkscisxPHQubGVuZ3RoJiZ0aGlzLnByaW50KGUuZXhwcmVzc2lvbnNbcl0sZSl9dC5fX2VzTW9kdWxlPSEwLHQuVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uPXIsdC5UZW1wbGF0ZUVsZW1lbnQ9bix0LlRlbXBsYXRlTGl0ZXJhbD1pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gYi5pc0FycmF5VHlwZUFubm90YXRpb24odCl9ZnVuY3Rpb24gaShlLHQpe3JldHVybiBiLmlzTWVtYmVyRXhwcmVzc2lvbih0KSYmdC5vYmplY3Q9PT1lfWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiB2KHIse2NvbnNpZGVyQXJyb3c6ITB9KX1mdW5jdGlvbiBhKGUsdCxyKXtyZXR1cm4gdihyKX1mdW5jdGlvbiBvKGUsdCl7aWYoKGIuaXNDYWxsRXhwcmVzc2lvbih0KXx8Yi5pc05ld0V4cHJlc3Npb24odCkpJiZ0LmNhbGxlZT09PWV8fGIuaXNVbmFyeUxpa2UodCl8fGIuaXNNZW1iZXJFeHByZXNzaW9uKHQpJiZ0Lm9iamVjdD09PWV8fGIuaXNBd2FpdEV4cHJlc3Npb24odCkpcmV0dXJuITA7aWYoYi5pc0JpbmFyeSh0KSl7dmFyIHI9dC5vcGVyYXRvcixuPUVbcl0saT1lLm9wZXJhdG9yLHM9RVtpXTtpZihuPT09cyYmdC5yaWdodD09PWUmJiFiLmlzTG9naWNhbEV4cHJlc3Npb24odCl8fG4+cylyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuImluIj09PWUub3BlcmF0b3ImJihiLmlzVmFyaWFibGVEZWNsYXJhdG9yKHQpfHxiLmlzRm9yKHQpKX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuIShiLmlzRm9yU3RhdGVtZW50KHQpfHxiLmlzVGhyb3dTdGF0ZW1lbnQodCl8fGIuaXNSZXR1cm5TdGF0ZW1lbnQodCl8fGIuaXNJZlN0YXRlbWVudCh0KSYmdC50ZXN0PT09ZXx8Yi5pc1doaWxlU3RhdGVtZW50KHQpJiZ0LnRlc3Q9PT1lfHxiLmlzRm9ySW5TdGF0ZW1lbnQodCkmJnQucmlnaHQ9PT1lfHxiLmlzU3dpdGNoU3RhdGVtZW50KHQpJiZ0LmRpc2NyaW1pbmFudD09PWV8fGIuaXNFeHByZXNzaW9uU3RhdGVtZW50KHQpJiZ0LmV4cHJlc3Npb249PT1lKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGIuaXNCaW5hcnkodCl8fGIuaXNVbmFyeUxpa2UodCl8fGIuaXNDYWxsRXhwcmVzc2lvbih0KXx8Yi5pc01lbWJlckV4cHJlc3Npb24odCl8fGIuaXNOZXdFeHByZXNzaW9uKHQpfHxiLmlzQ29uZGl0aW9uYWxFeHByZXNzaW9uKHQpJiZlPT09dC50ZXN0fWZ1bmN0aW9uIGYoZSx0LHIpe3JldHVybiB2KHIse2NvbnNpZGVyRGVmYXVsdEV4cG9ydHM6ITB9KX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIGIuaXNNZW1iZXJFeHByZXNzaW9uKHQse29iamVjdDplfSl8fGIuaXNDYWxsRXhwcmVzc2lvbih0LHtjYWxsZWU6ZX0pfHxiLmlzTmV3RXhwcmVzc2lvbih0LHtjYWxsZWU6ZX0pfWZ1bmN0aW9uIGQoZSx0LHIpe3JldHVybiB2KHIse2NvbnNpZGVyRGVmYXVsdEV4cG9ydHM6ITB9KX1mdW5jdGlvbiBoKGUsdCl7cmV0dXJuISEoYi5pc0V4cG9ydERlY2xhcmF0aW9uKHQpfHxiLmlzQmluYXJ5RXhwcmVzc2lvbih0KXx8Yi5pc0xvZ2ljYWxFeHByZXNzaW9uKHQpfHxiLmlzVW5hcnlFeHByZXNzaW9uKHQpfHxiLmlzVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uKHQpKXx8cChlLHQpfWZ1bmN0aW9uIG0oZSx0KXtyZXR1cm4hIShiLmlzVW5hcnlMaWtlKHQpfHxiLmlzQmluYXJ5KHQpfHxiLmlzQ29uZGl0aW9uYWxFeHByZXNzaW9uKHQse3Rlc3Q6ZX0pfHxiLmlzQXdhaXRFeHByZXNzaW9uKHQpKXx8cChlLHQpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuISFiLmlzT2JqZWN0UGF0dGVybihlLmxlZnQpfHxtLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5jb25zaWRlckFycm93LG49dm9pZCAwIT09ciYmcixpPXQuY29uc2lkZXJEZWZhdWx0RXhwb3J0cyxzPXZvaWQgMCE9PWkmJmksYT1lLmxlbmd0aC0xLG89ZVthXTthLS07Zm9yKHZhciB1PWVbYV07YT4wOyl7aWYoYi5pc0V4cHJlc3Npb25TdGF0ZW1lbnQodSx7ZXhwcmVzc2lvbjpvfSl8fGIuaXNUYWdnZWRUZW1wbGF0ZUV4cHJlc3Npb24odSl8fHMmJmIuaXNFeHBvcnREZWZhdWx0RGVjbGFyYXRpb24odSx7ZGVjbGFyYXRpb246b30pfHxuJiZiLmlzQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24odSx7Ym9keTpvfSkpcmV0dXJuITA7aWYoIShiLmlzQ2FsbEV4cHJlc3Npb24odSx7Y2FsbGVlOm99KXx8Yi5pc1NlcXVlbmNlRXhwcmVzc2lvbih1KSYmdS5leHByZXNzaW9uc1swXT09PW98fGIuaXNNZW1iZXJFeHByZXNzaW9uKHUse29iamVjdDpvfSl8fGIuaXNDb25kaXRpb25hbCh1LHt0ZXN0Om99KXx8Yi5pc0JpbmFyeSh1LHtsZWZ0Om99KXx8Yi5pc0Fzc2lnbm1lbnRFeHByZXNzaW9uKHUse2xlZnQ6b30pKSlyZXR1cm4hMTtvPXUsYS0tLHU9ZVthXX1yZXR1cm4hMX10Ll9fZXNNb2R1bGU9ITAsdC5Bd2FpdEV4cHJlc3Npb249dC5GdW5jdGlvblR5cGVBbm5vdGF0aW9uPXZvaWQgMCx0Lk51bGxhYmxlVHlwZUFubm90YXRpb249bix0LlVwZGF0ZUV4cHJlc3Npb249aSx0Lk9iamVjdEV4cHJlc3Npb249cyx0LkRvRXhwcmVzc2lvbj1hLHQuQmluYXJ5PW8sdC5CaW5hcnlFeHByZXNzaW9uPXUsdC5TZXF1ZW5jZUV4cHJlc3Npb249bCx0LllpZWxkRXhwcmVzc2lvbj1jLHQuQ2xhc3NFeHByZXNzaW9uPWYsdC5VbmFyeUxpa2U9cCx0LkZ1bmN0aW9uRXhwcmVzc2lvbj1kLHQuQXJyb3dGdW5jdGlvbkV4cHJlc3Npb249aCx0LkNvbmRpdGlvbmFsRXhwcmVzc2lvbj1tLHQuQXNzaWdubWVudEV4cHJlc3Npb249eTt2YXIgZz1yKDEpLGI9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShnKSxFPXsifHwiOjAsIiYmIjoxLCJ8IjoyLCJeIjozLCImIjo0LCI9PSI6NSwiPT09Ijo1LCIhPSI6NSwiIT09Ijo1LCI8Ijo2LCI+Ijo2LCI8PSI6NiwiPj0iOjYsaW46NixpbnN0YW5jZW9mOjYsIj4+Ijo3LCI8PCI6NywiPj4+Ijo3LCIrIjo4LCItIjo4LCIqIjo5LCIvIjo5LCIlIjo5LCIqKiI6MTB9O3QuRnVuY3Rpb25UeXBlQW5ub3RhdGlvbj1uLHQuQXdhaXRFeHByZXNzaW9uPWN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGwuaXNNZW1iZXJFeHByZXNzaW9uKGUpPyhuKGUub2JqZWN0LHQpLGUuY29tcHV0ZWQmJm4oZS5wcm9wZXJ0eSx0KSk6bC5pc0JpbmFyeShlKXx8bC5pc0Fzc2lnbm1lbnRFeHByZXNzaW9uKGUpPyhuKGUubGVmdCx0KSxuKGUucmlnaHQsdCkpOmwuaXNDYWxsRXhwcmVzc2lvbihlKT8odC5oYXNDYWxsPSEwLG4oZS5jYWxsZWUsdCkpOmwuaXNGdW5jdGlvbihlKT90Lmhhc0Z1bmN0aW9uPSEwOmwuaXNJZGVudGlmaWVyKGUpJiYodC5oYXNIZWxwZXI9dC5oYXNIZWxwZXJ8fGkoZS5jYWxsZWUpKSx0fWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGwuaXNNZW1iZXJFeHByZXNzaW9uKGUpP2koZS5vYmplY3QpfHxpKGUucHJvcGVydHkpOmwuaXNJZGVudGlmaWVyKGUpPyJyZXF1aXJlIj09PWUubmFtZXx8Il8iPT09ZS5uYW1lWzBdOmwuaXNDYWxsRXhwcmVzc2lvbihlKT9pKGUuY2FsbGVlKTohKCFsLmlzQmluYXJ5KGUpJiYhbC5pc0Fzc2lnbm1lbnRFeHByZXNzaW9uKGUpKSYmKGwuaXNJZGVudGlmaWVyKGUubGVmdCkmJmkoZS5sZWZ0KXx8aShlLnJpZ2h0KSl9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gbC5pc0xpdGVyYWwoZSl8fGwuaXNPYmplY3RFeHByZXNzaW9uKGUpfHxsLmlzQXJyYXlFeHByZXNzaW9uKGUpfHxsLmlzSWRlbnRpZmllcihlKXx8bC5pc01lbWJlckV4cHJlc3Npb24oZSl9dmFyIGE9cig1ODgpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShhKSx1PXIoMSksbD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHUpO3Qubm9kZXM9e0Fzc2lnbm1lbnRFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PW4oZS5yaWdodCk7aWYodC5oYXNDYWxsJiZ0Lmhhc0hlbHBlcnx8dC5oYXNGdW5jdGlvbilyZXR1cm57YmVmb3JlOnQuaGFzRnVuY3Rpb24sYWZ0ZXI6ITB9fSxTd2l0Y2hDYXNlOmZ1bmN0aW9uKGUsdCl7cmV0dXJue2JlZm9yZTplLmNvbnNlcXVlbnQubGVuZ3RofHx0LmNhc2VzWzBdPT09ZX19LExvZ2ljYWxFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe2lmKGwuaXNGdW5jdGlvbihlLmxlZnQpfHxsLmlzRnVuY3Rpb24oZS5yaWdodCkpcmV0dXJue2FmdGVyOiEwfX0sTGl0ZXJhbDpmdW5jdGlvbihlKXtpZigidXNlIHN0cmljdCI9PT1lLnZhbHVlKXJldHVybnthZnRlcjohMH19LENhbGxFeHByZXNzaW9uOmZ1bmN0aW9uKGUpe2lmKGwuaXNGdW5jdGlvbihlLmNhbGxlZSl8fGkoZSkpcmV0dXJue2JlZm9yZTohMCxhZnRlcjohMH19LFZhcmlhYmxlRGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmRlY2xhcmF0aW9ucy5sZW5ndGg7dCsrKXt2YXIgcj1lLmRlY2xhcmF0aW9uc1t0XSxhPWkoci5pZCkmJiFzKHIuaW5pdCk7aWYoIWEpe3ZhciBvPW4oci5pbml0KTthPWkoci5pbml0KSYmby5oYXNDYWxsfHxvLmhhc0Z1bmN0aW9ufWlmKGEpcmV0dXJue2JlZm9yZTohMCxhZnRlcjohMH19fSxJZlN0YXRlbWVudDpmdW5jdGlvbihlKXtpZihsLmlzQmxvY2tTdGF0ZW1lbnQoZS5jb25zZXF1ZW50KSlyZXR1cm57YmVmb3JlOiEwLGFmdGVyOiEwfX19LHQubm9kZXMuT2JqZWN0UHJvcGVydHk9dC5ub2Rlcy5PYmplY3RUeXBlUHJvcGVydHk9dC5ub2Rlcy5PYmplY3RNZXRob2Q9dC5ub2Rlcy5TcHJlYWRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe2lmKHQucHJvcGVydGllc1swXT09PWUpcmV0dXJue2JlZm9yZTohMH19LHQubGlzdD17VmFyaWFibGVEZWNsYXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4oMCxvLmRlZmF1bHQpKGUuZGVjbGFyYXRpb25zLCJpbml0Iil9LEFycmF5RXhwcmVzc2lvbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5lbGVtZW50c30sT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihlKXtyZXR1cm4gZS5wcm9wZXJ0aWVzfX0sW1siRnVuY3Rpb24iLCEwXSxbIkNsYXNzIiwhMF0sWyJMb29wIiwhMF0sWyJMYWJlbGVkU3RhdGVtZW50IiwhMF0sWyJTd2l0Y2hTdGF0ZW1lbnQiLCEwXSxbIlRyeVN0YXRlbWVudCIsITBdXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sbj1lWzFdOyJib29sZWFuIj09dHlwZW9mIG4mJihuPXthZnRlcjpuLGJlZm9yZTpufSksW3JdLmNvbmNhdChsLkZMSVBQRURfQUxJQVNfS0VZU1tyXXx8W10pLmZvckVhY2goZnVuY3Rpb24oZSl7dC5ub2Rlc1tlXT1mdW5jdGlvbigpe3JldHVybiBufX0pfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcygpe3RoaXMudG9rZW4oIiwiKSx0aGlzLnNwYWNlKCl9dC5fX2VzTW9kdWxlPSEwO3ZhciBhPXIoODcpLG89aShhKSx1PXIoMiksbD1pKHUpLGM9cigzNSksZj1pKGMpLHA9cigzNjUpLGQ9aShwKSxoPXIoMyksbT1pKGgpLHk9cig1NzkpLHY9aSh5KSxnPXIoNTgxKSxiPWkoZyksRT1yKDU4NikseD1pKEUpLEE9cigyNzgpLFM9aShBKSxfPXIoMzAwKSxEPWkoXyksQz1yKDE4Nyksdz1uKEMpLFA9cigzMTQpLGs9aShQKSxGPXIoMSksVD1uKEYpLE89L2UvaSxCPS9cLjArJC8sUj0vXjBbYm94XS8sST1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLG0uZGVmYXVsdCkodGhpcyxlKSx0aGlzLmluRm9yU3RhdGVtZW50SW5pdENvdW50ZXI9MCx0aGlzLl9wcmludFN0YWNrPVtdLHRoaXMuX2luZGVudD0wLHRoaXMuX2luc2lkZUF1eD0hMSx0aGlzLl9wcmludGVkQ29tbWVudFN0YXJ0cz17fSx0aGlzLl9wYXJlblB1c2hOZXdsaW5lU3RhdGU9bnVsbCx0aGlzLl9wcmludEF1eEFmdGVyT25OZXh0VXNlck5vZGU9ITEsdGhpcy5fcHJpbnRlZENvbW1lbnRzPW5ldyBkLmRlZmF1bHQsdGhpcy5fZW5kc1dpdGhJbnRlZ2VyPSExLHRoaXMuX2VuZHNXaXRoV29yZD0hMSx0aGlzLmZvcm1hdD10fHx7fSx0aGlzLl9idWY9bmV3IEQuZGVmYXVsdChyKSx0aGlzLl93aGl0ZXNwYWNlPW4ubGVuZ3RoPjA/bmV3IGsuZGVmYXVsdChuKTpudWxsfXJldHVybiBlLnByb3RvdHlwZS5nZW5lcmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5wcmludChlKSx0aGlzLl9tYXliZUFkZEF1eENvbW1lbnQoKSx0aGlzLl9idWYuZ2V0KCl9LGUucHJvdG90eXBlLmluZGVudD1mdW5jdGlvbigpe3RoaXMuZm9ybWF0LmNvbXBhY3R8fHRoaXMuZm9ybWF0LmNvbmNpc2V8fHRoaXMuX2luZGVudCsrfSxlLnByb3RvdHlwZS5kZWRlbnQ9ZnVuY3Rpb24oKXt0aGlzLmZvcm1hdC5jb21wYWN0fHx0aGlzLmZvcm1hdC5jb25jaXNlfHx0aGlzLl9pbmRlbnQtLX0sZS5wcm90b3R5cGUuc2VtaWNvbG9uPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0aGlzLl9tYXliZUFkZEF1eENvbW1lbnQoKSx0aGlzLl9hcHBlbmQoIjsiLCFlKX0sZS5wcm90b3R5cGUucmlnaHRCcmFjZT1mdW5jdGlvbigpe3RoaXMuZm9ybWF0Lm1pbmlmaWVkJiZ0aGlzLl9idWYucmVtb3ZlTGFzdFNlbWljb2xvbigpLHRoaXMudG9rZW4oIn0iKX0sZS5wcm90b3R5cGUuc3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3RoaXMuZm9ybWF0LmNvbXBhY3R8fCh0aGlzLl9idWYuaGFzQ29udGVudCgpJiYhdGhpcy5lbmRzV2l0aCgiICIpJiYhdGhpcy5lbmRzV2l0aCgiXG4iKXx8ZSkmJnRoaXMuX3NwYWNlKCl9LGUucHJvdG90eXBlLndvcmQ9ZnVuY3Rpb24oZSl7dGhpcy5fZW5kc1dpdGhXb3JkJiZ0aGlzLl9zcGFjZSgpLHRoaXMuX21heWJlQWRkQXV4Q29tbWVudCgpLHRoaXMuX2FwcGVuZChlKSx0aGlzLl9lbmRzV2l0aFdvcmQ9ITB9LGUucHJvdG90eXBlLm51bWJlcj1mdW5jdGlvbihlKXt0aGlzLndvcmQoZSksdGhpcy5fZW5kc1dpdGhJbnRlZ2VyPSgwLHguZGVmYXVsdCkoK2UpJiYhUi50ZXN0KGUpJiYhTy50ZXN0KGUpJiYhQi50ZXN0KGUpJiYiLiIhPT1lW2UubGVuZ3RoLTFdfSxlLnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbihlKXsoIi0tIj09PWUmJnRoaXMuZW5kc1dpdGgoIiEiKXx8IisiPT09ZVswXSYmdGhpcy5lbmRzV2l0aCgiKyIpfHwiLSI9PT1lWzBdJiZ0aGlzLmVuZHNXaXRoKCItIil8fCIuIj09PWVbMF0mJnRoaXMuX2VuZHNXaXRoSW50ZWdlcikmJnRoaXMuX3NwYWNlKCksdGhpcy5fbWF5YmVBZGRBdXhDb21tZW50KCksdGhpcy5fYXBwZW5kKGUpfSxlLnByb3RvdHlwZS5uZXdsaW5lPWZ1bmN0aW9uKGUpe2lmKCF0aGlzLmZvcm1hdC5yZXRhaW5MaW5lcyYmIXRoaXMuZm9ybWF0LmNvbXBhY3Qpe2lmKHRoaXMuZm9ybWF0LmNvbmNpc2UpcmV0dXJuIHZvaWQgdGhpcy5zcGFjZSgpO2lmKCEodGhpcy5lbmRzV2l0aCgiXG5cbiIpfHwoIm51bWJlciIhPXR5cGVvZiBlJiYoZT0xKSxlPU1hdGgubWluKDIsZSksKHRoaXMuZW5kc1dpdGgoIntcbiIpfHx0aGlzLmVuZHNXaXRoKCI6XG4iKSkmJmUtLSxlPD0wKSkpZm9yKHZhciB0PTA7dDxlO3QrKyl0aGlzLl9uZXdsaW5lKCl9fSxlLnByb3RvdHlwZS5lbmRzV2l0aD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYnVmLmVuZHNXaXRoKGUpfSxlLnByb3RvdHlwZS5yZW1vdmVUcmFpbGluZ05ld2xpbmU9ZnVuY3Rpb24oKXt0aGlzLl9idWYucmVtb3ZlVHJhaWxpbmdOZXdsaW5lKCl9LGUucHJvdG90eXBlLnNvdXJjZT1mdW5jdGlvbihlLHQpe3RoaXMuX2NhdGNoVXAoZSx0KSx0aGlzLl9idWYuc291cmNlKGUsdCl9LGUucHJvdG90eXBlLndpdGhTb3VyY2U9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NhdGNoVXAoZSx0KSx0aGlzLl9idWYud2l0aFNvdXJjZShlLHQscil9LGUucHJvdG90eXBlLl9zcGFjZT1mdW5jdGlvbigpe3RoaXMuX2FwcGVuZCgiICIsITApfSxlLnByb3RvdHlwZS5fbmV3bGluZT1mdW5jdGlvbigpe3RoaXMuX2FwcGVuZCgiXG4iLCEwKX0sZS5wcm90b3R5cGUuX2FwcGVuZD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuX21heWJlQWRkUGFyZW4oZSksdGhpcy5fbWF5YmVJbmRlbnQoZSksdD90aGlzLl9idWYucXVldWUoZSk6dGhpcy5fYnVmLmFwcGVuZChlKSx0aGlzLl9lbmRzV2l0aFdvcmQ9ITEsdGhpcy5fZW5kc1dpdGhJbnRlZ2VyPSExfSxlLnByb3RvdHlwZS5fbWF5YmVJbmRlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5faW5kZW50JiZ0aGlzLmVuZHNXaXRoKCJcbiIpJiYiXG4iIT09ZVswXSYmdGhpcy5fYnVmLnF1ZXVlKHRoaXMuX2dldEluZGVudCgpKX0sZS5wcm90b3R5cGUuX21heWJlQWRkUGFyZW49ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcGFyZW5QdXNoTmV3bGluZVN0YXRlO2lmKHQpe3RoaXMuX3BhcmVuUHVzaE5ld2xpbmVTdGF0ZT1udWxsO3ZhciByPXZvaWQgMDtmb3Iocj0wO3I8ZS5sZW5ndGgmJiIgIj09PWVbcl07cisrKTtpZihyIT09ZS5sZW5ndGgpe3ZhciBuPWVbcl07IlxuIiE9PW4mJiIvIiE9PW58fCh0aGlzLnRva2VuKCIoIiksdGhpcy5pbmRlbnQoKSx0LnByaW50ZWQ9ITApfX19LGUucHJvdG90eXBlLl9jYXRjaFVwPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5mb3JtYXQucmV0YWluTGluZXMpe3ZhciByPXQ/dFtlXTpudWxsO2lmKHImJm51bGwhPT1yLmxpbmUpZm9yKHZhciBuPXIubGluZS10aGlzLl9idWYuZ2V0Q3VycmVudExpbmUoKSxpPTA7aTxuO2krKyl0aGlzLl9uZXdsaW5lKCl9fSxlLnByb3RvdHlwZS5fZ2V0SW5kZW50PWZ1bmN0aW9uKCl7cmV0dXJuKDAsUy5kZWZhdWx0KSh0aGlzLmZvcm1hdC5pbmRlbnQuc3R5bGUsdGhpcy5faW5kZW50KX0sZS5wcm90b3R5cGUuc3RhcnRUZXJtaW5hdG9ybGVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJlblB1c2hOZXdsaW5lU3RhdGU9e3ByaW50ZWQ6ITF9fSxlLnByb3RvdHlwZS5lbmRUZXJtaW5hdG9ybGVzcz1mdW5jdGlvbihlKXtlLnByaW50ZWQmJih0aGlzLmRlZGVudCgpLHRoaXMubmV3bGluZSgpLHRoaXMudG9rZW4oIikiKSl9LGUucHJvdG90eXBlLnByaW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihlKXt2YXIgbj10aGlzLmZvcm1hdC5jb25jaXNlO2UuX2NvbXBhY3QmJih0aGlzLmZvcm1hdC5jb25jaXNlPSEwKTtpZighdGhpc1tlLnR5cGVdKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidW5rbm93biBub2RlIG9mIHR5cGUgIisoMCxmLmRlZmF1bHQpKGUudHlwZSkrIiB3aXRoIGNvbnN0cnVjdG9yICIrKDAsZi5kZWZhdWx0KShlJiZlLmNvbnN0cnVjdG9yLm5hbWUpKTt0aGlzLl9wcmludFN0YWNrLnB1c2goZSk7dmFyIGk9dGhpcy5faW5zaWRlQXV4O3RoaXMuX2luc2lkZUF1eD0hZS5sb2MsdGhpcy5fbWF5YmVBZGRBdXhDb21tZW50KHRoaXMuX2luc2lkZUF1eCYmIWkpO3ZhciBzPXcubmVlZHNQYXJlbnMoZSx0LHRoaXMuX3ByaW50U3RhY2spO3RoaXMuZm9ybWF0LnJldGFpbkZ1bmN0aW9uUGFyZW5zJiYiRnVuY3Rpb25FeHByZXNzaW9uIj09PWUudHlwZSYmZS5leHRyYSYmZS5leHRyYS5wYXJlbnRoZXNpemVkJiYocz0hMCkscyYmdGhpcy50b2tlbigiKCIpLHRoaXMuX3ByaW50TGVhZGluZ0NvbW1lbnRzKGUsdCk7dmFyIGE9VC5pc1Byb2dyYW0oZSl8fFQuaXNGaWxlKGUpP251bGw6ZS5sb2M7dGhpcy53aXRoU291cmNlKCJzdGFydCIsYSxmdW5jdGlvbigpe3JbZS50eXBlXShlLHQpfSksdGhpcy5fcHJpbnRUcmFpbGluZ0NvbW1lbnRzKGUsdCkscyYmdGhpcy50b2tlbigiKSIpLHRoaXMuX3ByaW50U3RhY2sucG9wKCksdGhpcy5mb3JtYXQuY29uY2lzZT1uLHRoaXMuX2luc2lkZUF1eD1pfX0sZS5wcm90b3R5cGUuX21heWJlQWRkQXV4Q29tbWVudD1mdW5jdGlvbihlKXtlJiZ0aGlzLl9wcmludEF1eEJlZm9yZUNvbW1lbnQoKSx0aGlzLl9pbnNpZGVBdXh8fHRoaXMuX3ByaW50QXV4QWZ0ZXJDb21tZW50KCl9LGUucHJvdG90eXBlLl9wcmludEF1eEJlZm9yZUNvbW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fcHJpbnRBdXhBZnRlck9uTmV4dFVzZXJOb2RlKXt0aGlzLl9wcmludEF1eEFmdGVyT25OZXh0VXNlck5vZGU9ITA7dmFyIGU9dGhpcy5mb3JtYXQuYXV4aWxpYXJ5Q29tbWVudEJlZm9yZTtlJiZ0aGlzLl9wcmludENvbW1lbnQoe3R5cGU6IkNvbW1lbnRCbG9jayIsdmFsdWU6ZX0pfX0sZS5wcm90b3R5cGUuX3ByaW50QXV4QWZ0ZXJDb21tZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5fcHJpbnRBdXhBZnRlck9uTmV4dFVzZXJOb2RlKXt0aGlzLl9wcmludEF1eEFmdGVyT25OZXh0VXNlck5vZGU9ITE7dmFyIGU9dGhpcy5mb3JtYXQuYXV4aWxpYXJ5Q29tbWVudEFmdGVyO2UmJnRoaXMuX3ByaW50Q29tbWVudCh7dHlwZToiQ29tbWVudEJsb2NrIix2YWx1ZTplfSl9fSxlLnByb3RvdHlwZS5nZXRQb3NzaWJsZVJhdz1mdW5jdGlvbihlKXt2YXIgdD1lLmV4dHJhO2lmKHQmJm51bGwhPXQucmF3JiZudWxsIT10LnJhd1ZhbHVlJiZlLnZhbHVlPT09dC5yYXdWYWx1ZSlyZXR1cm4gdC5yYXd9LGUucHJvdG90eXBlLnByaW50Sm9pbj1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtpZihlJiZlLmxlbmd0aCl7ci5pbmRlbnQmJnRoaXMuaW5kZW50KCk7Zm9yKHZhciBuPXthZGROZXdsaW5lczpyLmFkZE5ld2xpbmVzfSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPWVbaV07cyYmKHIuc3RhdGVtZW50JiZ0aGlzLl9wcmludE5ld2xpbmUoITAscyx0LG4pLHRoaXMucHJpbnQocyx0KSxyLml0ZXJhdG9yJiZyLml0ZXJhdG9yKHMsaSksci5zZXBhcmF0b3ImJmk8ZS5sZW5ndGgtMSYmci5zZXBhcmF0b3IuY2FsbCh0aGlzKSxyLnN0YXRlbWVudCYmdGhpcy5fcHJpbnROZXdsaW5lKCExLHMsdCxuKSl9ci5pbmRlbnQmJnRoaXMuZGVkZW50KCl9fSxlLnByb3RvdHlwZS5wcmludEFuZEluZGVudE9uQ29tbWVudHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj0hIWUubGVhZGluZ0NvbW1lbnRzO3ImJnRoaXMuaW5kZW50KCksdGhpcy5wcmludChlLHQpLHImJnRoaXMuZGVkZW50KCl9LGUucHJvdG90eXBlLnByaW50QmxvY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ib2R5O1QuaXNFbXB0eVN0YXRlbWVudCh0KXx8dGhpcy5zcGFjZSgpLHRoaXMucHJpbnQodCxlKX0sZS5wcm90b3R5cGUuX3ByaW50VHJhaWxpbmdDb21tZW50cz1mdW5jdGlvbihlLHQpe3RoaXMuX3ByaW50Q29tbWVudHModGhpcy5fZ2V0Q29tbWVudHMoITEsZSx0KSl9LGUucHJvdG90eXBlLl9wcmludExlYWRpbmdDb21tZW50cz1mdW5jdGlvbihlLHQpe3RoaXMuX3ByaW50Q29tbWVudHModGhpcy5fZ2V0Q29tbWVudHMoITAsZSx0KSl9LGUucHJvdG90eXBlLnByaW50SW5uZXJDb21tZW50cz1mdW5jdGlvbihlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2UuaW5uZXJDb21tZW50cyYmKHQmJnRoaXMuaW5kZW50KCksdGhpcy5fcHJpbnRDb21tZW50cyhlLmlubmVyQ29tbWVudHMpLHQmJnRoaXMuZGVkZW50KCkpfSxlLnByb3RvdHlwZS5wcmludFNlcXVlbmNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9O3JldHVybiByLnN0YXRlbWVudD0hMCx0aGlzLnByaW50Sm9pbihlLHQscil9LGUucHJvdG90eXBlLnByaW50TGlzdD1mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtyZXR1cm4gbnVsbD09ci5zZXBhcmF0b3ImJihyLnNlcGFyYXRvcj1zKSx0aGlzLnByaW50Sm9pbihlLHQscil9LGUucHJvdG90eXBlLl9wcmludE5ld2xpbmU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dGhpcztpZighdGhpcy5mb3JtYXQucmV0YWluTGluZXMmJiF0aGlzLmZvcm1hdC5jb21wYWN0KXtpZih0aGlzLmZvcm1hdC5jb25jaXNlKXJldHVybiB2b2lkIHRoaXMuc3BhY2UoKTt2YXIgcz0wO2lmKG51bGwhPXQuc3RhcnQmJiF0Ll9pZ25vcmVVc2VyV2hpdGVzcGFjZSYmdGhpcy5fd2hpdGVzcGFjZSlpZihlKXt2YXIgYT10LmxlYWRpbmdDb21tZW50cyxvPWEmJigwLHYuZGVmYXVsdCkoYSxmdW5jdGlvbihlKXsKcmV0dXJuISFlLmxvYyYmaS5mb3JtYXQuc2hvdWxkUHJpbnRDb21tZW50KGUudmFsdWUpfSk7cz10aGlzLl93aGl0ZXNwYWNlLmdldE5ld2xpbmVzQmVmb3JlKG98fHQpfWVsc2V7dmFyIHU9dC50cmFpbGluZ0NvbW1lbnRzLGw9dSYmKDAsYi5kZWZhdWx0KSh1LGZ1bmN0aW9uKGUpe3JldHVybiEhZS5sb2MmJmkuZm9ybWF0LnNob3VsZFByaW50Q29tbWVudChlLnZhbHVlKX0pO3M9dGhpcy5fd2hpdGVzcGFjZS5nZXROZXdsaW5lc0FmdGVyKGx8fHQpfWVsc2V7ZXx8cysrLG4uYWRkTmV3bGluZXMmJihzKz1uLmFkZE5ld2xpbmVzKGUsdCl8fDApO3ZhciBjPXcubmVlZHNXaGl0ZXNwYWNlQWZ0ZXI7ZSYmKGM9dy5uZWVkc1doaXRlc3BhY2VCZWZvcmUpLGModCxyKSYmcysrLHRoaXMuX2J1Zi5oYXNDb250ZW50KCl8fChzPTApfXRoaXMubmV3bGluZShzKX19LGUucHJvdG90eXBlLl9nZXRDb21tZW50cz1mdW5jdGlvbihlLHQpe3JldHVybiB0JiYoZT90LmxlYWRpbmdDb21tZW50czp0LnRyYWlsaW5nQ29tbWVudHMpfHxbXX0sZS5wcm90b3R5cGUuX3ByaW50Q29tbWVudD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKHRoaXMuZm9ybWF0LnNob3VsZFByaW50Q29tbWVudChlLnZhbHVlKSYmIWUuaWdub3JlJiYhdGhpcy5fcHJpbnRlZENvbW1lbnRzLmhhcyhlKSl7aWYodGhpcy5fcHJpbnRlZENvbW1lbnRzLmFkZChlKSxudWxsIT1lLnN0YXJ0KXtpZih0aGlzLl9wcmludGVkQ29tbWVudFN0YXJ0c1tlLnN0YXJ0XSlyZXR1cm47dGhpcy5fcHJpbnRlZENvbW1lbnRTdGFydHNbZS5zdGFydF09ITB9dGhpcy5uZXdsaW5lKHRoaXMuX3doaXRlc3BhY2U/dGhpcy5fd2hpdGVzcGFjZS5nZXROZXdsaW5lc0JlZm9yZShlKTowKSx0aGlzLmVuZHNXaXRoKCJbIil8fHRoaXMuZW5kc1dpdGgoInsiKXx8dGhpcy5zcGFjZSgpO3ZhciByPSJDb21tZW50TGluZSI9PT1lLnR5cGU/Ii8vIitlLnZhbHVlKyJcbiI6Ii8qIitlLnZhbHVlKyIqLyI7aWYoIkNvbW1lbnRCbG9jayI9PT1lLnR5cGUmJnRoaXMuZm9ybWF0LmluZGVudC5hZGp1c3RNdWx0aWxpbmVDb21tZW50KXt2YXIgbj1lLmxvYyYmZS5sb2Muc3RhcnQuY29sdW1uO2lmKG4pe3ZhciBpPW5ldyBSZWdFeHAoIlxcblxcc3sxLCIrbisifSIsImciKTtyPXIucmVwbGFjZShpLCJcbiIpfXZhciBzPU1hdGgubWF4KHRoaXMuX2dldEluZGVudCgpLmxlbmd0aCx0aGlzLl9idWYuZ2V0Q3VycmVudENvbHVtbigpKTtyPXIucmVwbGFjZSgvXG4oPyEkKS9nLCJcbiIrKDAsUy5kZWZhdWx0KSgiICIscykpfXRoaXMud2l0aFNvdXJjZSgic3RhcnQiLGUubG9jLGZ1bmN0aW9uKCl7dC5fYXBwZW5kKHIpfSksdGhpcy5uZXdsaW5lKCh0aGlzLl93aGl0ZXNwYWNlP3RoaXMuX3doaXRlc3BhY2UuZ2V0TmV3bGluZXNBZnRlcihlKTowKSsoIkNvbW1lbnRMaW5lIj09PWUudHlwZT8tMTowKSl9fSxlLnByb3RvdHlwZS5fcHJpbnRDb21tZW50cz1mdW5jdGlvbihlKXtpZihlJiZlLmxlbmd0aClmb3IodmFyIHQ9ZSxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLGwuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aTt0aGlzLl9wcmludENvbW1lbnQocyl9fSxlfSgpO3QuZGVmYXVsdD1JO2Zvcih2YXIgTT1bcigzMDkpLHIoMzAzKSxyKDMwOCkscigzMDIpLHIoMzA2KSxyKDMwNykscigxMjMpLHIoMzA0KSxyKDMwMSkscigzMDUpXSxOPTA7TjxNLmxlbmd0aDtOKyspe3ZhciBMPU1bTl07KDAsby5kZWZhdWx0KShJLnByb3RvdHlwZSxMKX1lLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDE0KSxzPW4oaSksYT1yKDExKSxvPW4oYSksdT1yKDMpLGw9bih1KSxjPXIoMjg4KSxmPW4oYykscD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXsoMCxsLmRlZmF1bHQpKHRoaXMsZSksdGhpcy5fY2FjaGVkTWFwPW51bGwsdGhpcy5fY29kZT1yLHRoaXMuX29wdHM9dCx0aGlzLl9yYXdNYXBwaW5ncz1bXX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NhY2hlZE1hcCl7dmFyIGU9dGhpcy5fY2FjaGVkTWFwPW5ldyBmLmRlZmF1bHQuU291cmNlTWFwR2VuZXJhdG9yKHtmaWxlOnRoaXMuX29wdHMuc291cmNlTWFwVGFyZ2V0LHNvdXJjZVJvb3Q6dGhpcy5fb3B0cy5zb3VyY2VSb290fSksdD10aGlzLl9jb2RlOyJzdHJpbmciPT10eXBlb2YgdD9lLnNldFNvdXJjZUNvbnRlbnQodGhpcy5fb3B0cy5zb3VyY2VGaWxlTmFtZSx0KToib2JqZWN0Ij09PSh2b2lkIDA9PT10PyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkodCkpJiYoMCxzLmRlZmF1bHQpKHQpLmZvckVhY2goZnVuY3Rpb24ocil7ZS5zZXRTb3VyY2VDb250ZW50KHIsdFtyXSl9KSx0aGlzLl9yYXdNYXBwaW5ncy5mb3JFYWNoKGUuYWRkTWFwcGluZyxlKX1yZXR1cm4gdGhpcy5fY2FjaGVkTWFwLnRvSlNPTigpfSxlLnByb3RvdHlwZS5nZXRSYXdNYXBwaW5ncz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYXdNYXBwaW5ncy5zbGljZSgpfSxlLnByb3RvdHlwZS5tYXJrPWZ1bmN0aW9uKGUsdCxyLG4saSxzKXt0aGlzLl9sYXN0R2VuTGluZSE9PWUmJm51bGw9PT1yfHx0aGlzLl9sYXN0R2VuTGluZT09PWUmJnRoaXMuX2xhc3RTb3VyY2VMaW5lPT09ciYmdGhpcy5fbGFzdFNvdXJjZUNvbHVtbj09PW58fCh0aGlzLl9jYWNoZWRNYXA9bnVsbCx0aGlzLl9sYXN0R2VuTGluZT1lLHRoaXMuX2xhc3RTb3VyY2VMaW5lPXIsdGhpcy5fbGFzdFNvdXJjZUNvbHVtbj1uLHRoaXMuX3Jhd01hcHBpbmdzLnB1c2goe25hbWU6aXx8dm9pZCAwLGdlbmVyYXRlZDp7bGluZTplLGNvbHVtbjp0fSxzb3VyY2U6bnVsbD09cj92b2lkIDA6c3x8dGhpcy5fb3B0cy5zb3VyY2VGaWxlTmFtZSxvcmlnaW5hbDpudWxsPT1yP3ZvaWQgMDp7bGluZTpyLGNvbHVtbjpufX0pKX0sZX0oKTt0LmRlZmF1bHQ9cCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDMpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXsoMCxpLmRlZmF1bHQpKHRoaXMsZSksdGhpcy50b2tlbnM9dCx0aGlzLnVzZWQ9e319cmV0dXJuIGUucHJvdG90eXBlLmdldE5ld2xpbmVzQmVmb3JlPWZ1bmN0aW9uKGUpe3ZhciB0PXZvaWQgMCxyPXZvaWQgMCxuPXRoaXMudG9rZW5zLGk9dGhpcy5fZmluZFRva2VuKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXJ0LWUuc3RhcnR9LDAsbi5sZW5ndGgpO2lmKGk+PTApe2Zvcig7aSYmZS5zdGFydD09PW5baS0xXS5zdGFydDspLS1pO3Q9bltpLTFdLHI9bltpXX1yZXR1cm4gdGhpcy5fZ2V0TmV3bGluZXNCZXR3ZWVuKHQscil9LGUucHJvdG90eXBlLmdldE5ld2xpbmVzQWZ0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dm9pZCAwLHI9dm9pZCAwLG49dGhpcy50b2tlbnMsaT10aGlzLl9maW5kVG9rZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuZW5kLWUuZW5kfSwwLG4ubGVuZ3RoKTtpZihpPj0wKXtmb3IoO2kmJmUuZW5kPT09bltpLTFdLmVuZDspLS1pO3Q9bltpXSxyPW5baSsxXSwiLCI9PT1yLnR5cGUubGFiZWwmJihyPW5baSsyXSl9cmV0dXJuIHImJiJlb2YiPT09ci50eXBlLmxhYmVsPzE6dGhpcy5fZ2V0TmV3bGluZXNCZXR3ZWVuKHQscil9LGUucHJvdG90eXBlLl9nZXROZXdsaW5lc0JldHdlZW49ZnVuY3Rpb24oZSx0KXtpZighdHx8IXQubG9jKXJldHVybiAwO2Zvcih2YXIgcj1lP2UubG9jLmVuZC5saW5lOjEsbj10LmxvYy5zdGFydC5saW5lLGk9MCxzPXI7czxuO3MrKyl2b2lkIDA9PT10aGlzLnVzZWRbc10mJih0aGlzLnVzZWRbc109ITAsaSsrKTtyZXR1cm4gaX0sZS5wcm90b3R5cGUuX2ZpbmRUb2tlbj1mdW5jdGlvbihlLHQscil7aWYodD49cilyZXR1cm4tMTt2YXIgbj10K3I+Pj4xLGk9ZSh0aGlzLnRva2Vuc1tuXSk7cmV0dXJuIGk8MD90aGlzLl9maW5kVG9rZW4oZSxuKzEscik6aT4wP3RoaXMuX2ZpbmRUb2tlbihlLHQsbik6MD09PWk/bjotMX0sZX0oKTt0LmRlZmF1bHQ9cyxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0PWUscj1BcnJheS5pc0FycmF5KHQpLG49MCx0PXI/dDooMCxzLmRlZmF1bHQpKHQpOzspe3ZhciBpO2lmKHIpe2lmKG4+PXQubGVuZ3RoKWJyZWFrO2k9dFtuKytdfWVsc2V7aWYobj10Lm5leHQoKSxuLmRvbmUpYnJlYWs7aT1uLnZhbHVlfXZhciBhPWksdT1hLm5vZGUsbD11LmV4cHJlc3Npb247aWYoby5pc01lbWJlckV4cHJlc3Npb24obCkpe3ZhciBjPWEuc2NvcGUubWF5YmVHZW5lcmF0ZU1lbW9pc2VkKGwub2JqZWN0KSxmPXZvaWQgMCxwPVtdO2M/KGY9YyxwLnB1c2goby5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsYyxsLm9iamVjdCkpKTpmPWwub2JqZWN0LHAucHVzaChvLmNhbGxFeHByZXNzaW9uKG8ubWVtYmVyRXhwcmVzc2lvbihvLm1lbWJlckV4cHJlc3Npb24oZixsLnByb3BlcnR5LGwuY29tcHV0ZWQpLG8uaWRlbnRpZmllcigiYmluZCIpKSxbZl0pKSwxPT09cC5sZW5ndGg/dS5leHByZXNzaW9uPXBbMF06dS5leHByZXNzaW9uPW8uc2VxdWVuY2VFeHByZXNzaW9uKHApfX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMikscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGkpO3QuZGVmYXVsdD1uO3ZhciBhPXIoMSksbz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGEpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiB0JiZ0Lm9wZXJhdG9yPT09ZS5vcGVyYXRvcisiPSJ9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBhLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixlLHQpfXZhciBuPXt9O3JldHVybiBuLkV4cHJlc3Npb25TdGF0ZW1lbnQ9ZnVuY3Rpb24obixzKXtpZighbi5pc0NvbXBsZXRpb25SZWNvcmQoKSl7dmFyIG89bi5ub2RlLmV4cHJlc3Npb247aWYodChvKSl7dmFyIHU9W10sbD0oMCxpLmRlZmF1bHQpKG8ubGVmdCx1LHMsbi5zY29wZSwhMCk7dS5wdXNoKGEuZXhwcmVzc2lvblN0YXRlbWVudChyKGwucmVmLGUuYnVpbGQobC51aWQsby5yaWdodCkpKSksbi5yZXBsYWNlV2l0aE11bHRpcGxlKHUpfX19LG4uQXNzaWdubWVudEV4cHJlc3Npb249ZnVuY3Rpb24obixzKXt2YXIgYT1uLm5vZGUsbz1uLnNjb3BlO2lmKHQoYSkpe3ZhciB1PVtdLGw9KDAsaS5kZWZhdWx0KShhLmxlZnQsdSxzLG8pO3UucHVzaChyKGwucmVmLGUuYnVpbGQobC51aWQsYS5yaWdodCkpKSxuLnJlcGxhY2VXaXRoTXVsdGlwbGUodSl9fSxuLkJpbmFyeUV4cHJlc3Npb249ZnVuY3Rpb24odCl7dmFyIHI9dC5ub2RlO3Iub3BlcmF0b3I9PT1lLm9wZXJhdG9yJiZ0LnJlcGxhY2VXaXRoKGUuYnVpbGQoci5sZWZ0LHIucmlnaHQpKX0sbn07dmFyIG49cigzMTgpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxzPXIoMSksYT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZS5zY29wZSxyPWUubm9kZSxuPWEuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsW10sci5ib2R5LHIuZ2VuZXJhdG9yLHIuYXN5bmMpLHM9bix1PVtdOygwLGkuZGVmYXVsdCkoZSxmdW5jdGlvbihlKXtyZXR1cm4gdC5wdXNoKHtpZDplfSl9KTt2YXIgbD17Zm91bmRUaGlzOiExLGZvdW5kQXJndW1lbnRzOiExfTtlLnRyYXZlcnNlKG8sbCksbC5mb3VuZEFyZ3VtZW50cyYmKHM9YS5tZW1iZXJFeHByZXNzaW9uKG4sYS5pZGVudGlmaWVyKCJhcHBseSIpKSx1PVtdLGwuZm91bmRUaGlzJiZ1LnB1c2goYS50aGlzRXhwcmVzc2lvbigpKSxsLmZvdW5kQXJndW1lbnRzJiYobC5mb3VuZFRoaXN8fHUucHVzaChhLm51bGxMaXRlcmFsKCkpLHUucHVzaChhLmlkZW50aWZpZXIoImFyZ3VtZW50cyIpKSkpO3ZhciBjPWEuY2FsbEV4cHJlc3Npb24ocyx1KTtyZXR1cm4gci5nZW5lcmF0b3ImJihjPWEueWllbGRFeHByZXNzaW9uKGMsITApKSxhLnJldHVyblN0YXRlbWVudChjKX07dmFyIG49cigxOTApLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKSxzPXIoMSksYT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpLG89e2VudGVyOmZ1bmN0aW9uKGUsdCl7ZS5pc1RoaXNFeHByZXNzaW9uKCkmJih0LmZvdW5kVGhpcz0hMCksZS5pc1JlZmVyZW5jZWRJZGVudGlmaWVyKHtuYW1lOiJhcmd1bWVudHMifSkmJih0LmZvdW5kQXJndW1lbnRzPSEwKX0sRnVuY3Rpb246ZnVuY3Rpb24oZSl7ZS5za2lwKCl9fTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbil7dmFyIGk9dm9pZCAwO2lmKGEuaXNTdXBlcihlKSlyZXR1cm4gZTtpZihhLmlzSWRlbnRpZmllcihlKSl7aWYobi5oYXNCaW5kaW5nKGUubmFtZSkpcmV0dXJuIGU7aT1lfWVsc2V7aWYoIWEuaXNNZW1iZXJFeHByZXNzaW9uKGUpKXRocm93IG5ldyBFcnJvcigiV2UgY2FuJ3QgZXhwbG9kZSB0aGlzIG5vZGUgdHlwZSAiK2UudHlwZSk7aWYoaT1lLm9iamVjdCxhLmlzU3VwZXIoaSl8fGEuaXNJZGVudGlmaWVyKGkpJiZuLmhhc0JpbmRpbmcoaS5uYW1lKSlyZXR1cm4gaX12YXIgcz1uLmdlbmVyYXRlVWlkSWRlbnRpZmllckJhc2VkT25Ob2RlKGkpO3JldHVybiB0LnB1c2goYS52YXJpYWJsZURlY2xhcmF0aW9uKCJ2YXIiLFthLnZhcmlhYmxlRGVjbGFyYXRvcihzLGkpXSkpLHN9ZnVuY3Rpb24gaShlLHQscixuKXt2YXIgaT1lLnByb3BlcnR5LHM9YS50b0NvbXB1dGVkS2V5KGUsaSk7aWYoYS5pc0xpdGVyYWwocykmJmEuaXNQdXJlaXNoKHMpKXJldHVybiBzO3ZhciBvPW4uZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUoaSk7cmV0dXJuIHQucHVzaChhLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW2EudmFyaWFibGVEZWNsYXJhdG9yKG8saSldKSksb310Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCxyLHMsbyl7dmFyIHU9dm9pZCAwO3U9YS5pc0lkZW50aWZpZXIoZSkmJm8/ZTpuKGUsdCxyLHMpO3ZhciBsPXZvaWQgMCxjPXZvaWQgMDtpZihhLmlzSWRlbnRpZmllcihlKSlsPWUsYz11O2Vsc2V7dmFyIGY9aShlLHQscixzKSxwPWUuY29tcHV0ZWR8fGEuaXNMaXRlcmFsKGYpO2M9bD1hLm1lbWJlckV4cHJlc3Npb24odSxmLHApfXJldHVybnt1aWQ6YyxyZWY6bH19O3ZhciBzPXIoMSksYT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHMpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMikscz1uKGkpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe2lmKHQubm9kZSYmIXQuaXNQdXJlKCkpe3ZhciByPWUuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoKTtuLnB1c2gobC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIscix0Lm5vZGUpKSx0LnJlcGxhY2VXaXRoKHIpfX1mdW5jdGlvbiByKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoKXtlPWUucmV2ZXJzZSgpLCgwLG8uZGVmYXVsdCkoZSk7Zm9yKHZhciByPWUsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjooMCxzLmRlZmF1bHQpKHIpOzspe3ZhciBhO2lmKG4pe2lmKGk+PXIubGVuZ3RoKWJyZWFrO2E9cltpKytdfWVsc2V7aWYoaT1yLm5leHQoKSxpLmRvbmUpYnJlYWs7YT1pLnZhbHVlfXQoYSl9fX1lLmFzc2VydENsYXNzKCk7dmFyIG49W107dChlLmdldCgic3VwZXJDbGFzcyIpKSxyKGUuZ2V0KCJkZWNvcmF0b3JzIikpO2Zvcih2YXIgaT1lLmdldCgiYm9keS5ib2R5IiksYT1pLHU9QXJyYXkuaXNBcnJheShhKSxjPTAsYT11P2E6KDAscy5kZWZhdWx0KShhKTs7KXt2YXIgZjtpZih1KXtpZihjPj1hLmxlbmd0aClicmVhaztmPWFbYysrXX1lbHNle2lmKGM9YS5uZXh0KCksYy5kb25lKWJyZWFrO2Y9Yy52YWx1ZX12YXIgcD1mO3AuaXMoImNvbXB1dGVkIikmJnQocC5nZXQoImtleSIpKSxwLmhhcygiZGVjb3JhdG9ycyIpJiZyKGUuZ2V0KCJkZWNvcmF0b3JzIikpfW4mJmUuaW5zZXJ0QmVmb3JlKG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBsLmV4cHJlc3Npb25TdGF0ZW1lbnQoZSl9KSl9O3ZhciBhPXIoMzE1KSxvPW4oYSksdT1yKDEpLGw9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fSh1KTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm5vZGUsbj1lLnNjb3BlLGk9ZS5wYXJlbnQsYT1uLmdlbmVyYXRlVWlkSWRlbnRpZmllcigic3RlcCIpLG89bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInZhbHVlIiksdT1yLmxlZnQscD12b2lkIDA7cy5pc0lkZW50aWZpZXIodSl8fHMuaXNQYXR0ZXJuKHUpfHxzLmlzTWVtYmVyRXhwcmVzc2lvbih1KT9wPXMuZXhwcmVzc2lvblN0YXRlbWVudChzLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9Iix1LG8pKTpzLmlzVmFyaWFibGVEZWNsYXJhdGlvbih1KSYmKHA9cy52YXJpYWJsZURlY2xhcmF0aW9uKHUua2luZCxbcy52YXJpYWJsZURlY2xhcmF0b3IodS5kZWNsYXJhdGlvbnNbMF0uaWQsbyldKSk7dmFyIGQ9YygpOygwLGwuZGVmYXVsdCkoZCxmLG51bGwse0lURVJBVE9SX0hBRF9FUlJPUl9LRVk6bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImRpZEl0ZXJhdG9yRXJyb3IiKSxJVEVSQVRPUl9DT01QTEVUSU9OOm4uZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJpdGVyYXRvck5vcm1hbENvbXBsZXRpb24iKSxJVEVSQVRPUl9FUlJPUl9LRVk6bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoIml0ZXJhdG9yRXJyb3IiKSxJVEVSQVRPUl9LRVk6bi5nZW5lcmF0ZVVpZElkZW50aWZpZXIoIml0ZXJhdG9yIiksR0VUX0lURVJBVE9SOnQuZ2V0QXN5bmNJdGVyYXRvcixPQkpFQ1Q6ci5yaWdodCxTVEVQX1ZBTFVFOm8sU1RFUF9LRVk6YSxBV0FJVDp0LndyYXBBd2FpdH0pLGQ9ZC5ib2R5LmJvZHk7dmFyIGg9cy5pc0xhYmVsZWRTdGF0ZW1lbnQoaSksbT1kWzNdLmJsb2NrLmJvZHkseT1tWzBdO3JldHVybiBoJiYobVswXT1zLmxhYmVsZWRTdGF0ZW1lbnQoaS5sYWJlbCx5KSkse3JlcGxhY2VQYXJlbnQ6aCxub2RlOmQsZGVjbGFyOnAsbG9vcDp5fX07dmFyIGk9cigxKSxzPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaSksYT1yKDQpLG89bihhKSx1PXIoNyksbD1uKHUpLGM9KDAsby5kZWZhdWx0KSgiXG4gIGZ1bmN0aW9uKiB3cmFwcGVyKCkge1xuICAgIHZhciBJVEVSQVRPUl9DT01QTEVUSU9OID0gdHJ1ZTtcbiAgICB2YXIgSVRFUkFUT1JfSEFEX0VSUk9SX0tFWSA9IGZhbHNlO1xuICAgIHZhciBJVEVSQVRPUl9FUlJPUl9LRVkgPSB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBJVEVSQVRPUl9LRVkgPSBHRVRfSVRFUkFUT1IoT0JKRUNUKSwgU1RFUF9LRVksIFNURVBfVkFMVUU7XG4gICAgICAgIChcbiAgICAgICAgICBTVEVQX0tFWSA9IHlpZWxkIEFXQUlUKElURVJBVE9SX0tFWS5uZXh0KCkpLFxuICAgICAgICAgIElURVJBVE9SX0NPTVBMRVRJT04gPSBTVEVQX0tFWS5kb25lLFxuICAgICAgICAgIFNURVBfVkFMVUUgPSB5aWVsZCBBV0FJVChTVEVQX0tFWS52YWx1ZSksXG4gICAgICAgICAgIUlURVJBVE9SX0NPTVBMRVRJT05cbiAgICAgICAgKTtcbiAgICAgICAgSVRFUkFUT1JfQ09NUExFVElPTiA9IHRydWUpIHtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIElURVJBVE9SX0hBRF9FUlJPUl9LRVkgPSB0cnVlO1xuICAgICAgSVRFUkFUT1JfRVJST1JfS0VZID0gZXJyO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIUlURVJBVE9SX0NPTVBMRVRJT04gJiYgSVRFUkFUT1JfS0VZLnJldHVybikge1xuICAgICAgICAgIHlpZWxkIEFXQUlUKElURVJBVE9SX0tFWS5yZXR1cm4oKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChJVEVSQVRPUl9IQURfRVJST1JfS0VZKSB7XG4gICAgICAgICAgdGhyb3cgSVRFUkFUT1JfRVJST1JfS0VZO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4iKSxmPXtub1Njb3BlOiEwLElkZW50aWZpZXI6ZnVuY3Rpb24oZSx0KXtlLm5vZGUubmFtZSBpbiB0JiZlLnJlcGxhY2VJbmxpbmUodFtlLm5vZGUubmFtZV0pfSxDYWxsRXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3ZhciByPWUubm9kZS5jYWxsZWU7cy5pc0lkZW50aWZpZXIocikmJiJBV0FJVCI9PT1yLm5hbWUmJiF0LkFXQUlUJiZlLnJlcGxhY2VXaXRoKGUubm9kZS5hcmd1bWVudHNbMF0pfX07ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cig0KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obikscz17fTt0LmRlZmF1bHQ9cyxzLnR5cGVvZj0oMCxpLmRlZmF1bHQpKCdcbiAgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gInN5bWJvbCIpXG4gICAgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9XG4gICAgOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGVcbiAgICAgICAgICA/ICJzeW1ib2wiXG4gICAgICAgICAgOiB0eXBlb2Ygb2JqO1xuICAgICAgfTtcbicpLHMuanN4PSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuZm9yICYmIFN5bWJvbC5mb3IoInJlYWN0LmVsZW1lbnQiKSkgfHwgMHhlYWM3O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVJhd1JlYWN0RWxlbWVudCAodHlwZSwgcHJvcHMsIGtleSwgY2hpbGRyZW4pIHtcbiAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzO1xuICAgICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDM7XG5cbiAgICAgIGlmICghcHJvcHMgJiYgY2hpbGRyZW5MZW5ndGggIT09IDApIHtcbiAgICAgICAgLy8gSWYgd2VcJ3JlIGdvaW5nIHRvIGFzc2lnbiBwcm9wcy5jaGlsZHJlbiwgd2UgY3JlYXRlIGEgbmV3IG9iamVjdCBub3dcbiAgICAgICAgLy8gdG8gYXZvaWQgbXV0YXRpbmcgZGVmYXVsdFByb3BzLlxuICAgICAgICBwcm9wcyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKHByb3BzICYmIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFwcm9wcykge1xuICAgICAgICBwcm9wcyA9IGRlZmF1bHRQcm9wcyB8fCB7fTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkcmVuTGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgM107XG4gICAgICAgIH1cbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBrZXk6IGtleSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IFwnXCcgKyBrZXksXG4gICAgICAgIHJlZjogbnVsbCxcbiAgICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgICBfb3duZXI6IG51bGwsXG4gICAgICB9O1xuICAgIH07XG5cbiAgfSkoKVxuJykscy5hc3luY0l0ZXJhdG9yPSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gKGl0ZXJhYmxlKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIpIHtcbiAgICAgIGlmIChTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgICAgICB2YXIgbWV0aG9kID0gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xuICAgICAgICBpZiAobWV0aG9kICE9IG51bGwpIHJldHVybiBtZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG4gICAgICBpZiAoU3ltYm9sLml0ZXJhdG9yKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdCBpcyBub3QgYXN5bmMgaXRlcmFibGUiKTtcbiAgfSlcbicpLHMuYXN5bmNHZW5lcmF0b3I9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXdhaXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEFzeW5jR2VuZXJhdG9yKGdlbikge1xuICAgICAgdmFyIGZyb250LCBiYWNrO1xuXG4gICAgICBmdW5jdGlvbiBzZW5kKGtleSwgYXJnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIGFyZzogYXJnLFxuICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIHJlamVjdDogcmVqZWN0LFxuICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoYmFjaykge1xuICAgICAgICAgICAgYmFjayA9IGJhY2submV4dCA9IHJlcXVlc3Q7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZyb250ID0gYmFjayA9IHJlcXVlc3Q7XG4gICAgICAgICAgICByZXN1bWUoa2V5LCBhcmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlc3VtZShrZXksIGFyZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBnZW5ba2V5XShhcmcpXG4gICAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0VmFsdWUpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh2YWx1ZS52YWx1ZSkudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGFyZykgeyByZXN1bWUoIm5leHQiLCBhcmcpOyB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoYXJnKSB7IHJlc3VtZSgidGhyb3ciLCBhcmcpOyB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0dGxlKHJlc3VsdC5kb25lID8gInJldHVybiIgOiAibm9ybWFsIiwgcmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHNldHRsZSgidGhyb3ciLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHNldHRsZSh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlICJyZXR1cm4iOlxuICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7IHZhbHVlOiB2YWx1ZSwgZG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgInRocm93IjpcbiAgICAgICAgICAgIGZyb250LnJlamVjdCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZnJvbnQucmVzb2x2ZSh7IHZhbHVlOiB2YWx1ZSwgZG9uZTogZmFsc2UgfSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGZyb250ID0gZnJvbnQubmV4dDtcbiAgICAgICAgaWYgKGZyb250KSB7XG4gICAgICAgICAgcmVzdW1lKGZyb250LmtleSwgZnJvbnQuYXJnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBiYWNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9pbnZva2UgPSBzZW5kO1xuXG4gICAgICAvLyBIaWRlICJyZXR1cm4iIG1ldGhvZCBpZiBnZW5lcmF0b3IgcmV0dXJuIGlzIG5vdCBzdXBwb3J0ZWRcbiAgICAgIGlmICh0eXBlb2YgZ2VuLnJldHVybiAhPT0gImZ1bmN0aW9uIikge1xuICAgICAgICB0aGlzLnJldHVybiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgICAgQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgfVxuXG4gICAgQXN5bmNHZW5lcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB0aGlzLl9pbnZva2UoIm5leHQiLCBhcmcpOyB9O1xuICAgIEFzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHRoaXMuX2ludm9rZSgidGhyb3ciLCBhcmcpOyB9O1xuICAgIEFzeW5jR2VuZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB0aGlzLl9pbnZva2UoInJldHVybiIsIGFyZyk7IH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgd3JhcDogZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBc3luY0dlbmVyYXRvcihmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBhd2FpdDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXdhaXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICB9KSgpXG4nKSxzLmFzeW5jR2VuZXJhdG9yRGVsZWdhdGU9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoaW5uZXIsIGF3YWl0V3JhcCkge1xuICAgIHZhciBpdGVyID0ge30sIHdhaXRpbmcgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHB1bXAoa2V5LCB2YWx1ZSkge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG4gICAgICB2YWx1ZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUoaW5uZXJba2V5XSh2YWx1ZSkpOyB9KTtcbiAgICAgIHJldHVybiB7IGRvbmU6IGZhbHNlLCB2YWx1ZTogYXdhaXRXcmFwKHZhbHVlKSB9O1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IpIHtcbiAgICAgIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgfVxuXG4gICAgaXRlci5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICBpZiAod2FpdGluZykge1xuICAgICAgICB3YWl0aW5nID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwdW1wKCJuZXh0IiwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGlubmVyLnRocm93ID09PSAiZnVuY3Rpb24iKSB7XG4gICAgICBpdGVyLnRocm93ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh3YWl0aW5nKSB7XG4gICAgICAgICAgd2FpdGluZyA9IGZhbHNlO1xuICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwdW1wKCJ0aHJvdyIsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBpbm5lci5yZXR1cm4gPT09ICJmdW5jdGlvbiIpIHtcbiAgICAgIGl0ZXIucmV0dXJuID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwdW1wKCJyZXR1cm4iLCB2YWx1ZSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyO1xuICB9KVxuJykscy5hc3luY1RvR2VuZXJhdG9yPSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBnZW4gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gc3RlcChrZXksIGFyZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgaW5mbyA9IGdlbltrZXldKGFyZyk7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpbmZvLnZhbHVlO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbmZvLmRvbmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICBzdGVwKCJuZXh0IiwgdmFsdWUpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBzdGVwKCJ0aHJvdyIsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RlcCgibmV4dCIpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSlcbicpLHMuY2xhc3NDYWxsQ2hlY2s9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO1xuICAgIH1cbiAgfSk7XG4nKSxzLmNyZWF0ZUNsYXNzPSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSArKykge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICAgIH07XG4gIH0pKClcbicpLHMuZGVmaW5lRW51bWVyYWJsZVByb3BlcnRpZXM9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAob2JqLCBkZXNjcykge1xuICAgIGZvciAodmFyIGtleSBpbiBkZXNjcykge1xuICAgICAgdmFyIGRlc2MgPSBkZXNjc1trZXldO1xuICAgICAgZGVzYy5jb25maWd1cmFibGUgPSBkZXNjLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgaWYgKCJ2YWx1ZSIgaW4gZGVzYykgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIGRlc2MpO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9KVxuJykscy5kZWZhdWx0cz0oMCxpLmRlZmF1bHQpKCJcbiAgKGZ1bmN0aW9uIChvYmosIGRlZmF1bHRzKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0cyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZGVmYXVsdHMsIGtleSk7XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUuY29uZmlndXJhYmxlICYmIG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH0pXG4iKSxzLmRlZmluZVByb3BlcnR5PSgwLGkuZGVmYXVsdCkoIlxuICAoZnVuY3Rpb24gKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgIC8vIFNob3J0Y2lyY3VpdCB0aGUgc2xvdyBkZWZpbmVQcm9wZXJ0eSBwYXRoIHdoZW4gcG9zc2libGUuXG4gICAgLy8gV2UgYXJlIHRyeWluZyB0byBhdm9pZCBpc3N1ZXMgd2hlcmUgc2V0dGVycyBkZWZpbmVkIG9uIHRoZVxuICAgIC8vIHByb3RvdHlwZSBjYXVzZSBzaWRlIGVmZmVjdHMgdW5kZXIgdGhlIGZhc3QgcGF0aCBvZiBzaW1wbGVcbiAgICAvLyBhc3NpZ25tZW50LiBCeSBjaGVja2luZyBmb3IgZXhpc3RlbmNlIG9mIHRoZSBwcm9wZXJ0eSB3aXRoXG4gICAgLy8gdGhlIGluIG9wZXJhdG9yLCB3ZSBjYW4gb3B0aW1pemUgbW9zdCBvZiB0aGlzIG92ZXJoZWFkIGF3YXkuXG4gICAgaWYgKGtleSBpbiBvYmopIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gb2JqO1xuICB9KTtcbiIpLHMuZXh0ZW5kcz0oMCxpLmRlZmF1bHQpKCJcbiAgT2JqZWN0LmFzc2lnbiB8fCAoZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfSlcbiIpLHMuZ2V0PSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpO1xuXG4gICAgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpO1xuXG4gICAgICBpZiAocGFyZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCJ2YWx1ZSIgaW4gZGVzYykge1xuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBkZXNjLmdldDtcblxuICAgICAgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7XG4gICAgfVxuICB9KTtcbicpLHMuaW5oZXJpdHM9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiICsgdHlwZW9mIHN1cGVyQ2xhc3MpO1xuICAgIH1cbiAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBzdWJDbGFzcyxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7XG4gIH0pXG4nKSxzLmluc3RhbmNlb2Y9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICBpZiAocmlnaHQgIT0gbnVsbCAmJiB0eXBlb2YgU3ltYm9sICE9PSAidW5kZWZpbmVkIiAmJiByaWdodFtTeW1ib2wuaGFzSW5zdGFuY2VdKSB7XG4gICAgICByZXR1cm4gcmlnaHRbU3ltYm9sLmhhc0luc3RhbmNlXShsZWZ0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxlZnQgaW5zdGFuY2VvZiByaWdodDtcbiAgICB9XG4gIH0pO1xuJykscy5pbnRlcm9wUmVxdWlyZURlZmF1bHQ9KDAsaS5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gIH0pXG4iKSxzLmludGVyb3BSZXF1aXJlV2lsZGNhcmQ9KDAsaS5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAob2JqKSB7XG4gICAgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5ld09iaiA9IHt9O1xuICAgICAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgbmV3T2JqW2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3T2JqLmRlZmF1bHQgPSBvYmo7XG4gICAgICByZXR1cm4gbmV3T2JqO1xuICAgIH1cbiAgfSlcbiIpLHMubmV3QXJyb3dDaGVjaz0oMCxpLmRlZmF1bHQpKCdcbiAgKGZ1bmN0aW9uIChpbm5lclRoaXMsIGJvdW5kVGhpcykge1xuICAgIGlmIChpbm5lclRoaXMgIT09IGJvdW5kVGhpcykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGluc3RhbnRpYXRlIGFuIGFycm93IGZ1bmN0aW9uIik7XG4gICAgfVxuICB9KTtcbicpLHMub2JqZWN0RGVzdHJ1Y3R1cmluZ0VtcHR5PSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGRlc3RydWN0dXJlIHVuZGVmaW5lZCIpO1xuICB9KTtcbicpLHMub2JqZWN0V2l0aG91dFByb3BlcnRpZXM9KDAsaS5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAob2JqLCBrZXlzKSB7XG4gICAgdmFyIHRhcmdldCA9IHt9O1xuICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7XG4gICAgICB0YXJnZXRbaV0gPSBvYmpbaV07XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH0pXG4iKSxzLnBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm49KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoc2VsZiwgY2FsbCkge1xuICAgIGlmICghc2VsZikge1xuICAgICAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0aGlzIGhhc25cJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzblwndCBiZWVuIGNhbGxlZCIpO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09ICJvYmplY3QiIHx8IHR5cGVvZiBjYWxsID09PSAiZnVuY3Rpb24iKSA/IGNhbGwgOiBzZWxmO1xuICB9KTtcbicpLHMuc2VsZkdsb2JhbD0oMCxpLmRlZmF1bHQpKCdcbiAgdHlwZW9mIGdsb2JhbCA9PT0gInVuZGVmaW5lZCIgPyBzZWxmIDogZ2xvYmFsXG4nKSxzLnNldD0oMCxpLmRlZmF1bHQpKCdcbiAgKGZ1bmN0aW9uIHNldChvYmplY3QsIHByb3BlcnR5LCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7XG5cbiAgICBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7XG5cbiAgICAgIGlmIChwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgc2V0KHBhcmVudCwgcHJvcGVydHksIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgidmFsdWUiIGluIGRlc2MgJiYgZGVzYy53cml0YWJsZSkge1xuICAgICAgZGVzYy52YWx1ZSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc2V0dGVyID0gZGVzYy5zZXQ7XG5cbiAgICAgIGlmIChzZXR0ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXR0ZXIuY2FsbChyZWNlaXZlciwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSk7XG4nKSxzLnNsaWNlZFRvQXJyYXk9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgLy8gQnJva2VuIG91dCBpbnRvIGEgc2VwYXJhdGUgZnVuY3Rpb24gdG8gYXZvaWQgZGVvcHRpbWl6YXRpb25zIGR1ZSB0byB0aGUgdHJ5L2NhdGNoIGZvciB0aGVcbiAgICAvLyBhcnJheSBpdGVyYXRvciBjYXNlLlxuICAgIGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7XG4gICAgICAvLyB0aGlzIGlzIGFuIGV4cGFuZGVkIGZvcm0gb2YgYGZvci4uLm9mYCB0aGF0IHByb3Blcmx5IHN1cHBvcnRzIGFicnVwdCBjb21wbGV0aW9ucyBvZlxuICAgICAgLy8gaXRlcmF0b3JzIGV0Yy4gdmFyaWFibGUgbmFtZXMgaGF2ZSBiZWVuIG1pbmltaXNlZCB0byByZWR1Y2UgdGhlIHNpemUgb2YgdGhpcyBtYXNzaXZlXG4gICAgICAvLyBoZWxwZXIuIHNvbWV0aW1lcyBzcGVjIGNvbXBsaWFuY3kgaXMgYW5ub3lpbmcgOihcbiAgICAgIC8vXG4gICAgICAvLyBfbiA9IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb25cbiAgICAgIC8vIF9kID0gX2RpZEl0ZXJhdG9yRXJyb3JcbiAgICAgIC8vIF9lID0gX2l0ZXJhdG9yRXJyb3JcbiAgICAgIC8vIF9pID0gX2l0ZXJhdG9yXG4gICAgICAvLyBfcyA9IF9zdGVwXG5cbiAgICAgIHZhciBfYXJyID0gW107XG4gICAgICB2YXIgX24gPSB0cnVlO1xuICAgICAgdmFyIF9kID0gZmFsc2U7XG4gICAgICB2YXIgX2UgPSB1bmRlZmluZWQ7XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7XG4gICAgICAgICAgX2Fyci5wdXNoKF9zLnZhbHVlKTtcbiAgICAgICAgICBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfZCA9IHRydWU7XG4gICAgICAgIF9lID0gZXJyO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIV9uICYmIF9pWyJyZXR1cm4iXSkgX2lbInJldHVybiJdKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaWYgKF9kKSB0aHJvdyBfZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIF9hcnI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgIH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7XG4gICAgICAgIHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKTtcbicpLHMuc2xpY2VkVG9BcnJheUxvb3NlPSgwLGkuZGVmYXVsdCkoJ1xuICAoZnVuY3Rpb24gKGFyciwgaSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHtcbiAgICAgIHZhciBfYXJyID0gW107XG4gICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICAgIF9hcnIucHVzaChfc3RlcC52YWx1ZSk7XG4gICAgICAgIGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYXJyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7XG4gICAgfVxuICB9KTtcbicpLHMudGFnZ2VkVGVtcGxhdGVMaXRlcmFsPSgwLGkuZGVmYXVsdCkoIlxuICAoZnVuY3Rpb24gKHN0cmluZ3MsIHJhdykge1xuICAgIHJldHVybiBPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHN0cmluZ3MsIHtcbiAgICAgICAgcmF3OiB7IHZhbHVlOiBPYmplY3QuZnJlZXplKHJhdykgfVxuICAgIH0pKTtcbiAgfSk7XG4iKSxzLnRhZ2dlZFRlbXBsYXRlTGl0ZXJhbExvb3NlPSgwLGkuZGVmYXVsdCkoIlxuICAoZnVuY3Rpb24gKHN0cmluZ3MsIHJhdykge1xuICAgIHN0cmluZ3MucmF3ID0gcmF3O1xuICAgIHJldHVybiBzdHJpbmdzO1xuICB9KTtcbiIpLHMudGVtcG9yYWxSZWY9KDAsaS5kZWZhdWx0KSgnXG4gIChmdW5jdGlvbiAodmFsLCBuYW1lLCB1bmRlZikge1xuICAgIGlmICh2YWwgPT09IHVuZGVmKSB7XG4gICAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IobmFtZSArICIgaXMgbm90IGRlZmluZWQgLSB0ZW1wb3JhbCBkZWFkIHpvbmUiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbDtcbiAgICB9XG4gIH0pXG4nKSxzLnRlbXBvcmFsVW5kZWZpbmVkPSgwLGkuZGVmYXVsdCkoIlxuICAoe30pXG4iKSxzLnRvQXJyYXk9KDAsaS5kZWZhdWx0KSgiXG4gIChmdW5jdGlvbiAoYXJyKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyKSA/IGFyciA6IEFycmF5LmZyb20oYXJyKTtcbiAgfSk7XG4iKSxzLnRvQ29uc3VtYWJsZUFycmF5PSgwLGkuZGVmYXVsdCkoIlxuICAoZnVuY3Rpb24gKGFycikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBhcnIyID0gQXJyYXkoYXJyLmxlbmd0aCk7IGkgPCBhcnIubGVuZ3RoOyBpKyspIGFycjJbaV0gPSBhcnJbaV07XG4gICAgICByZXR1cm4gYXJyMjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20oYXJyKTtcbiAgICB9XG4gIH0pO1xuIiksZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnR5cGVzO3JldHVybntwcmU6ZnVuY3Rpb24oZSl7ZS5zZXQoImhlbHBlcnNOYW1lc3BhY2UiLHQuaWRlbnRpZmllcigiYmFiZWxIZWxwZXJzIikpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9LGk9cig4OSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXMscj17fTtyZXR1cm57dmlzaXRvcjp7SWRlbnRpZmllcjpmdW5jdGlvbihlLHMpe2lmKCJNZW1iZXJFeHByZXNzaW9uIiE9PWUucGFyZW50LnR5cGUmJiJDbGFzc01ldGhvZCIhPT1lLnBhcmVudC50eXBlJiYhZS5pc1B1cmUoKSYmcy5vcHRzLmhhc093blByb3BlcnR5KGUubm9kZS5uYW1lKSl7dmFyIGE9cy5vcHRzW2Uubm9kZS5uYW1lXTt2b2lkIDAhPT1hJiZudWxsIT09YXx8KGE9dC5pZGVudGlmaWVyKFN0cmluZyhhKSkpO3ZhciBvPXZvaWQgMD09PWE/InVuZGVmaW5lZCI6bihhKTsic3RyaW5nIj09PW98fCJib29sZWFuIj09PW8/YT17dHlwZTpvLHJlcGxhY2VtZW50OmF9OnQuaXNOb2RlKGEpP2E9e3R5cGU6Im5vZGUiLHJlcGxhY2VtZW50OmF9OiJvYmplY3QiPT09byYmIm5vZGUiPT09YS50eXBlJiYic3RyaW5nIj09dHlwZW9mIGEucmVwbGFjZW1lbnQmJihhLnJlcGxhY2VtZW50PXJbYS5yZXBsYWNlbWVudF0/clthLnJlcGxhY2VtZW50XTppLnBhcnNlRXhwcmVzc2lvbihhLnJlcGxhY2VtZW50KSk7dmFyIHU9YS5yZXBsYWNlbWVudDtzd2l0Y2goYS50eXBlKXtjYXNlImJvb2xlYW4iOmUucmVwbGFjZVdpdGgodC5ib29sZWFuTGl0ZXJhbCh1KSk7YnJlYWs7Y2FzZSJub2RlIjp0LmlzTm9kZSh1KSYmZS5yZXBsYWNlV2l0aCh1KTticmVhaztkZWZhdWx0OnZhciBsPVN0cmluZyh1KTtlLnJlcGxhY2VXaXRoKHQuc3RyaW5nTGl0ZXJhbChsKSl9fX19fX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgiZHluYW1pY0ltcG9ydCIpfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57bWFuaXB1bGF0ZU9wdGlvbnM6ZnVuY3Rpb24oZSx0KXt0LnBsdWdpbnMucHVzaCgiZnVuY3Rpb25TZW50Iil9fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue2luaGVyaXRzOnIoNjcpfX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXMsbj17RnVuY3Rpb246ZnVuY3Rpb24oZSl7ZS5za2lwKCl9LFlpZWxkRXhwcmVzc2lvbjpmdW5jdGlvbihlLHIpe3ZhciBuPWUubm9kZTtpZihuLmRlbGVnYXRlKXt2YXIgaT1yLmFkZEhlbHBlcigiYXN5bmNHZW5lcmF0b3JEZWxlZ2F0ZSIpO24uYXJndW1lbnQ9dC5jYWxsRXhwcmVzc2lvbihpLFt0LmNhbGxFeHByZXNzaW9uKHIuYWRkSGVscGVyKCJhc3luY0l0ZXJhdG9yIiksW24uYXJndW1lbnRdKSx0Lm1lbWJlckV4cHJlc3Npb24oci5hZGRIZWxwZXIoImFzeW5jR2VuZXJhdG9yIiksdC5pZGVudGlmaWVyKCJhd2FpdCIpKV0pfX19O3JldHVybntpbmhlcml0czpyKDE5NSksdmlzaXRvcjp7RnVuY3Rpb246ZnVuY3Rpb24oZSxyKXtlLm5vZGUuYXN5bmMmJmUubm9kZS5nZW5lcmF0b3ImJihlLnRyYXZlcnNlKG4sciksKDAsaS5kZWZhdWx0KShlLHIuZmlsZSx7d3JhcEFzeW5jOnQubWVtYmVyRXhwcmVzc2lvbihyLmFkZEhlbHBlcigiYXN5bmNHZW5lcmF0b3IiKSx0LmlkZW50aWZpZXIoIndyYXAiKSksd3JhcEF3YWl0OnQubWVtYmVyRXhwcmVzc2lvbihyLmFkZEhlbHBlcigiYXN5bmNHZW5lcmF0b3IiKSx0LmlkZW50aWZpZXIoImF3YWl0IikpfSkpfX19fTt2YXIgbj1yKDEyNCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybntpbmhlcml0czpyKDY3KSx2aXNpdG9yOntGdW5jdGlvbjpmdW5jdGlvbihlLHQpe2Uubm9kZS5hc3luYyYmIWUubm9kZS5nZW5lcmF0b3ImJigwLGkuZGVmYXVsdCkoZSx0LmZpbGUse3dyYXBBc3luYzp0LmFkZEltcG9ydCh0Lm9wdHMubW9kdWxlLHQub3B0cy5tZXRob2QpfSl9fX19O3ZhciBuPXIoMTI0KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7ZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXtpZighdC5hcHBseURlY29yYXRlZERlc2NyaXB0b3Ipe3QuYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJhcHBseURlY29yYXRlZERlc2NyaXB0b3IiKTt2YXIgcj1mKHtOQU1FOnQuYXBwbHlEZWNvcmF0ZWREZXNjcmlwdG9yfSk7ZS5zY29wZS5nZXRQcm9ncmFtUGFyZW50KCkucGF0aC51bnNoaWZ0Q29udGFpbmVyKCJib2R5IixyKX1yZXR1cm4gdC5hcHBseURlY29yYXRlZERlc2NyaXB0b3J9ZnVuY3Rpb24gbihlLHQpe2lmKCF0LmluaXRpYWxpemVyRGVmaW5lUHJvcCl7dC5pbml0aWFsaXplckRlZmluZVByb3A9ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImluaXREZWZpbmVQcm9wIik7dmFyIHI9Yyh7TkFNRTp0LmluaXRpYWxpemVyRGVmaW5lUHJvcH0pO2Uuc2NvcGUuZ2V0UHJvZ3JhbVBhcmVudCgpLnBhdGgudW5zaGlmdENvbnRhaW5lcigiYm9keSIscil9cmV0dXJuIHQuaW5pdGlhbGl6ZXJEZWZpbmVQcm9wfWZ1bmN0aW9uIGkoZSx0KXtpZighdC5pbml0aWFsaXplcldhcm5pbmdIZWxwZXIpe3QuaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJpbml0aWFsaXplcldhcm5pbmdIZWxwZXIiKTt2YXIgcj1sKHtOQU1FOnQuaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyfSk7ZS5zY29wZS5nZXRQcm9ncmFtUGFyZW50KCkucGF0aC51bnNoaWZ0Q29udGFpbmVyKCJib2R5IixyKX1yZXR1cm4gdC5pbml0aWFsaXplcldhcm5pbmdIZWxwZXJ9ZnVuY3Rpb24gcChlKXt2YXIgdD0oZS5pc0NsYXNzKCk/W2VdLmNvbmNhdChlLmdldCgiYm9keS5ib2R5IikpOmUuZ2V0KCJwcm9wZXJ0aWVzIikpLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0Lm5vZGUuZGVjb3JhdG9yc3x8W10pfSxbXSkscj10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hdi5pc0lkZW50aWZpZXIoZS5leHByZXNzaW9uKX0pO2lmKDAhPT1yLmxlbmd0aClyZXR1cm4gdi5zZXF1ZW5jZUV4cHJlc3Npb24oci5tYXAoZnVuY3Rpb24odCl7dmFyIHI9dC5leHByZXNzaW9uLG49dC5leHByZXNzaW9uPWUuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoImRlYyIpO3JldHVybiB2LmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixuLHIpfSkuY29uY2F0KFtlLm5vZGVdKSl9ZnVuY3Rpb24gZChlLHQpe3ZhciByPWUubm9kZS5kZWNvcmF0b3JzfHxbXTtpZihlLm5vZGUuZGVjb3JhdG9ycz1udWxsLDAhPT1yLmxlbmd0aCl7dmFyIG49ZS5zY29wZS5nZW5lcmF0ZURlY2xhcmVkVWlkSWRlbnRpZmllcigiY2xhc3MiKTtyZXR1cm4gci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXhwcmVzc2lvbn0pLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Q0xBU1NfUkVGOm4sREVDT1JBVE9SOnQsSU5ORVI6ZX0pLmV4cHJlc3Npb259LGUubm9kZSl9fWZ1bmN0aW9uIGgoZSx0KXtpZihlLm5vZGUuYm9keS5ib2R5LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuKGUuZGVjb3JhdG9yc3x8W10pLmxlbmd0aD4wfSkpcmV0dXJuIHkoZSx0LGUubm9kZS5ib2R5LmJvZHkpfWZ1bmN0aW9uIG0oZSx0KXtpZihlLm5vZGUucHJvcGVydGllcy5zb21lKGZ1bmN0aW9uKGUpe3JldHVybihlLmRlY29yYXRvcnN8fFtdKS5sZW5ndGg+MH0pKXJldHVybiB5KGUsdCxlLm5vZGUucHJvcGVydGllcyl9ZnVuY3Rpb24geShlLHIsbil7dmFyIHM9KGUuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoImRlc2MiKSxlLnNjb3BlLmdlbmVyYXRlRGVjbGFyZWRVaWRJZGVudGlmaWVyKCJ2YWx1ZSIpLAplLnNjb3BlLmdlbmVyYXRlRGVjbGFyZWRVaWRJZGVudGlmaWVyKGUuaXNDbGFzcygpPyJjbGFzcyI6Im9iaiIpKSxsPW4ucmVkdWNlKGZ1bmN0aW9uKG4sbCl7dmFyIGM9bC5kZWNvcmF0b3JzfHxbXTtpZihsLmRlY29yYXRvcnM9bnVsbCwwPT09Yy5sZW5ndGgpcmV0dXJuIG47aWYobC5jb21wdXRlZCl0aHJvdyBlLmJ1aWxkQ29kZUZyYW1lRXJyb3IoIkNvbXB1dGVkIG1ldGhvZC9wcm9wZXJ0eSBkZWNvcmF0b3JzIGFyZSBub3QgeWV0IHN1cHBvcnRlZC4iKTt2YXIgZj12LmlzTGl0ZXJhbChsLmtleSk/bC5rZXk6di5zdHJpbmdMaXRlcmFsKGwua2V5Lm5hbWUpLHA9ZS5pc0NsYXNzKCkmJiFsLnN0YXRpYz9hKHtDTEFTU19SRUY6c30pLmV4cHJlc3Npb246cztpZih2LmlzQ2xhc3NQcm9wZXJ0eShsLHtzdGF0aWM6ITF9KSl7dmFyIGQ9ZS5zY29wZS5nZW5lcmF0ZURlY2xhcmVkVWlkSWRlbnRpZmllcigiZGVzY3JpcHRvciIpLGg9bC52YWx1ZT92LmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLFtdLHYuYmxvY2tTdGF0ZW1lbnQoW3YucmV0dXJuU3RhdGVtZW50KGwudmFsdWUpXSkpOnYubnVsbExpdGVyYWwoKTtsLnZhbHVlPXYuY2FsbEV4cHJlc3Npb24oaShlLHIpLFtkLHYudGhpc0V4cHJlc3Npb24oKV0pLG49bi5jb25jYXQoW3YuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGQsdi5jYWxsRXhwcmVzc2lvbih0KGUsciksW3AsZix2LmFycmF5RXhwcmVzc2lvbihjLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5leHByZXNzaW9ufSkpLHYub2JqZWN0RXhwcmVzc2lvbihbdi5vYmplY3RQcm9wZXJ0eSh2LmlkZW50aWZpZXIoImVudW1lcmFibGUiKSx2LmJvb2xlYW5MaXRlcmFsKCEwKSksdi5vYmplY3RQcm9wZXJ0eSh2LmlkZW50aWZpZXIoImluaXRpYWxpemVyIiksaCldKV0pKV0pfWVsc2Ugbj1uLmNvbmNhdCh2LmNhbGxFeHByZXNzaW9uKHQoZSxyKSxbcCxmLHYuYXJyYXlFeHByZXNzaW9uKGMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmV4cHJlc3Npb259KSksdi5pc09iamVjdFByb3BlcnR5KGwpfHx2LmlzQ2xhc3NQcm9wZXJ0eShsLHtzdGF0aWM6ITB9KT91KHtURU1QOmUuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoImluaXQiKSxUQVJHRVQ6cCxQUk9QRVJUWTpmfSkuZXhwcmVzc2lvbjpvKHtUQVJHRVQ6cCxQUk9QRVJUWTpmfSkuZXhwcmVzc2lvbixwXSkpO3JldHVybiBufSxbXSk7cmV0dXJuIHYuc2VxdWVuY2VFeHByZXNzaW9uKFt2LmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9IixzLGUubm9kZSksdi5zZXF1ZW5jZUV4cHJlc3Npb24obCksc10pfXZhciB2PWUudHlwZXM7cmV0dXJue2luaGVyaXRzOnIoMTI1KSx2aXNpdG9yOntFeHBvcnREZWZhdWx0RGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7aWYoZS5nZXQoImRlY2xhcmF0aW9uIikuaXNDbGFzc0RlY2xhcmF0aW9uKCkpe3ZhciB0PWUubm9kZSxyPXQuZGVjbGFyYXRpb24uaWR8fGUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJkZWZhdWx0Iik7dC5kZWNsYXJhdGlvbi5pZD1yLGUucmVwbGFjZVdpdGgodC5kZWNsYXJhdGlvbiksZS5pbnNlcnRBZnRlcih2LmV4cG9ydE5hbWVkRGVjbGFyYXRpb24obnVsbCxbdi5leHBvcnRTcGVjaWZpZXIocix2LmlkZW50aWZpZXIoImRlZmF1bHQiKSldKSl9fSxDbGFzc0RlY2xhcmF0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZSxyPXQuaWR8fGUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJjbGFzcyIpO2UucmVwbGFjZVdpdGgodi52YXJpYWJsZURlY2xhcmF0aW9uKCJsZXQiLFt2LnZhcmlhYmxlRGVjbGFyYXRvcihyLHYudG9FeHByZXNzaW9uKHQpKV0pKX0sQ2xhc3NFeHByZXNzaW9uOmZ1bmN0aW9uKGUsdCl7dmFyIHI9cChlKXx8ZChlLHQpfHxoKGUsdCk7ciYmZS5yZXBsYWNlV2l0aChyKX0sT2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3ZhciByPXAoZSl8fG0oZSx0KTtyJiZlLnJlcGxhY2VXaXRoKHIpfSxBc3NpZ25tZW50RXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe3QuaW5pdGlhbGl6ZXJXYXJuaW5nSGVscGVyJiZlLmdldCgibGVmdCIpLmlzTWVtYmVyRXhwcmVzc2lvbigpJiZlLmdldCgibGVmdC5wcm9wZXJ0eSIpLmlzSWRlbnRpZmllcigpJiZlLmdldCgicmlnaHQiKS5pc0NhbGxFeHByZXNzaW9uKCkmJmUuZ2V0KCJyaWdodC5jYWxsZWUiKS5pc0lkZW50aWZpZXIoe25hbWU6dC5pbml0aWFsaXplcldhcm5pbmdIZWxwZXIubmFtZX0pJiZlLnJlcGxhY2VXaXRoKHYuY2FsbEV4cHJlc3Npb24obihlLHQpLFtlLmdldCgibGVmdC5vYmplY3QiKS5ub2RlLHYuc3RyaW5nTGl0ZXJhbChlLmdldCgibGVmdC5wcm9wZXJ0eSIpLm5vZGUubmFtZSksZS5nZXQoInJpZ2h0LmFyZ3VtZW50cyIpWzBdLm5vZGUsZS5nZXQoInJpZ2h0LmFyZ3VtZW50cyIpWzFdLm5vZGVdKSl9fX19O3ZhciBuPXIoNCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pLHM9KDAsaS5kZWZhdWx0KSgiXG4gIERFQ09SQVRPUihDTEFTU19SRUYgPSBJTk5FUikgfHwgQ0xBU1NfUkVGO1xuIiksYT0oMCxpLmRlZmF1bHQpKCJcbiAgQ0xBU1NfUkVGLnByb3RvdHlwZTtcbiIpLG89KDAsaS5kZWZhdWx0KSgiXG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUQVJHRVQsIFBST1BFUlRZKTtcbiIpLHU9KDAsaS5kZWZhdWx0KSgiXG4gICAgKFRFTVAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRBUkdFVCwgUFJPUEVSVFkpLCAoVEVNUCA9IFRFTVAgPyBURU1QLnZhbHVlIDogdW5kZWZpbmVkKSwge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBpbml0aWFsaXplcjogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBURU1QO1xuICAgICAgICB9XG4gICAgfSlcbiIpLGw9KDAsaS5kZWZhdWx0KSgiXG4gICAgZnVuY3Rpb24gTkFNRShkZXNjcmlwdG9yLCBjb250ZXh0KXtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEZWNvcmF0aW5nIGNsYXNzIHByb3BlcnR5IGZhaWxlZC4gUGxlYXNlIGVuc3VyZSB0aGF0IHRyYW5zZm9ybS1jbGFzcy1wcm9wZXJ0aWVzIGlzIGVuYWJsZWQuJyk7XG4gICAgfVxuIiksYz0oMCxpLmRlZmF1bHQpKCJcbiAgICBmdW5jdGlvbiBOQU1FKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IsIGNvbnRleHQpe1xuICAgICAgICBpZiAoIWRlc2NyaXB0b3IpIHJldHVybjtcblxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eSwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZGVzY3JpcHRvci5lbnVtZXJhYmxlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBkZXNjcmlwdG9yLndyaXRhYmxlLFxuICAgICAgICAgICAgdmFsdWU6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIgPyBkZXNjcmlwdG9yLmluaXRpYWxpemVyLmNhbGwoY29udGV4dCkgOiB2b2lkIDAsXG4gICAgICAgIH0pO1xuICAgIH1cbiIpLGY9KDAsaS5kZWZhdWx0KSgiXG4gICAgZnVuY3Rpb24gTkFNRSh0YXJnZXQsIHByb3BlcnR5LCBkZWNvcmF0b3JzLCBkZXNjcmlwdG9yLCBjb250ZXh0KXtcbiAgICAgICAgdmFyIGRlc2MgPSB7fTtcbiAgICAgICAgT2JqZWN0WydrZScgKyAneXMnXShkZXNjcmlwdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG4gICAgICAgICAgICBkZXNjW2tleV0gPSBkZXNjcmlwdG9yW2tleV07XG4gICAgICAgIH0pO1xuICAgICAgICBkZXNjLmVudW1lcmFibGUgPSAhIWRlc2MuZW51bWVyYWJsZTtcbiAgICAgICAgZGVzYy5jb25maWd1cmFibGUgPSAhIWRlc2MuY29uZmlndXJhYmxlO1xuICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBkZXNjIHx8IGRlc2MuaW5pdGlhbGl6ZXIpe1xuICAgICAgICAgICAgZGVzYy53cml0YWJsZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjID0gZGVjb3JhdG9ycy5zbGljZSgpLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24oZGVzYywgZGVjb3JhdG9yKXtcbiAgICAgICAgICAgIHJldHVybiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eSwgZGVzYykgfHwgZGVzYztcbiAgICAgICAgfSwgZGVzYyk7XG5cbiAgICAgICAgaWYgKGNvbnRleHQgJiYgZGVzYy5pbml0aWFsaXplciAhPT0gdm9pZCAwKXtcbiAgICAgICAgICAgIGRlc2MudmFsdWUgPSBkZXNjLmluaXRpYWxpemVyID8gZGVzYy5pbml0aWFsaXplci5jYWxsKGNvbnRleHQpIDogdm9pZCAwO1xuICAgICAgICAgICAgZGVzYy5pbml0aWFsaXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjLmluaXRpYWxpemVyID09PSB2b2lkIDApe1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGhhY2sgdG8gYXZvaWQgdGhpcyBiZWluZyBwcm9jZXNzZWQgYnkgJ3RyYW5zZm9ybS1ydW50aW1lJy5cbiAgICAgICAgICAgIC8vIFNlZSBpc3N1ZSAjOS5cbiAgICAgICAgICAgIE9iamVjdFsnZGVmaW5lJyArICdQcm9wZXJ0eSddKHRhcmdldCwgcHJvcGVydHksIGRlc2MpO1xuICAgICAgICAgICAgZGVzYyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGVzYztcbiAgICB9XG4iKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9dC5fZ3Vlc3NFeGVjdXRpb25TdGF0dXNSZWxhdGl2ZVRvKGUpO3JldHVybiJiZWZvcmUiPT09cj8iaW5zaWRlIjoiYWZ0ZXIiPT09cj8ib3V0c2lkZSI6Im1heWJlIn1mdW5jdGlvbiBpKGUsdCl7cmV0dXJuIG8uY2FsbEV4cHJlc3Npb24odC5hZGRIZWxwZXIoInRlbXBvcmFsUmVmIiksW2Usby5zdHJpbmdMaXRlcmFsKGUubmFtZSksdC5hZGRIZWxwZXIoInRlbXBvcmFsVW5kZWZpbmVkIildKX1mdW5jdGlvbiBzKGUsdCxyKXt2YXIgbj1yLmxldFJlZmVyZW5jZXNbZS5uYW1lXTtyZXR1cm4hIW4mJnQuZ2V0QmluZGluZ0lkZW50aWZpZXIoZS5uYW1lKT09PW59dC5fX2VzTW9kdWxlPSEwLHQudmlzaXRvcj12b2lkIDA7dmFyIGE9cigxKSxvPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSk7dC52aXNpdG9yPXtSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZmlsZS5vcHRzLnRkeil7dmFyIHI9ZS5ub2RlLGE9ZS5wYXJlbnQsdT1lLnNjb3BlO2lmKCFlLnBhcmVudFBhdGguaXNGb3Ioe2xlZnQ6cn0pJiZzKHIsdSx0KSl7dmFyIGw9dS5nZXRCaW5kaW5nKHIubmFtZSkucGF0aCxjPW4oZSxsKTtpZigiaW5zaWRlIiE9PWMpaWYoIm1heWJlIj09PWMpe3ZhciBmPWkocix0LmZpbGUpO2lmKGwucGFyZW50Ll90ZHpUaGlzPSEwLGUuc2tpcCgpLGUucGFyZW50UGF0aC5pc1VwZGF0ZUV4cHJlc3Npb24oKSl7aWYoYS5faWdub3JlQmxvY2tTY29waW5nVERaKXJldHVybjtlLnBhcmVudFBhdGgucmVwbGFjZVdpdGgoby5zZXF1ZW5jZUV4cHJlc3Npb24oW2YsYV0pKX1lbHNlIGUucmVwbGFjZVdpdGgoZil9ZWxzZSJvdXRzaWRlIj09PWMmJmUucmVwbGFjZVdpdGgoby50aHJvd1N0YXRlbWVudChvLmluaGVyaXRzKG8ubmV3RXhwcmVzc2lvbihvLmlkZW50aWZpZXIoIlJlZmVyZW5jZUVycm9yIiksW28uc3RyaW5nTGl0ZXJhbChyLm5hbWUrIiBpcyBub3QgZGVmaW5lZCAtIHRlbXBvcmFsIGRlYWQgem9uZSIpXSkscikpKX19fSxBc3NpZ25tZW50RXhwcmVzc2lvbjp7ZXhpdDpmdW5jdGlvbihlLHQpe2lmKHRoaXMuZmlsZS5vcHRzLnRkeil7dmFyIHI9ZS5ub2RlO2lmKCFyLl9pZ25vcmVCbG9ja1Njb3BpbmdURFope3ZhciBuPVtdLGE9ZS5nZXRCaW5kaW5nSWRlbnRpZmllcnMoKTtmb3IodmFyIHUgaW4gYSl7dmFyIGw9YVt1XTtzKGwsZS5zY29wZSx0KSYmbi5wdXNoKGkobCx0LmZpbGUpKX1uLmxlbmd0aCYmKHIuX2lnbm9yZUJsb2NrU2NvcGluZ1REWj0hMCxuLnB1c2gociksZS5yZXBsYWNlV2l0aE11bHRpcGxlKG4ubWFwKG8uZXhwcmVzc2lvblN0YXRlbWVudCkpKX19fX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDMpLHM9bihpKSxhPXIoNDIpLG89bihhKSx1PXIoNDEpLGw9bih1KSxjPXIoNDApLGY9bihjKSxwPXIoMjA3KSxkPW4ocCksaD1yKDEpLG09ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSx5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7dmFyIHI9KDAsby5kZWZhdWx0KSh0aGlzLGUuYXBwbHkodGhpcyxhcmd1bWVudHMpKTtyZXR1cm4gci5pc0xvb3NlPSEwLHJ9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLHQucHJvdG90eXBlLl9wcm9jZXNzTWV0aG9kPWZ1bmN0aW9uKGUsdCl7aWYoIWUuZGVjb3JhdG9ycyl7dmFyIHI9dGhpcy5jbGFzc1JlZjtlLnN0YXRpY3x8KHI9bS5tZW1iZXJFeHByZXNzaW9uKHIsbS5pZGVudGlmaWVyKCJwcm90b3R5cGUiKSkpO3ZhciBuPW0ubWVtYmVyRXhwcmVzc2lvbihyLGUua2V5LGUuY29tcHV0ZWR8fG0uaXNMaXRlcmFsKGUua2V5KSksaT1tLmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLGUucGFyYW1zLGUuYm9keSxlLmdlbmVyYXRvcixlLmFzeW5jKTtpLnJldHVyblR5cGU9ZS5yZXR1cm5UeXBlO3ZhciBzPW0udG9Db21wdXRlZEtleShlLGUua2V5KTttLmlzU3RyaW5nTGl0ZXJhbChzKSYmKGk9KDAsZi5kZWZhdWx0KSh7bm9kZTppLGlkOnMsc2NvcGU6dH0pKTt2YXIgYT1tLmV4cHJlc3Npb25TdGF0ZW1lbnQobS5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsbixpKSk7cmV0dXJuIG0uaW5oZXJpdHNDb21tZW50cyhhLGUpLHRoaXMuYm9keS5wdXNoKGEpLCEwfX0sdH0oZC5kZWZhdWx0KTt0LmRlZmF1bHQ9eSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXM7cmV0dXJue3Zpc2l0b3I6e0JpbmFyeUV4cHJlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ub2RlOyJpbnN0YW5jZW9mIj09PXIub3BlcmF0b3ImJmUucmVwbGFjZVdpdGgodC5jYWxsRXhwcmVzc2lvbih0aGlzLmFkZEhlbHBlcigiaW5zdGFuY2VvZiIpLFtyLmxlZnQsci5yaWdodF0pKX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe2Zvcih2YXIgdD1lLnBhcmFtcyxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLG8uZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aTtpZighbS5pc0lkZW50aWZpZXIocykpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcyhlLHQpe2lmKCFlLmhhc093bkJpbmRpbmcodC5uYW1lKSlyZXR1cm4hMDt2YXIgcj1lLmdldE93bkJpbmRpbmcodC5uYW1lKSxuPXIua2luZDtyZXR1cm4icGFyYW0iPT09bnx8ImxvY2FsIj09PW59dC5fX2VzTW9kdWxlPSEwLHQudmlzaXRvcj12b2lkIDA7dmFyIGE9cigyKSxvPW4oYSksdT1yKDE4OSksbD1uKHUpLGM9cigzMTcpLGY9bihjKSxwPXIoNCksZD1uKHApLGg9cigxKSxtPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oaCkseT0oMCxkLmRlZmF1bHQpKCJcbiAgbGV0IFZBUklBQkxFX05BTUUgPVxuICAgIEFSR1VNRU5UUy5sZW5ndGggPiBBUkdVTUVOVF9LRVkgJiYgQVJHVU1FTlRTW0FSR1VNRU5UX0tFWV0gIT09IHVuZGVmaW5lZCA/XG4gICAgICBBUkdVTUVOVFNbQVJHVU1FTlRfS0VZXVxuICAgIDpcbiAgICAgIERFRkFVTFRfVkFMVUU7XG4iKSx2PSgwLGQuZGVmYXVsdCkoIlxuICBsZXQgJDAgPSAkMVskMl07XG4iKSxnPXtSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlLHQpe3ZhciByPWUuc2NvcGUsbj1lLm5vZGU7ImV2YWwiIT09bi5uYW1lJiZzKHIsbil8fCh0LmlpZmU9ITAsZS5zdG9wKCkpfSxTY29wZTpmdW5jdGlvbihlKXtlLnNraXAoKX19O3QudmlzaXRvcj17RnVuY3Rpb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlLHI9ZS5zY29wZTtpZihpKHQpKXtlLmVuc3VyZUJsb2NrKCk7dmFyIG49e2lpZmU6ITEsc2NvcGU6cn0sYT1bXSxvPW0uaWRlbnRpZmllcigiYXJndW1lbnRzIik7by5fc2hhZG93ZWRGdW5jdGlvbkxpdGVyYWw9ZTtmb3IodmFyIHU9KDAsbC5kZWZhdWx0KSh0KSxjPWUuZ2V0KCJwYXJhbXMiKSxwPTA7cDxjLmxlbmd0aDtwKyspe3ZhciBkPWNbcF07aWYoZC5pc0Fzc2lnbm1lbnRQYXR0ZXJuKCkpe3ZhciBoPWQuZ2V0KCJsZWZ0IiksYj1kLmdldCgicmlnaHQiKTtpZihwPj11fHxoLmlzUGF0dGVybigpKXt2YXIgRT1yLmdlbmVyYXRlVWlkSWRlbnRpZmllcigieCIpO0UuX2lzRGVmYXVsdFBsYWNlaG9sZGVyPSEwLHQucGFyYW1zW3BdPUV9ZWxzZSB0LnBhcmFtc1twXT1oLm5vZGU7bi5paWZlfHwoYi5pc0lkZW50aWZpZXIoKSYmIXMocixiLm5vZGUpP24uaWlmZT0hMDpiLnRyYXZlcnNlKGcsbikpLGZ1bmN0aW9uKGUscixuKXt2YXIgaT15KHtWQVJJQUJMRV9OQU1FOmUsREVGQVVMVF9WQUxVRTpyLEFSR1VNRU5UX0tFWTptLm51bWVyaWNMaXRlcmFsKG4pLEFSR1VNRU5UUzpvfSk7aS5fYmxvY2tIb2lzdD10LnBhcmFtcy5sZW5ndGgtbixhLnB1c2goaSl9KGgubm9kZSxiLm5vZGUscCl9ZWxzZSBuLmlpZmV8fGQuaXNJZGVudGlmaWVyKCl8fGQudHJhdmVyc2UoZyxuKX1mb3IodmFyIHg9dSsxO3g8dC5wYXJhbXMubGVuZ3RoO3grKyl7dmFyIEE9dC5wYXJhbXNbeF07aWYoIUEuX2lzRGVmYXVsdFBsYWNlaG9sZGVyKXt2YXIgUz12KEEsbyxtLm51bWVyaWNMaXRlcmFsKHgpKTtTLl9ibG9ja0hvaXN0PXQucGFyYW1zLmxlbmd0aC14LGEucHVzaChTKX19dC5wYXJhbXM9dC5wYXJhbXMuc2xpY2UoMCx1KSxuLmlpZmU/KGEucHVzaCgoMCxmLmRlZmF1bHQpKGUscikpLGUuc2V0KCJib2R5IixtLmJsb2NrU3RhdGVtZW50KGEpKSk6ZS5nZXQoImJvZHkiKS51bnNoaWZ0Q29udGFpbmVyKCJib2R5IixhKX19fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC52aXNpdG9yPXZvaWQgMDt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKTt0LnZpc2l0b3I9e0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLmdldCgicGFyYW1zIikscj1pLmlzUmVzdEVsZW1lbnQodFt0Lmxlbmd0aC0xXSk/MTowLG49dC5sZW5ndGgtcixzPTA7czxuO3MrKyl7dmFyIGE9dFtzXTtpZihhLmlzQXJyYXlQYXR0ZXJuKCl8fGEuaXNPYmplY3RQYXR0ZXJuKCkpe3ZhciBvPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJyZWYiKSx1PWkudmFyaWFibGVEZWNsYXJhdGlvbigibGV0IixbaS52YXJpYWJsZURlY2xhcmF0b3IoYS5ub2RlLG8pXSk7dS5fYmxvY2tIb2lzdD1uLXMsZS5lbnN1cmVCbG9jaygpLGUuZ2V0KCJib2R5IikudW5zaGlmdENvbnRhaW5lcigiYm9keSIsdSksYS5yZXBsYWNlV2l0aChvKX19fX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXtyZXR1cm4gcC5pc1Jlc3RFbGVtZW50KGUucGFyYW1zW2UucGFyYW1zLmxlbmd0aC0xXSl9ZnVuY3Rpb24gcyhlLHQscil7dmFyIG49dm9pZCAwO249cC5pc051bWVyaWNMaXRlcmFsKGUucGFyZW50LnByb3BlcnR5KT9wLm51bWVyaWNMaXRlcmFsKGUucGFyZW50LnByb3BlcnR5LnZhbHVlK3IpOjA9PT1yP2UucGFyZW50LnByb3BlcnR5OnAuYmluYXJ5RXhwcmVzc2lvbigiKyIsZS5wYXJlbnQucHJvcGVydHkscC5udW1lcmljTGl0ZXJhbChyKSk7dmFyIGk9ZS5zY29wZTtpZihpLmlzUHVyZShuKSllLnBhcmVudFBhdGgucmVwbGFjZVdpdGgoaCh7QVJHVU1FTlRTOnQsSU5ERVg6bn0pKTtlbHNle3ZhciBzPWkuZ2VuZXJhdGVVaWRJZGVudGlmaWVyQmFzZWRPbk5vZGUobik7aS5wdXNoKHtpZDpzLGtpbmQ6InZhciJ9KSxlLnBhcmVudFBhdGgucmVwbGFjZVdpdGgobSh7QVJHVU1FTlRTOnQsSU5ERVg6bixSRUY6c30pKX19ZnVuY3Rpb24gYShlLHQscil7cj9lLnBhcmVudFBhdGgucmVwbGFjZVdpdGgoeSh7QVJHVU1FTlRTOnQsT0ZGU0VUOnAubnVtZXJpY0xpdGVyYWwocil9KSk6ZS5yZXBsYWNlV2l0aCh0KX10Ll9fZXNNb2R1bGU9ITAsdC52aXNpdG9yPXZvaWQgMDt2YXIgbz1yKDIpLHU9bihvKSxsPXIoNCksYz1uKGwpLGY9cigxKSxwPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oZiksZD0oMCxjLmRlZmF1bHQpKCJcbiAgZm9yICh2YXIgTEVOID0gQVJHVU1FTlRTLmxlbmd0aCxcbiAgICAgICAgICAgQVJSQVkgPSBBcnJheShBUlJBWV9MRU4pLFxuICAgICAgICAgICBLRVkgPSBTVEFSVDtcbiAgICAgICBLRVkgPCBMRU47XG4gICAgICAgS0VZKyspIHtcbiAgICBBUlJBWVtBUlJBWV9LRVldID0gQVJHVU1FTlRTW0tFWV07XG4gIH1cbiIpLGg9KDAsYy5kZWZhdWx0KSgiXG4gIEFSR1VNRU5UUy5sZW5ndGggPD0gSU5ERVggPyB1bmRlZmluZWQgOiBBUkdVTUVOVFNbSU5ERVhdXG4iKSxtPSgwLGMuZGVmYXVsdCkoIlxuICBSRUYgPSBJTkRFWCwgQVJHVU1FTlRTLmxlbmd0aCA8PSBSRUYgPyB1bmRlZmluZWQgOiBBUkdVTUVOVFNbUkVGXVxuIikseT0oMCxjLmRlZmF1bHQpKCJcbiAgQVJHVU1FTlRTLmxlbmd0aCA8PSBPRkZTRVQgPyAwIDogQVJHVU1FTlRTLmxlbmd0aCAtIE9GRlNFVFxuIiksdj17U2NvcGU6ZnVuY3Rpb24oZSx0KXtlLnNjb3BlLmJpbmRpbmdJZGVudGlmaWVyRXF1YWxzKHQubmFtZSx0Lm91dGVyQmluZGluZyl8fGUuc2tpcCgpfSxGbG93OmZ1bmN0aW9uKGUpe2UuaXNUeXBlQ2FzdEV4cHJlc3Npb24oKXx8ZS5za2lwKCl9LCJGdW5jdGlvbnxDbGFzc1Byb3BlcnR5IjpmdW5jdGlvbihlLHQpe3ZhciByPXQubm9PcHRpbWlzZTt0Lm5vT3B0aW1pc2U9ITAsZS50cmF2ZXJzZSh2LHQpLHQubm9PcHRpbWlzZT1yLGUuc2tpcCgpfSxSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlLHQpe3ZhciByPWUubm9kZTtpZigiYXJndW1lbnRzIj09PXIubmFtZSYmKHQuZGVvcHRlZD0hMCksci5uYW1lPT09dC5uYW1lKWlmKHQubm9PcHRpbWlzZSl0LmRlb3B0ZWQ9ITA7ZWxzZXt2YXIgbj1lLnBhcmVudFBhdGg7aWYoInBhcmFtcyI9PT1uLmxpc3RLZXkmJm4ua2V5PHQub2Zmc2V0KXJldHVybjtpZihuLmlzTWVtYmVyRXhwcmVzc2lvbih7b2JqZWN0OnJ9KSl7dmFyIGk9bi5wYXJlbnRQYXRoLHM9IXQuZGVvcHRlZCYmIShpLmlzQXNzaWdubWVudEV4cHJlc3Npb24oKSYmbi5ub2RlPT09aS5ub2RlLmxlZnR8fGkuaXNMVmFsKCl8fGkuaXNGb3JYU3RhdGVtZW50KCl8fGkuaXNVcGRhdGVFeHByZXNzaW9uKCl8fGkuaXNVbmFyeUV4cHJlc3Npb24oe29wZXJhdG9yOiJkZWxldGUifSl8fChpLmlzQ2FsbEV4cHJlc3Npb24oKXx8aS5pc05ld0V4cHJlc3Npb24oKSkmJm4ubm9kZT09PWkubm9kZS5jYWxsZWUpO2lmKHMpaWYobi5ub2RlLmNvbXB1dGVkKXtpZihuLmdldCgicHJvcGVydHkiKS5pc0Jhc2VUeXBlKCJudW1iZXIiKSlyZXR1cm4gdm9pZCB0LmNhbmRpZGF0ZXMucHVzaCh7Y2F1c2U6ImluZGV4R2V0dGVyIixwYXRoOmV9KX1lbHNlIGlmKCJsZW5ndGgiPT09bi5ub2RlLnByb3BlcnR5Lm5hbWUpcmV0dXJuIHZvaWQgdC5jYW5kaWRhdGVzLnB1c2goe2NhdXNlOiJsZW5ndGhHZXR0ZXIiLHBhdGg6ZX0pfWlmKDA9PT10Lm9mZnNldCYmbi5pc1NwcmVhZEVsZW1lbnQoKSl7dmFyIGE9bi5wYXJlbnRQYXRoO2lmKGEuaXNDYWxsRXhwcmVzc2lvbigpJiYxPT09YS5ub2RlLmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHZvaWQgdC5jYW5kaWRhdGVzLnB1c2goe2NhdXNlOiJhcmdTcHJlYWQiLHBhdGg6ZX0pfXQucmVmZXJlbmNlcy5wdXNoKGUpfX0sQmluZGluZ0lkZW50aWZpZXI6ZnVuY3Rpb24oZSx0KXtlLm5vZGUubmFtZT09PXQubmFtZSYmKHQuZGVvcHRlZD0hMCl9fTt0LnZpc2l0b3I9e0Z1bmN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZSxyPWUuc2NvcGU7aWYoaSh0KSl7dmFyIG49dC5wYXJhbXMucG9wKCkuYXJndW1lbnQsbz1wLmlkZW50aWZpZXIoImFyZ3VtZW50cyIpO28uX3NoYWRvd2VkRnVuY3Rpb25MaXRlcmFsPWU7dmFyIGw9e3JlZmVyZW5jZXM6W10sb2Zmc2V0OnQucGFyYW1zLmxlbmd0aCxhcmd1bWVudHNOb2RlOm8sb3V0ZXJCaW5kaW5nOnIuZ2V0QmluZGluZ0lkZW50aWZpZXIobi5uYW1lKSxjYW5kaWRhdGVzOltdLG5hbWU6bi5uYW1lLGRlb3B0ZWQ6ITF9O2lmKGUudHJhdmVyc2UodixsKSxsLmRlb3B0ZWR8fGwucmVmZXJlbmNlcy5sZW5ndGgpe2wucmVmZXJlbmNlcz1sLnJlZmVyZW5jZXMuY29uY2F0KGwuY2FuZGlkYXRlcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGF0aH0pKSxsLmRlb3B0ZWQ9bC5kZW9wdGVkfHwhIXQuc2hhZG93O3ZhciBjPXAubnVtZXJpY0xpdGVyYWwodC5wYXJhbXMubGVuZ3RoKSxmPXIuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJrZXkiKSxoPXIuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJsZW4iKSxtPWYseT1oO3QucGFyYW1zLmxlbmd0aCYmKG09cC5iaW5hcnlFeHByZXNzaW9uKCItIixmLGMpLHk9cC5jb25kaXRpb25hbEV4cHJlc3Npb24ocC5iaW5hcnlFeHByZXNzaW9uKCI+IixoLGMpLHAuYmluYXJ5RXhwcmVzc2lvbigiLSIsaCxjKSxwLm51bWVyaWNMaXRlcmFsKDApKSk7dmFyIGc9ZCh7QVJHVU1FTlRTOm8sQVJSQVlfS0VZOm0sQVJSQVlfTEVOOnksU1RBUlQ6YyxBUlJBWTpuLEtFWTpmLExFTjpofSk7aWYobC5kZW9wdGVkKWcuX2Jsb2NrSG9pc3Q9dC5wYXJhbXMubGVuZ3RoKzEsdC5ib2R5LmJvZHkudW5zaGlmdChnKTtlbHNle2cuX2Jsb2NrSG9pc3Q9MTt2YXIgYj1lLmdldEVhcmxpZXN0Q29tbW9uQW5jZXN0b3JGcm9tKGwucmVmZXJlbmNlcykuZ2V0U3RhdGVtZW50UGFyZW50KCk7Yi5maW5kUGFyZW50KGZ1bmN0aW9uKGUpe2lmKCFlLmlzTG9vcCgpKXJldHVybiBlLmlzRnVuY3Rpb24oKTtiPWV9KSxiLmluc2VydEJlZm9yZShnKX19ZWxzZSBmb3IodmFyIEU9bC5jYW5kaWRhdGVzLHg9QXJyYXkuaXNBcnJheShFKSxBPTAsRT14P0U6KDAsdS5kZWZhdWx0KShFKTs7KXt2YXIgUztpZih4KXtpZihBPj1FLmxlbmd0aClicmVhaztTPUVbQSsrXX1lbHNle2lmKEE9RS5uZXh0KCksQS5kb25lKWJyZWFrO1M9QS52YWx1ZX12YXIgXz1TLEQ9Xy5wYXRoLEM9Xy5jYXVzZTtzd2l0Y2goQyl7Y2FzZSJpbmRleEdldHRlciI6cyhELG8sbC5vZmZzZXQpO2JyZWFrO2Nhc2UibGVuZ3RoR2V0dGVyIjphKEQsbyxsLm9mZnNldCk7YnJlYWs7ZGVmYXVsdDpELnJlcGxhY2VXaXRoKG8pfX19fX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7TWVtYmVyRXhwcmVzc2lvbjp7ZXhpdDpmdW5jdGlvbihlKXt2YXIgcj1lLm5vZGUsbj1yLnByb3BlcnR5O3IuY29tcHV0ZWR8fCF0LmlzSWRlbnRpZmllcihuKXx8dC5pc1ZhbGlkSWRlbnRpZmllcihuLm5hbWUpfHwoci5wcm9wZXJ0eT10LnN0cmluZ0xpdGVyYWwobi5uYW1lKSxyLmNvbXB1dGVkPSEwKX19fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7T2JqZWN0UHJvcGVydHk6e2V4aXQ6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ub2RlLG49ci5rZXk7ci5jb21wdXRlZHx8IXQuaXNJZGVudGlmaWVyKG4pfHx0LmlzVmFsaWRJZGVudGlmaWVyKG4ubmFtZSl8fChyLmtleT10LnN0cmluZ0xpdGVyYWwobi5uYW1lKSl9fX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7T2JqZWN0RXhwcmVzc2lvbjpmdW5jdGlvbihlLHIpe2Zvcih2YXIgbj1lLm5vZGUscz0hMSxvPW4ucHJvcGVydGllcyx1PUFycmF5LmlzQXJyYXkobyksbD0wLG89dT9vOigwLGkuZGVmYXVsdCkobyk7Oyl7dmFyIGM7aWYodSl7aWYobD49by5sZW5ndGgpYnJlYWs7Yz1vW2wrK119ZWxzZXtpZihsPW8ubmV4dCgpLGwuZG9uZSlicmVhaztjPWwudmFsdWV9dmFyIGY9YztpZigiZ2V0Ij09PWYua2luZHx8InNldCI9PT1mLmtpbmQpe3M9ITA7YnJlYWt9fWlmKHMpe3ZhciBwPXt9O24ucHJvcGVydGllcz1uLnByb3BlcnRpZXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiEhKGUuY29tcHV0ZWR8fCJnZXQiIT09ZS5raW5kJiYic2V0IiE9PWUua2luZCl8fChhLnB1c2gocCxlLG51bGwsciksITEpfSksZS5yZXBsYWNlV2l0aCh0LmNhbGxFeHByZXNzaW9uKHQubWVtYmVyRXhwcmVzc2lvbih0LmlkZW50aWZpZXIoIk9iamVjdCIpLHQuaWRlbnRpZmllcigiZGVmaW5lUHJvcGVydGllcyIpKSxbbixhLnRvRGVmaW5lT2JqZWN0KHApXSkpfX19fX07dmFyIHM9cigxODgpLGE9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyc2Uscj1lLnRyYXZlcnNlO3JldHVybnt2aXNpdG9yOntDYWxsRXhwcmVzc2lvbjpmdW5jdGlvbihlKXtpZihlLmdldCgiY2FsbGVlIikuaXNJZGVudGlmaWVyKHtuYW1lOiJldmFsIn0pJiYxPT09ZS5ub2RlLmFyZ3VtZW50cy5sZW5ndGgpe3ZhciBuPWUuZ2V0KCJhcmd1bWVudHMiKVswXS5ldmFsdWF0ZSgpO2lmKCFuLmNvbmZpZGVudClyZXR1cm47dmFyIGk9bi52YWx1ZTtpZigic3RyaW5nIiE9dHlwZW9mIGkpcmV0dXJuO3ZhciBzPXQoaSk7cmV0dXJuIHIucmVtb3ZlUHJvcGVydGllcyhzKSxzLnByb2dyYW19fX19fSxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2UuYWRkQ29tbWVudCgidHJhaWxpbmciLG4oZSx0KSksZS5yZXBsYWNlV2l0aChpLm5vb3AoKSl9ZnVuY3Rpb24gbihlLHQpe3ZhciByPWUuZ2V0U291cmNlKCkucmVwbGFjZSgvXCotXC8vZywiKi1FU0NBUEVELyIpLnJlcGxhY2UoL1wqXC8vZywiKi0vIik7cmV0dXJuIHQmJnQub3B0aW9uYWwmJihyPSI/IityKSwiOiIhPT1yWzBdJiYocj0iOjogIityKSxyfXZhciBpPWUudHlwZXM7cmV0dXJue2luaGVyaXRzOnIoMTI2KSx2aXNpdG9yOntUeXBlQ2FzdEV4cHJlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO2UuZ2V0KCJleHByZXNzaW9uIikuYWRkQ29tbWVudCgidHJhaWxpbmciLG4oZS5nZXQoInR5cGVBbm5vdGF0aW9uIikpKSxlLnJlcGxhY2VXaXRoKGkucGFyZW50aGVzaXplZEV4cHJlc3Npb24odC5leHByZXNzaW9uKSl9LElkZW50aWZpZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO3Qub3B0aW9uYWwmJiF0LnR5cGVBbm5vdGF0aW9uJiZlLmFkZENvbW1lbnQoInRyYWlsaW5nIiwiOjogPyIpfSxBc3NpZ25tZW50UGF0dGVybjp7ZXhpdDpmdW5jdGlvbihlKXtlLm5vZGUubGVmdC5vcHRpb25hbD0hMX19LEZ1bmN0aW9uOntleGl0OmZ1bmN0aW9uKGUpe2Uubm9kZS5wYXJhbXMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5vcHRpb25hbD0hMX0pfX0sQ2xhc3NQcm9wZXJ0eTpmdW5jdGlvbihlKXt2YXIgcj1lLm5vZGUsbj1lLnBhcmVudDtyLnZhbHVlfHx0KGUsbil9LCJFeHBvcnROYW1lZERlY2xhcmF0aW9ufEZsb3ciOmZ1bmN0aW9uKGUpe3ZhciByPWUubm9kZSxuPWUucGFyZW50O2kuaXNFeHBvcnROYW1lZERlY2xhcmF0aW9uKHIpJiYhaS5pc0Zsb3coci5kZWNsYXJhdGlvbil8fHQoZSxuKX0sSW1wb3J0RGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7dmFyIHI9ZS5ub2RlLG49ZS5wYXJlbnQ7aS5pc0ltcG9ydERlY2xhcmF0aW9uKHIpJiYidHlwZSIhPT1yLmltcG9ydEtpbmQmJiJ0eXBlb2YiIT09ci5pbXBvcnRLaW5kfHx0KGUsbil9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50eXBlcztyZXR1cm57dmlzaXRvcjp7RnVuY3Rpb25FeHByZXNzaW9uOntleGl0OmZ1bmN0aW9uKGUpe3ZhciByPWUubm9kZTtyLmlkJiYoci5faWdub3JlVXNlcldoaXRlc3BhY2U9ITAsZS5yZXBsYWNlV2l0aCh0LmNhbGxFeHByZXNzaW9uKHQuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsW10sdC5ibG9ja1N0YXRlbWVudChbdC50b1N0YXRlbWVudChyKSx0LnJldHVyblN0YXRlbWVudChyLmlkKV0pKSxbXSkpKX19fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dmlzaXRvcjp7Q2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXtlLmdldCgiY2FsbGVlIikubWF0Y2hlc1BhdHRlcm4oIk9iamVjdC5hc3NpZ24iKSYmKGUubm9kZS5jYWxsZWU9dC5hZGRIZWxwZXIoImV4dGVuZHMiKSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dmlzaXRvcjp7Q2FsbEV4cHJlc3Npb246ZnVuY3Rpb24oZSx0KXtlLmdldCgiY2FsbGVlIikubWF0Y2hlc1BhdHRlcm4oIk9iamVjdC5zZXRQcm90b3R5cGVPZiIpJiYoZS5ub2RlLmNhbGxlZT10LmFkZEhlbHBlcigiZGVmYXVsdHMiKSl9fX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMikscz1uKGkpO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3JldHVybiBpLmlzTGl0ZXJhbChpLnRvQ29tcHV0ZWRLZXkoZSxlLmtleSkse3ZhbHVlOiJfX3Byb3RvX18ifSl9ZnVuY3Rpb24gcihlKXt2YXIgdD1lLmxlZnQ7cmV0dXJuIGkuaXNNZW1iZXJFeHByZXNzaW9uKHQpJiZpLmlzTGl0ZXJhbChpLnRvQ29tcHV0ZWRLZXkodCx0LnByb3BlcnR5KSx7dmFsdWU6Il9fcHJvdG9fXyJ9KX1mdW5jdGlvbiBuKGUsdCxyKXtyZXR1cm4gaS5leHByZXNzaW9uU3RhdGVtZW50KGkuY2FsbEV4cHJlc3Npb24oci5hZGRIZWxwZXIoImRlZmF1bHRzIiksW3QsZS5yaWdodF0pKX12YXIgaT1lLnR5cGVzO3JldHVybnt2aXNpdG9yOntBc3NpZ25tZW50RXhwcmVzc2lvbjpmdW5jdGlvbihlLHQpe2lmKHIoZS5ub2RlKSl7dmFyIHM9W10sYT1lLm5vZGUubGVmdC5vYmplY3Qsbz1lLnNjb3BlLm1heWJlR2VuZXJhdGVNZW1vaXNlZChhKTtvJiZzLnB1c2goaS5leHByZXNzaW9uU3RhdGVtZW50KGkuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLG8sYSkpKSxzLnB1c2gobihlLm5vZGUsb3x8YSx0KSksbyYmcy5wdXNoKG8pLGUucmVwbGFjZVdpdGhNdWx0aXBsZShzKX19LEV4cHJlc3Npb25TdGF0ZW1lbnQ6ZnVuY3Rpb24oZSx0KXt2YXIgcz1lLm5vZGUuZXhwcmVzc2lvbjtpLmlzQXNzaWdubWVudEV4cHJlc3Npb24ocyx7b3BlcmF0b3I6Ij0ifSkmJnIocykmJmUucmVwbGFjZVdpdGgobihzLHMubGVmdC5vYmplY3QsdCkpfSxPYmplY3RFeHByZXNzaW9uOmZ1bmN0aW9uKGUscil7Zm9yKHZhciBuPXZvaWQgMCxhPWUubm9kZSx1PWEucHJvcGVydGllcyxsPUFycmF5LmlzQXJyYXkodSksYz0wLHU9bD91OigwLHMuZGVmYXVsdCkodSk7Oyl7dmFyIGY7aWYobCl7aWYoYz49dS5sZW5ndGgpYnJlYWs7Zj11W2MrK119ZWxzZXtpZihjPXUubmV4dCgpLGMuZG9uZSlicmVhaztmPWMudmFsdWV9dmFyIHA9Zjt0KHApJiYobj1wLnZhbHVlLCgwLG8uZGVmYXVsdCkoYS5wcm9wZXJ0aWVzLHApKX1pZihuKXt2YXIgZD1baS5vYmplY3RFeHByZXNzaW9uKFtdKSxuXTthLnByb3BlcnRpZXMubGVuZ3RoJiZkLnB1c2goYSksZS5yZXBsYWNlV2l0aChpLmNhbGxFeHByZXNzaW9uKHIuYWRkSGVscGVyKCJleHRlbmRzIiksZCkpfX19fX07dmFyIGE9cigyNzcpLG89bihhKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDExKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXMscj17ZW50ZXI6ZnVuY3Rpb24oZSxyKXt2YXIgbj1mdW5jdGlvbigpe3IuaXNJbW11dGFibGU9ITEsZS5zdG9wKCl9O2lmKGUuaXNKU1hDbG9zaW5nRWxlbWVudCgpKXJldHVybiB2b2lkIGUuc2tpcCgpO2lmKGUuaXNKU1hJZGVudGlmaWVyKHtuYW1lOiJyZWYifSkmJmUucGFyZW50UGF0aC5pc0pTWEF0dHJpYnV0ZSh7bmFtZTplLm5vZGV9KSlyZXR1cm4gbigpO2lmKCEoZS5pc0pTWElkZW50aWZpZXIoKXx8ZS5pc0lkZW50aWZpZXIoKXx8ZS5pc0pTWE1lbWJlckV4cHJlc3Npb24oKXx8ZS5pc0ltbXV0YWJsZSgpKSl7aWYoZS5pc1B1cmUoKSl7dmFyIHM9ZS5ldmFsdWF0ZSgpO2lmKHMuY29uZmlkZW50KXt2YXIgYT1zLnZhbHVlO2lmKCEoYSYmIm9iamVjdCI9PT0odm9pZCAwPT09YT8idW5kZWZpbmVkIjooMCxpLmRlZmF1bHQpKGEpKXx8ImZ1bmN0aW9uIj09dHlwZW9mIGEpKXJldHVybn1lbHNlIGlmKHQuaXNJZGVudGlmaWVyKHMuZGVvcHQpKXJldHVybn1uKCl9fX07cmV0dXJue3Zpc2l0b3I6e0pTWEVsZW1lbnQ6ZnVuY3Rpb24oZSl7aWYoIWUubm9kZS5faG9pc3RlZCl7dmFyIHQ9e2lzSW1tdXRhYmxlOiEwfTtlLnRyYXZlcnNlKHIsdCksdC5pc0ltbXV0YWJsZT9lLmhvaXN0KCk6ZS5ub2RlLl9ob2lzdGVkPSEwfX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITA7dmFyIG49cigyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07aWYocy5pc0pTWFNwcmVhZEF0dHJpYnV0ZShuKSlyZXR1cm4hMDtpZihyKG4sInJlZiIpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4gcy5pc0pTWEF0dHJpYnV0ZShlKSYmcy5pc0pTWElkZW50aWZpZXIoZS5uYW1lLHtuYW1lOnR9KX1mdW5jdGlvbiBuKGUpe3ZhciB0PWUudmFsdWU7cmV0dXJuIHQ/KHMuaXNKU1hFeHByZXNzaW9uQ29udGFpbmVyKHQpJiYodD10LmV4cHJlc3Npb24pLHQpOnMuaWRlbnRpZmllcigidHJ1ZSIpfXZhciBzPWUudHlwZXM7cmV0dXJue3Zpc2l0b3I6e0pTWEVsZW1lbnQ6ZnVuY3Rpb24oZSxhKXt2YXIgbz1lLm5vZGUsdT1vLm9wZW5pbmdFbGVtZW50O2lmKCF0KHUuYXR0cmlidXRlcykpe3ZhciBsPXMub2JqZWN0RXhwcmVzc2lvbihbXSksYz1udWxsLGY9dS5uYW1lO3MuaXNKU1hJZGVudGlmaWVyKGYpJiZzLnJlYWN0LmlzQ29tcGF0VGFnKGYubmFtZSkmJihmPXMuc3RyaW5nTGl0ZXJhbChmLm5hbWUpKTtmb3IodmFyIHA9dS5hdHRyaWJ1dGVzLGQ9QXJyYXkuaXNBcnJheShwKSxoPTAscD1kP3A6KDAsaS5kZWZhdWx0KShwKTs7KXt2YXIgbTtpZihkKXtpZihoPj1wLmxlbmd0aClicmVhazttPXBbaCsrXX1lbHNle2lmKGg9cC5uZXh0KCksaC5kb25lKWJyZWFrO209aC52YWx1ZX12YXIgeT1tO2lmKHIoeSwia2V5IikpYz1uKHkpO2Vsc2V7dmFyIHY9eS5uYW1lLm5hbWUsZz1zLmlzVmFsaWRJZGVudGlmaWVyKHYpP3MuaWRlbnRpZmllcih2KTpzLnN0cmluZ0xpdGVyYWwodik7IWZ1bmN0aW9uKGUsdCxyKXtlLnB1c2gocy5vYmplY3RQcm9wZXJ0eSh0LHIpKX0obC5wcm9wZXJ0aWVzLGcsbih5KSl9fXZhciBiPVtmLGxdO2lmKGN8fG8uY2hpbGRyZW4ubGVuZ3RoKXt2YXIgRT1zLnJlYWN0LmJ1aWxkQ2hpbGRyZW4obyk7Yi5wdXNoLmFwcGx5KGIsW2N8fHMudW5hcnlFeHByZXNzaW9uKCJ2b2lkIixzLm51bWVyaWNMaXRlcmFsKDApLCEwKV0uY29uY2F0KEUpKX12YXIgeD1zLmNhbGxFeHByZXNzaW9uKGEuYWRkSGVscGVyKCJqc3giKSxiKTtlLnJlcGxhY2VXaXRoKHgpfX19fX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXM7cmV0dXJue21hbmlwdWxhdGVPcHRpb25zOmZ1bmN0aW9uKGUsdCl7dC5wbHVnaW5zLnB1c2goImpzeCIpfSx2aXNpdG9yOigwLGkuZGVmYXVsdCkoe3ByZTpmdW5jdGlvbihlKXtlLmNhbGxlZT1lLnRhZ0V4cHJ9LHBvc3Q6ZnVuY3Rpb24oZSl7dC5yZWFjdC5pc0NvbXBhdFRhZyhlLnRhZ05hbWUpJiYoZS5jYWxsPXQuY2FsbEV4cHJlc3Npb24odC5tZW1iZXJFeHByZXNzaW9uKHQubWVtYmVyRXhwcmVzc2lvbih0LmlkZW50aWZpZXIoIlJlYWN0IiksdC5pZGVudGlmaWVyKCJET00iKSksZS50YWdFeHByLHQuaXNMaXRlcmFsKGUudGFnRXhwcikpLGUuYXJncykpfX0pfX07dmFyIG49cigzNDgpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpe2lmKGEuaXNKU1hJZGVudGlmaWVyKGUpKXtpZigidGhpcyI9PT1lLm5hbWUmJmEuaXNSZWZlcmVuY2VkKGUscikpcmV0dXJuIGEudGhpc0V4cHJlc3Npb24oKTtpZighaS5kZWZhdWx0LmtleXdvcmQuaXNJZGVudGlmaWVyTmFtZUVTNihlLm5hbWUpKXJldHVybiBhLnN0cmluZ0xpdGVyYWwoZS5uYW1lKTtlLnR5cGU9IklkZW50aWZpZXIifWVsc2UgaWYoYS5pc0pTWE1lbWJlckV4cHJlc3Npb24oZSkpcmV0dXJuIGEubWVtYmVyRXhwcmVzc2lvbih0KGUub2JqZWN0LGUpLHQoZS5wcm9wZXJ0eSxlKSk7cmV0dXJuIGV9ZnVuY3Rpb24gcihlKXtyZXR1cm4gYS5pc0pTWEV4cHJlc3Npb25Db250YWluZXIoZSk/ZS5leHByZXNzaW9uOmV9ZnVuY3Rpb24gbihlKXt2YXIgdD1yKGUudmFsdWV8fGEuYm9vbGVhbkxpdGVyYWwoITApKTtyZXR1cm4gYS5pc1N0cmluZ0xpdGVyYWwodCkmJiFhLmlzSlNYRXhwcmVzc2lvbkNvbnRhaW5lcihlLnZhbHVlKSYmKHQudmFsdWU9dC52YWx1ZS5yZXBsYWNlKC9cblxzKy9nLCIgIikpLGEuaXNWYWxpZElkZW50aWZpZXIoZS5uYW1lLm5hbWUpP2UubmFtZS50eXBlPSJJZGVudGlmaWVyIjplLm5hbWU9YS5zdHJpbmdMaXRlcmFsKGUubmFtZS5uYW1lKSxhLmluaGVyaXRzKGEub2JqZWN0UHJvcGVydHkoZS5uYW1lLHQpLGUpfWZ1bmN0aW9uIHMocixuKXtyLnBhcmVudC5jaGlsZHJlbj1hLnJlYWN0LmJ1aWxkQ2hpbGRyZW4oci5wYXJlbnQpO3ZhciBpPXQoci5ub2RlLm5hbWUsci5ub2RlKSxzPVtdLHU9dm9pZCAwO2EuaXNJZGVudGlmaWVyKGkpP3U9aS5uYW1lOmEuaXNMaXRlcmFsKGkpJiYodT1pLnZhbHVlKTt2YXIgbD17dGFnRXhwcjppLHRhZ05hbWU6dSxhcmdzOnN9O2UucHJlJiZlLnByZShsLG4pO3ZhciBjPXIubm9kZS5hdHRyaWJ1dGVzO3JldHVybiBjPWMubGVuZ3RoP28oYyxuKTphLm51bGxMaXRlcmFsKCkscy5wdXNoKGMpLGUucG9zdCYmZS5wb3N0KGwsbiksbC5jYWxsfHxhLmNhbGxFeHByZXNzaW9uKGwuY2FsbGVlLHMpfWZ1bmN0aW9uIG8oZSx0KXtmdW5jdGlvbiByKCl7aS5sZW5ndGgmJihzLnB1c2goYS5vYmplY3RFeHByZXNzaW9uKGkpKSxpPVtdKX12YXIgaT1bXSxzPVtdLG89dC5vcHRzLnVzZUJ1aWx0SW5zfHwhMTtpZigiYm9vbGVhbiIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcigidHJhbnNmb3JtLXJlYWN0LWpzeCBjdXJyZW50bHkgb25seSBhY2NlcHRzIGEgYm9vbGVhbiBvcHRpb24gZm9yIHVzZUJ1aWx0SW5zIChkZWZhdWx0cyB0byBmYWxzZSkiKTtmb3IoO2UubGVuZ3RoOyl7dmFyIHU9ZS5zaGlmdCgpO2EuaXNKU1hTcHJlYWRBdHRyaWJ1dGUodSk/KHIoKSxzLnB1c2godS5hcmd1bWVudCkpOmkucHVzaChuKHUpKX1pZihyKCksMT09PXMubGVuZ3RoKWU9c1swXTtlbHNle2EuaXNPYmplY3RFeHByZXNzaW9uKHNbMF0pfHxzLnVuc2hpZnQoYS5vYmplY3RFeHByZXNzaW9uKFtdKSk7dmFyIGw9bz9hLm1lbWJlckV4cHJlc3Npb24oYS5pZGVudGlmaWVyKCJPYmplY3QiKSxhLmlkZW50aWZpZXIoImFzc2lnbiIpKTp0LmFkZEhlbHBlcigiZXh0ZW5kcyIpO2U9YS5jYWxsRXhwcmVzc2lvbihsLHMpfXJldHVybiBlfXZhciB1PXt9O3JldHVybiB1LkpTWE5hbWVzcGFjZWROYW1lPWZ1bmN0aW9uKGUpe3Rocm93IGUuYnVpbGRDb2RlRnJhbWVFcnJvcigiTmFtZXNwYWNlIHRhZ3MgYXJlIG5vdCBzdXBwb3J0ZWQuIFJlYWN0SlNYIGlzIG5vdCBYTUwuIil9LHUuSlNYRWxlbWVudD17ZXhpdDpmdW5jdGlvbihlLHQpe3ZhciByPXMoZS5nZXQoIm9wZW5pbmdFbGVtZW50IiksdCk7ci5hcmd1bWVudHM9ci5hcmd1bWVudHMuY29uY2F0KGUubm9kZS5jaGlsZHJlbiksci5hcmd1bWVudHMubGVuZ3RoPj0zJiYoci5fcHJldHR5Q2FsbD0hMCksZS5yZXBsYWNlV2l0aChhLmluaGVyaXRzKHIsZS5ub2RlKSl9fSx1fTt2YXIgbj1yKDk3KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obikscz1yKDEpLGE9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShzKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUudHlwZXM7cmV0dXJue3Zpc2l0b3I6e0pTWE9wZW5pbmdFbGVtZW50OmZ1bmN0aW9uKGUpe3ZhciBuPWUubm9kZSxpPXQualNYSWRlbnRpZmllcihyKSxzPXQudGhpc0V4cHJlc3Npb24oKTtuLmF0dHJpYnV0ZXMucHVzaCh0LmpTWEF0dHJpYnV0ZShpLHQualNYRXhwcmVzc2lvbkNvbnRhaW5lcihzKSkpfX19fTt2YXIgcj0iX19zZWxmIjtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSx0KXt2YXIgcj1udWxsIT10P2kubnVtZXJpY0xpdGVyYWwodCk6aS5udWxsTGl0ZXJhbCgpLG49aS5vYmplY3RQcm9wZXJ0eShpLmlkZW50aWZpZXIoImZpbGVOYW1lIiksZSkscz1pLm9iamVjdFByb3BlcnR5KGkuaWRlbnRpZmllcigibGluZU51bWJlciIpLHIpO3JldHVybiBpLm9iamVjdEV4cHJlc3Npb24oW24sc10pfXZhciBpPWUudHlwZXM7cmV0dXJue3Zpc2l0b3I6e0pTWE9wZW5pbmdFbGVtZW50OmZ1bmN0aW9uKGUscyl7dmFyIGE9aS5qU1hJZGVudGlmaWVyKHIpLG89ZS5jb250YWluZXIub3BlbmluZ0VsZW1lbnQubG9jO2lmKG8pe2Zvcih2YXIgdT1lLmNvbnRhaW5lci5vcGVuaW5nRWxlbWVudC5hdHRyaWJ1dGVzLGw9MDtsPHUubGVuZ3RoO2wrKyl7dmFyIGM9dVtsXS5uYW1lO2lmKGMmJmMubmFtZT09PXIpcmV0dXJufWlmKCFzLmZpbGVOYW1lSWRlbnRpZmllcil7dmFyIGY9InVua25vd24iIT09cy5maWxlLmxvZy5maWxlbmFtZT9zLmZpbGUubG9nLmZpbGVuYW1lOm51bGwscD1lLnNjb3BlLmdlbmVyYXRlVWlkSWRlbnRpZmllcihuKTtlLmh1Yi5maWxlLnNjb3BlLnB1c2goe2lkOnAsaW5pdDppLnN0cmluZ0xpdGVyYWwoZil9KSxzLmZpbGVOYW1lSWRlbnRpZmllcj1wfXZhciBkPXQocy5maWxlTmFtZUlkZW50aWZpZXIsby5zdGFydC5saW5lKTt1LnB1c2goaS5qU1hBdHRyaWJ1dGUoYSxpLmpTWEV4cHJlc3Npb25Db250YWluZXIoZCkpKX19fX19O3ZhciByPSJfX3NvdXJjZSIsbj0iX2pzeEZpbGVOYW1lIjtlLmV4cG9ydHM9dC5kZWZhdWx0fSwzNDgsZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtidWlsdGluczp7U3ltYm9sOiJzeW1ib2wiLFByb21pc2U6InByb21pc2UiLE1hcDoibWFwIixXZWFrTWFwOiJ3ZWFrLW1hcCIsU2V0OiJzZXQiLFdlYWtTZXQ6IndlYWstc2V0IixPYnNlcnZhYmxlOiJvYnNlcnZhYmxlIixzZXRJbW1lZGlhdGU6InNldC1pbW1lZGlhdGUiLGNsZWFySW1tZWRpYXRlOiJjbGVhci1pbW1lZGlhdGUiLGFzYXA6ImFzYXAifSxtZXRob2RzOntBcnJheTp7Y29uY2F0OiJhcnJheS9jb25jYXQiLGNvcHlXaXRoaW46ImFycmF5L2NvcHktd2l0aGluIixlbnRyaWVzOiJhcnJheS9lbnRyaWVzIixldmVyeToiYXJyYXkvZXZlcnkiLGZpbGw6ImFycmF5L2ZpbGwiLGZpbHRlcjoiYXJyYXkvZmlsdGVyIixmaW5kSW5kZXg6ImFycmF5L2ZpbmQtaW5kZXgiLGZpbmQ6ImFycmF5L2ZpbmQiLGZvckVhY2g6ImFycmF5L2Zvci1lYWNoIixmcm9tOiJhcnJheS9mcm9tIixpbmNsdWRlczoiYXJyYXkvaW5jbHVkZXMiLGluZGV4T2Y6ImFycmF5L2luZGV4LW9mIixqb2luOiJhcnJheS9qb2luIixrZXlzOiJhcnJheS9rZXlzIixsYXN0SW5kZXhPZjoiYXJyYXkvbGFzdC1pbmRleC1vZiIsbWFwOiJhcnJheS9tYXAiLG9mOiJhcnJheS9vZiIscG9wOiJhcnJheS9wb3AiLHB1c2g6ImFycmF5L3B1c2giLHJlZHVjZVJpZ2h0OiJhcnJheS9yZWR1Y2UtcmlnaHQiLHJlZHVjZToiYXJyYXkvcmVkdWNlIixyZXZlcnNlOiJhcnJheS9yZXZlcnNlIixzaGlmdDoiYXJyYXkvc2hpZnQiLHNsaWNlOiJhcnJheS9zbGljZSIsc29tZToiYXJyYXkvc29tZSIsc29ydDoiYXJyYXkvc29ydCIsc3BsaWNlOiJhcnJheS9zcGxpY2UiLHVuc2hpZnQ6ImFycmF5L3Vuc2hpZnQiLHZhbHVlczoiYXJyYXkvdmFsdWVzIn0sSlNPTjp7c3RyaW5naWZ5OiJqc29uL3N0cmluZ2lmeSJ9LE9iamVjdDp7YXNzaWduOiJvYmplY3QvYXNzaWduIixjcmVhdGU6Im9iamVjdC9jcmVhdGUiLGRlZmluZVByb3BlcnRpZXM6Im9iamVjdC9kZWZpbmUtcHJvcGVydGllcyIsZGVmaW5lUHJvcGVydHk6Im9iamVjdC9kZWZpbmUtcHJvcGVydHkiLGVudHJpZXM6Im9iamVjdC9lbnRyaWVzIixmcmVlemU6Im9iamVjdC9mcmVlemUiLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjoib2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciIsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yczoib2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiLGdldE93blByb3BlcnR5TmFtZXM6Im9iamVjdC9nZXQtb3duLXByb3BlcnR5LW5hbWVzIixnZXRPd25Qcm9wZXJ0eVN5bWJvbHM6Im9iamVjdC9nZXQtb3duLXByb3BlcnR5LXN5bWJvbHMiLGdldFByb3RvdHlwZU9mOiJvYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIsaXNFeHRlbnNpYmxlOiJvYmplY3QvaXMtZXh0ZW5zaWJsZSIsaXNGcm96ZW46Im9iamVjdC9pcy1mcm96ZW4iLGlzU2VhbGVkOiJvYmplY3QvaXMtc2VhbGVkIixpczoib2JqZWN0L2lzIixrZXlzOiJvYmplY3Qva2V5cyIscHJldmVudEV4dGVuc2lvbnM6Im9iamVjdC9wcmV2ZW50LWV4dGVuc2lvbnMiLHNlYWw6Im9iamVjdC9zZWFsIixzZXRQcm90b3R5cGVPZjoib2JqZWN0L3NldC1wcm90b3R5cGUtb2YiLHZhbHVlczoib2JqZWN0L3ZhbHVlcyJ9LFJlZ0V4cDp7ZXNjYXBlOiJyZWdleHAvZXNjYXBlIn0sTWF0aDp7YWNvc2g6Im1hdGgvYWNvc2giLGFzaW5oOiJtYXRoL2FzaW5oIixhdGFuaDoibWF0aC9hdGFuaCIsY2JydDoibWF0aC9jYnJ0IixjbHozMjoibWF0aC9jbHozMiIsY29zaDoibWF0aC9jb3NoIixleHBtMToibWF0aC9leHBtMSIsZnJvdW5kOiJtYXRoL2Zyb3VuZCIsaHlwb3Q6Im1hdGgvaHlwb3QiLGltdWw6Im1hdGgvaW11bCIsbG9nMTA6Im1hdGgvbG9nMTAiLGxvZzFwOiJtYXRoL2xvZzFwIixsb2cyOiJtYXRoL2xvZzIiLHNpZ246Im1hdGgvc2lnbiIsc2luaDoibWF0aC9zaW5oIix0YW5oOiJtYXRoL3RhbmgiLHRydW5jOiJtYXRoL3RydW5jIixpYWRkaDoibWF0aC9pYWRkaCIsaXN1Ymg6Im1hdGgvaXN1YmgiLGltdWxoOiJtYXRoL2ltdWxoIix1bXVsaDoibWF0aC91bXVsaCJ9LFN5bWJvbDp7Zm9yOiJzeW1ib2wvZm9yIixoYXNJbnN0YW5jZToic3ltYm9sL2hhcy1pbnN0YW5jZSIsaXNDb25jYXRTcHJlYWRhYmxlOiJzeW1ib2wvaXMtY29uY2F0LXNwcmVhZGFibGUiLGl0ZXJhdG9yOiJzeW1ib2wvaXRlcmF0b3IiLGtleUZvcjoic3ltYm9sL2tleS1mb3IiLG1hdGNoOiJzeW1ib2wvbWF0Y2giLHJlcGxhY2U6InN5bWJvbC9yZXBsYWNlIixzZWFyY2g6InN5bWJvbC9zZWFyY2giLHNwZWNpZXM6InN5bWJvbC9zcGVjaWVzIixzcGxpdDoic3ltYm9sL3NwbGl0Iix0b1ByaW1pdGl2ZToic3ltYm9sL3RvLXByaW1pdGl2ZSIsdG9TdHJpbmdUYWc6InN5bWJvbC90by1zdHJpbmctdGFnIix1bnNjb3BhYmxlczoic3ltYm9sL3Vuc2NvcGFibGVzIn0sU3RyaW5nOnthdDoic3RyaW5nL2F0Iixjb2RlUG9pbnRBdDoic3RyaW5nL2NvZGUtcG9pbnQtYXQiLGVuZHNXaXRoOiJzdHJpbmcvZW5kcy13aXRoIixmcm9tQ29kZVBvaW50OiJzdHJpbmcvZnJvbS1jb2RlLXBvaW50IixpbmNsdWRlczoic3RyaW5nL2luY2x1ZGVzIixtYXRjaEFsbDoic3RyaW5nL21hdGNoLWFsbCIscGFkTGVmdDoic3RyaW5nL3BhZC1sZWZ0IixwYWRSaWdodDoic3RyaW5nL3BhZC1yaWdodCIscGFkU3RhcnQ6InN0cmluZy9wYWQtc3RhcnQiLHBhZEVuZDoic3RyaW5nL3BhZC1lbmQiLHJhdzoic3RyaW5nL3JhdyIscmVwZWF0OiJzdHJpbmcvcmVwZWF0IixzdGFydHNXaXRoOiJzdHJpbmcvc3RhcnRzLXdpdGgiLHRyaW06InN0cmluZy90cmltIix0cmltTGVmdDoic3RyaW5nL3RyaW0tbGVmdCIsdHJpbVJpZ2h0OiJzdHJpbmcvdHJpbS1yaWdodCIsdHJpbVN0YXJ0OiJzdHJpbmcvdHJpbS1zdGFydCIsdHJpbUVuZDoic3RyaW5nL3RyaW0tZW5kIn0sTnVtYmVyOntFUFNJTE9OOiJudW1iZXIvZXBzaWxvbiIsaXNGaW5pdGU6Im51bWJlci9pcy1maW5pdGUiLGlzSW50ZWdlcjoibnVtYmVyL2lzLWludGVnZXIiLGlzTmFOOiJudW1iZXIvaXMtbmFuIixpc1NhZmVJbnRlZ2VyOiJudW1iZXIvaXMtc2FmZS1pbnRlZ2VyIixNQVhfU0FGRV9JTlRFR0VSOiJudW1iZXIvbWF4LXNhZmUtaW50ZWdlciIsTUlOX1NBRkVfSU5URUdFUjoibnVtYmVyL21pbi1zYWZlLWludGVnZXIiLHBhcnNlRmxvYXQ6Im51bWJlci9wYXJzZS1mbG9hdCIscGFyc2VJbnQ6Im51bWJlci9wYXJzZS1pbnQifSxSZWZsZWN0OnthcHBseToicmVmbGVjdC9hcHBseSIsY29uc3RydWN0OiJyZWZsZWN0L2NvbnN0cnVjdCIsZGVmaW5lUHJvcGVydHk6InJlZmxlY3QvZGVmaW5lLXByb3BlcnR5IixkZWxldGVQcm9wZXJ0eToicmVmbGVjdC9kZWxldGUtcHJvcGVydHkiLGVudW1lcmF0ZToicmVmbGVjdC9lbnVtZXJhdGUiLGdldE93blByb3BlcnR5RGVzY3JpcHRvcjoicmVmbGVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiLGdldFByb3RvdHlwZU9mOiJyZWZsZWN0L2dldC1wcm90b3R5cGUtb2YiLGdldDoicmVmbGVjdC9nZXQiLGhhczoicmVmbGVjdC9oYXMiLGlzRXh0ZW5zaWJsZToicmVmbGVjdC9pcy1leHRlbnNpYmxlIixvd25LZXlzOiJyZWZsZWN0L293bi1rZXlzIixwcmV2ZW50RXh0ZW5zaW9uczoicmVmbGVjdC9wcmV2ZW50LWV4dGVuc2lvbnMiLHNldFByb3RvdHlwZU9mOiJyZWZsZWN0L3NldC1wcm90b3R5cGUtb2YiLHNldDoicmVmbGVjdC9zZXQiLGRlZmluZU1ldGFkYXRhOiJyZWZsZWN0L2RlZmluZS1tZXRhZGF0YSIsZGVsZXRlTWV0YWRhdGE6InJlZmxlY3QvZGVsZXRlLW1ldGFkYXRhIixnZXRNZXRhZGF0YToicmVmbGVjdC9nZXQtbWV0YWRhdGEiLGdldE1ldGFkYXRhS2V5czoicmVmbGVjdC9nZXQtbWV0YWRhdGEta2V5cyIsZ2V0T3duTWV0YWRhdGE6InJlZmxlY3QvZ2V0LW93bi1tZXRhZGF0YSIsZ2V0T3duTWV0YWRhdGFLZXlzOiJyZWZsZWN0L2dldC1vd24tbWV0YWRhdGEta2V5cyIsaGFzTWV0YWRhdGE6InJlZmxlY3QvaGFzLW1ldGFkYXRhIixoYXNPd25NZXRhZGF0YToicmVmbGVjdC9oYXMtb3duLW1ldGFkYXRhIixtZXRhZGF0YToicmVmbGVjdC9tZXRhZGF0YSJ9LFN5c3RlbTp7Z2xvYmFsOiJzeXN0ZW0vZ2xvYmFsIn0sRXJyb3I6e2lzRXJyb3I6ImVycm9yL2lzLWVycm9yIn0sRGF0ZTp7fSxGdW5jdGlvbjp7fX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmluaXRpb25zPXZvaWQgMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5tb2R1bGVOYW1lfHwiYmFiZWwtcnVudGltZSJ9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX12YXIgbj1lLnR5cGVzLHM9WyJpbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiaW50ZXJvcFJlcXVpcmVEZWZhdWx0Il07cmV0dXJue3ByZTpmdW5jdGlvbihlKXt2YXIgcj10KHRoaXMub3B0cyk7ITEhPT10aGlzLm9wdHMuaGVscGVycyYmZS5zZXQoImhlbHBlckdlbmVyYXRvciIsZnVuY3Rpb24odCl7aWYocy5pbmRleE9mKHQpPDApcmV0dXJuIGUuYWRkSW1wb3J0KHIrIi9oZWxwZXJzLyIrdCwiZGVmYXVsdCIsdCl9KSx0aGlzLnNldER5bmFtaWMoInJlZ2VuZXJhdG9ySWRlbnRpZmllciIsZnVuY3Rpb24oKXtyZXR1cm4gZS5hZGRJbXBvcnQocisiL3JlZ2VuZXJhdG9yIiwiZGVmYXVsdCIsInJlZ2VuZXJhdG9yUnVudGltZSIpfSl9LHZpc2l0b3I6e1JlZmVyZW5jZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUscyl7dmFyIGE9ZS5ub2RlLG89ZS5wYXJlbnQsdT1lLnNjb3BlO2lmKCJyZWdlbmVyYXRvclJ1bnRpbWUiPT09YS5uYW1lJiYhMSE9PXMub3B0cy5yZWdlbmVyYXRvcilyZXR1cm4gdm9pZCBlLnJlcGxhY2VXaXRoKHMuZ2V0KCJyZWdlbmVyYXRvcklkZW50aWZpZXIiKSk7aWYoITEhPT1zLm9wdHMucG9seWZpbGwmJiFuLmlzTWVtYmVyRXhwcmVzc2lvbihvKSYmcihpLmRlZmF1bHQuYnVpbHRpbnMsYS5uYW1lKSYmIXUuZ2V0QmluZGluZ0lkZW50aWZpZXIoYS5uYW1lKSl7dmFyIGw9dChzLm9wdHMpO2UucmVwbGFjZVdpdGgocy5hZGRJbXBvcnQobCsiL2NvcmUtanMvIitpLmRlZmF1bHQuYnVpbHRpbnNbYS5uYW1lXSwiZGVmYXVsdCIsYS5uYW1lKSl9fSxDYWxsRXhwcmVzc2lvbjpmdW5jdGlvbihlLHIpe2lmKCExIT09ci5vcHRzLnBvbHlmaWxsJiYhZS5ub2RlLmFyZ3VtZW50cy5sZW5ndGgpe3ZhciBpPWUubm9kZS5jYWxsZWU7aWYobi5pc01lbWJlckV4cHJlc3Npb24oaSkmJmkuY29tcHV0ZWQmJmUuZ2V0KCJjYWxsZWUucHJvcGVydHkiKS5tYXRjaGVzUGF0dGVybigiU3ltYm9sLml0ZXJhdG9yIikpe3ZhciBzPXQoci5vcHRzKTtlLnJlcGxhY2VXaXRoKG4uY2FsbEV4cHJlc3Npb24oci5hZGRJbXBvcnQocysiL2NvcmUtanMvZ2V0LWl0ZXJhdG9yIiwiZGVmYXVsdCIsImdldEl0ZXJhdG9yIiksW2kub2JqZWN0XSkpfX19LEJpbmFyeUV4cHJlc3Npb246ZnVuY3Rpb24oZSxyKXtpZighMSE9PXIub3B0cy5wb2x5ZmlsbCYmImluIj09PWUubm9kZS5vcGVyYXRvciYmZS5nZXQoImxlZnQiKS5tYXRjaGVzUGF0dGVybigiU3ltYm9sLml0ZXJhdG9yIikpe3ZhciBpPXQoci5vcHRzKTtlLnJlcGxhY2VXaXRoKG4uY2FsbEV4cHJlc3Npb24oci5hZGRJbXBvcnQoaSsiL2NvcmUtanMvaXMtaXRlcmFibGUiLCJkZWZhdWx0IiwiaXNJdGVyYWJsZSIpLFtlLm5vZGUucmlnaHRdKSl9fSxNZW1iZXJFeHByZXNzaW9uOntlbnRlcjpmdW5jdGlvbihlLHMpe2lmKCExIT09cy5vcHRzLnBvbHlmaWxsJiZlLmlzUmVmZXJlbmNlZCgpKXt2YXIgYT1lLm5vZGUsbz1hLm9iamVjdCx1PWEucHJvcGVydHk7aWYobi5pc1JlZmVyZW5jZWQobyxhKSYmIWEuY29tcHV0ZWQmJnIoaS5kZWZhdWx0Lm1ldGhvZHMsby5uYW1lKSl7dmFyIGw9aS5kZWZhdWx0Lm1ldGhvZHNbby5uYW1lXTtpZihyKGwsdS5uYW1lKSYmIWUuc2NvcGUuZ2V0QmluZGluZ0lkZW50aWZpZXIoby5uYW1lKSl7aWYoIk9iamVjdCI9PT1vLm5hbWUmJiJkZWZpbmVQcm9wZXJ0eSI9PT11Lm5hbWUmJmUucGFyZW50UGF0aC5pc0NhbGxFeHByZXNzaW9uKCkpe3ZhciBjPWUucGFyZW50UGF0aC5ub2RlO2lmKDM9PT1jLmFyZ3VtZW50cy5sZW5ndGgmJm4uaXNMaXRlcmFsKGMuYXJndW1lbnRzWzFdKSlyZXR1cm59dmFyIGY9dChzLm9wdHMpO2UucmVwbGFjZVdpdGgocy5hZGRJbXBvcnQoZisiL2NvcmUtanMvIitsW3UubmFtZV0sImRlZmF1bHQiLG8ubmFtZSsiJCIrdS5uYW1lKSl9fX19LGV4aXQ6ZnVuY3Rpb24oZSxzKXtpZighMSE9PXMub3B0cy5wb2x5ZmlsbCYmZS5pc1JlZmVyZW5jZWQoKSl7dmFyIGE9ZS5ub2RlLG89YS5vYmplY3Q7aWYocihpLmRlZmF1bHQuYnVpbHRpbnMsby5uYW1lKSYmIWUuc2NvcGUuZ2V0QmluZGluZ0lkZW50aWZpZXIoby5uYW1lKSl7dmFyIHU9dChzLm9wdHMpO2UucmVwbGFjZVdpdGgobi5tZW1iZXJFeHByZXNzaW9uKHMuYWRkSW1wb3J0KHUrIi9jb3JlLWpzLyIraS5kZWZhdWx0LmJ1aWx0aW5zW28ubmFtZV0sImRlZmF1bHQiLG8ubmFtZSksYS5wcm9wZXJ0eSxhLmNvbXB1dGVkKSl9fX19fX19O3ZhciBuPXIoMzUyKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7dC5kZWZpbml0aW9ucz1pLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLm1lc3NhZ2VzO3JldHVybnt2aXNpdG9yOntSZWZlcmVuY2VkSWRlbnRpZmllcjpmdW5jdGlvbihlKXt2YXIgcj1lLm5vZGUsbj1lLnNjb3BlLHM9bi5nZXRCaW5kaW5nKHIubmFtZSkKO2lmKHMmJiJ0eXBlIj09PXMua2luZCYmIWUucGFyZW50UGF0aC5pc0Zsb3coKSl0aHJvdyBlLmJ1aWxkQ29kZUZyYW1lRXJyb3IodC5nZXQoInVuZGVjbGFyZWRWYXJpYWJsZVR5cGUiLHIubmFtZSksUmVmZXJlbmNlRXJyb3IpO2lmKCFuLmhhc0JpbmRpbmcoci5uYW1lKSl7dmFyIGE9bi5nZXRBbGxCaW5kaW5ncygpLG89dm9pZCAwLHU9LTE7Zm9yKHZhciBsIGluIGEpe3ZhciBjPSgwLGkuZGVmYXVsdCkoci5uYW1lLGwpO2M8PTB8fGM+M3x8KGM8PXV8fChvPWwsdT1jKSl9dmFyIGY9dm9pZCAwO3Rocm93IGY9bz90LmdldCgidW5kZWNsYXJlZFZhcmlhYmxlU3VnZ2VzdGlvbiIsci5uYW1lLG8pOnQuZ2V0KCJ1bmRlY2xhcmVkVmFyaWFibGUiLHIubmFtZSksZS5idWlsZENvZGVGcmFtZUVycm9yKGYsUmVmZXJlbmNlRXJyb3IpfX19fX07dmFyIG49cig0NzEpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTtlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMDt2YXIgbj1yKDIxMSksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pO3QuZGVmYXVsdD17cGx1Z2luczpbaS5kZWZhdWx0XX0sZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm57cHJlc2V0czpbITEhPT10LmVzMjAxNSYmW3MuZGVmYXVsdC5idWlsZFByZXNldCx0LmVzMjAxNV0sITEhPT10LmVzMjAxNiYmby5kZWZhdWx0LCExIT09dC5lczIwMTcmJmwuZGVmYXVsdF0uZmlsdGVyKEJvb2xlYW4pfX07dmFyIGk9cigyMTcpLHM9bihpKSxhPXIoMjE4KSxvPW4oYSksdT1yKDIxOSksbD1uKHUpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMzU1KSxzPW4oaSksYT1yKDIxNSksbz1uKGEpLHU9cigxMjcpLGw9bih1KSxjPXIoMjE0KSxmPW4oYyk7dC5kZWZhdWx0PXtwcmVzZXRzOltzLmRlZmF1bHRdLHBsdWdpbnM6W28uZGVmYXVsdCxsLmRlZmF1bHQsZi5kZWZhdWx0XSxlbnY6e2RldmVsb3BtZW50OntwbHVnaW5zOltdfX19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMjIwKSxzPW4oaSksYT1yKDIwNiksbz1uKGEpLHU9cigyMTIpLGw9bih1KTt0LmRlZmF1bHQ9e3ByZXNldHM6W3MuZGVmYXVsdF0scGx1Z2luczpbby5kZWZhdWx0LGwuZGVmYXVsdF19LGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDA3KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0MTApLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQxMiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDEzKSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9e2RlZmF1bHQ6cig0MTUpLF9fZXNNb2R1bGU6ITB9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz17ZGVmYXVsdDpyKDQxNiksX19lc01vZHVsZTohMH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPXtkZWZhdWx0OnIoNDE3KSxfX2VzTW9kdWxlOiEwfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciByPXt9O2Zvcih2YXIgbiBpbiBlKXQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbikmJihyW25dPWVbbl0pO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10Ll9fZXNNb2R1bGU9ITA7dmFyIGk9cigyKSxzPW4oaSksYT1yKDMpLG89bihhKSx1PXIoMzYpLGw9bih1KSxjPXIoMSksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkpeygwLG8uZGVmYXVsdCkodGhpcyxlKSx0aGlzLnF1ZXVlPW51bGwsdGhpcy5wYXJlbnRQYXRoPWksdGhpcy5zY29wZT10LHRoaXMuc3RhdGU9bix0aGlzLm9wdHM9cn1yZXR1cm4gZS5wcm90b3R5cGUuc2hvdWxkVmlzaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5vcHRzO2lmKHQuZW50ZXJ8fHQuZXhpdClyZXR1cm4hMDtpZih0W2UudHlwZV0pcmV0dXJuITA7dmFyIHI9Zi5WSVNJVE9SX0tFWVNbZS50eXBlXTtpZighcnx8IXIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbj1yLGk9QXJyYXkuaXNBcnJheShuKSxhPTAsbj1pP246KDAscy5kZWZhdWx0KShuKTs7KXt2YXIgbztpZihpKXtpZihhPj1uLmxlbmd0aClicmVhaztvPW5bYSsrXX1lbHNle2lmKGE9bi5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX1pZihlW29dKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGwuZGVmYXVsdC5nZXQoe3BhcmVudFBhdGg6dGhpcy5wYXJlbnRQYXRoLHBhcmVudDplLGNvbnRhaW5lcjp0LGtleTpyLGxpc3RLZXk6bn0pfSxlLnByb3RvdHlwZS5tYXliZVF1ZXVlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy50cmFwKXRocm93IG5ldyBFcnJvcigiSW5maW5pdGUgY3ljbGUgZGV0ZWN0ZWQiKTt0aGlzLnF1ZXVlJiYodD90aGlzLnF1ZXVlLnB1c2goZSk6dGhpcy5wcmlvcml0eVF1ZXVlLnB1c2goZSkpfSxlLnByb3RvdHlwZS52aXNpdE11bHRpcGxlPWZ1bmN0aW9uKGUsdCxyKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHM9ZVtpXTtzJiZ0aGlzLnNob3VsZFZpc2l0KHMpJiZuLnB1c2godGhpcy5jcmVhdGUodCxlLGkscikpfXJldHVybiB0aGlzLnZpc2l0UXVldWUobil9LGUucHJvdG90eXBlLnZpc2l0U2luZ2xlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuISF0aGlzLnNob3VsZFZpc2l0KGVbdF0pJiZ0aGlzLnZpc2l0UXVldWUoW3RoaXMuY3JlYXRlKGUsZSx0KV0pfSxlLnByb3RvdHlwZS52aXNpdFF1ZXVlPWZ1bmN0aW9uKGUpe3RoaXMucXVldWU9ZSx0aGlzLnByaW9yaXR5UXVldWU9W107Zm9yKHZhciB0PVtdLHI9ITEsbj1lLGk9QXJyYXkuaXNBcnJheShuKSxhPTAsbj1pP246KDAscy5kZWZhdWx0KShuKTs7KXt2YXIgbztpZihpKXtpZihhPj1uLmxlbmd0aClicmVhaztvPW5bYSsrXX1lbHNle2lmKGE9bi5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX12YXIgdT1vO2lmKHUucmVzeW5jKCksMCE9PXUuY29udGV4dHMubGVuZ3RoJiZ1LmNvbnRleHRzW3UuY29udGV4dHMubGVuZ3RoLTFdPT09dGhpc3x8dS5wdXNoQ29udGV4dCh0aGlzKSxudWxsIT09dS5rZXkmJiEodC5pbmRleE9mKHUubm9kZSk+PTApKXtpZih0LnB1c2godS5ub2RlKSx1LnZpc2l0KCkpe3I9ITA7YnJlYWt9aWYodGhpcy5wcmlvcml0eVF1ZXVlLmxlbmd0aCYmKHI9dGhpcy52aXNpdFF1ZXVlKHRoaXMucHJpb3JpdHlRdWV1ZSksdGhpcy5wcmlvcml0eVF1ZXVlPVtdLHRoaXMucXVldWU9ZSxyKSlicmVha319Zm9yKHZhciBsPWUsYz1BcnJheS5pc0FycmF5KGwpLGY9MCxsPWM/bDooMCxzLmRlZmF1bHQpKGwpOzspe3ZhciBwO2lmKGMpe2lmKGY+PWwubGVuZ3RoKWJyZWFrO3A9bFtmKytdfWVsc2V7aWYoZj1sLm5leHQoKSxmLmRvbmUpYnJlYWs7cD1mLnZhbHVlfXAucG9wQ29udGV4dCgpfXJldHVybiB0aGlzLnF1ZXVlPW51bGwscn0sZS5wcm90b3R5cGUudmlzaXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lW3RdO3JldHVybiEhciYmKEFycmF5LmlzQXJyYXkocik/dGhpcy52aXNpdE11bHRpcGxlKHIsZSx0KTp0aGlzLnZpc2l0U2luZ2xlKGUsdCkpfSxlfSgpO3QuZGVmYXVsdD1wLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXtmb3IodmFyIHQ9dGhpczt0PXQucGFyZW50UGF0aDspaWYoZSh0KSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1mdW5jdGlvbiBzKGUpe3ZhciB0PXRoaXM7ZG97aWYoZSh0KSlyZXR1cm4gdH13aGlsZSh0PXQucGFyZW50UGF0aCk7cmV0dXJuIG51bGx9ZnVuY3Rpb24gYSgpe3JldHVybiB0aGlzLmZpbmRQYXJlbnQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNGdW5jdGlvbigpfHxlLmlzUHJvZ3JhbSgpfSl9ZnVuY3Rpb24gbygpe3ZhciBlPXRoaXM7ZG97aWYoQXJyYXkuaXNBcnJheShlLmNvbnRhaW5lcikpcmV0dXJuIGV9d2hpbGUoZT1lLnBhcmVudFBhdGgpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHRoaXMuZ2V0RGVlcGVzdENvbW1vbkFuY2VzdG9yRnJvbShlLGZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dm9pZCAwLGk9Zy5WSVNJVE9SX0tFWVNbZS50eXBlXSxzPXIsYT1BcnJheS5pc0FycmF5KHMpLG89MCxzPWE/czooMCx5LmRlZmF1bHQpKHMpOzspe3ZhciB1O2lmKGEpe2lmKG8+PXMubGVuZ3RoKWJyZWFrO3U9c1tvKytdfWVsc2V7aWYobz1zLm5leHQoKSxvLmRvbmUpYnJlYWs7dT1vLnZhbHVlfXZhciBsPXUsYz1sW3QrMV07aWYobilpZihjLmxpc3RLZXkmJm4ubGlzdEtleT09PWMubGlzdEtleSYmYy5rZXk8bi5rZXkpbj1jO2Vsc2V7dmFyIGY9aS5pbmRleE9mKG4ucGFyZW50S2V5KSxwPWkuaW5kZXhPZihjLnBhcmVudEtleSk7Zj5wJiYobj1jKX1lbHNlIG49Y31yZXR1cm4gbn0pfWZ1bmN0aW9uIGwoZSx0KXt2YXIgcj10aGlzO2lmKCFlLmxlbmd0aClyZXR1cm4gdGhpcztpZigxPT09ZS5sZW5ndGgpcmV0dXJuIGVbMF07dmFyIG49MS8wLGk9dm9pZCAwLHM9dm9pZCAwLGE9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9W107ZG97dC51bnNoaWZ0KGUpfXdoaWxlKChlPWUucGFyZW50UGF0aCkmJmUhPT1yKTtyZXR1cm4gdC5sZW5ndGg8biYmKG49dC5sZW5ndGgpLHR9KSxvPWFbMF07ZTpmb3IodmFyIHU9MDt1PG47dSsrKXtmb3IodmFyIGw9b1t1XSxjPWEsZj1BcnJheS5pc0FycmF5KGMpLHA9MCxjPWY/YzooMCx5LmRlZmF1bHQpKGMpOzspe3ZhciBkO2lmKGYpe2lmKHA+PWMubGVuZ3RoKWJyZWFrO2Q9Y1twKytdfWVsc2V7aWYocD1jLm5leHQoKSxwLmRvbmUpYnJlYWs7ZD1wLnZhbHVlfXZhciBoPWQ7aWYoaFt1XSE9PWwpYnJlYWsgZX1pPXUscz1sfWlmKHMpcmV0dXJuIHQ/dChzLGksYSk6czt0aHJvdyBuZXcgRXJyb3IoIkNvdWxkbid0IGZpbmQgaW50ZXJzZWN0aW9uIil9ZnVuY3Rpb24gYygpe3ZhciBlPXRoaXMsdD1bXTtkb3t0LnB1c2goZSl9d2hpbGUoZT1lLnBhcmVudFBhdGgpO3JldHVybiB0fWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGUuaXNEZXNjZW5kYW50KHRoaXMpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuISF0aGlzLmZpbmRQYXJlbnQoZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1lfSl9ZnVuY3Rpb24gZCgpe2Zvcih2YXIgZT10aGlzO2U7KXtmb3IodmFyIHQ9YXJndW1lbnRzLHI9QXJyYXkuaXNBcnJheSh0KSxuPTAsdD1yP3Q6KDAseS5kZWZhdWx0KSh0KTs7KXt2YXIgaTtpZihyKXtpZihuPj10Lmxlbmd0aClicmVhaztpPXRbbisrXX1lbHNle2lmKG49dC5uZXh0KCksbi5kb25lKWJyZWFrO2k9bi52YWx1ZX12YXIgcz1pO2lmKGUubm9kZS50eXBlPT09cylyZXR1cm4hMH1lPWUucGFyZW50UGF0aH1yZXR1cm4hMX1mdW5jdGlvbiBoKGUpe3ZhciB0PXRoaXMuaXNGdW5jdGlvbigpP3RoaXM6dGhpcy5maW5kUGFyZW50KGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRnVuY3Rpb24oKX0pO2lmKHQpe2lmKHQuaXNGdW5jdGlvbkV4cHJlc3Npb24oKXx8dC5pc0Z1bmN0aW9uRGVjbGFyYXRpb24oKSl7dmFyIHI9dC5ub2RlLnNoYWRvdztpZihyJiYoIWV8fCExIT09cltlXSkpcmV0dXJuIHR9ZWxzZSBpZih0LmlzQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24oKSlyZXR1cm4gdDtyZXR1cm4gbnVsbH19dC5fX2VzTW9kdWxlPSEwO3ZhciBtPXIoMikseT1uKG0pO3QuZmluZFBhcmVudD1pLHQuZmluZD1zLHQuZ2V0RnVuY3Rpb25QYXJlbnQ9YSx0LmdldFN0YXRlbWVudFBhcmVudD1vLHQuZ2V0RWFybGllc3RDb21tb25BbmNlc3RvckZyb209dSx0LmdldERlZXBlc3RDb21tb25BbmNlc3RvckZyb209bCx0LmdldEFuY2VzdHJ5PWMsdC5pc0FuY2VzdG9yPWYsdC5pc0Rlc2NlbmRhbnQ9cCx0LmluVHlwZT1kLHQuaW5TaGFkb3c9aDt2YXIgdj1yKDEpLGc9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fSh2KSxiPXIoMzYpO24oYil9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXtpZigic3RyaW5nIiE9dHlwZW9mIHRoaXMua2V5KXt2YXIgZT10aGlzLm5vZGU7aWYoZSl7dmFyIHQ9ZS50cmFpbGluZ0NvbW1lbnRzLHI9ZS5sZWFkaW5nQ29tbWVudHM7aWYodHx8cil7dmFyIG49dGhpcy5nZXRTaWJsaW5nKHRoaXMua2V5LTEpLGk9dGhpcy5nZXRTaWJsaW5nKHRoaXMua2V5KzEpO24ubm9kZXx8KG49aSksaS5ub2RlfHwoaT1uKSxuLmFkZENvbW1lbnRzKCJ0cmFpbGluZyIsciksaS5hZGRDb21tZW50cygibGVhZGluZyIsdCl9fX19ZnVuY3Rpb24gbihlLHQscil7dGhpcy5hZGRDb21tZW50cyhlLFt7dHlwZTpyPyJDb21tZW50TGluZSI6IkNvbW1lbnRCbG9jayIsdmFsdWU6dH1dKX1mdW5jdGlvbiBpKGUsdCl7aWYodCl7dmFyIHI9dGhpcy5ub2RlO2lmKHIpe3ZhciBuPWUrIkNvbW1lbnRzIjtyW25dP3Jbbl09cltuXS5jb25jYXQodCk6cltuXT10fX19dC5fX2VzTW9kdWxlPSEwLHQuc2hhcmVDb21tZW50c1dpdGhTaWJsaW5ncz1yLHQuYWRkQ29tbWVudD1uLHQuYWRkQ29tbWVudHM9aX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe3ZhciB0PXRoaXMub3B0cztyZXR1cm4gdGhpcy5kZWJ1ZyhmdW5jdGlvbigpe3JldHVybiBlfSksISghdGhpcy5ub2RlfHwhdGhpcy5fY2FsbCh0W2VdKSl8fCEhdGhpcy5ub2RlJiZ0aGlzLl9jYWxsKHRbdGhpcy5ub2RlLnR5cGVdJiZ0W3RoaXMubm9kZS50eXBlXVtlXSl9ZnVuY3Rpb24gcyhlKXtpZighZSlyZXR1cm4hMTtmb3IodmFyIHQ9ZSxyPUFycmF5LmlzQXJyYXkodCksbj0wLHQ9cj90OigwLEQuZGVmYXVsdCkodCk7Oyl7dmFyIGk7aWYocil7aWYobj49dC5sZW5ndGgpYnJlYWs7aT10W24rK119ZWxzZXtpZihuPXQubmV4dCgpLG4uZG9uZSlicmVhaztpPW4udmFsdWV9dmFyIHM9aTtpZihzKXt2YXIgYT10aGlzLm5vZGU7aWYoIWEpcmV0dXJuITA7aWYocy5jYWxsKHRoaXMuc3RhdGUsdGhpcyx0aGlzLnN0YXRlKSl0aHJvdyBuZXcgRXJyb3IoIlVuZXhwZWN0ZWQgcmV0dXJuIHZhbHVlIGZyb20gdmlzaXRvciBtZXRob2QgIitzKTtpZih0aGlzLm5vZGUhPT1hKXJldHVybiEwO2lmKHRoaXMuc2hvdWxkU3RvcHx8dGhpcy5zaG91bGRTa2lwfHx0aGlzLnJlbW92ZWQpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIGEoKXt2YXIgZT10aGlzLm9wdHMuYmxhY2tsaXN0O3JldHVybiBlJiZlLmluZGV4T2YodGhpcy5ub2RlLnR5cGUpPi0xfWZ1bmN0aW9uIG8oKXtyZXR1cm4hIXRoaXMubm9kZSYmKCF0aGlzLmlzQmxhY2tsaXN0ZWQoKSYmKCghdGhpcy5vcHRzLnNob3VsZFNraXB8fCF0aGlzLm9wdHMuc2hvdWxkU2tpcCh0aGlzKSkmJih0aGlzLmNhbGwoImVudGVyIil8fHRoaXMuc2hvdWxkU2tpcD8odGhpcy5kZWJ1ZyhmdW5jdGlvbigpe3JldHVybiJTa2lwLi4uIn0pLHRoaXMuc2hvdWxkU3RvcCk6KHRoaXMuZGVidWcoZnVuY3Rpb24oKXtyZXR1cm4iUmVjdXJzaW5nIGludG8uLi4ifSksdy5kZWZhdWx0Lm5vZGUodGhpcy5ub2RlLHRoaXMub3B0cyx0aGlzLnNjb3BlLHRoaXMuc3RhdGUsdGhpcyx0aGlzLnNraXBLZXlzKSx0aGlzLmNhbGwoImV4aXQiKSx0aGlzLnNob3VsZFN0b3ApKSkpfWZ1bmN0aW9uIHUoKXt0aGlzLnNob3VsZFNraXA9ITB9ZnVuY3Rpb24gbChlKXt0aGlzLnNraXBLZXlzW2VdPSEwfWZ1bmN0aW9uIGMoKXt0aGlzLnNob3VsZFN0b3A9ITAsdGhpcy5zaG91bGRTa2lwPSEwfWZ1bmN0aW9uIGYoKXtpZighdGhpcy5vcHRzfHwhdGhpcy5vcHRzLm5vU2NvcGUpe3ZhciBlPXRoaXMuY29udGV4dCYmdGhpcy5jb250ZXh0LnNjb3BlO2lmKCFlKWZvcih2YXIgdD10aGlzLnBhcmVudFBhdGg7dCYmIWU7KXtpZih0Lm9wdHMmJnQub3B0cy5ub1Njb3BlKXJldHVybjtlPXQuc2NvcGUsdD10LnBhcmVudFBhdGh9dGhpcy5zY29wZT10aGlzLmdldFNjb3BlKGUpLHRoaXMuc2NvcGUmJnRoaXMuc2NvcGUuaW5pdCgpfX1mdW5jdGlvbiBwKGUpe3JldHVybiB0aGlzLnNob3VsZFNraXA9ITEsdGhpcy5zaG91bGRTdG9wPSExLHRoaXMucmVtb3ZlZD0hMSx0aGlzLnNraXBLZXlzPXt9LGUmJih0aGlzLmNvbnRleHQ9ZSx0aGlzLnN0YXRlPWUuc3RhdGUsdGhpcy5vcHRzPWUub3B0cyksdGhpcy5zZXRTY29wZSgpLHRoaXN9ZnVuY3Rpb24gZCgpe3RoaXMucmVtb3ZlZHx8KHRoaXMuX3Jlc3luY1BhcmVudCgpLHRoaXMuX3Jlc3luY0xpc3QoKSx0aGlzLl9yZXN5bmNLZXkoKSl9ZnVuY3Rpb24gaCgpe3RoaXMucGFyZW50UGF0aCYmKHRoaXMucGFyZW50PXRoaXMucGFyZW50UGF0aC5ub2RlKX1mdW5jdGlvbiBtKCl7aWYodGhpcy5jb250YWluZXImJnRoaXMubm9kZSE9PXRoaXMuY29udGFpbmVyW3RoaXMua2V5XSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmNvbnRhaW5lcikpe2Zvcih2YXIgZT0wO2U8dGhpcy5jb250YWluZXIubGVuZ3RoO2UrKylpZih0aGlzLmNvbnRhaW5lcltlXT09PXRoaXMubm9kZSlyZXR1cm4gdGhpcy5zZXRLZXkoZSl9ZWxzZSBmb3IodmFyIHQgaW4gdGhpcy5jb250YWluZXIpaWYodGhpcy5jb250YWluZXJbdF09PT10aGlzLm5vZGUpcmV0dXJuIHRoaXMuc2V0S2V5KHQpO3RoaXMua2V5PW51bGx9fWZ1bmN0aW9uIHkoKXtpZih0aGlzLnBhcmVudCYmdGhpcy5pbkxpc3Qpe3ZhciBlPXRoaXMucGFyZW50W3RoaXMubGlzdEtleV07dGhpcy5jb250YWluZXIhPT1lJiYodGhpcy5jb250YWluZXI9ZXx8bnVsbCl9fWZ1bmN0aW9uIHYoKXtudWxsIT10aGlzLmtleSYmdGhpcy5jb250YWluZXImJnRoaXMuY29udGFpbmVyW3RoaXMua2V5XT09PXRoaXMubm9kZXx8dGhpcy5fbWFya1JlbW92ZWQoKX1mdW5jdGlvbiBnKCl7dGhpcy5jb250ZXh0cy5wb3AoKSx0aGlzLnNldENvbnRleHQodGhpcy5jb250ZXh0c1t0aGlzLmNvbnRleHRzLmxlbmd0aC0xXSl9ZnVuY3Rpb24gYihlKXt0aGlzLmNvbnRleHRzLnB1c2goZSksdGhpcy5zZXRDb250ZXh0KGUpfWZ1bmN0aW9uIEUoZSx0LHIsbil7dGhpcy5pbkxpc3Q9ISFyLHRoaXMubGlzdEtleT1yLHRoaXMucGFyZW50S2V5PXJ8fG4sdGhpcy5jb250YWluZXI9dCx0aGlzLnBhcmVudFBhdGg9ZXx8dGhpcy5wYXJlbnRQYXRoLHRoaXMuc2V0S2V5KG4pfWZ1bmN0aW9uIHgoZSl7dGhpcy5rZXk9ZSx0aGlzLm5vZGU9dGhpcy5jb250YWluZXJbdGhpcy5rZXldLHRoaXMudHlwZT10aGlzLm5vZGUmJnRoaXMubm9kZS50eXBlfWZ1bmN0aW9uIEEoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dGhpcztpZighZS5yZW1vdmVkKWZvcih2YXIgdD10aGlzLmNvbnRleHRzLHI9dCxuPUFycmF5LmlzQXJyYXkociksaT0wLHI9bj9yOigwLEQuZGVmYXVsdCkocik7Oyl7dmFyIHM7aWYobil7aWYoaT49ci5sZW5ndGgpYnJlYWs7cz1yW2krK119ZWxzZXtpZihpPXIubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9dmFyIGE9czthLm1heWJlUXVldWUoZSl9fWZ1bmN0aW9uIFMoKXtmb3IodmFyIGU9dGhpcyx0PXRoaXMuY29udGV4dHM7IXQubGVuZ3RoOyllPWUucGFyZW50UGF0aCx0PWUuY29udGV4dHM7cmV0dXJuIHR9dC5fX2VzTW9kdWxlPSEwO3ZhciBfPXIoMiksRD1uKF8pO3QuY2FsbD1pLHQuX2NhbGw9cyx0LmlzQmxhY2tsaXN0ZWQ9YSx0LnZpc2l0PW8sdC5za2lwPXUsdC5za2lwS2V5PWwsdC5zdG9wPWMsdC5zZXRTY29wZT1mLHQuc2V0Q29udGV4dD1wLHQucmVzeW5jPWQsdC5fcmVzeW5jUGFyZW50PWgsdC5fcmVzeW5jS2V5PW0sdC5fcmVzeW5jTGlzdD15LHQuX3Jlc3luY1JlbW92ZWQ9dix0LnBvcENvbnRleHQ9Zyx0LnB1c2hDb250ZXh0PWIsdC5zZXR1cD1FLHQuc2V0S2V5PXgsdC5yZXF1ZXVlPUEsdC5fZ2V0UXVldWVDb250ZXh0cz1TO3ZhciBDPXIoNyksdz1uKEMpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt2YXIgZT10aGlzLm5vZGUsdD12b2lkIDA7aWYodGhpcy5pc01lbWJlckV4cHJlc3Npb24oKSl0PWUucHJvcGVydHk7ZWxzZXtpZighdGhpcy5pc1Byb3BlcnR5KCkmJiF0aGlzLmlzTWV0aG9kKCkpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCJ0b2RvIik7dD1lLmtleX1yZXR1cm4gZS5jb21wdXRlZHx8by5pc0lkZW50aWZpZXIodCkmJih0PW8uc3RyaW5nTGl0ZXJhbCh0Lm5hbWUpKSx0fWZ1bmN0aW9uIGkoKXtyZXR1cm4gby5lbnN1cmVCbG9jayh0aGlzLm5vZGUpfWZ1bmN0aW9uIHMoKXtpZih0aGlzLmlzQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24oKSl7dGhpcy5lbnN1cmVCbG9jaygpO3ZhciBlPXRoaXMubm9kZTtlLmV4cHJlc3Npb249ITEsZS50eXBlPSJGdW5jdGlvbkV4cHJlc3Npb24iLGUuc2hhZG93PWUuc2hhZG93fHwhMH19dC5fX2VzTW9kdWxlPSEwLHQudG9Db21wdXRlZEtleT1uLHQuZW5zdXJlQmxvY2s9aSx0LmFycm93RnVuY3Rpb25Ub1NoYWRvd2VkPXM7dmFyIGE9cigxKSxvPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSl9LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoKXt2YXIgZT10aGlzLmV2YWx1YXRlKCk7aWYoZS5jb25maWRlbnQpcmV0dXJuISFlLnZhbHVlfWZ1bmN0aW9uIHMoKXtmdW5jdGlvbiB0KGUpe2kmJihzPWUsaT0hMSl9ZnVuY3Rpb24gcihlKXt2YXIgcj1lLm5vZGU7aWYoYS5oYXMocikpe3ZhciBzPWEuZ2V0KHIpO3JldHVybiBzLnJlc29sdmVkP3MudmFsdWU6dm9pZCB0KGUpfXZhciBvPXtyZXNvbHZlZDohMX07YS5zZXQocixvKTt2YXIgdT1uKGUpO3JldHVybiBpJiYoby5yZXNvbHZlZD0hMCxvLnZhbHVlPXUpLHV9ZnVuY3Rpb24gbihuKXtpZihpKXt2YXIgcz1uLm5vZGU7aWYobi5pc1NlcXVlbmNlRXhwcmVzc2lvbigpKXt2YXIgYT1uLmdldCgiZXhwcmVzc2lvbnMiKTtyZXR1cm4gcihhW2EubGVuZ3RoLTFdKX1pZihuLmlzU3RyaW5nTGl0ZXJhbCgpfHxuLmlzTnVtZXJpY0xpdGVyYWwoKXx8bi5pc0Jvb2xlYW5MaXRlcmFsKCkpcmV0dXJuIHMudmFsdWU7aWYobi5pc051bGxMaXRlcmFsKCkpcmV0dXJuIG51bGw7aWYobi5pc1RlbXBsYXRlTGl0ZXJhbCgpKXtmb3IodmFyIHU9IiIsYz0wLGY9bi5nZXQoImV4cHJlc3Npb25zIiksaD1zLnF1YXNpcyxtPUFycmF5LmlzQXJyYXkoaCkseT0wLGg9bT9oOigwLGwuZGVmYXVsdCkoaCk7Oyl7dmFyIHY7aWYobSl7aWYoeT49aC5sZW5ndGgpYnJlYWs7dj1oW3krK119ZWxzZXtpZih5PWgubmV4dCgpLHkuZG9uZSlicmVhazt2PXkudmFsdWV9dmFyIGc9djtpZighaSlicmVhazt1Kz1nLnZhbHVlLmNvb2tlZDt2YXIgYj1mW2MrK107YiYmKHUrPVN0cmluZyhyKGIpKSl9aWYoIWkpcmV0dXJuO3JldHVybiB1fWlmKG4uaXNDb25kaXRpb25hbEV4cHJlc3Npb24oKSl7dmFyIEU9cihuLmdldCgidGVzdCIpKTtpZighaSlyZXR1cm47cmV0dXJuIHIoRT9uLmdldCgiY29uc2VxdWVudCIpOm4uZ2V0KCJhbHRlcm5hdGUiKSl9aWYobi5pc0V4cHJlc3Npb25XcmFwcGVyKCkpcmV0dXJuIHIobi5nZXQoImV4cHJlc3Npb24iKSk7aWYobi5pc01lbWJlckV4cHJlc3Npb24oKSYmIW4ucGFyZW50UGF0aC5pc0NhbGxFeHByZXNzaW9uKHtjYWxsZWU6c30pKXt2YXIgeD1uLmdldCgicHJvcGVydHkiKSxBPW4uZ2V0KCJvYmplY3QiKTtpZihBLmlzTGl0ZXJhbCgpJiZ4LmlzSWRlbnRpZmllcigpKXt2YXIgUz1BLm5vZGUudmFsdWUsXz12b2lkIDA9PT1TPyJ1bmRlZmluZWQiOigwLG8uZGVmYXVsdCkoUyk7aWYoIm51bWJlciI9PT1ffHwic3RyaW5nIj09PV8pcmV0dXJuIFNbeC5ub2RlLm5hbWVdfX1pZihuLmlzUmVmZXJlbmNlZElkZW50aWZpZXIoKSl7dmFyIEQ9bi5zY29wZS5nZXRCaW5kaW5nKHMubmFtZSk7aWYoRCYmRC5jb25zdGFudFZpb2xhdGlvbnMubGVuZ3RoPjApcmV0dXJuIHQoRC5wYXRoKTtpZihEJiZuLm5vZGUuc3RhcnQ8RC5wYXRoLm5vZGUuZW5kKXJldHVybiB0KEQucGF0aCk7aWYoRCYmRC5oYXNWYWx1ZSlyZXR1cm4gRC52YWx1ZTtpZigidW5kZWZpbmVkIj09PXMubmFtZSlyZXR1cm4gRD90KEQucGF0aCk6dm9pZCAwO2lmKCJJbmZpbml0eSI9PT1zLm5hbWUpcmV0dXJuIEQ/dChELnBhdGgpOjEvMDtpZigiTmFOIj09PXMubmFtZSlyZXR1cm4gRD90KEQucGF0aCk6TmFOO3ZhciBDPW4ucmVzb2x2ZSgpO3JldHVybiBDPT09bj90KG4pOnIoQyl9aWYobi5pc1VuYXJ5RXhwcmVzc2lvbih7cHJlZml4OiEwfSkpe2lmKCJ2b2lkIj09PXMub3BlcmF0b3IpcmV0dXJuO3ZhciB3PW4uZ2V0KCJhcmd1bWVudCIpO2lmKCJ0eXBlb2YiPT09cy5vcGVyYXRvciYmKHcuaXNGdW5jdGlvbigpfHx3LmlzQ2xhc3MoKSkpcmV0dXJuImZ1bmN0aW9uIjt2YXIgUD1yKHcpO2lmKCFpKXJldHVybjtzd2l0Y2gocy5vcGVyYXRvcil7Y2FzZSIhIjpyZXR1cm4hUDtjYXNlIisiOnJldHVybitQO2Nhc2UiLSI6cmV0dXJuLVA7Y2FzZSJ+IjpyZXR1cm5+UDtjYXNlInR5cGVvZiI6cmV0dXJuIHZvaWQgMD09PVA/InVuZGVmaW5lZCI6KDAsby5kZWZhdWx0KShQKX19aWYobi5pc0FycmF5RXhwcmVzc2lvbigpKXtmb3IodmFyIGs9W10sRj1uLmdldCgiZWxlbWVudHMiKSxUPUYsTz1BcnJheS5pc0FycmF5KFQpLEI9MCxUPU8/VDooMCxsLmRlZmF1bHQpKFQpOzspe3ZhciBSO2lmKE8pe2lmKEI+PVQubGVuZ3RoKWJyZWFrO1I9VFtCKytdfWVsc2V7aWYoQj1ULm5leHQoKSxCLmRvbmUpYnJlYWs7Uj1CLnZhbHVlfXZhciBJPVI7aWYoST1JLmV2YWx1YXRlKCksIUkuY29uZmlkZW50KXJldHVybiB0KEkpO2sucHVzaChJLnZhbHVlKX1yZXR1cm4ga31pZihuLmlzT2JqZWN0RXhwcmVzc2lvbigpKXtmb3IodmFyIE09e30sTj1uLmdldCgicHJvcGVydGllcyIpLEw9TixqPUFycmF5LmlzQXJyYXkoTCksVT0wLEw9aj9MOigwLGwuZGVmYXVsdCkoTCk7Oyl7dmFyIFY7aWYoail7aWYoVT49TC5sZW5ndGgpYnJlYWs7Vj1MW1UrK119ZWxzZXtpZihVPUwubmV4dCgpLFUuZG9uZSlicmVhaztWPVUudmFsdWV9dmFyIEc9VjtpZihHLmlzT2JqZWN0TWV0aG9kKCl8fEcuaXNTcHJlYWRQcm9wZXJ0eSgpKXJldHVybiB0KEcpO3ZhciBXPUcuZ2V0KCJrZXkiKSxZPVc7aWYoRy5ub2RlLmNvbXB1dGVkKXtpZihZPVkuZXZhbHVhdGUoKSwhWS5jb25maWRlbnQpcmV0dXJuIHQoVyk7WT1ZLnZhbHVlfWVsc2UgWT1ZLmlzSWRlbnRpZmllcigpP1kubm9kZS5uYW1lOlkubm9kZS52YWx1ZTt2YXIgcT1HLmdldCgidmFsdWUiKSxLPXEuZXZhbHVhdGUoKTtpZighSy5jb25maWRlbnQpcmV0dXJuIHQocSk7Sz1LLnZhbHVlLE1bWV09S31yZXR1cm4gTX1pZihuLmlzTG9naWNhbEV4cHJlc3Npb24oKSl7dmFyIEg9aSxKPXIobi5nZXQoImxlZnQiKSksWD1pO2k9SDt2YXIgej1yKG4uZ2V0KCJyaWdodCIpKSwkPWk7c3dpdGNoKGk9WCYmJCxzLm9wZXJhdG9yKXtjYXNlInx8IjppZihKJiZYKXJldHVybiBpPSEwLEo7aWYoIWkpcmV0dXJuO3JldHVybiBKfHx6O2Nhc2UiJiYiOmlmKCghSiYmWHx8IXomJiQpJiYoaT0hMCksIWkpcmV0dXJuO3JldHVybiBKJiZ6fX1pZihuLmlzQmluYXJ5RXhwcmVzc2lvbigpKXt2YXIgUT1yKG4uZ2V0KCJsZWZ0IikpO2lmKCFpKXJldHVybjt2YXIgWj1yKG4uZ2V0KCJyaWdodCIpKTtpZighaSlyZXR1cm47c3dpdGNoKHMub3BlcmF0b3Ipe2Nhc2UiLSI6cmV0dXJuIFEtWjtjYXNlIisiOnJldHVybiBRK1o7Y2FzZSIvIjpyZXR1cm4gUS9aO2Nhc2UiKiI6cmV0dXJuIFEqWjtjYXNlIiUiOnJldHVybiBRJVo7Y2FzZSIqKiI6cmV0dXJuIE1hdGgucG93KFEsWik7Y2FzZSI8IjpyZXR1cm4gUTxaO2Nhc2UiPiI6cmV0dXJuIFE+WjtjYXNlIjw9IjpyZXR1cm4gUTw9WjtjYXNlIj49IjpyZXR1cm4gUT49WjtjYXNlIj09IjpyZXR1cm4gUT09WjtjYXNlIiE9IjpyZXR1cm4gUSE9WjtjYXNlIj09PSI6cmV0dXJuIFE9PT1aO2Nhc2UiIT09IjpyZXR1cm4gUSE9PVo7Y2FzZSJ8IjpyZXR1cm4gUXxaO2Nhc2UiJiI6cmV0dXJuIFEmWjtjYXNlIl4iOnJldHVybiBRXlo7Y2FzZSI8PCI6cmV0dXJuIFE8PFo7Y2FzZSI+PiI6cmV0dXJuIFE+Plo7Y2FzZSI+Pj4iOnJldHVybiBRPj4+Wn19aWYobi5pc0NhbGxFeHByZXNzaW9uKCkpe3ZhciBlZT1uLmdldCgiY2FsbGVlIiksdGU9dm9pZCAwLHJlPXZvaWQgMDtpZihlZS5pc0lkZW50aWZpZXIoKSYmIW4uc2NvcGUuZ2V0QmluZGluZyhlZS5ub2RlLm5hbWUsITApJiZwLmluZGV4T2YoZWUubm9kZS5uYW1lKT49MCYmKHJlPWVbcy5jYWxsZWUubmFtZV0pLGVlLmlzTWVtYmVyRXhwcmVzc2lvbigpKXt2YXIgbmU9ZWUuZ2V0KCJvYmplY3QiKSxpZT1lZS5nZXQoInByb3BlcnR5Iik7aWYobmUuaXNJZGVudGlmaWVyKCkmJmllLmlzSWRlbnRpZmllcigpJiZwLmluZGV4T2YobmUubm9kZS5uYW1lKT49MCYmZC5pbmRleE9mKGllLm5vZGUubmFtZSk8MCYmKHRlPWVbbmUubm9kZS5uYW1lXSxyZT10ZVtpZS5ub2RlLm5hbWVdKSxuZS5pc0xpdGVyYWwoKSYmaWUuaXNJZGVudGlmaWVyKCkpe3ZhciBzZT0oMCxvLmRlZmF1bHQpKG5lLm5vZGUudmFsdWUpOyJzdHJpbmciIT09c2UmJiJudW1iZXIiIT09c2V8fCh0ZT1uZS5ub2RlLnZhbHVlLHJlPXRlW2llLm5vZGUubmFtZV0pfX1pZihyZSl7dmFyIGFlPW4uZ2V0KCJhcmd1bWVudHMiKS5tYXAocik7aWYoIWkpcmV0dXJuO3JldHVybiByZS5hcHBseSh0ZSxhZSl9fXQobil9fXZhciBpPSEwLHM9dm9pZCAwLGE9bmV3IGYuZGVmYXVsdCx1PXIodGhpcyk7cmV0dXJuIGl8fCh1PXZvaWQgMCkse2NvbmZpZGVudDppLGRlb3B0OnMsdmFsdWU6dX19dC5fX2VzTW9kdWxlPSEwO3ZhciBhPXIoMTEpLG89bihhKSx1PXIoMiksbD1uKHUpLGM9cigxMzMpLGY9bihjKTt0LmV2YWx1YXRlVHJ1dGh5PWksdC5ldmFsdWF0ZT1zO3ZhciBwPVsiU3RyaW5nIiwiTnVtYmVyIiwiTWF0aCJdLGQ9WyJyYW5kb20iXX0pLmNhbGwodCxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKCl7dmFyIGU9dGhpcztkb3tpZighZS5wYXJlbnRQYXRofHxBcnJheS5pc0FycmF5KGUuY29udGFpbmVyKSYmZS5pc1N0YXRlbWVudCgpKWJyZWFrO2U9ZS5wYXJlbnRQYXRofXdoaWxlKGUpO2lmKGUmJihlLmlzUHJvZ3JhbSgpfHxlLmlzRmlsZSgpKSl0aHJvdyBuZXcgRXJyb3IoIkZpbGUvUHJvZ3JhbSBub2RlLCB3ZSBjYW4ndCBwb3NzaWJseSBmaW5kIGEgc3RhdGVtZW50IHBhcmVudCB0byB0aGlzIik7cmV0dXJuIGV9ZnVuY3Rpb24gcygpe3JldHVybiJsZWZ0Ij09PXRoaXMua2V5P3RoaXMuZ2V0U2libGluZygicmlnaHQiKToicmlnaHQiPT09dGhpcy5rZXk/dGhpcy5nZXRTaWJsaW5nKCJsZWZ0Iik6dm9pZCAwfWZ1bmN0aW9uIGEoKXt2YXIgZT1bXSx0PWZ1bmN0aW9uKHQpe3QmJihlPWUuY29uY2F0KHQuZ2V0Q29tcGxldGlvblJlY29yZHMoKSkpfTtpZih0aGlzLmlzSWZTdGF0ZW1lbnQoKSl0KHRoaXMuZ2V0KCJjb25zZXF1ZW50IikpLHQodGhpcy5nZXQoImFsdGVybmF0ZSIpKTtlbHNlIGlmKHRoaXMuaXNEb0V4cHJlc3Npb24oKXx8dGhpcy5pc0ZvcigpfHx0aGlzLmlzV2hpbGUoKSl0KHRoaXMuZ2V0KCJib2R5IikpO2Vsc2UgaWYodGhpcy5pc1Byb2dyYW0oKXx8dGhpcy5pc0Jsb2NrU3RhdGVtZW50KCkpdCh0aGlzLmdldCgiYm9keSIpLnBvcCgpKTtlbHNle2lmKHRoaXMuaXNGdW5jdGlvbigpKXJldHVybiB0aGlzLmdldCgiYm9keSIpLmdldENvbXBsZXRpb25SZWNvcmRzKCk7dGhpcy5pc1RyeVN0YXRlbWVudCgpPyh0KHRoaXMuZ2V0KCJibG9jayIpKSx0KHRoaXMuZ2V0KCJoYW5kbGVyIikpLHQodGhpcy5nZXQoImZpbmFsaXplciIpKSk6ZS5wdXNoKHRoaXMpfXJldHVybiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIF8uZGVmYXVsdC5nZXQoe3BhcmVudFBhdGg6dGhpcy5wYXJlbnRQYXRoLHBhcmVudDp0aGlzLnBhcmVudCxjb250YWluZXI6dGhpcy5jb250YWluZXIsbGlzdEtleTp0aGlzLmxpc3RLZXksa2V5OmV9KX1mdW5jdGlvbiB1KCl7cmV0dXJuIHRoaXMuZ2V0U2libGluZyh0aGlzLmtleS0xKX1mdW5jdGlvbiBsKCl7cmV0dXJuIHRoaXMuZ2V0U2libGluZyh0aGlzLmtleSsxKX1mdW5jdGlvbiBjKCl7Zm9yKHZhciBlPXRoaXMua2V5LHQ9dGhpcy5nZXRTaWJsaW5nKCsrZSkscj1bXTt0Lm5vZGU7KXIucHVzaCh0KSx0PXRoaXMuZ2V0U2libGluZygrK2UpO3JldHVybiByfWZ1bmN0aW9uIGYoKXtmb3IodmFyIGU9dGhpcy5rZXksdD10aGlzLmdldFNpYmxpbmcoLS1lKSxyPVtdO3Qubm9kZTspci5wdXNoKHQpLHQ9dGhpcy5nZXRTaWJsaW5nKC0tZSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcChlLHQpeyEwPT09dCYmKHQ9dGhpcy5jb250ZXh0KTt2YXIgcj1lLnNwbGl0KCIuIik7cmV0dXJuIDE9PT1yLmxlbmd0aD90aGlzLl9nZXRLZXkoZSx0KTp0aGlzLl9nZXRQYXR0ZXJuKHIsdCl9ZnVuY3Rpb24gZChlLHQpe3ZhciByPXRoaXMsbj10aGlzLm5vZGUsaT1uW2VdO3JldHVybiBBcnJheS5pc0FycmF5KGkpP2kubWFwKGZ1bmN0aW9uKHMsYSl7cmV0dXJuIF8uZGVmYXVsdC5nZXQoe2xpc3RLZXk6ZSxwYXJlbnRQYXRoOnIscGFyZW50Om4sY29udGFpbmVyOmksa2V5OmF9KS5zZXRDb250ZXh0KHQpfSk6Xy5kZWZhdWx0LmdldCh7cGFyZW50UGF0aDp0aGlzLHBhcmVudDpuLGNvbnRhaW5lcjpuLGtleTplfSkuc2V0Q29udGV4dCh0KX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciByPXRoaXMsbj1lLGk9QXJyYXkuaXNBcnJheShuKSxzPTAsbj1pP246KDAsQS5kZWZhdWx0KShuKTs7KXt2YXIgYTtpZihpKXtpZihzPj1uLmxlbmd0aClicmVhazthPW5bcysrXX1lbHNle2lmKHM9bi5uZXh0KCkscy5kb25lKWJyZWFrO2E9cy52YWx1ZX12YXIgbz1hO3I9Ii4iPT09bz9yLnBhcmVudFBhdGg6QXJyYXkuaXNBcnJheShyKT9yW29dOnIuZ2V0KG8sdCl9cmV0dXJuIHJ9ZnVuY3Rpb24gbShlKXtyZXR1cm4gQy5nZXRCaW5kaW5nSWRlbnRpZmllcnModGhpcy5ub2RlLGUpfWZ1bmN0aW9uIHkoZSl7cmV0dXJuIEMuZ2V0T3V0ZXJCaW5kaW5nSWRlbnRpZmllcnModGhpcy5ub2RlLGUpfWZ1bmN0aW9uIHYoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV0scj10aGlzLG49W10uY29uY2F0KHIpLGk9KDAsRS5kZWZhdWx0KShudWxsKTtuLmxlbmd0aDspe3ZhciBzPW4uc2hpZnQoKTtpZihzJiZzLm5vZGUpe3ZhciBhPUMuZ2V0QmluZGluZ0lkZW50aWZpZXJzLmtleXNbcy5ub2RlLnR5cGVdO2lmKHMuaXNJZGVudGlmaWVyKCkpaWYoZSl7dmFyIG89aVtzLm5vZGUubmFtZV09aVtzLm5vZGUubmFtZV18fFtdO28ucHVzaChzKX1lbHNlIGlbcy5ub2RlLm5hbWVdPXM7ZWxzZSBpZihzLmlzRXhwb3J0RGVjbGFyYXRpb24oKSl7dmFyIHU9cy5nZXQoImRlY2xhcmF0aW9uIik7dS5pc0RlY2xhcmF0aW9uKCkmJm4ucHVzaCh1KX1lbHNle2lmKHQpe2lmKHMuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCkpe24ucHVzaChzLmdldCgiaWQiKSk7Y29udGludWV9aWYocy5pc0Z1bmN0aW9uRXhwcmVzc2lvbigpKWNvbnRpbnVlfWlmKGEpZm9yKHZhciBsPTA7bDxhLmxlbmd0aDtsKyspe3ZhciBjPWFbbF0sZj1zLmdldChjKTsoQXJyYXkuaXNBcnJheShmKXx8Zi5ub2RlKSYmKG49bi5jb25jYXQoZikpfX19fXJldHVybiBpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIHRoaXMuZ2V0QmluZGluZ0lkZW50aWZpZXJQYXRocyhlLCEwKX10Ll9fZXNNb2R1bGU9ITA7dmFyIGI9cig5KSxFPW4oYikseD1yKDIpLEE9bih4KTt0LmdldFN0YXRlbWVudFBhcmVudD1pLHQuZ2V0T3Bwb3NpdGU9cyx0LmdldENvbXBsZXRpb25SZWNvcmRzPWEsdC5nZXRTaWJsaW5nPW8sdC5nZXRQcmV2U2libGluZz11LHQuZ2V0TmV4dFNpYmxpbmc9bCx0LmdldEFsbE5leHRTaWJsaW5ncz1jLHQuZ2V0QWxsUHJldlNpYmxpbmdzPWYsdC5nZXQ9cCx0Ll9nZXRLZXk9ZCx0Ll9nZXRQYXR0ZXJuPWgsdC5nZXRCaW5kaW5nSWRlbnRpZmllcnM9bSx0LmdldE91dGVyQmluZGluZ0lkZW50aWZpZXJzPXksdC5nZXRCaW5kaW5nSWRlbnRpZmllclBhdGhzPXYsdC5nZXRPdXRlckJpbmRpbmdJZGVudGlmaWVyUGF0aHM9Zzt2YXIgUz1yKDM2KSxfPW4oUyksRD1yKDEpLEM9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShEKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKCl7aWYodGhpcy50eXBlQW5ub3RhdGlvbilyZXR1cm4gdGhpcy50eXBlQW5ub3RhdGlvbjt2YXIgZT10aGlzLl9nZXRUeXBlQW5ub3RhdGlvbigpfHx5LmFueVR5cGVBbm5vdGF0aW9uKCk7cmV0dXJuIHkuaXNUeXBlQW5ub3RhdGlvbihlKSYmKGU9ZS50eXBlQW5ub3RhdGlvbiksdGhpcy50eXBlQW5ub3RhdGlvbj1lfWZ1bmN0aW9uIHMoKXt2YXIgZT10aGlzLm5vZGU7e2lmKGUpe2lmKGUudHlwZUFubm90YXRpb24pcmV0dXJuIGUudHlwZUFubm90YXRpb247dmFyIHQ9aFtlLnR5cGVdO3JldHVybiB0P3QuY2FsbCh0aGlzLGUpOih0PWhbdGhpcy5wYXJlbnRQYXRoLnR5cGVdLHQmJnQudmFsaWRQYXJlbnQ/dGhpcy5wYXJlbnRQYXRoLmdldFR5cGVBbm5vdGF0aW9uKCk6dm9pZCAwKX1pZigiaW5pdCI9PT10aGlzLmtleSYmdGhpcy5wYXJlbnRQYXRoLmlzVmFyaWFibGVEZWNsYXJhdG9yKCkpe3ZhciByPXRoaXMucGFyZW50UGF0aC5wYXJlbnRQYXRoLG49ci5wYXJlbnRQYXRoO3JldHVybiJsZWZ0Ij09PXIua2V5JiZuLmlzRm9ySW5TdGF0ZW1lbnQoKT95LnN0cmluZ1R5cGVBbm5vdGF0aW9uKCk6ImxlZnQiPT09ci5rZXkmJm4uaXNGb3JPZlN0YXRlbWVudCgpP3kuYW55VHlwZUFubm90YXRpb24oKTp5LnZvaWRUeXBlQW5ub3RhdGlvbigpfX19ZnVuY3Rpb24gYShlLHQpe3JldHVybiBvKGUsdGhpcy5nZXRUeXBlQW5ub3RhdGlvbigpLHQpfWZ1bmN0aW9uIG8oZSx0LHIpe2lmKCJzdHJpbmciPT09ZSlyZXR1cm4geS5pc1N0cmluZ1R5cGVBbm5vdGF0aW9uKHQpO2lmKCJudW1iZXIiPT09ZSlyZXR1cm4geS5pc051bWJlclR5cGVBbm5vdGF0aW9uKHQpO2lmKCJib29sZWFuIj09PWUpcmV0dXJuIHkuaXNCb29sZWFuVHlwZUFubm90YXRpb24odCk7aWYoImFueSI9PT1lKXJldHVybiB5LmlzQW55VHlwZUFubm90YXRpb24odCk7aWYoIm1peGVkIj09PWUpcmV0dXJuIHkuaXNNaXhlZFR5cGVBbm5vdGF0aW9uKHQpO2lmKCJlbXB0eSI9PT1lKXJldHVybiB5LmlzRW1wdHlUeXBlQW5ub3RhdGlvbih0KTtpZigidm9pZCI9PT1lKXJldHVybiB5LmlzVm9pZFR5cGVBbm5vdGF0aW9uKHQpO2lmKHIpcmV0dXJuITE7dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGJhc2UgdHlwZSAiK2UpfWZ1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcy5nZXRUeXBlQW5ub3RhdGlvbigpO2lmKHkuaXNBbnlUeXBlQW5ub3RhdGlvbih0KSlyZXR1cm4hMDtpZih5LmlzVW5pb25UeXBlQW5ub3RhdGlvbih0KSl7Zm9yKHZhciByPXQudHlwZXMsbj1BcnJheS5pc0FycmF5KHIpLGk9MCxyPW4/cjooMCxwLmRlZmF1bHQpKHIpOzspe3ZhciBzO2lmKG4pe2lmKGk+PXIubGVuZ3RoKWJyZWFrO3M9cltpKytdfWVsc2V7aWYoaT1yLm5leHQoKSxpLmRvbmUpYnJlYWs7cz1pLnZhbHVlfXZhciBhPXM7aWYoeS5pc0FueVR5cGVBbm5vdGF0aW9uKGEpfHxvKGUsYSwhMCkpcmV0dXJuITB9cmV0dXJuITF9cmV0dXJuIG8oZSx0LCEwKX1mdW5jdGlvbiBsKGUpe3ZhciB0PXRoaXMuZ2V0VHlwZUFubm90YXRpb24oKTtpZihlPWUuZ2V0VHlwZUFubm90YXRpb24oKSwheS5pc0FueVR5cGVBbm5vdGF0aW9uKHQpJiZ5LmlzRmxvd0Jhc2VBbm5vdGF0aW9uKHQpKXJldHVybiBlLnR5cGU9PT10LnR5cGV9ZnVuY3Rpb24gYyhlKXt2YXIgdD10aGlzLmdldFR5cGVBbm5vdGF0aW9uKCk7cmV0dXJuIHkuaXNHZW5lcmljVHlwZUFubm90YXRpb24odCkmJnkuaXNJZGVudGlmaWVyKHQuaWQse25hbWU6ZX0pfXQuX19lc01vZHVsZT0hMDt2YXIgZj1yKDIpLHA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShmKTt0LmdldFR5cGVBbm5vdGF0aW9uPWksdC5fZ2V0VHlwZUFubm90YXRpb249cyx0LmlzQmFzZVR5cGU9YSx0LmNvdWxkQmVCYXNlVHlwZT11LHQuYmFzZVR5cGVTdHJpY3RseU1hdGNoZXM9bCx0LmlzR2VuZXJpY1R5cGU9Yzt2YXIgZD1yKDM3NiksaD1uKGQpLG09cigxKSx5PW4obSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWUuc2NvcGUuZ2V0QmluZGluZyh0KSxuPVtdO2UudHlwZUFubm90YXRpb249Zi51bmlvblR5cGVBbm5vdGF0aW9uKG4pO3ZhciBzPVtdLGE9aShyLGUscyksdT1vKGUsdCk7aWYodSl7dmFyIGM9aShyLHUuaWZTdGF0ZW1lbnQpO2E9YS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGMuaW5kZXhPZihlKTwwfSksbi5wdXNoKHUudHlwZUFubm90YXRpb24pfWlmKGEubGVuZ3RoKXthPWEuY29uY2F0KHMpO2Zvcih2YXIgcD1hLGQ9QXJyYXkuaXNBcnJheShwKSxoPTAscD1kP3A6KDAsbC5kZWZhdWx0KShwKTs7KXt2YXIgbTtpZihkKXtpZihoPj1wLmxlbmd0aClicmVhazttPXBbaCsrXX1lbHNle2lmKGg9cC5uZXh0KCksaC5kb25lKWJyZWFrO209aC52YWx1ZX12YXIgeT1tO24ucHVzaCh5LmdldFR5cGVBbm5vdGF0aW9uKCkpfX1pZihuLmxlbmd0aClyZXR1cm4gZi5jcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9uKG4pfWZ1bmN0aW9uIGkoZSx0LHIpe3ZhciBuPWUuY29uc3RhbnRWaW9sYXRpb25zLnNsaWNlKCk7cmV0dXJuIG4udW5zaGlmdChlLnBhdGgpLG4uZmlsdGVyKGZ1bmN0aW9uKGUpe2U9ZS5yZXNvbHZlKCk7dmFyIG49ZS5fZ3Vlc3NFeGVjdXRpb25TdGF0dXNSZWxhdGl2ZVRvKHQpO3JldHVybiByJiYiZnVuY3Rpb24iPT09biYmci5wdXNoKGUpLCJiZWZvcmUiPT09bn0pfWZ1bmN0aW9uIHMoZSx0KXt2YXIgcj10Lm5vZGUub3BlcmF0b3Isbj10LmdldCgicmlnaHQiKS5yZXNvbHZlKCksaT10LmdldCgibGVmdCIpLnJlc29sdmUoKSxzPXZvaWQgMDtpZihpLmlzSWRlbnRpZmllcih7bmFtZTplfSk/cz1uOm4uaXNJZGVudGlmaWVyKHtuYW1lOmV9KSYmKHM9aSkscylyZXR1cm4iPT09Ij09PXI/cy5nZXRUeXBlQW5ub3RhdGlvbigpOmYuQk9PTEVBTl9OVU1CRVJfQklOQVJZX09QRVJBVE9SUy5pbmRleE9mKHIpPj0wP2YubnVtYmVyVHlwZUFubm90YXRpb24oKTp2b2lkIDA7aWYoIj09PSI9PT1yKXt2YXIgYT12b2lkIDAsbz12b2lkIDA7aWYoaS5pc1VuYXJ5RXhwcmVzc2lvbih7b3BlcmF0b3I6InR5cGVvZiJ9KT8oYT1pLG89bik6bi5pc1VuYXJ5RXhwcmVzc2lvbih7b3BlcmF0b3I6InR5cGVvZiJ9KSYmKGE9bixvPWkpLChvfHxhKSYmKG89by5yZXNvbHZlKCksby5pc0xpdGVyYWwoKSkpe2lmKCJzdHJpbmciPT10eXBlb2Ygby5ub2RlLnZhbHVlJiZhLmdldCgiYXJndW1lbnQiKS5pc0lkZW50aWZpZXIoe25hbWU6ZX0pKXJldHVybiBmLmNyZWF0ZVR5cGVBbm5vdGF0aW9uQmFzZWRPblR5cGVvZihvLm5vZGUudmFsdWUpfX19ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9dm9pZCAwO3Q9ZS5wYXJlbnRQYXRoOyl7aWYodC5pc0lmU3RhdGVtZW50KCl8fHQuaXNDb25kaXRpb25hbEV4cHJlc3Npb24oKSlyZXR1cm4idGVzdCI9PT1lLmtleT92b2lkIDA6dDtlPXR9fWZ1bmN0aW9uIG8oZSx0KXt2YXIgcj1hKGUpO2lmKHIpe3ZhciBuPXIuZ2V0KCJ0ZXN0IiksaT1bbl0sdT1bXTtkb3t2YXIgbD1pLnNoaWZ0KCkucmVzb2x2ZSgpO2lmKGwuaXNMb2dpY2FsRXhwcmVzc2lvbigpJiYoaS5wdXNoKGwuZ2V0KCJsZWZ0IikpLGkucHVzaChsLmdldCgicmlnaHQiKSkpLGwuaXNCaW5hcnlFeHByZXNzaW9uKCkpe3ZhciBjPXModCxsKTtjJiZ1LnB1c2goYyl9fXdoaWxlKGkubGVuZ3RoKTtyZXR1cm4gdS5sZW5ndGg/e3R5cGVBbm5vdGF0aW9uOmYuY3JlYXRlVW5pb25UeXBlQW5ub3RhdGlvbih1KSxpZlN0YXRlbWVudDpyfTpvKHIsdCl9fXQuX19lc01vZHVsZT0hMDt2YXIgdT1yKDIpLGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fSh1KTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5pc1JlZmVyZW5jZWQoKSl7dmFyIHQ9dGhpcy5zY29wZS5nZXRCaW5kaW5nKGUubmFtZSk7cmV0dXJuIHQ/dC5pZGVudGlmaWVyLnR5cGVBbm5vdGF0aW9uP3QuaWRlbnRpZmllci50eXBlQW5ub3RhdGlvbjpuKHRoaXMsZS5uYW1lKToidW5kZWZpbmVkIj09PWUubmFtZT9mLnZvaWRUeXBlQW5ub3RhdGlvbigpOiJOYU4iPT09ZS5uYW1lfHwiSW5maW5pdHkiPT09ZS5uYW1lP2YubnVtYmVyVHlwZUFubm90YXRpb24oKTp2b2lkIGUubmFtZX19O3ZhciBjPXIoMSksZj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KGMpO2UuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaSgpe3JldHVybiB0aGlzLmdldCgiaWQiKS5pc0lkZW50aWZpZXIoKT90aGlzLmdldCgiaW5pdCIpLmdldFR5cGVBbm5vdGF0aW9uKCk6dm9pZCAwfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUudHlwZUFubm90YXRpb259ZnVuY3Rpb24gYShlKXtpZih0aGlzLmdldCgiY2FsbGVlIikuaXNJZGVudGlmaWVyKCkpcmV0dXJuIGsuZ2VuZXJpY1R5cGVBbm5vdGF0aW9uKGUuY2FsbGVlKX1mdW5jdGlvbiBvKCl7cmV0dXJuIGsuc3RyaW5nVHlwZUFubm90YXRpb24oKX1mdW5jdGlvbiB1KGUpe3ZhciB0PWUub3BlcmF0b3I7cmV0dXJuInZvaWQiPT09dD9rLnZvaWRUeXBlQW5ub3RhdGlvbigpOmsuTlVNQkVSX1VOQVJZX09QRVJBVE9SUy5pbmRleE9mKHQpPj0wP2subnVtYmVyVHlwZUFubm90YXRpb24oKTprLlNUUklOR19VTkFSWV9PUEVSQVRPUlMuaW5kZXhPZih0KT49MD9rLnN0cmluZ1R5cGVBbm5vdGF0aW9uKCk6ay5CT09MRUFOX1VOQVJZX09QRVJBVE9SUy5pbmRleE9mKHQpPj0wP2suYm9vbGVhblR5cGVBbm5vdGF0aW9uKCk6dm9pZCAwfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZS5vcGVyYXRvcjtpZihrLk5VTUJFUl9CSU5BUllfT1BFUkFUT1JTLmluZGV4T2YodCk+PTApcmV0dXJuIGsubnVtYmVyVHlwZUFubm90YXRpb24oKTtpZihrLkJPT0xFQU5fQklOQVJZX09QRVJBVE9SUy5pbmRleE9mKHQpPj0wKXJldHVybiBrLmJvb2xlYW5UeXBlQW5ub3RhdGlvbigpO2lmKCIrIj09PXQpe3ZhciByPXRoaXMuZ2V0KCJyaWdodCIpLG49dGhpcy5nZXQoImxlZnQiKTtyZXR1cm4gbi5pc0Jhc2VUeXBlKCJudW1iZXIiKSYmci5pc0Jhc2VUeXBlKCJudW1iZXIiKT9rLm51bWJlclR5cGVBbm5vdGF0aW9uKCk6bi5pc0Jhc2VUeXBlKCJzdHJpbmciKXx8ci5pc0Jhc2VUeXBlKCJzdHJpbmciKT9rLnN0cmluZ1R5cGVBbm5vdGF0aW9uKCk6ay51bmlvblR5cGVBbm5vdGF0aW9uKFtrLnN0cmluZ1R5cGVBbm5vdGF0aW9uKCksay5udW1iZXJUeXBlQW5ub3RhdGlvbigpXSl9fWZ1bmN0aW9uIGMoKXtyZXR1cm4gay5jcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9uKFt0aGlzLmdldCgibGVmdCIpLmdldFR5cGVBbm5vdGF0aW9uKCksdGhpcy5nZXQoInJpZ2h0IikuZ2V0VHlwZUFubm90YXRpb24oKV0pfWZ1bmN0aW9uIGYoKXtyZXR1cm4gay5jcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9uKFt0aGlzLmdldCgiY29uc2VxdWVudCIpLmdldFR5cGVBbm5vdGF0aW9uKCksdGhpcy5nZXQoImFsdGVybmF0ZSIpLmdldFR5cGVBbm5vdGF0aW9uKCldKX1mdW5jdGlvbiBwKCl7cmV0dXJuIHRoaXMuZ2V0KCJleHByZXNzaW9ucyIpLnBvcCgpLmdldFR5cGVBbm5vdGF0aW9uKCl9ZnVuY3Rpb24gZCgpe3JldHVybiB0aGlzLmdldCgicmlnaHQiKS5nZXRUeXBlQW5ub3RhdGlvbigpfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5vcGVyYXRvcjtpZigiKysiPT09dHx8Ii0tIj09PXQpcmV0dXJuIGsubnVtYmVyVHlwZUFubm90YXRpb24oKX1mdW5jdGlvbiBtKCl7cmV0dXJuIGsuc3RyaW5nVHlwZUFubm90YXRpb24oKX1mdW5jdGlvbiB5KCl7cmV0dXJuIGsubnVtYmVyVHlwZUFubm90YXRpb24oKX1mdW5jdGlvbiB2KCl7cmV0dXJuIGsuYm9vbGVhblR5cGVBbm5vdGF0aW9uKCl9ZnVuY3Rpb24gZygpe3JldHVybiBrLm51bGxMaXRlcmFsVHlwZUFubm90YXRpb24oKX1mdW5jdGlvbiBiKCl7cmV0dXJuIGsuZ2VuZXJpY1R5cGVBbm5vdGF0aW9uKGsuaWRlbnRpZmllcigiUmVnRXhwIikpfWZ1bmN0aW9uIEUoKXtyZXR1cm4gay5nZW5lcmljVHlwZUFubm90YXRpb24oay5pZGVudGlmaWVyKCJPYmplY3QiKSl9ZnVuY3Rpb24geCgpe3JldHVybiBrLmdlbmVyaWNUeXBlQW5ub3RhdGlvbihrLmlkZW50aWZpZXIoIkFycmF5IikpfWZ1bmN0aW9uIEEoKXtyZXR1cm4geCgpfWZ1bmN0aW9uIFMoKXtyZXR1cm4gay5nZW5lcmljVHlwZUFubm90YXRpb24oay5pZGVudGlmaWVyKCJGdW5jdGlvbiIpKX1mdW5jdGlvbiBfKCl7cmV0dXJuIEModGhpcy5nZXQoImNhbGxlZSIpKX1mdW5jdGlvbiBEKCl7cmV0dXJuIEModGhpcy5nZXQoInRhZyIpKX1mdW5jdGlvbiBDKGUpe2lmKGU9ZS5yZXNvbHZlKCksZS5pc0Z1bmN0aW9uKCkpe2lmKGUuaXMoImFzeW5jIikpcmV0dXJuIGUuaXMoImdlbmVyYXRvciIpP2suZ2VuZXJpY1R5cGVBbm5vdGF0aW9uKGsuaWRlbnRpZmllcigiQXN5bmNJdGVyYXRvciIpKTprLmdlbmVyaWNUeXBlQW5ub3RhdGlvbihrLmlkZW50aWZpZXIoIlByb21pc2UiKSk7aWYoZS5ub2RlLnJldHVyblR5cGUpcmV0dXJuIGUubm9kZS5yZXR1cm5UeXBlfX10Ll9fZXNNb2R1bGU9ITAsdC5DbGFzc0RlY2xhcmF0aW9uPXQuQ2xhc3NFeHByZXNzaW9uPXQuRnVuY3Rpb25EZWNsYXJhdGlvbj10LkFycm93RnVuY3Rpb25FeHByZXNzaW9uPXQuRnVuY3Rpb25FeHByZXNzaW9uPXQuSWRlbnRpZmllcj12b2lkIDA7dmFyIHc9cigzNzUpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJJZGVudGlmaWVyIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbih3KS5kZWZhdWx0fX0pLHQuVmFyaWFibGVEZWNsYXJhdG9yPWksdC5UeXBlQ2FzdEV4cHJlc3Npb249cyx0Lk5ld0V4cHJlc3Npb249YSx0LlRlbXBsYXRlTGl0ZXJhbD1vLHQuVW5hcnlFeHByZXNzaW9uPXUsdC5CaW5hcnlFeHByZXNzaW9uPWwsdC5Mb2dpY2FsRXhwcmVzc2lvbj1jLHQuQ29uZGl0aW9uYWxFeHByZXNzaW9uPWYsdC5TZXF1ZW5jZUV4cHJlc3Npb249cCx0LkFzc2lnbm1lbnRFeHByZXNzaW9uPWQsdC5VcGRhdGVFeHByZXNzaW9uPWgsdC5TdHJpbmdMaXRlcmFsPW0sdC5OdW1lcmljTGl0ZXJhbD15LHQuQm9vbGVhbkxpdGVyYWw9dix0Lk51bGxMaXRlcmFsPWcsdC5SZWdFeHBMaXRlcmFsPWIsdC5PYmplY3RFeHByZXNzaW9uPUUsdC5BcnJheUV4cHJlc3Npb249eCx0LlJlc3RFbGVtZW50PUEsdC5DYWxsRXhwcmVzc2lvbj1fLHQuVGFnZ2VkVGVtcGxhdGVFeHByZXNzaW9uPUQ7dmFyIFA9cigxKSxrPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oUCk7cy52YWxpZFBhcmVudD0hMCxBLnZhbGlkUGFyZW50PSEwLHQuRnVuY3Rpb25FeHByZXNzaW9uPVMsdC5BcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbj1TLHQuRnVuY3Rpb25EZWNsYXJhdGlvbj1TLHQuQ2xhc3NFeHByZXNzaW9uPVMsdC5DbGFzc0RlY2xhcmF0aW9uPVN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlLHQpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ9bltzXTtyZXR1cm4iKiI9PT10fHxlPT09dH1pZighdGhpcy5pc01lbWJlckV4cHJlc3Npb24oKSlyZXR1cm4hMTtmb3IodmFyIG49ZS5zcGxpdCgiLiIpLGk9W3RoaXMubm9kZV0scz0wO2kubGVuZ3RoOyl7dmFyIGE9aS5zaGlmdCgpO2lmKHQmJnM9PT1uLmxlbmd0aClyZXR1cm4hMDtpZihDLmlzSWRlbnRpZmllcihhKSl7aWYoIXIoYS5uYW1lKSlyZXR1cm4hMX1lbHNlIGlmKEMuaXNMaXRlcmFsKGEpKXtpZighcihhLnZhbHVlKSlyZXR1cm4hMX1lbHNle2lmKEMuaXNNZW1iZXJFeHByZXNzaW9uKGEpKXtpZihhLmNvbXB1dGVkJiYhQy5pc0xpdGVyYWwoYS5wcm9wZXJ0eSkpcmV0dXJuITE7aS51bnNoaWZ0KGEucHJvcGVydHkpLGkudW5zaGlmdChhLm9iamVjdCk7Y29udGludWV9aWYoIUMuaXNUaGlzRXhwcmVzc2lvbihhKSlyZXR1cm4hMTtpZighcigidGhpcyIpKXJldHVybiExfWlmKCsrcz5uLmxlbmd0aClyZXR1cm4hMX1yZXR1cm4gcz09PW4ubGVuZ3RofWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dGhpcy5ub2RlJiZ0aGlzLm5vZGVbZV07cmV0dXJuIHQmJkFycmF5LmlzQXJyYXkodCk/ISF0Lmxlbmd0aDohIXR9ZnVuY3Rpb24gYSgpe3JldHVybiB0aGlzLnNjb3BlLmlzU3RhdGljKHRoaXMubm9kZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4hdGhpcy5oYXMoZSl9ZnVuY3Rpb24gdShlLHQpe3JldHVybiB0aGlzLm5vZGVbZV09PT10fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIEMuaXNUeXBlKHRoaXMudHlwZSxlKX1mdW5jdGlvbiBjKCl7cmV0dXJuKCJpbml0Ij09PXRoaXMua2V5fHwibGVmdCI9PT10aGlzLmtleSkmJnRoaXMucGFyZW50UGF0aC5pc0ZvcigpfWZ1bmN0aW9uIGYoZSl7cmV0dXJuISgiYm9keSIhPT10aGlzLmtleXx8IXRoaXMucGFyZW50UGF0aC5pc0Fycm93RnVuY3Rpb25FeHByZXNzaW9uKCkpJiYodGhpcy5pc0V4cHJlc3Npb24oKT9DLmlzQmxvY2tTdGF0ZW1lbnQoZSk6ISF0aGlzLmlzQmxvY2tTdGF0ZW1lbnQoKSYmQy5pc0V4cHJlc3Npb24oZSkpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9dGhpcyxyPSEwO2Rve3ZhciBuPXQuY29udGFpbmVyO2lmKHQuaXNGdW5jdGlvbigpJiYhcilyZXR1cm4hIWU7aWYocj0hMSxBcnJheS5pc0FycmF5KG4pJiZ0LmtleSE9PW4ubGVuZ3RoLTEpcmV0dXJuITF9d2hpbGUoKHQ9dC5wYXJlbnRQYXRoKSYmIXQuaXNQcm9ncmFtKCkpO3JldHVybiEwfWZ1bmN0aW9uIGQoKXtyZXR1cm4hdGhpcy5wYXJlbnRQYXRoLmlzTGFiZWxlZFN0YXRlbWVudCgpJiYhQy5pc0Jsb2NrU3RhdGVtZW50KHRoaXMuY29udGFpbmVyKSYmKDAsXy5kZWZhdWx0KShDLlNUQVRFTUVOVF9PUl9CTE9DS19LRVlTLHRoaXMua2V5KX1mdW5jdGlvbiBoKGUsdCl7aWYoIXRoaXMuaXNSZWZlcmVuY2VkSWRlbnRpZmllcigpKXJldHVybiExO3ZhciByPXRoaXMuc2NvcGUuZ2V0QmluZGluZyh0aGlzLm5vZGUubmFtZSk7aWYoIXJ8fCJtb2R1bGUiIT09ci5raW5kKXJldHVybiExO3ZhciBuPXIucGF0aCxpPW4ucGFyZW50UGF0aDtyZXR1cm4hIWkuaXNJbXBvcnREZWNsYXJhdGlvbigpJiYoaS5ub2RlLnNvdXJjZS52YWx1ZT09PWUmJighdHx8KCEoIW4uaXNJbXBvcnREZWZhdWx0U3BlY2lmaWVyKCl8fCJkZWZhdWx0IiE9PXQpfHwoISghbi5pc0ltcG9ydE5hbWVzcGFjZVNwZWNpZmllcigpfHwiKiIhPT10KXx8ISghbi5pc0ltcG9ydFNwZWNpZmllcigpfHxuLm5vZGUuaW1wb3J0ZWQubmFtZSE9PXQpKSkpKX1mdW5jdGlvbiBtKCl7dmFyIGU9dGhpcy5ub2RlO3JldHVybiBlLmVuZD90aGlzLmh1Yi5maWxlLmNvZGUuc2xpY2UoZS5zdGFydCxlLmVuZCk6IiJ9ZnVuY3Rpb24geShlKXtyZXR1cm4iYWZ0ZXIiIT09dGhpcy5fZ3Vlc3NFeGVjdXRpb25TdGF0dXNSZWxhdGl2ZVRvKGUpfWZ1bmN0aW9uIHYoZSl7dmFyIHQ9ZS5zY29wZS5nZXRGdW5jdGlvblBhcmVudCgpLHI9dGhpcy5zY29wZS5nZXRGdW5jdGlvblBhcmVudCgpO2lmKHQubm9kZSE9PXIubm9kZSl7dmFyIG49dGhpcy5fZ3Vlc3NFeGVjdXRpb25TdGF0dXNSZWxhdGl2ZVRvRGlmZmVyZW50RnVuY3Rpb25zKHQpO2lmKG4pcmV0dXJuIG47ZT10LnBhdGh9dmFyIGk9ZS5nZXRBbmNlc3RyeSgpO2lmKGkuaW5kZXhPZih0aGlzKT49MClyZXR1cm4iYWZ0ZXIiO3ZhciBzPXRoaXMuZ2V0QW5jZXN0cnkoKSxhPXZvaWQgMCxvPXZvaWQgMCx1PXZvaWQgMDtmb3IodT0wO3U8cy5sZW5ndGg7dSsrKXt2YXIgbD1zW3VdO2lmKChvPWkuaW5kZXhPZihsKSk+PTApe2E9bDticmVha319aWYoIWEpcmV0dXJuImJlZm9yZSI7dmFyIGM9aVtvLTFdLGY9c1t1LTFdO3JldHVybiBjJiZmP2MubGlzdEtleSYmYy5jb250YWluZXI9PT1mLmNvbnRhaW5lcj9jLmtleT5mLmtleT8iYmVmb3JlIjoiYWZ0ZXIiOkMuVklTSVRPUl9LRVlTW2MudHlwZV0uaW5kZXhPZihjLmtleSk+Qy5WSVNJVE9SX0tFWVNbZi50eXBlXS5pbmRleE9mKGYua2V5KT8iYmVmb3JlIjoiYWZ0ZXIiOiJiZWZvcmUifWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ZS5wYXRoO2lmKHQuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCkpe3ZhciByPXQuc2NvcGUuZ2V0QmluZGluZyh0Lm5vZGUuaWQubmFtZSk7aWYoIXIucmVmZXJlbmNlcylyZXR1cm4iYmVmb3JlIjtmb3IodmFyIG49ci5yZWZlcmVuY2VQYXRocyxpPW4scz1BcnJheS5pc0FycmF5KGkpLGE9MCxpPXM/aTooMCxBLmRlZmF1bHQpKGkpOzspe3ZhciBvO2lmKHMpe2lmKGE+PWkubGVuZ3RoKWJyZWFrO289aVthKytdfWVsc2V7aWYoYT1pLm5leHQoKSxhLmRvbmUpYnJlYWs7bz1hLnZhbHVlfXZhciB1PW87aWYoImNhbGxlZSIhPT11LmtleXx8IXUucGFyZW50UGF0aC5pc0NhbGxFeHByZXNzaW9uKCkpcmV0dXJufWZvcih2YXIgbD12b2lkIDAsYz1uLGY9QXJyYXkuaXNBcnJheShjKSxwPTAsYz1mP2M6KDAsQS5kZWZhdWx0KShjKTs7KXt2YXIgZDtpZihmKXtpZihwPj1jLmxlbmd0aClicmVhaztkPWNbcCsrXX1lbHNle2lmKHA9Yy5uZXh0KCkscC5kb25lKWJyZWFrO2Q9cC52YWx1ZX12YXIgaD1kO2lmKCEhIWguZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5ub2RlPT09dC5ub2RlfSkpe3ZhciBtPXRoaXMuX2d1ZXNzRXhlY3V0aW9uU3RhdHVzUmVsYXRpdmVUbyhoKTtpZihsKXtpZihsIT09bSlyZXR1cm59ZWxzZSBsPW19fXJldHVybiBsfX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIHRoaXMuX3Jlc29sdmUoZSx0KXx8dGhpc31mdW5jdGlvbiBFKGUsdCl7aWYoISh0JiZ0LmluZGV4T2YodGhpcyk+PTApKWlmKHQ9dHx8W10sdC5wdXNoKHRoaXMpLHRoaXMuaXNWYXJpYWJsZURlY2xhcmF0b3IoKSl7aWYodGhpcy5nZXQoImlkIikuaXNJZGVudGlmaWVyKCkpcmV0dXJuIHRoaXMuZ2V0KCJpbml0IikucmVzb2x2ZShlLHQpfWVsc2UgaWYodGhpcy5pc1JlZmVyZW5jZWRJZGVudGlmaWVyKCkpe3ZhciByPXRoaXMuc2NvcGUuZ2V0QmluZGluZyh0aGlzLm5vZGUubmFtZSk7aWYoIXIpcmV0dXJuO2lmKCFyLmNvbnN0YW50KXJldHVybjtpZigibW9kdWxlIj09PXIua2luZClyZXR1cm47aWYoci5wYXRoIT09dGhpcyl7dmFyIG49ci5wYXRoLnJlc29sdmUoZSx0KTtpZih0aGlzLmZpbmQoZnVuY3Rpb24oZSl7cmV0dXJuIGUubm9kZT09PW4ubm9kZX0pKXJldHVybjtyZXR1cm4gbn19ZWxzZXtpZih0aGlzLmlzVHlwZUNhc3RFeHByZXNzaW9uKCkpcmV0dXJuIHRoaXMuZ2V0KCJleHByZXNzaW9uIikucmVzb2x2ZShlLHQpO2lmKGUmJnRoaXMuaXNNZW1iZXJFeHByZXNzaW9uKCkpe3ZhciBpPXRoaXMudG9Db21wdXRlZEtleSgpO2lmKCFDLmlzTGl0ZXJhbChpKSlyZXR1cm47dmFyIHM9aS52YWx1ZSxhPXRoaXMuZ2V0KCJvYmplY3QiKS5yZXNvbHZlKGUsdCk7aWYoYS5pc09iamVjdEV4cHJlc3Npb24oKSlmb3IodmFyIG89YS5nZXQoInByb3BlcnRpZXMiKSx1PW8sbD1BcnJheS5pc0FycmF5KHUpLGM9MCx1PWw/dTooMCxBLmRlZmF1bHQpKHUpOzspe3ZhciBmO2lmKGwpe2lmKGM+PXUubGVuZ3RoKWJyZWFrO2Y9dVtjKytdfWVsc2V7aWYoYz11Lm5leHQoKSxjLmRvbmUpYnJlYWs7Zj1jLnZhbHVlfXZhciBwPWY7aWYocC5pc1Byb3BlcnR5KCkpe3ZhciBkPXAuZ2V0KCJrZXkiKSxoPXAuaXNudCgiY29tcHV0ZWQiKSYmZC5pc0lkZW50aWZpZXIoe25hbWU6c30pO2lmKGg9aHx8ZC5pc0xpdGVyYWwoe3ZhbHVlOnN9KSlyZXR1cm4gcC5nZXQoInZhbHVlIikucmVzb2x2ZShlLHQpfX1lbHNlIGlmKGEuaXNBcnJheUV4cHJlc3Npb24oKSYmIWlzTmFOKCtzKSl7dmFyIG09YS5nZXQoImVsZW1lbnRzIikseT1tW3NdO2lmKHkpcmV0dXJuIHkucmVzb2x2ZShlLHQpfX19fXQuX19lc01vZHVsZT0hMCx0LmlzPXZvaWQgMDt2YXIgeD1yKDIpLEE9bih4KTt0Lm1hdGNoZXNQYXR0ZXJuPWksdC5oYXM9cyx0LmlzU3RhdGljPWEsdC5pc250PW8sdC5lcXVhbHM9dSx0LmlzTm9kZVR5cGU9bCx0LmNhbkhhdmVWYXJpYWJsZURlY2xhcmF0aW9uT3JFeHByZXNzaW9uPWMsdC5jYW5Td2FwQmV0d2VlbkV4cHJlc3Npb25BbmRTdGF0ZW1lbnQ9Zix0LmlzQ29tcGxldGlvblJlY29yZD1wLHQuaXNTdGF0ZW1lbnRPckJsb2NrPWQsdC5yZWZlcmVuY2VzSW1wb3J0PWgsdC5nZXRTb3VyY2U9bSwKdC53aWxsSU1heWJlRXhlY3V0ZUJlZm9yZT15LHQuX2d1ZXNzRXhlY3V0aW9uU3RhdHVzUmVsYXRpdmVUbz12LHQuX2d1ZXNzRXhlY3V0aW9uU3RhdHVzUmVsYXRpdmVUb0RpZmZlcmVudEZ1bmN0aW9ucz1nLHQucmVzb2x2ZT1iLHQuX3Jlc29sdmU9RTt2YXIgUz1yKDExMSksXz1uKFMpLEQ9cigxKSxDPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oRCk7dC5pcz1zfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuX19lc01vZHVsZT0hMDt2YXIgaT1yKDIpLHM9bihpKSxhPXIoMyksbz1uKGEpLHU9cigxKSxsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0odSksYz17UmVmZXJlbmNlZElkZW50aWZpZXI6ZnVuY3Rpb24oZSx0KXtpZighZS5pc0pTWElkZW50aWZpZXIoKXx8IXUucmVhY3QuaXNDb21wYXRUYWcoZS5ub2RlLm5hbWUpfHxlLnBhcmVudFBhdGguaXNKU1hNZW1iZXJFeHByZXNzaW9uKCkpe2lmKCJ0aGlzIj09PWUubm9kZS5uYW1lKXt2YXIgcj1lLnNjb3BlO2Rve2lmKHIucGF0aC5pc0Z1bmN0aW9uKCkmJiFyLnBhdGguaXNBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbigpKWJyZWFrfXdoaWxlKHI9ci5wYXJlbnQpO3ImJnQuYnJlYWtPblNjb3BlUGF0aHMucHVzaChyLnBhdGgpfXZhciBuPWUuc2NvcGUuZ2V0QmluZGluZyhlLm5vZGUubmFtZSk7biYmbj09PXQuc2NvcGUuZ2V0QmluZGluZyhlLm5vZGUubmFtZSkmJih0LmJpbmRpbmdzW2Uubm9kZS5uYW1lXT1uKX19fSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpeygwLG8uZGVmYXVsdCkodGhpcyxlKSx0aGlzLmJyZWFrT25TY29wZVBhdGhzPVtdLHRoaXMuYmluZGluZ3M9e30sdGhpcy5zY29wZXM9W10sdGhpcy5zY29wZT1yLHRoaXMucGF0aD10LHRoaXMuYXR0YWNoQWZ0ZXI9ITF9cmV0dXJuIGUucHJvdG90eXBlLmlzQ29tcGF0aWJsZVNjb3BlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmJpbmRpbmdzKXt2YXIgcj10aGlzLmJpbmRpbmdzW3RdO2lmKCFlLmJpbmRpbmdJZGVudGlmaWVyRXF1YWxzKHQsci5pZGVudGlmaWVyKSlyZXR1cm4hMX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuZ2V0Q29tcGF0aWJsZVNjb3Blcz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aC5zY29wZTtkb3tpZighdGhpcy5pc0NvbXBhdGlibGVTY29wZShlKSlicmVhaztpZih0aGlzLnNjb3Blcy5wdXNoKGUpLHRoaXMuYnJlYWtPblNjb3BlUGF0aHMuaW5kZXhPZihlLnBhdGgpPj0wKWJyZWFrfXdoaWxlKGU9ZS5wYXJlbnQpfSxlLnByb3RvdHlwZS5nZXRBdHRhY2htZW50UGF0aD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2dldEF0dGFjaG1lbnRQYXRoKCk7aWYoZSl7dmFyIHQ9ZS5zY29wZTtpZih0LnBhdGg9PT1lJiYodD1lLnNjb3BlLnBhcmVudCksdC5wYXRoLmlzUHJvZ3JhbSgpfHx0LnBhdGguaXNGdW5jdGlvbigpKWZvcih2YXIgciBpbiB0aGlzLmJpbmRpbmdzKWlmKHQuaGFzT3duQmluZGluZyhyKSl7dmFyIG49dGhpcy5iaW5kaW5nc1tyXTtpZigicGFyYW0iIT09bi5raW5kJiZ0aGlzLmdldEF0dGFjaG1lbnRQYXJlbnRGb3JQYXRoKG4ucGF0aCkua2V5PmUua2V5KXt0aGlzLmF0dGFjaEFmdGVyPSEwLGU9bi5wYXRoO2Zvcih2YXIgaT1uLmNvbnN0YW50VmlvbGF0aW9ucyxhPUFycmF5LmlzQXJyYXkoaSksbz0wLGk9YT9pOigwLHMuZGVmYXVsdCkoaSk7Oyl7dmFyIHU7aWYoYSl7aWYobz49aS5sZW5ndGgpYnJlYWs7dT1pW28rK119ZWxzZXtpZihvPWkubmV4dCgpLG8uZG9uZSlicmVhazt1PW8udmFsdWV9dmFyIGw9dTt0aGlzLmdldEF0dGFjaG1lbnRQYXJlbnRGb3JQYXRoKGwpLmtleT5lLmtleSYmKGU9bCl9fX1yZXR1cm4gZS5wYXJlbnRQYXRoLmlzRXhwb3J0RGVjbGFyYXRpb24oKSYmKGU9ZS5wYXJlbnRQYXRoKSxlfX0sZS5wcm90b3R5cGUuX2dldEF0dGFjaG1lbnRQYXRoPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zY29wZXMsdD1lLnBvcCgpO2lmKHQpe2lmKHQucGF0aC5pc0Z1bmN0aW9uKCkpe2lmKHRoaXMuaGFzT3duUGFyYW1CaW5kaW5ncyh0KSl7aWYodGhpcy5zY29wZT09PXQpcmV0dXJuO3JldHVybiB0LnBhdGguZ2V0KCJib2R5IikuZ2V0KCJib2R5IilbMF19cmV0dXJuIHRoaXMuZ2V0TmV4dFNjb3BlQXR0YWNobWVudFBhcmVudCgpfXJldHVybiB0LnBhdGguaXNQcm9ncmFtKCk/dGhpcy5nZXROZXh0U2NvcGVBdHRhY2htZW50UGFyZW50KCk6dm9pZCAwfX0sZS5wcm90b3R5cGUuZ2V0TmV4dFNjb3BlQXR0YWNobWVudFBhcmVudD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2NvcGVzLnBvcCgpO2lmKGUpcmV0dXJuIHRoaXMuZ2V0QXR0YWNobWVudFBhcmVudEZvclBhdGgoZS5wYXRoKX0sZS5wcm90b3R5cGUuZ2V0QXR0YWNobWVudFBhcmVudEZvclBhdGg9ZnVuY3Rpb24oZSl7ZG97aWYoIWUucGFyZW50UGF0aHx8QXJyYXkuaXNBcnJheShlLmNvbnRhaW5lcikmJmUuaXNTdGF0ZW1lbnQoKXx8ZS5pc1ZhcmlhYmxlRGVjbGFyYXRvcigpJiZudWxsIT09ZS5wYXJlbnRQYXRoLm5vZGUmJmUucGFyZW50UGF0aC5ub2RlLmRlY2xhcmF0aW9ucy5sZW5ndGg+MSlyZXR1cm4gZX13aGlsZShlPWUucGFyZW50UGF0aCl9LGUucHJvdG90eXBlLmhhc093blBhcmFtQmluZGluZ3M9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0IGluIHRoaXMuYmluZGluZ3MpaWYoZS5oYXNPd25CaW5kaW5nKHQpKXt2YXIgcj10aGlzLmJpbmRpbmdzW3RdO2lmKCJwYXJhbSI9PT1yLmtpbmQmJnIuY29uc3RhbnQpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3ZhciBlPXRoaXMucGF0aC5ub2RlO2lmKCFlLl9ob2lzdGVkKXtlLl9ob2lzdGVkPSEwLHRoaXMucGF0aC50cmF2ZXJzZShjLHRoaXMpLHRoaXMuZ2V0Q29tcGF0aWJsZVNjb3BlcygpO3ZhciB0PXRoaXMuZ2V0QXR0YWNobWVudFBhdGgoKTtpZih0JiZ0LmdldEZ1bmN0aW9uUGFyZW50KCkhPT10aGlzLnBhdGguZ2V0RnVuY3Rpb25QYXJlbnQoKSl7dmFyIHI9dC5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoInJlZiIpLG49bC52YXJpYWJsZURlY2xhcmF0b3Iocix0aGlzLnBhdGgubm9kZSk7dFt0aGlzLmF0dGFjaEFmdGVyPyJpbnNlcnRBZnRlciI6Imluc2VydEJlZm9yZSJdKFt0LmlzVmFyaWFibGVEZWNsYXJhdG9yKCk/bjpsLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW25dKV0pO3ZhciBpPXRoaXMucGF0aC5wYXJlbnRQYXRoO2kuaXNKU1hFbGVtZW50KCkmJnRoaXMucGF0aC5jb250YWluZXI9PT1pLm5vZGUuY2hpbGRyZW4mJihyPWwuSlNYRXhwcmVzc2lvbkNvbnRhaW5lcihyKSksdGhpcy5wYXRoLnJlcGxhY2VXaXRoKHIpfX19LGV9KCk7dC5kZWZhdWx0PWYsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dC5fX2VzTW9kdWxlPSEwO3QuaG9va3M9W2Z1bmN0aW9uKGUsdCl7aWYoInRlc3QiPT09ZS5rZXkmJih0LmlzV2hpbGUoKXx8dC5pc1N3aXRjaENhc2UoKSl8fCJkZWNsYXJhdGlvbiI9PT1lLmtleSYmdC5pc0V4cG9ydERlY2xhcmF0aW9uKCl8fCJib2R5Ij09PWUua2V5JiZ0LmlzTGFiZWxlZFN0YXRlbWVudCgpfHwiZGVjbGFyYXRpb25zIj09PWUubGlzdEtleSYmdC5pc1ZhcmlhYmxlRGVjbGFyYXRpb24oKSYmMT09PXQubm9kZS5kZWNsYXJhdGlvbnMubGVuZ3RofHwiZXhwcmVzc2lvbiI9PT1lLmtleSYmdC5pc0V4cHJlc3Npb25TdGF0ZW1lbnQoKSlyZXR1cm4gdC5yZW1vdmUoKSwhMH0sZnVuY3Rpb24oZSx0KXtpZih0LmlzU2VxdWVuY2VFeHByZXNzaW9uKCkmJjE9PT10Lm5vZGUuZXhwcmVzc2lvbnMubGVuZ3RoKXJldHVybiB0LnJlcGxhY2VXaXRoKHQubm9kZS5leHByZXNzaW9uc1swXSksITB9LGZ1bmN0aW9uKGUsdCl7aWYodC5pc0JpbmFyeSgpKXJldHVybiJsZWZ0Ij09PWUua2V5P3QucmVwbGFjZVdpdGgodC5ub2RlLnJpZ2h0KTp0LnJlcGxhY2VXaXRoKHQubm9kZS5sZWZ0KSwhMH0sZnVuY3Rpb24oZSx0KXtpZih0LmlzSWZTdGF0ZW1lbnQoKSYmKCJjb25zZXF1ZW50Ij09PWUua2V5fHwiYWx0ZXJuYXRlIj09PWUua2V5KXx8ImJvZHkiPT09ZS5rZXkmJih0LmlzTG9vcCgpfHx0LmlzQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24oKSkpcmV0dXJuIGUucmVwbGFjZVdpdGgoe3R5cGU6IkJsb2NrU3RhdGVtZW50Iixib2R5OltdfSksITB9XX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBpKGUpe2lmKHRoaXMuX2Fzc2VydFVucmVtb3ZlZCgpLGU9dGhpcy5fdmVyaWZ5Tm9kZUxpc3QoZSksdGhpcy5wYXJlbnRQYXRoLmlzRXhwcmVzc2lvblN0YXRlbWVudCgpfHx0aGlzLnBhcmVudFBhdGguaXNMYWJlbGVkU3RhdGVtZW50KCkpcmV0dXJuIHRoaXMucGFyZW50UGF0aC5pbnNlcnRCZWZvcmUoZSk7aWYodGhpcy5pc05vZGVUeXBlKCJFeHByZXNzaW9uIil8fHRoaXMucGFyZW50UGF0aC5pc0ZvclN0YXRlbWVudCgpJiYiaW5pdCI9PT10aGlzLmtleSl0aGlzLm5vZGUmJmUucHVzaCh0aGlzLm5vZGUpLHRoaXMucmVwbGFjZUV4cHJlc3Npb25XaXRoU3RhdGVtZW50cyhlKTtlbHNle2lmKHRoaXMuX21heWJlUG9wRnJvbVN0YXRlbWVudHMoZSksQXJyYXkuaXNBcnJheSh0aGlzLmNvbnRhaW5lcikpcmV0dXJuIHRoaXMuX2NvbnRhaW5lckluc2VydEJlZm9yZShlKTtpZighdGhpcy5pc1N0YXRlbWVudE9yQmxvY2soKSl0aHJvdyBuZXcgRXJyb3IoIldlIGRvbid0IGtub3cgd2hhdCB0byBkbyB3aXRoIHRoaXMgbm9kZSB0eXBlLiBXZSB3ZXJlIHByZXZpb3VzbHkgYSBTdGF0ZW1lbnQgYnV0IHdlIGNhbid0IGZpdCBpbiBoZXJlPyIpO3RoaXMubm9kZSYmZS5wdXNoKHRoaXMubm9kZSksdGhpcy5fcmVwbGFjZVdpdGgoRC5ibG9ja1N0YXRlbWVudChlKSl9cmV0dXJuW3RoaXNdfWZ1bmN0aW9uIHMoZSx0KXt0aGlzLnVwZGF0ZVNpYmxpbmdLZXlzKGUsdC5sZW5ndGgpO2Zvcih2YXIgcj1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPWUrbixzPXRbbl07aWYodGhpcy5jb250YWluZXIuc3BsaWNlKGksMCxzKSx0aGlzLmNvbnRleHQpe3ZhciBhPXRoaXMuY29udGV4dC5jcmVhdGUodGhpcy5wYXJlbnQsdGhpcy5jb250YWluZXIsaSx0aGlzLmxpc3RLZXkpO3RoaXMuY29udGV4dC5xdWV1ZSYmYS5wdXNoQ29udGV4dCh0aGlzLmNvbnRleHQpLHIucHVzaChhKX1lbHNlIHIucHVzaChTLmRlZmF1bHQuZ2V0KHtwYXJlbnRQYXRoOnRoaXMucGFyZW50UGF0aCxwYXJlbnQ6dGhpcy5wYXJlbnQsY29udGFpbmVyOnRoaXMuY29udGFpbmVyLGxpc3RLZXk6dGhpcy5saXN0S2V5LGtleTppfSkpfWZvcih2YXIgbz10aGlzLl9nZXRRdWV1ZUNvbnRleHRzKCksdT1yLGw9QXJyYXkuaXNBcnJheSh1KSxjPTAsdT1sP3U6KDAsZy5kZWZhdWx0KSh1KTs7KXt2YXIgZjtpZihsKXtpZihjPj11Lmxlbmd0aClicmVhaztmPXVbYysrXX1lbHNle2lmKGM9dS5uZXh0KCksYy5kb25lKWJyZWFrO2Y9Yy52YWx1ZX12YXIgcD1mO3Auc2V0U2NvcGUoKSxwLmRlYnVnKGZ1bmN0aW9uKCl7cmV0dXJuIkluc2VydGVkLiJ9KTtmb3IodmFyIGQ9byxoPUFycmF5LmlzQXJyYXkoZCksbT0wLGQ9aD9kOigwLGcuZGVmYXVsdCkoZCk7Oyl7dmFyIHk7aWYoaCl7aWYobT49ZC5sZW5ndGgpYnJlYWs7eT1kW20rK119ZWxzZXtpZihtPWQubmV4dCgpLG0uZG9uZSlicmVhazt5PW0udmFsdWV9eS5tYXliZVF1ZXVlKHAsITApfX1yZXR1cm4gcn1mdW5jdGlvbiBhKGUpe3JldHVybiB0aGlzLl9jb250YWluZXJJbnNlcnQodGhpcy5rZXksZSl9ZnVuY3Rpb24gbyhlKXtyZXR1cm4gdGhpcy5fY29udGFpbmVySW5zZXJ0KHRoaXMua2V5KzEsZSl9ZnVuY3Rpb24gdShlKXt2YXIgdD1lW2UubGVuZ3RoLTFdOyhELmlzSWRlbnRpZmllcih0KXx8RC5pc0V4cHJlc3Npb25TdGF0ZW1lbnQodCkmJkQuaXNJZGVudGlmaWVyKHQuZXhwcmVzc2lvbikpJiYhdGhpcy5pc0NvbXBsZXRpb25SZWNvcmQoKSYmZS5wb3AoKX1mdW5jdGlvbiBsKGUpe2lmKHRoaXMuX2Fzc2VydFVucmVtb3ZlZCgpLGU9dGhpcy5fdmVyaWZ5Tm9kZUxpc3QoZSksdGhpcy5wYXJlbnRQYXRoLmlzRXhwcmVzc2lvblN0YXRlbWVudCgpfHx0aGlzLnBhcmVudFBhdGguaXNMYWJlbGVkU3RhdGVtZW50KCkpcmV0dXJuIHRoaXMucGFyZW50UGF0aC5pbnNlcnRBZnRlcihlKTtpZih0aGlzLmlzTm9kZVR5cGUoIkV4cHJlc3Npb24iKXx8dGhpcy5wYXJlbnRQYXRoLmlzRm9yU3RhdGVtZW50KCkmJiJpbml0Ij09PXRoaXMua2V5KXtpZih0aGlzLm5vZGUpe3ZhciB0PXRoaXMuc2NvcGUuZ2VuZXJhdGVEZWNsYXJlZFVpZElkZW50aWZpZXIoKTtlLnVuc2hpZnQoRC5leHByZXNzaW9uU3RhdGVtZW50KEQuYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLHQsdGhpcy5ub2RlKSkpLGUucHVzaChELmV4cHJlc3Npb25TdGF0ZW1lbnQodCkpfXRoaXMucmVwbGFjZUV4cHJlc3Npb25XaXRoU3RhdGVtZW50cyhlKX1lbHNle2lmKHRoaXMuX21heWJlUG9wRnJvbVN0YXRlbWVudHMoZSksQXJyYXkuaXNBcnJheSh0aGlzLmNvbnRhaW5lcikpcmV0dXJuIHRoaXMuX2NvbnRhaW5lckluc2VydEFmdGVyKGUpO2lmKCF0aGlzLmlzU3RhdGVtZW50T3JCbG9jaygpKXRocm93IG5ldyBFcnJvcigiV2UgZG9uJ3Qga25vdyB3aGF0IHRvIGRvIHdpdGggdGhpcyBub2RlIHR5cGUuIFdlIHdlcmUgcHJldmlvdXNseSBhIFN0YXRlbWVudCBidXQgd2UgY2FuJ3QgZml0IGluIGhlcmU/Iik7dGhpcy5ub2RlJiZlLnVuc2hpZnQodGhpcy5ub2RlKSx0aGlzLl9yZXBsYWNlV2l0aChELmJsb2NrU3RhdGVtZW50KGUpKX1yZXR1cm5bdGhpc119ZnVuY3Rpb24gYyhlLHQpe2lmKHRoaXMucGFyZW50KWZvcih2YXIgcj1iLnBhdGguZ2V0KHRoaXMucGFyZW50KSxuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBpPXJbbl07aS5rZXk+PWUmJihpLmtleSs9dCl9fWZ1bmN0aW9uIGYoZSl7aWYoIWUpcmV0dXJuW107ZS5jb25zdHJ1Y3RvciE9PUFycmF5JiYoZT1bZV0pO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgcj1lW3RdLG49dm9pZCAwO2lmKHI/Im9iamVjdCIhPT0odm9pZCAwPT09cj8idW5kZWZpbmVkIjooMCx5LmRlZmF1bHQpKHIpKT9uPSJjb250YWlucyBhIG5vbi1vYmplY3Qgbm9kZSI6ci50eXBlP3IgaW5zdGFuY2VvZiBTLmRlZmF1bHQmJihuPSJoYXMgYSBOb2RlUGF0aCB3aGVuIGl0IGV4cGVjdGVkIGEgcmF3IG9iamVjdCIpOm49IndpdGhvdXQgYSB0eXBlIjpuPSJoYXMgZmFsc3kgbm9kZSIsbil7dmFyIGk9QXJyYXkuaXNBcnJheShyKT8iYXJyYXkiOnZvaWQgMD09PXI/InVuZGVmaW5lZCI6KDAseS5kZWZhdWx0KShyKTt0aHJvdyBuZXcgRXJyb3IoIk5vZGUgbGlzdCAiK24rIiB3aXRoIHRoZSBpbmRleCBvZiAiK3QrIiBhbmQgdHlwZSBvZiAiK2kpfX1yZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHRoaXMuX2Fzc2VydFVucmVtb3ZlZCgpLHQ9dGhpcy5fdmVyaWZ5Tm9kZUxpc3QodCksUy5kZWZhdWx0LmdldCh7cGFyZW50UGF0aDp0aGlzLHBhcmVudDp0aGlzLm5vZGUsY29udGFpbmVyOnRoaXMubm9kZVtlXSxsaXN0S2V5OmUsa2V5OjB9KS5pbnNlcnRCZWZvcmUodCl9ZnVuY3Rpb24gZChlLHQpe3RoaXMuX2Fzc2VydFVucmVtb3ZlZCgpLHQ9dGhpcy5fdmVyaWZ5Tm9kZUxpc3QodCk7dmFyIHI9dGhpcy5ub2RlW2VdO3JldHVybiBTLmRlZmF1bHQuZ2V0KHtwYXJlbnRQYXRoOnRoaXMscGFyZW50OnRoaXMubm9kZSxjb250YWluZXI6cixsaXN0S2V5OmUsa2V5OnIubGVuZ3RofSkucmVwbGFjZVdpdGhNdWx0aXBsZSh0KX1mdW5jdGlvbiBoKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnRoaXMuc2NvcGU7cmV0dXJuIG5ldyB4LmRlZmF1bHQodGhpcyxlKS5ydW4oKX10Ll9fZXNNb2R1bGU9ITA7dmFyIG09cigxMSkseT1uKG0pLHY9cigyKSxnPW4odik7dC5pbnNlcnRCZWZvcmU9aSx0Ll9jb250YWluZXJJbnNlcnQ9cyx0Ll9jb250YWluZXJJbnNlcnRCZWZvcmU9YSx0Ll9jb250YWluZXJJbnNlcnRBZnRlcj1vLHQuX21heWJlUG9wRnJvbVN0YXRlbWVudHM9dSx0Lmluc2VydEFmdGVyPWwsdC51cGRhdGVTaWJsaW5nS2V5cz1jLHQuX3ZlcmlmeU5vZGVMaXN0PWYsdC51bnNoaWZ0Q29udGFpbmVyPXAsdC5wdXNoQ29udGFpbmVyPWQsdC5ob2lzdD1oO3ZhciBiPXIoODgpLEU9cigzNzgpLHg9bihFKSxBPXIoMzYpLFM9bihBKSxfPXIoMSksRD1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KF8pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXtpZih0aGlzLl9hc3NlcnRVbnJlbW92ZWQoKSx0aGlzLnJlc3luYygpLHRoaXMuX2NhbGxSZW1vdmFsSG9va3MoKSlyZXR1cm4gdm9pZCB0aGlzLl9tYXJrUmVtb3ZlZCgpO3RoaXMuc2hhcmVDb21tZW50c1dpdGhTaWJsaW5ncygpLHRoaXMuX3JlbW92ZSgpLHRoaXMuX21hcmtSZW1vdmVkKCl9ZnVuY3Rpb24gaSgpe2Zvcih2YXIgZT1jLmhvb2tzLHQ9QXJyYXkuaXNBcnJheShlKSxyPTAsZT10P2U6KDAsbC5kZWZhdWx0KShlKTs7KXt2YXIgbjtpZih0KXtpZihyPj1lLmxlbmd0aClicmVhaztuPWVbcisrXX1lbHNle2lmKHI9ZS5uZXh0KCksci5kb25lKWJyZWFrO249ci52YWx1ZX1pZihuKHRoaXMsdGhpcy5wYXJlbnRQYXRoKSlyZXR1cm4hMH19ZnVuY3Rpb24gcygpe0FycmF5LmlzQXJyYXkodGhpcy5jb250YWluZXIpPyh0aGlzLmNvbnRhaW5lci5zcGxpY2UodGhpcy5rZXksMSksdGhpcy51cGRhdGVTaWJsaW5nS2V5cyh0aGlzLmtleSwtMSkpOnRoaXMuX3JlcGxhY2VXaXRoKG51bGwpfWZ1bmN0aW9uIGEoKXt0aGlzLnNob3VsZFNraXA9ITAsdGhpcy5yZW1vdmVkPSEwLHRoaXMubm9kZT1udWxsfWZ1bmN0aW9uIG8oKXtpZih0aGlzLnJlbW92ZWQpdGhyb3cgdGhpcy5idWlsZENvZGVGcmFtZUVycm9yKCJOb2RlUGF0aCBoYXMgYmVlbiByZW1vdmVkIHNvIGlzIHJlYWQtb25seS4iKX10Ll9fZXNNb2R1bGU9ITA7dmFyIHU9cigyKSxsPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0odSk7dC5yZW1vdmU9bix0Ll9jYWxsUmVtb3ZhbEhvb2tzPWksdC5fcmVtb3ZlPXMsdC5fbWFya1JlbW92ZWQ9YSx0Ll9hc3NlcnRVbnJlbW92ZWQ9bzt2YXIgYz1yKDM3OSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXt0aGlzLnJlc3luYygpLGU9dGhpcy5fdmVyaWZ5Tm9kZUxpc3QoZSksRS5pbmhlcml0TGVhZGluZ0NvbW1lbnRzKGVbMF0sdGhpcy5ub2RlKSxFLmluaGVyaXRUcmFpbGluZ0NvbW1lbnRzKGVbZS5sZW5ndGgtMV0sdGhpcy5ub2RlKSx0aGlzLm5vZGU9dGhpcy5jb250YWluZXJbdGhpcy5rZXldPW51bGwsdGhpcy5pbnNlcnRBZnRlcihlKSx0aGlzLm5vZGU/dGhpcy5yZXF1ZXVlKCk6dGhpcy5yZW1vdmUoKX1mdW5jdGlvbiBzKGUpe3RoaXMucmVzeW5jKCk7dHJ5e2U9IigiK2UrIikiLGU9KDAsZy5wYXJzZSkoZSl9Y2F0Y2gocil7dmFyIHQ9ci5sb2M7dGhyb3cgdCYmKHIubWVzc2FnZSs9IiAtIG1ha2Ugc3VyZSB0aGlzIGlzIGFuIGV4cHJlc3Npb24uIixyLm1lc3NhZ2UrPSJcbiIrKDAsZC5kZWZhdWx0KShlLHQubGluZSx0LmNvbHVtbisxKSkscn1yZXR1cm4gZT1lLnByb2dyYW0uYm9keVswXS5leHByZXNzaW9uLG0uZGVmYXVsdC5yZW1vdmVQcm9wZXJ0aWVzKGUpLHRoaXMucmVwbGFjZVdpdGgoZSl9ZnVuY3Rpb24gYShlKXtpZih0aGlzLnJlc3luYygpLHRoaXMucmVtb3ZlZCl0aHJvdyBuZXcgRXJyb3IoIllvdSBjYW4ndCByZXBsYWNlIHRoaXMgbm9kZSwgd2UndmUgYWxyZWFkeSByZW1vdmVkIGl0Iik7aWYoZSBpbnN0YW5jZW9mIHYuZGVmYXVsdCYmKGU9ZS5ub2RlKSwhZSl0aHJvdyBuZXcgRXJyb3IoIllvdSBwYXNzZWQgYHBhdGgucmVwbGFjZVdpdGgoKWAgYSBmYWxzeSBub2RlLCB1c2UgYHBhdGgucmVtb3ZlKClgIGluc3RlYWQiKTtpZih0aGlzLm5vZGUhPT1lKXtpZih0aGlzLmlzUHJvZ3JhbSgpJiYhRS5pc1Byb2dyYW0oZSkpdGhyb3cgbmV3IEVycm9yKCJZb3UgY2FuIG9ubHkgcmVwbGFjZSBhIFByb2dyYW0gcm9vdCBub2RlIHdpdGggYW5vdGhlciBQcm9ncmFtIG5vZGUiKTtpZihBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcigiRG9uJ3QgdXNlIGBwYXRoLnJlcGxhY2VXaXRoKClgIHdpdGggYW4gYXJyYXkgb2Ygbm9kZXMsIHVzZSBgcGF0aC5yZXBsYWNlV2l0aE11bHRpcGxlKClgIik7aWYoInN0cmluZyI9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcigiRG9uJ3QgdXNlIGBwYXRoLnJlcGxhY2VXaXRoKClgIHdpdGggYSBzb3VyY2Ugc3RyaW5nLCB1c2UgYHBhdGgucmVwbGFjZVdpdGhTb3VyY2VTdHJpbmcoKWAiKTtpZih0aGlzLmlzTm9kZVR5cGUoIlN0YXRlbWVudCIpJiZFLmlzRXhwcmVzc2lvbihlKSYmKHRoaXMuY2FuSGF2ZVZhcmlhYmxlRGVjbGFyYXRpb25PckV4cHJlc3Npb24oKXx8dGhpcy5jYW5Td2FwQmV0d2VlbkV4cHJlc3Npb25BbmRTdGF0ZW1lbnQoZSl8fHRoaXMucGFyZW50UGF0aC5pc0V4cG9ydERlZmF1bHREZWNsYXJhdGlvbigpfHwoZT1FLmV4cHJlc3Npb25TdGF0ZW1lbnQoZSkpKSx0aGlzLmlzTm9kZVR5cGUoIkV4cHJlc3Npb24iKSYmRS5pc1N0YXRlbWVudChlKSYmIXRoaXMuY2FuSGF2ZVZhcmlhYmxlRGVjbGFyYXRpb25PckV4cHJlc3Npb24oKSYmIXRoaXMuY2FuU3dhcEJldHdlZW5FeHByZXNzaW9uQW5kU3RhdGVtZW50KGUpKXJldHVybiB0aGlzLnJlcGxhY2VFeHByZXNzaW9uV2l0aFN0YXRlbWVudHMoW2VdKTt2YXIgdD10aGlzLm5vZGU7dCYmKEUuaW5oZXJpdHNDb21tZW50cyhlLHQpLEUucmVtb3ZlQ29tbWVudHModCkpLHRoaXMuX3JlcGxhY2VXaXRoKGUpLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5zZXRTY29wZSgpLHRoaXMucmVxdWV1ZSgpfX1mdW5jdGlvbiBvKGUpe2lmKCF0aGlzLmNvbnRhaW5lcil0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoIkNvbnRhaW5lciBpcyBmYWxzeSIpO3RoaXMuaW5MaXN0P0UudmFsaWRhdGUodGhpcy5wYXJlbnQsdGhpcy5rZXksW2VdKTpFLnZhbGlkYXRlKHRoaXMucGFyZW50LHRoaXMua2V5LGUpLHRoaXMuZGVidWcoZnVuY3Rpb24oKXtyZXR1cm4iUmVwbGFjZSB3aXRoICIrKGUmJmUudHlwZSl9KSx0aGlzLm5vZGU9dGhpcy5jb250YWluZXJbdGhpcy5rZXldPWV9ZnVuY3Rpb24gdShlKXt0aGlzLnJlc3luYygpO3ZhciB0PUUudG9TZXF1ZW5jZUV4cHJlc3Npb24oZSx0aGlzLnNjb3BlKTtpZihFLmlzU2VxdWVuY2VFeHByZXNzaW9uKHQpKXt2YXIgcj10LmV4cHJlc3Npb25zO3IubGVuZ3RoPj0yJiZ0aGlzLnBhcmVudFBhdGguaXNFeHByZXNzaW9uU3RhdGVtZW50KCkmJnRoaXMuX21heWJlUG9wRnJvbVN0YXRlbWVudHMociksMT09PXIubGVuZ3RoP3RoaXMucmVwbGFjZVdpdGgoclswXSk6dGhpcy5yZXBsYWNlV2l0aCh0KX1lbHNle2lmKCF0KXt2YXIgbj1FLmZ1bmN0aW9uRXhwcmVzc2lvbihudWxsLFtdLEUuYmxvY2tTdGF0ZW1lbnQoZSkpO24uc2hhZG93PSEwLHRoaXMucmVwbGFjZVdpdGgoRS5jYWxsRXhwcmVzc2lvbihuLFtdKSksdGhpcy50cmF2ZXJzZSh4KTtmb3IodmFyIGk9dGhpcy5nZXQoImNhbGxlZSIpLmdldENvbXBsZXRpb25SZWNvcmRzKCkscz1pLGE9QXJyYXkuaXNBcnJheShzKSxvPTAscz1hP3M6KDAsZi5kZWZhdWx0KShzKTs7KXt2YXIgdTtpZihhKXtpZihvPj1zLmxlbmd0aClicmVhazt1PXNbbysrXX1lbHNle2lmKG89cy5uZXh0KCksby5kb25lKWJyZWFrO3U9by52YWx1ZX12YXIgbD11O2lmKGwuaXNFeHByZXNzaW9uU3RhdGVtZW50KCkpe3ZhciBjPWwuZmluZFBhcmVudChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0xvb3AoKX0pO2lmKGMpe3ZhciBwPWMuZ2V0RGF0YSgiZXhwcmVzc2lvblJlcGxhY2VtZW50UmV0dXJuVWlkIik7aWYocClwPUUuaWRlbnRpZmllcihwLm5hbWUpO2Vsc2V7dmFyIGQ9dGhpcy5nZXQoImNhbGxlZSIpO3A9ZC5zY29wZS5nZW5lcmF0ZURlY2xhcmVkVWlkSWRlbnRpZmllcigicmV0IiksZC5nZXQoImJvZHkiKS5wdXNoQ29udGFpbmVyKCJib2R5IixFLnJldHVyblN0YXRlbWVudChwKSksYy5zZXREYXRhKCJleHByZXNzaW9uUmVwbGFjZW1lbnRSZXR1cm5VaWQiLHApfWwuZ2V0KCJleHByZXNzaW9uIikucmVwbGFjZVdpdGgoRS5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIscCxsLm5vZGUuZXhwcmVzc2lvbikpfWVsc2UgbC5yZXBsYWNlV2l0aChFLnJldHVyblN0YXRlbWVudChsLm5vZGUuZXhwcmVzc2lvbikpfX1yZXR1cm4gdGhpcy5ub2RlfXRoaXMucmVwbGFjZVdpdGgodCl9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuIHRoaXMucmVzeW5jKCksQXJyYXkuaXNBcnJheShlKT9BcnJheS5pc0FycmF5KHRoaXMuY29udGFpbmVyKT8oZT10aGlzLl92ZXJpZnlOb2RlTGlzdChlKSx0aGlzLl9jb250YWluZXJJbnNlcnRBZnRlcihlKSx0aGlzLnJlbW92ZSgpKTp0aGlzLnJlcGxhY2VXaXRoTXVsdGlwbGUoZSk6dGhpcy5yZXBsYWNlV2l0aChlKX10Ll9fZXNNb2R1bGU9ITA7dmFyIGM9cigyKSxmPW4oYyk7dC5yZXBsYWNlV2l0aE11bHRpcGxlPWksdC5yZXBsYWNlV2l0aFNvdXJjZVN0cmluZz1zLHQucmVwbGFjZVdpdGg9YSx0Ll9yZXBsYWNlV2l0aD1vLHQucmVwbGFjZUV4cHJlc3Npb25XaXRoU3RhdGVtZW50cz11LHQucmVwbGFjZUlubGluZT1sO3ZhciBwPXIoMTgxKSxkPW4ocCksaD1yKDcpLG09bihoKSx5PXIoMzYpLHY9bih5KSxnPXIoODkpLGI9cigxKSxFPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYikseD17RnVuY3Rpb246ZnVuY3Rpb24oZSl7ZS5za2lwKCl9LFZhcmlhYmxlRGVjbGFyYXRpb246ZnVuY3Rpb24oZSl7aWYoInZhciI9PT1lLm5vZGUua2luZCl7dmFyIHQ9ZS5nZXRCaW5kaW5nSWRlbnRpZmllcnMoKTtmb3IodmFyIHIgaW4gdCllLnNjb3BlLnB1c2goe2lkOnRbcl19KTtmb3IodmFyIG49W10saT1lLm5vZGUuZGVjbGFyYXRpb25zLHM9QXJyYXkuaXNBcnJheShpKSxhPTAsaT1zP2k6KDAsZi5kZWZhdWx0KShpKTs7KXt2YXIgbztpZihzKXtpZihhPj1pLmxlbmd0aClicmVhaztvPWlbYSsrXX1lbHNle2lmKGE9aS5uZXh0KCksYS5kb25lKWJyZWFrO289YS52YWx1ZX12YXIgdT1vO3UuaW5pdCYmbi5wdXNoKEUuZXhwcmVzc2lvblN0YXRlbWVudChFLmFzc2lnbm1lbnRFeHByZXNzaW9uKCI9Iix1LmlkLHUuaW5pdCkpKX1lLnJlcGxhY2VXaXRoTXVsdGlwbGUobil9fX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5fX2VzTW9kdWxlPSEwO3ZhciBpPXIoMykscz1uKGkpLGE9cigyMjUpLG89KG4oYSkscigxKSksdT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG8pLGw9e1JlZmVyZW5jZWRJZGVudGlmaWVyOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ub2RlO3IubmFtZT09PXQub2xkTmFtZSYmKHIubmFtZT10Lm5ld05hbWUpfSxTY29wZTpmdW5jdGlvbihlLHQpe2Uuc2NvcGUuYmluZGluZ0lkZW50aWZpZXJFcXVhbHModC5vbGROYW1lLHQuYmluZGluZy5pZGVudGlmaWVyKXx8ZS5za2lwKCl9LCJBc3NpZ25tZW50RXhwcmVzc2lvbnxEZWNsYXJhdGlvbiI6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldE91dGVyQmluZGluZ0lkZW50aWZpZXJzKCk7Zm9yKHZhciBuIGluIHIpbj09PXQub2xkTmFtZSYmKHJbbl0ubmFtZT10Lm5ld05hbWUpfX0sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peygwLHMuZGVmYXVsdCkodGhpcyxlKSx0aGlzLm5ld05hbWU9bix0aGlzLm9sZE5hbWU9cix0aGlzLmJpbmRpbmc9dH1yZXR1cm4gZS5wcm90b3R5cGUubWF5YmVDb252ZXJ0RnJvbUV4cG9ydERlY2xhcmF0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyZW50UGF0aC5pc0V4cG9ydERlY2xhcmF0aW9uKCkmJmUucGFyZW50UGF0aDtpZih0KXt2YXIgcj10LmlzRXhwb3J0RGVmYXVsdERlY2xhcmF0aW9uKCk7ciYmKGUuaXNGdW5jdGlvbkRlY2xhcmF0aW9uKCl8fGUuaXNDbGFzc0RlY2xhcmF0aW9uKCkpJiYhZS5ub2RlLmlkJiYoZS5ub2RlLmlkPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJkZWZhdWx0IikpO3ZhciBuPWUuZ2V0T3V0ZXJCaW5kaW5nSWRlbnRpZmllcnMoKSxpPVtdO2Zvcih2YXIgcyBpbiBuKXt2YXIgYT1zPT09dGhpcy5vbGROYW1lP3RoaXMubmV3TmFtZTpzLG89cj8iZGVmYXVsdCI6cztpLnB1c2godS5leHBvcnRTcGVjaWZpZXIodS5pZGVudGlmaWVyKGEpLHUuaWRlbnRpZmllcihvKSkpfWlmKGkubGVuZ3RoKXt2YXIgbD11LmV4cG9ydE5hbWVkRGVjbGFyYXRpb24obnVsbCxpKTtlLmlzRnVuY3Rpb25EZWNsYXJhdGlvbigpJiYobC5fYmxvY2tIb2lzdD0zKSx0Lmluc2VydEFmdGVyKGwpLHQucmVwbGFjZVdpdGgoZS5ub2RlKX19fSxlLnByb3RvdHlwZS5yZW5hbWU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5iaW5kaW5nLHI9dGhpcy5vbGROYW1lLG49dGhpcy5uZXdOYW1lLGk9dC5zY29wZSxzPXQucGF0aCxhPXMuZmluZChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0RlY2xhcmF0aW9uKCl8fGUuaXNGdW5jdGlvbkV4cHJlc3Npb24oKX0pO2EmJnRoaXMubWF5YmVDb252ZXJ0RnJvbUV4cG9ydERlY2xhcmF0aW9uKGEpLGkudHJhdmVyc2UoZXx8aS5ibG9jayxsLHRoaXMpLGV8fChpLnJlbW92ZU93bkJpbmRpbmcociksaS5iaW5kaW5nc1tuXT10LHRoaXMuYmluZGluZy5pZGVudGlmaWVyLm5hbWU9biksdC50eXBlfSxlfSgpO3QuZGVmYXVsdD1jLGUuZXhwb3J0cz10LmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXtpZihlLl9leHBsb2RlZClyZXR1cm4gZTtlLl9leHBsb2RlZD0hMDtmb3IodmFyIHQgaW4gZSlpZighZCh0KSl7dmFyIHI9dC5zcGxpdCgifCIpO2lmKDEhPT1yLmxlbmd0aCl7dmFyIG49ZVt0XTtkZWxldGUgZVt0XTtmb3IodmFyIGk9cixzPUFycmF5LmlzQXJyYXkoaSksbz0wLGk9cz9pOigwLEUuZGVmYXVsdCkoaSk7Oyl7dmFyIHU7aWYocyl7aWYobz49aS5sZW5ndGgpYnJlYWs7dT1pW28rK119ZWxzZXtpZihvPWkubmV4dCgpLG8uZG9uZSlicmVhazt1PW8udmFsdWV9dmFyIGw9dTtlW2xdPW59fX1hKGUpLGRlbGV0ZSBlLl9fZXNNb2R1bGUsYyhlKSxmKGUpO2Zvcih2YXIgbT0oMCxnLmRlZmF1bHQpKGUpLHk9QXJyYXkuaXNBcnJheShtKSx2PTAsbT15P206KDAsRS5kZWZhdWx0KShtKTs7KXt2YXIgYjtpZih5KXtpZih2Pj1tLmxlbmd0aClicmVhaztiPW1bdisrXX1lbHNle2lmKHY9bS5uZXh0KCksdi5kb25lKWJyZWFrO2I9di52YWx1ZX12YXIgeD1iO2lmKCFkKHgpKXt2YXIgUz1BW3hdO2lmKFMpe3ZhciBfPWVbeF07Zm9yKHZhciBEIGluIF8pX1tEXT1wKFMsX1tEXSk7aWYoZGVsZXRlIGVbeF0sUy50eXBlcylmb3IodmFyIHc9Uy50eXBlcyxrPUFycmF5LmlzQXJyYXkodyksRj0wLHc9az93OigwLEUuZGVmYXVsdCkodyk7Oyl7dmFyIFQ7aWYoayl7aWYoRj49dy5sZW5ndGgpYnJlYWs7VD13W0YrK119ZWxzZXtpZihGPXcubmV4dCgpLEYuZG9uZSlicmVhaztUPUYudmFsdWV9dmFyIE89VDtlW09dP2goZVtPXSxfKTplW09dPV99ZWxzZSBoKGUsXyl9fX1mb3IodmFyIEIgaW4gZSlpZighZChCKSl7dmFyIFI9ZVtCXSxJPUMuRkxJUFBFRF9BTElBU19LRVlTW0JdLE09Qy5ERVBSRUNBVEVEX0tFWVNbQl07aWYoTSYmKGNvbnNvbGUudHJhY2UoIlZpc2l0b3IgZGVmaW5lZCBmb3IgIitCKyIgYnV0IGl0IGhhcyBiZWVuIHJlbmFtZWQgdG8gIitNKSxJPVtNXSksSSl7ZGVsZXRlIGVbQl07Zm9yKHZhciBOPUksTD1BcnJheS5pc0FycmF5KE4pLGo9MCxOPUw/TjooMCxFLmRlZmF1bHQpKE4pOzspe3ZhciBVO2lmKEwpe2lmKGo+PU4ubGVuZ3RoKWJyZWFrO1U9TltqKytdfWVsc2V7aWYoaj1OLm5leHQoKSxqLmRvbmUpYnJlYWs7VT1qLnZhbHVlfXZhciBWPVUsRz1lW1ZdO0c/aChHLFIpOmVbVl09KDAsUC5kZWZhdWx0KShSKX19fWZvcih2YXIgVyBpbiBlKWQoVyl8fGYoZVtXXSk7cmV0dXJuIGV9ZnVuY3Rpb24gYShlKXtpZighZS5fdmVyaWZpZWQpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihfLmdldCgidHJhdmVyc2VWZXJpZnlSb290RnVuY3Rpb24iKSk7Zm9yKHZhciB0IGluIGUpaWYoImVudGVyIiE9PXQmJiJleGl0IiE9PXR8fG8odCxlW3RdKSwhZCh0KSl7aWYoQy5UWVBFUy5pbmRleE9mKHQpPDApdGhyb3cgbmV3IEVycm9yKF8uZ2V0KCJ0cmF2ZXJzZVZlcmlmeU5vZGVUeXBlIix0KSk7dmFyIHI9ZVt0XTtpZigib2JqZWN0Ij09PSh2b2lkIDA9PT1yPyJ1bmRlZmluZWQiOigwLHkuZGVmYXVsdCkocikpKWZvcih2YXIgbiBpbiByKXtpZigiZW50ZXIiIT09biYmImV4aXQiIT09bil0aHJvdyBuZXcgRXJyb3IoXy5nZXQoInRyYXZlcnNlVmVyaWZ5VmlzaXRvclByb3BlcnR5Iix0LG4pKTtvKHQrIi4iK24scltuXSl9fWUuX3ZlcmlmaWVkPSEwfX1mdW5jdGlvbiBvKGUsdCl7Zm9yKHZhciByPVtdLmNvbmNhdCh0KSxuPXIsaT1BcnJheS5pc0FycmF5KG4pLHM9MCxuPWk/bjooMCxFLmRlZmF1bHQpKG4pOzspe3ZhciBhO2lmKGkpe2lmKHM+PW4ubGVuZ3RoKWJyZWFrO2E9bltzKytdfWVsc2V7aWYocz1uLm5leHQoKSxzLmRvbmUpYnJlYWs7YT1zLnZhbHVlfXZhciBvPWE7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG8pdGhyb3cgbmV3IFR5cGVFcnJvcigiTm9uLWZ1bmN0aW9uIGZvdW5kIGRlZmluZWQgaW4gIitlKyIgd2l0aCB0eXBlICIrKHZvaWQgMD09PW8/InVuZGVmaW5lZCI6KDAseS5kZWZhdWx0KShvKSkpfX1mdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W10scj1hcmd1bWVudHNbMl0sbj17fSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBhPWVbaV0sbz10W2ldO3MoYSk7Zm9yKHZhciB1IGluIGEpe3ZhciBjPWFbdV07KG98fHIpJiYoYz1sKGMsbyxyKSk7aChuW3VdPW5bdV18fHt9LGMpfX1yZXR1cm4gbn1mdW5jdGlvbiBsKGUsdCxyKXt2YXIgbj17fTtmb3IodmFyIGkgaW4gZSl7KGZ1bmN0aW9uKGkpe3ZhciBzPWVbaV07aWYoIUFycmF5LmlzQXJyYXkocykpcmV0dXJuImNvbnRpbnVlIjtzPXMubWFwKGZ1bmN0aW9uKGUpe3ZhciBuPWU7cmV0dXJuIHQmJihuPWZ1bmN0aW9uKHIpe3JldHVybiBlLmNhbGwodCxyLHQpfSksciYmKG49cih0LmtleSxpLG4pKSxufSksbltpXT1zfSkoaSl9cmV0dXJuIG59ZnVuY3Rpb24gYyhlKXtmb3IodmFyIHQgaW4gZSlpZighZCh0KSl7dmFyIHI9ZVt0XTsiZnVuY3Rpb24iPT10eXBlb2YgciYmKGVbdF09e2VudGVyOnJ9KX19ZnVuY3Rpb24gZihlKXtlLmVudGVyJiYhQXJyYXkuaXNBcnJheShlLmVudGVyKSYmKGUuZW50ZXI9W2UuZW50ZXJdKSxlLmV4aXQmJiFBcnJheS5pc0FycmF5KGUuZXhpdCkmJihlLmV4aXQ9W2UuZXhpdF0pfWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj1mdW5jdGlvbihyKXtpZihlLmNoZWNrUGF0aChyKSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiByLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHQudG9TdHJpbmcoKX0scn1mdW5jdGlvbiBkKGUpe3JldHVybiJfIj09PWVbMF18fCgiZW50ZXIiPT09ZXx8ImV4aXQiPT09ZXx8InNob3VsZFNraXAiPT09ZXx8KCJibGFja2xpc3QiPT09ZXx8Im5vU2NvcGUiPT09ZXx8InNraXBLZXlzIj09PWUpKX1mdW5jdGlvbiBoKGUsdCl7Zm9yKHZhciByIGluIHQpZVtyXT1bXS5jb25jYXQoZVtyXXx8W10sdFtyXSl9dC5fX2VzTW9kdWxlPSEwO3ZhciBtPXIoMTEpLHk9aShtKSx2PXIoMTQpLGc9aSh2KSxiPXIoMiksRT1pKGIpO3QuZXhwbG9kZT1zLHQudmVyaWZ5PWEsdC5tZXJnZT11O3ZhciB4PXIoMjI0KSxBPW4oeCksUz1yKDIwKSxfPW4oUyksRD1yKDEpLEM9bihEKSx3PXIoMTA5KSxQPWkodyl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZS5rZXl8fGUucHJvcGVydHk7cmV0dXJuIGUuY29tcHV0ZWR8fEQuaXNJZGVudGlmaWVyKHQpJiYodD1ELnN0cmluZ0xpdGVyYWwodC5uYW1lKSksdH1mdW5jdGlvbiBzKGUsdCxyKXtmb3IodmFyIG49W10saT0hMCxhPWUsbz1BcnJheS5pc0FycmF5KGEpLHU9MCxhPW8/YTooMCxiLmRlZmF1bHQpKGEpOzspe3ZhciBsO2lmKG8pe2lmKHU+PWEubGVuZ3RoKWJyZWFrO2w9YVt1KytdfWVsc2V7aWYodT1hLm5leHQoKSx1LmRvbmUpYnJlYWs7bD11LnZhbHVlfXZhciBjPWw7aWYoaT0hMSxELmlzRXhwcmVzc2lvbihjKSluLnB1c2goYyk7ZWxzZSBpZihELmlzRXhwcmVzc2lvblN0YXRlbWVudChjKSluLnB1c2goYy5leHByZXNzaW9uKTtlbHNlIGlmKEQuaXNWYXJpYWJsZURlY2xhcmF0aW9uKGMpKXtpZigidmFyIiE9PWMua2luZClyZXR1cm47Zm9yKHZhciBmPWMuZGVjbGFyYXRpb25zLHA9QXJyYXkuaXNBcnJheShmKSxkPTAsZj1wP2Y6KDAsYi5kZWZhdWx0KShmKTs7KXt2YXIgaDtpZihwKXtpZihkPj1mLmxlbmd0aClicmVhaztoPWZbZCsrXX1lbHNle2lmKGQ9Zi5uZXh0KCksZC5kb25lKWJyZWFrO2g9ZC52YWx1ZX12YXIgbT1oLHk9RC5nZXRCaW5kaW5nSWRlbnRpZmllcnMobSk7Zm9yKHZhciB2IGluIHkpci5wdXNoKHtraW5kOmMua2luZCxpZDp5W3ZdfSk7bS5pbml0JiZuLnB1c2goRC5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsbS5pZCxtLmluaXQpKX1pPSEwfWVsc2UgaWYoRC5pc0lmU3RhdGVtZW50KGMpKXt2YXIgZz1jLmNvbnNlcXVlbnQ/cyhbYy5jb25zZXF1ZW50XSx0LHIpOnQuYnVpbGRVbmRlZmluZWROb2RlKCksRT1jLmFsdGVybmF0ZT9zKFtjLmFsdGVybmF0ZV0sdCxyKTp0LmJ1aWxkVW5kZWZpbmVkTm9kZSgpO2lmKCFnfHwhRSlyZXR1cm47bi5wdXNoKEQuY29uZGl0aW9uYWxFeHByZXNzaW9uKGMudGVzdCxnLEUpKX1lbHNlIGlmKEQuaXNCbG9ja1N0YXRlbWVudChjKSl7dmFyIHg9cyhjLmJvZHksdCxyKTtpZigheClyZXR1cm47bi5wdXNoKHgpfWVsc2V7aWYoIUQuaXNFbXB0eVN0YXRlbWVudChjKSlyZXR1cm47aT0hMH19cmV0dXJuIGkmJm4ucHVzaCh0LmJ1aWxkVW5kZWZpbmVkTm9kZSgpKSwxPT09bi5sZW5ndGg/blswXTpELnNlcXVlbmNlRXhwcmVzc2lvbihuKX1mdW5jdGlvbiBhKGUsdCl7aWYoZSYmZS5sZW5ndGgpe3ZhciByPVtdLG49cyhlLHQscik7aWYobil7Zm9yKHZhciBpPXIsYT1BcnJheS5pc0FycmF5KGkpLG89MCxpPWE/aTooMCxiLmRlZmF1bHQpKGkpOzspe3ZhciB1O2lmKGEpe2lmKG8+PWkubGVuZ3RoKWJyZWFrO3U9aVtvKytdfWVsc2V7aWYobz1pLm5leHQoKSxvLmRvbmUpYnJlYWs7dT1vLnZhbHVlfXZhciBsPXU7dC5wdXNoKGwpfXJldHVybiBufX19ZnVuY3Rpb24gbyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ZS5rZXkscj12b2lkIDA7cmV0dXJuIm1ldGhvZCI9PT1lLmtpbmQ/by5pbmNyZW1lbnQoKSsiIjoocj1ELmlzSWRlbnRpZmllcih0KT90Lm5hbWU6RC5pc1N0cmluZ0xpdGVyYWwodCk/KDAsdi5kZWZhdWx0KSh0LnZhbHVlKTooMCx2LmRlZmF1bHQpKEQucmVtb3ZlUHJvcGVydGllc0RlZXAoRC5jbG9uZURlZXAodCkpKSxlLmNvbXB1dGVkJiYocj0iWyIrcisiXSIpLGUuc3RhdGljJiYocj0ic3RhdGljOiIrcikscil9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZSs9IiIsZT1lLnJlcGxhY2UoL1teYS16QS1aMC05JF9dL2csIi0iKSxlPWUucmVwbGFjZSgvXlstMC05XSsvLCIiKSxlPWUucmVwbGFjZSgvWy1cc10rKC4pPy9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/dC50b1VwcGVyQ2FzZSgpOiIifSksRC5pc1ZhbGlkSWRlbnRpZmllcihlKXx8KGU9Il8iK2UpLGV8fCJfIn1mdW5jdGlvbiBsKGUpe3JldHVybiBlPXUoZSksImV2YWwiIT09ZSYmImFyZ3VtZW50cyIhPT1lfHwoZT0iXyIrZSksZX1mdW5jdGlvbiBjKGUsdCl7aWYoRC5pc1N0YXRlbWVudChlKSlyZXR1cm4gZTt2YXIgcj0hMSxuPXZvaWQgMDtpZihELmlzQ2xhc3MoZSkpcj0hMCxuPSJDbGFzc0RlY2xhcmF0aW9uIjtlbHNlIGlmKEQuaXNGdW5jdGlvbihlKSlyPSEwLG49IkZ1bmN0aW9uRGVjbGFyYXRpb24iO2Vsc2UgaWYoRC5pc0Fzc2lnbm1lbnRFeHByZXNzaW9uKGUpKXJldHVybiBELmV4cHJlc3Npb25TdGF0ZW1lbnQoZSk7aWYociYmIWUuaWQmJihuPSExKSwhbil7aWYodClyZXR1cm4hMTt0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCB0dXJuICIrZS50eXBlKyIgdG8gYSBzdGF0ZW1lbnQiKX1yZXR1cm4gZS50eXBlPW4sZX1mdW5jdGlvbiBmKGUpe2lmKEQuaXNFeHByZXNzaW9uU3RhdGVtZW50KGUpJiYoZT1lLmV4cHJlc3Npb24pLEQuaXNFeHByZXNzaW9uKGUpKXJldHVybiBlO2lmKEQuaXNDbGFzcyhlKT9lLnR5cGU9IkNsYXNzRXhwcmVzc2lvbiI6RC5pc0Z1bmN0aW9uKGUpJiYoZS50eXBlPSJGdW5jdGlvbkV4cHJlc3Npb24iKSwhRC5pc0V4cHJlc3Npb24oZSkpdGhyb3cgbmV3IEVycm9yKCJjYW5ub3QgdHVybiAiK2UudHlwZSsiIHRvIGFuIGV4cHJlc3Npb24iKTtyZXR1cm4gZX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIEQuaXNCbG9ja1N0YXRlbWVudChlKT9lOihELmlzRW1wdHlTdGF0ZW1lbnQoZSkmJihlPVtdKSxBcnJheS5pc0FycmF5KGUpfHwoRC5pc1N0YXRlbWVudChlKXx8KGU9RC5pc0Z1bmN0aW9uKHQpP0QucmV0dXJuU3RhdGVtZW50KGUpOkQuZXhwcmVzc2lvblN0YXRlbWVudChlKSksZT1bZV0pLEQuYmxvY2tTdGF0ZW1lbnQoZSkpfWZ1bmN0aW9uIGQoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm4gRC5pZGVudGlmaWVyKCJ1bmRlZmluZWQiKTtpZighMD09PWV8fCExPT09ZSlyZXR1cm4gRC5ib29sZWFuTGl0ZXJhbChlKTtpZihudWxsPT09ZSlyZXR1cm4gRC5udWxsTGl0ZXJhbCgpO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gRC5zdHJpbmdMaXRlcmFsKGUpO2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gRC5udW1lcmljTGl0ZXJhbChlKTtpZigoMCxTLmRlZmF1bHQpKGUpKXt2YXIgdD1lLnNvdXJjZSxyPWUudG9TdHJpbmcoKS5tYXRjaCgvXC8oW2Etel0rfCkkLylbMV07cmV0dXJuIEQucmVnRXhwTGl0ZXJhbCh0LHIpfWlmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIEQuYXJyYXlFeHByZXNzaW9uKGUubWFwKEQudmFsdWVUb05vZGUpKTtpZigoMCx4LmRlZmF1bHQpKGUpKXt2YXIgbj1bXTtmb3IodmFyIGkgaW4gZSl7dmFyIHM9dm9pZCAwO3M9RC5pc1ZhbGlkSWRlbnRpZmllcihpKT9ELmlkZW50aWZpZXIoaSk6RC5zdHJpbmdMaXRlcmFsKGkpLG4ucHVzaChELm9iamVjdFByb3BlcnR5KHMsRC52YWx1ZVRvTm9kZShlW2ldKSkpfXJldHVybiBELm9iamVjdEV4cHJlc3Npb24obil9dGhyb3cgbmV3IEVycm9yKCJkb24ndCBrbm93IGhvdyB0byB0dXJuIHRoaXMgdmFsdWUgaW50byBhIG5vZGUiKX10Ll9fZXNNb2R1bGU9ITA7dmFyIGg9cigzNTkpLG09bihoKSx5PXIoMzUpLHY9bih5KSxnPXIoMiksYj1uKGcpO3QudG9Db21wdXRlZEtleT1pLHQudG9TZXF1ZW5jZUV4cHJlc3Npb249YSx0LnRvS2V5QWxpYXM9byx0LnRvSWRlbnRpZmllcj11LHQudG9CaW5kaW5nSWRlbnRpZmllck5hbWU9bCx0LnRvU3RhdGVtZW50PWMsdC50b0V4cHJlc3Npb249Zix0LnRvQmxvY2s9cCx0LnZhbHVlVG9Ob2RlPWQ7dmFyIEU9cigyNzUpLHg9bihFKSxBPXIoMjc2KSxTPW4oQSksXz1yKDEpLEQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShfKTtvLnVpZD0wLG8uaW5jcmVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG8udWlkPj1tLmRlZmF1bHQ/by51aWQ9MDpvLnVpZCsrfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEpLGk9ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShuKSxzPXIoMTM1KSxhPXIoMjYpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShhKTsoMCxvLmRlZmF1bHQpKCJBcnJheUV4cHJlc3Npb24iLHtmaWVsZHM6e2VsZW1lbnRzOnt2YWxpZGF0ZTooMCxhLmNoYWluKSgoMCxhLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsYS5hc3NlcnRFYWNoKSgoMCxhLmFzc2VydE5vZGVPclZhbHVlVHlwZSkoIm51bGwiLCJFeHByZXNzaW9uIiwiU3ByZWFkRWxlbWVudCIpKSksZGVmYXVsdDpbXX19LHZpc2l0b3I6WyJlbGVtZW50cyJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIl19KSwoMCxvLmRlZmF1bHQpKCJBc3NpZ25tZW50RXhwcmVzc2lvbiIse2ZpZWxkczp7b3BlcmF0b3I6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgic3RyaW5nIil9LGxlZnQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJMVmFsIil9LHJpZ2h0Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfX0sYnVpbGRlcjpbIm9wZXJhdG9yIiwibGVmdCIsInJpZ2h0Il0sdmlzaXRvcjpbImxlZnQiLCJyaWdodCJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIl19KSwoMCxvLmRlZmF1bHQpKCJCaW5hcnlFeHByZXNzaW9uIix7YnVpbGRlcjpbIm9wZXJhdG9yIiwibGVmdCIsInJpZ2h0Il0sZmllbGRzOntvcGVyYXRvcjp7dmFsaWRhdGU6YS5hc3NlcnRPbmVPZi5hcHBseSh2b2lkIDAscy5CSU5BUllfT1BFUkFUT1JTKX0sbGVmdDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0scmlnaHQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fSx2aXNpdG9yOlsibGVmdCIsInJpZ2h0Il0sYWxpYXNlczpbIkJpbmFyeSIsIkV4cHJlc3Npb24iXX0pLCgwLG8uZGVmYXVsdCkoIkRpcmVjdGl2ZSIse3Zpc2l0b3I6WyJ2YWx1ZSJdLGZpZWxkczp7dmFsdWU6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJEaXJlY3RpdmVMaXRlcmFsIil9fX0pLCgwLG8uZGVmYXVsdCkoIkRpcmVjdGl2ZUxpdGVyYWwiLHtidWlsZGVyOlsidmFsdWUiXSxmaWVsZHM6e3ZhbHVlOnt2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpfX19KSwoMCxvLmRlZmF1bHQpKCJCbG9ja1N0YXRlbWVudCIse2J1aWxkZXI6WyJib2R5IiwiZGlyZWN0aXZlcyJdLHZpc2l0b3I6WyJkaXJlY3RpdmVzIiwiYm9keSJdLGZpZWxkczp7ZGlyZWN0aXZlczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkRpcmVjdGl2ZSIpKSksZGVmYXVsdDpbXX0sYm9keTp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpKSl9fSxhbGlhc2VzOlsiU2NvcGFibGUiLCJCbG9ja1BhcmVudCIsIkJsb2NrIiwiU3RhdGVtZW50Il19KSwoMCxvLmRlZmF1bHQpKCJCcmVha1N0YXRlbWVudCIse3Zpc2l0b3I6WyJsYWJlbCJdLGZpZWxkczp7bGFiZWw6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIiksb3B0aW9uYWw6ITB9fSxhbGlhc2VzOlsiU3RhdGVtZW50IiwiVGVybWluYXRvcmxlc3MiLCJDb21wbGV0aW9uU3RhdGVtZW50Il19KSwoMCxvLmRlZmF1bHQpKCJDYWxsRXhwcmVzc2lvbiIse3Zpc2l0b3I6WyJjYWxsZWUiLCJhcmd1bWVudHMiXSxmaWVsZHM6e2NhbGxlZTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sYXJndW1lbnRzOnt2YWxpZGF0ZTooMCxhLmNoYWluKSgoMCxhLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsYS5hc3NlcnRFYWNoKSgoMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIsIlNwcmVhZEVsZW1lbnQiKSkpfX0sYWxpYXNlczpbIkV4cHJlc3Npb24iXX0pLCgwLG8uZGVmYXVsdCkoIkNhdGNoQ2xhdXNlIix7dmlzaXRvcjpbInBhcmFtIiwiYm9keSJdLGZpZWxkczp7cGFyYW06e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIil9LGJvZHk6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJCbG9ja1N0YXRlbWVudCIpfX0sYWxpYXNlczpbIlNjb3BhYmxlIl19KSwoMCxvLmRlZmF1bHQpKCJDb25kaXRpb25hbEV4cHJlc3Npb24iLHt2aXNpdG9yOlsidGVzdCIsImNvbnNlcXVlbnQiLCJhbHRlcm5hdGUiXSxmaWVsZHM6e3Rlc3Q6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LGNvbnNlcXVlbnQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LGFsdGVybmF0ZTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX19LGFsaWFzZXM6WyJFeHByZXNzaW9uIiwiQ29uZGl0aW9uYWwiXX0pLCgwLG8uZGVmYXVsdCkoIkNvbnRpbnVlU3RhdGVtZW50Iix7dmlzaXRvcjpbImxhYmVsIl0sZmllbGRzOntsYWJlbDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKSxvcHRpb25hbDohMH19LGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJUZXJtaW5hdG9ybGVzcyIsIkNvbXBsZXRpb25TdGF0ZW1lbnQiXX0pLCgwLG8uZGVmYXVsdCkoIkRlYnVnZ2VyU3RhdGVtZW50Iix7YWxpYXNlczpbIlN0YXRlbWVudCJdfSksKDAsby5kZWZhdWx0KSgiRG9XaGlsZVN0YXRlbWVudCIse3Zpc2l0b3I6WyJ0ZXN0IiwiYm9keSJdLGZpZWxkczp7dGVzdDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sYm9keTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpfX0sYWxpYXNlczpbIlN0YXRlbWVudCIsIkJsb2NrUGFyZW50IiwiTG9vcCIsIldoaWxlIiwiU2NvcGFibGUiXX0pLCgwLG8uZGVmYXVsdCkoIkVtcHR5U3RhdGVtZW50Iix7YWxpYXNlczpbIlN0YXRlbWVudCJdfSksKDAsby5kZWZhdWx0KSgiRXhwcmVzc2lvblN0YXRlbWVudCIse3Zpc2l0b3I6WyJleHByZXNzaW9uIl0sZmllbGRzOntleHByZXNzaW9uOnt2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfX0sYWxpYXNlczpbIlN0YXRlbWVudCIsIkV4cHJlc3Npb25XcmFwcGVyIl19KSwoMCxvLmRlZmF1bHQpKCJGaWxlIix7YnVpbGRlcjpbInByb2dyYW0iLCJjb21tZW50cyIsInRva2VucyJdLHZpc2l0b3I6WyJwcm9ncmFtIl0sZmllbGRzOntwcm9ncmFtOnt2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiUHJvZ3JhbSIpfX19KSwoMCxvLmRlZmF1bHQpKCJGb3JJblN0YXRlbWVudCIse3Zpc2l0b3I6WyJsZWZ0IiwicmlnaHQiLCJib2R5Il0sYWxpYXNlczpbIlNjb3BhYmxlIiwiU3RhdGVtZW50IiwiRm9yIiwiQmxvY2tQYXJlbnQiLCJMb29wIiwiRm9yWFN0YXRlbWVudCJdLGZpZWxkczp7bGVmdDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIlZhcmlhYmxlRGVjbGFyYXRpb24iLCJMVmFsIil9LHJpZ2h0Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxib2R5Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiU3RhdGVtZW50Iil9fX0pLCgwLG8uZGVmYXVsdCkoIkZvclN0YXRlbWVudCIse3Zpc2l0b3I6WyJpbml0IiwidGVzdCIsInVwZGF0ZSIsImJvZHkiXSxhbGlhc2VzOlsiU2NvcGFibGUiLCJTdGF0ZW1lbnQiLCJGb3IiLCJCbG9ja1BhcmVudCIsIkxvb3AiXSxmaWVsZHM6e2luaXQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJWYXJpYWJsZURlY2xhcmF0aW9uIiwiRXhwcmVzc2lvbiIpLG9wdGlvbmFsOiEwfSx0ZXN0Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpLG9wdGlvbmFsOiEwfSx1cGRhdGU6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIiksb3B0aW9uYWw6ITB9LGJvZHk6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJTdGF0ZW1lbnQiKX19fSksKDAsby5kZWZhdWx0KSgiRnVuY3Rpb25EZWNsYXJhdGlvbiIse2J1aWxkZXI6WyJpZCIsInBhcmFtcyIsImJvZHkiLCJnZW5lcmF0b3IiLCJhc3luYyJdLHZpc2l0b3I6WyJpZCIsInBhcmFtcyIsImJvZHkiLCJyZXR1cm5UeXBlIiwidHlwZVBhcmFtZXRlcnMiXSxmaWVsZHM6e2lkOnt2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIpfSxwYXJhbXM6e3ZhbGlkYXRlOigwLGEuY2hhaW4pKCgwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxhLmFzc2VydEVhY2gpKCgwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJMVmFsIikpKX0sYm9keTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50Iil9LGdlbmVyYXRvcjp7ZGVmYXVsdDohMSx2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoImJvb2xlYW4iKX0sYXN5bmM6e2RlZmF1bHQ6ITEsdmFsaWRhdGU6KDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJib29sZWFuIil9fSxhbGlhc2VzOlsiU2NvcGFibGUiLCJGdW5jdGlvbiIsIkJsb2NrUGFyZW50IiwiRnVuY3Rpb25QYXJlbnQiLCJTdGF0ZW1lbnQiLCJQdXJlaXNoIiwiRGVjbGFyYXRpb24iXX0pLCgwLG8uZGVmYXVsdCkoIkZ1bmN0aW9uRXhwcmVzc2lvbiIse2luaGVyaXRzOiJGdW5jdGlvbkRlY2xhcmF0aW9uIixhbGlhc2VzOlsiU2NvcGFibGUiLCJGdW5jdGlvbiIsIkJsb2NrUGFyZW50IiwiRnVuY3Rpb25QYXJlbnQiLCJFeHByZXNzaW9uIiwiUHVyZWlzaCJdLGZpZWxkczp7aWQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIiksb3B0aW9uYWw6ITB9LHBhcmFtczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkxWYWwiKSkpfSxib2R5Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiQmxvY2tTdGF0ZW1lbnQiKX0sZ2VuZXJhdG9yOntkZWZhdWx0OiExLHZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfSxhc3luYzp7ZGVmYXVsdDohMSx2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoImJvb2xlYW4iKX19fSksKDAsby5kZWZhdWx0KSgiSWRlbnRpZmllciIse2J1aWxkZXI6WyJuYW1lIl0sdmlzaXRvcjpbInR5cGVBbm5vdGF0aW9uIl0sYWxpYXNlczpbIkV4cHJlc3Npb24iLCJMVmFsIl0sZmllbGRzOntuYW1lOnt2YWxpZGF0ZTpmdW5jdGlvbihlLHQscil7aS5pc1ZhbGlkSWRlbnRpZmllcihyKX19LGRlY29yYXRvcnM6e3ZhbGlkYXRlOigwLGEuY2hhaW4pKCgwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxhLmFzc2VydEVhY2gpKCgwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJEZWNvcmF0b3IiKSkpfX19KSwoMCxvLmRlZmF1bHQpKCJJZlN0YXRlbWVudCIse3Zpc2l0b3I6WyJ0ZXN0IiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSJdLGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJDb25kaXRpb25hbCJdLGZpZWxkczp7dGVzdDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sY29uc2VxdWVudDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpfSxhbHRlcm5hdGU6e29wdGlvbmFsOiEwLHZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJTdGF0ZW1lbnQiKX19fSksKDAsby5kZWZhdWx0KSgiTGFiZWxlZFN0YXRlbWVudCIse3Zpc2l0b3I6WyJsYWJlbCIsImJvZHkiXSxhbGlhc2VzOlsiU3RhdGVtZW50Il0sZmllbGRzOntsYWJlbDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKX0sYm9keTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpfX19KSwoMCxvLmRlZmF1bHQpKCJTdHJpbmdMaXRlcmFsIix7YnVpbGRlcjpbInZhbHVlIl0sZmllbGRzOnt2YWx1ZTp7dmFsaWRhdGU6KDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJzdHJpbmciKX19LGFsaWFzZXM6WyJFeHByZXNzaW9uIiwiUHVyZWlzaCIsIkxpdGVyYWwiLCJJbW11dGFibGUiXX0pLCgwLG8uZGVmYXVsdCkoIk51bWVyaWNMaXRlcmFsIix7YnVpbGRlcjpbInZhbHVlIl0sZGVwcmVjYXRlZEFsaWFzOiJOdW1iZXJMaXRlcmFsIixmaWVsZHM6e3ZhbHVlOnt2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoIm51bWJlciIpfX0sYWxpYXNlczpbIkV4cHJlc3Npb24iLCJQdXJlaXNoIiwiTGl0ZXJhbCIsIkltbXV0YWJsZSJdfSksKDAsby5kZWZhdWx0KSgiTnVsbExpdGVyYWwiLHthbGlhc2VzOlsiRXhwcmVzc2lvbiIsIlB1cmVpc2giLCJMaXRlcmFsIiwiSW1tdXRhYmxlIl19KSwoMCxvLmRlZmF1bHQpKCJCb29sZWFuTGl0ZXJhbCIse2J1aWxkZXI6WyJ2YWx1ZSJdLGZpZWxkczp7dmFsdWU6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfX0sYWxpYXNlczpbIkV4cHJlc3Npb24iLCJQdXJlaXNoIiwiTGl0ZXJhbCIsIkltbXV0YWJsZSJdfSksKDAsby5kZWZhdWx0KSgiUmVnRXhwTGl0ZXJhbCIse2J1aWxkZXI6WyJwYXR0ZXJuIiwiZmxhZ3MiXSxkZXByZWNhdGVkQWxpYXM6IlJlZ2V4TGl0ZXJhbCIsYWxpYXNlczpbIkV4cHJlc3Npb24iLCJMaXRlcmFsIl0sZmllbGRzOntwYXR0ZXJuOnt2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpfSxmbGFnczp7dmFsaWRhdGU6KDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJzdHJpbmciKSxkZWZhdWx0OiIifX19KSwoMCxvLmRlZmF1bHQpKCJMb2dpY2FsRXhwcmVzc2lvbiIse2J1aWxkZXI6WyJvcGVyYXRvciIsImxlZnQiLCJyaWdodCJdLHZpc2l0b3I6WyJsZWZ0IiwicmlnaHQiXSxhbGlhc2VzOlsiQmluYXJ5IiwiRXhwcmVzc2lvbiJdLGZpZWxkczp7b3BlcmF0b3I6e3ZhbGlkYXRlOmEuYXNzZXJ0T25lT2YuYXBwbHkodm9pZCAwLHMuTE9HSUNBTF9PUEVSQVRPUlMpfSxsZWZ0Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxyaWdodDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX19fSksKDAsby5kZWZhdWx0KSgiTWVtYmVyRXhwcmVzc2lvbiIse2J1aWxkZXI6WyJvYmplY3QiLCJwcm9wZXJ0eSIsImNvbXB1dGVkIl0sdmlzaXRvcjpbIm9iamVjdCIsInByb3BlcnR5Il0sYWxpYXNlczpbIkV4cHJlc3Npb24iLCJMVmFsIl0sZmllbGRzOntvYmplY3Q6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LHByb3BlcnR5Ont2YWxpZGF0ZTpmdW5jdGlvbihlLHQscil7dmFyIG49ZS5jb21wdXRlZD8iRXhwcmVzc2lvbiI6IklkZW50aWZpZXIiOygwLGEuYXNzZXJ0Tm9kZVR5cGUpKG4pKGUsdCxyKX19LGNvbXB1dGVkOntkZWZhdWx0OiExfX19KSwoMCxvLmRlZmF1bHQpKCJOZXdFeHByZXNzaW9uIix7dmlzaXRvcjpbImNhbGxlZSIsImFyZ3VtZW50cyJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIl0sZmllbGRzOntjYWxsZWU6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LGFyZ3VtZW50czp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iLCJTcHJlYWRFbGVtZW50IikpKX19fSksKDAsby5kZWZhdWx0KSgiUHJvZ3JhbSIse3Zpc2l0b3I6WyJkaXJlY3RpdmVzIiwiYm9keSJdLGJ1aWxkZXI6WyJib2R5IiwiZGlyZWN0aXZlcyJdLGZpZWxkczp7ZGlyZWN0aXZlczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkRpcmVjdGl2ZSIpKSksZGVmYXVsdDpbXX0sYm9keTp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpKSl9fSxhbGlhc2VzOlsiU2NvcGFibGUiLCJCbG9ja1BhcmVudCIsIkJsb2NrIiwiRnVuY3Rpb25QYXJlbnQiXX0pLCgwLG8uZGVmYXVsdCkoIk9iamVjdEV4cHJlc3Npb24iLHt2aXNpdG9yOlsicHJvcGVydGllcyJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIl0sZmllbGRzOntwcm9wZXJ0aWVzOnt2YWxpZGF0ZTooMCxhLmNoYWluKSgoMCxhLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsYS5hc3NlcnRFYWNoKSgoMCxhLmFzc2VydE5vZGVUeXBlKSgiT2JqZWN0TWV0aG9kIiwiT2JqZWN0UHJvcGVydHkiLCJTcHJlYWRQcm9wZXJ0eSIpKSl9fX0pLCgwLG8uZGVmYXVsdCkoIk9iamVjdE1ldGhvZCIse2J1aWxkZXI6WyJraW5kIiwia2V5IiwicGFyYW1zIiwiYm9keSIsImNvbXB1dGVkIl0sZmllbGRzOntraW5kOnt2YWxpZGF0ZTooMCxhLmNoYWluKSgoMCxhLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpLCgwLGEuYXNzZXJ0T25lT2YpKCJtZXRob2QiLCJnZXQiLCJzZXQiKSksZGVmYXVsdDoibWV0aG9kIn0sY29tcHV0ZWQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpLGRlZmF1bHQ6ITF9LGtleTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuY29tcHV0ZWQ/WyJFeHByZXNzaW9uIl06WyJJZGVudGlmaWVyIiwiU3RyaW5nTGl0ZXJhbCIsIk51bWVyaWNMaXRlcmFsIl07YS5hc3NlcnROb2RlVHlwZS5hcHBseSh2b2lkIDAsbikoZSx0LHIpfX0sZGVjb3JhdG9yczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkRlY29yYXRvciIpKSl9LApib2R5Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiQmxvY2tTdGF0ZW1lbnQiKX0sZ2VuZXJhdG9yOntkZWZhdWx0OiExLHZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfSxhc3luYzp7ZGVmYXVsdDohMSx2YWxpZGF0ZTooMCxhLmFzc2VydFZhbHVlVHlwZSkoImJvb2xlYW4iKX19LHZpc2l0b3I6WyJrZXkiLCJwYXJhbXMiLCJib2R5IiwiZGVjb3JhdG9ycyIsInJldHVyblR5cGUiLCJ0eXBlUGFyYW1ldGVycyJdLGFsaWFzZXM6WyJVc2VyV2hpdGVzcGFjYWJsZSIsIkZ1bmN0aW9uIiwiU2NvcGFibGUiLCJCbG9ja1BhcmVudCIsIkZ1bmN0aW9uUGFyZW50IiwiTWV0aG9kIiwiT2JqZWN0TWVtYmVyIl19KSwoMCxvLmRlZmF1bHQpKCJPYmplY3RQcm9wZXJ0eSIse2J1aWxkZXI6WyJrZXkiLCJ2YWx1ZSIsImNvbXB1dGVkIiwic2hvcnRoYW5kIiwiZGVjb3JhdG9ycyJdLGZpZWxkczp7Y29tcHV0ZWQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpLGRlZmF1bHQ6ITF9LGtleTp7dmFsaWRhdGU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuY29tcHV0ZWQ/WyJFeHByZXNzaW9uIl06WyJJZGVudGlmaWVyIiwiU3RyaW5nTGl0ZXJhbCIsIk51bWVyaWNMaXRlcmFsIl07YS5hc3NlcnROb2RlVHlwZS5hcHBseSh2b2lkIDAsbikoZSx0LHIpfX0sdmFsdWU6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIiwiUGF0dGVybiIsIlJlc3RFbGVtZW50Iil9LHNob3J0aGFuZDp7dmFsaWRhdGU6KDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJib29sZWFuIiksZGVmYXVsdDohMX0sZGVjb3JhdG9yczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkRlY29yYXRvciIpKSksb3B0aW9uYWw6ITB9fSx2aXNpdG9yOlsia2V5IiwidmFsdWUiLCJkZWNvcmF0b3JzIl0sYWxpYXNlczpbIlVzZXJXaGl0ZXNwYWNhYmxlIiwiUHJvcGVydHkiLCJPYmplY3RNZW1iZXIiXX0pLCgwLG8uZGVmYXVsdCkoIlJlc3RFbGVtZW50Iix7dmlzaXRvcjpbImFyZ3VtZW50IiwidHlwZUFubm90YXRpb24iXSxhbGlhc2VzOlsiTFZhbCJdLGZpZWxkczp7YXJndW1lbnQ6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJMVmFsIil9LGRlY29yYXRvcnM6e3ZhbGlkYXRlOigwLGEuY2hhaW4pKCgwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxhLmFzc2VydEVhY2gpKCgwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJEZWNvcmF0b3IiKSkpfX19KSwoMCxvLmRlZmF1bHQpKCJSZXR1cm5TdGF0ZW1lbnQiLHt2aXNpdG9yOlsiYXJndW1lbnQiXSxhbGlhc2VzOlsiU3RhdGVtZW50IiwiVGVybWluYXRvcmxlc3MiLCJDb21wbGV0aW9uU3RhdGVtZW50Il0sZmllbGRzOnthcmd1bWVudDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKSxvcHRpb25hbDohMH19fSksKDAsby5kZWZhdWx0KSgiU2VxdWVuY2VFeHByZXNzaW9uIix7dmlzaXRvcjpbImV4cHJlc3Npb25zIl0sZmllbGRzOntleHByZXNzaW9uczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKSkpfX0sYWxpYXNlczpbIkV4cHJlc3Npb24iXX0pLCgwLG8uZGVmYXVsdCkoIlN3aXRjaENhc2UiLHt2aXNpdG9yOlsidGVzdCIsImNvbnNlcXVlbnQiXSxmaWVsZHM6e3Rlc3Q6e3ZhbGlkYXRlOigwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIiksb3B0aW9uYWw6ITB9LGNvbnNlcXVlbnQ6e3ZhbGlkYXRlOigwLGEuY2hhaW4pKCgwLGEuYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxhLmFzc2VydEVhY2gpKCgwLGEuYXNzZXJ0Tm9kZVR5cGUpKCJTdGF0ZW1lbnQiKSkpfX19KSwoMCxvLmRlZmF1bHQpKCJTd2l0Y2hTdGF0ZW1lbnQiLHt2aXNpdG9yOlsiZGlzY3JpbWluYW50IiwiY2FzZXMiXSxhbGlhc2VzOlsiU3RhdGVtZW50IiwiQmxvY2tQYXJlbnQiLCJTY29wYWJsZSJdLGZpZWxkczp7ZGlzY3JpbWluYW50Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxjYXNlczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIlN3aXRjaENhc2UiKSkpfX19KSwoMCxvLmRlZmF1bHQpKCJUaGlzRXhwcmVzc2lvbiIse2FsaWFzZXM6WyJFeHByZXNzaW9uIl19KSwoMCxvLmRlZmF1bHQpKCJUaHJvd1N0YXRlbWVudCIse3Zpc2l0b3I6WyJhcmd1bWVudCJdLGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJUZXJtaW5hdG9ybGVzcyIsIkNvbXBsZXRpb25TdGF0ZW1lbnQiXSxmaWVsZHM6e2FyZ3VtZW50Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfX19KSwoMCxvLmRlZmF1bHQpKCJUcnlTdGF0ZW1lbnQiLHt2aXNpdG9yOlsiYmxvY2siLCJoYW5kbGVyIiwiZmluYWxpemVyIl0sYWxpYXNlczpbIlN0YXRlbWVudCJdLGZpZWxkczp7Ym9keTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50Iil9LGhhbmRsZXI6e29wdGlvbmFsOiEwLGhhbmRsZXI6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50Iil9LGZpbmFsaXplcjp7b3B0aW9uYWw6ITAsdmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50Iil9fX0pLCgwLG8uZGVmYXVsdCkoIlVuYXJ5RXhwcmVzc2lvbiIse2J1aWxkZXI6WyJvcGVyYXRvciIsImFyZ3VtZW50IiwicHJlZml4Il0sZmllbGRzOntwcmVmaXg6e2RlZmF1bHQ6ITB9LGFyZ3VtZW50Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxvcGVyYXRvcjp7dmFsaWRhdGU6YS5hc3NlcnRPbmVPZi5hcHBseSh2b2lkIDAscy5VTkFSWV9PUEVSQVRPUlMpfX0sdmlzaXRvcjpbImFyZ3VtZW50Il0sYWxpYXNlczpbIlVuYXJ5TGlrZSIsIkV4cHJlc3Npb24iXX0pLCgwLG8uZGVmYXVsdCkoIlVwZGF0ZUV4cHJlc3Npb24iLHtidWlsZGVyOlsib3BlcmF0b3IiLCJhcmd1bWVudCIsInByZWZpeCJdLGZpZWxkczp7cHJlZml4OntkZWZhdWx0OiExfSxhcmd1bWVudDp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sb3BlcmF0b3I6e3ZhbGlkYXRlOmEuYXNzZXJ0T25lT2YuYXBwbHkodm9pZCAwLHMuVVBEQVRFX09QRVJBVE9SUyl9fSx2aXNpdG9yOlsiYXJndW1lbnQiXSxhbGlhc2VzOlsiRXhwcmVzc2lvbiJdfSksKDAsby5kZWZhdWx0KSgiVmFyaWFibGVEZWNsYXJhdGlvbiIse2J1aWxkZXI6WyJraW5kIiwiZGVjbGFyYXRpb25zIl0sdmlzaXRvcjpbImRlY2xhcmF0aW9ucyJdLGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7a2luZDp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJzdHJpbmciKSwoMCxhLmFzc2VydE9uZU9mKSgidmFyIiwibGV0IiwiY29uc3QiKSl9LGRlY2xhcmF0aW9uczp7dmFsaWRhdGU6KDAsYS5jaGFpbikoKDAsYS5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLGEuYXNzZXJ0RWFjaCkoKDAsYS5hc3NlcnROb2RlVHlwZSkoIlZhcmlhYmxlRGVjbGFyYXRvciIpKSl9fX0pLCgwLG8uZGVmYXVsdCkoIlZhcmlhYmxlRGVjbGFyYXRvciIse3Zpc2l0b3I6WyJpZCIsImluaXQiXSxmaWVsZHM6e2lkOnt2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiTFZhbCIpfSxpbml0OntvcHRpb25hbDohMCx2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfX19KSwoMCxvLmRlZmF1bHQpKCJXaGlsZVN0YXRlbWVudCIse3Zpc2l0b3I6WyJ0ZXN0IiwiYm9keSJdLGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJCbG9ja1BhcmVudCIsIkxvb3AiLCJXaGlsZSIsIlNjb3BhYmxlIl0sZmllbGRzOnt0ZXN0Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxib2R5Ont2YWxpZGF0ZTooMCxhLmFzc2VydE5vZGVUeXBlKSgiQmxvY2tTdGF0ZW1lbnQiLCJTdGF0ZW1lbnQiKX19fSksKDAsby5kZWZhdWx0KSgiV2l0aFN0YXRlbWVudCIse3Zpc2l0b3I6WyJvYmplY3QiLCJib2R5Il0sYWxpYXNlczpbIlN0YXRlbWVudCJdLGZpZWxkczp7b2JqZWN0OntvYmplY3Q6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sYm9keTp7dmFsaWRhdGU6KDAsYS5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50IiwiU3RhdGVtZW50Iil9fX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjYpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTsoMCxpLmRlZmF1bHQpKCJBc3NpZ25tZW50UGF0dGVybiIse3Zpc2l0b3I6WyJsZWZ0IiwicmlnaHQiXSxhbGlhc2VzOlsiUGF0dGVybiIsIkxWYWwiXSxmaWVsZHM6e2xlZnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIil9LHJpZ2h0Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxkZWNvcmF0b3JzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiRGVjb3JhdG9yIikpKX19fSksKDAsaS5kZWZhdWx0KSgiQXJyYXlQYXR0ZXJuIix7dmlzaXRvcjpbImVsZW1lbnRzIiwidHlwZUFubm90YXRpb24iXSxhbGlhc2VzOlsiUGF0dGVybiIsIkxWYWwiXSxmaWVsZHM6e2VsZW1lbnRzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIsIlBhdHRlcm4iLCJSZXN0RWxlbWVudCIpKSl9LGRlY29yYXRvcnM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJEZWNvcmF0b3IiKSkpfX19KSwoMCxpLmRlZmF1bHQpKCJBcnJvd0Z1bmN0aW9uRXhwcmVzc2lvbiIse2J1aWxkZXI6WyJwYXJhbXMiLCJib2R5IiwiYXN5bmMiXSx2aXNpdG9yOlsicGFyYW1zIiwiYm9keSIsInJldHVyblR5cGUiLCJ0eXBlUGFyYW1ldGVycyJdLGFsaWFzZXM6WyJTY29wYWJsZSIsIkZ1bmN0aW9uIiwiQmxvY2tQYXJlbnQiLCJGdW5jdGlvblBhcmVudCIsIkV4cHJlc3Npb24iLCJQdXJlaXNoIl0sZmllbGRzOntwYXJhbXM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJMVmFsIikpKX0sYm9keTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50IiwiRXhwcmVzc2lvbiIpfSxhc3luYzp7dmFsaWRhdGU6KDAsbi5hc3NlcnRWYWx1ZVR5cGUpKCJib29sZWFuIiksZGVmYXVsdDohMX19fSksKDAsaS5kZWZhdWx0KSgiQ2xhc3NCb2R5Iix7dmlzaXRvcjpbImJvZHkiXSxmaWVsZHM6e2JvZHk6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJDbGFzc01ldGhvZCIsIkNsYXNzUHJvcGVydHkiKSkpfX19KSwoMCxpLmRlZmF1bHQpKCJDbGFzc0RlY2xhcmF0aW9uIix7YnVpbGRlcjpbImlkIiwic3VwZXJDbGFzcyIsImJvZHkiLCJkZWNvcmF0b3JzIl0sdmlzaXRvcjpbImlkIiwiYm9keSIsInN1cGVyQ2xhc3MiLCJtaXhpbnMiLCJ0eXBlUGFyYW1ldGVycyIsInN1cGVyVHlwZVBhcmFtZXRlcnMiLCJpbXBsZW1lbnRzIiwiZGVjb3JhdG9ycyJdLGFsaWFzZXM6WyJTY29wYWJsZSIsIkNsYXNzIiwiU3RhdGVtZW50IiwiRGVjbGFyYXRpb24iLCJQdXJlaXNoIl0sZmllbGRzOntpZDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKX0sYm9keTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkNsYXNzQm9keSIpfSxzdXBlckNsYXNzOntvcHRpb25hbDohMCx2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfSxkZWNvcmF0b3JzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiRGVjb3JhdG9yIikpKX19fSksKDAsaS5kZWZhdWx0KSgiQ2xhc3NFeHByZXNzaW9uIix7aW5oZXJpdHM6IkNsYXNzRGVjbGFyYXRpb24iLGFsaWFzZXM6WyJTY29wYWJsZSIsIkNsYXNzIiwiRXhwcmVzc2lvbiIsIlB1cmVpc2giXSxmaWVsZHM6e2lkOntvcHRpb25hbDohMCx2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIpfSxib2R5Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiQ2xhc3NCb2R5Iil9LHN1cGVyQ2xhc3M6e29wdGlvbmFsOiEwLHZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LGRlY29yYXRvcnM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJEZWNvcmF0b3IiKSkpfX19KSwoMCxpLmRlZmF1bHQpKCJFeHBvcnRBbGxEZWNsYXJhdGlvbiIse3Zpc2l0b3I6WyJzb3VyY2UiXSxhbGlhc2VzOlsiU3RhdGVtZW50IiwiRGVjbGFyYXRpb24iLCJNb2R1bGVEZWNsYXJhdGlvbiIsIkV4cG9ydERlY2xhcmF0aW9uIl0sZmllbGRzOntzb3VyY2U6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJTdHJpbmdMaXRlcmFsIil9fX0pLCgwLGkuZGVmYXVsdCkoIkV4cG9ydERlZmF1bHREZWNsYXJhdGlvbiIse3Zpc2l0b3I6WyJkZWNsYXJhdGlvbiJdLGFsaWFzZXM6WyJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiIsIk1vZHVsZURlY2xhcmF0aW9uIiwiRXhwb3J0RGVjbGFyYXRpb24iXSxmaWVsZHM6e2RlY2xhcmF0aW9uOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiRnVuY3Rpb25EZWNsYXJhdGlvbiIsIkNsYXNzRGVjbGFyYXRpb24iLCJFeHByZXNzaW9uIil9fX0pLCgwLGkuZGVmYXVsdCkoIkV4cG9ydE5hbWVkRGVjbGFyYXRpb24iLHt2aXNpdG9yOlsiZGVjbGFyYXRpb24iLCJzcGVjaWZpZXJzIiwic291cmNlIl0sYWxpYXNlczpbIlN0YXRlbWVudCIsIkRlY2xhcmF0aW9uIiwiTW9kdWxlRGVjbGFyYXRpb24iLCJFeHBvcnREZWNsYXJhdGlvbiJdLGZpZWxkczp7ZGVjbGFyYXRpb246e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJEZWNsYXJhdGlvbiIpLG9wdGlvbmFsOiEwfSxzcGVjaWZpZXJzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiRXhwb3J0U3BlY2lmaWVyIikpKX0sc291cmNlOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiU3RyaW5nTGl0ZXJhbCIpLG9wdGlvbmFsOiEwfX19KSwoMCxpLmRlZmF1bHQpKCJFeHBvcnRTcGVjaWZpZXIiLHt2aXNpdG9yOlsibG9jYWwiLCJleHBvcnRlZCJdLGFsaWFzZXM6WyJNb2R1bGVTcGVjaWZpZXIiXSxmaWVsZHM6e2xvY2FsOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIpfSxleHBvcnRlZDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKX19fSksKDAsaS5kZWZhdWx0KSgiRm9yT2ZTdGF0ZW1lbnQiLHt2aXNpdG9yOlsibGVmdCIsInJpZ2h0IiwiYm9keSJdLGFsaWFzZXM6WyJTY29wYWJsZSIsIlN0YXRlbWVudCIsIkZvciIsIkJsb2NrUGFyZW50IiwiTG9vcCIsIkZvclhTdGF0ZW1lbnQiXSxmaWVsZHM6e2xlZnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJWYXJpYWJsZURlY2xhcmF0aW9uIiwiTFZhbCIpfSxyaWdodDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sYm9keTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpfX19KSwoMCxpLmRlZmF1bHQpKCJJbXBvcnREZWNsYXJhdGlvbiIse3Zpc2l0b3I6WyJzcGVjaWZpZXJzIiwic291cmNlIl0sYWxpYXNlczpbIlN0YXRlbWVudCIsIkRlY2xhcmF0aW9uIiwiTW9kdWxlRGVjbGFyYXRpb24iXSxmaWVsZHM6e3NwZWNpZmllcnM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJJbXBvcnRTcGVjaWZpZXIiLCJJbXBvcnREZWZhdWx0U3BlY2lmaWVyIiwiSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyIikpKX0sc291cmNlOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiU3RyaW5nTGl0ZXJhbCIpfX19KSwoMCxpLmRlZmF1bHQpKCJJbXBvcnREZWZhdWx0U3BlY2lmaWVyIix7dmlzaXRvcjpbImxvY2FsIl0sYWxpYXNlczpbIk1vZHVsZVNwZWNpZmllciJdLGZpZWxkczp7bG9jYWw6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIil9fX0pLCgwLGkuZGVmYXVsdCkoIkltcG9ydE5hbWVzcGFjZVNwZWNpZmllciIse3Zpc2l0b3I6WyJsb2NhbCJdLGFsaWFzZXM6WyJNb2R1bGVTcGVjaWZpZXIiXSxmaWVsZHM6e2xvY2FsOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIpfX19KSwoMCxpLmRlZmF1bHQpKCJJbXBvcnRTcGVjaWZpZXIiLHt2aXNpdG9yOlsibG9jYWwiLCJpbXBvcnRlZCJdLGFsaWFzZXM6WyJNb2R1bGVTcGVjaWZpZXIiXSxmaWVsZHM6e2xvY2FsOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSWRlbnRpZmllciIpfSxpbXBvcnRlZDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKX0saW1wb3J0S2luZDp7dmFsaWRhdGU6KDAsbi5hc3NlcnRPbmVPZikobnVsbCwidHlwZSIsInR5cGVvZiIpfX19KSwoMCxpLmRlZmF1bHQpKCJNZXRhUHJvcGVydHkiLHt2aXNpdG9yOlsibWV0YSIsInByb3BlcnR5Il0sYWxpYXNlczpbIkV4cHJlc3Npb24iXSxmaWVsZHM6e21ldGE6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgic3RyaW5nIil9LHByb3BlcnR5Ont2YWxpZGF0ZTooMCxuLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpfX19KSwoMCxpLmRlZmF1bHQpKCJDbGFzc01ldGhvZCIse2FsaWFzZXM6WyJGdW5jdGlvbiIsIlNjb3BhYmxlIiwiQmxvY2tQYXJlbnQiLCJGdW5jdGlvblBhcmVudCIsIk1ldGhvZCJdLGJ1aWxkZXI6WyJraW5kIiwia2V5IiwicGFyYW1zIiwiYm9keSIsImNvbXB1dGVkIiwic3RhdGljIl0sdmlzaXRvcjpbImtleSIsInBhcmFtcyIsImJvZHkiLCJkZWNvcmF0b3JzIiwicmV0dXJuVHlwZSIsInR5cGVQYXJhbWV0ZXJzIl0sZmllbGRzOntraW5kOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpLCgwLG4uYXNzZXJ0T25lT2YpKCJnZXQiLCJzZXQiLCJtZXRob2QiLCJjb25zdHJ1Y3RvciIpKSxkZWZhdWx0OiJtZXRob2QifSxjb21wdXRlZDp7ZGVmYXVsdDohMSx2YWxpZGF0ZTooMCxuLmFzc2VydFZhbHVlVHlwZSkoImJvb2xlYW4iKX0sc3RhdGljOntkZWZhdWx0OiExLHZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfSxrZXk6e3ZhbGlkYXRlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT1lLmNvbXB1dGVkP1siRXhwcmVzc2lvbiJdOlsiSWRlbnRpZmllciIsIlN0cmluZ0xpdGVyYWwiLCJOdW1lcmljTGl0ZXJhbCJdO24uYXNzZXJ0Tm9kZVR5cGUuYXBwbHkodm9pZCAwLGkpKGUsdCxyKX19LHBhcmFtczp7dmFsaWRhdGU6KDAsbi5jaGFpbikoKDAsbi5hc3NlcnRWYWx1ZVR5cGUpKCJhcnJheSIpLCgwLG4uYXNzZXJ0RWFjaCkoKDAsbi5hc3NlcnROb2RlVHlwZSkoIkxWYWwiKSkpfSxib2R5Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiQmxvY2tTdGF0ZW1lbnQiKX0sZ2VuZXJhdG9yOntkZWZhdWx0OiExLHZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfSxhc3luYzp7ZGVmYXVsdDohMSx2YWxpZGF0ZTooMCxuLmFzc2VydFZhbHVlVHlwZSkoImJvb2xlYW4iKX19fSksKDAsaS5kZWZhdWx0KSgiT2JqZWN0UGF0dGVybiIse3Zpc2l0b3I6WyJwcm9wZXJ0aWVzIiwidHlwZUFubm90YXRpb24iXSxhbGlhc2VzOlsiUGF0dGVybiIsIkxWYWwiXSxmaWVsZHM6e3Byb3BlcnRpZXM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJSZXN0UHJvcGVydHkiLCJQcm9wZXJ0eSIpKSl9LGRlY29yYXRvcnM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJEZWNvcmF0b3IiKSkpfX19KSwoMCxpLmRlZmF1bHQpKCJTcHJlYWRFbGVtZW50Iix7dmlzaXRvcjpbImFyZ3VtZW50Il0sYWxpYXNlczpbIlVuYXJ5TGlrZSJdLGZpZWxkczp7YXJndW1lbnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fX0pLCgwLGkuZGVmYXVsdCkoIlN1cGVyIix7YWxpYXNlczpbIkV4cHJlc3Npb24iXX0pLCgwLGkuZGVmYXVsdCkoIlRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbiIse3Zpc2l0b3I6WyJ0YWciLCJxdWFzaSJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIl0sZmllbGRzOnt0YWc6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9LHF1YXNpOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiVGVtcGxhdGVMaXRlcmFsIil9fX0pLCgwLGkuZGVmYXVsdCkoIlRlbXBsYXRlRWxlbWVudCIse2J1aWxkZXI6WyJ2YWx1ZSIsInRhaWwiXSxmaWVsZHM6e3ZhbHVlOnt9LHRhaWw6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpLGRlZmF1bHQ6ITF9fX0pLCgwLGkuZGVmYXVsdCkoIlRlbXBsYXRlTGl0ZXJhbCIse3Zpc2l0b3I6WyJxdWFzaXMiLCJleHByZXNzaW9ucyJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIiwiTGl0ZXJhbCJdLGZpZWxkczp7cXVhc2lzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiVGVtcGxhdGVFbGVtZW50IikpKX0sZXhwcmVzc2lvbnM6e3ZhbGlkYXRlOigwLG4uY2hhaW4pKCgwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYXJyYXkiKSwoMCxuLmFzc2VydEVhY2gpKCgwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIikpKX19fSksKDAsaS5kZWZhdWx0KSgiWWllbGRFeHByZXNzaW9uIix7YnVpbGRlcjpbImFyZ3VtZW50IiwiZGVsZWdhdGUiXSx2aXNpdG9yOlsiYXJndW1lbnQiXSxhbGlhc2VzOlsiRXhwcmVzc2lvbiIsIlRlcm1pbmF0b3JsZXNzIl0sZmllbGRzOntkZWxlZ2F0ZTp7dmFsaWRhdGU6KDAsbi5hc3NlcnRWYWx1ZVR5cGUpKCJib29sZWFuIiksZGVmYXVsdDohMX0sYXJndW1lbnQ6e29wdGlvbmFsOiEwLHZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjYpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKTsoMCxpLmRlZmF1bHQpKCJBd2FpdEV4cHJlc3Npb24iLHtidWlsZGVyOlsiYXJndW1lbnQiXSx2aXNpdG9yOlsiYXJndW1lbnQiXSxhbGlhc2VzOlsiRXhwcmVzc2lvbiIsIlRlcm1pbmF0b3JsZXNzIl0sZmllbGRzOnthcmd1bWVudDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX19fSksKDAsaS5kZWZhdWx0KSgiRm9yQXdhaXRTdGF0ZW1lbnQiLHt2aXNpdG9yOlsibGVmdCIsInJpZ2h0IiwiYm9keSJdLGFsaWFzZXM6WyJTY29wYWJsZSIsIlN0YXRlbWVudCIsIkZvciIsIkJsb2NrUGFyZW50IiwiTG9vcCIsIkZvclhTdGF0ZW1lbnQiXSxmaWVsZHM6e2xlZnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJWYXJpYWJsZURlY2xhcmF0aW9uIiwiTFZhbCIpfSxyaWdodDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX0sYm9keTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIlN0YXRlbWVudCIpfX19KSwoMCxpLmRlZmF1bHQpKCJCaW5kRXhwcmVzc2lvbiIse3Zpc2l0b3I6WyJvYmplY3QiLCJjYWxsZWUiXSxhbGlhc2VzOlsiRXhwcmVzc2lvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkltcG9ydCIse2FsaWFzZXM6WyJFeHByZXNzaW9uIl19KSwoMCxpLmRlZmF1bHQpKCJEZWNvcmF0b3IiLHt2aXNpdG9yOlsiZXhwcmVzc2lvbiJdLGZpZWxkczp7ZXhwcmVzc2lvbjp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX19fSksKDAsaS5kZWZhdWx0KSgiRG9FeHByZXNzaW9uIix7dmlzaXRvcjpbImJvZHkiXSxhbGlhc2VzOlsiRXhwcmVzc2lvbiJdLGZpZWxkczp7Ym9keTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkJsb2NrU3RhdGVtZW50Iil9fX0pLCgwLGkuZGVmYXVsdCkoIkV4cG9ydERlZmF1bHRTcGVjaWZpZXIiLHt2aXNpdG9yOlsiZXhwb3J0ZWQiXSxhbGlhc2VzOlsiTW9kdWxlU3BlY2lmaWVyIl0sZmllbGRzOntleHBvcnRlZDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIklkZW50aWZpZXIiKX19fSksKDAsaS5kZWZhdWx0KSgiRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyIix7dmlzaXRvcjpbImV4cG9ydGVkIl0sYWxpYXNlczpbIk1vZHVsZVNwZWNpZmllciJdLGZpZWxkczp7ZXhwb3J0ZWQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJJZGVudGlmaWVyIil9fX0pLCgwLGkuZGVmYXVsdCkoIlJlc3RQcm9wZXJ0eSIse3Zpc2l0b3I6WyJhcmd1bWVudCJdLGFsaWFzZXM6WyJVbmFyeUxpa2UiXSxmaWVsZHM6e2FyZ3VtZW50Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiTFZhbCIpfX19KSwoMCxpLmRlZmF1bHQpKCJTcHJlYWRQcm9wZXJ0eSIse3Zpc2l0b3I6WyJhcmd1bWVudCJdLGFsaWFzZXM6WyJVbmFyeUxpa2UiXSxmaWVsZHM6e2FyZ3VtZW50Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiRXhwcmVzc2lvbiIpfX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI2KSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obik7KDAsaS5kZWZhdWx0KSgiQW55VHlwZUFubm90YXRpb24iLHthbGlhc2VzOlsiRmxvdyIsIkZsb3dCYXNlQW5ub3RhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkFycmF5VHlwZUFubm90YXRpb24iLHt2aXNpdG9yOlsiZWxlbWVudFR5cGUiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkJvb2xlYW5UeXBlQW5ub3RhdGlvbiIse2FsaWFzZXM6WyJGbG93IiwiRmxvd0Jhc2VBbm5vdGF0aW9uIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiQm9vbGVhbkxpdGVyYWxUeXBlQW5ub3RhdGlvbiIse2FsaWFzZXM6WyJGbG93Il0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiTnVsbExpdGVyYWxUeXBlQW5ub3RhdGlvbiIse2FsaWFzZXM6WyJGbG93IiwiRmxvd0Jhc2VBbm5vdGF0aW9uIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiQ2xhc3NJbXBsZW1lbnRzIix7dmlzaXRvcjpbImlkIiwidHlwZVBhcmFtZXRlcnMiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkNsYXNzUHJvcGVydHkiLHt2aXNpdG9yOlsia2V5IiwidmFsdWUiLCJ0eXBlQW5ub3RhdGlvbiIsImRlY29yYXRvcnMiXSxidWlsZGVyOlsia2V5IiwidmFsdWUiLCJ0eXBlQW5ub3RhdGlvbiIsImRlY29yYXRvcnMiLCJjb21wdXRlZCJdLGFsaWFzZXM6WyJQcm9wZXJ0eSJdLGZpZWxkczp7Y29tcHV0ZWQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpLGRlZmF1bHQ6ITF9fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVDbGFzcyIse3Zpc2l0b3I6WyJpZCIsInR5cGVQYXJhbWV0ZXJzIiwiZXh0ZW5kcyIsImJvZHkiXSxhbGlhc2VzOlsiRmxvdyIsIkZsb3dEZWNsYXJhdGlvbiIsIlN0YXRlbWVudCIsIkRlY2xhcmF0aW9uIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiRGVjbGFyZUZ1bmN0aW9uIix7dmlzaXRvcjpbImlkIl0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVJbnRlcmZhY2UiLHt2aXNpdG9yOlsiaWQiLCJ0eXBlUGFyYW1ldGVycyIsImV4dGVuZHMiLCJib2R5Il0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVNb2R1bGUiLHt2aXNpdG9yOlsiaWQiLCJib2R5Il0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVNb2R1bGVFeHBvcnRzIix7dmlzaXRvcjpbInR5cGVBbm5vdGF0aW9uIl0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVUeXBlQWxpYXMiLHt2aXNpdG9yOlsiaWQiLCJ0eXBlUGFyYW1ldGVycyIsInJpZ2h0Il0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVPcGFxdWVUeXBlIix7dmlzaXRvcjpbImlkIiwidHlwZVBhcmFtZXRlcnMiLCJzdXBlcnR5cGUiXSxhbGlhc2VzOlsiRmxvdyIsIkZsb3dEZWNsYXJhdGlvbiIsIlN0YXRlbWVudCIsIkRlY2xhcmF0aW9uIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiRGVjbGFyZVZhcmlhYmxlIix7dmlzaXRvcjpbImlkIl0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkRlY2xhcmVFeHBvcnREZWNsYXJhdGlvbiIse3Zpc2l0b3I6WyJkZWNsYXJhdGlvbiIsInNwZWNpZmllcnMiLCJzb3VyY2UiXSxhbGlhc2VzOlsiRmxvdyIsIkZsb3dEZWNsYXJhdGlvbiIsIlN0YXRlbWVudCIsIkRlY2xhcmF0aW9uIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiRXhpc3RlbnRpYWxUeXBlUGFyYW0iLHthbGlhc2VzOlsiRmxvdyJdfSksKDAsaS5kZWZhdWx0KSgiRnVuY3Rpb25UeXBlQW5ub3RhdGlvbiIse3Zpc2l0b3I6WyJ0eXBlUGFyYW1ldGVycyIsInBhcmFtcyIsInJlc3QiLCJyZXR1cm5UeXBlIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJGdW5jdGlvblR5cGVQYXJhbSIse3Zpc2l0b3I6WyJuYW1lIiwidHlwZUFubm90YXRpb24iXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkdlbmVyaWNUeXBlQW5ub3RhdGlvbiIse3Zpc2l0b3I6WyJpZCIsInR5cGVQYXJhbWV0ZXJzIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJJbnRlcmZhY2VFeHRlbmRzIix7dmlzaXRvcjpbImlkIiwidHlwZVBhcmFtZXRlcnMiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIkludGVyZmFjZURlY2xhcmF0aW9uIix7dmlzaXRvcjpbImlkIiwidHlwZVBhcmFtZXRlcnMiLCJleHRlbmRzIiwiYm9keSJdLGFsaWFzZXM6WyJGbG93IiwiRmxvd0RlY2xhcmF0aW9uIiwiU3RhdGVtZW50IiwiRGVjbGFyYXRpb24iXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJJbnRlcnNlY3Rpb25UeXBlQW5ub3RhdGlvbiIse3Zpc2l0b3I6WyJ0eXBlcyJdLGFsaWFzZXM6WyJGbG93Il0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiTWl4ZWRUeXBlQW5ub3RhdGlvbiIse2FsaWFzZXM6WyJGbG93IiwiRmxvd0Jhc2VBbm5vdGF0aW9uIl19KSwoMCxpLmRlZmF1bHQpKCJFbXB0eVR5cGVBbm5vdGF0aW9uIix7YWxpYXNlczpbIkZsb3ciLCJGbG93QmFzZUFubm90YXRpb24iXX0pLCgwLGkuZGVmYXVsdCkoIk51bGxhYmxlVHlwZUFubm90YXRpb24iLHt2aXNpdG9yOlsidHlwZUFubm90YXRpb24iXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk51bWVyaWNMaXRlcmFsVHlwZUFubm90YXRpb24iLHthbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk51bWJlclR5cGVBbm5vdGF0aW9uIix7YWxpYXNlczpbIkZsb3ciLCJGbG93QmFzZUFubm90YXRpb24iXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJTdHJpbmdMaXRlcmFsVHlwZUFubm90YXRpb24iLHthbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlN0cmluZ1R5cGVBbm5vdGF0aW9uIix7YWxpYXNlczpbIkZsb3ciLCJGbG93QmFzZUFubm90YXRpb24iXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUaGlzVHlwZUFubm90YXRpb24iLHthbGlhc2VzOlsiRmxvdyIsIkZsb3dCYXNlQW5ub3RhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlR1cGxlVHlwZUFubm90YXRpb24iLHt2aXNpdG9yOlsidHlwZXMiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlR5cGVvZlR5cGVBbm5vdGF0aW9uIix7dmlzaXRvcjpbImFyZ3VtZW50Il0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUeXBlQWxpYXMiLHt2aXNpdG9yOlsiaWQiLCJ0eXBlUGFyYW1ldGVycyIsInJpZ2h0Il0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk9wYXF1ZVR5cGUiLHt2aXNpdG9yOlsiaWQiLCJ0eXBlUGFyYW1ldGVycyIsImltcGx0eXBlIiwic3VwZXJ0eXBlIl0sYWxpYXNlczpbIkZsb3ciLCJGbG93RGVjbGFyYXRpb24iLCJTdGF0ZW1lbnQiLCJEZWNsYXJhdGlvbiJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlR5cGVBbm5vdGF0aW9uIix7dmlzaXRvcjpbInR5cGVBbm5vdGF0aW9uIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUeXBlQ2FzdEV4cHJlc3Npb24iLHt2aXNpdG9yOlsiZXhwcmVzc2lvbiIsInR5cGVBbm5vdGF0aW9uIl0sYWxpYXNlczpbIkZsb3ciLCJFeHByZXNzaW9uV3JhcHBlciIsIkV4cHJlc3Npb24iXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUeXBlUGFyYW1ldGVyIix7dmlzaXRvcjpbImJvdW5kIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUeXBlUGFyYW1ldGVyRGVjbGFyYXRpb24iLHt2aXNpdG9yOlsicGFyYW1zIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJUeXBlUGFyYW1ldGVySW5zdGFudGlhdGlvbiIse3Zpc2l0b3I6WyJwYXJhbXMiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk9iamVjdFR5cGVBbm5vdGF0aW9uIix7dmlzaXRvcjpbInByb3BlcnRpZXMiLCJpbmRleGVycyIsImNhbGxQcm9wZXJ0aWVzIl0sYWxpYXNlczpbIkZsb3ciXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJPYmplY3RUeXBlQ2FsbFByb3BlcnR5Iix7dmlzaXRvcjpbInZhbHVlIl0sYWxpYXNlczpbIkZsb3ciLCJVc2VyV2hpdGVzcGFjYWJsZSJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk9iamVjdFR5cGVJbmRleGVyIix7dmlzaXRvcjpbImlkIiwia2V5IiwidmFsdWUiXSxhbGlhc2VzOlsiRmxvdyIsIlVzZXJXaGl0ZXNwYWNhYmxlIl0sZmllbGRzOnt9fSksKDAsaS5kZWZhdWx0KSgiT2JqZWN0VHlwZVByb3BlcnR5Iix7dmlzaXRvcjpbImtleSIsInZhbHVlIl0sYWxpYXNlczpbIkZsb3ciLCJVc2VyV2hpdGVzcGFjYWJsZSJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIk9iamVjdFR5cGVTcHJlYWRQcm9wZXJ0eSIse3Zpc2l0b3I6WyJhcmd1bWVudCJdLGFsaWFzZXM6WyJGbG93IiwiVXNlcldoaXRlc3BhY2FibGUiXSxmaWVsZHM6e319KSwoMCxpLmRlZmF1bHQpKCJRdWFsaWZpZWRUeXBlSWRlbnRpZmllciIse3Zpc2l0b3I6WyJpZCIsInF1YWxpZmljYXRpb24iXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlVuaW9uVHlwZUFubm90YXRpb24iLHt2aXNpdG9yOlsidHlwZXMiXSxhbGlhc2VzOlsiRmxvdyJdLGZpZWxkczp7fX0pLCgwLGkuZGVmYXVsdCkoIlZvaWRUeXBlQW5ub3RhdGlvbiIse2FsaWFzZXM6WyJGbG93IiwiRmxvd0Jhc2VBbm5vdGF0aW9uIl0sZmllbGRzOnt9fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cigyNikscigzODYpLHIoMzg3KSxyKDM4OSkscigzOTEpLHIoMzkyKSxyKDM4OCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyNiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pOygwLGkuZGVmYXVsdCkoIkpTWEF0dHJpYnV0ZSIse3Zpc2l0b3I6WyJuYW1lIiwidmFsdWUiXSxhbGlhc2VzOlsiSlNYIiwiSW1tdXRhYmxlIl0sZmllbGRzOntuYW1lOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYSWRlbnRpZmllciIsIkpTWE5hbWVzcGFjZWROYW1lIil9LHZhbHVlOntvcHRpb25hbDohMCx2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYRWxlbWVudCIsIlN0cmluZ0xpdGVyYWwiLCJKU1hFeHByZXNzaW9uQ29udGFpbmVyIil9fX0pLCgwLGkuZGVmYXVsdCkoIkpTWENsb3NpbmdFbGVtZW50Iix7dmlzaXRvcjpbIm5hbWUiXSxhbGlhc2VzOlsiSlNYIiwiSW1tdXRhYmxlIl0sZmllbGRzOntuYW1lOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYSWRlbnRpZmllciIsIkpTWE1lbWJlckV4cHJlc3Npb24iKX19fSksKDAsaS5kZWZhdWx0KSgiSlNYRWxlbWVudCIse2J1aWxkZXI6WyJvcGVuaW5nRWxlbWVudCIsImNsb3NpbmdFbGVtZW50IiwiY2hpbGRyZW4iLCJzZWxmQ2xvc2luZyJdLHZpc2l0b3I6WyJvcGVuaW5nRWxlbWVudCIsImNoaWxkcmVuIiwiY2xvc2luZ0VsZW1lbnQiXSxhbGlhc2VzOlsiSlNYIiwiSW1tdXRhYmxlIiwiRXhwcmVzc2lvbiJdLGZpZWxkczp7b3BlbmluZ0VsZW1lbnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJKU1hPcGVuaW5nRWxlbWVudCIpfSxjbG9zaW5nRWxlbWVudDp7b3B0aW9uYWw6ITAsdmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkpTWENsb3NpbmdFbGVtZW50Iil9LGNoaWxkcmVuOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYVGV4dCIsIkpTWEV4cHJlc3Npb25Db250YWluZXIiLCJKU1hTcHJlYWRDaGlsZCIsIkpTWEVsZW1lbnQiKSkpfX19KSwoMCxpLmRlZmF1bHQpKCJKU1hFbXB0eUV4cHJlc3Npb24iLHthbGlhc2VzOlsiSlNYIiwiRXhwcmVzc2lvbiJdfSksKDAsaS5kZWZhdWx0KSgiSlNYRXhwcmVzc2lvbkNvbnRhaW5lciIse3Zpc2l0b3I6WyJleHByZXNzaW9uIl0sYWxpYXNlczpbIkpTWCIsIkltbXV0YWJsZSJdLGZpZWxkczp7ZXhwcmVzc2lvbjp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkV4cHJlc3Npb24iKX19fSksKDAsaS5kZWZhdWx0KSgiSlNYU3ByZWFkQ2hpbGQiLHt2aXNpdG9yOlsiZXhwcmVzc2lvbiJdLGFsaWFzZXM6WyJKU1giLCJJbW11dGFibGUiXSxmaWVsZHM6e2V4cHJlc3Npb246e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fX0pLCgwLGkuZGVmYXVsdCkoIkpTWElkZW50aWZpZXIiLHtidWlsZGVyOlsibmFtZSJdLGFsaWFzZXM6WyJKU1giLCJFeHByZXNzaW9uIl0sZmllbGRzOntuYW1lOnt2YWxpZGF0ZTooMCxuLmFzc2VydFZhbHVlVHlwZSkoInN0cmluZyIpfX19KSwoMCxpLmRlZmF1bHQpKCJKU1hNZW1iZXJFeHByZXNzaW9uIix7dmlzaXRvcjpbIm9iamVjdCIsInByb3BlcnR5Il0sYWxpYXNlczpbIkpTWCIsIkV4cHJlc3Npb24iXSxmaWVsZHM6e29iamVjdDp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkpTWE1lbWJlckV4cHJlc3Npb24iLCJKU1hJZGVudGlmaWVyIil9LHByb3BlcnR5Ont2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYSWRlbnRpZmllciIpfX19KSwoMCxpLmRlZmF1bHQpKCJKU1hOYW1lc3BhY2VkTmFtZSIse3Zpc2l0b3I6WyJuYW1lc3BhY2UiLCJuYW1lIl0sYWxpYXNlczpbIkpTWCJdLGZpZWxkczp7bmFtZXNwYWNlOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYSWRlbnRpZmllciIpfSxuYW1lOnt2YWxpZGF0ZTooMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYSWRlbnRpZmllciIpfX19KSwoMCxpLmRlZmF1bHQpKCJKU1hPcGVuaW5nRWxlbWVudCIse2J1aWxkZXI6WyJuYW1lIiwiYXR0cmlidXRlcyIsInNlbGZDbG9zaW5nIl0sdmlzaXRvcjpbIm5hbWUiLCJhdHRyaWJ1dGVzIl0sYWxpYXNlczpbIkpTWCIsIkltbXV0YWJsZSJdLGZpZWxkczp7bmFtZTp7dmFsaWRhdGU6KDAsbi5hc3NlcnROb2RlVHlwZSkoIkpTWElkZW50aWZpZXIiLCJKU1hNZW1iZXJFeHByZXNzaW9uIil9LHNlbGZDbG9zaW5nOntkZWZhdWx0OiExLHZhbGlkYXRlOigwLG4uYXNzZXJ0VmFsdWVUeXBlKSgiYm9vbGVhbiIpfSxhdHRyaWJ1dGVzOnt2YWxpZGF0ZTooMCxuLmNoYWluKSgoMCxuLmFzc2VydFZhbHVlVHlwZSkoImFycmF5IiksKDAsbi5hc3NlcnRFYWNoKSgoMCxuLmFzc2VydE5vZGVUeXBlKSgiSlNYQXR0cmlidXRlIiwiSlNYU3ByZWFkQXR0cmlidXRlIikpKX19fSksKDAsaS5kZWZhdWx0KSgiSlNYU3ByZWFkQXR0cmlidXRlIix7dmlzaXRvcjpbImFyZ3VtZW50Il0sYWxpYXNlczpbIkpTWCJdLGZpZWxkczp7YXJndW1lbnQ6e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fX0pLCgwLGkuZGVmYXVsdCkoIkpTWFRleHQiLHthbGlhc2VzOlsiSlNYIiwiSW1tdXRhYmxlIl0sYnVpbGRlcjpbInZhbHVlIl0sZmllbGRzOnt2YWx1ZTp7dmFsaWRhdGU6KDAsbi5hc3NlcnRWYWx1ZVR5cGUpKCJzdHJpbmciKX19fSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyNiksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4pOygwLGkuZGVmYXVsdCkoIk5vb3AiLHt2aXNpdG9yOltdfSksKDAsaS5kZWZhdWx0KSgiUGFyZW50aGVzaXplZEV4cHJlc3Npb24iLHt2aXNpdG9yOlsiZXhwcmVzc2lvbiJdLGFsaWFzZXM6WyJFeHByZXNzaW9uIiwiRXhwcmVzc2lvbldyYXBwZXIiXSxmaWVsZHM6e2V4cHJlc3Npb246e3ZhbGlkYXRlOigwLG4uYXNzZXJ0Tm9kZVR5cGUpKCJFeHByZXNzaW9uIil9fX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9aShlKTtyZXR1cm4gMT09PXQubGVuZ3RoP3RbMF06by51bmlvblR5cGVBbm5vdGF0aW9uKHQpfWZ1bmN0aW9uIGkoZSl7Zm9yKHZhciB0PXt9LHI9e30sbj1bXSxzPVtdLGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHU9ZVthXTtpZih1JiYhKHMuaW5kZXhPZih1KT49MCkpe2lmKG8uaXNBbnlUeXBlQW5ub3RhdGlvbih1KSlyZXR1cm5bdV07aWYoby5pc0Zsb3dCYXNlQW5ub3RhdGlvbih1KSlyW3UudHlwZV09dTtlbHNlIGlmKG8uaXNVbmlvblR5cGVBbm5vdGF0aW9uKHUpKW4uaW5kZXhPZih1LnR5cGVzKTwwJiYoZT1lLmNvbmNhdCh1LnR5cGVzKSxuLnB1c2godS50eXBlcykpO2Vsc2UgaWYoby5pc0dlbmVyaWNUeXBlQW5ub3RhdGlvbih1KSl7dmFyIGw9dS5pZC5uYW1lO2lmKHRbbF0pe3ZhciBjPXRbbF07Yy50eXBlUGFyYW1ldGVycz91LnR5cGVQYXJhbWV0ZXJzJiYoYy50eXBlUGFyYW1ldGVycy5wYXJhbXM9aShjLnR5cGVQYXJhbWV0ZXJzLnBhcmFtcy5jb25jYXQodS50eXBlUGFyYW1ldGVycy5wYXJhbXMpKSk6Yz11LnR5cGVQYXJhbWV0ZXJzfWVsc2UgdFtsXT11fWVsc2Ugcy5wdXNoKHUpfX1mb3IodmFyIGYgaW4gcilzLnB1c2gocltmXSk7Zm9yKHZhciBwIGluIHQpcy5wdXNoKHRbcF0pO3JldHVybiBzfWZ1bmN0aW9uIHMoZSl7aWYoInN0cmluZyI9PT1lKXJldHVybiBvLnN0cmluZ1R5cGVBbm5vdGF0aW9uKCk7aWYoIm51bWJlciI9PT1lKXJldHVybiBvLm51bWJlclR5cGVBbm5vdGF0aW9uKCk7aWYoInVuZGVmaW5lZCI9PT1lKXJldHVybiBvLnZvaWRUeXBlQW5ub3RhdGlvbigpO2lmKCJib29sZWFuIj09PWUpcmV0dXJuIG8uYm9vbGVhblR5cGVBbm5vdGF0aW9uKCk7aWYoImZ1bmN0aW9uIj09PWUpcmV0dXJuIG8uZ2VuZXJpY1R5cGVBbm5vdGF0aW9uKG8uaWRlbnRpZmllcigiRnVuY3Rpb24iKSk7aWYoIm9iamVjdCI9PT1lKXJldHVybiBvLmdlbmVyaWNUeXBlQW5ub3RhdGlvbihvLmlkZW50aWZpZXIoIk9iamVjdCIpKTtpZigic3ltYm9sIj09PWUpcmV0dXJuIG8uZ2VuZXJpY1R5cGVBbm5vdGF0aW9uKG8uaWRlbnRpZmllcigiU3ltYm9sIikpO3Rocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlb2YgdmFsdWUiKX10Ll9fZXNNb2R1bGU9ITAsdC5jcmVhdGVVbmlvblR5cGVBbm5vdGF0aW9uPW4sdC5yZW1vdmVUeXBlRHVwbGljYXRlcz1pLHQuY3JlYXRlVHlwZUFubm90YXRpb25CYXNlZE9uVHlwZW9mPXM7dmFyIGE9cigxKSxvPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4hIWUmJi9eW2Etel18XC0vLnRlc3QoZSl9ZnVuY3Rpb24gaShlLHQpe2Zvcih2YXIgcj1lLnZhbHVlLnNwbGl0KC9cclxufFxufFxyLyksbj0wLGk9MDtpPHIubGVuZ3RoO2krKylyW2ldLm1hdGNoKC9bXiBcdF0vKSYmKG49aSk7Zm9yKHZhciBzPSIiLGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIHU9clthXSxsPTA9PT1hLGM9YT09PXIubGVuZ3RoLTEsZj1hPT09bixwPXUucmVwbGFjZSgvXHQvZywiICIpO2x8fChwPXAucmVwbGFjZSgvXlsgXSsvLCIiKSksY3x8KHA9cC5yZXBsYWNlKC9bIF0rJC8sIiIpKSxwJiYoZnx8KHArPSIgIikscys9cCl9cyYmdC5wdXNoKG8uc3RyaW5nTGl0ZXJhbChzKSl9ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9W10scj0wO3I8ZS5jaGlsZHJlbi5sZW5ndGg7cisrKXt2YXIgbj1lLmNoaWxkcmVuW3JdO28uaXNKU1hUZXh0KG4pP2kobix0KTooby5pc0pTWEV4cHJlc3Npb25Db250YWluZXIobikmJihuPW4uZXhwcmVzc2lvbiksby5pc0pTWEVtcHR5RXhwcmVzc2lvbihuKXx8dC5wdXNoKG4pKX1yZXR1cm4gdH10Ll9fZXNNb2R1bGU9ITAsdC5pc1JlYWN0Q29tcG9uZW50PXZvaWQgMCx0LmlzQ29tcGF0VGFnPW4sdC5idWlsZENoaWxkcmVuPXM7dmFyIGE9cigxKSxvPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH0oYSk7dC5pc1JlYWN0Q29tcG9uZW50PW8uYnVpbGRNYXRjaE1lbWJlckV4cHJlc3Npb24oIlJlYWN0LkNvbXBvbmVudCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGkoZSx0KXt2YXIgcj1FLmdldEJpbmRpbmdJZGVudGlmaWVycy5rZXlzW3QudHlwZV07aWYocilmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXSxzPXRbaV07aWYoQXJyYXkuaXNBcnJheShzKSl7aWYocy5pbmRleE9mKGUpPj0wKXJldHVybiEwfWVsc2UgaWYocz09PWUpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcyhlLHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2UiQmluZEV4cHJlc3Npb24iOnJldHVybiB0Lm9iamVjdD09PWV8fHQuY2FsbGVlPT09ZTtjYXNlIk1lbWJlckV4cHJlc3Npb24iOmNhc2UiSlNYTWVtYmVyRXhwcmVzc2lvbiI6cmV0dXJuISh0LnByb3BlcnR5IT09ZXx8IXQuY29tcHV0ZWQpfHx0Lm9iamVjdD09PWU7Y2FzZSJNZXRhUHJvcGVydHkiOnJldHVybiExO2Nhc2UiT2JqZWN0UHJvcGVydHkiOmlmKHQua2V5PT09ZSlyZXR1cm4gdC5jb21wdXRlZDtjYXNlIlZhcmlhYmxlRGVjbGFyYXRvciI6cmV0dXJuIHQuaWQhPT1lO2Nhc2UiQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24iOmNhc2UiRnVuY3Rpb25EZWNsYXJhdGlvbiI6Y2FzZSJGdW5jdGlvbkV4cHJlc3Npb24iOmZvcih2YXIgcj10LnBhcmFtcyxuPUFycmF5LmlzQXJyYXkociksaT0wLHI9bj9yOigwLGIuZGVmYXVsdCkocik7Oyl7dmFyIHM7aWYobil7aWYoaT49ci5sZW5ndGgpYnJlYWs7cz1yW2krK119ZWxzZXtpZihpPXIubmV4dCgpLGkuZG9uZSlicmVhaztzPWkudmFsdWV9aWYocz09PWUpcmV0dXJuITF9cmV0dXJuIHQuaWQhPT1lO2Nhc2UiRXhwb3J0U3BlY2lmaWVyIjpyZXR1cm4hdC5zb3VyY2UmJnQubG9jYWw9PT1lO2Nhc2UiRXhwb3J0TmFtZXNwYWNlU3BlY2lmaWVyIjpjYXNlIkV4cG9ydERlZmF1bHRTcGVjaWZpZXIiOnJldHVybiExO2Nhc2UiSlNYQXR0cmlidXRlIjpyZXR1cm4gdC5uYW1lIT09ZTtjYXNlIkNsYXNzUHJvcGVydHkiOnJldHVybiB0LmtleT09PWU/dC5jb21wdXRlZDp0LnZhbHVlPT09ZTtjYXNlIkltcG9ydERlZmF1bHRTcGVjaWZpZXIiOmNhc2UiSW1wb3J0TmFtZXNwYWNlU3BlY2lmaWVyIjpjYXNlIkltcG9ydFNwZWNpZmllciI6cmV0dXJuITE7Y2FzZSJDbGFzc0RlY2xhcmF0aW9uIjpjYXNlIkNsYXNzRXhwcmVzc2lvbiI6cmV0dXJuIHQuaWQhPT1lO2Nhc2UiQ2xhc3NNZXRob2QiOmNhc2UiT2JqZWN0TWV0aG9kIjpyZXR1cm4gdC5rZXk9PT1lJiZ0LmNvbXB1dGVkO2Nhc2UiTGFiZWxlZFN0YXRlbWVudCI6cmV0dXJuITE7Y2FzZSJDYXRjaENsYXVzZSI6cmV0dXJuIHQucGFyYW0hPT1lO2Nhc2UiUmVzdEVsZW1lbnQiOnJldHVybiExO2Nhc2UiQXNzaWdubWVudEV4cHJlc3Npb24iOmNhc2UiQXNzaWdubWVudFBhdHRlcm4iOnJldHVybiB0LnJpZ2h0PT09ZTtjYXNlIk9iamVjdFBhdHRlcm4iOmNhc2UiQXJyYXlQYXR0ZXJuIjpyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBhKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmIUEuZGVmYXVsdC5rZXl3b3JkLmlzUmVzZXJ2ZWRXb3JkRVM2KGUsITApJiYoImF3YWl0IiE9PWUmJkEuZGVmYXVsdC5rZXl3b3JkLmlzSWRlbnRpZmllck5hbWVFUzYoZSkpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuIF8uaXNWYXJpYWJsZURlY2xhcmF0aW9uKGUpJiYoInZhciIhPT1lLmtpbmR8fGVbRC5CTE9DS19TQ09QRURfU1lNQk9MXSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gXy5pc0Z1bmN0aW9uRGVjbGFyYXRpb24oZSl8fF8uaXNDbGFzc0RlY2xhcmF0aW9uKGUpfHxfLmlzTGV0KGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIF8uaXNWYXJpYWJsZURlY2xhcmF0aW9uKGUse2tpbmQ6InZhciJ9KSYmIWVbRC5CTE9DS19TQ09QRURfU1lNQk9MXX1mdW5jdGlvbiBjKGUpe3JldHVybiBfLmlzSW1wb3J0RGVmYXVsdFNwZWNpZmllcihlKXx8Xy5pc0lkZW50aWZpZXIoZS5pbXBvcnRlZHx8ZS5leHBvcnRlZCx7bmFtZToiZGVmYXVsdCJ9KX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuKCFfLmlzQmxvY2tTdGF0ZW1lbnQoZSl8fCFfLmlzRnVuY3Rpb24odCx7Ym9keTplfSkpJiZfLmlzU2NvcGFibGUoZSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4hIV8uaXNUeXBlKGUudHlwZSwiSW1tdXRhYmxlIil8fCEhXy5pc0lkZW50aWZpZXIoZSkmJiJ1bmRlZmluZWQiPT09ZS5uYW1lfWZ1bmN0aW9uIGQoZSx0KXtpZigib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLHYuZGVmYXVsdCkoZSkpfHwib2JqZWN0IiE9PSh2b2lkIDA9PT1lPyJ1bmRlZmluZWQiOigwLHYuZGVmYXVsdCkoZSkpfHxudWxsPT1lfHxudWxsPT10KXJldHVybiBlPT09dDtpZihlLnR5cGUhPT10LnR5cGUpcmV0dXJuITE7Zm9yKHZhciByPSgwLG0uZGVmYXVsdCkoXy5OT0RFX0ZJRUxEU1tlLnR5cGVdfHxlLnR5cGUpLG49cixpPUFycmF5LmlzQXJyYXkobikscz0wLG49aT9uOigwLGIuZGVmYXVsdCkobik7Oyl7dmFyIGE7aWYoaSl7aWYocz49bi5sZW5ndGgpYnJlYWs7YT1uW3MrK119ZWxzZXtpZihzPW4ubmV4dCgpLHMuZG9uZSlicmVhazthPXMudmFsdWV9dmFyIG89YTtpZigoMCx2LmRlZmF1bHQpKGVbb10pIT09KDAsdi5kZWZhdWx0KSh0W29dKSlyZXR1cm4hMTtpZihBcnJheS5pc0FycmF5KGVbb10pKXtpZighQXJyYXkuaXNBcnJheSh0W29dKSlyZXR1cm4hMTtpZihlW29dLmxlbmd0aCE9PXRbb10ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgdT0wO3U8ZVtvXS5sZW5ndGg7dSsrKWlmKCFkKGVbb11bdV0sdFtvXVt1XSkpcmV0dXJuITF9ZWxzZSBpZighZChlW29dLHRbb10pKXJldHVybiExfXJldHVybiEwfXQuX19lc01vZHVsZT0hMDt2YXIgaD1yKDE0KSxtPW4oaCkseT1yKDExKSx2PW4oeSksZz1yKDIpLGI9bihnKTt0LmlzQmluZGluZz1pLHQuaXNSZWZlcmVuY2VkPXMsdC5pc1ZhbGlkSWRlbnRpZmllcj1hLHQuaXNMZXQ9byx0LmlzQmxvY2tTY29wZWQ9dSx0LmlzVmFyPWwsdC5pc1NwZWNpZmllckRlZmF1bHQ9Yyx0LmlzU2NvcGU9Zix0LmlzSW1tdXRhYmxlPXAsdC5pc05vZGVzRXF1aXZhbGVudD1kO3ZhciBFPXIoMjI2KSx4PXIoOTcpLEE9bih4KSxTPXIoMSksXz1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KFMpLEQ9cigxMzUpfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxyKXtlIGluc3RhbmNlb2YgUmVnRXhwJiYoZT1uKGUscikpLHQgaW5zdGFuY2VvZiBSZWdFeHAmJih0PW4odCxyKSk7dmFyIHM9aShlLHQscik7cmV0dXJuIHMmJntzdGFydDpzWzBdLGVuZDpzWzFdLHByZTpyLnNsaWNlKDAsc1swXSksYm9keTpyLnNsaWNlKHNbMF0rZS5sZW5ndGgsc1sxXSkscG9zdDpyLnNsaWNlKHNbMV0rdC5sZW5ndGgpfX1mdW5jdGlvbiBuKGUsdCl7dmFyIHI9dC5tYXRjaChlKTtyZXR1cm4gcj9yWzBdOm51bGx9ZnVuY3Rpb24gaShlLHQscil7dmFyIG4saSxzLGEsbyx1PXIuaW5kZXhPZihlKSxsPXIuaW5kZXhPZih0LHUrMSksYz11O2lmKHU+PTAmJmw+MCl7Zm9yKG49W10scz1yLmxlbmd0aDtjPj0wJiYhbzspYz09dT8obi5wdXNoKGMpLHU9ci5pbmRleE9mKGUsYysxKSk6MT09bi5sZW5ndGg/bz1bbi5wb3AoKSxsXTooaT1uLnBvcCgpLGk8cyYmKHM9aSxhPWwpLGw9ci5pbmRleE9mKHQsYysxKSksYz11PGwmJnU+PTA/dTpsO24ubGVuZ3RoJiYobz1bcyxhXSl9cmV0dXJuIG99ZS5leHBvcnRzPXIsci5yYW5nZT1pfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQlND4wKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCIpO3JldHVybiI9Ij09PWVbdC0yXT8yOiI9Ij09PWVbdC0xXT8xOjB9ZnVuY3Rpb24gbihlKXtyZXR1cm4gMyplLmxlbmd0aC80LXIoZSl9ZnVuY3Rpb24gaShlKXt2YXIgdCxuLGkscyxhLG89ZS5sZW5ndGg7cz1yKGUpLGE9bmV3IGMoMypvLzQtcyksbj1zPjA/by00Om87dmFyIHU9MDtmb3IodD0wO3Q8bjt0Kz00KWk9bFtlLmNoYXJDb2RlQXQodCldPDwxOHxsW2UuY2hhckNvZGVBdCh0KzEpXTw8MTJ8bFtlLmNoYXJDb2RlQXQodCsyKV08PDZ8bFtlLmNoYXJDb2RlQXQodCszKV0sYVt1KytdPWk+PjE2JjI1NSxhW3UrK109aT4+OCYyNTUsYVt1KytdPTI1NSZpO3JldHVybiAyPT09cz8oaT1sW2UuY2hhckNvZGVBdCh0KV08PDJ8bFtlLmNoYXJDb2RlQXQodCsxKV0+PjQsYVt1KytdPTI1NSZpKToxPT09cyYmKGk9bFtlLmNoYXJDb2RlQXQodCldPDwxMHxsW2UuY2hhckNvZGVBdCh0KzEpXTw8NHxsW2UuY2hhckNvZGVBdCh0KzIpXT4+MixhW3UrK109aT4+OCYyNTUsYVt1KytdPTI1NSZpKSxhfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIHVbZT4+MTgmNjNdK3VbZT4+MTImNjNdK3VbZT4+NiY2M10rdVs2MyZlXX1mdW5jdGlvbiBhKGUsdCxyKXtmb3IodmFyIG4saT1bXSxhPXQ7YTxyO2ErPTMpbj0oZVthXTw8MTYpKyhlW2ErMV08PDgpK2VbYSsyXSxpLnB1c2gocyhuKSk7cmV0dXJuIGkuam9pbigiIil9ZnVuY3Rpb24gbyhlKXtmb3IodmFyIHQscj1lLmxlbmd0aCxuPXIlMyxpPSIiLHM9W10sbz0wLGw9ci1uO288bDtvKz0xNjM4MylzLnB1c2goYShlLG8sbysxNjM4Mz5sP2w6bysxNjM4MykpO3JldHVybiAxPT09bj8odD1lW3ItMV0saSs9dVt0Pj4yXSxpKz11W3Q8PDQmNjNdLGkrPSI9PSIpOjI9PT1uJiYodD0oZVtyLTJdPDw4KStlW3ItMV0saSs9dVt0Pj4xMF0saSs9dVt0Pj40JjYzXSxpKz11W3Q8PDImNjNdLGkrPSI9Iikscy5wdXNoKGkpLHMuam9pbigiIil9dC5ieXRlTGVuZ3RoPW4sdC50b0J5dGVBcnJheT1pLHQuZnJvbUJ5dGVBcnJheT1vO2Zvcih2YXIgdT1bXSxsPVtdLGM9InVuZGVmaW5lZCIhPXR5cGVvZiBVaW50OEFycmF5P1VpbnQ4QXJyYXk6QXJyYXksZj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIscD0wLGQ9Zi5sZW5ndGg7cDxkOysrcCl1W3BdPWZbcF0sbFtmLmNoYXJDb2RlQXQocCldPXA7bFsiLSIuY2hhckNvZGVBdCgwKV09NjIsbFsiXyIuY2hhckNvZGVBdCgwKV09NjN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCk9PWU/cGFyc2VJbnQoZSwxMCk6ZS5jaGFyQ29kZUF0KDApfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUuc3BsaXQoIlxcXFwiKS5qb2luKG0pLnNwbGl0KCJcXHsiKS5qb2luKHkpLnNwbGl0KCJcXH0iKS5qb2luKHYpLnNwbGl0KCJcXCwiKS5qb2luKGcpLnNwbGl0KCJcXC4iKS5qb2luKGIpfWZ1bmN0aW9uIHMoZSl7cmV0dXJuIGUuc3BsaXQobSkuam9pbigiXFwiKS5zcGxpdCh5KS5qb2luKCJ7Iikuc3BsaXQodikuam9pbigifSIpLnNwbGl0KGcpLmpvaW4oIiwiKS5zcGxpdChiKS5qb2luKCIuIil9ZnVuY3Rpb24gYShlKXtpZighZSlyZXR1cm5bIiJdO3ZhciB0PVtdLHI9aCgieyIsIn0iLGUpO2lmKCFyKXJldHVybiBlLnNwbGl0KCIsIik7dmFyIG49ci5wcmUsaT1yLmJvZHkscz1yLnBvc3Qsbz1uLnNwbGl0KCIsIik7b1tvLmxlbmd0aC0xXSs9InsiK2krIn0iO3ZhciB1PWEocyk7cmV0dXJuIHMubGVuZ3RoJiYob1tvLmxlbmd0aC0xXSs9dS5zaGlmdCgpLG8ucHVzaC5hcHBseShvLHUpKSx0LnB1c2guYXBwbHkodCxvKSx0fWZ1bmN0aW9uIG8oZSl7cmV0dXJuIGU/KCJ7fSI9PT1lLnN1YnN0cigwLDIpJiYoZT0iXFx7XFx9IitlLnN1YnN0cigyKSkscChpKGUpLCEwKS5tYXAocykpOltdfWZ1bmN0aW9uIHUoZSl7cmV0dXJuInsiK2UrIn0ifWZ1bmN0aW9uIGwoZSl7cmV0dXJuL14tPzBcZC8udGVzdChlKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGU8PXR9ZnVuY3Rpb24gZihlLHQpe3JldHVybiBlPj10fWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj1bXSxpPWgoInsiLCJ9IixlKTtpZighaXx8L1wkJC8udGVzdChpLnByZSkpcmV0dXJuW2VdO3ZhciBzPS9eLT9cZCtcLlwuLT9cZCsoPzpcLlwuLT9cZCspPyQvLnRlc3QoaS5ib2R5KSxvPS9eW2EtekEtWl1cLlwuW2EtekEtWl0oPzpcLlwuLT9cZCspPyQvLnRlc3QoaS5ib2R5KSxtPXN8fG8seT1pLmJvZHkuaW5kZXhPZigiLCIpPj0wO2lmKCFtJiYheSlyZXR1cm4gaS5wb3N0Lm1hdGNoKC8sLipcfS8pPyhlPWkucHJlKyJ7IitpLmJvZHkrditpLnBvc3QscChlKSk6W2VdO3ZhciBnO2lmKG0pZz1pLmJvZHkuc3BsaXQoL1wuXC4vKTtlbHNlIGlmKGc9YShpLmJvZHkpLDE9PT1nLmxlbmd0aCYmKGc9cChnWzBdLCExKS5tYXAodSksMT09PWcubGVuZ3RoKSl7dmFyIGI9aS5wb3N0Lmxlbmd0aD9wKGkucG9zdCwhMSk6WyIiXTtyZXR1cm4gYi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGkucHJlK2dbMF0rZX0pfXZhciBFLHg9aS5wcmUsYj1pLnBvc3QubGVuZ3RoP3AoaS5wb3N0LCExKTpbIiJdO2lmKG0pe3ZhciBBPW4oZ1swXSksUz1uKGdbMV0pLF89TWF0aC5tYXgoZ1swXS5sZW5ndGgsZ1sxXS5sZW5ndGgpLEQ9Mz09Zy5sZW5ndGg/TWF0aC5hYnMobihnWzJdKSk6MSxDPWM7UzxBJiYoRCo9LTEsQz1mKTt2YXIgdz1nLnNvbWUobCk7RT1bXTtmb3IodmFyIFA9QTtDKFAsUyk7UCs9RCl7dmFyIGs7aWYobykiXFwiPT09KGs9U3RyaW5nLmZyb21DaGFyQ29kZShQKSkmJihrPSIiKTtlbHNlIGlmKGs9U3RyaW5nKFApLHcpe3ZhciBGPV8tay5sZW5ndGg7aWYoRj4wKXt2YXIgVD1uZXcgQXJyYXkoRisxKS5qb2luKCIwIik7az1QPDA/Ii0iK1Qray5zbGljZSgxKTpUK2t9fUUucHVzaChrKX19ZWxzZSBFPWQoZyxmdW5jdGlvbihlKXtyZXR1cm4gcChlLCExKX0pO2Zvcih2YXIgTz0wO088RS5sZW5ndGg7TysrKWZvcih2YXIgQj0wO0I8Yi5sZW5ndGg7QisrKXt2YXIgUj14K0VbT10rYltCXTsoIXR8fG18fFIpJiZyLnB1c2goUil9cmV0dXJuIHJ9dmFyIGQ9cig0MDIpLGg9cigzOTYpO2UuZXhwb3J0cz1vO3ZhciBtPSJcMFNMQVNIIitNYXRoLnJhbmRvbSgpKyJcMCIseT0iXDBPUEVOIitNYXRoLnJhbmRvbSgpKyJcMCIsdj0iXDBDTE9TRSIrTWF0aC5yYW5kb20oKSsiXDAiLGc9IlwwQ09NTUEiK01hdGgucmFuZG9tKCkrIlwwIixiPSJcMFBFUklPRCIrTWF0aC5yYW5kb20oKSsiXDAifSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKGUpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKCl7cmV0dXJuIHMuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gaShlLHQpe2lmKG4oKTx0KXRocm93IG5ldyBSYW5nZUVycm9yKCJJbnZhbGlkIHR5cGVkIGFycmF5IGxlbmd0aCIpO3JldHVybiBzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9bmV3IFVpbnQ4QXJyYXkodCksZS5fX3Byb3RvX189cy5wcm90b3R5cGUpOihudWxsPT09ZSYmKGU9bmV3IHModCkpLGUubGVuZ3RoPXQpLGV9ZnVuY3Rpb24gcyhlLHQscil7aWYoIShzLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHMoZSx0LHIpO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXRocm93IG5ldyBFcnJvcigiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmciKTtyZXR1cm4gbCh0aGlzLGUpfXJldHVybiBhKHRoaXMsZSx0LHIpfWZ1bmN0aW9uIGEoZSx0LHIsbil7aWYoIm51bWJlciI9PXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKQo7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3AoZSx0LHIsbik6InN0cmluZyI9PXR5cGVvZiB0P2MoZSx0LHIpOmQoZSx0KX1mdW5jdGlvbiBvKGUpe2lmKCJudW1iZXIiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCcic2l6ZSIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignInNpemUiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gdShlLHQscixuKXtyZXR1cm4gbyh0KSx0PD0wP2koZSx0KTp2b2lkIDAhPT1yPyJzdHJpbmciPT10eXBlb2Ygbj9pKGUsdCkuZmlsbChyLG4pOmkoZSx0KS5maWxsKHIpOmkoZSx0KX1mdW5jdGlvbiBsKGUsdCl7aWYobyh0KSxlPWkoZSx0PDA/MDowfGgodCkpLCFzLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciByPTA7cjx0OysrcillW3JdPTA7cmV0dXJuIGV9ZnVuY3Rpb24gYyhlLHQscil7aWYoInN0cmluZyI9PXR5cGVvZiByJiYiIiE9PXJ8fChyPSJ1dGY4IiksIXMuaXNFbmNvZGluZyhyKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciZW5jb2RpbmciIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKTt2YXIgbj0wfHkodCxyKTtlPWkoZSxuKTt2YXIgYT1lLndyaXRlKHQscik7cmV0dXJuIGEhPT1uJiYoZT1lLnNsaWNlKDAsYSkpLGV9ZnVuY3Rpb24gZihlLHQpe3ZhciByPXQubGVuZ3RoPDA/MDowfGgodC5sZW5ndGgpO2U9aShlLHIpO2Zvcih2YXIgbj0wO248cjtuKz0xKWVbbl09MjU1JnRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQscixuKXtpZih0LmJ5dGVMZW5ndGgscjwwfHx0LmJ5dGVMZW5ndGg8cil0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ29mZnNldCcgaXMgb3V0IG9mIGJvdW5kcyIpO2lmKHQuYnl0ZUxlbmd0aDxyKyhufHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kcyIpO3JldHVybiB0PXZvaWQgMD09PXImJnZvaWQgMD09PW4/bmV3IFVpbnQ4QXJyYXkodCk6dm9pZCAwPT09bj9uZXcgVWludDhBcnJheSh0LHIpOm5ldyBVaW50OEFycmF5KHQscixuKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KGU9dCxlLl9fcHJvdG9fXz1zLnByb3RvdHlwZSk6ZT1mKGUsdCksZX1mdW5jdGlvbiBkKGUsdCl7aWYocy5pc0J1ZmZlcih0KSl7dmFyIHI9MHxoKHQubGVuZ3RoKTtyZXR1cm4gZT1pKGUsciksMD09PWUubGVuZ3RoP2U6KHQuY29weShlLDAsMCxyKSxlKX1pZih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ0LmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwibGVuZ3RoImluIHQpcmV0dXJuIm51bWJlciIhPXR5cGVvZiB0Lmxlbmd0aHx8WCh0Lmxlbmd0aCk/aShlLDApOmYoZSx0KTtpZigiQnVmZmVyIj09PXQudHlwZSYmUSh0LmRhdGEpKXJldHVybiBmKGUsdC5kYXRhKX10aHJvdyBuZXcgVHlwZUVycm9yKCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuIil9ZnVuY3Rpb24gaChlKXtpZihlPj1uKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gc2l6ZTogMHgiK24oKS50b1N0cmluZygxNikrIiBieXRlcyIpO3JldHVybiAwfGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4rZSE9ZSYmKGU9MCkscy5hbGxvYygrZSl9ZnVuY3Rpb24geShlLHQpe2lmKHMuaXNCdWZmZXIoZSkpcmV0dXJuIGUubGVuZ3RoO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBBcnJheUJ1ZmZlci5pc1ZpZXcmJihBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIGUuYnl0ZUxlbmd0aDsic3RyaW5nIiE9dHlwZW9mIGUmJihlPSIiK2UpO3ZhciByPWUubGVuZ3RoO2lmKDA9PT1yKXJldHVybiAwO2Zvcih2YXIgbj0hMTs7KXN3aXRjaCh0KXtjYXNlImFzY2lpIjpjYXNlImxhdGluMSI6Y2FzZSJiaW5hcnkiOnJldHVybiByO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6Y2FzZSB2b2lkIDA6cmV0dXJuIFkoZSkubGVuZ3RoO2Nhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4gMipyO2Nhc2UiaGV4IjpyZXR1cm4gcj4+PjE7Y2FzZSJiYXNlNjQiOnJldHVybiBIKGUpLmxlbmd0aDtkZWZhdWx0OmlmKG4pcmV0dXJuIFkoZSkubGVuZ3RoO3Q9KCIiK3QpLnRvTG93ZXJDYXNlKCksbj0hMH19ZnVuY3Rpb24gdihlLHQscil7dmFyIG49ITE7aWYoKHZvaWQgMD09PXR8fHQ8MCkmJih0PTApLHQ+dGhpcy5sZW5ndGgpcmV0dXJuIiI7aWYoKHZvaWQgMD09PXJ8fHI+dGhpcy5sZW5ndGgpJiYocj10aGlzLmxlbmd0aCkscjw9MClyZXR1cm4iIjtpZihyPj4+PTAsdD4+Pj0wLHI8PXQpcmV0dXJuIiI7Zm9yKGV8fChlPSJ1dGY4Iik7Oylzd2l0Y2goZSl7Y2FzZSJoZXgiOnJldHVybiBPKHRoaXMsdCxyKTtjYXNlInV0ZjgiOmNhc2UidXRmLTgiOnJldHVybiBQKHRoaXMsdCxyKTtjYXNlImFzY2lpIjpyZXR1cm4gRih0aGlzLHQscik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gVCh0aGlzLHQscik7Y2FzZSJiYXNlNjQiOnJldHVybiB3KHRoaXMsdCxyKTtjYXNlInVjczIiOmNhc2UidWNzLTIiOmNhc2UidXRmMTZsZSI6Y2FzZSJ1dGYtMTZsZSI6cmV0dXJuIEIodGhpcyx0LHIpO2RlZmF1bHQ6aWYobil0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK2UpO2U9KGUrIiIpLnRvTG93ZXJDYXNlKCksbj0hMH19ZnVuY3Rpb24gZyhlLHQscil7dmFyIG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufWZ1bmN0aW9uIGIoZSx0LHIsbixpKXtpZigwPT09ZS5sZW5ndGgpcmV0dXJuLTE7aWYoInN0cmluZyI9PXR5cGVvZiByPyhuPXIscj0wKTpyPjIxNDc0ODM2NDc/cj0yMTQ3NDgzNjQ3OnI8LTIxNDc0ODM2NDgmJihyPS0yMTQ3NDgzNjQ4KSxyPStyLGlzTmFOKHIpJiYocj1pPzA6ZS5sZW5ndGgtMSkscjwwJiYocj1lLmxlbmd0aCtyKSxyPj1lLmxlbmd0aCl7aWYoaSlyZXR1cm4tMTtyPWUubGVuZ3RoLTF9ZWxzZSBpZihyPDApe2lmKCFpKXJldHVybi0xO3I9MH1pZigic3RyaW5nIj09dHlwZW9mIHQmJih0PXMuZnJvbSh0LG4pKSxzLmlzQnVmZmVyKHQpKXJldHVybiAwPT09dC5sZW5ndGg/LTE6RShlLHQscixuLGkpO2lmKCJudW1iZXIiPT10eXBlb2YgdClyZXR1cm4gdCY9MjU1LHMuVFlQRURfQVJSQVlfU1VQUE9SVCYmImZ1bmN0aW9uIj09dHlwZW9mIFVpbnQ4QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/aT9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoZSx0LHIpOlVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoZSx0LHIpOkUoZSxbdF0scixuLGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlciIpfWZ1bmN0aW9uIEUoZSx0LHIsbixpKXtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIDE9PT1hP2VbdF06ZS5yZWFkVUludDE2QkUodCphKX12YXIgYT0xLG89ZS5sZW5ndGgsdT10Lmxlbmd0aDtpZih2b2lkIDAhPT1uJiYoInVjczIiPT09KG49U3RyaW5nKG4pLnRvTG93ZXJDYXNlKCkpfHwidWNzLTIiPT09bnx8InV0ZjE2bGUiPT09bnx8InV0Zi0xNmxlIj09PW4pKXtpZihlLmxlbmd0aDwyfHx0Lmxlbmd0aDwyKXJldHVybi0xO2E9MixvLz0yLHUvPTIsci89Mn12YXIgbDtpZihpKXt2YXIgYz0tMTtmb3IobD1yO2w8bztsKyspaWYocyhlLGwpPT09cyh0LC0xPT09Yz8wOmwtYykpe2lmKC0xPT09YyYmKGM9bCksbC1jKzE9PT11KXJldHVybiBjKmF9ZWxzZS0xIT09YyYmKGwtPWwtYyksYz0tMX1lbHNlIGZvcihyK3U+byYmKHI9by11KSxsPXI7bD49MDtsLS0pe2Zvcih2YXIgZj0hMCxwPTA7cDx1O3ArKylpZihzKGUsbCtwKSE9PXModCxwKSl7Zj0hMTticmVha31pZihmKXJldHVybiBsfXJldHVybi0xfWZ1bmN0aW9uIHgoZSx0LHIsbil7cj1OdW1iZXIocil8fDA7dmFyIGk9ZS5sZW5ndGgtcjtuPyhuPU51bWJlcihuKSk+aSYmKG49aSk6bj1pO3ZhciBzPXQubGVuZ3RoO2lmKHMlMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGhleCBzdHJpbmciKTtuPnMvMiYmKG49cy8yKTtmb3IodmFyIGE9MDthPG47KythKXt2YXIgbz1wYXJzZUludCh0LnN1YnN0cigyKmEsMiksMTYpO2lmKGlzTmFOKG8pKXJldHVybiBhO2VbcithXT1vfXJldHVybiBhfWZ1bmN0aW9uIEEoZSx0LHIsbil7cmV0dXJuIEooWSh0LGUubGVuZ3RoLXIpLGUscixuKX1mdW5jdGlvbiBTKGUsdCxyLG4pe3JldHVybiBKKHEodCksZSxyLG4pfWZ1bmN0aW9uIF8oZSx0LHIsbil7cmV0dXJuIFMoZSx0LHIsbil9ZnVuY3Rpb24gRChlLHQscixuKXtyZXR1cm4gSihIKHQpLGUscixuKX1mdW5jdGlvbiBDKGUsdCxyLG4pe3JldHVybiBKKEsodCxlLmxlbmd0aC1yKSxlLHIsbil9ZnVuY3Rpb24gdyhlLHQscil7cmV0dXJuIDA9PT10JiZyPT09ZS5sZW5ndGg/ei5mcm9tQnl0ZUFycmF5KGUpOnouZnJvbUJ5dGVBcnJheShlLnNsaWNlKHQscikpfWZ1bmN0aW9uIFAoZSx0LHIpe3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBuPVtdLGk9dDtpPHI7KXt2YXIgcz1lW2ldLGE9bnVsbCxvPXM+MjM5PzQ6cz4yMjM/MzpzPjE5MT8yOjE7aWYoaStvPD1yKXt2YXIgdSxsLGMsZjtzd2l0Y2gobyl7Y2FzZSAxOnM8MTI4JiYoYT1zKTticmVhaztjYXNlIDI6dT1lW2krMV0sMTI4PT0oMTkyJnUpJiYoZj0oMzEmcyk8PDZ8NjMmdSk+MTI3JiYoYT1mKTticmVhaztjYXNlIDM6dT1lW2krMV0sbD1lW2krMl0sMTI4PT0oMTkyJnUpJiYxMjg9PSgxOTImbCkmJihmPSgxNSZzKTw8MTJ8KDYzJnUpPDw2fDYzJmwpPjIwNDcmJihmPDU1Mjk2fHxmPjU3MzQzKSYmKGE9Zik7YnJlYWs7Y2FzZSA0OnU9ZVtpKzFdLGw9ZVtpKzJdLGM9ZVtpKzNdLDEyOD09KDE5MiZ1KSYmMTI4PT0oMTkyJmwpJiYxMjg9PSgxOTImYykmJihmPSgxNSZzKTw8MTh8KDYzJnUpPDwxMnwoNjMmbCk8PDZ8NjMmYyk+NjU1MzUmJmY8MTExNDExMiYmKGE9Zil9fW51bGw9PT1hPyhhPTY1NTMzLG89MSk6YT42NTUzNSYmKGEtPTY1NTM2LG4ucHVzaChhPj4+MTAmMTAyM3w1NTI5NiksYT01NjMyMHwxMDIzJmEpLG4ucHVzaChhKSxpKz1vfXJldHVybiBrKG4pfWZ1bmN0aW9uIGsoZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9WilyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsZSk7Zm9yKHZhciByPSIiLG49MDtuPHQ7KXIrPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGUuc2xpY2UobixuKz1aKSk7cmV0dXJuIHJ9ZnVuY3Rpb24gRihlLHQscil7dmFyIG49IiI7cj1NYXRoLm1pbihlLmxlbmd0aCxyKTtmb3IodmFyIGk9dDtpPHI7KytpKW4rPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmVbaV0pO3JldHVybiBufWZ1bmN0aW9uIFQoZSx0LHIpe3ZhciBuPSIiO3I9TWF0aC5taW4oZS5sZW5ndGgscik7Zm9yKHZhciBpPXQ7aTxyOysraSluKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pO3JldHVybiBufWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUubGVuZ3RoOyghdHx8dDwwKSYmKHQ9MCksKCFyfHxyPDB8fHI+bikmJihyPW4pO2Zvcih2YXIgaT0iIixzPXQ7czxyOysrcylpKz1XKGVbc10pO3JldHVybiBpfWZ1bmN0aW9uIEIoZSx0LHIpe2Zvcih2YXIgbj1lLnNsaWNlKHQsciksaT0iIixzPTA7czxuLmxlbmd0aDtzKz0yKWkrPVN0cmluZy5mcm9tQ2hhckNvZGUobltzXSsyNTYqbltzKzFdKTtyZXR1cm4gaX1mdW5jdGlvbiBSKGUsdCxyKXtpZihlJTEhPTB8fGU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigib2Zmc2V0IGlzIG5vdCB1aW50Iik7aWYoZSt0PnIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGgiKX1mdW5jdGlvbiBJKGUsdCxyLG4saSxhKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCciYnVmZmVyIiBhcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIGluc3RhbmNlJyk7aWYodD5pfHx0PGEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJyJ2YWx1ZSIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKHIrbj5lLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gTShlLHQscixuKXt0PDAmJih0PTY1NTM1K3QrMSk7Zm9yKHZhciBpPTAscz1NYXRoLm1pbihlLmxlbmd0aC1yLDIpO2k8czsrK2kpZVtyK2ldPSh0JjI1NTw8OCoobj9pOjEtaSkpPj4+OCoobj9pOjEtaSl9ZnVuY3Rpb24gTihlLHQscixuKXt0PDAmJih0PTQyOTQ5NjcyOTUrdCsxKTtmb3IodmFyIGk9MCxzPU1hdGgubWluKGUubGVuZ3RoLXIsNCk7aTxzOysraSllW3IraV09dD4+PjgqKG4/aTozLWkpJjI1NX1mdW5jdGlvbiBMKGUsdCxyLG4saSxzKXtpZihyK24+ZS5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZSIpO2lmKHI8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5kZXggb3V0IG9mIHJhbmdlIil9ZnVuY3Rpb24gaihlLHQscixuLGkpe3JldHVybiBpfHxMKGUsdCxyLDQsMy40MDI4MjM0NjYzODUyODg2ZTM4LC0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgpLCQud3JpdGUoZSx0LHIsbiwyMyw0KSxyKzR9ZnVuY3Rpb24gVShlLHQscixuLGkpe3JldHVybiBpfHxMKGUsdCxyLDgsMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCwtMS43OTc2OTMxMzQ4NjIzMTU3ZTMwOCksJC53cml0ZShlLHQscixuLDUyLDgpLHIrOH1mdW5jdGlvbiBWKGUpe2lmKGU9RyhlKS5yZXBsYWNlKGVlLCIiKSxlLmxlbmd0aDwyKXJldHVybiIiO2Zvcig7ZS5sZW5ndGglNCE9MDspZSs9Ij0iO3JldHVybiBlfWZ1bmN0aW9uIEcoZSl7cmV0dXJuIGUudHJpbT9lLnRyaW0oKTplLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX1mdW5jdGlvbiBXKGUpe3JldHVybiBlPDE2PyIwIitlLnRvU3RyaW5nKDE2KTplLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiBZKGUsdCl7dD10fHwxLzA7Zm9yKHZhciByLG49ZS5sZW5ndGgsaT1udWxsLHM9W10sYT0wO2E8bjsrK2Epe2lmKChyPWUuY2hhckNvZGVBdChhKSk+NTUyOTUmJnI8NTczNDQpe2lmKCFpKXtpZihyPjU2MzE5KXsodC09Myk+LTEmJnMucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoYSsxPT09bil7KHQtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWk9cjtjb250aW51ZX1pZihyPDU2MzIwKXsodC09Myk+LTEmJnMucHVzaCgyMzksMTkxLDE4OSksaT1yO2NvbnRpbnVlfXI9NjU1MzYrKGktNTUyOTY8PDEwfHItNTYzMjApfWVsc2UgaSYmKHQtPTMpPi0xJiZzLnB1c2goMjM5LDE5MSwxODkpO2lmKGk9bnVsbCxyPDEyOCl7aWYoKHQtPTEpPDApYnJlYWs7cy5wdXNoKHIpfWVsc2UgaWYocjwyMDQ4KXtpZigodC09Mik8MClicmVhaztzLnB1c2gocj4+NnwxOTIsNjMmcnwxMjgpfWVsc2UgaWYocjw2NTUzNil7aWYoKHQtPTMpPDApYnJlYWs7cy5wdXNoKHI+PjEyfDIyNCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9ZWxzZXtpZighKHI8MTExNDExMikpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGUgcG9pbnQiKTtpZigodC09NCk8MClicmVhaztzLnB1c2gocj4+MTh8MjQwLHI+PjEyJjYzfDEyOCxyPj42JjYzfDEyOCw2MyZyfDEyOCl9fXJldHVybiBzfWZ1bmN0aW9uIHEoZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoOysrcil0LnB1c2goMjU1JmUuY2hhckNvZGVBdChyKSk7cmV0dXJuIHR9ZnVuY3Rpb24gSyhlLHQpe2Zvcih2YXIgcixuLGkscz1bXSxhPTA7YTxlLmxlbmd0aCYmISgodC09Mik8MCk7KythKXI9ZS5jaGFyQ29kZUF0KGEpLG49cj4+OCxpPXIlMjU2LHMucHVzaChpKSxzLnB1c2gobik7cmV0dXJuIHN9ZnVuY3Rpb24gSChlKXtyZXR1cm4gei50b0J5dGVBcnJheShWKGUpKX1mdW5jdGlvbiBKKGUsdCxyLG4pe2Zvcih2YXIgaT0wO2k8biYmIShpK3I+PXQubGVuZ3RofHxpPj1lLmxlbmd0aCk7KytpKXRbaStyXT1lW2ldO3JldHVybiBpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIGUhPT1lfXZhciB6PXIoMzk3KSwkPXIoNDY1KSxRPXIoNDAwKTt0LkJ1ZmZlcj1zLHQuU2xvd0J1ZmZlcj1tLHQuSU5TUEVDVF9NQVhfQllURVM9NTAscy5UWVBFRF9BUlJBWV9TVVBQT1JUPXZvaWQgMCE9PWUuVFlQRURfQVJSQVlfU1VQUE9SVD9lLlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFVpbnQ4QXJyYXkoMSk7cmV0dXJuIGUuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1lLmZvbygpJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJhcnJheSYmMD09PWUuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSx0LmtNYXhMZW5ndGg9bigpLHMucG9vbFNpemU9ODE5MixzLl9hdWdtZW50PWZ1bmN0aW9uKGUpe3JldHVybiBlLl9fcHJvdG9fXz1zLnByb3RvdHlwZSxlfSxzLmZyb209ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBhKG51bGwsZSx0LHIpfSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihzLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUscy5fX3Byb3RvX189VWludDhBcnJheSwidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJnNbU3ltYm9sLnNwZWNpZXNdPT09cyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHMsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLHMuYWxsb2M9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB1KG51bGwsZSx0LHIpfSxzLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKGUpe3JldHVybiBsKG51bGwsZSl9LHMuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKGUpe3JldHVybiBsKG51bGwsZSl9LHMuaXNCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIShudWxsPT1lfHwhZS5faXNCdWZmZXIpfSxzLmNvbXBhcmU9ZnVuY3Rpb24oZSx0KXtpZighcy5pc0J1ZmZlcihlKXx8IXMuaXNCdWZmZXIodCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQXJndW1lbnRzIG11c3QgYmUgQnVmZmVycyIpO2lmKGU9PT10KXJldHVybiAwO2Zvcih2YXIgcj1lLmxlbmd0aCxuPXQubGVuZ3RoLGk9MCxhPU1hdGgubWluKHIsbik7aTxhOysraSlpZihlW2ldIT09dFtpXSl7cj1lW2ldLG49dFtpXTticmVha31yZXR1cm4gcjxuPy0xOm48cj8xOjB9LHMuaXNFbmNvZGluZz1mdW5jdGlvbihlKXtzd2l0Y2goU3RyaW5nKGUpLnRvTG93ZXJDYXNlKCkpe2Nhc2UiaGV4IjpjYXNlInV0ZjgiOmNhc2UidXRmLTgiOmNhc2UiYXNjaWkiOmNhc2UibGF0aW4xIjpjYXNlImJpbmFyeSI6Y2FzZSJiYXNlNjQiOmNhc2UidWNzMiI6Y2FzZSJ1Y3MtMiI6Y2FzZSJ1dGYxNmxlIjpjYXNlInV0Zi0xNmxlIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0scy5jb25jYXQ9ZnVuY3Rpb24oZSx0KXtpZighUShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWUubGVuZ3RoKXJldHVybiBzLmFsbG9jKDApO3ZhciByO2lmKHZvaWQgMD09PXQpZm9yKHQ9MCxyPTA7cjxlLmxlbmd0aDsrK3IpdCs9ZVtyXS5sZW5ndGg7dmFyIG49cy5hbGxvY1Vuc2FmZSh0KSxpPTA7Zm9yKHI9MDtyPGUubGVuZ3RoOysrcil7dmFyIGE9ZVtyXTtpZighcy5pc0J1ZmZlcihhKSl0aHJvdyBuZXcgVHlwZUVycm9yKCcibGlzdCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YS5jb3B5KG4saSksaSs9YS5sZW5ndGh9cmV0dXJuIG59LHMuYnl0ZUxlbmd0aD15LHMucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxzLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTIpZyh0aGlzLHQsdCsxKTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5sZW5ndGg7aWYoZSU0IT0wKXRocm93IG5ldyBSYW5nZUVycm9yKCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cyIpO2Zvcih2YXIgdD0wO3Q8ZTt0Kz00KWcodGhpcyx0LHQrMyksZyh0aGlzLHQrMSx0KzIpO3JldHVybiB0aGlzfSxzLnByb3RvdHlwZS5zd2FwNjQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aDtpZihlJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzIik7Zm9yKHZhciB0PTA7dDxlO3QrPTgpZyh0aGlzLHQsdCs3KSxnKHRoaXMsdCsxLHQrNiksZyh0aGlzLHQrMix0KzUpLGcodGhpcyx0KzMsdCs0KTtyZXR1cm4gdGhpc30scy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgZT0wfHRoaXMubGVuZ3RoO3JldHVybiAwPT09ZT8iIjowPT09YXJndW1lbnRzLmxlbmd0aD9QKHRoaXMsMCxlKTp2LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scy5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe2lmKCFzLmlzQnVmZmVyKGUpKXRocm93IG5ldyBUeXBlRXJyb3IoIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIiKTtyZXR1cm4gdGhpcz09PWV8fDA9PT1zLmNvbXBhcmUodGhpcyxlKX0scy5wcm90b3R5cGUuaW5zcGVjdD1mdW5jdGlvbigpe3ZhciBlPSIiLHI9dC5JTlNQRUNUX01BWF9CWVRFUztyZXR1cm4gdGhpcy5sZW5ndGg+MCYmKGU9dGhpcy50b1N0cmluZygiaGV4IiwwLHIpLm1hdGNoKC8uezJ9L2cpLmpvaW4oIiAiKSx0aGlzLmxlbmd0aD5yJiYoZSs9IiAuLi4gIikpLCI8QnVmZmVyICIrZSsiPiJ9LHMucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24oZSx0LHIsbixpKXtpZighcy5pc0J1ZmZlcihlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyIik7aWYodm9pZCAwPT09dCYmKHQ9MCksdm9pZCAwPT09ciYmKHI9ZT9lLmxlbmd0aDowKSx2b2lkIDA9PT1uJiYobj0wKSx2b2lkIDA9PT1pJiYoaT10aGlzLmxlbmd0aCksdDwwfHxyPmUubGVuZ3RofHxuPDB8fGk+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIm91dCBvZiByYW5nZSBpbmRleCIpO2lmKG4+PWkmJnQ+PXIpcmV0dXJuIDA7aWYobj49aSlyZXR1cm4tMTtpZih0Pj1yKXJldHVybiAxO2lmKHQ+Pj49MCxyPj4+PTAsbj4+Pj0wLGk+Pj49MCx0aGlzPT09ZSlyZXR1cm4gMDtmb3IodmFyIGE9aS1uLG89ci10LHU9TWF0aC5taW4oYSxvKSxsPXRoaXMuc2xpY2UobixpKSxjPWUuc2xpY2UodCxyKSxmPTA7Zjx1OysrZilpZihsW2ZdIT09Y1tmXSl7YT1sW2ZdLG89Y1tmXTticmVha31yZXR1cm4gYTxvPy0xOm88YT8xOjB9LHMucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4tMSE9PXRoaXMuaW5kZXhPZihlLHQscil9LHMucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBiKHRoaXMsZSx0LHIsITApfSxzLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGIodGhpcyxlLHQsciwhMSl9LHMucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHZvaWQgMD09PXQpbj0idXRmOCIscj10aGlzLmxlbmd0aCx0PTA7ZWxzZSBpZih2b2lkIDA9PT1yJiYic3RyaW5nIj09dHlwZW9mIHQpbj10LHI9dGhpcy5sZW5ndGgsdD0wO2Vsc2V7aWYoIWlzRmluaXRlKHQpKXRocm93IG5ldyBFcnJvcigiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQiKTt0fD0wLGlzRmluaXRlKHIpPyhyfD0wLHZvaWQgMD09PW4mJihuPSJ1dGY4IikpOihuPXIscj12b2lkIDApfXZhciBpPXRoaXMubGVuZ3RoLXQ7aWYoKHZvaWQgMD09PXJ8fHI+aSkmJihyPWkpLGUubGVuZ3RoPjAmJihyPDB8fHQ8MCl8fHQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzIik7bnx8KG49InV0ZjgiKTtmb3IodmFyIHM9ITE7Oylzd2l0Y2gobil7Y2FzZSJoZXgiOnJldHVybiB4KHRoaXMsZSx0LHIpO2Nhc2UidXRmOCI6Y2FzZSJ1dGYtOCI6cmV0dXJuIEEodGhpcyxlLHQscik7Y2FzZSJhc2NpaSI6cmV0dXJuIFModGhpcyxlLHQscik7Y2FzZSJsYXRpbjEiOmNhc2UiYmluYXJ5IjpyZXR1cm4gXyh0aGlzLGUsdCxyKTtjYXNlImJhc2U2NCI6cmV0dXJuIEQodGhpcyxlLHQscik7Y2FzZSJ1Y3MyIjpjYXNlInVjcy0yIjpjYXNlInV0ZjE2bGUiOmNhc2UidXRmLTE2bGUiOnJldHVybiBDKHRoaXMsZSx0LHIpO2RlZmF1bHQ6aWYocyl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmtub3duIGVuY29kaW5nOiAiK24pO249KCIiK24pLnRvTG93ZXJDYXNlKCkscz0hMH19LHMucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybnt0eXBlOiJCdWZmZXIiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIFo9NDA5NjtzLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMubGVuZ3RoO2U9fn5lLHQ9dm9pZCAwPT09dD9yOn5+dCxlPDA/KGUrPXIpPDAmJihlPTApOmU+ciYmKGU9ciksdDwwPyh0Kz1yKTwwJiYodD0wKTp0PnImJih0PXIpLHQ8ZSYmKHQ9ZSk7dmFyIG47aWYocy5UWVBFRF9BUlJBWV9TVVBQT1JUKW49dGhpcy5zdWJhcnJheShlLHQpLG4uX19wcm90b19fPXMucHJvdG90eXBlO2Vsc2V7dmFyIGk9dC1lO249bmV3IHMoaSx2b2lkIDApO2Zvcih2YXIgYT0wO2E8aTsrK2EpblthXT10aGlzW2ErZV19cmV0dXJuIG59LHMucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24oZSx0LHIpe2V8PTAsdHw9MCxyfHxSKGUsdCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBuPXRoaXNbZV0saT0xLHM9MDsrK3M8dCYmKGkqPTI1Nik7KW4rPXRoaXNbZStzXSppO3JldHVybiBufSxzLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8UihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2UrLS10XSxpPTE7dD4wJiYoaSo9MjU2KTspbis9dGhpc1tlKy0tdF0qaTtyZXR1cm4gbn0scy5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSwxLHRoaXMubGVuZ3RoKSx0aGlzW2VdfSxzLnByb3RvdHlwZS5yZWFkVUludDE2TEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV18dGhpc1tlKzFdPDw4fSxzLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDIsdGhpcy5sZW5ndGgpLHRoaXNbZV08PDh8dGhpc1tlKzFdfSxzLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDQsdGhpcy5sZW5ndGgpLCh0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2KSsxNjc3NzIxNip0aGlzW2UrM119LHMucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1tlXSsodGhpc1tlKzFdPDwxNnx0aGlzW2UrMl08PDh8dGhpc1tlKzNdKX0scy5wcm90b3R5cGUucmVhZEludExFPWZ1bmN0aW9uKGUsdCxyKXtlfD0wLHR8PTAscnx8UihlLHQsdGhpcy5sZW5ndGgpO2Zvcih2YXIgbj10aGlzW2VdLGk9MSxzPTA7KytzPHQmJihpKj0yNTYpOyluKz10aGlzW2Urc10qaTtyZXR1cm4gaSo9MTI4LG4+PWkmJihuLT1NYXRoLnBvdygyLDgqdCkpLG59LHMucHJvdG90eXBlLnJlYWRJbnRCRT1mdW5jdGlvbihlLHQscil7ZXw9MCx0fD0wLHJ8fFIoZSx0LHRoaXMubGVuZ3RoKTtmb3IodmFyIG49dCxpPTEscz10aGlzW2UrLS1uXTtuPjAmJihpKj0yNTYpOylzKz10aGlzW2UrLS1uXSppO3JldHVybiBpKj0xMjgscz49aSYmKHMtPU1hdGgucG93KDIsOCp0KSksc30scy5wcm90b3R5cGUucmVhZEludDg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW2VdPy0xKigyNTUtdGhpc1tlXSsxKTp0aGlzW2VdfSxzLnByb3RvdHlwZS5yZWFkSW50MTZMRT1mdW5jdGlvbihlLHQpe3R8fFIoZSwyLHRoaXMubGVuZ3RoKTt2YXIgcj10aGlzW2VdfHRoaXNbZSsxXTw8ODtyZXR1cm4gMzI3Njgmcj80Mjk0OTAxNzYwfHI6cn0scy5wcm90b3R5cGUucmVhZEludDE2QkU9ZnVuY3Rpb24oZSx0KXt0fHxSKGUsMix0aGlzLmxlbmd0aCk7dmFyIHI9dGhpc1tlKzFdfHRoaXNbZV08PDg7cmV0dXJuIDMyNzY4JnI/NDI5NDkwMTc2MHxyOnJ9LHMucHJvdG90eXBlLnJlYWRJbnQzMkxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdfHRoaXNbZSsxXTw8OHx0aGlzW2UrMl08PDE2fHRoaXNbZSszXTw8MjR9LHMucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSw0LHRoaXMubGVuZ3RoKSx0aGlzW2VdPDwyNHx0aGlzW2UrMV08PDE2fHRoaXNbZSsyXTw8OHx0aGlzW2UrM119LHMucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSw0LHRoaXMubGVuZ3RoKSwkLnJlYWQodGhpcyxlLCEwLDIzLDQpfSxzLnByb3RvdHlwZS5yZWFkRmxvYXRCRT1mdW5jdGlvbihlLHQpe3JldHVybiB0fHxSKGUsNCx0aGlzLmxlbmd0aCksJC5yZWFkKHRoaXMsZSwhMSwyMyw0KX0scy5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR8fFIoZSw4LHRoaXMubGVuZ3RoKSwkLnJlYWQodGhpcyxlLCEwLDUyLDgpfSxzLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8UihlLDgsdGhpcy5sZW5ndGgpLCQucmVhZCh0aGlzLGUsITEsNTIsOCl9LHMucHJvdG90eXBlLndyaXRlVUludExFPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGU9K2UsdHw9MCxyfD0wLCFuKXtJKHRoaXMsZSx0LHIsTWF0aC5wb3coMiw4KnIpLTEsMCl9dmFyIGk9MSxzPTA7Zm9yKHRoaXNbdF09MjU1JmU7KytzPHImJihpKj0yNTYpOyl0aGlzW3Qrc109ZS9pJjI1NTtyZXR1cm4gdCtyfSxzLnByb3RvdHlwZS53cml0ZVVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHR8PTAscnw9MCwhbil7SSh0aGlzLGUsdCxyLE1hdGgucG93KDIsOCpyKS0xLDApfXZhciBpPXItMSxzPTE7Zm9yKHRoaXNbdCtpXT0yNTUmZTstLWk+PTAmJihzKj0yNTYpOyl0aGlzW3QraV09ZS9zJjI1NTtyZXR1cm4gdCtyfSxzLnByb3RvdHlwZS53cml0ZVVJbnQ4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEkodGhpcyxlLHQsMSwyNTUsMCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSx0aGlzW3RdPTI1NSZlLHQrMX0scy5wcm90b3R5cGUud3JpdGVVSW50MTZMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxJKHRoaXMsZSx0LDIsNjU1MzUsMCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6TSh0aGlzLGUsdCwhMCksdCsyfSxzLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEkodGhpcyxlLHQsMiw2NTUzNSwwKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjgsdGhpc1t0KzFdPTI1NSZlKTpNKHRoaXMsZSx0LCExKSx0KzJ9LHMucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8SSh0aGlzLGUsdCw0LDQyOTQ5NjcyOTUsMCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3QrM109ZT4+PjI0LHRoaXNbdCsyXT1lPj4+MTYsdGhpc1t0KzFdPWU+Pj44LHRoaXNbdF09MjU1JmUpOk4odGhpcyxlLHQsITApLHQrNH0scy5wcm90b3R5cGUud3JpdGVVSW50MzJCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxJKHRoaXMsZSx0LDQsNDI5NDk2NzI5NSwwKSxzLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbdF09ZT4+PjI0LHRoaXNbdCsxXT1lPj4+MTYsdGhpc1t0KzJdPWU+Pj44LHRoaXNbdCszXT0yNTUmZSk6Tih0aGlzLGUsdCwhMSksdCs0fSxzLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGU9K2UsdHw9MCwhbil7dmFyIGk9TWF0aC5wb3coMiw4KnItMSk7SSh0aGlzLGUsdCxyLGktMSwtaSl9dmFyIHM9MCxhPTEsbz0wO2Zvcih0aGlzW3RdPTI1NSZlOysrczxyJiYoYSo9MjU2KTspZTwwJiYwPT09byYmMCE9PXRoaXNbdCtzLTFdJiYobz0xKSx0aGlzW3Qrc109KGUvYT4+MCktbyYyNTU7cmV0dXJuIHQrcn0scy5wcm90b3R5cGUud3JpdGVJbnRCRT1mdW5jdGlvbihlLHQscixuKXtpZihlPStlLHR8PTAsIW4pe3ZhciBpPU1hdGgucG93KDIsOCpyLTEpO0kodGhpcyxlLHQscixpLTEsLWkpfXZhciBzPXItMSxhPTEsbz0wO2Zvcih0aGlzW3Qrc109MjU1JmU7LS1zPj0wJiYoYSo9MjU2KTspZTwwJiYwPT09byYmMCE9PXRoaXNbdCtzKzFdJiYobz0xKSx0aGlzW3Qrc109KGUvYT4+MCktbyYyNTU7cmV0dXJuIHQrcn0scy5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT0rZSx0fD0wLHJ8fEkodGhpcyxlLHQsMSwxMjcsLTEyOCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUfHwoZT1NYXRoLmZsb29yKGUpKSxlPDAmJihlPTI1NStlKzEpLHRoaXNbdF09MjU1JmUsdCsxfSxzLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8SSh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPTI1NSZlLHRoaXNbdCsxXT1lPj4+OCk6TSh0aGlzLGUsdCwhMCksdCsyfSxzLnByb3RvdHlwZS53cml0ZUludDE2QkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8SSh0aGlzLGUsdCwyLDMyNzY3LC0zMjc2OCkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj44LHRoaXNbdCsxXT0yNTUmZSk6TSh0aGlzLGUsdCwhMSksdCsyfSxzLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPStlLHR8PTAscnx8SSh0aGlzLGUsdCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHMuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1t0XT0yNTUmZSx0aGlzW3QrMV09ZT4+PjgsdGhpc1t0KzJdPWU+Pj4xNix0aGlzW3QrM109ZT4+PjI0KTpOKHRoaXMsZSx0LCEwKSx0KzR9LHMucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU9K2UsdHw9MCxyfHxJKHRoaXMsZSx0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksZTwwJiYoZT00Mjk0OTY3Mjk1K2UrMSkscy5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW3RdPWU+Pj4yNCx0aGlzW3QrMV09ZT4+PjE2LHRoaXNbdCsyXT1lPj4+OCx0aGlzW3QrM109MjU1JmUpOk4odGhpcyxlLHQsITEpLHQrNH0scy5wcm90b3R5cGUud3JpdGVGbG9hdExFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaih0aGlzLGUsdCwhMCxyKX0scy5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaih0aGlzLGUsdCwhMSxyKX0scy5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbihlLHQscil7cmV0dXJuIFUodGhpcyxlLHQsITAscil9LHMucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBVKHRoaXMsZSx0LCExLHIpfSxzLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKHJ8fChyPTApLG58fDA9PT1ufHwobj10aGlzLmxlbmd0aCksdD49ZS5sZW5ndGgmJih0PWUubGVuZ3RoKSx0fHwodD0wKSxuPjAmJm48ciYmKG49ciksbj09PXIpcmV0dXJuIDA7aWYoMD09PWUubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodDwwKXRocm93IG5ldyBSYW5nZUVycm9yKCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzIik7aWYocjwwfHxyPj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcyIpO2lmKG48MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigic291cmNlRW5kIG91dCBvZiBib3VuZHMiKTtuPnRoaXMubGVuZ3RoJiYobj10aGlzLmxlbmd0aCksZS5sZW5ndGgtdDxuLXImJihuPWUubGVuZ3RoLXQrcik7dmFyIGksYT1uLXI7aWYodGhpcz09PWUmJnI8dCYmdDxuKWZvcihpPWEtMTtpPj0wOy0taSllW2krdF09dGhpc1tpK3JdO2Vsc2UgaWYoYTwxZTN8fCFzLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKGk9MDtpPGE7KytpKWVbaSt0XT10aGlzW2krcl07ZWxzZSBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChlLHRoaXMuc3ViYXJyYXkocixyK2EpLHQpO3JldHVybiBhfSxzLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCJzdHJpbmciPT10eXBlb2YgZSl7aWYoInN0cmluZyI9PXR5cGVvZiB0PyhuPXQsdD0wLHI9dGhpcy5sZW5ndGgpOiJzdHJpbmciPT10eXBlb2YgciYmKG49cixyPXRoaXMubGVuZ3RoKSwxPT09ZS5sZW5ndGgpe3ZhciBpPWUuY2hhckNvZGVBdCgwKTtpPDI1NiYmKGU9aSl9aWYodm9pZCAwIT09biYmInN0cmluZyIhPXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmciKTtpZigic3RyaW5nIj09dHlwZW9mIG4mJiFzLmlzRW5jb2RpbmcobikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVW5rbm93biBlbmNvZGluZzogIituKX1lbHNlIm51bWJlciI9PXR5cGVvZiBlJiYoZSY9MjU1KTtpZih0PDB8fHRoaXMubGVuZ3RoPHR8fHRoaXMubGVuZ3RoPHIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIk91dCBvZiByYW5nZSBpbmRleCIpO2lmKHI8PXQpcmV0dXJuIHRoaXM7dD4+Pj0wLHI9dm9pZCAwPT09cj90aGlzLmxlbmd0aDpyPj4+MCxlfHwoZT0wKTt2YXIgYTtpZigibnVtYmVyIj09dHlwZW9mIGUpZm9yKGE9dDthPHI7KythKXRoaXNbYV09ZTtlbHNle3ZhciBvPXMuaXNCdWZmZXIoZSk/ZTpZKG5ldyBzKGUsbikudG9TdHJpbmcoKSksdT1vLmxlbmd0aDtmb3IoYT0wO2E8ci10OysrYSl0aGlzW2ErdF09b1thJXVdfXJldHVybiB0aGlzfTt2YXIgZWU9L1teK1wvMC05QS1aYS16LV9dL2d9KS5jYWxsKHQsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKSl9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1yLmNhbGwoZSl9fSxmdW5jdGlvbihlLHQscil7KGZ1bmN0aW9uKHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3RoaXMuZW5hYmxlZD1lJiZ2b2lkIDAhPT1lLmVuYWJsZWQ/ZS5lbmFibGVkOmN9ZnVuY3Rpb24gaShlKXt2YXIgdD1mdW5jdGlvbiBlKCl7cmV0dXJuIHMuYXBwbHkoZSxhcmd1bWVudHMpfTtyZXR1cm4gdC5fc3R5bGVzPWUsdC5lbmFibGVkPXRoaXMuZW5hYmxlZCx0Ll9fcHJvdG9fXz1oLHR9ZnVuY3Rpb24gcygpe3ZhciBlPWFyZ3VtZW50cyx0PWUubGVuZ3RoLHI9MCE9PXQmJlN0cmluZyhhcmd1bWVudHNbMF0pO2lmKHQ+MSlmb3IodmFyIG49MTtuPHQ7bisrKXIrPSIgIitlW25dO2lmKCF0aGlzLmVuYWJsZWR8fCFyKXJldHVybiByO3ZhciBpPXRoaXMuX3N0eWxlcyxzPWkubGVuZ3RoLGE9by5kaW0ub3Blbjtmb3IoIXB8fC0xPT09aS5pbmRleE9mKCJncmF5IikmJi0xPT09aS5pbmRleE9mKCJncmV5Iil8fChvLmRpbS5vcGVuPSIiKTtzLS07KXt2YXIgdT1vW2lbc11dO3I9dS5vcGVuK3IucmVwbGFjZSh1LmNsb3NlUmUsdS5vcGVuKSt1LmNsb3NlfXJldHVybiBvLmRpbS5vcGVuPWEscn12YXIgYT1yKDQ2MCksbz1yKDI4OSksdT1yKDYyMiksbD1yKDQ2NCksYz1yKDYyMyksZj1PYmplY3QuZGVmaW5lUHJvcGVydGllcyxwPSJ3aW4zMiI9PT10LnBsYXRmb3JtJiYhL154dGVybS9pLnRlc3QodC5lbnYuVEVSTSk7cCYmKG8uYmx1ZS5vcGVuPSIbWzk0bSIpO3ZhciBkPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIE9iamVjdC5rZXlzKG8pLmZvckVhY2goZnVuY3Rpb24odCl7b1t0XS5jbG9zZVJlPW5ldyBSZWdFeHAoYShvW3RdLmNsb3NlKSwiZyIpLGVbdF09e2dldDpmdW5jdGlvbigpe3JldHVybiBpLmNhbGwodGhpcyx0aGlzLl9zdHlsZXMuY29uY2F0KHQpKX19fSksZX0oKSxoPWYoZnVuY3Rpb24oKXt9LGQpO2Yobi5wcm90b3R5cGUsZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gT2JqZWN0LmtleXMoZCkuZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPXtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5jYWxsKHRoaXMsW3RdKX19fSksZX0oKSksZS5leHBvcnRzPW5ldyBuLGUuZXhwb3J0cy5zdHlsZXM9byxlLmV4cG9ydHMuaGFzQ29sb3I9bCxlLmV4cG9ydHMuc3RyaXBDb2xvcj11LGUuZXhwb3J0cy5zdXBwb3J0c0NvbG9yPWN9KS5jYWxsKHQscig4KSl9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxpPTA7aTxlLmxlbmd0aDtpKyspe3ZhciBzPXQoZVtpXSxpKTtyKHMpP24ucHVzaC5hcHBseShuLHMpOm4ucHVzaChzKX1yZXR1cm4gbn07dmFyIHI9QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX19LGZ1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIG5ldyBlKHQsImJhc2U2NCIpLnRvU3RyaW5nKCl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gZS5zcGxpdCgiLCIpLnBvcCgpfWZ1bmN0aW9uIHMoZSxyKXt2YXIgbj10Lm1hcEZpbGVDb21tZW50UmVnZXguZXhlYyhlKSxpPW5bMV18fG5bMl0scz11LnJlc29sdmUocixpKTt0cnl7cmV0dXJuIG8ucmVhZEZpbGVTeW5jKHMsInV0ZjgiKX1jYXRjaChlKXt0aHJvdyBuZXcgRXJyb3IoIkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyeWluZyB0byByZWFkIHRoZSBtYXAgZmlsZSBhdCAiK3MrIlxuIitlKX19ZnVuY3Rpb24gYShlLHQpe3Q9dHx8e30sdC5pc0ZpbGVDb21tZW50JiYoZT1zKGUsdC5jb21tZW50RmlsZURpcikpLHQuaGFzQ29tbWVudCYmKGU9aShlKSksdC5pc0VuY29kZWQmJihlPW4oZSkpLCh0LmlzSlNPTnx8dC5pc0VuY29kZWQpJiYoZT1KU09OLnBhcnNlKGUpKSx0aGlzLnNvdXJjZW1hcD1lfXZhciBvPXIoMTE1KSx1PXIoMTkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJjb21tZW50UmVnZXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4vXlxzKlwvKD86XC98XCopW0AjXVxzK3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTooPzphcHBsaWNhdGlvbnx0ZXh0KVwvanNvbjsoPzpjaGFyc2V0Wzo9XVxTKz87KT9iYXNlNjQsKD86LiopJC9nbX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCwibWFwRmlsZUNvbW1lbnRSZWdleCIse2dldDpmdW5jdGlvbigpe3JldHVybi8oPzpcL1wvW0AjXVsgXHRdK3NvdXJjZU1hcHBpbmdVUkw9KFteXHMnIl0rPylbIFx0XSokKXwoPzpcL1wqW0AjXVsgXHRdK3NvdXJjZU1hcHBpbmdVUkw9KFteXCpdKz8pWyBcdF0qKD86XCpcLyl7MX1bIFx0XSokKS9nbX19KSxhLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuc291cmNlbWFwLG51bGwsZSl9LGEucHJvdG90eXBlLnRvQmFzZTY0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50b0pTT04oKTtyZXR1cm4gbmV3IGUodCkudG9TdHJpbmcoImJhc2U2NCIpfSxhLnByb3RvdHlwZS50b0NvbW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0Jhc2U2NCgpLHI9InNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCIrdDtyZXR1cm4gZSYmZS5tdWx0aWxpbmU/Ii8qIyAiK3IrIiAqLyI6Ii8vIyAiK3J9LGEucHJvdG90eXBlLnRvT2JqZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIEpTT04ucGFyc2UodGhpcy50b0pTT04oKSl9LGEucHJvdG90eXBlLmFkZFByb3BlcnR5PWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5zb3VyY2VtYXAuaGFzT3duUHJvcGVydHkoZSkpdGhyb3cgbmV3IEVycm9yKCJwcm9wZXJ0eSAlcyBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgc291cmNlbWFwLCB1c2Ugc2V0IHByb3BlcnR5IGluc3RlYWQiKTtyZXR1cm4gdGhpcy5zZXRQcm9wZXJ0eShlLHQpfSxhLnByb3RvdHlwZS5zZXRQcm9wZXJ0eT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNvdXJjZW1hcFtlXT10LHRoaXN9LGEucHJvdG90eXBlLmdldFByb3BlcnR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNvdXJjZW1hcFtlXX0sdC5mcm9tT2JqZWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgYShlKX0sdC5mcm9tSlNPTj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoZSx7aXNKU09OOiEwfSl9LHQuZnJvbUJhc2U2ND1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGEoZSx7aXNFbmNvZGVkOiEwfSl9LHQuZnJvbUNvbW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS5yZXBsYWNlKC9eXC9cKi9nLCIvLyIpLnJlcGxhY2UoL1wqXC8kL2csIiIpLG5ldyBhKGUse2lzRW5jb2RlZDohMCxoYXNDb21tZW50OiEwfSl9LHQuZnJvbU1hcEZpbGVDb21tZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBhKGUse2NvbW1lbnRGaWxlRGlyOnQsaXNGaWxlQ29tbWVudDohMCxpc0pTT046ITB9KX0sdC5mcm9tU291cmNlPWZ1bmN0aW9uKGUpe3ZhciByPWUubWF0Y2godC5jb21tZW50UmVnZXgpO3JldHVybiByP3QuZnJvbUNvbW1lbnQoci5wb3AoKSk6bnVsbH0sdC5mcm9tTWFwRmlsZVNvdXJjZT1mdW5jdGlvbihlLHIpe3ZhciBuPWUubWF0Y2godC5tYXBGaWxlQ29tbWVudFJlZ2V4KTtyZXR1cm4gbj90LmZyb21NYXBGaWxlQ29tbWVudChuLnBvcCgpLHIpOm51bGx9LHQucmVtb3ZlQ29tbWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSh0LmNvbW1lbnRSZWdleCwiIil9LHQucmVtb3ZlTWFwRmlsZUNvbW1lbnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UodC5tYXBGaWxlQ29tbWVudFJlZ2V4LCIiKX0sdC5nZW5lcmF0ZU1hcEZpbGVDb21tZW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI9InNvdXJjZU1hcHBpbmdVUkw9IitlO3JldHVybiB0JiZ0Lm11bHRpbGluZT8iLyojICIrcisiICovIjoiLy8jICIrcn19KS5jYWxsKHQscigzOTkpLkJ1ZmZlcil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cig1OSkscigxNTcpLGUuZXhwb3J0cz1yKDQzOSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1KSxpPW4uSlNPTnx8KG4uSlNPTj17c3RyaW5naWZ5OkpTT04uc3RyaW5naWZ5fSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpLnN0cmluZ2lmeS5hcHBseShpLGFyZ3VtZW50cyl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoOTYpLHIoMTU3KSxyKDU5KSxyKDQ0MSkscig0NTEpLHIoNDUwKSxyKDQ0OSksZS5leHBvcnRzPXIoNSkuTWFwfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoNDQyKSxlLmV4cG9ydHM9OTAwNzE5OTI1NDc0MDk5MX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDQ0MyksZS5leHBvcnRzPXIoNSkuT2JqZWN0LmFzc2lnbn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDQ0NCk7dmFyIG49cig1KS5PYmplY3Q7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTU4KSxlLmV4cG9ydHM9cig1KS5PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoNDQ1KSxlLmV4cG9ydHM9cig1KS5PYmplY3Qua2V5c30sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDQ0NiksZS5leHBvcnRzPXIoNSkuT2JqZWN0LnNldFByb3RvdHlwZU9mfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTU4KSxlLmV4cG9ydHM9cig1KS5TeW1ib2wuZm9yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTU4KSxyKDk2KSxyKDQ1Mikscig0NTMpLGUuZXhwb3J0cz1yKDUpLlN5bWJvbH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDE1Nykscig1OSksZS5leHBvcnRzPXIoMTU2KS5mKCJpdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoOTYpLHIoNTkpLHIoNDQ3KSxyKDQ1NSkscig0NTQpLGUuZXhwb3J0cz1yKDUpLldlYWtNYXB9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7cig5Nikscig1OSkscig0NDgpLHIoNDU3KSxyKDQ1NiksZS5leHBvcnRzPXIoNSkuV2Vha1NldH0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDU1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gbihlLCExLHIucHVzaCxyLHQpLHJ9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzcpLGk9cigxNTMpLHM9cig0MzgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLGEpe3ZhciBvLHU9bih0KSxsPWkodS5sZW5ndGgpLGM9cyhhLGwpO2lmKGUmJnIhPXIpe2Zvcig7bD5jOylpZigobz11W2MrK10pIT1vKXJldHVybiEwfWVsc2UgZm9yKDtsPmM7YysrKWlmKChlfHxjIGluIHUpJiZ1W2NdPT09cilyZXR1cm4gZXx8Y3x8MDtyZXR1cm4hZSYmLTF9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE2KSxpPXIoMjMyKSxzPXIoMTMpKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBpKGUpJiYodD1lLmNvbnN0cnVjdG9yLCJmdW5jdGlvbiIhPXR5cGVvZiB0fHx0IT09QXJyYXkmJiFpKHQucHJvdG90eXBlKXx8KHQ9dm9pZCAwKSxuKHQpJiZudWxsPT09KHQ9dFtzXSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/QXJyYXk6dH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0MjEpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcobihlKSkodCl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjMpLmYsaT1yKDkwKSxzPXIoMTQ2KSxhPXIoNDMpLG89cigxMzYpLHU9cig1NSksbD1yKDE0MyksYz1yKDIzMyksZj1yKDQzNikscD1yKDIyKSxkPXIoNTcpLmZhc3RLZXksaD1yKDU4KSxtPXA/Il9zIjoic2l6ZSIseT1mdW5jdGlvbihlLHQpe3ZhciByLG49ZCh0KTtpZigiRiIhPT1uKXJldHVybiBlLl9pW25dO2ZvcihyPWUuX2Y7cjtyPXIubilpZihyLms9PXQpcmV0dXJuIHJ9O2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LHIsbCl7dmFyIGM9ZShmdW5jdGlvbihlLG4pe28oZSxjLHQsIl9pIiksZS5fdD10LGUuX2k9aShudWxsKSxlLl9mPXZvaWQgMCxlLl9sPXZvaWQgMCxlW21dPTAsdm9pZCAwIT1uJiZ1KG4scixlW2xdLGUpfSk7cmV0dXJuIHMoYy5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWgodGhpcyx0KSxyPWUuX2ksbj1lLl9mO247bj1uLm4pbi5yPSEwLG4ucCYmKG4ucD1uLnAubj12b2lkIDApLGRlbGV0ZSByW24uaV07ZS5fZj1lLl9sPXZvaWQgMCxlW21dPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgcj1oKHRoaXMsdCksbj15KHIsZSk7aWYobil7dmFyIGk9bi5uLHM9bi5wO2RlbGV0ZSByLl9pW24uaV0sbi5yPSEwLHMmJihzLm49aSksaSYmKGkucD1zKSxyLl9mPT1uJiYoci5fZj1pKSxyLl9sPT1uJiYoci5fbD1zKSxyW21dLS19cmV0dXJuISFufSxmb3JFYWNoOmZ1bmN0aW9uKGUpe2godGhpcyx0KTtmb3IodmFyIHIsbj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cj1yP3Iubjp0aGlzLl9mOylmb3IobihyLnYsci5rLHRoaXMpO3ImJnIucjspcj1yLnB9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkoaCh0aGlzLHQpLGUpfX0pLHAmJm4oYy5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaCh0aGlzLHQpW21dfX0pLGN9LGRlZjpmdW5jdGlvbihlLHQscil7dmFyIG4saSxzPXkoZSx0KTtyZXR1cm4gcz9zLnY9cjooZS5fbD1zPXtpOmk9ZCh0LCEwKSxrOnQsdjpyLHA6bj1lLl9sLG46dm9pZCAwLHI6ITF9LGUuX2Z8fChlLl9mPXMpLG4mJihuLm49cyksZVttXSsrLCJGIiE9PWkmJihlLl9pW2ldPXMpKSxlfSxnZXRFbnRyeTp5LHNldFN0cm9uZzpmdW5jdGlvbihlLHQscil7bChlLHQsZnVuY3Rpb24oZSxyKXt0aGlzLl90PWgoZSx0KSx0aGlzLl9rPXIsdGhpcy5fbD12b2lkIDB9LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1lLl9rLHI9ZS5fbDtyJiZyLnI7KXI9ci5wO3JldHVybiBlLl90JiYoZS5fbD1yPXI/ci5uOmUuX3QuX2YpPyJrZXlzIj09dD9jKDAsci5rKToidmFsdWVzIj09dD9jKDAsci52KTpjKDAsW3IuayxyLnZdKTooZS5fdD12b2lkIDAsYygxKSl9LHI/ImVudHJpZXMiOiJ2YWx1ZXMiLCFyLCEwKSxmKHQpfX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMjgpLGk9cig0MTkpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihuKHRoaXMpIT1lKXRocm93IFR5cGVFcnJvcihlKyIjdG9KU09OIGlzbid0IGdlbmVyaWMiKTtyZXR1cm4gaSh0aGlzKX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDQpLGk9cigxNDUpLHM9cig5MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1pLmY7aWYocilmb3IodmFyIGEsbz1yKGUpLHU9cy5mLGw9MDtvLmxlbmd0aD5sOyl1LmNhbGwoZSxhPW9bbCsrXSkmJnQucHVzaChhKTtyZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNSkuZG9jdW1lbnQ7ZS5leHBvcnRzPW4mJm4uZG9jdW1lbnRFbGVtZW50fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTYpLGk9cigxMykoIml0ZXJhdG9yIikscz1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fHNbaV09PT1lKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaCh0KXt2YXIgcz1lLnJldHVybjt0aHJvdyB2b2lkIDAhPT1zJiZuKHMuY2FsbChlKSksdH19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOTApLGk9cig5Mikscz1yKDkzKSxhPXt9O3IoMjkpKGEscigxMykoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihhLHtuZXh0OmkoMSxyKX0pLHMoZSx0KyIgSXRlcmF0b3IiKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0NCksaT1yKDM3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIscz1pKGUpLGE9bihzKSxvPWEubGVuZ3RoLHU9MDtvPnU7KWlmKHNbcj1hW3UrK11dPT09dClyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigyMyksaT1yKDIxKSxzPXIoNDQpO2UuZXhwb3J0cz1yKDIyKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2koZSk7Zm9yKHZhciByLGE9cyh0KSxvPWEubGVuZ3RoLHU9MDtvPnU7KW4uZihlLHI9YVt1KytdLHRbcl0pO3JldHVybiBlfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0saT1yKDM3KSxzPXIoMjM2KS5mLGE9e30udG9TdHJpbmcsbz0ib2JqZWN0Ij09KCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiOm4od2luZG93KSkmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSx1PWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gcyhlKX1jYXRjaChlKXtyZXR1cm4gby5zbGljZSgpfX07ZS5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIG8mJiJbb2JqZWN0IFdpbmRvd10iPT1hLmNhbGwoZSk/dShlKTpzKGkoZSkpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI4KSxpPXIoOTQpLHM9cigxNTApKCJJRV9QUk9UTyIpLGE9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9T2JqZWN0LmdldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLG4oZSxzKT9lW3NdOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P2E6bnVsbH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMiksaT1yKDUpLHM9cigyNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KGkuT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxhPXt9O2FbZV09dChyKSxuKG4uUytuLkYqcyhmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixhKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxNiksaT1yKDIxKSxzPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07ZS5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKGUsdCxuKXt0cnl7bj1yKDQzKShGdW5jdGlvbi5jYWxsLHIoMjM1KS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKGUsW10pLHQ9IShlIGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKGUpe3Q9ITB9cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIHMoZSxyKSx0P2UuX19wcm90b19fPXI6bihlLHIpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazpzfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE1KSxpPXIoNSkscz1yKDIzKSxhPXIoMjIpLG89cigxMykoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIGlbZV0/aVtlXTpuW2VdO2EmJnQmJiF0W29dJiZzLmYodCxvLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTUyKSxpPXIoMTQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIHMsYSxvPVN0cmluZyhpKHQpKSx1PW4ociksbD1vLmxlbmd0aDtyZXR1cm4gdTwwfHx1Pj1sP2U/IiI6dm9pZCAwOihzPW8uY2hhckNvZGVBdCh1KSxzPDU1Mjk2fHxzPjU2MzE5fHx1KzE9PT1sfHwoYT1vLmNoYXJDb2RlQXQodSsxKSk8NTYzMjB8fGE+NTczNDM/ZT9vLmNoYXJBdCh1KTpzOmU/by5zbGljZSh1LHUrMik6YS01NjMyMCsocy01NTI5Njw8MTApKzY1NTM2KX19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTUyKSxpPU1hdGgubWF4LHM9TWF0aC5taW47ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSxlPDA/aShlK3QsMCk6cyhlLHQpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDIxKSxpPXIoMjM4KTtlLmV4cG9ydHM9cig1KS5nZXRJdGVyYXRvcj1mdW5jdGlvbihlKXt2YXIgdD1pKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO3JldHVybiBuKHQuY2FsbChlKSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDE4KSxpPXIoMjMzKSxzPXIoNTYpLGE9cigzNyk7ZS5leHBvcnRzPXIoMTQzKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1hKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKToia2V5cyI9PXQ/aSgwLHIpOiJ2YWx1ZXMiPT10P2koMCxlW3JdKTppKDAsW3IsZVtyXV0pfSwidmFsdWVzIikscy5Bcmd1bWVudHM9cy5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDIzKSxpPXIoNTgpO2UuZXhwb3J0cz1yKDEzOSkoIk1hcCIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodGhpcyxhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSx7Z2V0OmZ1bmN0aW9uKGUpe3ZhciB0PW4uZ2V0RW50cnkoaSh0aGlzLCJNYXAiKSxlKTtyZXR1cm4gdCYmdC52fSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5kZWYoaSh0aGlzLCJNYXAiKSwwPT09ZT8wOmUsdCl9fSxuLCEwKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEyKTtuKG4uUywiTnVtYmVyIix7TUFYX1NBRkVfSU5URUdFUjo5MDA3MTk5MjU0NzQwOTkxfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMik7bihuLlMrbi5GLCJPYmplY3QiLHthc3NpZ246cigyMzQpfSl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMik7bihuLlMsIk9iamVjdCIse2NyZWF0ZTpyKDkwKX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoOTQpLGk9cig0NCk7cig0MzQpKCJrZXlzIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gaShuKGUpKX19KX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDEyKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6cig0MzUpLnNldH0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGk9cigxMzcpKDApLHM9cigxNDcpLGE9cig1Nyksbz1yKDIzNCksdT1yKDIyOSksbD1yKDE2KSxjPXIoMjcpLGY9cig1OCkscD1hLmdldFdlYWssZD1PYmplY3QuaXNFeHRlbnNpYmxlLGg9dS51ZnN0b3JlLG09e30seT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwKX19LHY9e2dldDpmdW5jdGlvbihlKXtpZihsKGUpKXt2YXIgdD1wKGUpO3JldHVybiEwPT09dD9oKGYodGhpcywiV2Vha01hcCIpKS5nZXQoZSk6dD90W3RoaXMuX2ldOnZvaWQgMH19LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB1LmRlZihmKHRoaXMsIldlYWtNYXAiKSxlLHQpfX0sZz1lLmV4cG9ydHM9cigxMzkpKCJXZWFrTWFwIix5LHYsdSwhMCwhMCk7YyhmdW5jdGlvbigpe3JldHVybiA3IT0obmV3IGcpLnNldCgoT2JqZWN0LmZyZWV6ZXx8T2JqZWN0KShtKSw3KS5nZXQobSl9KSYmKG49dS5nZXRDb25zdHJ1Y3Rvcih5LCJXZWFrTWFwIiksbyhuLnByb3RvdHlwZSx2KSxhLk5FRUQ9ITAsaShbImRlbGV0ZSIsImhhcyIsImdldCIsInNldCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWcucHJvdG90eXBlLHI9dFtlXTtzKHQsZSxmdW5jdGlvbih0LGkpe2lmKGwodCkmJiFkKHQpKXt0aGlzLl9mfHwodGhpcy5fZj1uZXcgbik7dmFyIHM9dGhpcy5fZltlXSh0LGkpO3JldHVybiJzZXQiPT1lP3RoaXM6c31yZXR1cm4gci5jYWxsKHRoaXMsdCxpKX0pfSkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiCjt2YXIgbj1yKDIyOSksaT1yKDU4KTtyKDEzOSkoIldlYWtTZXQiLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHRoaXMsYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApfX0se2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gbi5kZWYoaSh0aGlzLCJXZWFrU2V0IiksZSwhMCl9fSxuLCExLCEwKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyKDE0OCkoIk1hcCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTQ5KSgiTWFwIil9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxMik7bihuLlArbi5SLCJNYXAiLHt0b0pTT046cig0MjQpKCJNYXAiKX0pfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTU1KSgiYXN5bmNJdGVyYXRvciIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTU1KSgib2JzZXJ2YWJsZSIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTQ4KSgiV2Vha01hcCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTQ5KSgiV2Vha01hcCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTQ4KSgiV2Vha1NldCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IoMTQ5KSgiV2Vha1NldCIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHIsbj0wO2ZvcihyIGluIGUpbj0objw8NSktbitlLmNoYXJDb2RlQXQociksbnw9MDtyZXR1cm4gdC5jb2xvcnNbTWF0aC5hYnMobikldC5jb2xvcnMubGVuZ3RoXX1mdW5jdGlvbiBpKGUpe2Z1bmN0aW9uIHIoKXtpZihyLmVuYWJsZWQpe3ZhciBlPXIsbj0rbmV3IERhdGUsaT1uLShsfHxuKTtlLmRpZmY9aSxlLnByZXY9bCxlLmN1cnI9bixsPW47Zm9yKHZhciBzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxhPTA7YTxzLmxlbmd0aDthKyspc1thXT1hcmd1bWVudHNbYV07c1swXT10LmNvZXJjZShzWzBdKSwic3RyaW5nIiE9dHlwZW9mIHNbMF0mJnMudW5zaGlmdCgiJU8iKTt2YXIgbz0wO3NbMF09c1swXS5yZXBsYWNlKC8lKFthLXpBLVolXSkvZyxmdW5jdGlvbihyLG4pe2lmKCIlJSI9PT1yKXJldHVybiByO28rKzt2YXIgaT10LmZvcm1hdHRlcnNbbl07aWYoImZ1bmN0aW9uIj09dHlwZW9mIGkpe3ZhciBhPXNbb107cj1pLmNhbGwoZSxhKSxzLnNwbGljZShvLDEpLG8tLX1yZXR1cm4gcn0pLHQuZm9ybWF0QXJncy5jYWxsKGUscyk7KHIubG9nfHx0LmxvZ3x8Y29uc29sZS5sb2cuYmluZChjb25zb2xlKSkuYXBwbHkoZSxzKX19cmV0dXJuIHIubmFtZXNwYWNlPWUsci5lbmFibGVkPXQuZW5hYmxlZChlKSxyLnVzZUNvbG9ycz10LnVzZUNvbG9ycygpLHIuY29sb3I9bihlKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5pbml0JiZ0LmluaXQocikscn1mdW5jdGlvbiBzKGUpe3Quc2F2ZShlKSx0Lm5hbWVzPVtdLHQuc2tpcHM9W107Zm9yKHZhciByPSgic3RyaW5nIj09dHlwZW9mIGU/ZToiIikuc3BsaXQoL1tccyxdKy8pLG49ci5sZW5ndGgsaT0wO2k8bjtpKyspcltpXSYmKGU9cltpXS5yZXBsYWNlKC9cKi9nLCIuKj8iKSwiLSI9PT1lWzBdP3Quc2tpcHMucHVzaChuZXcgUmVnRXhwKCJeIitlLnN1YnN0cigxKSsiJCIpKTp0Lm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgiXiIrZSsiJCIpKSl9ZnVuY3Rpb24gYSgpe3QuZW5hYmxlKCIiKX1mdW5jdGlvbiBvKGUpe3ZhciByLG47Zm9yKHI9MCxuPXQuc2tpcHMubGVuZ3RoO3I8bjtyKyspaWYodC5za2lwc1tyXS50ZXN0KGUpKXJldHVybiExO2ZvcihyPTAsbj10Lm5hbWVzLmxlbmd0aDtyPG47cisrKWlmKHQubmFtZXNbcl0udGVzdChlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1KGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3I/ZS5zdGFja3x8ZS5tZXNzYWdlOmV9dD1lLmV4cG9ydHM9aS5kZWJ1Zz1pLmRlZmF1bHQ9aSx0LmNvZXJjZT11LHQuZGlzYWJsZT1hLHQuZW5hYmxlPXMsdC5lbmFibGVkPW8sdC5odW1hbml6ZT1yKDYwMiksdC5uYW1lcz1bXSx0LnNraXBzPVtdLHQuZm9ybWF0dGVycz17fTt2YXIgbH0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PTAscj0wLG49MDtmb3IodmFyIGkgaW4gZSl7dmFyIHM9ZVtpXSxhPXNbMF0sbz1zWzFdOyhhPnJ8fGE9PT1yJiZvPm4pJiYocj1hLG49byx0PU51bWJlcihpKSl9cmV0dXJuIHR9dmFyIGk9cig2MTUpLHM9L14oPzooICkrfFx0KykvO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYSBzdHJpbmciKTt2YXIgdCxyLGE9MCxvPTAsdT0wLGw9e307ZS5zcGxpdCgvXG4vZykuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlKXt2YXIgbixpPWUubWF0Y2gocyk7aT8obj1pWzBdLmxlbmd0aCxpWzFdP28rKzphKyspOm49MDt2YXIgYz1uLXU7dT1uLGM/KHI9Yz4wLHQ9bFtyP2M6LWNdLHQ/dFswXSsrOnQ9bFtjXT1bMSwwXSk6dCYmKHRbMV0rPU51bWJlcihyKSl9fSk7dmFyIGMsZixwPW4obCk7cmV0dXJuIHA/bz49YT8oYz0ic3BhY2UiLGY9aSgiICIscCkpOihjPSJ0YWIiLGY9aSgiXHQiLHApKTooYz1udWxsLGY9IiIpLHthbW91bnQ6cCx0eXBlOmMsaW5kZW50OmZ9fX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9L1t8XFx7fSgpW1xdXiQrKj8uXS9nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYSBzdHJpbmciKTtyZXR1cm4gZS5yZXBsYWNlKHIsIlxcJCYiKX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiOyFmdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYobnVsbD09ZSlyZXR1cm4hMTtzd2l0Y2goZS50eXBlKXtjYXNlIkFycmF5RXhwcmVzc2lvbiI6Y2FzZSJBc3NpZ25tZW50RXhwcmVzc2lvbiI6Y2FzZSJCaW5hcnlFeHByZXNzaW9uIjpjYXNlIkNhbGxFeHByZXNzaW9uIjpjYXNlIkNvbmRpdGlvbmFsRXhwcmVzc2lvbiI6Y2FzZSJGdW5jdGlvbkV4cHJlc3Npb24iOmNhc2UiSWRlbnRpZmllciI6Y2FzZSJMaXRlcmFsIjpjYXNlIkxvZ2ljYWxFeHByZXNzaW9uIjpjYXNlIk1lbWJlckV4cHJlc3Npb24iOmNhc2UiTmV3RXhwcmVzc2lvbiI6Y2FzZSJPYmplY3RFeHByZXNzaW9uIjpjYXNlIlNlcXVlbmNlRXhwcmVzc2lvbiI6Y2FzZSJUaGlzRXhwcmVzc2lvbiI6Y2FzZSJVbmFyeUV4cHJlc3Npb24iOmNhc2UiVXBkYXRlRXhwcmVzc2lvbiI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcihlKXtpZihudWxsPT1lKXJldHVybiExO3N3aXRjaChlLnR5cGUpe2Nhc2UiRG9XaGlsZVN0YXRlbWVudCI6Y2FzZSJGb3JJblN0YXRlbWVudCI6Y2FzZSJGb3JTdGF0ZW1lbnQiOmNhc2UiV2hpbGVTdGF0ZW1lbnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIG4oZSl7aWYobnVsbD09ZSlyZXR1cm4hMTtzd2l0Y2goZS50eXBlKXtjYXNlIkJsb2NrU3RhdGVtZW50IjpjYXNlIkJyZWFrU3RhdGVtZW50IjpjYXNlIkNvbnRpbnVlU3RhdGVtZW50IjpjYXNlIkRlYnVnZ2VyU3RhdGVtZW50IjpjYXNlIkRvV2hpbGVTdGF0ZW1lbnQiOmNhc2UiRW1wdHlTdGF0ZW1lbnQiOmNhc2UiRXhwcmVzc2lvblN0YXRlbWVudCI6Y2FzZSJGb3JJblN0YXRlbWVudCI6Y2FzZSJGb3JTdGF0ZW1lbnQiOmNhc2UiSWZTdGF0ZW1lbnQiOmNhc2UiTGFiZWxlZFN0YXRlbWVudCI6Y2FzZSJSZXR1cm5TdGF0ZW1lbnQiOmNhc2UiU3dpdGNoU3RhdGVtZW50IjpjYXNlIlRocm93U3RhdGVtZW50IjpjYXNlIlRyeVN0YXRlbWVudCI6Y2FzZSJWYXJpYWJsZURlY2xhcmF0aW9uIjpjYXNlIldoaWxlU3RhdGVtZW50IjpjYXNlIldpdGhTdGF0ZW1lbnQiOnJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIG4oZSl8fG51bGwhPWUmJiJGdW5jdGlvbkRlY2xhcmF0aW9uIj09PWUudHlwZX1mdW5jdGlvbiBzKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiSWZTdGF0ZW1lbnQiOnJldHVybiBudWxsIT1lLmFsdGVybmF0ZT9lLmFsdGVybmF0ZTplLmNvbnNlcXVlbnQ7Y2FzZSJMYWJlbGVkU3RhdGVtZW50IjpjYXNlIkZvclN0YXRlbWVudCI6Y2FzZSJGb3JJblN0YXRlbWVudCI6Y2FzZSJXaGlsZVN0YXRlbWVudCI6Y2FzZSJXaXRoU3RhdGVtZW50IjpyZXR1cm4gZS5ib2R5fXJldHVybiBudWxsfWZ1bmN0aW9uIGEoZSl7dmFyIHQ7aWYoIklmU3RhdGVtZW50IiE9PWUudHlwZSlyZXR1cm4hMTtpZihudWxsPT1lLmFsdGVybmF0ZSlyZXR1cm4hMTt0PWUuY29uc2VxdWVudDtkb3tpZigiSWZTdGF0ZW1lbnQiPT09dC50eXBlJiZudWxsPT10LmFsdGVybmF0ZSlyZXR1cm4hMDt0PXModCl9d2hpbGUodCk7cmV0dXJuITF9ZS5leHBvcnRzPXtpc0V4cHJlc3Npb246dCxpc1N0YXRlbWVudDpuLGlzSXRlcmF0aW9uU3RhdGVtZW50OnIsaXNTb3VyY2VFbGVtZW50OmksaXNQcm9ibGVtYXRpY0lmU3RhdGVtZW50OmEsdHJhaWxpbmdTdGF0ZW1lbnQ6c319KCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtzd2l0Y2goZSl7Y2FzZSJpbXBsZW1lbnRzIjpjYXNlImludGVyZmFjZSI6Y2FzZSJwYWNrYWdlIjpjYXNlInByaXZhdGUiOmNhc2UicHJvdGVjdGVkIjpjYXNlInB1YmxpYyI6Y2FzZSJzdGF0aWMiOmNhc2UibGV0IjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuISghdCYmInlpZWxkIj09PWUpJiZpKGUsdCl9ZnVuY3Rpb24gaShlLHIpe2lmKHImJnQoZSkpcmV0dXJuITA7c3dpdGNoKGUubGVuZ3RoKXtjYXNlIDI6cmV0dXJuImlmIj09PWV8fCJpbiI9PT1lfHwiZG8iPT09ZTtjYXNlIDM6cmV0dXJuInZhciI9PT1lfHwiZm9yIj09PWV8fCJuZXciPT09ZXx8InRyeSI9PT1lO2Nhc2UgNDpyZXR1cm4idGhpcyI9PT1lfHwiZWxzZSI9PT1lfHwiY2FzZSI9PT1lfHwidm9pZCI9PT1lfHwid2l0aCI9PT1lfHwiZW51bSI9PT1lO2Nhc2UgNTpyZXR1cm4id2hpbGUiPT09ZXx8ImJyZWFrIj09PWV8fCJjYXRjaCI9PT1lfHwidGhyb3ciPT09ZXx8ImNvbnN0Ij09PWV8fCJ5aWVsZCI9PT1lfHwiY2xhc3MiPT09ZXx8InN1cGVyIj09PWU7Y2FzZSA2OnJldHVybiJyZXR1cm4iPT09ZXx8InR5cGVvZiI9PT1lfHwiZGVsZXRlIj09PWV8fCJzd2l0Y2giPT09ZXx8ImV4cG9ydCI9PT1lfHwiaW1wb3J0Ij09PWU7Y2FzZSA3OnJldHVybiJkZWZhdWx0Ij09PWV8fCJmaW5hbGx5Ij09PWV8fCJleHRlbmRzIj09PWU7Y2FzZSA4OnJldHVybiJmdW5jdGlvbiI9PT1lfHwiY29udGludWUiPT09ZXx8ImRlYnVnZ2VyIj09PWU7Y2FzZSAxMDpyZXR1cm4iaW5zdGFuY2VvZiI9PT1lO2RlZmF1bHQ6cmV0dXJuITF9fWZ1bmN0aW9uIHMoZSx0KXtyZXR1cm4ibnVsbCI9PT1lfHwidHJ1ZSI9PT1lfHwiZmFsc2UiPT09ZXx8bihlLHQpfWZ1bmN0aW9uIGEoZSx0KXtyZXR1cm4ibnVsbCI9PT1lfHwidHJ1ZSI9PT1lfHwiZmFsc2UiPT09ZXx8aShlLHQpfWZ1bmN0aW9uIG8oZSl7cmV0dXJuImV2YWwiPT09ZXx8ImFyZ3VtZW50cyI9PT1lfWZ1bmN0aW9uIHUoZSl7dmFyIHQscixuO2lmKDA9PT1lLmxlbmd0aClyZXR1cm4hMTtpZihuPWUuY2hhckNvZGVBdCgwKSwhZC5pc0lkZW50aWZpZXJTdGFydEVTNShuKSlyZXR1cm4hMTtmb3IodD0xLHI9ZS5sZW5ndGg7dDxyOysrdClpZihuPWUuY2hhckNvZGVBdCh0KSwhZC5pc0lkZW50aWZpZXJQYXJ0RVM1KG4pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGwoZSx0KXtyZXR1cm4gMTAyNCooZS01NTI5NikrKHQtNTYzMjApKzY1NTM2fWZ1bmN0aW9uIGMoZSl7dmFyIHQscixuLGkscztpZigwPT09ZS5sZW5ndGgpcmV0dXJuITE7Zm9yKHM9ZC5pc0lkZW50aWZpZXJTdGFydEVTNix0PTAscj1lLmxlbmd0aDt0PHI7Kyt0KXtpZig1NTI5Njw9KG49ZS5jaGFyQ29kZUF0KHQpKSYmbjw9NTYzMTkpe2lmKCsrdD49cilyZXR1cm4hMTtpZighKDU2MzIwPD0oaT1lLmNoYXJDb2RlQXQodCkpJiZpPD01NzM0MykpcmV0dXJuITE7bj1sKG4saSl9aWYoIXMobikpcmV0dXJuITE7cz1kLmlzSWRlbnRpZmllclBhcnRFUzZ9cmV0dXJuITB9ZnVuY3Rpb24gZihlLHQpe3JldHVybiB1KGUpJiYhcyhlLHQpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gYyhlKSYmIWEoZSx0KX12YXIgZD1yKDI0MCk7ZS5leHBvcnRzPXtpc0tleXdvcmRFUzU6bixpc0tleXdvcmRFUzY6aSxpc1Jlc2VydmVkV29yZEVTNTpzLGlzUmVzZXJ2ZWRXb3JkRVM2OmEsaXNSZXN0cmljdGVkV29yZDpvLGlzSWRlbnRpZmllck5hbWVFUzU6dSxpc0lkZW50aWZpZXJOYW1lRVM2OmMsaXNJZGVudGlmaWVyRVM1OmYsaXNJZGVudGlmaWVyRVM2OnB9fSgpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1yKDYzMCl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigxODApLGk9bmV3IFJlZ0V4cChuKCkuc291cmNlKTtlLmV4cG9ydHM9aS50ZXN0LmJpbmQoaSl9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3QucmVhZD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzLGEsbz04Kmktbi0xLHU9KDE8PG8pLTEsbD11Pj4xLGM9LTcsZj1yP2ktMTowLHA9cj8tMToxLGQ9ZVt0K2ZdO2ZvcihmKz1wLHM9ZCYoMTw8LWMpLTEsZD4+PS1jLGMrPW87Yz4wO3M9MjU2KnMrZVt0K2ZdLGYrPXAsYy09OCk7Zm9yKGE9cyYoMTw8LWMpLTEscz4+PS1jLGMrPW47Yz4wO2E9MjU2KmErZVt0K2ZdLGYrPXAsYy09OCk7aWYoMD09PXMpcz0xLWw7ZWxzZXtpZihzPT09dSlyZXR1cm4gYT9OYU46MS8wKihkPy0xOjEpO2ErPU1hdGgucG93KDIsbikscy09bH1yZXR1cm4oZD8tMToxKSphKk1hdGgucG93KDIscy1uKX0sdC53cml0ZT1mdW5jdGlvbihlLHQscixuLGkscyl7dmFyIGEsbyx1LGw9OCpzLWktMSxjPSgxPDxsKS0xLGY9Yz4+MSxwPTIzPT09aT9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsZD1uPzA6cy0xLGg9bj8xOi0xLG09dDwwfHwwPT09dCYmMS90PDA/MTowO2Zvcih0PU1hdGguYWJzKHQpLGlzTmFOKHQpfHx0PT09MS8wPyhvPWlzTmFOKHQpPzE6MCxhPWMpOihhPU1hdGguZmxvb3IoTWF0aC5sb2codCkvTWF0aC5MTjIpLHQqKHU9TWF0aC5wb3coMiwtYSkpPDEmJihhLS0sdSo9MiksdCs9YStmPj0xP3AvdTpwKk1hdGgucG93KDIsMS1mKSx0KnU+PTImJihhKyssdS89MiksYStmPj1jPyhvPTAsYT1jKTphK2Y+PTE/KG89KHQqdS0xKSpNYXRoLnBvdygyLGkpLGErPWYpOihvPXQqTWF0aC5wb3coMixmLTEpKk1hdGgucG93KDIsaSksYT0wKSk7aT49ODtlW3IrZF09MjU1Jm8sZCs9aCxvLz0yNTYsaS09OCk7Zm9yKGE9YTw8aXxvLGwrPWk7bD4wO2VbcitkXT0yNTUmYSxkKz1oLGEvPTI1NixsLT04KTtlW3IrZC1oXXw9MTI4Km19fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWZ1bmN0aW9uKGUsdCxyLG4saSxzLGEsbyl7aWYoIWUpe3ZhciB1O2lmKHZvaWQgMD09PXQpdT1uZXcgRXJyb3IoIk1pbmlmaWVkIGV4Y2VwdGlvbiBvY2N1cnJlZDsgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuIik7ZWxzZXt2YXIgbD1bcixuLGkscyxhLG9dLGM9MDt1PW5ldyBFcnJvcih0LnJlcGxhY2UoLyVzL2csZnVuY3Rpb24oKXtyZXR1cm4gbFtjKytdfSkpLHUubmFtZT0iSW52YXJpYW50IFZpb2xhdGlvbiJ9dGhyb3cgdS5mcmFtZXNUb1BvcD0xLHV9fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDYwMyk7ZS5leHBvcnRzPU51bWJlci5pc0Zpbml0ZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISgibnVtYmVyIiE9dHlwZW9mIGV8fG4oZSl8fGU9PT0xLzB8fGU9PT0tMS8wKX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9LygoWyciXSkoPzooPyFcMnxcXCkufFxcKD86XHJcbnxbXHNcU10pKSooXDIpP3xgKD86W15gXFwkXXxcXFtcc1xTXXxcJCg/IVx7KXxcJFx7KD86W157fV18XHtbXn1dKlx9PykqXH0/KSooYCk/KXwoXC9cLy4qKXwoXC9cKig/OlteKl18XCooPyFcLykpKihcKlwvKT8pfChcLyg/IVwqKSg/OlxbKD86KD8hW1xdXFxdKS58XFwuKSpcXXwoPyFbXC9cXVxcXSkufFxcLikrXC8oPzooPyFccyooPzpcYnxbXHUwMDgwLVx1RkZGRiRcXCcifih7XXxbK1wtIV0oPyE9KXxcLj9cZCkpfFtnbWl5dV17MSw1fVxiKD8hW1x1MDA4MC1cdUZGRkYkXFxdfFxzKig/OlsrXC0qJSZ8Xjw+IT0/KHtdfFwvKD8hW1wvKl0pKSkpKXwoMFt4WF1bXGRhLWZBLUZdK3wwW29PXVswLTddK3wwW2JCXVswMV0rfCg/OlxkKlwuXGQrfFxkK1wuPykoPzpbZUVdWystXT9cZCspPyl8KCg/IVxkKSg/Oig/IVxzKVskXHdcdTAwODAtXHVGRkZGXXxcXHVbXGRhLWZBLUZdezR9fFxcdVx7W1xkYS1mQS1GXStcfSkrKXwoLS18XCtcK3wmJnxcfFx8fD0+fFwuezN9fCg/OlsrXC1cLyUmfF5dfFwqezEsMn18PHsxLDJ9fD57MSwzfXwhPT98PXsxLDJ9KT0/fFs/fi4sOjtbXF0oKXt9XSl8KFxzKyl8KF4kfFtcc1xTXSkvZyx0Lm1hdGNoVG9Ub2tlbj1mdW5jdGlvbihlKXt2YXIgdD17dHlwZToiaW52YWxpZCIsdmFsdWU6ZVswXX07cmV0dXJuIGVbMV0/KHQudHlwZT0ic3RyaW5nIix0LmNsb3NlZD0hKCFlWzNdJiYhZVs0XSkpOmVbNV0/dC50eXBlPSJjb21tZW50IjplWzZdPyh0LnR5cGU9ImNvbW1lbnQiLHQuY2xvc2VkPSEhZVs3XSk6ZVs4XT90LnR5cGU9InJlZ2V4IjplWzldP3QudHlwZT0ibnVtYmVyIjplWzEwXT90LnR5cGU9Im5hbWUiOmVbMTFdP3QudHlwZT0icHVuY3R1YXRvciI6ZVsxMl0mJih0LnR5cGU9IndoaXRlc3BhY2UiKSx0fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuOyhmdW5jdGlvbihlLGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07IWZ1bmN0aW9uKGEpe3ZhciBvPSJvYmplY3QiPT1zKHQpJiZ0LHU9Im9iamVjdCI9PXMoZSkmJmUmJmUuZXhwb3J0cz09byYmZSxsPSJvYmplY3QiPT0odm9pZCAwPT09aT8idW5kZWZpbmVkIjpzKGkpKSYmaTtsLmdsb2JhbCE9PWwmJmwud2luZG93IT09bHx8KGE9bCk7dmFyIGM9e30sZj1jLmhhc093blByb3BlcnR5LHA9ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IociBpbiBlKWYuY2FsbChlLHIpJiZ0KHIsZVtyXSl9LGQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD8ocCh0LGZ1bmN0aW9uKHQscil7ZVt0XT1yfSksZSk6ZX0saD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aCxuPS0xOysrbjxyOyl0KGVbbl0pfSxtPWMudG9TdHJpbmcseT1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT1tLmNhbGwoZSl9LHY9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgT2JqZWN0XSI9PW0uY2FsbChlKX0sZz1mdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV8fCJbb2JqZWN0IFN0cmluZ10iPT1tLmNhbGwoZSl9LGI9ZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlfHwiW29iamVjdCBOdW1iZXJdIj09bS5jYWxsKGUpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlfHwiW29iamVjdCBGdW5jdGlvbl0iPT1tLmNhbGwoZSl9LHg9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgTWFwXSI9PW0uY2FsbChlKX0sQT1mdW5jdGlvbihlKXtyZXR1cm4iW29iamVjdCBTZXRdIj09bS5jYWxsKGUpfSxTPXsnIic6J1xcIicsIiciOiJcXCciLCJcXCI6IlxcXFwiLCJcYiI6IlxcYiIsIlxmIjoiXFxmIiwiXG4iOiJcXG4iLCJcciI6IlxcciIsIlx0IjoiXFx0In0sXz0vWyInXFxcYlxmXG5cclx0XS8sRD0vWzAtOV0vLEM9L1sgISMtJlwoLVxbXF0tfl0vLHc9ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPXtlc2NhcGVFdmVyeXRoaW5nOiExLGVzY2FwZUV0YWdvOiExLHF1b3Rlczoic2luZ2xlIix3cmFwOiExLGVzNjohMSxqc29uOiExLGNvbXBhY3Q6ITAsbG93ZXJjYXNlSGV4OiExLG51bWJlcnM6ImRlY2ltYWwiLGluZGVudDoiXHQiLF9faW5kZW50X186IiIsX19pbmxpbmUxX186ITEsX19pbmxpbmUyX186ITF9LGk9ciYmci5qc29uO2kmJihuLnF1b3Rlcz0iZG91YmxlIixuLndyYXA9ITApLHI9ZChuLHIpLCJzaW5nbGUiIT1yLnF1b3RlcyYmImRvdWJsZSIhPXIucXVvdGVzJiYoci5xdW90ZXM9InNpbmdsZSIpO3ZhciBzLGE9ImRvdWJsZSI9PXIucXVvdGVzPyciJzoiJyIsbz1yLmNvbXBhY3QsdT1yLmluZGVudCxsPXIubG93ZXJjYXNlSGV4LGM9IiIsZj1yLl9faW5saW5lMV9fLG09ci5fX2lubGluZTJfXyx3PW8/IiI6IlxuIixQPSEwLGs9ImJpbmFyeSI9PXIubnVtYmVycyxGPSJvY3RhbCI9PXIubnVtYmVycyxUPSJkZWNpbWFsIj09ci5udW1iZXJzLE89ImhleGFkZWNpbWFsIj09ci5udW1iZXJzO2lmKGkmJnQmJkUodC50b0pTT04pJiYodD10LnRvSlNPTigpKSwhZyh0KSl7aWYoeCh0KSlyZXR1cm4gMD09dC5zaXplPyJuZXcgTWFwKCkiOihvfHwoci5fX2lubGluZTFfXz0hMCksIm5ldyBNYXAoIitlKEFycmF5LmZyb20odCkscikrIikiKTtpZihBKHQpKXJldHVybiAwPT10LnNpemU/Im5ldyBTZXQoKSI6Im5ldyBTZXQoIitlKEFycmF5LmZyb20odCkscikrIikiO2lmKHkodCkpcmV0dXJuIHM9W10sci53cmFwPSEwLGY/KHIuX19pbmxpbmUxX189ITEsci5fX2lubGluZTJfXz0hMCk6KGM9ci5fX2luZGVudF9fLHUrPWMsci5fX2luZGVudF9fPXUpLGgodCxmdW5jdGlvbih0KXtQPSExLG0mJihyLl9faW5saW5lMl9fPSExKSxzLnB1c2goKG98fG0/IiI6dSkrZSh0LHIpKX0pLFA/IltdIjptPyJbIitzLmpvaW4oIiwgIikrIl0iOiJbIit3K3Muam9pbigiLCIrdykrdysobz8iIjpjKSsiXSI7aWYoIWIodCkpcmV0dXJuIHYodCk/KHM9W10sci53cmFwPSEwLGM9ci5fX2luZGVudF9fLHUrPWMsci5fX2luZGVudF9fPXUscCh0LGZ1bmN0aW9uKHQsbil7UD0hMSxzLnB1c2goKG8/IiI6dSkrZSh0LHIpKyI6Iisobz8iIjoiICIpK2UobixyKSl9KSxQPyJ7fSI6InsiK3crcy5qb2luKCIsIit3KSt3KyhvPyIiOmMpKyJ9Iik6aT9KU09OLnN0cmluZ2lmeSh0KXx8Im51bGwiOlN0cmluZyh0KTtpZihpKXJldHVybiBKU09OLnN0cmluZ2lmeSh0KTtpZihUKXJldHVybiBTdHJpbmcodCk7aWYoTyl7dmFyIEI9dC50b1N0cmluZygxNik7cmV0dXJuIGx8fChCPUIudG9VcHBlckNhc2UoKSksIjB4IitCfWlmKGspcmV0dXJuIjBiIit0LnRvU3RyaW5nKDIpO2lmKEYpcmV0dXJuIjBvIit0LnRvU3RyaW5nKDgpfXZhciBSLEksTSxOPXQsTD0tMSxqPU4ubGVuZ3RoO2ZvcihzPSIiOysrTDxqOyl7dmFyIFU9Ti5jaGFyQXQoTCk7aWYoci5lczYmJihSPU4uY2hhckNvZGVBdChMKSk+PTU1Mjk2JiZSPD01NjMxOSYmaj5MKzEmJihJPU4uY2hhckNvZGVBdChMKzEpKT49NTYzMjAmJkk8PTU3MzQzKXtNPTEwMjQqKFItNTUyOTYpK0ktNTYzMjArNjU1MzY7dmFyIFY9TS50b1N0cmluZygxNik7bHx8KFY9Vi50b1VwcGVyQ2FzZSgpKSxzKz0iXFx1eyIrVisifSIsTCsrfWVsc2V7aWYoIXIuZXNjYXBlRXZlcnl0aGluZyl7aWYoQy50ZXN0KFUpKXtzKz1VO2NvbnRpbnVlfWlmKCciJz09VSl7cys9YT09VT8nXFwiJzpVO2NvbnRpbnVlfWlmKCInIj09VSl7cys9YT09VT8iXFwnIjpVO2NvbnRpbnVlfX1pZigiXDAiIT1VfHxpfHxELnRlc3QoTi5jaGFyQXQoTCsxKSkpaWYoXy50ZXN0KFUpKXMrPVNbVV07ZWxzZXt2YXIgRz1VLmNoYXJDb2RlQXQoMCksVj1HLnRvU3RyaW5nKDE2KTtsfHwoVj1WLnRvVXBwZXJDYXNlKCkpO3ZhciBXPVYubGVuZ3RoPjJ8fGksWT0iXFwiKyhXPyJ1IjoieCIpKygiMDAwMCIrVikuc2xpY2UoVz8tNDotMik7cys9WX1lbHNlIHMrPSJcXDAifX1yZXR1cm4gci53cmFwJiYocz1hK3MrYSksci5lc2NhcGVFdGFnbz9zLnJlcGxhY2UoLzxcLyhzY3JpcHR8c3R5bGUpL2dpLCI8XFwvJDEiKTpzfTt3LnZlcnNpb249IjEuMy4wIiwib2JqZWN0Ij09cyhyKDQ5KSkmJnIoNDkpP3ZvaWQgMCE9PShuPWZ1bmN0aW9uKCl7cmV0dXJuIHd9LmNhbGwodCxyLHQsZSkpJiYoZS5leHBvcnRzPW4pOm8mJiFvLm5vZGVUeXBlP3U/dS5leHBvcnRzPXc6by5qc2VzYz13OmEuanNlc2M9d30odm9pZCAwKX0pLmNhbGwodCxyKDM5KShlKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0saT0ib2JqZWN0Ij09PW4odCk/dDp7fTtpLnBhcnNlPWZ1bmN0aW9uKCl7dmFyIGUsdCxyLGkscyxhLG89eyInIjoiJyIsJyInOiciJywiXFwiOiJcXCIsIi8iOiIvIiwiXG4iOiIiLGI6IlxiIixmOiJcZiIsbjoiXG4iLHI6IlxyIix0OiJcdCJ9LHU9WyIgIiwiXHQiLCJcciIsIlxuIiwiXHYiLCJcZiIsIsKgIiwiXHVmZWZmIl0sbD1mdW5jdGlvbihlKXtyZXR1cm4iIj09PWU/IkVPRiI6IiciK2UrIicifSxjPWZ1bmN0aW9uKG4pe3ZhciBpPW5ldyBTeW50YXhFcnJvcjt0aHJvdyBpLm1lc3NhZ2U9bisiIGF0IGxpbmUgIit0KyIgY29sdW1uICIrcisiIG9mIHRoZSBKU09ONSBkYXRhLiBTdGlsbCB0byByZWFkOiAiK0pTT04uc3RyaW5naWZ5KHMuc3Vic3RyaW5nKGUtMSxlKzE5KSksaS5hdD1lLGkubGluZU51bWJlcj10LGkuY29sdW1uTnVtYmVyPXIsaX0sZj1mdW5jdGlvbihuKXtyZXR1cm4gbiYmbiE9PWkmJmMoIkV4cGVjdGVkICIrbChuKSsiIGluc3RlYWQgb2YgIitsKGkpKSxpPXMuY2hhckF0KGUpLGUrKyxyKyssKCJcbiI9PT1pfHwiXHIiPT09aSYmIlxuIiE9PXAoKSkmJih0Kysscj0wKSxpfSxwPWZ1bmN0aW9uKCl7cmV0dXJuIHMuY2hhckF0KGUpfSxkPWZ1bmN0aW9uKCl7dmFyIGU9aTtmb3IoIl8iIT09aSYmIiQiIT09aSYmKGk8ImEifHxpPiJ6IikmJihpPCJBInx8aT4iWiIpJiZjKCJCYWQgaWRlbnRpZmllciBhcyB1bnF1b3RlZCBrZXkiKTtmKCkmJigiXyI9PT1pfHwiJCI9PT1pfHxpPj0iYSImJmk8PSJ6Inx8aT49IkEiJiZpPD0iWiJ8fGk+PSIwIiYmaTw9IjkiKTspZSs9aTtyZXR1cm4gZX0saD1mdW5jdGlvbigpe3ZhciBlLHQ9IiIscj0iIixuPTEwO2lmKCItIiE9PWkmJiIrIiE9PWl8fCh0PWksZihpKSksIkkiPT09aSlyZXR1cm4gZT1FKCksKCJudW1iZXIiIT10eXBlb2YgZXx8aXNOYU4oZSkpJiZjKCJVbmV4cGVjdGVkIHdvcmQgZm9yIG51bWJlciIpLCItIj09PXQ/LWU6ZTtpZigiTiI9PT1pKXJldHVybiBlPUUoKSxpc05hTihlKXx8YygiZXhwZWN0ZWQgd29yZCB0byBiZSBOYU4iKSxlO3N3aXRjaCgiMCI9PT1pJiYocis9aSxmKCksIngiPT09aXx8IlgiPT09aT8ocis9aSxmKCksbj0xNik6aT49IjAiJiZpPD0iOSImJmMoIk9jdGFsIGxpdGVyYWwiKSksbil7Y2FzZSAxMDpmb3IoO2k+PSIwIiYmaTw9IjkiOylyKz1pLGYoKTtpZigiLiI9PT1pKWZvcihyKz0iLiI7ZigpJiZpPj0iMCImJmk8PSI5Ijspcis9aTtpZigiZSI9PT1pfHwiRSI9PT1pKWZvcihyKz1pLGYoKSwiLSIhPT1pJiYiKyIhPT1pfHwocis9aSxmKCkpO2k+PSIwIiYmaTw9IjkiOylyKz1pLGYoKTticmVhaztjYXNlIDE2OmZvcig7aT49IjAiJiZpPD0iOSJ8fGk+PSJBIiYmaTw9IkYifHxpPj0iYSImJmk8PSJmIjspcis9aSxmKCl9aWYoZT0iLSI9PT10Py1yOityLGlzRmluaXRlKGUpKXJldHVybiBlO2MoIkJhZCBudW1iZXIiKX0sbT1mdW5jdGlvbigpe3ZhciBlLHQscixuLHM9IiI7aWYoJyInPT09aXx8IiciPT09aSlmb3Iocj1pO2YoKTspe2lmKGk9PT1yKXJldHVybiBmKCkscztpZigiXFwiPT09aSlpZihmKCksInUiPT09aSl7Zm9yKG49MCx0PTA7dDw0JiYoZT1wYXJzZUludChmKCksMTYpLGlzRmluaXRlKGUpKTt0Kz0xKW49MTYqbitlO3MrPVN0cmluZy5mcm9tQ2hhckNvZGUobil9ZWxzZSBpZigiXHIiPT09aSkiXG4iPT09cCgpJiZmKCk7ZWxzZXtpZigic3RyaW5nIiE9dHlwZW9mIG9baV0pYnJlYWs7cys9b1tpXX1lbHNle2lmKCJcbiI9PT1pKWJyZWFrO3MrPWl9fWMoIkJhZCBzdHJpbmciKX0seT1mdW5jdGlvbigpeyIvIiE9PWkmJmMoIk5vdCBhbiBpbmxpbmUgY29tbWVudCIpO2Rve2lmKGYoKSwiXG4iPT09aXx8IlxyIj09PWkpcmV0dXJuIHZvaWQgZigpfXdoaWxlKGkpfSx2PWZ1bmN0aW9uKCl7IioiIT09aSYmYygiTm90IGEgYmxvY2sgY29tbWVudCIpO2Rve2ZvcihmKCk7IioiPT09aTspaWYoZigiKiIpLCIvIj09PWkpcmV0dXJuIHZvaWQgZigiLyIpfXdoaWxlKGkpO2MoIlVudGVybWluYXRlZCBibG9jayBjb21tZW50Iil9LGc9ZnVuY3Rpb24oKXsiLyIhPT1pJiZjKCJOb3QgYSBjb21tZW50IiksZigiLyIpLCIvIj09PWk/eSgpOiIqIj09PWk/digpOmMoIlVucmVjb2duaXplZCBjb21tZW50Iil9LGI9ZnVuY3Rpb24oKXtmb3IoO2k7KWlmKCIvIj09PWkpZygpO2Vsc2V7aWYoISh1LmluZGV4T2YoaSk+PTApKXJldHVybjtmKCl9fSxFPWZ1bmN0aW9uKCl7c3dpdGNoKGkpe2Nhc2UidCI6cmV0dXJuIGYoInQiKSxmKCJyIiksZigidSIpLGYoImUiKSwhMDtjYXNlImYiOnJldHVybiBmKCJmIiksZigiYSIpLGYoImwiKSxmKCJzIiksZigiZSIpLCExO2Nhc2UibiI6cmV0dXJuIGYoIm4iKSxmKCJ1IiksZigibCIpLGYoImwiKSxudWxsO2Nhc2UiSSI6cmV0dXJuIGYoIkkiKSxmKCJuIiksZigiZiIpLGYoImkiKSxmKCJuIiksZigiaSIpLGYoInQiKSxmKCJ5IiksMS8wO2Nhc2UiTiI6cmV0dXJuIGYoIk4iKSxmKCJhIiksZigiTiIpLE5hTn1jKCJVbmV4cGVjdGVkICIrbChpKSl9LHg9ZnVuY3Rpb24oKXt2YXIgZT1bXTtpZigiWyI9PT1pKWZvcihmKCJbIiksYigpO2k7KXtpZigiXSI9PT1pKXJldHVybiBmKCJdIiksZTtpZigiLCI9PT1pP2MoIk1pc3NpbmcgYXJyYXkgZWxlbWVudCIpOmUucHVzaChhKCkpLGIoKSwiLCIhPT1pKXJldHVybiBmKCJdIiksZTtmKCIsIiksYigpfWMoIkJhZCBhcnJheSIpfSxBPWZ1bmN0aW9uKCl7dmFyIGUsdD17fTtpZigieyI9PT1pKWZvcihmKCJ7IiksYigpO2k7KXtpZigifSI9PT1pKXJldHVybiBmKCJ9IiksdDtpZihlPSciJz09PWl8fCInIj09PWk/bSgpOmQoKSxiKCksZigiOiIpLHRbZV09YSgpLGIoKSwiLCIhPT1pKXJldHVybiBmKCJ9IiksdDtmKCIsIiksYigpfWMoIkJhZCBvYmplY3QiKX07cmV0dXJuIGE9ZnVuY3Rpb24oKXtzd2l0Y2goYigpLGkpe2Nhc2UieyI6cmV0dXJuIEEoKTtjYXNlIlsiOnJldHVybiB4KCk7Y2FzZSciJzpjYXNlIiciOnJldHVybiBtKCk7Y2FzZSItIjpjYXNlIisiOmNhc2UiLiI6cmV0dXJuIGgoKTtkZWZhdWx0OnJldHVybiBpPj0iMCImJmk8PSI5Ij9oKCk6RSgpfX0sZnVuY3Rpb24obyx1KXt2YXIgbDtyZXR1cm4gcz1TdHJpbmcobyksZT0wLHQ9MSxyPTEsaT0iICIsbD1hKCksYigpLGkmJmMoIlN5bnRheCBlcnJvciIpLCJmdW5jdGlvbiI9PXR5cGVvZiB1P2Z1bmN0aW9uIGUodCxyKXt2YXIgaSxzLGE9dFtyXTtpZihhJiYib2JqZWN0Ij09PSh2b2lkIDA9PT1hPyJ1bmRlZmluZWQiOm4oYSkpKWZvcihpIGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsaSkmJihzPWUoYSxpKSx2b2lkIDAhPT1zP2FbaV09czpkZWxldGUgYVtpXSk7cmV0dXJuIHUuY2FsbCh0LHIsYSl9KHsiIjpsfSwiIik6bH19KCksaS5zdHJpbmdpZnk9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGU+PSJhIiYmZTw9InoifHxlPj0iQSImJmU8PSJaInx8ZT49IjAiJiZlPD0iOSJ8fCJfIj09PWV8fCIkIj09PWV9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZT49ImEiJiZlPD0ieiJ8fGU+PSJBIiYmZTw9IloifHwiXyI9PT1lfHwiJCI9PT1lfWZ1bmN0aW9uIG8oZSl7aWYoInN0cmluZyIhPXR5cGVvZiBlKXJldHVybiExO2lmKCFhKGVbMF0pKXJldHVybiExO2Zvcih2YXIgdD0xLHI9ZS5sZW5ndGg7dDxyOyl7aWYoIXMoZVt0XSkpcmV0dXJuITE7dCsrfXJldHVybiEwfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheShlKToiW29iamVjdCBBcnJheV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIltvYmplY3QgRGF0ZV0iPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWZ1bmN0aW9uIGMoZSl7Zm9yKHZhciB0PTA7dDx5Lmxlbmd0aDt0KyspaWYoeVt0XT09PWUpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ29udmVydGluZyBjaXJjdWxhciBzdHJ1Y3R1cmUgdG8gSlNPTiIpfWZ1bmN0aW9uIGYoZSx0LHIpe2lmKCFlKXJldHVybiIiO2UubGVuZ3RoPjEwJiYoZT1lLnN1YnN0cmluZygwLDEwKSk7Zm9yKHZhciBuPXI/IiI6IlxuIixpPTA7aTx0O2krKyluKz1lO3JldHVybiBufWZ1bmN0aW9uIHAoZSl7cmV0dXJuIHYubGFzdEluZGV4PTAsdi50ZXN0KGUpPyciJytlLnJlcGxhY2UodixmdW5jdGlvbihlKXt2YXIgdD1nW2VdO3JldHVybiJzdHJpbmciPT10eXBlb2YgdD90OiJcXHUiKygiMDAwMCIrZS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSkrJyInOiciJytlKyciJ31mdW5jdGlvbiBkKGUsdCxyKXt2YXIgaSxzLGE9aChlLHQscik7c3dpdGNoKGEmJiFsKGEpJiYoYT1hLnZhbHVlT2YoKSksdm9pZCAwPT09YT8idW5kZWZpbmVkIjpuKGEpKXtjYXNlImJvb2xlYW4iOnJldHVybiBhLnRvU3RyaW5nKCk7Y2FzZSJudW1iZXIiOnJldHVybiBpc05hTihhKXx8IWlzRmluaXRlKGEpPyJudWxsIjphLnRvU3RyaW5nKCk7Y2FzZSJzdHJpbmciOnJldHVybiBwKGEudG9TdHJpbmcoKSk7Y2FzZSJvYmplY3QiOmlmKG51bGw9PT1hKXJldHVybiJudWxsIjtpZih1KGEpKXtjKGEpLGk9IlsiLHkucHVzaChhKTtmb3IodmFyIHY9MDt2PGEubGVuZ3RoO3YrKylzPWQoYSx2LCExKSxpKz1mKG0seS5sZW5ndGgpLGkrPW51bGw9PT1zfHx2b2lkIDA9PT1zPyJudWxsIjpzLHY8YS5sZW5ndGgtMT9pKz0iLCI6bSYmKGkrPSJcbiIpO3kucG9wKCksYS5sZW5ndGgmJihpKz1mKG0seS5sZW5ndGgsITApKSxpKz0iXSJ9ZWxzZXtjKGEpLGk9InsiO3ZhciBnPSExO3kucHVzaChhKTtmb3IodmFyIGIgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGIpKXt2YXIgRT1kKGEsYiwhMSk7cj0hMSx2b2lkIDAhPT1FJiZudWxsIT09RSYmKGkrPWYobSx5Lmxlbmd0aCksZz0hMCx0PW8oYik/YjpwKGIpLGkrPXQrIjoiKyhtPyIgIjoiIikrRSsiLCIpfXkucG9wKCksaT1nP2kuc3Vic3RyaW5nKDAsaS5sZW5ndGgtMSkrZihtLHkubGVuZ3RoKSsifSI6Int9In1yZXR1cm4gaTtkZWZhdWx0OnJldHVybn19aWYodCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQmJiF1KHQpKXRocm93IG5ldyBFcnJvcigiUmVwbGFjZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGFuIGFycmF5Iik7dmFyIGg9ZnVuY3Rpb24oZSxyLG4pe3ZhciBpPWVbcl07cmV0dXJuIGkmJmkudG9KU09OJiYiZnVuY3Rpb24iPT10eXBlb2YgaS50b0pTT04mJihpPWkudG9KU09OKCkpLCJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbChlLHIsaSk6dD9ufHx1KGUpfHx0LmluZGV4T2Yocik+PTA/aTp2b2lkIDA6aX07aS5pc1dvcmQ9bzt2YXIgbSx5PVtdO3ImJigic3RyaW5nIj09dHlwZW9mIHI/bT1yOiJudW1iZXIiPT10eXBlb2YgciYmcj49MCYmKG09ZigiICIsciwhMCkpKTt2YXIgdj0vW1xcXCJceDAwLVx4MWZceDdmLVx4OWZcdTAwYWRcdTA2MDAtXHUwNjA0XHUwNzBmXHUxN2I0XHUxN2I1XHUyMDBjLVx1MjAwZlx1MjAyOC1cdTIwMmZcdTIwNjAtXHUyMDZmXHVmZWZmXHVmZmYwLVx1ZmZmZl0vZyxnPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwifSxiPXsiIjplfTtyZXR1cm4gdm9pZCAwPT09ZT9oKGIsIiIsITApOmQoYiwiIiwhMCl9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1bXSxuPVtdO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXJldHVybiAwO3ZhciBpPWUubGVuZ3RoLHM9dC5sZW5ndGg7aWYoMD09PWkpcmV0dXJuIHM7aWYoMD09PXMpcmV0dXJuIGk7Zm9yKHZhciBhLG8sdSxsLGM9MCxmPTA7YzxpOyluW2NdPWUuY2hhckNvZGVBdChjKSxyW2NdPSsrYztmb3IoO2Y8czspZm9yKGE9dC5jaGFyQ29kZUF0KGYpLHU9ZisrLG89ZixjPTA7YzxpO2MrKylsPWE9PT1uW2NdP3U6dSsxLHU9cltjXSxvPXJbY109dT5vP2w+bz9vKzE6bDpsPnU/dSsxOmw7cmV0dXJuIG99fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzgpLGk9cigxNykscz1uKGksIkRhdGFWaWV3Iik7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD0tMSxyPW51bGw9PWU/MDplLmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrdDxyOyl7dmFyIG49ZVt0XTt0aGlzLnNldChuWzBdLG5bMV0pfX12YXIgaT1yKDUzNikscz1yKDUzNyksYT1yKDUzOCksbz1yKDUzOSksdT1yKDU0MCk7bi5wcm90b3R5cGUuY2xlYXI9aSxuLnByb3RvdHlwZS5kZWxldGU9cyxuLnByb3RvdHlwZS5nZXQ9YSxuLnByb3RvdHlwZS5oYXM9byxuLnByb3RvdHlwZS5zZXQ9dSxlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDM4KSxpPXIoMTcpLHM9bihpLCJQcm9taXNlIik7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigzOCksaT1yKDE3KSxzPW4oaSwiV2Vha01hcCIpO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIGUuc2V0KHRbMF0sdFsxXSksZX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBlLmFkZCh0KSxlfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciByPS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoOysrcjxuJiYhMSE9PXQoZVtyXSxyLGUpOyk7cmV0dXJuIGV9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGgsaT0wLHM9W107KytyPG47KXt2YXIgYT1lW3JdO3QoYSxyLGUpJiYoc1tpKytdPWEpfXJldHVybiBzfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4hIShudWxsPT1lPzA6ZS5sZW5ndGgpJiZpKGUsdCwwKT4tMX12YXIgaT1yKDE2Nik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LHIpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aDsrK248aTspaWYocih0LGVbbl0pKXJldHVybiEwO3JldHVybiExfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7Zm9yKHZhciByPS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoOysrcjxuOylpZih0KGVbcl0scixlKSlyZXR1cm4hMDtyZXR1cm4hMX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUmJmkodCxzKHQpLGUpfXZhciBpPXIoMzEpLHM9cigzMik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBlJiZpKHQscyh0KSxlKX12YXIgaT1yKDMxKSxzPXIoNDcpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCxyKXtyZXR1cm4gZT09PWUmJih2b2lkIDAhPT1yJiYoZT1lPD1yP2U6ciksdm9pZCAwIT09dCYmKGU9ZT49dD9lOnQpKSxlfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTgpLGk9T2JqZWN0LmNyZWF0ZSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZnVuY3Rpb24odCl7aWYoIW4odCkpcmV0dXJue307aWYoaSlyZXR1cm4gaSh0KTtlLnByb3RvdHlwZT10O3ZhciByPW5ldyBlO3JldHVybiBlLnByb3RvdHlwZT12b2lkIDAscn19KCk7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0ODkpLGk9cig1MjYpLHM9aShuKTtlLmV4cG9ydHM9c30sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLGEsbyl7dmFyIHU9LTEsbD1lLmxlbmd0aDtmb3Iocnx8KHI9cyksb3x8KG89W10pOysrdTxsOyl7dmFyIGM9ZVt1XTt0PjAmJnIoYyk/dD4xP24oYyx0LTEscixhLG8pOmkobyxjKTphfHwob1tvLmxlbmd0aF09Yyl9cmV0dXJuIG99dmFyIGk9cigxNjEpLHM9cig1NDMpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZSYmaShlLHQscyl9dmFyIGk9cigyNDgpLHM9cigzMik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gbnVsbCE9ZSYmaS5jYWxsKGUsdCl9dmFyIG49T2JqZWN0LnByb3RvdHlwZSxpPW4uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gbnVsbCE9ZSYmdCBpbiBPYmplY3QoZSl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LHIsbil7Zm9yKHZhciBpPXItMSxzPWUubGVuZ3RoOysraTxzOylpZihuKGVbaV0sdCkpcmV0dXJuIGk7cmV0dXJuLTF9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gcyhlKSYmaShlKT09YX12YXIgaT1yKDMwKSxzPXIoMjUpLGE9IltvYmplY3QgQXJndW1lbnRzXSI7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscixuLHksZyl7dmFyIGI9bChlKSxFPWwodCkseD1iP2g6dShlKSxBPUU/aDp1KHQpO3g9eD09ZD9tOngsQT1BPT1kP206QTt2YXIgUz14PT1tLF89QT09bSxEPXg9PUE7aWYoRCYmYyhlKSl7aWYoIWModCkpcmV0dXJuITE7Yj0hMCxTPSExfWlmKEQmJiFTKXJldHVybiBnfHwoZz1uZXcgaSksYnx8ZihlKT9zKGUsdCxyLG4seSxnKTphKGUsdCx4LHIsbix5LGcpO2lmKCEociZwKSl7dmFyIEM9UyYmdi5jYWxsKGUsIl9fd3JhcHBlZF9fIiksdz1fJiZ2LmNhbGwodCwiX193cmFwcGVkX18iKTtpZihDfHx3KXt2YXIgUD1DP2UudmFsdWUoKTplLGs9dz90LnZhbHVlKCk6dDtyZXR1cm4gZ3x8KGc9bmV3IGkpLHkoUCxrLHIsbixnKX19cmV0dXJuISFEJiYoZ3x8KGc9bmV3IGkpLG8oZSx0LHIsbix5LGcpKX12YXIgaT1yKDk5KSxzPXIoMjYwKSxhPXIoNTMwKSxvPXIoNTMxKSx1PXIoMjY0KSxsPXIoNiksYz1yKDExMyksZj1yKDE3NykscD0xLGQ9IltvYmplY3QgQXJndW1lbnRzXSIsaD0iW29iamVjdCBBcnJheV0iLG09IltvYmplY3QgT2JqZWN0XSIseT1PYmplY3QucHJvdG90eXBlLHY9eS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLG4pe3ZhciB1PXIubGVuZ3RoLGw9dSxjPSFuO2lmKG51bGw9PWUpcmV0dXJuIWw7Zm9yKGU9T2JqZWN0KGUpO3UtLTspe3ZhciBmPXJbdV07aWYoYyYmZlsyXT9mWzFdIT09ZVtmWzBdXTohKGZbMF1pbiBlKSlyZXR1cm4hMX1mb3IoOysrdTxsOyl7Zj1yW3VdO3ZhciBwPWZbMF0sZD1lW3BdLGg9ZlsxXTtpZihjJiZmWzJdKXtpZih2b2lkIDA9PT1kJiYhKHAgaW4gZSkpcmV0dXJuITF9ZWxzZXt2YXIgbT1uZXcgaTtpZihuKXZhciB5PW4oZCxoLHAsZSx0LG0pO2lmKCEodm9pZCAwPT09eT9zKGgsZCxhfG8sbixtKTp5KSlyZXR1cm4hMX19cmV0dXJuITB9dmFyIGk9cig5OSkscz1yKDI1MSksYT0xLG89MjtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSE9PWV9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4hKCFhKGUpfHxzKGUpKSYmKGkoZSk/aDpsKS50ZXN0KG8oZSkpfXZhciBpPXIoMTc1KSxzPXIoNTQ1KSxhPXIoMTgpLG89cigyNzIpLHU9L1tcXF4kLiorPygpW1xde318XS9nLGw9L15cW29iamVjdCAuKz9Db25zdHJ1Y3RvclxdJC8sYz1GdW5jdGlvbi5wcm90b3R5cGUsZj1PYmplY3QucHJvdG90eXBlLHA9Yy50b1N0cmluZyxkPWYuaGFzT3duUHJvcGVydHksaD1SZWdFeHAoIl4iK3AuY2FsbChkKS5yZXBsYWNlKHUsIlxcJCYiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcKCl8IGZvciAuKz8oPz1cXFxdKS9nLCIkMS4qPyIpKyIkIik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gcyhlKSYmaShlKT09YX12YXIgaT1yKDMwKSxzPXIoMjUpLGE9IltvYmplY3QgUmVnRXhwXSI7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gYShlKSYmcyhlLmxlbmd0aCkmJiEhb1tpKGUpXX12YXIgaT1yKDMwKSxzPXIoMTc2KSxhPXIoMjUpLG89e307b1siW29iamVjdCBGbG9hdDMyQXJyYXldIl09b1siW29iamVjdCBGbG9hdDY0QXJyYXldIl09b1siW29iamVjdCBJbnQ4QXJyYXldIl09b1siW29iamVjdCBJbnQxNkFycmF5XSJdPW9bIltvYmplY3QgSW50MzJBcnJheV0iXT1vWyJbb2JqZWN0IFVpbnQ4QXJyYXldIl09b1siW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0iXT1vWyJbb2JqZWN0IFVpbnQxNkFycmF5XSJdPW9bIltvYmplY3QgVWludDMyQXJyYXldIl09ITAsb1siW29iamVjdCBBcmd1bWVudHNdIl09b1siW29iamVjdCBBcnJheV0iXT1vWyJbb2JqZWN0IEFycmF5QnVmZmVyXSJdPW9bIltvYmplY3QgQm9vbGVhbl0iXT1vWyJbb2JqZWN0IERhdGFWaWV3XSJdPW9bIltvYmplY3QgRGF0ZV0iXT1vWyJbb2JqZWN0IEVycm9yXSJdPW9bIltvYmplY3QgRnVuY3Rpb25dIl09b1siW29iamVjdCBNYXBdIl09b1siW29iamVjdCBOdW1iZXJdIl09b1siW29iamVjdCBPYmplY3RdIl09b1siW29iamVjdCBSZWdFeHBdIl09b1siW29iamVjdCBTZXRdIl09b1siW29iamVjdCBTdHJpbmddIl09b1siW29iamVjdCBXZWFrTWFwXSJdPSExLGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoIWkoZSkpcmV0dXJuIHMoZSk7dmFyIHQ9W107Zm9yKHZhciByIGluIE9iamVjdChlKSlvLmNhbGwoZSxyKSYmImNvbnN0cnVjdG9yIiE9ciYmdC5wdXNoKHIpO3JldHVybiB0fXZhciBpPXIoMTA1KSxzPXIoNTU3KSxhPU9iamVjdC5wcm90b3R5cGUsbz1hLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoIWkoZSkpcmV0dXJuIGEoZSk7dmFyIHQ9cyhlKSxyPVtdO2Zvcih2YXIgbiBpbiBlKSgiY29uc3RydWN0b3IiIT1ufHwhdCYmdS5jYWxsKGUsbikpJiZyLnB1c2gobik7cmV0dXJuIHJ9dmFyIGk9cigxOCkscz1yKDEwNSksYT1yKDU1OCksbz1PYmplY3QucHJvdG90eXBlLHU9by5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXMoZSk7cmV0dXJuIDE9PXQubGVuZ3RoJiZ0WzBdWzJdP2EodFswXVswXSx0WzBdWzFdKTpmdW5jdGlvbihyKXtyZXR1cm4gcj09PWV8fGkocixlLHQpfX12YXIgaT1yKDQ5NSkscz1yKDUzMyksYT1yKDI2OSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBvKGUpJiZ1KHQpP2woYyhlKSx0KTpmdW5jdGlvbihyKXt2YXIgbj1zKHIsZSk7cmV0dXJuIHZvaWQgMD09PW4mJm49PT10P2EocixlKTppKHQsbixmfHApfX12YXIgaT1yKDI1MSkscz1yKDU4MyksYT1yKDU4NCksbz1yKDE3MyksdT1yKDI2NyksbD1yKDI2OSksYz1yKDEwOCksZj0xLHA9MjtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLGMsZil7ZSE9PXQmJmEodCxmdW5jdGlvbihhLGwpe2lmKHUoYSkpZnx8KGY9bmV3IGkpLG8oZSx0LGwscixuLGMsZik7ZWxzZXt2YXIgcD1jP2MoZVtsXSxhLGwrIiIsZSx0LGYpOnZvaWQgMDt2b2lkIDA9PT1wJiYocD1hKSxzKGUsbCxwKX19LGwpfXZhciBpPXIoOTkpLHM9cigyNDcpLGE9cigyNDgpLG89cig1MDUpLHU9cigxOCksbD1yKDQ3KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLG4sZyxiLEUpe3ZhciB4PWVbcl0sQT10W3JdLFM9RS5nZXQoQSk7aWYoUylyZXR1cm4gdm9pZCBpKGUscixTKTt2YXIgXz1iP2IoeCxBLHIrIiIsZSx0LEUpOnZvaWQgMCxEPXZvaWQgMD09PV87aWYoRCl7dmFyIEM9YyhBKSx3PSFDJiZwKEEpLFA9IUMmJiF3JiZ5KEEpO189QSxDfHx3fHxQP2MoeCk/Xz14OmYoeCk/Xz1vKHgpOnc/KEQ9ITEsXz1zKEEsITApKTpQPyhEPSExLF89YShBLCEwKSk6Xz1bXTptKEEpfHxsKEEpPyhfPXgsbCh4KT9fPXYoeCk6KCFoKHgpfHxuJiZkKHgpKSYmKF89dShBKSkpOkQ9ITF9RCYmKEUuc2V0KEEsXyksZyhfLEEsbixiLEUpLEUuZGVsZXRlKEEpKSxpKGUscixfKX12YXIgaT1yKDI0Nykscz1yKDI1NiksYT1yKDI1Nyksbz1yKDE2OCksdT1yKDI2NiksbD1yKDExMiksYz1yKDYpLGY9cig1ODUpLHA9cigxMTMpLGQ9cigxNzUpLGg9cigxOCksbT1yKDI3NSkseT1yKDE3Nyksdj1yKDU5OSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7dmFyIG49LTE7dD1pKHQubGVuZ3RoP3Q6W2NdLHUocykpO3ZhciBmPWEoZSxmdW5jdGlvbihlLHIscyl7cmV0dXJue2NyaXRlcmlhOmkodCxmdW5jdGlvbih0KXtyZXR1cm4gdChlKX0pLGluZGV4Oisrbix2YWx1ZTplfX0pO3JldHVybiBvKGYsZnVuY3Rpb24oZSx0KXtyZXR1cm4gbChlLHQscil9KX12YXIgaT1yKDYwKSxzPXIoNjEpLGE9cigyNTIpLG89cig1MTIpLHU9cigxMDIpLGw9cig1MjIpLGM9cigxMTApO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX19ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGkodCxlKX19dmFyIGk9cigyNDkpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbil7dmFyIGw9bj9hOnMsZj0tMSxwPXQubGVuZ3RoLGQ9ZTtmb3IoZT09PXQmJih0PXUodCkpLHImJihkPWkoZSxvKHIpKSk7KytmPHA7KWZvcih2YXIgaD0wLG09dFtmXSx5PXI/cihtKTptOyhoPWwoZCx5LGgsbikpPi0xOylkIT09ZSYmYy5jYWxsKGQsaCwxKSxjLmNhbGwoZSxoLDEpO3JldHVybiBlfXZhciBpPXIoNjApLHM9cigxNjYpLGE9cig0OTIpLG89cigxMDIpLHU9cigxNjgpLGw9QXJyYXkucHJvdG90eXBlLGM9bC5zcGxpY2U7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXt2YXIgcj0iIjtpZighZXx8dDwxfHx0Pm4pcmV0dXJuIHI7ZG97dCUyJiYocis9ZSksKHQ9aSh0LzIpKSYmKGUrPWUpfXdoaWxlKHQpO3JldHVybiByfXZhciBuPTkwMDcxOTkyNTQ3NDA5OTEsaT1NYXRoLmZsb29yO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTc2KSxpPXIoMjU5KSxzPXIoMTEwKSxhPWk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLCJ0b1N0cmluZyIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOm4odCksd3JpdGFibGU6ITB9KX06cztlLmV4cG9ydHM9YX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3ZhciByPWUubGVuZ3RoO2ZvcihlLnNvcnQodCk7ci0tOyllW3JdPWVbcl0udmFsdWU7cmV0dXJuIGV9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIHI9LTEsbj1BcnJheShlKTsrK3I8ZTspbltyXT10KHIpO3JldHVybiBufWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3ZhciBuPS0xLGY9cyxwPWUubGVuZ3RoLGQ9ITAsaD1bXSxtPWg7aWYocilkPSExLGY9YTtlbHNlIGlmKHA+PWMpe3ZhciB5PXQ/bnVsbDp1KGUpO2lmKHkpcmV0dXJuIGwoeSk7ZD0hMSxmPW8sbT1uZXcgaX1lbHNlIG09dD9bXTpoO2U6Zm9yKDsrK248cDspe3ZhciB2PWVbbl0sZz10P3Qodik6djtpZih2PXJ8fDAhPT12P3Y6MCxkJiZnPT09Zyl7Zm9yKHZhciBiPW0ubGVuZ3RoO2ItLTspaWYobVtiXT09PWcpY29udGludWUgZTt0JiZtLnB1c2goZyksaC5wdXNoKHYpfWVsc2UgZihtLGcscil8fChtIT09aCYmbS5wdXNoKGcpLGgucHVzaCh2KSl9cmV0dXJuIGh9dmFyIGk9cigyNDIpLHM9cig0ODApLGE9cig0ODEpLG89cigyNTQpLHU9cig1MjgpLGw9cigxMDcpLGM9MjAwO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gaSh0LGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9dmFyIGk9cig2MCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPXQ/aShlLmJ1ZmZlcik6ZS5idWZmZXI7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKHIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aCl9dmFyIGk9cigxNjcpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3ZhciBuPXQ/cihhKGUpLG8pOmEoZSk7cmV0dXJuIHMobixpLG5ldyBlLmNvbnN0cnVjdG9yKX12YXIgaT1yKDQ3Nikscz1yKDI0NiksYT1yKDI2OCksbz0xO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PW5ldyBlLmNvbnN0cnVjdG9yKGUuc291cmNlLG4uZXhlYyhlKSk7cmV0dXJuIHQubGFzdEluZGV4PWUubGFzdEluZGV4LHR9dmFyIG49L1x3KiQvO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3ZhciBuPXQ/cihhKGUpLG8pOmEoZSk7cmV0dXJuIHMobixpLG5ldyBlLmNvbnN0cnVjdG9yKX12YXIgaT1yKDQ3Nykscz1yKDI0NiksYT1yKDEwNyksbz0xO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGE/T2JqZWN0KGEuY2FsbChlKSk6e319dmFyIGk9cig0NSkscz1pP2kucHJvdG90eXBlOnZvaWQgMCxhPXM/cy52YWx1ZU9mOnZvaWQgMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYoZSE9PXQpe3ZhciByPXZvaWQgMCE9PWUsbj1udWxsPT09ZSxzPWU9PT1lLGE9aShlKSxvPXZvaWQgMCE9PXQsdT1udWxsPT09dCxsPXQ9PT10LGM9aSh0KTtpZighdSYmIWMmJiFhJiZlPnR8fGEmJm8mJmwmJiF1JiYhY3x8biYmbyYmbHx8IXImJmx8fCFzKXJldHVybiAxO2lmKCFuJiYhYSYmIWMmJmU8dHx8YyYmciYmcyYmIW4mJiFhfHx1JiZyJiZzfHwhbyYmc3x8IWwpcmV0dXJuLTF9cmV0dXJuIDB9dmFyIGk9cig2Mik7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7Zm9yKHZhciBuPS0xLHM9ZS5jcml0ZXJpYSxhPXQuY3JpdGVyaWEsbz1zLmxlbmd0aCx1PXIubGVuZ3RoOysrbjxvOyl7dmFyIGw9aShzW25dLGFbbl0pO2lmKGwpe2lmKG4+PXUpcmV0dXJuIGw7cmV0dXJuIGwqKCJkZXNjIj09cltuXT8tMToxKX19cmV0dXJuIGUuaW5kZXgtdC5pbmRleH12YXIgaT1yKDUyMSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBpKGUscyhlKSx0KX12YXIgaT1yKDMxKSxzPXIoMTcwKTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGkoZSxzKGUpLHQpfXZhciBpPXIoMzEpLHM9cigyNjMpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMTcpLGk9blsiX19jb3JlLWpzX3NoYXJlZF9fIl07ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBmdW5jdGlvbihyLG4pe2lmKG51bGw9PXIpcmV0dXJuIHI7aWYoIWkocikpcmV0dXJuIGUocixuKTtmb3IodmFyIHM9ci5sZW5ndGgsYT10P3M6LTEsbz1PYmplY3Qocik7KHQ/YS0tOisrYTxzKSYmITEhPT1uKG9bYV0sYSxvKTspO3JldHVybiByfX12YXIgaT1yKDI0KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24odCxyLG4pe2Zvcih2YXIgaT0tMSxzPU9iamVjdCh0KSxhPW4odCksbz1hLmxlbmd0aDtvLS07KXt2YXIgdT1hW2U/bzorK2ldO2lmKCExPT09cihzW3VdLHUscykpYnJlYWt9cmV0dXJuIHR9fWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjQxKSxpPXIoNTkxKSxzPXIoMTA3KSxhPW4mJjEvcyhuZXcgbihbLC0wXSkpWzFdPT0xLzA/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBuKGUpfTppO2UuZXhwb3J0cz1hfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbil7cmV0dXJuIHZvaWQgMD09PWV8fGkoZSxzW3JdKSYmIWEuY2FsbChuLHIpP3Q6ZX12YXIgaT1yKDQ2KSxzPU9iamVjdC5wcm90b3R5cGUsYT1zLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbixpLFMsRCl7c3dpdGNoKHIpe2Nhc2UgQTppZihlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8ZS5ieXRlT2Zmc2V0IT10LmJ5dGVPZmZzZXQpcmV0dXJuITE7ZT1lLmJ1ZmZlcix0PXQuYnVmZmVyO2Nhc2UgeDpyZXR1cm4hKGUuYnl0ZUxlbmd0aCE9dC5ieXRlTGVuZ3RofHwhUyhuZXcgcyhlKSxuZXcgcyh0KSkpO2Nhc2UgcDpjYXNlIGQ6Y2FzZSB5OnJldHVybiBhKCtlLCt0KTtjYXNlIGg6cmV0dXJuIGUubmFtZT09dC5uYW1lJiZlLm1lc3NhZ2U9PXQubWVzc2FnZTtjYXNlIHY6Y2FzZSBiOnJldHVybiBlPT10KyIiO2Nhc2UgbTp2YXIgQz11O2Nhc2UgZzp2YXIgdz1uJmM7aWYoQ3x8KEM9bCksZS5zaXplIT10LnNpemUmJiF3KXJldHVybiExO3ZhciBQPUQuZ2V0KGUpO2lmKFApcmV0dXJuIFA9PXQ7bnw9ZixELnNldChlLHQpO3ZhciBrPW8oQyhlKSxDKHQpLG4saSxTLEQpO3JldHVybiBELmRlbGV0ZShlKSxrO2Nhc2UgRTppZihfKXJldHVybiBfLmNhbGwoZSk9PV8uY2FsbCh0KX1yZXR1cm4hMX12YXIgaT1yKDQ1KSxzPXIoMjQzKSxhPXIoNDYpLG89cigyNjApLHU9cigyNjgpLGw9cigxMDcpLGM9MSxmPTIscD0iW29iamVjdCBCb29sZWFuXSIsZD0iW29iamVjdCBEYXRlXSIsaD0iW29iamVjdCBFcnJvcl0iLG09IltvYmplY3QgTWFwXSIseT0iW29iamVjdCBOdW1iZXJdIix2PSJbb2JqZWN0IFJlZ0V4cF0iLGc9IltvYmplY3QgU2V0XSIsYj0iW29iamVjdCBTdHJpbmddIixFPSJbb2JqZWN0IFN5bWJvbF0iLHg9IltvYmplY3QgQXJyYXlCdWZmZXJdIixBPSJbb2JqZWN0IERhdGFWaWV3XSIsUz1pP2kucHJvdG90eXBlOnZvaWQgMCxfPVM/Uy52YWx1ZU9mOnZvaWQgMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCxyLG4sYSx1KXt2YXIgbD1yJnMsYz1pKGUpLGY9Yy5sZW5ndGg7aWYoZiE9aSh0KS5sZW5ndGgmJiFsKXJldHVybiExO2Zvcih2YXIgcD1mO3AtLTspe3ZhciBkPWNbcF07aWYoIShsP2QgaW4gdDpvLmNhbGwodCxkKSkpcmV0dXJuITF9dmFyIGg9dS5nZXQoZSk7aWYoaCYmdS5nZXQodCkpcmV0dXJuIGg9PXQ7dmFyIG09ITA7dS5zZXQoZSx0KSx1LnNldCh0LGUpO2Zvcih2YXIgeT1sOysrcDxmOyl7ZD1jW3BdO3ZhciB2PWVbZF0sZz10W2RdO2lmKG4pdmFyIGI9bD9uKGcsdixkLHQsZSx1KTpuKHYsZyxkLGUsdCx1KTtpZighKHZvaWQgMD09PWI/dj09PWd8fGEodixnLHIsbix1KTpiKSl7bT0hMTticmVha315fHwoeT0iY29uc3RydWN0b3IiPT1kKX1pZihtJiYheSl7dmFyIEU9ZS5jb25zdHJ1Y3Rvcix4PXQuY29uc3RydWN0b3I7RSE9eCYmImNvbnN0cnVjdG9yImluIGUmJiJjb25zdHJ1Y3RvciJpbiB0JiYhKCJmdW5jdGlvbiI9PXR5cGVvZiBFJiZFIGluc3RhbmNlb2YgRSYmImZ1bmN0aW9uIj09dHlwZW9mIHgmJnggaW5zdGFuY2VvZiB4KSYmKG09ITEpfXJldHVybiB1LmRlbGV0ZShlKSx1LmRlbGV0ZSh0KSxtfXZhciBpPXIoMjYyKSxzPTEsYT1PYmplY3QucHJvdG90eXBlLG89YS5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBpKGUsYSxzKX12YXIgaT1yKDI1MCkscz1yKDI2MyksYT1yKDQ3KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdD1zKGUpLHI9dC5sZW5ndGg7ci0tOyl7dmFyIG49dFtyXSxhPWVbbl07dFtyXT1bbixhLGkoYSldfXJldHVybiB0fXZhciBpPXIoMjY3KSxzPXIoMzIpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9YS5jYWxsKGUsdSkscj1lW3VdO3RyeXtlW3VdPXZvaWQgMDt2YXIgbj0hMH1jYXRjaChlKXt9dmFyIGk9by5jYWxsKGUpO3JldHVybiBuJiYodD9lW3VdPXI6ZGVsZXRlIGVbdV0pLGl9dmFyIGk9cig0NSkscz1PYmplY3QucHJvdG90eXBlLGE9cy5oYXNPd25Qcm9wZXJ0eSxvPXMudG9TdHJpbmcsdT1pP2kudG9TdHJpbmdUYWc6dm9pZCAwO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsdCl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbigpe3RoaXMuX19kYXRhX189aT9pKG51bGwpOnt9LHRoaXMuc2l6ZT0wfXZhciBpPXIoMTA2KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt2YXIgdD10aGlzLmhhcyhlKSYmZGVsZXRlIHRoaXMuX19kYXRhX19bZV07cmV0dXJuIHRoaXMuc2l6ZS09dD8xOjAsdH1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PXRoaXMuX19kYXRhX187aWYoaSl7dmFyIHI9dFtlXTtyZXR1cm4gcj09PXM/dm9pZCAwOnJ9cmV0dXJuIG8uY2FsbCh0LGUpP3RbZV06dm9pZCAwfXZhciBpPXIoMTA2KSxzPSJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fIixhPU9iamVjdC5wcm90b3R5cGUsbz1hLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiCjtmdW5jdGlvbiBuKGUpe3ZhciB0PXRoaXMuX19kYXRhX187cmV0dXJuIGk/dm9pZCAwIT09dFtlXTphLmNhbGwodCxlKX12YXIgaT1yKDEwNikscz1PYmplY3QucHJvdG90eXBlLGE9cy5oYXNPd25Qcm9wZXJ0eTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyhlKT8wOjEscltlXT1pJiZ2b2lkIDA9PT10P3M6dCx0aGlzfXZhciBpPXIoMTA2KSxzPSJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fIjtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt2YXIgdD1lLmxlbmd0aCxyPWUuY29uc3RydWN0b3IodCk7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgZVswXSYmaS5jYWxsKGUsImluZGV4IikmJihyLmluZGV4PWUuaW5kZXgsci5pbnB1dD1lLmlucHV0KSxyfXZhciBuPU9iamVjdC5wcm90b3R5cGUsaT1uLmhhc093blByb3BlcnR5O2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbil7dmFyIEY9ZS5jb25zdHJ1Y3Rvcjtzd2l0Y2godCl7Y2FzZSBiOnJldHVybiBpKGUpO2Nhc2UgZjpjYXNlIHA6cmV0dXJuIG5ldyBGKCtlKTtjYXNlIEU6cmV0dXJuIHMoZSxuKTtjYXNlIHg6Y2FzZSBBOmNhc2UgUzpjYXNlIF86Y2FzZSBEOmNhc2UgQzpjYXNlIHc6Y2FzZSBQOmNhc2UgazpyZXR1cm4gYyhlLG4pO2Nhc2UgZDpyZXR1cm4gYShlLG4scik7Y2FzZSBoOmNhc2UgdjpyZXR1cm4gbmV3IEYoZSk7Y2FzZSBtOnJldHVybiBvKGUpO2Nhc2UgeTpyZXR1cm4gdShlLG4scik7Y2FzZSBnOnJldHVybiBsKGUpfX12YXIgaT1yKDE2Nykscz1yKDUxNiksYT1yKDUxNyksbz1yKDUxOCksdT1yKDUxOSksbD1yKDUyMCksYz1yKDI1NyksZj0iW29iamVjdCBCb29sZWFuXSIscD0iW29iamVjdCBEYXRlXSIsZD0iW29iamVjdCBNYXBdIixoPSJbb2JqZWN0IE51bWJlcl0iLG09IltvYmplY3QgUmVnRXhwXSIseT0iW29iamVjdCBTZXRdIix2PSJbb2JqZWN0IFN0cmluZ10iLGc9IltvYmplY3QgU3ltYm9sXSIsYj0iW29iamVjdCBBcnJheUJ1ZmZlcl0iLEU9IltvYmplY3QgRGF0YVZpZXddIix4PSJbb2JqZWN0IEZsb2F0MzJBcnJheV0iLEE9IltvYmplY3QgRmxvYXQ2NEFycmF5XSIsUz0iW29iamVjdCBJbnQ4QXJyYXldIixfPSJbb2JqZWN0IEludDE2QXJyYXldIixEPSJbb2JqZWN0IEludDMyQXJyYXldIixDPSJbb2JqZWN0IFVpbnQ4QXJyYXldIix3PSJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSIsUD0iW29iamVjdCBVaW50MTZBcnJheV0iLGs9IltvYmplY3QgVWludDMyQXJyYXldIjtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBhKGUpfHxzKGUpfHwhIShvJiZlJiZlW29dKX12YXIgaT1yKDQ1KSxzPXIoMTEyKSxhPXIoNiksbz1pP2kuaXNDb25jYXRTcHJlYWRhYmxlOnZvaWQgMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXt2YXIgdD12b2lkIDA9PT1lPyJ1bmRlZmluZWQiOm4oZSk7cmV0dXJuInN0cmluZyI9PXR8fCJudW1iZXIiPT10fHwic3ltYm9sIj09dHx8ImJvb2xlYW4iPT10PyJfX3Byb3RvX18iIT09ZTpudWxsPT09ZX12YXIgbj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX07ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4hIXMmJnMgaW4gZX12YXIgaT1yKDUyNSkscz1mdW5jdGlvbigpe3ZhciBlPS9bXi5dKyQvLmV4ZWMoaSYmaS5rZXlzJiZpLmtleXMuSUVfUFJPVE98fCIiKTtyZXR1cm4gZT8iU3ltYm9sKHNyYylfMS4iK2U6IiJ9KCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXt0aGlzLl9fZGF0YV9fPVtdLHRoaXMuc2l6ZT0wfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxyPWkodCxlKTtyZXR1cm4hKHI8MCkmJihyPT10Lmxlbmd0aC0xP3QucG9wKCk6YS5jYWxsKHQsciwxKSwtLXRoaXMuc2l6ZSwhMCl9dmFyIGk9cigxMDApLHM9QXJyYXkucHJvdG90eXBlLGE9cy5zcGxpY2U7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLHI9aSh0LGUpO3JldHVybiByPDA/dm9pZCAwOnRbcl1bMV19dmFyIGk9cigxMDApO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGkodGhpcy5fX2RhdGFfXyxlKT4tMX12YXIgaT1yKDEwMCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPXRoaXMuX19kYXRhX18sbj1pKHIsZSk7cmV0dXJuIG48MD8oKyt0aGlzLnNpemUsci5wdXNoKFtlLHRdKSk6cltuXVsxXT10LHRoaXN9dmFyIGk9cigxMDApO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBpLG1hcDpuZXcoYXx8cyksc3RyaW5nOm5ldyBpfX12YXIgaT1yKDQ3Mykscz1yKDk4KSxhPXIoMTU5KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PWkodGhpcyxlKS5kZWxldGUoZSk7cmV0dXJuIHRoaXMuc2l6ZS09dD8xOjAsdH12YXIgaT1yKDEwNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaSh0aGlzLGUpLmdldChlKX12YXIgaT1yKDEwNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gaSh0aGlzLGUpLmhhcyhlKX12YXIgaT1yKDEwNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWkodGhpcyxlKSxuPXIuc2l6ZTtyZXR1cm4gci5zZXQoZSx0KSx0aGlzLnNpemUrPXIuc2l6ZT09bj8wOjEsdGhpc312YXIgaT1yKDEwNCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD1pKGUsZnVuY3Rpb24oZSl7cmV0dXJuIHIuc2l6ZT09PXMmJnIuY2xlYXIoKSxlfSkscj10LmNhY2hlO3JldHVybiB0fXZhciBpPXIoNTg5KSxzPTUwMDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI3MSksaT1uKE9iamVjdC5rZXlzLE9iamVjdCk7ZS5leHBvcnRzPWl9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9W107aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gT2JqZWN0KGUpKXQucHVzaChyKTtyZXR1cm4gdH1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gaS5jYWxsKGUpfXZhciBuPU9iamVjdC5wcm90b3R5cGUsaT1uLnRvU3RyaW5nO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3JldHVybiB0PXModm9pZCAwPT09dD9lLmxlbmd0aC0xOnQsMCksZnVuY3Rpb24oKXtmb3IodmFyIG49YXJndW1lbnRzLGE9LTEsbz1zKG4ubGVuZ3RoLXQsMCksdT1BcnJheShvKTsrK2E8bzspdVthXT1uW3QrYV07YT0tMTtmb3IodmFyIGw9QXJyYXkodCsxKTsrK2E8dDspbFthXT1uW2FdO3JldHVybiBsW3RdPXIodSksaShlLHRoaXMsbCl9fXZhciBpPXIoMjQ0KSxzPU1hdGgubWF4O2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldChlLG4pLHRoaXN9dmFyIG49Il9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX18iO2UuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDUxMSksaT1yKDU2NCkscz1pKG4pO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3ZhciB0PTAscj0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBhPXMoKSxvPWktKGEtcik7aWYocj1hLG8+MCl7aWYoKyt0Pj1uKXJldHVybiBhcmd1bWVudHNbMF19ZWxzZSB0PTA7cmV0dXJuIGUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9fXZhciBuPTgwMCxpPTE2LHM9RGF0ZS5ub3c7ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbigpe3RoaXMuX19kYXRhX189bmV3IGksdGhpcy5zaXplPTB9dmFyIGk9cig5OCk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxyPXQuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemU9dC5zaXplLHJ9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGUpfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX1lLmV4cG9ydHM9cn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7dmFyIHI9dGhpcy5fX2RhdGFfXztpZihyIGluc3RhbmNlb2YgaSl7dmFyIG49ci5fX2RhdGFfXztpZighc3x8bi5sZW5ndGg8by0xKXJldHVybiBuLnB1c2goW2UsdF0pLHRoaXMuc2l6ZT0rK3Iuc2l6ZSx0aGlzO3I9dGhpcy5fX2RhdGFfXz1uZXcgYShuKX1yZXR1cm4gci5zZXQoZSx0KSx0aGlzLnNpemU9ci5zaXplLHRoaXN9dmFyIGk9cig5OCkscz1yKDE1OSksYT1yKDE2MCksbz0yMDA7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoZSx0LHIpe2Zvcih2YXIgbj1yLTEsaT1lLmxlbmd0aDsrK248aTspaWYoZVtuXT09PXQpcmV0dXJuIG47cmV0dXJuLTF9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig1NTYpLGk9L15cLi8scz0vW14uW1xdXSt8XFsoPzooLT9cZCsoPzpcLlxkKyk/KXwoWyInXSkoKD86KD8hXDIpW15cXF18XFwuKSo/KVwyKVxdfCg/PSg/OlwufFxbXF0pKD86XC58XFtcXXwkKSkvZyxhPS9cXChcXCk/L2csbz1uKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBpLnRlc3QoZSkmJnQucHVzaCgiIiksZS5yZXBsYWNlKHMsZnVuY3Rpb24oZSxyLG4saSl7dC5wdXNoKG4/aS5yZXBsYWNlKGEsIiQxIik6cnx8ZSl9KSx0fSk7ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cigzMSksaT1yKDEwMykscz1yKDQ3KSxhPWkoZnVuY3Rpb24oZSx0KXtuKHQscyh0KSxlKX0pO2UuZXhwb3J0cz1hfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMzEpLGk9cigxMDMpLHM9cig0NyksYT1pKGZ1bmN0aW9uKGUsdCxyLGkpe24odCxzKHQpLGUsaSl9KTtlLmV4cG9ydHM9YX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBpKGUsc3xhKX12YXIgaT1yKDE2NCkscz0xLGE9NDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIHQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dDp2b2lkIDAsaShlLHN8YSx0KX12YXIgaT1yKDE2NCkscz0xLGE9NDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT1pKGUpLGUmJmEudGVzdChlKT9lLnJlcGxhY2UocywiXFwkJiIpOmV9dmFyIGk9cigxMTQpLHM9L1tcXF4kLiorPygpW1xde318XS9nLGE9UmVnRXhwKHMuc291cmNlKTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9cig1NzIpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoMjU4KSxpPXIoNTgwKSxzPW4oaSk7ZS5leHBvcnRzPXN9LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7dmFyIG49bnVsbD09ZT8wOmUubGVuZ3RoO2lmKCFuKXJldHVybi0xO3ZhciB1PW51bGw9PXI/MDphKHIpO3JldHVybiB1PDAmJih1PW8obit1LDApKSxpKGUscyh0LDMpLHUpfXZhciBpPXIoMTY1KSxzPXIoNjEpLGE9cig0OCksbz1NYXRoLm1heDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI1OCksaT1yKDU4Mikscz1uKGkpO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIpe3ZhciBuPW51bGw9PWU/MDplLmxlbmd0aDtpZighbilyZXR1cm4tMTt2YXIgbD1uLTE7cmV0dXJuIHZvaWQgMCE9PXImJihsPWEociksbD1yPDA/byhuK2wsMCk6dShsLG4tMSkpLGkoZSxzKHQsMyksbCwhMCl9dmFyIGk9cigxNjUpLHM9cig2MSksYT1yKDQ4KSxvPU1hdGgubWF4LHU9TWF0aC5taW47ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7dmFyIG49bnVsbD09ZT92b2lkIDA6aShlLHQpO3JldHVybiB2b2lkIDA9PT1uP3I6bn12YXIgaT1yKDI0OSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3JldHVybiBudWxsIT1lJiZzKGUsdCxpKX12YXIgaT1yKDQ5MSkscz1yKDI2NSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gcyhlKSYmaShlKX12YXIgaT1yKDI0KSxzPXIoMjUpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZlPT1pKGUpfXZhciBpPXIoNDgpO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwhcyhlKSYmYShlKSYmaShlKT09b312YXIgaT1yKDMwKSxzPXIoNiksYT1yKDI1KSxvPSJbb2JqZWN0IFN0cmluZ10iO2UuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4obyhlKT9pOmEpKGUscyh0LDMpKX12YXIgaT1yKDYwKSxzPXIoNjEpLGE9cigyNTIpLG89cig2KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIGV8fG51bGwhPXQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3Iocyk7dmFyIHI9ZnVuY3Rpb24gcigpe3ZhciBuPWFyZ3VtZW50cyxpPXQ/dC5hcHBseSh0aGlzLG4pOm5bMF0scz1yLmNhY2hlO2lmKHMuaGFzKGkpKXJldHVybiBzLmdldChpKTt2YXIgYT1lLmFwcGx5KHRoaXMsbik7cmV0dXJuIHIuY2FjaGU9cy5zZXQoaSxhKXx8cyxhfTtyZXR1cm4gci5jYWNoZT1uZXcobi5DYWNoZXx8aSkscn12YXIgaT1yKDE2MCkscz0iRXhwZWN0ZWQgYSBmdW5jdGlvbiI7bi5DYWNoZT1pLGUuZXhwb3J0cz1ufSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNTA0KSxpPXIoMTAzKSxzPWkoZnVuY3Rpb24oZSx0LHIsaSl7bihlLHQscixpKX0pO2UuZXhwb3J0cz1zfSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKCl7fWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGEoZSk/aShvKGUpKTpzKGUpfXZhciBpPXIoNTA3KSxzPXIoNTA4KSxhPXIoMTczKSxvPXIoMTA4KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUmJmUubGVuZ3RoJiZ0JiZ0Lmxlbmd0aD9pKGUsdCk6ZX12YXIgaT1yKDUwOSk7ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49cig0ODgpLGk9cig1MDYpLHM9cigxMDEpLGE9cigxNzIpLG89cyhmdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJuW107dmFyIHI9dC5sZW5ndGg7cmV0dXJuIHI+MSYmYShlLHRbMF0sdFsxXSk/dD1bXTpyPjImJmEodFswXSx0WzFdLHRbMl0pJiYodD1bdFswXV0pLGkoZSxuKHQsMSksW10pfSk7ZS5leHBvcnRzPW99LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQscil7cmV0dXJuIGU9byhlKSxyPW51bGw9PXI/MDppKGEociksMCxlLmxlbmd0aCksdD1zKHQpLGUuc2xpY2UocixyK3QubGVuZ3RoKT09dH12YXIgaT1yKDQ4NSkscz1yKDI1MyksYT1yKDQ4KSxvPXIoMTE0KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe3JldHVybiExfWUuZXhwb3J0cz1yfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoIWUpcmV0dXJuIDA9PT1lP2U6MDtpZigoZT1pKGUpKT09PXN8fGU9PT0tcyl7cmV0dXJuKGU8MD8tMToxKSphfXJldHVybiBlPT09ZT9lOjB9dmFyIGk9cig1OTgpLHM9MS8wLGE9MS43OTc2OTMxMzQ4NjIzMTU3ZTMwODtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKCJudW1iZXIiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihzKGUpKXJldHVybiBhO2lmKGkoZSkpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPWkodCk/dCsiIjp0fWlmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZShvLCIiKTt2YXIgcj1sLnRlc3QoZSk7cmV0dXJuIHJ8fGMudGVzdChlKT9mKGUuc2xpY2UoMikscj8yOjgpOnUudGVzdChlKT9hOitlfXZhciBpPXIoMTgpLHM9cig2MiksYT1OYU4sbz0vXlxzK3xccyskL2csdT0vXlstK10weFswLTlhLWZdKyQvaSxsPS9eMGJbMDFdKyQvaSxjPS9eMG9bMC03XSskL2ksZj1wYXJzZUludDtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBpKGUscyhlKSl9dmFyIGk9cigzMSkscz1yKDQ3KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLmxlbmd0aD9pKGUpOltdfXZhciBpPXIoNTE0KTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUsdCl7cmV0dXJuIHQ9dHx8e30sZnVuY3Rpb24ocixuLGkpe3JldHVybiBzKHIsZSx0KX19ZnVuY3Rpb24gaShlLHQpe2U9ZXx8e30sdD10fHx7fTt2YXIgcj17fTtyZXR1cm4gT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihlKXtyW2VdPXRbZV19KSxPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JbdF09ZVt0XX0pLHJ9ZnVuY3Rpb24gcyhlLHQscil7aWYoInN0cmluZyIhPXR5cGVvZiB0KXRocm93IG5ldyBUeXBlRXJyb3IoImdsb2IgcGF0dGVybiBzdHJpbmcgcmVxdWlyZWQiKTtyZXR1cm4gcnx8KHI9e30pLCEoIXIubm9jb21tZW50JiYiIyI9PT10LmNoYXJBdCgwKSkmJigiIj09PXQudHJpbSgpPyIiPT09ZTpuZXcgYSh0LHIpLm1hdGNoKGUpKX1mdW5jdGlvbiBhKGUsdCl7aWYoISh0aGlzIGluc3RhbmNlb2YgYSkpcmV0dXJuIG5ldyBhKGUsdCk7aWYoInN0cmluZyIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoImdsb2IgcGF0dGVybiBzdHJpbmcgcmVxdWlyZWQiKTt0fHwodD17fSksZT1lLnRyaW0oKSwiLyIhPT1tLnNlcCYmKGU9ZS5zcGxpdChtLnNlcCkuam9pbigiLyIpKSx0aGlzLm9wdGlvbnM9dCx0aGlzLnNldD1bXSx0aGlzLnBhdHRlcm49ZSx0aGlzLnJlZ2V4cD1udWxsLHRoaXMubmVnYXRlPSExLHRoaXMuY29tbWVudD0hMSx0aGlzLmVtcHR5PSExLHRoaXMubWFrZSgpfWZ1bmN0aW9uIG8oKXtpZighdGhpcy5fbWFkZSl7dmFyIGU9dGhpcy5wYXR0ZXJuLHQ9dGhpcy5vcHRpb25zO2lmKCF0Lm5vY29tbWVudCYmIiMiPT09ZS5jaGFyQXQoMCkpcmV0dXJuIHZvaWQodGhpcy5jb21tZW50PSEwKTtpZighZSlyZXR1cm4gdm9pZCh0aGlzLmVtcHR5PSEwKTt0aGlzLnBhcnNlTmVnYXRlKCk7dmFyIHI9dGhpcy5nbG9iU2V0PXRoaXMuYnJhY2VFeHBhbmQoKTt0LmRlYnVnJiYodGhpcy5kZWJ1Zz1jb25zb2xlLmVycm9yKSx0aGlzLmRlYnVnKHRoaXMucGF0dGVybixyKSxyPXRoaXMuZ2xvYlBhcnRzPXIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KF8pfSksdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4scikscj1yLm1hcChmdW5jdGlvbihlLHQscil7cmV0dXJuIGUubWFwKHRoaXMucGFyc2UsdGhpcyl9LHRoaXMpLHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLHIpLHI9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoITEpfSksdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sciksdGhpcy5zZXQ9cn19ZnVuY3Rpb24gdSgpe3ZhciBlPXRoaXMucGF0dGVybix0PSExLHI9dGhpcy5vcHRpb25zLG49MDtpZighci5ub25lZ2F0ZSl7Zm9yKHZhciBpPTAscz1lLmxlbmd0aDtpPHMmJiIhIj09PWUuY2hhckF0KGkpO2krKyl0PSF0LG4rKztuJiYodGhpcy5wYXR0ZXJuPWUuc3Vic3RyKG4pKSx0aGlzLm5lZ2F0ZT10fX1mdW5jdGlvbiBsKGUsdCl7aWYodHx8KHQ9dGhpcyBpbnN0YW5jZW9mIGE/dGhpcy5vcHRpb25zOnt9KSx2b2lkIDA9PT0oZT12b2lkIDA9PT1lP3RoaXMucGF0dGVybjplKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJ1bmRlZmluZWQgcGF0dGVybiIpO3JldHVybiB0Lm5vYnJhY2V8fCFlLm1hdGNoKC9cey4qXH0vKT9bZV06dihlKX1mdW5jdGlvbiBjKGUsdCl7ZnVuY3Rpb24gcigpe2lmKGkpe3N3aXRjaChpKXtjYXNlIioiOmErPUUsbz0hMDticmVhaztjYXNlIj8iOmErPWIsbz0hMDticmVhaztkZWZhdWx0OmErPSJcXCIraX12LmRlYnVnKCJjbGVhclN0YXRlQ2hhciAlaiAlaiIsaSxhKSxpPSExfX1pZihlLmxlbmd0aD42NTUzNil0aHJvdyBuZXcgVHlwZUVycm9yKCJwYXR0ZXJuIGlzIHRvbyBsb25nIik7dmFyIG49dGhpcy5vcHRpb25zO2lmKCFuLm5vZ2xvYnN0YXImJiIqKiI9PT1lKXJldHVybiB5O2lmKCIiPT09ZSlyZXR1cm4iIjtmb3IodmFyIGkscyxhPSIiLG89ISFuLm5vY2FzZSx1PSExLGw9W10sYz1bXSxmPSExLHA9LTEsaD0tMSxtPSIuIj09PWUuY2hhckF0KDApPyIiOm4uZG90PyIoPyEoPzpefFxcLylcXC57MSwyfSg/OiR8XFwvKSkiOiIoPyFcXC4pIix2PXRoaXMseD0wLEE9ZS5sZW5ndGg7eDxBJiYocz1lLmNoYXJBdCh4KSk7eCsrKWlmKHRoaXMuZGVidWcoIiVzXHQlcyAlcyAlaiIsZSx4LGEscyksdSYmU1tzXSlhKz0iXFwiK3MsdT0hMTtlbHNlIHN3aXRjaChzKXtjYXNlIi8iOnJldHVybiExO2Nhc2UiXFwiOnIoKSx1PSEwO2NvbnRpbnVlO2Nhc2UiPyI6Y2FzZSIqIjpjYXNlIisiOmNhc2UiQCI6Y2FzZSIhIjppZih0aGlzLmRlYnVnKCIlc1x0JXMgJXMgJWogPC0tIHN0YXRlQ2hhciIsZSx4LGEscyksZil7dGhpcy5kZWJ1ZygiICBpbiBjbGFzcyIpLCIhIj09PXMmJng9PT1oKzEmJihzPSJeIiksYSs9cztjb250aW51ZX12LmRlYnVnKCJjYWxsIGNsZWFyU3RhdGVDaGFyICVqIixpKSxyKCksaT1zLG4ubm9leHQmJnIoKTtjb250aW51ZTtjYXNlIigiOmlmKGYpe2ErPSIoIjtjb250aW51ZX1pZighaSl7YSs9IlxcKCI7Y29udGludWV9bC5wdXNoKHt0eXBlOmksc3RhcnQ6eC0xLHJlU3RhcnQ6YS5sZW5ndGgsb3BlbjpnW2ldLm9wZW4sY2xvc2U6Z1tpXS5jbG9zZX0pLGErPSIhIj09PWk/Iig/Oig/ISg/OiI6Iig/OiIsdGhpcy5kZWJ1ZygicGxUeXBlICVqICVqIixpLGEpLGk9ITE7Y29udGludWU7Y2FzZSIpIjppZihmfHwhbC5sZW5ndGgpe2ErPSJcXCkiO2NvbnRpbnVlfXIoKSxvPSEwO3ZhciBfPWwucG9wKCk7YSs9Xy5jbG9zZSwiISI9PT1fLnR5cGUmJmMucHVzaChfKSxfLnJlRW5kPWEubGVuZ3RoO2NvbnRpbnVlO2Nhc2UifCI6aWYoZnx8IWwubGVuZ3RofHx1KXthKz0iXFx8Iix1PSExO2NvbnRpbnVlfXIoKSxhKz0ifCI7Y29udGludWU7Y2FzZSJbIjppZihyKCksZil7YSs9IlxcIitzO2NvbnRpbnVlfWY9ITAsaD14LHA9YS5sZW5ndGgsYSs9cztjb250aW51ZTtjYXNlIl0iOmlmKHg9PT1oKzF8fCFmKXthKz0iXFwiK3MsdT0hMTtjb250aW51ZX1pZihmKXt2YXIgQz1lLnN1YnN0cmluZyhoKzEseCk7dHJ5e1JlZ0V4cCgiWyIrQysiXSIpfWNhdGNoKGUpe3ZhciB3PXRoaXMucGFyc2UoQyxEKTthPWEuc3Vic3RyKDAscCkrIlxcWyIrd1swXSsiXFxdIixvPW98fHdbMV0sZj0hMTtjb250aW51ZX19bz0hMCxmPSExLGErPXM7Y29udGludWU7ZGVmYXVsdDpyKCksdT91PSExOiFTW3NdfHwiXiI9PT1zJiZmfHwoYSs9IlxcIiksYSs9c31mb3IoZiYmKEM9ZS5zdWJzdHIoaCsxKSx3PXRoaXMucGFyc2UoQyxEKSxhPWEuc3Vic3RyKDAscCkrIlxcWyIrd1swXSxvPW98fHdbMV0pLF89bC5wb3AoKTtfO189bC5wb3AoKSl7dmFyIFA9YS5zbGljZShfLnJlU3RhcnQrXy5vcGVuLmxlbmd0aCk7dGhpcy5kZWJ1Zygic2V0dGluZyB0YWlsIixhLF8pLFA9UC5yZXBsYWNlKC8oKD86XFx7Mn0pezAsNjR9KShcXD8pXHwvZyxmdW5jdGlvbihlLHQscil7cmV0dXJuIHJ8fChyPSJcXCIpLHQrdCtyKyJ8In0pLHRoaXMuZGVidWcoInRhaWw9JWpcbiAgICVzIixQLFAsXyxhKTt2YXIgaz0iKiI9PT1fLnR5cGU/RToiPyI9PT1fLnR5cGU/YjoiXFwiK18udHlwZTtvPSEwLGE9YS5zbGljZSgwLF8ucmVTdGFydCkraysiXFwoIitQfXIoKSx1JiYoYSs9IlxcXFwiKTt2YXIgRj0hMTtzd2l0Y2goYS5jaGFyQXQoMCkpe2Nhc2UiLiI6Y2FzZSJbIjpjYXNlIigiOkY9ITB9Zm9yKHZhciBUPWMubGVuZ3RoLTE7VD4tMTtULS0pe3ZhciBPPWNbVF0sQj1hLnNsaWNlKDAsTy5yZVN0YXJ0KSxSPWEuc2xpY2UoTy5yZVN0YXJ0LE8ucmVFbmQtOCksST1hLnNsaWNlKE8ucmVFbmQtOCxPLnJlRW5kKSxNPWEuc2xpY2UoTy5yZUVuZCk7SSs9TTt2YXIgTj1CLnNwbGl0KCIoIikubGVuZ3RoLTEsTD1NO2Zvcih4PTA7eDxOO3grKylMPUwucmVwbGFjZSgvXClbKyo/XT8vLCIiKTtNPUw7dmFyIGo9IiI7IiI9PT1NJiZ0IT09RCYmKGo9IiQiKTthPUIrUitNK2orSX1pZigiIiE9PWEmJm8mJihhPSIoPz0uKSIrYSksRiYmKGE9bSthKSx0PT09RClyZXR1cm5bYSxvXTtpZighbylyZXR1cm4gZChlKTt2YXIgVT1uLm5vY2FzZT8iaSI6IiI7dHJ5e3ZhciBWPW5ldyBSZWdFeHAoIl4iK2ErIiQiLFUpfWNhdGNoKGUpe3JldHVybiBuZXcgUmVnRXhwKCIkLiIpfXJldHVybiBWLl9nbG9iPWUsVi5fc3JjPWEsVn1mdW5jdGlvbiBmKCl7aWYodGhpcy5yZWdleHB8fCExPT09dGhpcy5yZWdleHApcmV0dXJuIHRoaXMucmVnZXhwO3ZhciBlPXRoaXMuc2V0O2lmKCFlLmxlbmd0aClyZXR1cm4gdGhpcy5yZWdleHA9ITEsdGhpcy5yZWdleHA7dmFyIHQ9dGhpcy5vcHRpb25zLHI9dC5ub2dsb2JzdGFyP0U6dC5kb3Q/eDpBLG49dC5ub2Nhc2U/ImkiOiIiLGk9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09eT9yOiJzdHJpbmciPT10eXBlb2YgZT9oKGUpOmUuX3NyY30pLmpvaW4oIlxcLyIpfSkuam9pbigifCIpO2k9Il4oPzoiK2krIikkIix0aGlzLm5lZ2F0ZSYmKGk9Il4oPyEiK2krIikuKiQiKTt0cnl7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChpLG4pfWNhdGNoKGUpe3RoaXMucmVnZXhwPSExfXJldHVybiB0aGlzLnJlZ2V4cH1mdW5jdGlvbiBwKGUsdCl7aWYodGhpcy5kZWJ1ZygibWF0Y2giLGUsdGhpcy5wYXR0ZXJuKSx0aGlzLmNvbW1lbnQpcmV0dXJuITE7aWYodGhpcy5lbXB0eSlyZXR1cm4iIj09PWU7aWYoIi8iPT09ZSYmdClyZXR1cm4hMDt2YXIgcj10aGlzLm9wdGlvbnM7Ii8iIT09bS5zZXAmJihlPWUuc3BsaXQobS5zZXApLmpvaW4oIi8iKSksZT1lLnNwbGl0KF8pLHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCJzcGxpdCIsZSk7dmFyIG49dGhpcy5zZXQ7dGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sInNldCIsbik7dmFyIGkscztmb3Iocz1lLmxlbmd0aC0xO3M+PTAmJiEoaT1lW3NdKTtzLS0pO2ZvcihzPTA7czxuLmxlbmd0aDtzKyspe3ZhciBhPW5bc10sbz1lO3IubWF0Y2hCYXNlJiYxPT09YS5sZW5ndGgmJihvPVtpXSk7aWYodGhpcy5tYXRjaE9uZShvLGEsdCkpcmV0dXJuISFyLmZsaXBOZWdhdGV8fCF0aGlzLm5lZ2F0ZX1yZXR1cm4hci5mbGlwTmVnYXRlJiZ0aGlzLm5lZ2F0ZX1mdW5jdGlvbiBkKGUpe3JldHVybiBlLnJlcGxhY2UoL1xcKC4pL2csIiQxIil9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5yZXBsYWNlKC9bLVtcXXt9KCkqKz8uLFxcXiR8I1xzXS9nLCJcXCQmIil9ZS5leHBvcnRzPXMscy5NaW5pbWF0Y2g9YTt2YXIgbT17c2VwOiIvIn07dHJ5e209cigxOSl9Y2F0Y2goZSl7fXZhciB5PXMuR0xPQlNUQVI9YS5HTE9CU1RBUj17fSx2PXIoMzk4KSxnPXsiISI6e29wZW46Iig/Oig/ISg/OiIsY2xvc2U6IikpW14vXSo/KSJ9LCI/Ijp7b3BlbjoiKD86IixjbG9zZToiKT8ifSwiKyI6e29wZW46Iig/OiIsY2xvc2U6IikrIn0sIioiOntvcGVuOiIoPzoiLGNsb3NlOiIpKiJ9LCJAIjp7b3BlbjoiKD86IixjbG9zZToiKSJ9fSxiPSJbXi9dIixFPWIrIio/Iix4PSIoPzooPyEoPzpcXC98XikoPzpcXC57MSwyfSkoJHxcXC8pKS4pKj8iLEE9Iig/Oig/ISg/OlxcL3xeKVxcLikuKSo/IixTPWZ1bmN0aW9uKGUpe3JldHVybiBlLnNwbGl0KCIiKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVt0XT0hMCxlfSx7fSl9KCIoKS4qe30rP1tdXiRcXCEiKSxfPS9cLysvO3MuZmlsdGVyPW4scy5kZWZhdWx0cz1mdW5jdGlvbihlKXtpZighZXx8IU9iamVjdC5rZXlzKGUpLmxlbmd0aClyZXR1cm4gczt2YXIgdD1zLHI9ZnVuY3Rpb24ocixuLHMpe3JldHVybiB0Lm1pbmltYXRjaChyLG4saShlLHMpKX07cmV0dXJuIHIuTWluaW1hdGNoPWZ1bmN0aW9uKHIsbil7cmV0dXJuIG5ldyB0Lk1pbmltYXRjaChyLGkoZSxuKSl9LHJ9LGEuZGVmYXVsdHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5rZXlzKGUpLmxlbmd0aD9zLmRlZmF1bHRzKGUpLk1pbmltYXRjaDphfSxhLnByb3RvdHlwZS5kZWJ1Zz1mdW5jdGlvbigpe30sYS5wcm90b3R5cGUubWFrZT1vLGEucHJvdG90eXBlLnBhcnNlTmVnYXRlPXUscy5icmFjZUV4cGFuZD1mdW5jdGlvbihlLHQpe3JldHVybiBsKGUsdCl9LGEucHJvdG90eXBlLmJyYWNlRXhwYW5kPWwsYS5wcm90b3R5cGUucGFyc2U9Yzt2YXIgRD17fTtzLm1ha2VSZT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgYShlLHR8fHt9KS5tYWtlUmUoKX0sYS5wcm90b3R5cGUubWFrZVJlPWYscy5tYXRjaD1mdW5jdGlvbihlLHQscil7cj1yfHx7fTt2YXIgbj1uZXcgYSh0LHIpO3JldHVybiBlPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuLm1hdGNoKGUpfSksbi5vcHRpb25zLm5vbnVsbCYmIWUubGVuZ3RoJiZlLnB1c2godCksZX0sYS5wcm90b3R5cGUubWF0Y2g9cCxhLnByb3RvdHlwZS5tYXRjaE9uZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5vcHRpb25zO3RoaXMuZGVidWcoIm1hdGNoT25lIix7dGhpczp0aGlzLGZpbGU6ZSxwYXR0ZXJuOnR9KSx0aGlzLmRlYnVnKCJtYXRjaE9uZSIsZS5sZW5ndGgsdC5sZW5ndGgpO2Zvcih2YXIgaT0wLHM9MCxhPWUubGVuZ3RoLG89dC5sZW5ndGg7aTxhJiZzPG87aSsrLHMrKyl7dGhpcy5kZWJ1ZygibWF0Y2hPbmUgbG9vcCIpO3ZhciB1PXRbc10sbD1lW2ldO2lmKHRoaXMuZGVidWcodCx1LGwpLCExPT09dSlyZXR1cm4hMTtpZih1PT09eSl7dGhpcy5kZWJ1ZygiR0xPQlNUQVIiLFt0LHUsbF0pO3ZhciBjPWksZj1zKzE7aWYoZj09PW8pe2Zvcih0aGlzLmRlYnVnKCIqKiBhdCB0aGUgZW5kIik7aTxhO2krKylpZigiLiI9PT1lW2ldfHwiLi4iPT09ZVtpXXx8IW4uZG90JiYiLiI9PT1lW2ldLmNoYXJBdCgwKSlyZXR1cm4hMTtyZXR1cm4hMH1mb3IoO2M8YTspe3ZhciBwPWVbY107aWYodGhpcy5kZWJ1ZygiXG5nbG9ic3RhciB3aGlsZSIsZSxjLHQsZixwKSx0aGlzLm1hdGNoT25lKGUuc2xpY2UoYyksdC5zbGljZShmKSxyKSlyZXR1cm4gdGhpcy5kZWJ1ZygiZ2xvYnN0YXIgZm91bmQgbWF0Y2ghIixjLGEscCksITA7aWYoIi4iPT09cHx8Ii4uIj09PXB8fCFuLmRvdCYmIi4iPT09cC5jaGFyQXQoMCkpe3RoaXMuZGVidWcoImRvdCBkZXRlY3RlZCEiLGUsYyx0LGYpO2JyZWFrfXRoaXMuZGVidWcoImdsb2JzdGFyIHN3YWxsb3cgYSBzZWdtZW50LCBhbmQgY29udGludWUiKSxjKyt9cmV0dXJuISghcnx8KHRoaXMuZGVidWcoIlxuPj4+IG5vIG1hdGNoLCBwYXJ0aWFsPyIsZSxjLHQsZiksYyE9PWEpKX12YXIgZDtpZigic3RyaW5nIj09dHlwZW9mIHU/KGQ9bi5ub2Nhc2U/bC50b0xvd2VyQ2FzZSgpPT09dS50b0xvd2VyQ2FzZSgpOmw9PT11LHRoaXMuZGVidWcoInN0cmluZyBtYXRjaCIsdSxsLGQpKTooZD1sLm1hdGNoKHUpLHRoaXMuZGVidWcoInBhdHRlcm4gbWF0Y2giLHUsbCxkKSksIWQpcmV0dXJuITF9aWYoaT09PWEmJnM9PT1vKXJldHVybiEwO2lmKGk9PT1hKXJldHVybiByO2lmKHM9PT1vKXtyZXR1cm4gaT09PWEtMSYmIiI9PT1lW2ldfXRocm93IG5ldyBFcnJvcigid3RmPyIpfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtpZihlPVN0cmluZyhlKSwhKGUubGVuZ3RoPjEwMCkpe3ZhciB0PS9eKCg/OlxkKyk/XC4/XGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoZSk7aWYodCl7dmFyIHI9cGFyc2VGbG9hdCh0WzFdKTtzd2l0Y2goKHRbMl18fCJtcyIpLnRvTG93ZXJDYXNlKCkpe2Nhc2UieWVhcnMiOmNhc2UieWVhciI6Y2FzZSJ5cnMiOmNhc2UieXIiOmNhc2UieSI6cmV0dXJuIHIqZjtjYXNlImRheXMiOmNhc2UiZGF5IjpjYXNlImQiOnJldHVybiByKmM7Y2FzZSJob3VycyI6Y2FzZSJob3VyIjpjYXNlImhycyI6Y2FzZSJociI6Y2FzZSJoIjpyZXR1cm4gcipsO2Nhc2UibWludXRlcyI6Y2FzZSJtaW51dGUiOmNhc2UibWlucyI6Y2FzZSJtaW4iOmNhc2UibSI6cmV0dXJuIHIqdTtjYXNlInNlY29uZHMiOmNhc2Uic2Vjb25kIjpjYXNlInNlY3MiOmNhc2Uic2VjIjpjYXNlInMiOnJldHVybiByKm87Y2FzZSJtaWxsaXNlY29uZHMiOmNhc2UibWlsbGlzZWNvbmQiOmNhc2UibXNlY3MiOmNhc2UibXNlYyI6Y2FzZSJtcyI6cmV0dXJuIHI7ZGVmYXVsdDpyZXR1cm59fX19ZnVuY3Rpb24gbihlKXtyZXR1cm4gZT49Yz9NYXRoLnJvdW5kKGUvYykrImQiOmU+PWw/TWF0aC5yb3VuZChlL2wpKyJoIjplPj11P01hdGgucm91bmQoZS91KSsibSI6ZT49bz9NYXRoLnJvdW5kKGUvbykrInMiOmUrIm1zIn1mdW5jdGlvbiBpKGUpe3JldHVybiBzKGUsYywiZGF5Iil8fHMoZSxsLCJob3VyIil8fHMoZSx1LCJtaW51dGUiKXx8cyhlLG8sInNlY29uZCIpfHxlKyIgbXMifWZ1bmN0aW9uIHMoZSx0LHIpe2lmKCEoZTx0KSlyZXR1cm4gZTwxLjUqdD9NYXRoLmZsb29yKGUvdCkrIiAiK3I6TWF0aC5jZWlsKGUvdCkrIiAiK3IrInMifXZhciBhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSxvPTFlMyx1PTYwKm8sbD02MCp1LGM9MjQqbCxmPTM2NS4yNSpjO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIHM9dm9pZCAwPT09ZT8idW5kZWZpbmVkIjphKGUpO2lmKCJzdHJpbmciPT09cyYmZS5sZW5ndGg+MClyZXR1cm4gcihlKTtpZigibnVtYmVyIj09PXMmJiExPT09aXNOYU4oZSkpcmV0dXJuIHQubG9uZz9pKGUpOm4oZSk7dGhyb3cgbmV3IEVycm9yKCJ2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPSIrSlNPTi5zdHJpbmdpZnkoZSkpfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUhPT1lfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlKXtyZXR1cm4iLyI9PT1lLmNoYXJBdCgwKX1mdW5jdGlvbiBuKGUpe3ZhciB0PS9eKFthLXpBLVpdOnxbXFxcL117Mn1bXlxcXC9dK1tcXFwvXStbXlxcXC9dKyk/KFtcXFwvXSk/KFtcc1xTXSo/KSQvLHI9dC5leGVjKGUpLG49clsxXXx8IiIsaT1Cb29sZWFuKG4mJiI6IiE9PW4uY2hhckF0KDEpKTtyZXR1cm4gQm9vbGVhbihyWzJdfHxpKX1lLmV4cG9ydHM9IndpbjMyIj09PXQucGxhdGZvcm0/bjpyLGUuZXhwb3J0cy5wb3NpeD1yLGUuZXhwb3J0cy53aW4zMj1ufSkuY2FsbCh0LHIoOCkpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fXZhciBpPXIoMTQpLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShpKSxhPXIoMSksbz1uKGEpLHU9cigxMTYpLGw9bih1KSxjPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dC5ob2lzdD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7by5hc3NlcnRWYXJpYWJsZURlY2xhcmF0aW9uKGUpO3ZhciBuPVtdO3JldHVybiBlLmRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JbZS5pZC5uYW1lXT1vLmlkZW50aWZpZXIoZS5pZC5uYW1lKSxlLmluaXQ/bi5wdXNoKG8uYXNzaWdubWVudEV4cHJlc3Npb24oIj0iLGUuaWQsZS5pbml0KSk6dCYmbi5wdXNoKGUuaWQpfSksMD09PW4ubGVuZ3RoP251bGw6MT09PW4ubGVuZ3RoP25bMF06by5zZXF1ZW5jZUV4cHJlc3Npb24obil9by5hc3NlcnRGdW5jdGlvbihlLm5vZGUpO3ZhciByPXt9O2UuZ2V0KCJib2R5IikudHJhdmVyc2Uoe1ZhcmlhYmxlRGVjbGFyYXRpb246e2V4aXQ6ZnVuY3Rpb24oZSl7dmFyIHI9dChlLm5vZGUsITEpO251bGw9PT1yP2UucmVtb3ZlKCk6bC5yZXBsYWNlV2l0aE9yUmVtb3ZlKGUsby5leHByZXNzaW9uU3RhdGVtZW50KHIpKSxlLnNraXAoKX19LEZvclN0YXRlbWVudDpmdW5jdGlvbihlKXt2YXIgcj1lLm5vZGUuaW5pdDtvLmlzVmFyaWFibGVEZWNsYXJhdGlvbihyKSYmbC5yZXBsYWNlV2l0aE9yUmVtb3ZlKGUuZ2V0KCJpbml0IiksdChyLCExKSl9LEZvclhTdGF0ZW1lbnQ6ZnVuY3Rpb24oZSl7dmFyIHI9ZS5nZXQoImxlZnQiKTtyLmlzVmFyaWFibGVEZWNsYXJhdGlvbigpJiZsLnJlcGxhY2VXaXRoT3JSZW1vdmUocix0KHIubm9kZSwhMCkpfSxGdW5jdGlvbkRlY2xhcmF0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZTtyW3QuaWQubmFtZV09dC5pZDt2YXIgbj1vLmV4cHJlc3Npb25TdGF0ZW1lbnQoby5hc3NpZ25tZW50RXhwcmVzc2lvbigiPSIsdC5pZCxvLmZ1bmN0aW9uRXhwcmVzc2lvbih0LmlkLHQucGFyYW1zLHQuYm9keSx0LmdlbmVyYXRvcix0LmV4cHJlc3Npb24pKSk7ZS5wYXJlbnRQYXRoLmlzQmxvY2tTdGF0ZW1lbnQoKT8oZS5wYXJlbnRQYXRoLnVuc2hpZnRDb250YWluZXIoImJvZHkiLG4pLGUucmVtb3ZlKCkpOmwucmVwbGFjZVdpdGhPclJlbW92ZShlLG4pLGUuc2tpcCgpfSxGdW5jdGlvbkV4cHJlc3Npb246ZnVuY3Rpb24oZSl7ZS5za2lwKCl9fSk7dmFyIG49e307ZS5nZXQoInBhcmFtcyIpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlO28uaXNJZGVudGlmaWVyKHQpJiYoblt0Lm5hbWVdPXQpfSk7dmFyIGk9W107cmV0dXJuKDAscy5kZWZhdWx0KShyKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2MuY2FsbChuLGUpfHxpLnB1c2goby52YXJpYWJsZURlY2xhcmF0b3IocltlXSxudWxsKSl9KSwwPT09aS5sZW5ndGg/bnVsbDpvLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsaSl9fSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gcig2MTApfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKCl7ZC5kZWZhdWx0Lm9rKHRoaXMgaW5zdGFuY2VvZiBuKX1mdW5jdGlvbiBpKGUpe24uY2FsbCh0aGlzKSxtLmFzc2VydExpdGVyYWwoZSksdGhpcy5yZXR1cm5Mb2M9ZX1mdW5jdGlvbiBzKGUsdCxyKXtuLmNhbGwodGhpcyksbS5hc3NlcnRMaXRlcmFsKGUpLG0uYXNzZXJ0TGl0ZXJhbCh0KSxyP20uYXNzZXJ0SWRlbnRpZmllcihyKTpyPW51bGwsdGhpcy5icmVha0xvYz1lLHRoaXMuY29udGludWVMb2M9dCx0aGlzLmxhYmVsPXJ9ZnVuY3Rpb24gYShlKXtuLmNhbGwodGhpcyksbS5hc3NlcnRMaXRlcmFsKGUpLHRoaXMuYnJlYWtMb2M9ZX1mdW5jdGlvbiBvKGUsdCxyKXtuLmNhbGwodGhpcyksbS5hc3NlcnRMaXRlcmFsKGUpLHQ/ZC5kZWZhdWx0Lm9rKHQgaW5zdGFuY2VvZiB1KTp0PW51bGwscj9kLmRlZmF1bHQub2sociBpbnN0YW5jZW9mIGwpOnI9bnVsbCxkLmRlZmF1bHQub2sodHx8ciksdGhpcy5maXJzdExvYz1lLHRoaXMuY2F0Y2hFbnRyeT10LHRoaXMuZmluYWxseUVudHJ5PXJ9ZnVuY3Rpb24gdShlLHQpe24uY2FsbCh0aGlzKSxtLmFzc2VydExpdGVyYWwoZSksbS5hc3NlcnRJZGVudGlmaWVyKHQpLHRoaXMuZmlyc3RMb2M9ZSx0aGlzLnBhcmFtSWQ9dH1mdW5jdGlvbiBsKGUsdCl7bi5jYWxsKHRoaXMpLG0uYXNzZXJ0TGl0ZXJhbChlKSxtLmFzc2VydExpdGVyYWwodCksdGhpcy5maXJzdExvYz1lLHRoaXMuYWZ0ZXJMb2M9dH1mdW5jdGlvbiBjKGUsdCl7bi5jYWxsKHRoaXMpLG0uYXNzZXJ0TGl0ZXJhbChlKSxtLmFzc2VydElkZW50aWZpZXIodCksdGhpcy5icmVha0xvYz1lLHRoaXMubGFiZWw9dH1mdW5jdGlvbiBmKGUpe2QuZGVmYXVsdC5vayh0aGlzIGluc3RhbmNlb2YgZik7dmFyIHQ9cigyODMpLkVtaXR0ZXI7ZC5kZWZhdWx0Lm9rKGUgaW5zdGFuY2VvZiB0KSx0aGlzLmVtaXR0ZXI9ZSx0aGlzLmVudHJ5U3RhY2s9W25ldyBpKGUuZmluYWxMb2MpXX12YXIgcD1yKDY0KSxkPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocCksaD1yKDEpLG09ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShoKSx5PXIoMTE3KTsoMCx5LmluaGVyaXRzKShpLG4pLHQuRnVuY3Rpb25FbnRyeT1pLCgwLHkuaW5oZXJpdHMpKHMsbiksdC5Mb29wRW50cnk9cywoMCx5LmluaGVyaXRzKShhLG4pLHQuU3dpdGNoRW50cnk9YSwoMCx5LmluaGVyaXRzKShvLG4pLHQuVHJ5RW50cnk9bywoMCx5LmluaGVyaXRzKSh1LG4pLHQuQ2F0Y2hFbnRyeT11LCgwLHkuaW5oZXJpdHMpKGwsbiksdC5GaW5hbGx5RW50cnk9bCwoMCx5LmluaGVyaXRzKShjLG4pLHQuTGFiZWxlZEVudHJ5PWM7dmFyIHY9Zi5wcm90b3R5cGU7dC5MZWFwTWFuYWdlcj1mLHYud2l0aEVudHJ5PWZ1bmN0aW9uKGUsdCl7ZC5kZWZhdWx0Lm9rKGUgaW5zdGFuY2VvZiBuKSx0aGlzLmVudHJ5U3RhY2sucHVzaChlKTt0cnl7dC5jYWxsKHRoaXMuZW1pdHRlcil9ZmluYWxseXt2YXIgcj10aGlzLmVudHJ5U3RhY2sucG9wKCk7ZC5kZWZhdWx0LnN0cmljdEVxdWFsKHIsZSl9fSx2Ll9maW5kTGVhcExvY2F0aW9uPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPXRoaXMuZW50cnlTdGFjay5sZW5ndGgtMTtyPj0wOy0tcil7dmFyIG49dGhpcy5lbnRyeVN0YWNrW3JdLGk9bltlXTtpZihpKWlmKHQpe2lmKG4ubGFiZWwmJm4ubGFiZWwubmFtZT09PXQubmFtZSlyZXR1cm4gaX1lbHNlIGlmKCEobiBpbnN0YW5jZW9mIGMpKXJldHVybiBpfXJldHVybiBudWxsfSx2LmdldEJyZWFrTG9jPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9maW5kTGVhcExvY2F0aW9uKCJicmVha0xvYyIsZSl9LHYuZ2V0Q29udGludWVMb2M9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2ZpbmRMZWFwTG9jYXRpb24oImNvbnRpbnVlTG9jIixlKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe2Z1bmN0aW9uIHIoZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gcnx8KEFycmF5LmlzQXJyYXkoZSk/ZS5zb21lKHQpOm8uaXNOb2RlKGUpJiYocy5kZWZhdWx0LnN0cmljdEVxdWFsKHIsITEpLHI9bihlKSkpLHJ9by5hc3NlcnROb2RlKGUpO3ZhciByPSExLGk9by5WSVNJVE9SX0tFWVNbZS50eXBlXTtpZihpKWZvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKXt2YXIgdT1pW2FdLGw9ZVt1XTt0KGwpfXJldHVybiByfWZ1bmN0aW9uIG4obil7by5hc3NlcnROb2RlKG4pO3ZhciBpPXUobik7cmV0dXJuIGwuY2FsbChpLGUpP2lbZV06bC5jYWxsKGMsbi50eXBlKT9pW2VdPSExOmwuY2FsbCh0LG4udHlwZSk/aVtlXT0hMDppW2VdPXIobil9cmV0dXJuIG4ub25seUNoaWxkcmVuPXIsbn12YXIgaT1yKDY0KSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0oaSksYT1yKDEpLG89ZnVuY3Rpb24oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fShhKSx1PXIoMjgxKS5tYWtlQWNjZXNzb3IoKSxsPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksYz17RnVuY3Rpb25FeHByZXNzaW9uOiEwLEFycm93RnVuY3Rpb25FeHByZXNzaW9uOiEwfSxmPXtDYWxsRXhwcmVzc2lvbjohMCxGb3JJblN0YXRlbWVudDohMCxVbmFyeUV4cHJlc3Npb246ITAsQmluYXJ5RXhwcmVzc2lvbjohMCxBc3NpZ25tZW50RXhwcmVzc2lvbjohMCxVcGRhdGVFeHByZXNzaW9uOiEwLE5ld0V4cHJlc3Npb246ITB9LHA9e1lpZWxkRXhwcmVzc2lvbjohMCxCcmVha1N0YXRlbWVudDohMCxDb250aW51ZVN0YXRlbWVudDohMCxSZXR1cm5TdGF0ZW1lbnQ6ITAsVGhyb3dTdGF0ZW1lbnQ6ITB9O2Zvcih2YXIgZCBpbiBwKWwuY2FsbChwLGQpJiYoZltkXT1wW2RdKTt0Lmhhc1NpZGVFZmZlY3RzPW4oImhhc1NpZGVFZmZlY3RzIixmKSx0LmNvbnRhaW5zTGVhcD1uKCJjb250YWluc0xlYXAiLHApfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7aWYoZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciB0PXt9O2lmKG51bGwhPWUpZm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0LmRlZmF1bHQ9ZSx0fWZ1bmN0aW9uIGkoZSl7aWYoIWUubm9kZXx8IWEuaXNGdW5jdGlvbihlLm5vZGUpKXRocm93IG5ldyBFcnJvcigicmVwbGFjZVNob3J0aGFuZE9iamVjdE1ldGhvZCBjYW4gb25seSBiZSBjYWxsZWQgb24gRnVuY3Rpb24gQVNUIG5vZGUgcGF0aHMuIik7aWYoIWEuaXNPYmplY3RNZXRob2QoZS5ub2RlKSlyZXR1cm4gZTtpZighZS5ub2RlLmdlbmVyYXRvcilyZXR1cm4gZTt2YXIgdD1lLm5vZGUucGFyYW1zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYS5jbG9uZURlZXAoZSl9KSxyPWEuZnVuY3Rpb25FeHByZXNzaW9uKG51bGwsdCxhLmNsb25lRGVlcChlLm5vZGUuYm9keSksZS5ub2RlLmdlbmVyYXRvcixlLm5vZGUuYXN5bmMpO3JldHVybiB1LnJlcGxhY2VXaXRoT3JSZW1vdmUoZSxhLm9iamVjdFByb3BlcnR5KGEuY2xvbmVEZWVwKGUubm9kZS5rZXkpLHIsZS5ub2RlLmNvbXB1dGVkLCExKSksZS5nZXQoInZhbHVlIil9dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD1pO3ZhciBzPXIoMSksYT1uKHMpLG89cigxMTYpLHU9bihvKX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgciBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpJiYodFtyXT1lW3JdKTtyZXR1cm4gdC5kZWZhdWx0PWUsdH1mdW5jdGlvbiBpKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUubm9kZTtyZXR1cm4gZi5hc3NlcnRGdW5jdGlvbih0KSx0LmlkfHwodC5pZD1lLnNjb3BlLnBhcmVudC5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImNhbGxlZSIpKSx0LmdlbmVyYXRvciYmZi5pc0Z1bmN0aW9uRGVjbGFyYXRpb24odCk/YShlKTp0LmlkfWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5ub2RlO2YuYXNzZXJ0SWRlbnRpZmllcih0LmlkKTt2YXIgcj1lLmZpbmRQYXJlbnQoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNQcm9ncmFtKCl8fGUuaXNCbG9ja1N0YXRlbWVudCgpfSk7aWYoIXIpcmV0dXJuIHQuaWQ7dmFyIG49ci5ub2RlO2wuZGVmYXVsdC5vayhBcnJheS5pc0FycmF5KG4uYm9keSkpO3ZhciBpPWcobik7aS5kZWNsfHwoaS5kZWNsPWYudmFyaWFibGVEZWNsYXJhdGlvbigidmFyIixbXSksci51bnNoaWZ0Q29udGFpbmVyKCJib2R5IixpLmRlY2wpLGkuZGVjbFBhdGg9ci5nZXQoImJvZHkuMCIpKSxsLmRlZmF1bHQuc3RyaWN0RXF1YWwoaS5kZWNsUGF0aC5ub2RlLGkuZGVjbCk7dmFyIHM9ci5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoIm1hcmtlZCIpLGE9Zi5jYWxsRXhwcmVzc2lvbih2LnJ1bnRpbWVQcm9wZXJ0eSgibWFyayIpLFt0LmlkXSksbz1pLmRlY2wuZGVjbGFyYXRpb25zLnB1c2goZi52YXJpYWJsZURlY2xhcmF0b3IocyxhKSktMSx1PWkuZGVjbFBhdGguZ2V0KCJkZWNsYXJhdGlvbnMuIitvKyIuaW5pdCIpO3JldHVybiBsLmRlZmF1bHQuc3RyaWN0RXF1YWwodS5ub2RlLGEpLHUuYWRkQ29tbWVudCgibGVhZGluZyIsIiNfX1BVUkVfXyIpLHN9ZnVuY3Rpb24gbyhlLHQpe3ZhciByPXtkaWRSZW5hbWVBcmd1bWVudHM6ITEsYXJnc0lkOnR9O3JldHVybiBlLnRyYXZlcnNlKGIsciksci5kaWRSZW5hbWVBcmd1bWVudHN9dmFyIHU9cig2NCksbD1pKHUpLGM9cigxKSxmPW4oYykscD1yKDYwNSksZD1yKDI4MyksaD1yKDYwOSksbT1pKGgpLHk9cigxMTYpLHY9bih5KTt0Lm5hbWU9InJlZ2VuZXJhdG9yLXRyYW5zZm9ybSIsdC52aXNpdG9yPXtGdW5jdGlvbjp7ZXhpdDpmdW5jdGlvbihlLHQpe3ZhciByPWUubm9kZTtpZihyLmdlbmVyYXRvcil7aWYoci5hc3luYyl7aWYoITE9PT10Lm9wdHMuYXN5bmNHZW5lcmF0b3JzKXJldHVybn1lbHNlIGlmKCExPT09dC5vcHRzLmdlbmVyYXRvcnMpcmV0dXJufWVsc2V7aWYoIXIuYXN5bmMpcmV0dXJuO2lmKCExPT09dC5vcHRzLmFzeW5jKXJldHVybn1lPSgwLG0uZGVmYXVsdCkoZSkscj1lLm5vZGU7dmFyIG49ZS5zY29wZS5nZW5lcmF0ZVVpZElkZW50aWZpZXIoImNvbnRleHQiKSxpPWUuc2NvcGUuZ2VuZXJhdGVVaWRJZGVudGlmaWVyKCJhcmdzIik7ZS5lbnN1cmVCbG9jaygpO3ZhciBhPWUuZ2V0KCJib2R5Iik7ci5hc3luYyYmYS50cmF2ZXJzZSh4KSxhLnRyYXZlcnNlKEUse2NvbnRleHQ6bn0pO3ZhciB1PVtdLGw9W107YS5nZXQoImJvZHkiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubm9kZTtmLmlzRXhwcmVzc2lvblN0YXRlbWVudCh0KSYmZi5pc1N0cmluZ0xpdGVyYWwodC5leHByZXNzaW9uKT91LnB1c2godCk6dCYmbnVsbCE9dC5fYmxvY2tIb2lzdD91LnB1c2godCk6bC5wdXNoKHQpfSksdS5sZW5ndGg+MCYmKGEubm9kZS5ib2R5PWwpO3ZhciBjPXMoZSk7Zi5hc3NlcnRJZGVudGlmaWVyKHIuaWQpO3ZhciBoPWYuaWRlbnRpZmllcihyLmlkLm5hbWUrIiQiKSx5PSgwLHAuaG9pc3QpKGUpO2lmKG8oZSxpKSl7eT15fHxmLnZhcmlhYmxlRGVjbGFyYXRpb24oInZhciIsW10pO3ZhciBnPWYuaWRlbnRpZmllcigiYXJndW1lbnRzIik7Zy5fc2hhZG93ZWRGdW5jdGlvbkxpdGVyYWw9ZSx5LmRlY2xhcmF0aW9ucy5wdXNoKGYudmFyaWFibGVEZWNsYXJhdG9yKGksZykpfXZhciBiPW5ldyBkLkVtaXR0ZXIobik7Yi5leHBsb2RlKGUuZ2V0KCJib2R5IikpLHkmJnkuZGVjbGFyYXRpb25zLmxlbmd0aD4wJiZ1LnB1c2goeSk7dmFyIEE9W2IuZ2V0Q29udGV4dEZ1bmN0aW9uKGgpLHIuZ2VuZXJhdG9yP2M6Zi5udWxsTGl0ZXJhbCgpLGYudGhpc0V4cHJlc3Npb24oKV0sUz1iLmdldFRyeUxvY3NMaXN0KCk7UyYmQS5wdXNoKFMpO3ZhciBfPWYuY2FsbEV4cHJlc3Npb24odi5ydW50aW1lUHJvcGVydHkoci5hc3luYz8iYXN5bmMiOiJ3cmFwIiksQSk7dS5wdXNoKGYucmV0dXJuU3RhdGVtZW50KF8pKSxyLmJvZHk9Zi5ibG9ja1N0YXRlbWVudCh1KTt2YXIgRD1hLm5vZGUuZGlyZWN0aXZlcztEJiYoci5ib2R5LmRpcmVjdGl2ZXM9RCk7dmFyIEM9ci5nZW5lcmF0b3I7QyYmKHIuZ2VuZXJhdG9yPSExKSxyLmFzeW5jJiYoci5hc3luYz0hMSksQyYmZi5pc0V4cHJlc3Npb24ocikmJih2LnJlcGxhY2VXaXRoT3JSZW1vdmUoZSxmLmNhbGxFeHByZXNzaW9uKHYucnVudGltZVByb3BlcnR5KCJtYXJrIiksW3JdKSksZS5hZGRDb21tZW50KCJsZWFkaW5nIiwiI19fUFVSRV9fIikpLGUucmVxdWV1ZSgpfX19O3ZhciBnPXIoMjgxKS5tYWtlQWNjZXNzb3IoKSxiPXsiRnVuY3Rpb25FeHByZXNzaW9ufEZ1bmN0aW9uRGVjbGFyYXRpb24iOmZ1bmN0aW9uKGUpe2Uuc2tpcCgpfSxJZGVudGlmaWVyOmZ1bmN0aW9uKGUsdCl7ImFyZ3VtZW50cyI9PT1lLm5vZGUubmFtZSYmdi5pc1JlZmVyZW5jZShlKSYmKHYucmVwbGFjZVdpdGhPclJlbW92ZShlLHQuYXJnc0lkKSx0LmRpZFJlbmFtZUFyZ3VtZW50cz0hMCl9fSxFPXtNZXRhUHJvcGVydHk6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5ub2RlOyJmdW5jdGlvbiI9PT10Lm1ldGEubmFtZSYmInNlbnQiPT09dC5wcm9wZXJ0eS5uYW1lJiZ2LnJlcGxhY2VXaXRoT3JSZW1vdmUoZSxmLm1lbWJlckV4cHJlc3Npb24odGhpcy5jb250ZXh0LGYuaWRlbnRpZmllcigiX3NlbnQiKSkpfX0seD17RnVuY3Rpb246ZnVuY3Rpb24oZSl7ZS5za2lwKCl9LEF3YWl0RXhwcmVzc2lvbjpmdW5jdGlvbihlKXt2YXIgdD1lLm5vZGUuYXJndW1lbnQ7di5yZXBsYWNlV2l0aE9yUmVtb3ZlKGUsZi55aWVsZEV4cHJlc3Npb24oZi5jYWxsRXhwcmVzc2lvbih2LnJ1bnRpbWVQcm9wZXJ0eSgiYXdyYXAiKSxbdF0pLCExKSl9fX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDI4Mik7dC5SRUdVTEFSPXtkOm4oKS5hZGRSYW5nZSg0OCw1NyksRDpuKCkuYWRkUmFuZ2UoMCw0NykuYWRkUmFuZ2UoNTgsNjU1MzUpLHM6bigzMiwxNjAsNTc2MCw4MjM5LDgyODcsMTIyODgsNjUyNzkpLmFkZFJhbmdlKDksMTMpLmFkZFJhbmdlKDgxOTIsODIwMikuYWRkUmFuZ2UoODIzMiw4MjMzKSxTOm4oKS5hZGRSYW5nZSgwLDgpLmFkZFJhbmdlKDE0LDMxKS5hZGRSYW5nZSgzMywxNTkpLmFkZFJhbmdlKDE2MSw1NzU5KS5hZGRSYW5nZSg1NzYxLDgxOTEpLmFkZFJhbmdlKDgyMDMsODIzMSkuYWRkUmFuZ2UoODIzNCw4MjM4KS5hZGRSYW5nZSg4MjQwLDgyODYpLmFkZFJhbmdlKDgyODgsMTIyODcpLmFkZFJhbmdlKDEyMjg5LDY1Mjc4KS5hZGRSYW5nZSg2NTI4MCw2NTUzNSksdzpuKDk1KS5hZGRSYW5nZSg0OCw1NykuYWRkUmFuZ2UoNjUsOTApLmFkZFJhbmdlKDk3LDEyMiksVzpuKDk2KS5hZGRSYW5nZSgwLDQ3KS5hZGRSYW5nZSg1OCw2NCkuYWRkUmFuZ2UoOTEsOTQpLmFkZFJhbmdlKDEyMyw2NTUzNSl9LHQuVU5JQ09ERT17ZDpuKCkuYWRkUmFuZ2UoNDgsNTcpLEQ6bigpLmFkZFJhbmdlKDAsNDcpLmFkZFJhbmdlKDU4LDExMTQxMTEpLHM6bigzMiwxNjAsNTc2MCw4MjM5LDgyODcsMTIyODgsNjUyNzkpLmFkZFJhbmdlKDksMTMpLmFkZFJhbmdlKDgxOTIsODIwMikuYWRkUmFuZ2UoODIzMiw4MjMzKSxTOm4oKS5hZGRSYW5nZSgwLDgpLmFkZFJhbmdlKDE0LDMxKS5hZGRSYW5nZSgzMywxNTkpLmFkZFJhbmdlKDE2MSw1NzU5KS5hZGRSYW5nZSg1NzYxLDgxOTEpLmFkZFJhbmdlKDgyMDMsODIzMSkuYWRkUmFuZ2UoODIzNCw4MjM4KS5hZGRSYW5nZSg4MjQwLDgyODYpLmFkZFJhbmdlKDgyODgsMTIyODcpLmFkZFJhbmdlKDEyMjg5LDY1Mjc4KS5hZGRSYW5nZSg2NTI4MCwxMTE0MTExKSx3Om4oOTUpLmFkZFJhbmdlKDQ4LDU3KS5hZGRSYW5nZSg2NSw5MCkuYWRkUmFuZ2UoOTcsMTIyKSxXOm4oOTYpLmFkZFJhbmdlKDAsNDcpLmFkZFJhbmdlKDU4LDY0KS5hZGRSYW5nZSg5MSw5NCkuYWRkUmFuZ2UoMTIzLDExMTQxMTEpfSx0LlVOSUNPREVfSUdOT1JFX0NBU0U9e2Q6bigpLmFkZFJhbmdlKDQ4LDU3KSxEOm4oKS5hZGRSYW5nZSgwLDQ3KS5hZGRSYW5nZSg1OCwxMTE0MTExKSxzOm4oMzIsMTYwLDU3NjAsODIzOSw4Mjg3LDEyMjg4LDY1Mjc5KS5hZGRSYW5nZSg5LDEzKS5hZGRSYW5nZSg4MTkyLDgyMDIpLmFkZFJhbmdlKDgyMzIsODIzMyksUzpuKCkuYWRkUmFuZ2UoMCw4KS5hZGRSYW5nZSgxNCwzMSkuYWRkUmFuZ2UoMzMsMTU5KS5hZGRSYW5nZSgxNjEsNTc1OSkuYWRkUmFuZ2UoNTc2MSw4MTkxKS5hZGRSYW5nZSg4MjAzLDgyMzEpLmFkZFJhbmdlKDgyMzQsODIzOCkuYWRkUmFuZ2UoODI0MCw4Mjg2KS5hZGRSYW5nZSg4Mjg4LDEyMjg3KS5hZGRSYW5nZSgxMjI4OSw2NTI3OCkuYWRkUmFuZ2UoNjUyODAsMTExNDExMSksdzpuKDk1LDM4Myw4NDkwKS5hZGRSYW5nZSg0OCw1NykuYWRkUmFuZ2UoNjUsOTApLmFkZFJhbmdlKDk3LDEyMiksVzpuKDc1LDgzLDk2KS5hZGRSYW5nZSgwLDQ3KS5hZGRSYW5nZSg1OCw2NCkuYWRkUmFuZ2UoOTEsOTQpLmFkZFJhbmdlKDEyMywxMTE0MTExKX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gUz9BP20uVU5JQ09ERV9JR05PUkVfQ0FTRVtlXTptLlVOSUNPREVbZV06bS5SRUdVTEFSW2VdfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gdi5jYWxsKGUsdCl9ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgciBpbiB0KWVbcl09dFtyXX1mdW5jdGlvbiBhKGUsdCl7aWYodCl7dmFyIHI9cCh0LCIiKTtzd2l0Y2goci50eXBlKXtjYXNlImNoYXJhY3RlckNsYXNzIjpjYXNlImdyb3VwIjpjYXNlInZhbHVlIjpicmVhaztkZWZhdWx0OnI9byhyLHQpfXMoZSxyKX19ZnVuY3Rpb24gbyhlLHQpe3JldHVybnt0eXBlOiJncm91cCIsYmVoYXZpb3I6Imlnbm9yZSIsYm9keTpbZV0scmF3OiIoPzoiK3QrIikifX1mdW5jdGlvbiB1KGUpe3JldHVybiEhaShoLGUpJiZoW2VdfWZ1bmN0aW9uIGwoZSl7dmFyIHQ9ZCgpO2UuYm9keS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UidmFsdWUiOmlmKHQuYWRkKGUuY29kZVBvaW50KSxBJiZTKXt2YXIgcj11KGUuY29kZVBvaW50KTtyJiZ0LmFkZChyKX1icmVhaztjYXNlImNoYXJhY3RlckNsYXNzUmFuZ2UiOnZhciBpPWUubWluLmNvZGVQb2ludCxzPWUubWF4LmNvZGVQb2ludDt0LmFkZFJhbmdlKGkscyksQSYmUyYmdC5pdUFkZFJhbmdlKGkscyk7YnJlYWs7Y2FzZSJjaGFyYWN0ZXJDbGFzc0VzY2FwZSI6dC5hZGQobihlLnZhbHVlKSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiVW5rbm93biB0ZXJtIHR5cGU6ICIrZS50eXBlKX19KTtyZXR1cm4gZS5uZWdhdGl2ZSYmKHQ9KFM/ZzpiKS5jbG9uZSgpLnJlbW92ZSh0KSksYShlLHQudG9TdHJpbmcoKSksZX1mdW5jdGlvbiBjKGUpe3N3aXRjaChlLnR5cGUpe2Nhc2UiZG90IjphKGUsKFM/RTp4KS50b1N0cmluZygpKTticmVhaztjYXNlImNoYXJhY3RlckNsYXNzIjplPWwoZSk7YnJlYWs7Y2FzZSJjaGFyYWN0ZXJDbGFzc0VzY2FwZSI6YShlLG4oZS52YWx1ZSkudG9TdHJpbmcoKSk7YnJlYWs7Y2FzZSJhbHRlcm5hdGl2ZSI6Y2FzZSJkaXNqdW5jdGlvbiI6Y2FzZSJncm91cCI6Y2FzZSJxdWFudGlmaWVyIjplLmJvZHk9ZS5ib2R5Lm1hcChjKTticmVhaztjYXNlInZhbHVlIjp2YXIgdD1lLmNvZGVQb2ludCxyPWQodCk7aWYoQSYmUyl7dmFyIGk9dSh0KTtpJiZyLmFkZChpKX1hKGUsci50b1N0cmluZygpKTticmVhaztjYXNlImFuY2hvciI6Y2FzZSJlbXB0eSI6Y2FzZSJncm91cCI6Y2FzZSJyZWZlcmVuY2UiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoIlVua25vd24gdGVybSB0eXBlOiAiK2UudHlwZSl9cmV0dXJuIGV9dmFyIGY9cig2MTMpLmdlbmVyYXRlLHA9cig2MTQpLnBhcnNlLGQ9cigyODIpLGg9cig2MzEpLG09cig2MTEpLHk9e30sdj15Lmhhc093blByb3BlcnR5LGc9ZCgpLmFkZFJhbmdlKDAsMTExNDExMSksYj1kKCkuYWRkUmFuZ2UoMCw2NTUzNSksRT1nLmNsb25lKCkucmVtb3ZlKDEwLDEzLDgyMzIsODIzMykseD1FLmNsb25lKCkuaW50ZXJzZWN0aW9uKGIpO2QucHJvdG90eXBlLml1QWRkUmFuZ2U9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO2Rve3ZhciBuPXUoZSk7biYmci5hZGQobil9d2hpbGUoKytlPD10KTtyZXR1cm4gcn07dmFyIEE9ITEsUz0hMTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1wKGUsdCk7cmV0dXJuIEE9ISF0JiZ0LmluZGV4T2YoImkiKT4tMSxTPSEhdCYmdC5pbmRleE9mKCJ1Iik+LTEscyhyLGMocikpLGYocil9fSxmdW5jdGlvbihlLHQscil7dmFyIG47KGZ1bmN0aW9uKGUsaSl7InVzZSBzdHJpY3QiO3ZhciBzPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGUsdCxyPVtdLG49LTEsaT1hcmd1bWVudHMubGVuZ3RoO2lmKCFpKXJldHVybiIiO2Zvcih2YXIgcz0iIjsrK248aTspe3ZhciBhPU51bWJlcihhcmd1bWVudHNbbl0pO2lmKCFpc0Zpbml0ZShhKXx8YTwwfHxhPjExMTQxMTF8fGsoYSkhPWEpdGhyb3cgUmFuZ2VFcnJvcigiSW52YWxpZCBjb2RlIHBvaW50OiAiK2EpO2E8PTY1NTM1P3IucHVzaChhKTooYS09NjU1MzYsZT01NTI5NisoYT4+MTApLHQ9YSUxMDI0KzU2MzIwLHIucHVzaChlLHQpKSwobisxPT1pfHxyLmxlbmd0aD4xNjM4NCkmJihzKz1QLmFwcGx5KG51bGwsciksci5sZW5ndGg9MCl9cmV0dXJuIHN9ZnVuY3Rpb24gbyhlLHQpe2lmKC0xPT10LmluZGV4T2YoInwiKSl7aWYoZT09dClyZXR1cm47dGhyb3cgRXJyb3IoIkludmFsaWQgbm9kZSB0eXBlOiAiK2UpfWlmKHQ9by5oYXNPd25Qcm9wZXJ0eSh0KT9vW3RdOm9bdF09UmVnRXhwKCJeKD86Iit0KyIpJCIpLCF0LnRlc3QoZSkpdGhyb3cgRXJyb3IoIkludmFsaWQgbm9kZSB0eXBlOiAiK2UpCn1mdW5jdGlvbiB1KGUpe3ZhciB0PWUudHlwZTtpZih1Lmhhc093blByb3BlcnR5KHQpJiYiZnVuY3Rpb24iPT10eXBlb2YgdVt0XSlyZXR1cm4gdVt0XShlKTt0aHJvdyBFcnJvcigiSW52YWxpZCBub2RlIHR5cGU6ICIrdCl9ZnVuY3Rpb24gbChlKXtvKGUudHlwZSwiYWx0ZXJuYXRpdmUiKTt2YXIgdD1lLmJvZHkscj10P3QubGVuZ3RoOjA7aWYoMT09cilyZXR1cm4geCh0WzBdKTtmb3IodmFyIG49LTEsaT0iIjsrK248cjspaSs9eCh0W25dKTtyZXR1cm4gaX1mdW5jdGlvbiBjKGUpe3N3aXRjaChvKGUudHlwZSwiYW5jaG9yIiksZS5raW5kKXtjYXNlInN0YXJ0IjpyZXR1cm4iXiI7Y2FzZSJlbmQiOnJldHVybiIkIjtjYXNlImJvdW5kYXJ5IjpyZXR1cm4iXFxiIjtjYXNlIm5vdC1ib3VuZGFyeSI6cmV0dXJuIlxcQiI7ZGVmYXVsdDp0aHJvdyBFcnJvcigiSW52YWxpZCBhc3NlcnRpb24iKX19ZnVuY3Rpb24gZihlKXtyZXR1cm4gbyhlLnR5cGUsImFuY2hvcnxjaGFyYWN0ZXJDbGFzc3xjaGFyYWN0ZXJDbGFzc0VzY2FwZXxkb3R8Z3JvdXB8cmVmZXJlbmNlfHZhbHVlIiksdShlKX1mdW5jdGlvbiBwKGUpe28oZS50eXBlLCJjaGFyYWN0ZXJDbGFzcyIpO3ZhciB0PWUuYm9keSxyPXQ/dC5sZW5ndGg6MCxuPS0xLGk9IlsiO2ZvcihlLm5lZ2F0aXZlJiYoaSs9Il4iKTsrK248cjspaSs9bSh0W25dKTtyZXR1cm4gaSs9Il0ifWZ1bmN0aW9uIGQoZSl7cmV0dXJuIG8oZS50eXBlLCJjaGFyYWN0ZXJDbGFzc0VzY2FwZSIpLCJcXCIrZS52YWx1ZX1mdW5jdGlvbiBoKGUpe28oZS50eXBlLCJjaGFyYWN0ZXJDbGFzc1JhbmdlIik7dmFyIHQ9ZS5taW4scj1lLm1heDtpZigiY2hhcmFjdGVyQ2xhc3NSYW5nZSI9PXQudHlwZXx8ImNoYXJhY3RlckNsYXNzUmFuZ2UiPT1yLnR5cGUpdGhyb3cgRXJyb3IoIkludmFsaWQgY2hhcmFjdGVyIGNsYXNzIHJhbmdlIik7cmV0dXJuIG0odCkrIi0iK20ocil9ZnVuY3Rpb24gbShlKXtyZXR1cm4gbyhlLnR5cGUsImFuY2hvcnxjaGFyYWN0ZXJDbGFzc0VzY2FwZXxjaGFyYWN0ZXJDbGFzc1JhbmdlfGRvdHx2YWx1ZSIpLHUoZSl9ZnVuY3Rpb24geShlKXtvKGUudHlwZSwiZGlzanVuY3Rpb24iKTt2YXIgdD1lLmJvZHkscj10P3QubGVuZ3RoOjA7aWYoMD09cil0aHJvdyBFcnJvcigiTm8gYm9keSIpO2lmKDE9PXIpcmV0dXJuIHUodFswXSk7Zm9yKHZhciBuPS0xLGk9IiI7KytuPHI7KTAhPW4mJihpKz0ifCIpLGkrPXUodFtuXSk7cmV0dXJuIGl9ZnVuY3Rpb24gdihlKXtyZXR1cm4gbyhlLnR5cGUsImRvdCIpLCIuIn1mdW5jdGlvbiBnKGUpe28oZS50eXBlLCJncm91cCIpO3ZhciB0PSIoIjtzd2l0Y2goZS5iZWhhdmlvcil7Y2FzZSJub3JtYWwiOmJyZWFrO2Nhc2UiaWdub3JlIjp0Kz0iPzoiO2JyZWFrO2Nhc2UibG9va2FoZWFkIjp0Kz0iPz0iO2JyZWFrO2Nhc2UibmVnYXRpdmVMb29rYWhlYWQiOnQrPSI/ISI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcigiSW52YWxpZCBiZWhhdmlvdXI6ICIrZS5iZWhhdmlvdXIpfXZhciByPWUuYm9keSxuPXI/ci5sZW5ndGg6MDtpZigxPT1uKXQrPXUoclswXSk7ZWxzZSBmb3IodmFyIGk9LTE7KytpPG47KXQrPXUocltpXSk7cmV0dXJuIHQrPSIpIn1mdW5jdGlvbiBiKGUpe28oZS50eXBlLCJxdWFudGlmaWVyIik7dmFyIHQ9IiIscj1lLm1pbixuPWUubWF4O3N3aXRjaChuKXtjYXNlIHZvaWQgMDpjYXNlIG51bGw6c3dpdGNoKHIpe2Nhc2UgMDp0PSIqIjticmVhaztjYXNlIDE6dD0iKyI7YnJlYWs7ZGVmYXVsdDp0PSJ7IityKyIsfSJ9YnJlYWs7ZGVmYXVsdDp0PXI9PW4/InsiK3IrIn0iOjA9PXImJjE9PW4/Ij8iOiJ7IityKyIsIituKyJ9In1yZXR1cm4gZS5ncmVlZHl8fCh0Kz0iPyIpLGYoZS5ib2R5WzBdKSt0fWZ1bmN0aW9uIEUoZSl7cmV0dXJuIG8oZS50eXBlLCJyZWZlcmVuY2UiKSwiXFwiK2UubWF0Y2hJbmRleH1mdW5jdGlvbiB4KGUpe3JldHVybiBvKGUudHlwZSwiYW5jaG9yfGNoYXJhY3RlckNsYXNzfGNoYXJhY3RlckNsYXNzRXNjYXBlfGVtcHR5fGdyb3VwfHF1YW50aWZpZXJ8cmVmZXJlbmNlfHZhbHVlIiksdShlKX1mdW5jdGlvbiBBKGUpe28oZS50eXBlLCJ2YWx1ZSIpO3ZhciB0PWUua2luZCxyPWUuY29kZVBvaW50O3N3aXRjaCh0KXtjYXNlImNvbnRyb2xMZXR0ZXIiOnJldHVybiJcXGMiK2Eocis2NCk7Y2FzZSJoZXhhZGVjaW1hbEVzY2FwZSI6cmV0dXJuIlxceCIrKCIwMCIrci50b1N0cmluZygxNikudG9VcHBlckNhc2UoKSkuc2xpY2UoLTIpO2Nhc2UiaWRlbnRpZmllciI6cmV0dXJuIlxcIithKHIpO2Nhc2UibnVsbCI6cmV0dXJuIlxcIityO2Nhc2Uib2N0YWwiOnJldHVybiJcXCIrci50b1N0cmluZyg4KTtjYXNlInNpbmdsZUVzY2FwZSI6c3dpdGNoKHIpe2Nhc2UgODpyZXR1cm4iXFxiIjtjYXNlIDk6cmV0dXJuIlxcdCI7Y2FzZSAxMDpyZXR1cm4iXFxuIjtjYXNlIDExOnJldHVybiJcXHYiO2Nhc2UgMTI6cmV0dXJuIlxcZiI7Y2FzZSAxMzpyZXR1cm4iXFxyIjtkZWZhdWx0OnRocm93IEVycm9yKCJJbnZhbGlkIGNvZGVwb2ludDogIityKX1jYXNlInN5bWJvbCI6cmV0dXJuIGEocik7Y2FzZSJ1bmljb2RlRXNjYXBlIjpyZXR1cm4iXFx1IisoIjAwMDAiK3IudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkpLnNsaWNlKC00KTtjYXNlInVuaWNvZGVDb2RlUG9pbnRFc2NhcGUiOnJldHVybiJcXHV7IityLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpKyJ9IjtkZWZhdWx0OnRocm93IEVycm9yKCJVbnN1cHBvcnRlZCBub2RlIGtpbmQ6ICIrdCl9fXZhciBTPXtmdW5jdGlvbjohMCxvYmplY3Q6ITB9LF89U1sidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvdz8idW5kZWZpbmVkIjpzKHdpbmRvdyldJiZ3aW5kb3d8fHRoaXMsRD1TW3ModCldJiZ0LEM9U1tzKGUpXSYmZSYmIWUubm9kZVR5cGUmJmUsdz1EJiZDJiYib2JqZWN0Ij09KHZvaWQgMD09PWk/InVuZGVmaW5lZCI6cyhpKSkmJmk7IXd8fHcuZ2xvYmFsIT09dyYmdy53aW5kb3chPT13JiZ3LnNlbGYhPT13fHwoXz13KTt2YXIgUD1TdHJpbmcuZnJvbUNoYXJDb2RlLGs9TWF0aC5mbG9vcjt1LmFsdGVybmF0aXZlPWwsdS5hbmNob3I9Yyx1LmNoYXJhY3RlckNsYXNzPXAsdS5jaGFyYWN0ZXJDbGFzc0VzY2FwZT1kLHUuY2hhcmFjdGVyQ2xhc3NSYW5nZT1oLHUuZGlzanVuY3Rpb249eSx1LmRvdD12LHUuZ3JvdXA9Zyx1LnF1YW50aWZpZXI9Yix1LnJlZmVyZW5jZT1FLHUudmFsdWU9QSwib2JqZWN0Ij09cyhyKDQ5KSkmJnIoNDkpP3ZvaWQgMCE9PShuPWZ1bmN0aW9uKCl7cmV0dXJue2dlbmVyYXRlOnV9fS5jYWxsKHQscix0LGUpKSYmKGUuZXhwb3J0cz1uKTpEJiZDP0QuZ2VuZXJhdGU9dTpfLnJlZ2pzZ2VuPXtnZW5lcmF0ZTp1fX0pLmNhbGwodm9pZCAwKX0pLmNhbGwodCxyKDM5KShlKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSgpKX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHQpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIHQucmF3PWUuc3Vic3RyaW5nKHQucmFuZ2VbMF0sdC5yYW5nZVsxXSksdH1mdW5jdGlvbiBuKGUsdCl7cmV0dXJuIGUucmFuZ2VbMF09dCxyKGUpfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4gcih7dHlwZToiYW5jaG9yIixraW5kOmUscmFuZ2U6WyQtdCwkXX0pfWZ1bmN0aW9uIHMoZSx0LG4saSl7cmV0dXJuIHIoe3R5cGU6InZhbHVlIixraW5kOmUsY29kZVBvaW50OnQscmFuZ2U6W24saV19KX1mdW5jdGlvbiBhKGUsdCxyLG4pe3JldHVybiBuPW58fDAscyhlLHQsJC0oci5sZW5ndGgrbiksJCl9ZnVuY3Rpb24gbyhlKXt2YXIgdD1lWzBdLHI9dC5jaGFyQ29kZUF0KDApO2lmKHope3ZhciBuO2lmKDE9PT10Lmxlbmd0aCYmcj49NTUyOTYmJnI8PTU2MzE5JiYobj14KCkuY2hhckNvZGVBdCgwKSk+PTU2MzIwJiZuPD01NzM0MylyZXR1cm4gJCsrLHMoInN5bWJvbCIsMTAyNCooci01NTI5Nikrbi01NjMyMCs2NTUzNiwkLTIsJCl9cmV0dXJuIHMoInN5bWJvbCIsciwkLTEsJCl9ZnVuY3Rpb24gdShlLHQsbil7cmV0dXJuIHIoe3R5cGU6ImRpc2p1bmN0aW9uIixib2R5OmUscmFuZ2U6W3Qsbl19KX1mdW5jdGlvbiBsKCl7cmV0dXJuIHIoe3R5cGU6ImRvdCIscmFuZ2U6WyQtMSwkXX0pfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIHIoe3R5cGU6ImNoYXJhY3RlckNsYXNzRXNjYXBlIix2YWx1ZTplLHJhbmdlOlskLTIsJF19KX1mdW5jdGlvbiBmKGUpe3JldHVybiByKHt0eXBlOiJyZWZlcmVuY2UiLG1hdGNoSW5kZXg6cGFyc2VJbnQoZSwxMCkscmFuZ2U6WyQtMS1lLmxlbmd0aCwkXX0pfWZ1bmN0aW9uIHAoZSx0LG4saSl7cmV0dXJuIHIoe3R5cGU6Imdyb3VwIixiZWhhdmlvcjplLGJvZHk6dCxyYW5nZTpbbixpXX0pfWZ1bmN0aW9uIGQoZSx0LG4saSl7cmV0dXJuIG51bGw9PWkmJihuPSQtMSxpPSQpLHIoe3R5cGU6InF1YW50aWZpZXIiLG1pbjplLG1heDp0LGdyZWVkeTohMCxib2R5Om51bGwscmFuZ2U6W24saV19KX1mdW5jdGlvbiBoKGUsdCxuKXtyZXR1cm4gcih7dHlwZToiYWx0ZXJuYXRpdmUiLGJvZHk6ZSxyYW5nZTpbdCxuXX0pfWZ1bmN0aW9uIG0oZSx0LG4saSl7cmV0dXJuIHIoe3R5cGU6ImNoYXJhY3RlckNsYXNzIixib2R5OmUsbmVnYXRpdmU6dCxyYW5nZTpbbixpXX0pfWZ1bmN0aW9uIHkoZSx0LG4saSl7cmV0dXJuIGUuY29kZVBvaW50PnQuY29kZVBvaW50JiZLKCJpbnZhbGlkIHJhbmdlIGluIGNoYXJhY3RlciBjbGFzcyIsZS5yYXcrIi0iK3QucmF3LG4saSkscih7dHlwZToiY2hhcmFjdGVyQ2xhc3NSYW5nZSIsbWluOmUsbWF4OnQscmFuZ2U6W24saV19KX1mdW5jdGlvbiB2KGUpe3JldHVybiJhbHRlcm5hdGl2ZSI9PT1lLnR5cGU/ZS5ib2R5OltlXX1mdW5jdGlvbiBnKHQpe3Q9dHx8MTt2YXIgcj1lLnN1YnN0cmluZygkLCQrdCk7cmV0dXJuICQrPXR8fDEscn1mdW5jdGlvbiBiKGUpe0UoZSl8fEsoImNoYXJhY3RlciIsZSl9ZnVuY3Rpb24gRSh0KXtpZihlLmluZGV4T2YodCwkKT09PSQpcmV0dXJuIGcodC5sZW5ndGgpfWZ1bmN0aW9uIHgoKXtyZXR1cm4gZVskXX1mdW5jdGlvbiBBKHQpe3JldHVybiBlLmluZGV4T2YodCwkKT09PSR9ZnVuY3Rpb24gUyh0KXtyZXR1cm4gZVskKzFdPT09dH1mdW5jdGlvbiBfKHQpe3ZhciByPWUuc3Vic3RyaW5nKCQpLG49ci5tYXRjaCh0KTtyZXR1cm4gbiYmKG4ucmFuZ2U9W10sbi5yYW5nZVswXT0kLGcoblswXS5sZW5ndGgpLG4ucmFuZ2VbMV09JCksbn1mdW5jdGlvbiBEKCl7dmFyIGU9W10sdD0kO2ZvcihlLnB1c2goQygpKTtFKCJ8Iik7KWUucHVzaChDKCkpO3JldHVybiAxPT09ZS5sZW5ndGg/ZVswXTp1KGUsdCwkKX1mdW5jdGlvbiBDKCl7Zm9yKHZhciBlLHQ9W10scj0kO2U9dygpOyl0LnB1c2goZSk7cmV0dXJuIDE9PT10Lmxlbmd0aD90WzBdOmgodCxyLCQpfWZ1bmN0aW9uIHcoKXtpZigkPj1lLmxlbmd0aHx8QSgifCIpfHxBKCIpIikpcmV0dXJuIG51bGw7dmFyIHQ9aygpO2lmKHQpcmV0dXJuIHQ7dmFyIHI9VCgpO3J8fEsoIkV4cGVjdGVkIGF0b20iKTt2YXIgaT1GKCl8fCExO3JldHVybiBpPyhpLmJvZHk9dihyKSxuKGksci5yYW5nZVswXSksaSk6cn1mdW5jdGlvbiBQKGUsdCxyLG4pe3ZhciBpPW51bGwscz0kO2lmKEUoZSkpaT10O2Vsc2V7aWYoIUUocikpcmV0dXJuITE7aT1ufXZhciBhPUQoKTthfHxLKCJFeHBlY3RlZCBkaXNqdW5jdGlvbiIpLGIoIikiKTt2YXIgbz1wKGksdihhKSxzLCQpO3JldHVybiJub3JtYWwiPT1pJiZYJiZKKyssb31mdW5jdGlvbiBrKCl7cmV0dXJuIEUoIl4iKT9pKCJzdGFydCIsMSk6RSgiJCIpP2koImVuZCIsMSk6RSgiXFxiIik/aSgiYm91bmRhcnkiLDIpOkUoIlxcQiIpP2koIm5vdC1ib3VuZGFyeSIsMik6UCgiKD89IiwibG9va2FoZWFkIiwiKD8hIiwibmVnYXRpdmVMb29rYWhlYWQiKX1mdW5jdGlvbiBGKCl7dmFyIGUsdCxyLG4saT0kO3JldHVybiBFKCIqIik/dD1kKDApOkUoIisiKT90PWQoMSk6RSgiPyIpP3Q9ZCgwLDEpOihlPV8oL15ceyhbMC05XSspXH0vKSk/KHI9cGFyc2VJbnQoZVsxXSwxMCksdD1kKHIscixlLnJhbmdlWzBdLGUucmFuZ2VbMV0pKTooZT1fKC9eXHsoWzAtOV0rKSxcfS8pKT8ocj1wYXJzZUludChlWzFdLDEwKSx0PWQocix2b2lkIDAsZS5yYW5nZVswXSxlLnJhbmdlWzFdKSk6KGU9XygvXlx7KFswLTldKyksKFswLTldKylcfS8pKSYmKHI9cGFyc2VJbnQoZVsxXSwxMCksbj1wYXJzZUludChlWzJdLDEwKSxyPm4mJksoIm51bWJlcnMgb3V0IG9mIG9yZGVyIGluIHt9IHF1YW50aWZpZXIiLCIiLGksJCksdD1kKHIsbixlLnJhbmdlWzBdLGUucmFuZ2VbMV0pKSx0JiZFKCI/IikmJih0LmdyZWVkeT0hMSx0LnJhbmdlWzFdKz0xKSx0fWZ1bmN0aW9uIFQoKXt2YXIgZTtyZXR1cm4oZT1fKC9eW15eJFxcLiorPygpe1t8XS8pKT9vKGUpOkUoIi4iKT9sKCk6RSgiXFwiKT8oZT1SKCksZXx8SygiYXRvbUVzY2FwZSIpLGUpOihlPWooKSk/ZTpQKCIoPzoiLCJpZ25vcmUiLCIoIiwibm9ybWFsIil9ZnVuY3Rpb24gTyhlKXtpZih6KXt2YXIgdCxuO2lmKCJ1bmljb2RlRXNjYXBlIj09ZS5raW5kJiYodD1lLmNvZGVQb2ludCk+PTU1Mjk2JiZ0PD01NjMxOSYmQSgiXFwiKSYmUygidSIpKXt2YXIgaT0kOyQrKzt2YXIgcz1CKCk7InVuaWNvZGVFc2NhcGUiPT1zLmtpbmQmJihuPXMuY29kZVBvaW50KT49NTYzMjAmJm48PTU3MzQzPyhlLnJhbmdlWzFdPXMucmFuZ2VbMV0sZS5jb2RlUG9pbnQ9MTAyNCoodC01NTI5Nikrbi01NjMyMCs2NTUzNixlLnR5cGU9InZhbHVlIixlLmtpbmQ9InVuaWNvZGVDb2RlUG9pbnRFc2NhcGUiLHIoZSkpOiQ9aX19cmV0dXJuIGV9ZnVuY3Rpb24gQigpe3JldHVybiBSKCEwKX1mdW5jdGlvbiBSKGUpe3ZhciB0LHI9JDtpZih0PUkoKSlyZXR1cm4gdDtpZihlKXtpZihFKCJiIikpcmV0dXJuIGEoInNpbmdsZUVzY2FwZSIsOCwiXFxiIik7RSgiQiIpJiZLKCJcXEIgbm90IHBvc3NpYmxlIGluc2lkZSBvZiBDaGFyYWN0ZXJDbGFzcyIsIiIscil9cmV0dXJuIHQ9TSgpfWZ1bmN0aW9uIEkoKXt2YXIgZSx0O2lmKGU9XygvXig/ITApXGQrLykpe3Q9ZVswXTt2YXIgcj1wYXJzZUludChlWzBdLDEwKTtyZXR1cm4gcjw9Sj9mKGVbMF0pOihILnB1c2gociksZygtZVswXS5sZW5ndGgpLChlPV8oL15bMC03XXsxLDN9LykpP2EoIm9jdGFsIixwYXJzZUludChlWzBdLDgpLGVbMF0sMSk6KGU9byhfKC9eWzg5XS8pKSxuKGUsZS5yYW5nZVswXS0xKSkpfXJldHVybihlPV8oL15bMC03XXsxLDN9LykpPyh0PWVbMF0sL14wezEsM30kLy50ZXN0KHQpP2EoIm51bGwiLDAsIjAiLHQubGVuZ3RoKzEpOmEoIm9jdGFsIixwYXJzZUludCh0LDgpLHQsMSkpOiEhKGU9XygvXltkRHNTd1ddLykpJiZjKGVbMF0pfWZ1bmN0aW9uIE0oKXt2YXIgZTtpZihlPV8oL15bZm5ydHZdLykpe3ZhciB0PTA7c3dpdGNoKGVbMF0pe2Nhc2UidCI6dD05O2JyZWFrO2Nhc2UibiI6dD0xMDticmVhaztjYXNlInYiOnQ9MTE7YnJlYWs7Y2FzZSJmIjp0PTEyO2JyZWFrO2Nhc2UiciI6dD0xM31yZXR1cm4gYSgic2luZ2xlRXNjYXBlIix0LCJcXCIrZVswXSl9cmV0dXJuKGU9XygvXmMoW2EtekEtWl0pLykpP2EoImNvbnRyb2xMZXR0ZXIiLGVbMV0uY2hhckNvZGVBdCgwKSUzMixlWzFdLDIpOihlPV8oL154KFswLTlhLWZBLUZdezJ9KS8pKT9hKCJoZXhhZGVjaW1hbEVzY2FwZSIscGFyc2VJbnQoZVsxXSwxNiksZVsxXSwyKTooZT1fKC9edShbMC05YS1mQS1GXXs0fSkvKSk/TyhhKCJ1bmljb2RlRXNjYXBlIixwYXJzZUludChlWzFdLDE2KSxlWzFdLDIpKTp6JiYoZT1fKC9edVx7KFswLTlhLWZBLUZdKylcfS8pKT9hKCJ1bmljb2RlQ29kZVBvaW50RXNjYXBlIixwYXJzZUludChlWzFdLDE2KSxlWzFdLDQpOkwoKX1mdW5jdGlvbiBOKGUpe3ZhciB0PW5ldyBSZWdFeHAoIlvCqsK1wrrDgC3DlsOYLcO2w7gty4HLhi3LkcugLcuky6zLrsyALc20zbbNt826Lc29zb/Ohs6ILc6KzozOji3Ooc6jLc+1z7ct0oHSgy3Sh9KKLdSv1LEt1ZbVmdWhLdaH1pEt1r3Wv9eB14LXhNeF14fXkC3XqtewLdey2JAt2JrYoC3ZqdmuLduT25Ut25zbny3bqNuqLdu827/ckC3dit2NLd6x34At37XfuuCggC3goK3goYAt4KGb4KKgLeCisuCjpC3gpaPgpaYt4KWv4KWxLeCmg+CmhS3gpozgpo/gppDgppMt4Kao4KaqLeCmsOCmsuCmti3gprngprwt4KeE4KeH4KeI4KeLLeCnjuCnl+CnnOCnneCnny3gp6Pgp6Yt4Kex4KiBLeCog+CohS3gqIrgqI/gqJDgqJMt4Kio4KiqLeCosOCosuCos+CoteCotuCouOCoueCovOCovi3gqYLgqYfgqYjgqYst4KmN4KmR4KmZLeCpnOCpnuCppi3gqbXgqoEt4KqD4KqFLeCqjeCqjy3gqpHgqpMt4Kqo4KqqLeCqsOCqsuCqs+CqtS3gqrngqrwt4KuF4KuHLeCrieCriy3gq43gq5Dgq6At4Kuj4KumLeCrr+CsgS3grIPgrIUt4KyM4KyP4KyQ4KyTLeCsqOCsqi3grLDgrLLgrLPgrLUt4Ky54Ky8LeCthOCth+CtiOCtiy3grY3grZbgrZfgrZzgrZ3grZ8t4K2j4K2mLeCtr+CtseCuguCug+CuhS3grorgro4t4K6Q4K6SLeCuleCumeCumuCunOCunuCun+Cuo+CupOCuqC3grqrgrq4t4K654K6+LeCvguCvhi3gr4jgr4ot4K+N4K+Q4K+X4K+mLeCvr+CwgC3gsIPgsIUt4LCM4LCOLeCwkOCwki3gsKjgsKot4LC54LC9LeCxhOCxhi3gsYjgsYot4LGN4LGV4LGW4LGY4LGZ4LGgLeCxo+Cxpi3gsa/gsoEt4LKD4LKFLeCyjOCyji3gspDgspIt4LKo4LKqLeCys+CytS3gsrngsrwt4LOE4LOGLeCziOCzii3gs43gs5Xgs5bgs57gs6At4LOj4LOmLeCzr+CzseCzsuC0gS3gtIPgtIUt4LSM4LSOLeC0kOC0ki3gtLrgtL0t4LWE4LWGLeC1iOC1ii3gtY7gtZfgtaAt4LWj4LWmLeC1r+C1ui3gtb/gtoLgtoPgtoUt4LaW4LaaLeC2seC2sy3gtrvgtr3gt4At4LeG4LeK4LePLeC3lOC3luC3mC3gt5/gt6Yt4Lev4Ley4Lez4LiBLeC4uuC5gC3guY7guZAt4LmZ4LqB4LqC4LqE4LqH4LqI4LqK4LqN4LqULeC6l+C6mS3gup/guqEt4Lqj4Lql4Lqn4Lqq4Lqr4LqtLeC6ueC6uy3gur3gu4At4LuE4LuG4LuILeC7jeC7kC3gu5ngu5wt4Luf4LyA4LyY4LyZ4LygLeC8qeC8teC8t+C8ueC8vi3gvYfgvYkt4L2s4L2xLeC+hOC+hi3gvpfgvpkt4L684L+G4YCALeGBieGBkC3hgp3hgqAt4YOF4YOH4YON4YOQLeGDuuGDvC3hiYjhiYot4YmN4YmQLeGJluGJmOGJmi3hiZ3hiaAt4YqI4YqKLeGKjeGKkC3hirDhirIt4Yq14Yq4LeGKvuGLgOGLgi3hi4Xhi4gt4YuW4YuYLeGMkOGMki3hjJXhjJgt4Y2a4Y2dLeGNn+GOgC3hjo/hjqAt4Y+04ZCBLeGZrOGZry3hmb/hmoEt4Zqa4ZqgLeGbquGbri3hm7jhnIAt4ZyM4ZyOLeGclOGcoC3hnLThnYAt4Z2T4Z2gLeGdrOGdri3hnbDhnbLhnbPhnoAt4Z+T4Z+X4Z+c4Z+d4Z+gLeGfqeGgiy3hoI3hoJAt4aCZ4aCgLeGht+GigC3hoqrhorAt4aO14aSALeGknuGkoC3hpKvhpLAt4aS74aWGLeGlreGlsC3hpbThpoAt4aar4aawLeGnieGnkC3hp5nhqIAt4aib4aigLeGpnuGpoC3hqbzhqb8t4aqJ4aqQLeGqmeGqp+GqsC3hqr3hrIAt4a2L4a2QLeGtmeGtqy3hrbPhroAt4a+z4bCALeGwt+GxgC3hsYnhsY0t4bG94bOQLeGzkuGzlC3hs7bhs7jhs7nhtIAt4be14be8LeG8leG8mC3hvJ3hvKAt4b2F4b2ILeG9jeG9kC3hvZfhvZnhvZvhvZ3hvZ8t4b294b6ALeG+tOG+ti3hvrzhvr7hv4It4b+E4b+GLeG/jOG/kC3hv5Phv5Yt4b+b4b+gLeG/rOG/si3hv7Thv7Yt4b+84oCM4oCN4oC/4oGA4oGU4oGx4oG/4oKQLeKCnOKDkC3ig5zig6Hig6Ut4oOw4oSC4oSH4oSKLeKEk+KEleKEmS3ihJ3ihKTihKbihKjihKot4oSt4oSvLeKEueKEvC3ihL/ihYUt4oWJ4oWO4oWgLeKGiOKwgC3isK7isLAt4rGe4rGgLeKzpOKzqy3is7PitIAt4rSl4rSn4rSt4rSwLeK1p+K1r+K1vy3itpbitqAt4ram4raoLeK2ruK2sC3itrbitrgt4ra+4reALeK3huK3iC3it47it5At4reW4reYLeK3nuK3oC3it7/iuK/jgIUt44CH44ChLeOAr+OAsS3jgLXjgLgt44C844GBLeOCluOCmeOCmuOCnS3jgp/jgqEt44O644O8LeODv+OEhS3jhK3jhLEt44aO44agLeOGuuOHsC3jh7/jkIAt5La15LiALem/jOqAgC3qkozqk5At6pO96pSALeqYjOqYkC3qmKvqmYAt6pmv6pm0LeqZveqZvy3qmp3qmp8t6pux6pyXLeqcn+qcoi3qnojqnost6p6O6p6QLeqereqesOqeseqfty3qoKfqoYAt6qGz6qKALeqjhOqjkC3qo5nqo6At6qO36qO76qSALeqkreqksC3qpZPqpaAt6qW86qaALeqngOqnjy3qp5nqp6At6qe+6qiALeqotuqpgC3qqY3qqZAt6qmZ6qmgLeqptuqpui3qq4Lqq5st6qud6qugLeqrr+qrsi3qq7bqrIEt6qyG6qyJLeqsjuqskS3qrJbqrKAt6qym6qyoLeqsruqssC3qrZrqrZwt6q2f6q2k6q2l6q+ALeqvquqvrOqvreqvsC3qr7nqsIAt7Z6j7Z6wLe2fhu2fiy3tn7vvpIAt76mt76mwLe+rme+sgC3vrIbvrJMt76yX76ydLe+sqO+sqi3vrLbvrLgt76y876y+762A762B762D762E762GLe+use+vky3vtL3vtZAt77aP77aSLe+3h++3sC3vt7vvuIAt77iP77igLe+4re+4s++4tO+5jS3vuY/vubAt77m077m2Le+7vO+8kC3vvJnvvKEt77y677y/772BLe+9mu+9pi3vvr7vv4It77+H77+KLe+/j++/ki3vv5fvv5ot77+cXSIpO3JldHVybiAzNj09PWV8fDk1PT09ZXx8ZT49NjUmJmU8PTkwfHxlPj05NyYmZTw9MTIyfHxlPj00OCYmZTw9NTd8fDkyPT09ZXx8ZT49MTI4JiZ0LnRlc3QoU3RyaW5nLmZyb21DaGFyQ29kZShlKSl9ZnVuY3Rpb24gTCgpe3ZhciBlO3JldHVybiBOKHgoKSk/RSgi4oCMIik/YSgiaWRlbnRpZmllciIsODIwNCwi4oCMIik6RSgi4oCNIik/YSgiaWRlbnRpZmllciIsODIwNSwi4oCNIik6bnVsbDooZT1nKCksYSgiaWRlbnRpZmllciIsZS5jaGFyQ29kZUF0KDApLGUsMSkpfWZ1bmN0aW9uIGooKXt2YXIgZSx0PSQ7cmV0dXJuKGU9XygvXlxbXF4vKSk/KGU9VSgpLGIoIl0iKSxtKGUsITAsdCwkKSk6RSgiWyIpPyhlPVUoKSxiKCJdIiksbShlLCExLHQsJCkpOm51bGx9ZnVuY3Rpb24gVSgpe3ZhciBlO3JldHVybiBBKCJdIik/W106KGU9RygpLGV8fEsoIm5vbkVtcHR5Q2xhc3NSYW5nZXMiKSxlKX1mdW5jdGlvbiBWKGUpe3ZhciB0LHIsbjtpZihBKCItIikmJiFTKCJdIikpe2IoIi0iKSxuPVkoKSxufHxLKCJjbGFzc0F0b20iKSxyPSQ7dmFyIGk9VSgpO3JldHVybiBpfHxLKCJjbGFzc1JhbmdlcyIpLHQ9ZS5yYW5nZVswXSwiZW1wdHkiPT09aS50eXBlP1t5KGUsbix0LHIpXTpbeShlLG4sdCxyKV0uY29uY2F0KGkpfXJldHVybiBuPVcoKSxufHxLKCJub25FbXB0eUNsYXNzUmFuZ2VzTm9EYXNoIiksW2VdLmNvbmNhdChuKX1mdW5jdGlvbiBHKCl7dmFyIGU9WSgpO3JldHVybiBlfHxLKCJjbGFzc0F0b20iKSxBKCJdIik/W2VdOlYoZSl9ZnVuY3Rpb24gVygpe3ZhciBlPVkoKTtyZXR1cm4gZXx8SygiY2xhc3NBdG9tIiksQSgiXSIpP2U6VihlKX1mdW5jdGlvbiBZKCl7cmV0dXJuIEUoIi0iKT9vKCItIik6cSgpfWZ1bmN0aW9uIHEoKXt2YXIgZTtyZXR1cm4oZT1fKC9eW15cXFxdLV0vKSk/byhlWzBdKTpFKCJcXCIpPyhlPUIoKSxlfHxLKCJjbGFzc0VzY2FwZSIpLE8oZSkpOnZvaWQgMH1mdW5jdGlvbiBLKHQscixuLGkpe249bnVsbD09bj8kOm4saT1udWxsPT1pP246aTt2YXIgcz1NYXRoLm1heCgwLG4tMTApLGE9TWF0aC5taW4oaSsxMCxlLmxlbmd0aCksbz0iICAgICIrZS5zdWJzdHJpbmcocyxhKSx1PSIgICAgIituZXcgQXJyYXkobi1zKzEpLmpvaW4oIiAiKSsiXiI7dGhyb3cgU3ludGF4RXJyb3IodCsiIGF0IHBvc2l0aW9uICIrbisocj8iOiAiK3I6IiIpKyJcbiIrbysiXG4iK3UpfXZhciBIPVtdLEo9MCxYPSEwLHo9LTEhPT0odHx8IiIpLmluZGV4T2YoInUiKSwkPTA7IiI9PT0oZT1TdHJpbmcoZSkpJiYoZT0iKD86KSIpO3ZhciBRPUQoKTtRLnJhbmdlWzFdIT09ZS5sZW5ndGgmJksoIkNvdWxkIG5vdCBwYXJzZSBlbnRpcmUgaW5wdXQgLSBnb3Qgc3R1Y2siLCIiLFEucmFuZ2VbMV0pO2Zvcih2YXIgWj0wO1o8SC5sZW5ndGg7WisrKWlmKEhbWl08PUopcmV0dXJuICQ9MCxYPSExLEQoKTtyZXR1cm4gUX12YXIgcj17cGFyc2U6dH07dm9pZCAwIT09ZSYmZS5leHBvcnRzP2UuZXhwb3J0cz1yOndpbmRvdy5yZWdqc3BhcnNlcj1yfSgpfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPXIoNDY3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYGlucHV0YCB0byBiZSBhIHN0cmluZyIpO2lmKHQ8MHx8IW4odCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYGNvdW50YCB0byBiZSBhIHBvc2l0aXZlIGZpbml0ZSBudW1iZXIiKTt2YXIgcj0iIjtkb3sxJnQmJihyKz1lKSxlKz1lfXdoaWxlKHQ+Pj0xKTtyZXR1cm4gcn19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5zcGxpdCgiIik7dC5lbmNvZGU9ZnVuY3Rpb24oZSl7aWYoMDw9ZSYmZTxyLmxlbmd0aClyZXR1cm4gcltlXTt0aHJvdyBuZXcgVHlwZUVycm9yKCJNdXN0IGJlIGJldHdlZW4gMCBhbmQgNjM6ICIrZSl9LHQuZGVjb2RlPWZ1bmN0aW9uKGUpe3JldHVybiA2NTw9ZSYmZTw9OTA/ZS02NTo5Nzw9ZSYmZTw9MTIyP2UtOTcrMjY6NDg8PWUmJmU8PTU3P2UtNDgrNTI6NDM9PWU/NjI6NDc9PWU/NjM6LTF9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGUsbixpLHMsYSxvKXt2YXIgdT1NYXRoLmZsb29yKChuLWUpLzIpK2UsbD1hKGksc1t1XSwhMCk7cmV0dXJuIDA9PT1sP3U6bD4wP24tdT4xP3IodSxuLGkscyxhLG8pOm89PXQuTEVBU1RfVVBQRVJfQk9VTkQ/bjxzLmxlbmd0aD9uOi0xOnU6dS1lPjE/cihlLHUsaSxzLGEsbyk6bz09dC5MRUFTVF9VUFBFUl9CT1VORD91OmU8MD8tMTplfXQuR1JFQVRFU1RfTE9XRVJfQk9VTkQ9MSx0LkxFQVNUX1VQUEVSX0JPVU5EPTIsdC5zZWFyY2g9ZnVuY3Rpb24oZSxuLGkscyl7aWYoMD09PW4ubGVuZ3RoKXJldHVybi0xO3ZhciBhPXIoLTEsbi5sZW5ndGgsZSxuLGksc3x8dC5HUkVBVEVTVF9MT1dFUl9CT1VORCk7aWYoYTwwKXJldHVybi0xO2Zvcig7YS0xPj0wJiYwPT09aShuW2FdLG5bYS0xXSwhMCk7KS0tYTtyZXR1cm4gYX19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlLHQpe3ZhciByPWUuZ2VuZXJhdGVkTGluZSxuPXQuZ2VuZXJhdGVkTGluZSxpPWUuZ2VuZXJhdGVkQ29sdW1uLGE9dC5nZW5lcmF0ZWRDb2x1bW47cmV0dXJuIG4+cnx8bj09ciYmYT49aXx8cy5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZChlLHQpPD0wfWZ1bmN0aW9uIGkoKXt0aGlzLl9hcnJheT1bXSx0aGlzLl9zb3J0ZWQ9ITAsdGhpcy5fbGFzdD17Z2VuZXJhdGVkTGluZTotMSxnZW5lcmF0ZWRDb2x1bW46MH19dmFyIHM9cig2Myk7aS5wcm90b3R5cGUudW5zb3J0ZWRGb3JFYWNoPWZ1bmN0aW9uKGUsdCl7dGhpcy5fYXJyYXkuZm9yRWFjaChlLHQpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7bih0aGlzLl9sYXN0LGUpPyh0aGlzLl9sYXN0PWUsdGhpcy5fYXJyYXkucHVzaChlKSk6KHRoaXMuX3NvcnRlZD0hMSx0aGlzLl9hcnJheS5wdXNoKGUpKX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3J0ZWR8fCh0aGlzLl9hcnJheS5zb3J0KHMuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQpLHRoaXMuX3NvcnRlZD0hMCksdGhpcy5fYXJyYXl9LHQuTWFwcGluZ0xpc3Q9aX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQscil7dmFyIG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufWZ1bmN0aW9uIG4oZSx0KXtyZXR1cm4gTWF0aC5yb3VuZChlK01hdGgucmFuZG9tKCkqKHQtZSkpfWZ1bmN0aW9uIGkoZSx0LHMsYSl7aWYoczxhKXt2YXIgbz1uKHMsYSksdT1zLTE7cihlLG8sYSk7Zm9yKHZhciBsPWVbYV0sYz1zO2M8YTtjKyspdChlW2NdLGwpPD0wJiYodSs9MSxyKGUsdSxjKSk7cihlLHUrMSxjKTt2YXIgZj11KzE7aShlLHQscyxmLTEpLGkoZSx0LGYrMSxhKX19dC5xdWlja1NvcnQ9ZnVuY3Rpb24oZSx0KXtpKGUsdCwwLGUubGVuZ3RoLTEpfX0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PWU7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiYodD1KU09OLnBhcnNlKGUucmVwbGFjZSgvXlwpXF1cfScvLCIiKSkpLG51bGwhPXQuc2VjdGlvbnM/bmV3IGEodCk6bmV3IGkodCl9ZnVuY3Rpb24gaShlKXt2YXIgdD1lOyJzdHJpbmciPT10eXBlb2YgZSYmKHQ9SlNPTi5wYXJzZShlLnJlcGxhY2UoL15cKVxdXH0nLywiIikpKTt2YXIgcj1vLmdldEFyZyh0LCJ2ZXJzaW9uIiksbj1vLmdldEFyZyh0LCJzb3VyY2VzIiksaT1vLmdldEFyZyh0LCJuYW1lcyIsW10pLHM9by5nZXRBcmcodCwic291cmNlUm9vdCIsbnVsbCksYT1vLmdldEFyZyh0LCJzb3VyY2VzQ29udGVudCIsbnVsbCksdT1vLmdldEFyZyh0LCJtYXBwaW5ncyIpLGM9by5nZXRBcmcodCwiZmlsZSIsbnVsbCk7aWYociE9dGhpcy5fdmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHZlcnNpb246ICIrcik7bj1uLm1hcChTdHJpbmcpLm1hcChvLm5vcm1hbGl6ZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBzJiZvLmlzQWJzb2x1dGUocykmJm8uaXNBYnNvbHV0ZShlKT9vLnJlbGF0aXZlKHMsZSk6ZX0pLHRoaXMuX25hbWVzPWwuZnJvbUFycmF5KGkubWFwKFN0cmluZyksITApLHRoaXMuX3NvdXJjZXM9bC5mcm9tQXJyYXkobiwhMCksdGhpcy5zb3VyY2VSb290PXMsdGhpcy5zb3VyY2VzQ29udGVudD1hLHRoaXMuX21hcHBpbmdzPXUsdGhpcy5maWxlPWN9ZnVuY3Rpb24gcygpe3RoaXMuZ2VuZXJhdGVkTGluZT0wLHRoaXMuZ2VuZXJhdGVkQ29sdW1uPTAsdGhpcy5zb3VyY2U9bnVsbCx0aGlzLm9yaWdpbmFsTGluZT1udWxsLHRoaXMub3JpZ2luYWxDb2x1bW49bnVsbCx0aGlzLm5hbWU9bnVsbH1mdW5jdGlvbiBhKGUpe3ZhciB0PWU7InN0cmluZyI9PXR5cGVvZiBlJiYodD1KU09OLnBhcnNlKGUucmVwbGFjZSgvXlwpXF1cfScvLCIiKSkpO3ZhciByPW8uZ2V0QXJnKHQsInZlcnNpb24iKSxpPW8uZ2V0QXJnKHQsInNlY3Rpb25zIik7aWYociE9dGhpcy5fdmVyc2lvbil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIHZlcnNpb246ICIrcik7dGhpcy5fc291cmNlcz1uZXcgbCx0aGlzLl9uYW1lcz1uZXcgbDt2YXIgcz17bGluZTotMSxjb2x1bW46MH07dGhpcy5fc2VjdGlvbnM9aS5tYXAoZnVuY3Rpb24oZSl7aWYoZS51cmwpdGhyb3cgbmV3IEVycm9yKCJTdXBwb3J0IGZvciB1cmwgZmllbGQgaW4gc2VjdGlvbnMgbm90IGltcGxlbWVudGVkLiIpO3ZhciB0PW8uZ2V0QXJnKGUsIm9mZnNldCIpLHI9by5nZXRBcmcodCwibGluZSIpLGk9by5nZXRBcmcodCwiY29sdW1uIik7aWYocjxzLmxpbmV8fHI9PT1zLmxpbmUmJmk8cy5jb2x1bW4pdGhyb3cgbmV3IEVycm9yKCJTZWN0aW9uIG9mZnNldHMgbXVzdCBiZSBvcmRlcmVkIGFuZCBub24tb3ZlcmxhcHBpbmcuIik7cmV0dXJuIHM9dCx7Z2VuZXJhdGVkT2Zmc2V0OntnZW5lcmF0ZWRMaW5lOnIrMSxnZW5lcmF0ZWRDb2x1bW46aSsxfSxjb25zdW1lcjpuZXcgbihvLmdldEFyZyhlLCJtYXAiKSl9fSl9dmFyIG89cig2MyksdT1yKDYxNyksbD1yKDI4NSkuQXJyYXlTZXQsYz1yKDI4NiksZj1yKDYxOSkucXVpY2tTb3J0O24uZnJvbVNvdXJjZU1hcD1mdW5jdGlvbihlKXtyZXR1cm4gaS5mcm9tU291cmNlTWFwKGUpfSxuLnByb3RvdHlwZS5fdmVyc2lvbj0zLG4ucHJvdG90eXBlLl9fZ2VuZXJhdGVkTWFwcGluZ3M9bnVsbCxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsIl9nZW5lcmF0ZWRNYXBwaW5ncyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3N8fHRoaXMuX3BhcnNlTWFwcGluZ3ModGhpcy5fbWFwcGluZ3MsdGhpcy5zb3VyY2VSb290KSx0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3N9fSksbi5wcm90b3R5cGUuX19vcmlnaW5hbE1hcHBpbmdzPW51bGwsT2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLCJfb3JpZ2luYWxNYXBwaW5ncyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc3x8dGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncyx0aGlzLnNvdXJjZVJvb3QpLHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzfX0pLG4ucHJvdG90eXBlLl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jaGFyQXQodCk7cmV0dXJuIjsiPT09cnx8IiwiPT09cn0sbi5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3M9ZnVuY3Rpb24oZSx0KXt0aHJvdyBuZXcgRXJyb3IoIlN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgX3BhcnNlTWFwcGluZ3MiKX0sbi5HRU5FUkFURURfT1JERVI9MSxuLk9SSUdJTkFMX09SREVSPTIsbi5HUkVBVEVTVF9MT1dFUl9CT1VORD0xLG4uTEVBU1RfVVBQRVJfQk9VTkQ9MixuLnByb3RvdHlwZS5lYWNoTWFwcGluZz1mdW5jdGlvbihlLHQscil7dmFyIGkscz10fHxudWxsLGE9cnx8bi5HRU5FUkFURURfT1JERVI7c3dpdGNoKGEpe2Nhc2Ugbi5HRU5FUkFURURfT1JERVI6aT10aGlzLl9nZW5lcmF0ZWRNYXBwaW5nczticmVhaztjYXNlIG4uT1JJR0lOQUxfT1JERVI6aT10aGlzLl9vcmlnaW5hbE1hcHBpbmdzO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJVbmtub3duIG9yZGVyIG9mIGl0ZXJhdGlvbi4iKX12YXIgdT10aGlzLnNvdXJjZVJvb3Q7aS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbD09PWUuc291cmNlP251bGw6dGhpcy5fc291cmNlcy5hdChlLnNvdXJjZSk7cmV0dXJuIG51bGwhPXQmJm51bGwhPXUmJih0PW8uam9pbih1LHQpKSx7c291cmNlOnQsZ2VuZXJhdGVkTGluZTplLmdlbmVyYXRlZExpbmUsZ2VuZXJhdGVkQ29sdW1uOmUuZ2VuZXJhdGVkQ29sdW1uLG9yaWdpbmFsTGluZTplLm9yaWdpbmFsTGluZSxvcmlnaW5hbENvbHVtbjplLm9yaWdpbmFsQ29sdW1uLG5hbWU6bnVsbD09PWUubmFtZT9udWxsOnRoaXMuX25hbWVzLmF0KGUubmFtZSl9fSx0aGlzKS5mb3JFYWNoKGUscyl9LG4ucHJvdG90eXBlLmFsbEdlbmVyYXRlZFBvc2l0aW9uc0Zvcj1mdW5jdGlvbihlKXt2YXIgdD1vLmdldEFyZyhlLCJsaW5lIikscj17c291cmNlOm8uZ2V0QXJnKGUsInNvdXJjZSIpLG9yaWdpbmFsTGluZTp0LG9yaWdpbmFsQ29sdW1uOm8uZ2V0QXJnKGUsImNvbHVtbiIsMCl9O2lmKG51bGwhPXRoaXMuc291cmNlUm9vdCYmKHIuc291cmNlPW8ucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LHIuc291cmNlKSksIXRoaXMuX3NvdXJjZXMuaGFzKHIuc291cmNlKSlyZXR1cm5bXTtyLnNvdXJjZT10aGlzLl9zb3VyY2VzLmluZGV4T2Yoci5zb3VyY2UpO3ZhciBuPVtdLGk9dGhpcy5fZmluZE1hcHBpbmcocix0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLCJvcmlnaW5hbExpbmUiLCJvcmlnaW5hbENvbHVtbiIsby5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyx1LkxFQVNUX1VQUEVSX0JPVU5EKTtpZihpPj0wKXt2YXIgcz10aGlzLl9vcmlnaW5hbE1hcHBpbmdzW2ldO2lmKHZvaWQgMD09PWUuY29sdW1uKWZvcih2YXIgYT1zLm9yaWdpbmFsTGluZTtzJiZzLm9yaWdpbmFsTGluZT09PWE7KW4ucHVzaCh7bGluZTpvLmdldEFyZyhzLCJnZW5lcmF0ZWRMaW5lIixudWxsKSxjb2x1bW46by5nZXRBcmcocywiZ2VuZXJhdGVkQ29sdW1uIixudWxsKSxsYXN0Q29sdW1uOm8uZ2V0QXJnKHMsImxhc3RHZW5lcmF0ZWRDb2x1bW4iLG51bGwpfSkscz10aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraV07ZWxzZSBmb3IodmFyIGw9cy5vcmlnaW5hbENvbHVtbjtzJiZzLm9yaWdpbmFsTGluZT09PXQmJnMub3JpZ2luYWxDb2x1bW49PWw7KW4ucHVzaCh7bGluZTpvLmdldEFyZyhzLCJnZW5lcmF0ZWRMaW5lIixudWxsKSxjb2x1bW46by5nZXRBcmcocywiZ2VuZXJhdGVkQ29sdW1uIixudWxsKSxsYXN0Q29sdW1uOm8uZ2V0QXJnKHMsImxhc3RHZW5lcmF0ZWRDb2x1bW4iLG51bGwpfSkscz10aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraV19cmV0dXJuIG59LHQuU291cmNlTWFwQ29uc3VtZXI9bixpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKSxpLnByb3RvdHlwZS5jb25zdW1lcj1uLGkuZnJvbVNvdXJjZU1hcD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKSxyPXQuX25hbWVzPWwuZnJvbUFycmF5KGUuX25hbWVzLnRvQXJyYXkoKSwhMCksbj10Ll9zb3VyY2VzPWwuZnJvbUFycmF5KGUuX3NvdXJjZXMudG9BcnJheSgpLCEwKTt0LnNvdXJjZVJvb3Q9ZS5fc291cmNlUm9vdCx0LnNvdXJjZXNDb250ZW50PWUuX2dlbmVyYXRlU291cmNlc0NvbnRlbnQodC5fc291cmNlcy50b0FycmF5KCksdC5zb3VyY2VSb290KSx0LmZpbGU9ZS5fZmlsZTtmb3IodmFyIGE9ZS5fbWFwcGluZ3MudG9BcnJheSgpLnNsaWNlKCksdT10Ll9fZ2VuZXJhdGVkTWFwcGluZ3M9W10sYz10Ll9fb3JpZ2luYWxNYXBwaW5ncz1bXSxwPTAsZD1hLmxlbmd0aDtwPGQ7cCsrKXt2YXIgaD1hW3BdLG09bmV3IHM7bS5nZW5lcmF0ZWRMaW5lPWguZ2VuZXJhdGVkTGluZSxtLmdlbmVyYXRlZENvbHVtbj1oLmdlbmVyYXRlZENvbHVtbixoLnNvdXJjZSYmKG0uc291cmNlPW4uaW5kZXhPZihoLnNvdXJjZSksbS5vcmlnaW5hbExpbmU9aC5vcmlnaW5hbExpbmUsbS5vcmlnaW5hbENvbHVtbj1oLm9yaWdpbmFsQ29sdW1uLGgubmFtZSYmKG0ubmFtZT1yLmluZGV4T2YoaC5uYW1lKSksYy5wdXNoKG0pKSx1LnB1c2gobSl9cmV0dXJuIGYodC5fX29yaWdpbmFsTWFwcGluZ3Msby5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyksdH0saS5wcm90b3R5cGUuX3ZlcnNpb249MyxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNvdXJjZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT10aGlzLnNvdXJjZVJvb3Q/by5qb2luKHRoaXMuc291cmNlUm9vdCxlKTplfSx0aGlzKX19KSxpLnByb3RvdHlwZS5fcGFyc2VNYXBwaW5ncz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixuLGksYSx1LGw9MSxwPTAsZD0wLGg9MCxtPTAseT0wLHY9ZS5sZW5ndGgsZz0wLGI9e30sRT17fSx4PVtdLEE9W107Zzx2OylpZigiOyI9PT1lLmNoYXJBdChnKSlsKyssZysrLHA9MDtlbHNlIGlmKCIsIj09PWUuY2hhckF0KGcpKWcrKztlbHNle2ZvcihyPW5ldyBzLHIuZ2VuZXJhdGVkTGluZT1sLGE9ZzthPHYmJiF0aGlzLl9jaGFySXNNYXBwaW5nU2VwYXJhdG9yKGUsYSk7YSsrKTtpZihuPWUuc2xpY2UoZyxhKSxpPWJbbl0pZys9bi5sZW5ndGg7ZWxzZXtmb3IoaT1bXTtnPGE7KWMuZGVjb2RlKGUsZyxFKSx1PUUudmFsdWUsZz1FLnJlc3QsaS5wdXNoKHUpO2lmKDI9PT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkZvdW5kIGEgc291cmNlLCBidXQgbm8gbGluZSBhbmQgY29sdW1uIik7aWYoMz09PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiRm91bmQgYSBzb3VyY2UgYW5kIGxpbmUsIGJ1dCBubyBjb2x1bW4iKTtiW25dPWl9ci5nZW5lcmF0ZWRDb2x1bW49cCtpWzBdLHA9ci5nZW5lcmF0ZWRDb2x1bW4saS5sZW5ndGg+MSYmKHIuc291cmNlPW0raVsxXSxtKz1pWzFdLHIub3JpZ2luYWxMaW5lPWQraVsyXSxkPXIub3JpZ2luYWxMaW5lLHIub3JpZ2luYWxMaW5lKz0xLHIub3JpZ2luYWxDb2x1bW49aCtpWzNdLGg9ci5vcmlnaW5hbENvbHVtbixpLmxlbmd0aD40JiYoci5uYW1lPXkraVs0XSx5Kz1pWzRdKSksQS5wdXNoKHIpLCJudW1iZXIiPT10eXBlb2Ygci5vcmlnaW5hbExpbmUmJngucHVzaChyKX1mKEEsby5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCksdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzPUEsZih4LG8uY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpLHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzPXh9LGkucHJvdG90eXBlLl9maW5kTWFwcGluZz1mdW5jdGlvbihlLHQscixuLGkscyl7aWYoZVtyXTw9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJMaW5lIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDEsIGdvdCAiK2Vbcl0pO2lmKGVbbl08MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJDb2x1bW4gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMCwgZ290ICIrZVtuXSk7cmV0dXJuIHUuc2VhcmNoKGUsdCxpLHMpfSxpLnByb3RvdHlwZS5jb21wdXRlQ29sdW1uU3BhbnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9MDtlPHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzLmxlbmd0aDsrK2Upe3ZhciB0PXRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2VdO2lmKGUrMTx0aGlzLl9nZW5lcmF0ZWRNYXBwaW5ncy5sZW5ndGgpe3ZhciByPXRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzW2UrMV07aWYodC5nZW5lcmF0ZWRMaW5lPT09ci5nZW5lcmF0ZWRMaW5lKXt0Lmxhc3RHZW5lcmF0ZWRDb2x1bW49ci5nZW5lcmF0ZWRDb2x1bW4tMTtjb250aW51ZX19dC5sYXN0R2VuZXJhdGVkQ29sdW1uPTEvMH19LGkucHJvdG90eXBlLm9yaWdpbmFsUG9zaXRpb25Gb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9e2dlbmVyYXRlZExpbmU6by5nZXRBcmcoZSwibGluZSIpLGdlbmVyYXRlZENvbHVtbjpvLmdldEFyZyhlLCJjb2x1bW4iKX0scj10aGlzLl9maW5kTWFwcGluZyh0LHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzLCJnZW5lcmF0ZWRMaW5lIiwiZ2VuZXJhdGVkQ29sdW1uIixvLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkLG8uZ2V0QXJnKGUsImJpYXMiLG4uR1JFQVRFU1RfTE9XRVJfQk9VTkQpKTtpZihyPj0wKXt2YXIgaT10aGlzLl9nZW5lcmF0ZWRNYXBwaW5nc1tyXTtpZihpLmdlbmVyYXRlZExpbmU9PT10LmdlbmVyYXRlZExpbmUpe3ZhciBzPW8uZ2V0QXJnKGksInNvdXJjZSIsbnVsbCk7bnVsbCE9PXMmJihzPXRoaXMuX3NvdXJjZXMuYXQocyksbnVsbCE9dGhpcy5zb3VyY2VSb290JiYocz1vLmpvaW4odGhpcy5zb3VyY2VSb290LHMpKSk7dmFyIGE9by5nZXRBcmcoaSwibmFtZSIsbnVsbCk7cmV0dXJuIG51bGwhPT1hJiYoYT10aGlzLl9uYW1lcy5hdChhKSkse3NvdXJjZTpzLGxpbmU6by5nZXRBcmcoaSwib3JpZ2luYWxMaW5lIixudWxsKSxjb2x1bW46by5nZXRBcmcoaSwib3JpZ2luYWxDb2x1bW4iLG51bGwpLG5hbWU6YX19fXJldHVybntzb3VyY2U6bnVsbCxsaW5lOm51bGwsY29sdW1uOm51bGwsbmFtZTpudWxsfX0saS5wcm90b3R5cGUuaGFzQ29udGVudHNPZkFsbFNvdXJjZXM9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuc291cmNlc0NvbnRlbnQmJih0aGlzLnNvdXJjZXNDb250ZW50Lmxlbmd0aD49dGhpcy5fc291cmNlcy5zaXplKCkmJiF0aGlzLnNvdXJjZXNDb250ZW50LnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9KSl9LGkucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3I9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5zb3VyY2VzQ29udGVudClyZXR1cm4gbnVsbDtpZihudWxsIT10aGlzLnNvdXJjZVJvb3QmJihlPW8ucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LGUpKSx0aGlzLl9zb3VyY2VzLmhhcyhlKSlyZXR1cm4gdGhpcy5zb3VyY2VzQ29udGVudFt0aGlzLl9zb3VyY2VzLmluZGV4T2YoZSldO3ZhciByO2lmKG51bGwhPXRoaXMuc291cmNlUm9vdCYmKHI9by51cmxQYXJzZSh0aGlzLnNvdXJjZVJvb3QpKSl7dmFyIG49ZS5yZXBsYWNlKC9eZmlsZTpcL1wvLywiIik7aWYoImZpbGUiPT1yLnNjaGVtZSYmdGhpcy5fc291cmNlcy5oYXMobikpcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKG4pXTtpZigoIXIucGF0aHx8Ii8iPT1yLnBhdGgpJiZ0aGlzLl9zb3VyY2VzLmhhcygiLyIrZSkpcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKCIvIitlKV19aWYodClyZXR1cm4gbnVsbDt0aHJvdyBuZXcgRXJyb3IoJyInK2UrJyIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyl9LGkucHJvdG90eXBlLmdlbmVyYXRlZFBvc2l0aW9uRm9yPWZ1bmN0aW9uKGUpe3ZhciB0PW8uZ2V0QXJnKGUsInNvdXJjZSIpO2lmKG51bGwhPXRoaXMuc291cmNlUm9vdCYmKHQ9by5yZWxhdGl2ZSh0aGlzLnNvdXJjZVJvb3QsdCkpLCF0aGlzLl9zb3VyY2VzLmhhcyh0KSlyZXR1cm57bGluZTpudWxsLGNvbHVtbjpudWxsLGxhc3RDb2x1bW46bnVsbH07dD10aGlzLl9zb3VyY2VzLmluZGV4T2YodCk7dmFyIHI9e3NvdXJjZTp0LG9yaWdpbmFsTGluZTpvLmdldEFyZyhlLCJsaW5lIiksb3JpZ2luYWxDb2x1bW46by5nZXRBcmcoZSwiY29sdW1uIil9LGk9dGhpcy5fZmluZE1hcHBpbmcocix0aGlzLl9vcmlnaW5hbE1hcHBpbmdzLCJvcmlnaW5hbExpbmUiLCJvcmlnaW5hbENvbHVtbiIsby5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyxvLmdldEFyZyhlLCJiaWFzIixuLkdSRUFURVNUX0xPV0VSX0JPVU5EKSk7aWYoaT49MCl7dmFyIHM9dGhpcy5fb3JpZ2luYWxNYXBwaW5nc1tpXTtpZihzLnNvdXJjZT09PXIuc291cmNlKXJldHVybntsaW5lOm8uZ2V0QXJnKHMsImdlbmVyYXRlZExpbmUiLG51bGwpLGNvbHVtbjpvLmdldEFyZyhzLCJnZW5lcmF0ZWRDb2x1bW4iLG51bGwpLGxhc3RDb2x1bW46by5nZXRBcmcocywibGFzdEdlbmVyYXRlZENvbHVtbiIsbnVsbCl9fXJldHVybntsaW5lOm51bGwsY29sdW1uOm51bGwsbGFzdENvbHVtbjpudWxsfX0sdC5CYXNpY1NvdXJjZU1hcENvbnN1bWVyPWksYS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSksYS5wcm90b3R5cGUuY29uc3RydWN0b3I9bixhLnByb3RvdHlwZS5fdmVyc2lvbj0zLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLnByb3RvdHlwZSwic291cmNlcyIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDx0aGlzLl9zZWN0aW9ucy5sZW5ndGg7dCsrKWZvcih2YXIgcj0wO3I8dGhpcy5fc2VjdGlvbnNbdF0uY29uc3VtZXIuc291cmNlcy5sZW5ndGg7cisrKWUucHVzaCh0aGlzLl9zZWN0aW9uc1t0XS5jb25zdW1lci5zb3VyY2VzW3JdKTtyZXR1cm4gZX19KSxhLnByb3RvdHlwZS5vcmlnaW5hbFBvc2l0aW9uRm9yPWZ1bmN0aW9uKGUpe3ZhciB0PXtnZW5lcmF0ZWRMaW5lOm8uZ2V0QXJnKGUsImxpbmUiKSxnZW5lcmF0ZWRDb2x1bW46by5nZXRBcmcoZSwiY29sdW1uIil9LHI9dS5zZWFyY2godCx0aGlzLl9zZWN0aW9ucyxmdW5jdGlvbihlLHQpe3ZhciByPWUuZ2VuZXJhdGVkTGluZS10LmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lO3JldHVybiByfHxlLmdlbmVyYXRlZENvbHVtbi10LmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW59KSxuPXRoaXMuX3NlY3Rpb25zW3JdO3JldHVybiBuP24uY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7bGluZTp0LmdlbmVyYXRlZExpbmUtKG4uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUtMSksY29sdW1uOnQuZ2VuZXJhdGVkQ29sdW1uLShuLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lPT09dC5nZW5lcmF0ZWRMaW5lP24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbi0xOjApLGJpYXM6ZS5iaWFzfSk6e3NvdXJjZTpudWxsLGxpbmU6bnVsbCxjb2x1bW46bnVsbCxuYW1lOm51bGx9fSxhLnByb3RvdHlwZS5oYXNDb250ZW50c09mQWxsU291cmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZWN0aW9ucy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gZS5jb25zdW1lci5oYXNDb250ZW50c09mQWxsU291cmNlcygpfSl9LGEucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3I9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPHRoaXMuX3NlY3Rpb25zLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuX3NlY3Rpb25zW3JdLGk9bi5jb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKGUsITApO2lmKGkpcmV0dXJuIGl9aWYodClyZXR1cm4gbnVsbDt0aHJvdyBuZXcgRXJyb3IoJyInK2UrJyIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyl9LGEucHJvdG90eXBlLmdlbmVyYXRlZFBvc2l0aW9uRm9yPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fc2VjdGlvbnMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fc2VjdGlvbnNbdF07aWYoLTEhPT1yLmNvbnN1bWVyLnNvdXJjZXMuaW5kZXhPZihvLmdldEFyZyhlLCJzb3VyY2UiKSkpe3ZhciBuPXIuY29uc3VtZXIuZ2VuZXJhdGVkUG9zaXRpb25Gb3IoZSk7aWYobil7cmV0dXJue2xpbmU6bi5saW5lKyhyLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lLTEpLGNvbHVtbjpuLmNvbHVtbisoci5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZT09PW4ubGluZT9yLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRDb2x1bW4tMTowKX19fX1yZXR1cm57bGluZTpudWxsLGNvbHVtbjpudWxsfX0sYS5wcm90b3R5cGUuX3BhcnNlTWFwcGluZ3M9ZnVuY3Rpb24oZSx0KXt0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3M9W10sdGhpcy5fX29yaWdpbmFsTWFwcGluZ3M9W107Zm9yKHZhciByPTA7cjx0aGlzLl9zZWN0aW9ucy5sZW5ndGg7cisrKWZvcih2YXIgbj10aGlzLl9zZWN0aW9uc1tyXSxpPW4uY29uc3VtZXIuX2dlbmVyYXRlZE1hcHBpbmdzLHM9MDtzPGkubGVuZ3RoO3MrKyl7dmFyIGE9aVtzXSx1PW4uY29uc3VtZXIuX3NvdXJjZXMuYXQoYS5zb3VyY2UpO251bGwhPT1uLmNvbnN1bWVyLnNvdXJjZVJvb3QmJih1PW8uam9pbihuLmNvbnN1bWVyLnNvdXJjZVJvb3QsdSkpLHRoaXMuX3NvdXJjZXMuYWRkKHUpLHU9dGhpcy5fc291cmNlcy5pbmRleE9mKHUpO3ZhciBsPW4uY29uc3VtZXIuX25hbWVzLmF0KGEubmFtZSk7dGhpcy5fbmFtZXMuYWRkKGwpLGw9dGhpcy5fbmFtZXMuaW5kZXhPZihsKTt2YXIgYz17c291cmNlOnUsZ2VuZXJhdGVkTGluZTphLmdlbmVyYXRlZExpbmUrKG4uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUtMSksZ2VuZXJhdGVkQ29sdW1uOmEuZ2VuZXJhdGVkQ29sdW1uKyhuLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lPT09YS5nZW5lcmF0ZWRMaW5lP24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbi0xOjApLG9yaWdpbmFsTGluZTphLm9yaWdpbmFsTGluZSxvcmlnaW5hbENvbHVtbjphLm9yaWdpbmFsQ29sdW1uLG5hbWU6bH07dGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzLnB1c2goYyksIm51bWJlciI9PXR5cGVvZiBjLm9yaWdpbmFsTGluZSYmdGhpcy5fX29yaWdpbmFsTWFwcGluZ3MucHVzaChjKX1mKHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncyxvLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkKSxmKHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzLG8uY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMpfSx0LkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcj1hfSxmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSx0LHIsbixpKXt0aGlzLmNoaWxkcmVuPVtdLHRoaXMuc291cmNlQ29udGVudHM9e30sdGhpcy5saW5lPW51bGw9PWU/bnVsbDplLHRoaXMuY29sdW1uPW51bGw9PXQ/bnVsbDp0LHRoaXMuc291cmNlPW51bGw9PXI/bnVsbDpyLHRoaXMubmFtZT1udWxsPT1pP251bGw6aSx0aGlzW29dPSEwLG51bGwhPW4mJnRoaXMuYWRkKG4pfXZhciBpPXIoMjg3KS5Tb3VyY2VNYXBHZW5lcmF0b3Iscz1yKDYzKSxhPS8oXHI/XG4pLyxvPSIkJCRpc1NvdXJjZU5vZGUkJCQiO24uZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXA9ZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIGkoZSx0KXtpZihudWxsPT09ZXx8dm9pZCAwPT09ZS5zb3VyY2Upby5hZGQodCk7ZWxzZXt2YXIgaT1yP3Muam9pbihyLGUuc291cmNlKTplLnNvdXJjZTtvLmFkZChuZXcgbihlLm9yaWdpbmFsTGluZSxlLm9yaWdpbmFsQ29sdW1uLGksdCxlLm5hbWUpKX19dmFyIG89bmV3IG4sdT1lLnNwbGl0KGEpLGw9ZnVuY3Rpb24oKXtyZXR1cm4gdS5zaGlmdCgpKyh1LnNoaWZ0KCl8fCIiKX0sYz0xLGY9MCxwPW51bGw7cmV0dXJuIHQuZWFjaE1hcHBpbmcoZnVuY3Rpb24oZSl7aWYobnVsbCE9PXApe2lmKCEoYzxlLmdlbmVyYXRlZExpbmUpKXt2YXIgdD11WzBdLHI9dC5zdWJzdHIoMCxlLmdlbmVyYXRlZENvbHVtbi1mKTtyZXR1cm4gdVswXT10LnN1YnN0cihlLmdlbmVyYXRlZENvbHVtbi1mKSxmPWUuZ2VuZXJhdGVkQ29sdW1uLGkocCxyKSx2b2lkKHA9ZSl9aShwLGwoKSksYysrLGY9MH1mb3IoO2M8ZS5nZW5lcmF0ZWRMaW5lOylvLmFkZChsKCkpLGMrKztpZihmPGUuZ2VuZXJhdGVkQ29sdW1uKXt2YXIgdD11WzBdO28uYWRkKHQuc3Vic3RyKDAsZS5nZW5lcmF0ZWRDb2x1bW4pKSx1WzBdPXQuc3Vic3RyKGUuZ2VuZXJhdGVkQ29sdW1uKSxmPWUuZ2VuZXJhdGVkQ29sdW1ufXA9ZX0sdGhpcyksdS5sZW5ndGg+MCYmKHAmJmkocCxsKCkpLG8uYWRkKHUuam9pbigiIikpKSx0LnNvdXJjZXMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj10LnNvdXJjZUNvbnRlbnRGb3IoZSk7bnVsbCE9biYmKG51bGwhPXImJihlPXMuam9pbihyLGUpKSxvLnNldFNvdXJjZUNvbnRlbnQoZSxuKSl9KSxvfSxuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSllLmZvckVhY2goZnVuY3Rpb24oZSl7dGhpcy5hZGQoZSl9LHRoaXMpO2Vsc2V7aWYoIWVbb10mJiJzdHJpbmciIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKCJFeHBlY3RlZCBhIFNvdXJjZU5vZGUsIHN0cmluZywgb3IgYW4gYXJyYXkgb2YgU291cmNlTm9kZXMgYW5kIHN0cmluZ3MuIEdvdCAiK2UpO2UmJnRoaXMuY2hpbGRyZW4ucHVzaChlKX1yZXR1cm4gdGhpc30sbi5wcm90b3R5cGUucHJlcGVuZD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXRoaXMucHJlcGVuZChlW3RdKTtlbHNle2lmKCFlW29dJiYic3RyaW5nIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcigiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgIitlKTt0aGlzLmNoaWxkcmVuLnVuc2hpZnQoZSl9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLndhbGs9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9MCxuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO3I8bjtyKyspdD10aGlzLmNoaWxkcmVuW3JdLHRbb10/dC53YWxrKGUpOiIiIT09dCYmZSh0LHtzb3VyY2U6dGhpcy5zb3VyY2UsbGluZTp0aGlzLmxpbmUsY29sdW1uOnRoaXMuY29sdW1uLG5hbWU6dGhpcy5uYW1lfSl9LG4ucHJvdG90eXBlLmpvaW49ZnVuY3Rpb24oZSl7dmFyIHQscixuPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2lmKG4+MCl7Zm9yKHQ9W10scj0wO3I8bi0xO3IrKyl0LnB1c2godGhpcy5jaGlsZHJlbltyXSksdC5wdXNoKGUpO3QucHVzaCh0aGlzLmNoaWxkcmVuW3JdKSx0aGlzLmNoaWxkcmVuPXR9cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnJlcGxhY2VSaWdodD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuY2hpbGRyZW5bdGhpcy5jaGlsZHJlbi5sZW5ndGgtMV07cmV0dXJuIHJbb10/ci5yZXBsYWNlUmlnaHQoZSx0KToic3RyaW5nIj09dHlwZW9mIHI/dGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aC0xXT1yLnJlcGxhY2UoZSx0KTp0aGlzLmNoaWxkcmVuLnB1c2goIiIucmVwbGFjZShlLHQpKSx0aGlzfSxuLnByb3RvdHlwZS5zZXRTb3VyY2VDb250ZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5zb3VyY2VDb250ZW50c1tzLnRvU2V0U3RyaW5nKGUpXT10fSxuLnByb3RvdHlwZS53YWxrU291cmNlQ29udGVudHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAscj10aGlzLmNoaWxkcmVuLmxlbmd0aDt0PHI7dCsrKXRoaXMuY2hpbGRyZW5bdF1bb10mJnRoaXMuY2hpbGRyZW5bdF0ud2Fsa1NvdXJjZUNvbnRlbnRzKGUpO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0aGlzLnNvdXJjZUNvbnRlbnRzKSx0PTAscj1uLmxlbmd0aDt0PHI7dCsrKWUocy5mcm9tU2V0U3RyaW5nKG5bdF0pLHRoaXMuc291cmNlQ29udGVudHNbblt0XV0pfSxuLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPSIiO3JldHVybiB0aGlzLndhbGsoZnVuY3Rpb24odCl7ZSs9dH0pLGV9LG4ucHJvdG90eXBlLnRvU3RyaW5nV2l0aFNvdXJjZU1hcD1mdW5jdGlvbihlKXt2YXIgdD17Y29kZToiIixsaW5lOjEsY29sdW1uOjB9LHI9bmV3IGkoZSksbj0hMSxzPW51bGwsYT1udWxsLG89bnVsbCx1PW51bGw7cmV0dXJuIHRoaXMud2FsayhmdW5jdGlvbihlLGkpe3QuY29kZSs9ZSxudWxsIT09aS5zb3VyY2UmJm51bGwhPT1pLmxpbmUmJm51bGwhPT1pLmNvbHVtbj8ocz09PWkuc291cmNlJiZhPT09aS5saW5lJiZvPT09aS5jb2x1bW4mJnU9PT1pLm5hbWV8fHIuYWRkTWFwcGluZyh7c291cmNlOmkuc291cmNlLG9yaWdpbmFsOntsaW5lOmkubGluZSxjb2x1bW46aS5jb2x1bW59LGdlbmVyYXRlZDp7bGluZTp0LmxpbmUsY29sdW1uOnQuY29sdW1ufSxuYW1lOmkubmFtZX0pLHM9aS5zb3VyY2UsYT1pLmxpbmUsbz1pLmNvbHVtbix1PWkubmFtZSxuPSEwKTpuJiYoci5hZGRNYXBwaW5nKHtnZW5lcmF0ZWQ6e2xpbmU6dC5saW5lLGNvbHVtbjp0LmNvbHVtbn19KSxzPW51bGwsbj0hMSk7Zm9yKHZhciBsPTAsYz1lLmxlbmd0aDtsPGM7bCsrKTEwPT09ZS5jaGFyQ29kZUF0KGwpPyh0LmxpbmUrKyx0LmNvbHVtbj0wLGwrMT09PWM/KHM9bnVsbCxuPSExKTpuJiZyLmFkZE1hcHBpbmcoe3NvdXJjZTppLnNvdXJjZSxvcmlnaW5hbDp7bGluZTppLmxpbmUsY29sdW1uOmkuY29sdW1ufSxnZW5lcmF0ZWQ6e2xpbmU6dC5saW5lLGNvbHVtbjp0LmNvbHVtbn0sbmFtZTppLm5hbWV9KSk6dC5jb2x1bW4rK30pLHRoaXMud2Fsa1NvdXJjZUNvbnRlbnRzKGZ1bmN0aW9uKGUsdCl7ci5zZXRTb3VyY2VDb250ZW50KGUsdCl9KSx7Y29kZTp0LmNvZGUsbWFwOnJ9fSx0LlNvdXJjZU5vZGU9bn0sZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1yKDE4MCkoKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP2UucmVwbGFjZShuLCIiKTplfX0sZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXsidXNlIHN0cmljdCI7dmFyIHI9dC5hcmd2LG49ci5pbmRleE9mKCItLSIpLGk9ZnVuY3Rpb24oZSl7ZT0iLS0iK2U7dmFyIHQ9ci5pbmRleE9mKGUpO3JldHVybi0xIT09dCYmKC0xPT09bnx8dDxuKX07ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIkZPUkNFX0NPTE9SImluIHQuZW52fHwhKGkoIm5vLWNvbG9yIil8fGkoIm5vLWNvbG9ycyIpfHxpKCJjb2xvcj1mYWxzZSIpKSYmKCEhKGkoImNvbG9yIil8fGkoImNvbG9ycyIpfHxpKCJjb2xvcj10cnVlIil8fGkoImNvbG9yPWFsd2F5cyIpKXx8ISh0LnN0ZG91dCYmIXQuc3Rkb3V0LmlzVFRZKSYmKCJ3aW4zMiI9PT10LnBsYXRmb3JtfHwoIkNPTE9SVEVSTSJpbiB0LmVudnx8ImR1bWIiIT09dC5lbnYuVEVSTSYmISEvXnNjcmVlbnxeeHRlcm18XnZ0MTAwfGNvbG9yfGFuc2l8Y3lnd2lufGxpbnV4L2kudGVzdCh0LmVudi5URVJNKSkpKX0oKX0pLmNhbGwodCxyKDgpKX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7dmFyIHI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9O2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQpe2Z1bmN0aW9uIG4oKXt9ZnVuY3Rpb24gaSgpe3JldHVybiByKHMuZm9vKX1uLnByb3RvdHlwZT10O3ZhciBzPW5ldyBuO3JldHVybiBpKCksaSgpLHR9fSxmdW5jdGlvbihlLHQpeyJ1c2Ugc3RyaWN0IjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUubGVuZ3RoOy9bXHNcdUZFRkZcdTAwQTBdLy50ZXN0KGVbdC0xXSk7KXQtLTtyZXR1cm4gZS5zbGljZSgwLHQpfX0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dDt2YXIgcj1mdW5jdGlvbigpe307ci5wcm90b3R5cGU9dC5wcm90b3R5cGUsZS5wcm90b3R5cGU9bmV3IHIsZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZX19LGZ1bmN0aW9uKGUsdCl7InVzZSBzdHJpY3QiO3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJvYmplY3QiPT09KHZvaWQgMD09PWU/InVuZGVmaW5lZCI6cihlKSkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvcHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmZpbGwmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLnJlYWRVSW50OH19LGZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3QudmVyc2lvbj0iNi4yNi4wIn0sZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihlLHQpe3ZhciByPXZvaWQgMDtyZXR1cm4gbnVsbCE9dC51cmw/cj10LnVybDoocj0iSW5saW5lIEJhYmVsIHNjcmlwdCIsKytwPjEmJihyKz0iICgiK3ArIikiKSksZSh0LmNvbnRlbnQsbCh7ZmlsZW5hbWU6cn0sbih0KSkpLmNvZGV9ZnVuY3Rpb24gbihlKXtyZXR1cm57cHJlc2V0czplLnByZXNldHN8fFsicmVhY3QiLCJlczIwMTUiXSxwbHVnaW5zOmUucGx1Z2luc3x8WyJ0cmFuc2Zvcm0tY2xhc3MtcHJvcGVydGllcyIsInRyYW5zZm9ybS1vYmplY3QtcmVzdC1zcHJlYWQiLCJ0cmFuc2Zvcm0tZmxvdy1zdHJpcC10eXBlcyJdLHNvdXJjZU1hcHM6ImlubGluZSJ9fWZ1bmN0aW9uIGkoZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnRleHQ9cihlLHQpLGYuYXBwZW5kQ2hpbGQobil9ZnVuY3Rpb24gcyhlLHQscil7dmFyIG49bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBuLm9wZW4oIkdFVCIsZSwhMCksIm92ZXJyaWRlTWltZVR5cGUiaW4gbiYmbi5vdmVycmlkZU1pbWVUeXBlKCJ0ZXh0L3BsYWluIiksbi5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZig0PT09bi5yZWFkeVN0YXRlKXtpZigwIT09bi5zdGF0dXMmJjIwMCE9PW4uc3RhdHVzKXRocm93IHIoKSxuZXcgRXJyb3IoIkNvdWxkIG5vdCBsb2FkICIrZSk7dChuLnJlc3BvbnNlVGV4dCl9fSxuLnNlbmQobnVsbCl9ZnVuY3Rpb24gYShlLHQpe3ZhciByPWUuZ2V0QXR0cmlidXRlKHQpO3JldHVybiIiPT09cj9bXTpyP3Iuc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSk6bnVsbH1mdW5jdGlvbiBvKGUsdCl7ZnVuY3Rpb24gcigpe3ZhciB0LHI7Zm9yKHI9MDtyPG87cisrKWlmKHQ9bltyXSx0LmxvYWRlZCYmIXQuZXhlY3V0ZWQpdC5leGVjdXRlZD0hMCxpKGUsdCk7ZWxzZSBpZighdC5sb2FkZWQmJiF0LmVycm9yJiYhdC5hc3luYylicmVha312YXIgbj1bXSxvPXQubGVuZ3RoO3QuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBpPXthc3luYzplLmhhc0F0dHJpYnV0ZSgiYXN5bmMiKSxlcnJvcjohMSxleGVjdXRlZDohMSxwbHVnaW5zOmEoZSwiZGF0YS1wbHVnaW5zIikscHJlc2V0czphKGUsImRhdGEtcHJlc2V0cyIpfTtlLnNyYz8oblt0XT1sKHt9LGkse2NvbnRlbnQ6bnVsbCxsb2FkZWQ6ITEsdXJsOmUuc3JjfSkscyhlLnNyYyxmdW5jdGlvbihlKXtuW3RdLmxvYWRlZD0hMCxuW3RdLmNvbnRlbnQ9ZSxyKCl9LGZ1bmN0aW9uKCl7blt0XS5lcnJvcj0hMCxyKCl9KSk6blt0XT1sKHt9LGkse2NvbnRlbnQ6ZS5pbm5lckhUTUwsbG9hZGVkOiEwLHVybDpudWxsfSl9KSxyKCl9ZnVuY3Rpb24gdShlLHQpe2Y9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSx0fHwodD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IikpO2Zvcih2YXIgcj1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXQuaXRlbShuKSxzPWkudHlwZS5zcGxpdCgiOyIpWzBdOy0xIT09Yy5pbmRleE9mKHMpJiZyLnB1c2goaSl9MCE9PXIubGVuZ3RoJiYoY29uc29sZS53YXJuKCJZb3UgYXJlIHVzaW5nIHRoZSBpbi1icm93c2VyIEJhYmVsIHRyYW5zZm9ybWVyLiBCZSBzdXJlIHRvIHByZWNvbXBpbGUgeW91ciBzY3JpcHRzIGZvciBwcm9kdWN0aW9uIC0gaHR0cHM6Ly9iYWJlbGpzLmlvL2RvY3Mvc2V0dXAvIiksbyhlLHIpKX1PYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX07dC5ydW5TY3JpcHRzPXU7dmFyIGM9WyJ0ZXh0L2pzeCIsInRleHQvYmFiZWwiXSxmPXZvaWQgMCxwPTB9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtidWlsdGluOntBcnJheTohMSxBcnJheUJ1ZmZlcjohMSxCb29sZWFuOiExLGNvbnN0cnVjdG9yOiExLERhdGFWaWV3OiExLERhdGU6ITEsZGVjb2RlVVJJOiExLGRlY29kZVVSSUNvbXBvbmVudDohMSxlbmNvZGVVUkk6ITEsZW5jb2RlVVJJQ29tcG9uZW50OiExLEVycm9yOiExLGVzY2FwZTohMSxldmFsOiExLEV2YWxFcnJvcjohMSxGbG9hdDMyQXJyYXk6ITEsRmxvYXQ2NEFycmF5OiExLEZ1bmN0aW9uOiExLGhhc093blByb3BlcnR5OiExLEluZmluaXR5OiExLEludDE2QXJyYXk6ITEsSW50MzJBcnJheTohMSxJbnQ4QXJyYXk6ITEsaXNGaW5pdGU6ITEsaXNOYU46ITEsaXNQcm90b3R5cGVPZjohMSxKU09OOiExLE1hcDohMSxNYXRoOiExLE5hTjohMSxOdW1iZXI6ITEsT2JqZWN0OiExLHBhcnNlRmxvYXQ6ITEscGFyc2VJbnQ6ITEsUHJvbWlzZTohMSxwcm9wZXJ0eUlzRW51bWVyYWJsZTohMSxQcm94eTohMSxSYW5nZUVycm9yOiExLFJlZmVyZW5jZUVycm9yOiExLFJlZmxlY3Q6ITEsUmVnRXhwOiExLFNldDohMSxTdHJpbmc6ITEsU3ltYm9sOiExLFN5bnRheEVycm9yOiExLFN5c3RlbTohMSx0b0xvY2FsZVN0cmluZzohMSx0b1N0cmluZzohMSxUeXBlRXJyb3I6ITEsVWludDE2QXJyYXk6ITEsVWludDMyQXJyYXk6ITEsVWludDhBcnJheTohMSxVaW50OENsYW1wZWRBcnJheTohMSx1bmRlZmluZWQ6ITEsdW5lc2NhcGU6ITEsVVJJRXJyb3I6ITEsCnZhbHVlT2Y6ITEsV2Vha01hcDohMSxXZWFrU2V0OiExfSxlczU6e0FycmF5OiExLEJvb2xlYW46ITEsY29uc3RydWN0b3I6ITEsRGF0ZTohMSxkZWNvZGVVUkk6ITEsZGVjb2RlVVJJQ29tcG9uZW50OiExLGVuY29kZVVSSTohMSxlbmNvZGVVUklDb21wb25lbnQ6ITEsRXJyb3I6ITEsZXNjYXBlOiExLGV2YWw6ITEsRXZhbEVycm9yOiExLEZ1bmN0aW9uOiExLGhhc093blByb3BlcnR5OiExLEluZmluaXR5OiExLGlzRmluaXRlOiExLGlzTmFOOiExLGlzUHJvdG90eXBlT2Y6ITEsSlNPTjohMSxNYXRoOiExLE5hTjohMSxOdW1iZXI6ITEsT2JqZWN0OiExLHBhcnNlRmxvYXQ6ITEscGFyc2VJbnQ6ITEscHJvcGVydHlJc0VudW1lcmFibGU6ITEsUmFuZ2VFcnJvcjohMSxSZWZlcmVuY2VFcnJvcjohMSxSZWdFeHA6ITEsU3RyaW5nOiExLFN5bnRheEVycm9yOiExLHRvTG9jYWxlU3RyaW5nOiExLHRvU3RyaW5nOiExLFR5cGVFcnJvcjohMSx1bmRlZmluZWQ6ITEsdW5lc2NhcGU6ITEsVVJJRXJyb3I6ITEsdmFsdWVPZjohMX0sZXM2OntBcnJheTohMSxBcnJheUJ1ZmZlcjohMSxCb29sZWFuOiExLGNvbnN0cnVjdG9yOiExLERhdGFWaWV3OiExLERhdGU6ITEsZGVjb2RlVVJJOiExLGRlY29kZVVSSUNvbXBvbmVudDohMSxlbmNvZGVVUkk6ITEsZW5jb2RlVVJJQ29tcG9uZW50OiExLEVycm9yOiExLGVzY2FwZTohMSxldmFsOiExLEV2YWxFcnJvcjohMSxGbG9hdDMyQXJyYXk6ITEsRmxvYXQ2NEFycmF5OiExLEZ1bmN0aW9uOiExLGhhc093blByb3BlcnR5OiExLEluZmluaXR5OiExLEludDE2QXJyYXk6ITEsSW50MzJBcnJheTohMSxJbnQ4QXJyYXk6ITEsaXNGaW5pdGU6ITEsaXNOYU46ITEsaXNQcm90b3R5cGVPZjohMSxKU09OOiExLE1hcDohMSxNYXRoOiExLE5hTjohMSxOdW1iZXI6ITEsT2JqZWN0OiExLHBhcnNlRmxvYXQ6ITEscGFyc2VJbnQ6ITEsUHJvbWlzZTohMSxwcm9wZXJ0eUlzRW51bWVyYWJsZTohMSxQcm94eTohMSxSYW5nZUVycm9yOiExLFJlZmVyZW5jZUVycm9yOiExLFJlZmxlY3Q6ITEsUmVnRXhwOiExLFNldDohMSxTdHJpbmc6ITEsU3ltYm9sOiExLFN5bnRheEVycm9yOiExLFN5c3RlbTohMSx0b0xvY2FsZVN0cmluZzohMSx0b1N0cmluZzohMSxUeXBlRXJyb3I6ITEsVWludDE2QXJyYXk6ITEsVWludDMyQXJyYXk6ITEsVWludDhBcnJheTohMSxVaW50OENsYW1wZWRBcnJheTohMSx1bmRlZmluZWQ6ITEsdW5lc2NhcGU6ITEsVVJJRXJyb3I6ITEsdmFsdWVPZjohMSxXZWFrTWFwOiExLFdlYWtTZXQ6ITF9LGJyb3dzZXI6e2FkZEV2ZW50TGlzdGVuZXI6ITEsYWxlcnQ6ITEsQW5hbHlzZXJOb2RlOiExLEFuaW1hdGlvbjohMSxBbmltYXRpb25FZmZlY3RSZWFkT25seTohMSxBbmltYXRpb25FZmZlY3RUaW1pbmc6ITEsQW5pbWF0aW9uRWZmZWN0VGltaW5nUmVhZE9ubHk6ITEsQW5pbWF0aW9uRXZlbnQ6ITEsQW5pbWF0aW9uUGxheWJhY2tFdmVudDohMSxBbmltYXRpb25UaW1lbGluZTohMSxhcHBsaWNhdGlvbkNhY2hlOiExLEFwcGxpY2F0aW9uQ2FjaGU6ITEsQXBwbGljYXRpb25DYWNoZUVycm9yRXZlbnQ6ITEsYXRvYjohMSxBdHRyOiExLEF1ZGlvOiExLEF1ZGlvQnVmZmVyOiExLEF1ZGlvQnVmZmVyU291cmNlTm9kZTohMSxBdWRpb0NvbnRleHQ6ITEsQXVkaW9EZXN0aW5hdGlvbk5vZGU6ITEsQXVkaW9MaXN0ZW5lcjohMSxBdWRpb05vZGU6ITEsQXVkaW9QYXJhbTohMSxBdWRpb1Byb2Nlc3NpbmdFdmVudDohMSxBdXRvY29tcGxldGVFcnJvckV2ZW50OiExLEJhclByb3A6ITEsQmF0dGVyeU1hbmFnZXI6ITEsQmVmb3JlVW5sb2FkRXZlbnQ6ITEsQmlxdWFkRmlsdGVyTm9kZTohMSxCbG9iOiExLGJsdXI6ITEsYnRvYTohMSxDYWNoZTohMSxjYWNoZXM6ITEsQ2FjaGVTdG9yYWdlOiExLGNhbmNlbEFuaW1hdGlvbkZyYW1lOiExLGNhbmNlbElkbGVDYWxsYmFjazohMSxDYW52YXNHcmFkaWVudDohMSxDYW52YXNQYXR0ZXJuOiExLENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDohMSxDREFUQVNlY3Rpb246ITEsQ2hhbm5lbE1lcmdlck5vZGU6ITEsQ2hhbm5lbFNwbGl0dGVyTm9kZTohMSxDaGFyYWN0ZXJEYXRhOiExLGNsZWFySW50ZXJ2YWw6ITEsY2xlYXJUaW1lb3V0OiExLGNsaWVudEluZm9ybWF0aW9uOiExLENsaWVudFJlY3Q6ITEsQ2xpZW50UmVjdExpc3Q6ITEsQ2xpcGJvYXJkRXZlbnQ6ITEsY2xvc2U6ITEsY2xvc2VkOiExLENsb3NlRXZlbnQ6ITEsQ29tbWVudDohMSxDb21wb3NpdGlvbkV2ZW50OiExLGNvbmZpcm06ITEsY29uc29sZTohMSxDb252b2x2ZXJOb2RlOiExLGNyZWF0ZUltYWdlQml0bWFwOiExLENyZWRlbnRpYWw6ITEsQ3JlZGVudGlhbHNDb250YWluZXI6ITEsY3J5cHRvOiExLENyeXB0bzohMSxDcnlwdG9LZXk6ITEsQ1NTOiExLENTU0FuaW1hdGlvbjohMSxDU1NGb250RmFjZVJ1bGU6ITEsQ1NTSW1wb3J0UnVsZTohMSxDU1NLZXlmcmFtZVJ1bGU6ITEsQ1NTS2V5ZnJhbWVzUnVsZTohMSxDU1NNZWRpYVJ1bGU6ITEsQ1NTUGFnZVJ1bGU6ITEsQ1NTUnVsZTohMSxDU1NSdWxlTGlzdDohMSxDU1NTdHlsZURlY2xhcmF0aW9uOiExLENTU1N0eWxlUnVsZTohMSxDU1NTdHlsZVNoZWV0OiExLENTU1N1cHBvcnRzUnVsZTohMSxDU1NUcmFuc2l0aW9uOiExLENTU1Vua25vd25SdWxlOiExLENTU1ZpZXdwb3J0UnVsZTohMSxjdXN0b21FbGVtZW50czohMSxDdXN0b21FdmVudDohMSxEYXRhVHJhbnNmZXI6ITEsRGF0YVRyYW5zZmVySXRlbTohMSxEYXRhVHJhbnNmZXJJdGVtTGlzdDohMSxEZWJ1ZzohMSxkZWZhdWx0U3RhdHVzOiExLGRlZmF1bHRzdGF0dXM6ITEsRGVsYXlOb2RlOiExLERldmljZU1vdGlvbkV2ZW50OiExLERldmljZU9yaWVudGF0aW9uRXZlbnQ6ITEsZGV2aWNlUGl4ZWxSYXRpbzohMSxkaXNwYXRjaEV2ZW50OiExLGRvY3VtZW50OiExLERvY3VtZW50OiExLERvY3VtZW50RnJhZ21lbnQ6ITEsRG9jdW1lbnRUaW1lbGluZTohMSxEb2N1bWVudFR5cGU6ITEsRE9NRXJyb3I6ITEsRE9NRXhjZXB0aW9uOiExLERPTUltcGxlbWVudGF0aW9uOiExLERPTVBhcnNlcjohMSxET01TZXR0YWJsZVRva2VuTGlzdDohMSxET01TdHJpbmdMaXN0OiExLERPTVN0cmluZ01hcDohMSxET01Ub2tlbkxpc3Q6ITEsRHJhZ0V2ZW50OiExLER5bmFtaWNzQ29tcHJlc3Nvck5vZGU6ITEsRWxlbWVudDohMSxFbGVtZW50VGltZUNvbnRyb2w6ITEsRXJyb3JFdmVudDohMSxldmVudDohMSxFdmVudDohMSxFdmVudFNvdXJjZTohMSxFdmVudFRhcmdldDohMSxleHRlcm5hbDohMSxGZWRlcmF0ZWRDcmVkZW50aWFsOiExLGZldGNoOiExLEZpbGU6ITEsRmlsZUVycm9yOiExLEZpbGVMaXN0OiExLEZpbGVSZWFkZXI6ITEsZmluZDohMSxmb2N1czohMSxGb2N1c0V2ZW50OiExLEZvbnRGYWNlOiExLEZvcm1EYXRhOiExLGZyYW1lRWxlbWVudDohMSxmcmFtZXM6ITEsR2Fpbk5vZGU6ITEsR2FtZXBhZDohMSxHYW1lcGFkQnV0dG9uOiExLEdhbWVwYWRFdmVudDohMSxnZXRDb21wdXRlZFN0eWxlOiExLGdldFNlbGVjdGlvbjohMSxIYXNoQ2hhbmdlRXZlbnQ6ITEsSGVhZGVyczohMSxoaXN0b3J5OiExLEhpc3Rvcnk6ITEsSFRNTEFsbENvbGxlY3Rpb246ITEsSFRNTEFuY2hvckVsZW1lbnQ6ITEsSFRNTEFwcGxldEVsZW1lbnQ6ITEsSFRNTEFyZWFFbGVtZW50OiExLEhUTUxBdWRpb0VsZW1lbnQ6ITEsSFRNTEJhc2VFbGVtZW50OiExLEhUTUxCbG9ja3F1b3RlRWxlbWVudDohMSxIVE1MQm9keUVsZW1lbnQ6ITEsSFRNTEJSRWxlbWVudDohMSxIVE1MQnV0dG9uRWxlbWVudDohMSxIVE1MQ2FudmFzRWxlbWVudDohMSxIVE1MQ29sbGVjdGlvbjohMSxIVE1MQ29udGVudEVsZW1lbnQ6ITEsSFRNTERhdGFMaXN0RWxlbWVudDohMSxIVE1MRGV0YWlsc0VsZW1lbnQ6ITEsSFRNTERpYWxvZ0VsZW1lbnQ6ITEsSFRNTERpcmVjdG9yeUVsZW1lbnQ6ITEsSFRNTERpdkVsZW1lbnQ6ITEsSFRNTERMaXN0RWxlbWVudDohMSxIVE1MRG9jdW1lbnQ6ITEsSFRNTEVsZW1lbnQ6ITEsSFRNTEVtYmVkRWxlbWVudDohMSxIVE1MRmllbGRTZXRFbGVtZW50OiExLEhUTUxGb250RWxlbWVudDohMSxIVE1MRm9ybUNvbnRyb2xzQ29sbGVjdGlvbjohMSxIVE1MRm9ybUVsZW1lbnQ6ITEsSFRNTEZyYW1lRWxlbWVudDohMSxIVE1MRnJhbWVTZXRFbGVtZW50OiExLEhUTUxIZWFkRWxlbWVudDohMSxIVE1MSGVhZGluZ0VsZW1lbnQ6ITEsSFRNTEhSRWxlbWVudDohMSxIVE1MSHRtbEVsZW1lbnQ6ITEsSFRNTElGcmFtZUVsZW1lbnQ6ITEsSFRNTEltYWdlRWxlbWVudDohMSxIVE1MSW5wdXRFbGVtZW50OiExLEhUTUxJc0luZGV4RWxlbWVudDohMSxIVE1MS2V5Z2VuRWxlbWVudDohMSxIVE1MTGFiZWxFbGVtZW50OiExLEhUTUxMYXllckVsZW1lbnQ6ITEsSFRNTExlZ2VuZEVsZW1lbnQ6ITEsSFRNTExJRWxlbWVudDohMSxIVE1MTGlua0VsZW1lbnQ6ITEsSFRNTE1hcEVsZW1lbnQ6ITEsSFRNTE1hcnF1ZWVFbGVtZW50OiExLEhUTUxNZWRpYUVsZW1lbnQ6ITEsSFRNTE1lbnVFbGVtZW50OiExLEhUTUxNZXRhRWxlbWVudDohMSxIVE1MTWV0ZXJFbGVtZW50OiExLEhUTUxNb2RFbGVtZW50OiExLEhUTUxPYmplY3RFbGVtZW50OiExLEhUTUxPTGlzdEVsZW1lbnQ6ITEsSFRNTE9wdEdyb3VwRWxlbWVudDohMSxIVE1MT3B0aW9uRWxlbWVudDohMSxIVE1MT3B0aW9uc0NvbGxlY3Rpb246ITEsSFRNTE91dHB1dEVsZW1lbnQ6ITEsSFRNTFBhcmFncmFwaEVsZW1lbnQ6ITEsSFRNTFBhcmFtRWxlbWVudDohMSxIVE1MUGljdHVyZUVsZW1lbnQ6ITEsSFRNTFByZUVsZW1lbnQ6ITEsSFRNTFByb2dyZXNzRWxlbWVudDohMSxIVE1MUXVvdGVFbGVtZW50OiExLEhUTUxTY3JpcHRFbGVtZW50OiExLEhUTUxTZWxlY3RFbGVtZW50OiExLEhUTUxTaGFkb3dFbGVtZW50OiExLEhUTUxTb3VyY2VFbGVtZW50OiExLEhUTUxTcGFuRWxlbWVudDohMSxIVE1MU3R5bGVFbGVtZW50OiExLEhUTUxUYWJsZUNhcHRpb25FbGVtZW50OiExLEhUTUxUYWJsZUNlbGxFbGVtZW50OiExLEhUTUxUYWJsZUNvbEVsZW1lbnQ6ITEsSFRNTFRhYmxlRWxlbWVudDohMSxIVE1MVGFibGVSb3dFbGVtZW50OiExLEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50OiExLEhUTUxUZW1wbGF0ZUVsZW1lbnQ6ITEsSFRNTFRleHRBcmVhRWxlbWVudDohMSxIVE1MVGl0bGVFbGVtZW50OiExLEhUTUxUcmFja0VsZW1lbnQ6ITEsSFRNTFVMaXN0RWxlbWVudDohMSxIVE1MVW5rbm93bkVsZW1lbnQ6ITEsSFRNTFZpZGVvRWxlbWVudDohMSxJREJDdXJzb3I6ITEsSURCQ3Vyc29yV2l0aFZhbHVlOiExLElEQkRhdGFiYXNlOiExLElEQkVudmlyb25tZW50OiExLElEQkZhY3Rvcnk6ITEsSURCSW5kZXg6ITEsSURCS2V5UmFuZ2U6ITEsSURCT2JqZWN0U3RvcmU6ITEsSURCT3BlbkRCUmVxdWVzdDohMSxJREJSZXF1ZXN0OiExLElEQlRyYW5zYWN0aW9uOiExLElEQlZlcnNpb25DaGFuZ2VFdmVudDohMSxJbWFnZTohMSxJbWFnZUJpdG1hcDohMSxJbWFnZURhdGE6ITEsaW5kZXhlZERCOiExLGlubmVySGVpZ2h0OiExLGlubmVyV2lkdGg6ITEsSW5wdXRFdmVudDohMSxJbnB1dE1ldGhvZENvbnRleHQ6ITEsSW50ZXJzZWN0aW9uT2JzZXJ2ZXI6ITEsSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeTohMSxJbnRsOiExLEtleWJvYXJkRXZlbnQ6ITEsS2V5ZnJhbWVFZmZlY3Q6ITEsS2V5ZnJhbWVFZmZlY3RSZWFkT25seTohMSxsZW5ndGg6ITEsbG9jYWxTdG9yYWdlOiExLGxvY2F0aW9uOiExLExvY2F0aW9uOiExLGxvY2F0aW9uYmFyOiExLG1hdGNoTWVkaWE6ITEsTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlOiExLE1lZGlhRW5jcnlwdGVkRXZlbnQ6ITEsTWVkaWFFcnJvcjohMSxNZWRpYUtleUVycm9yOiExLE1lZGlhS2V5RXZlbnQ6ITEsTWVkaWFLZXlNZXNzYWdlRXZlbnQ6ITEsTWVkaWFLZXlzOiExLE1lZGlhS2V5U2Vzc2lvbjohMSxNZWRpYUtleVN0YXR1c01hcDohMSxNZWRpYUtleVN5c3RlbUFjY2VzczohMSxNZWRpYUxpc3Q6ITEsTWVkaWFRdWVyeUxpc3Q6ITEsTWVkaWFRdWVyeUxpc3RFdmVudDohMSxNZWRpYVNvdXJjZTohMSxNZWRpYVJlY29yZGVyOiExLE1lZGlhU3RyZWFtOiExLE1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGU6ITEsTWVkaWFTdHJlYW1BdWRpb1NvdXJjZU5vZGU6ITEsTWVkaWFTdHJlYW1FdmVudDohMSxNZWRpYVN0cmVhbVRyYWNrOiExLG1lbnViYXI6ITEsTWVzc2FnZUNoYW5uZWw6ITEsTWVzc2FnZUV2ZW50OiExLE1lc3NhZ2VQb3J0OiExLE1JRElBY2Nlc3M6ITEsTUlESUNvbm5lY3Rpb25FdmVudDohMSxNSURJSW5wdXQ6ITEsTUlESUlucHV0TWFwOiExLE1JRElNZXNzYWdlRXZlbnQ6ITEsTUlESU91dHB1dDohMSxNSURJT3V0cHV0TWFwOiExLE1JRElQb3J0OiExLE1pbWVUeXBlOiExLE1pbWVUeXBlQXJyYXk6ITEsTW91c2VFdmVudDohMSxtb3ZlQnk6ITEsbW92ZVRvOiExLE11dGF0aW9uRXZlbnQ6ITEsTXV0YXRpb25PYnNlcnZlcjohMSxNdXRhdGlvblJlY29yZDohMSxuYW1lOiExLE5hbWVkTm9kZU1hcDohMSxuYXZpZ2F0b3I6ITEsTmF2aWdhdG9yOiExLE5vZGU6ITEsTm9kZUZpbHRlcjohMSxOb2RlSXRlcmF0b3I6ITEsTm9kZUxpc3Q6ITEsTm90aWZpY2F0aW9uOiExLE9mZmxpbmVBdWRpb0NvbXBsZXRpb25FdmVudDohMSxPZmZsaW5lQXVkaW9Db250ZXh0OiExLG9mZnNjcmVlbkJ1ZmZlcmluZzohMSxvbmJlZm9yZXVubG9hZDohMCxvbmJsdXI6ITAsb25lcnJvcjohMCxvbmZvY3VzOiEwLG9ubG9hZDohMCxvbnJlc2l6ZTohMCxvbnVubG9hZDohMCxvcGVuOiExLG9wZW5EYXRhYmFzZTohMSxvcGVuZXI6ITEsb3BlcmE6ITEsT3B0aW9uOiExLE9zY2lsbGF0b3JOb2RlOiExLG91dGVySGVpZ2h0OiExLG91dGVyV2lkdGg6ITEsUGFnZVRyYW5zaXRpb25FdmVudDohMSxwYWdlWE9mZnNldDohMSxwYWdlWU9mZnNldDohMSxwYXJlbnQ6ITEsUGFzc3dvcmRDcmVkZW50aWFsOiExLFBhdGgyRDohMSxwZXJmb3JtYW5jZTohMSxQZXJmb3JtYW5jZTohMSxQZXJmb3JtYW5jZUVudHJ5OiExLFBlcmZvcm1hbmNlTWFyazohMSxQZXJmb3JtYW5jZU1lYXN1cmU6ITEsUGVyZm9ybWFuY2VOYXZpZ2F0aW9uOiExLFBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmc6ITEsUGVyZm9ybWFuY2VUaW1pbmc6ITEsUGVyaW9kaWNXYXZlOiExLFBlcm1pc3Npb25zOiExLFBlcm1pc3Npb25TdGF0dXM6ITEscGVyc29uYWxiYXI6ITEsUGx1Z2luOiExLFBsdWdpbkFycmF5OiExLFBvcFN0YXRlRXZlbnQ6ITEscG9zdE1lc3NhZ2U6ITEscHJpbnQ6ITEsUHJvY2Vzc2luZ0luc3RydWN0aW9uOiExLFByb2dyZXNzRXZlbnQ6ITEsUHJvbWlzZVJlamVjdGlvbkV2ZW50OiExLHByb21wdDohMSxQdXNoTWFuYWdlcjohMSxQdXNoU3Vic2NyaXB0aW9uOiExLFJhZGlvTm9kZUxpc3Q6ITEsUmFuZ2U6ITEsUmVhZGFibGVCeXRlU3RyZWFtOiExLFJlYWRhYmxlU3RyZWFtOiExLHJlbW92ZUV2ZW50TGlzdGVuZXI6ITEsUmVxdWVzdDohMSxyZXF1ZXN0QW5pbWF0aW9uRnJhbWU6ITEscmVxdWVzdElkbGVDYWxsYmFjazohMSxyZXNpemVCeTohMSxyZXNpemVUbzohMSxSZXNwb25zZTohMSxSVENJY2VDYW5kaWRhdGU6ITEsUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiExLFJUQ1BlZXJDb25uZWN0aW9uOiExLHNjcmVlbjohMSxTY3JlZW46ITEsc2NyZWVuTGVmdDohMSxTY3JlZW5PcmllbnRhdGlvbjohMSxzY3JlZW5Ub3A6ITEsc2NyZWVuWDohMSxzY3JlZW5ZOiExLFNjcmlwdFByb2Nlc3Nvck5vZGU6ITEsc2Nyb2xsOiExLHNjcm9sbGJhcnM6ITEsc2Nyb2xsQnk6ITEsc2Nyb2xsVG86ITEsc2Nyb2xsWDohMSxzY3JvbGxZOiExLFNlY3VyaXR5UG9saWN5VmlvbGF0aW9uRXZlbnQ6ITEsU2VsZWN0aW9uOiExLHNlbGY6ITEsU2VydmljZVdvcmtlcjohMSxTZXJ2aWNlV29ya2VyQ29udGFpbmVyOiExLFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb246ITEsc2Vzc2lvblN0b3JhZ2U6ITEsc2V0SW50ZXJ2YWw6ITEsc2V0VGltZW91dDohMSxTaGFkb3dSb290OiExLFNoYXJlZEtleWZyYW1lTGlzdDohMSxTaGFyZWRXb3JrZXI6ITEsc2hvd01vZGFsRGlhbG9nOiExLFNpdGVCb3VuZENyZWRlbnRpYWw6ITEsc3BlZWNoU3ludGhlc2lzOiExLFNwZWVjaFN5bnRoZXNpc0V2ZW50OiExLFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZTohMSxzdGF0dXM6ITEsc3RhdHVzYmFyOiExLHN0b3A6ITEsU3RvcmFnZTohMSxTdG9yYWdlRXZlbnQ6ITEsc3R5bGVNZWRpYTohMSxTdHlsZVNoZWV0OiExLFN0eWxlU2hlZXRMaXN0OiExLFN1YnRsZUNyeXB0bzohMSxTVkdBRWxlbWVudDohMSxTVkdBbHRHbHlwaERlZkVsZW1lbnQ6ITEsU1ZHQWx0R2x5cGhFbGVtZW50OiExLFNWR0FsdEdseXBoSXRlbUVsZW1lbnQ6ITEsU1ZHQW5nbGU6ITEsU1ZHQW5pbWF0ZUNvbG9yRWxlbWVudDohMSxTVkdBbmltYXRlZEFuZ2xlOiExLFNWR0FuaW1hdGVkQm9vbGVhbjohMSxTVkdBbmltYXRlZEVudW1lcmF0aW9uOiExLFNWR0FuaW1hdGVkSW50ZWdlcjohMSxTVkdBbmltYXRlZExlbmd0aDohMSxTVkdBbmltYXRlZExlbmd0aExpc3Q6ITEsU1ZHQW5pbWF0ZWROdW1iZXI6ITEsU1ZHQW5pbWF0ZWROdW1iZXJMaXN0OiExLFNWR0FuaW1hdGVkUGF0aERhdGE6ITEsU1ZHQW5pbWF0ZWRQb2ludHM6ITEsU1ZHQW5pbWF0ZWRQcmVzZXJ2ZUFzcGVjdFJhdGlvOiExLFNWR0FuaW1hdGVkUmVjdDohMSxTVkdBbmltYXRlZFN0cmluZzohMSxTVkdBbmltYXRlZFRyYW5zZm9ybUxpc3Q6ITEsU1ZHQW5pbWF0ZUVsZW1lbnQ6ITEsU1ZHQW5pbWF0ZU1vdGlvbkVsZW1lbnQ6ITEsU1ZHQW5pbWF0ZVRyYW5zZm9ybUVsZW1lbnQ6ITEsU1ZHQW5pbWF0aW9uRWxlbWVudDohMSxTVkdDaXJjbGVFbGVtZW50OiExLFNWR0NsaXBQYXRoRWxlbWVudDohMSxTVkdDb2xvcjohMSxTVkdDb2xvclByb2ZpbGVFbGVtZW50OiExLFNWR0NvbG9yUHJvZmlsZVJ1bGU6ITEsU1ZHQ29tcG9uZW50VHJhbnNmZXJGdW5jdGlvbkVsZW1lbnQ6ITEsU1ZHQ1NTUnVsZTohMSxTVkdDdXJzb3JFbGVtZW50OiExLFNWR0RlZnNFbGVtZW50OiExLFNWR0Rlc2NFbGVtZW50OiExLFNWR0Rpc2NhcmRFbGVtZW50OiExLFNWR0RvY3VtZW50OiExLFNWR0VsZW1lbnQ6ITEsU1ZHRWxlbWVudEluc3RhbmNlOiExLFNWR0VsZW1lbnRJbnN0YW5jZUxpc3Q6ITEsU1ZHRWxsaXBzZUVsZW1lbnQ6ITEsU1ZHRXZlbnQ6ITEsU1ZHRXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZDohMSxTVkdGRUJsZW5kRWxlbWVudDohMSxTVkdGRUNvbG9yTWF0cml4RWxlbWVudDohMSxTVkdGRUNvbXBvbmVudFRyYW5zZmVyRWxlbWVudDohMSxTVkdGRUNvbXBvc2l0ZUVsZW1lbnQ6ITEsU1ZHRkVDb252b2x2ZU1hdHJpeEVsZW1lbnQ6ITEsU1ZHRkVEaWZmdXNlTGlnaHRpbmdFbGVtZW50OiExLFNWR0ZFRGlzcGxhY2VtZW50TWFwRWxlbWVudDohMSxTVkdGRURpc3RhbnRMaWdodEVsZW1lbnQ6ITEsU1ZHRkVEcm9wU2hhZG93RWxlbWVudDohMSxTVkdGRUZsb29kRWxlbWVudDohMSxTVkdGRUZ1bmNBRWxlbWVudDohMSxTVkdGRUZ1bmNCRWxlbWVudDohMSxTVkdGRUZ1bmNHRWxlbWVudDohMSxTVkdGRUZ1bmNSRWxlbWVudDohMSxTVkdGRUdhdXNzaWFuQmx1ckVsZW1lbnQ6ITEsU1ZHRkVJbWFnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZUVsZW1lbnQ6ITEsU1ZHRkVNZXJnZU5vZGVFbGVtZW50OiExLFNWR0ZFTW9ycGhvbG9neUVsZW1lbnQ6ITEsU1ZHRkVPZmZzZXRFbGVtZW50OiExLFNWR0ZFUG9pbnRMaWdodEVsZW1lbnQ6ITEsU1ZHRkVTcGVjdWxhckxpZ2h0aW5nRWxlbWVudDohMSxTVkdGRVNwb3RMaWdodEVsZW1lbnQ6ITEsU1ZHRkVUaWxlRWxlbWVudDohMSxTVkdGRVR1cmJ1bGVuY2VFbGVtZW50OiExLFNWR0ZpbHRlckVsZW1lbnQ6ITEsU1ZHRmlsdGVyUHJpbWl0aXZlU3RhbmRhcmRBdHRyaWJ1dGVzOiExLFNWR0ZpdFRvVmlld0JveDohMSxTVkdGb250RWxlbWVudDohMSxTVkdGb250RmFjZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VGb3JtYXRFbGVtZW50OiExLFNWR0ZvbnRGYWNlTmFtZUVsZW1lbnQ6ITEsU1ZHRm9udEZhY2VTcmNFbGVtZW50OiExLFNWR0ZvbnRGYWNlVXJpRWxlbWVudDohMSxTVkdGb3JlaWduT2JqZWN0RWxlbWVudDohMSxTVkdHRWxlbWVudDohMSxTVkdHZW9tZXRyeUVsZW1lbnQ6ITEsU1ZHR2x5cGhFbGVtZW50OiExLFNWR0dseXBoUmVmRWxlbWVudDohMSxTVkdHcmFkaWVudEVsZW1lbnQ6ITEsU1ZHR3JhcGhpY3NFbGVtZW50OiExLFNWR0hLZXJuRWxlbWVudDohMSxTVkdJQ0NDb2xvcjohMSxTVkdJbWFnZUVsZW1lbnQ6ITEsU1ZHTGFuZ1NwYWNlOiExLFNWR0xlbmd0aDohMSxTVkdMZW5ndGhMaXN0OiExLFNWR0xpbmVhckdyYWRpZW50RWxlbWVudDohMSxTVkdMaW5lRWxlbWVudDohMSxTVkdMb2NhdGFibGU6ITEsU1ZHTWFya2VyRWxlbWVudDohMSxTVkdNYXNrRWxlbWVudDohMSxTVkdNYXRyaXg6ITEsU1ZHTWV0YWRhdGFFbGVtZW50OiExLFNWR01pc3NpbmdHbHlwaEVsZW1lbnQ6ITEsU1ZHTVBhdGhFbGVtZW50OiExLFNWR051bWJlcjohMSxTVkdOdW1iZXJMaXN0OiExLFNWR1BhaW50OiExLFNWR1BhdGhFbGVtZW50OiExLFNWR1BhdGhTZWc6ITEsU1ZHUGF0aFNlZ0FyY0FiczohMSxTVkdQYXRoU2VnQXJjUmVsOiExLFNWR1BhdGhTZWdDbG9zZVBhdGg6ITEsU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY0FiczohMSxTVkdQYXRoU2VnQ3VydmV0b0N1YmljUmVsOiExLFNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNTbW9vdGhBYnM6ITEsU1ZHUGF0aFNlZ0N1cnZldG9DdWJpY1Ntb290aFJlbDohMSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY0FiczohMSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1JlbDohMSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFiczohMSxTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aFJlbDohMSxTVkdQYXRoU2VnTGluZXRvQWJzOiExLFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzOiExLFNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsUmVsOiExLFNWR1BhdGhTZWdMaW5ldG9SZWw6ITEsU1ZHUGF0aFNlZ0xpbmV0b1ZlcnRpY2FsQWJzOiExLFNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbFJlbDohMSxTVkdQYXRoU2VnTGlzdDohMSxTVkdQYXRoU2VnTW92ZXRvQWJzOiExLFNWR1BhdGhTZWdNb3ZldG9SZWw6ITEsU1ZHUGF0dGVybkVsZW1lbnQ6ITEsU1ZHUG9pbnQ6ITEsU1ZHUG9pbnRMaXN0OiExLFNWR1BvbHlnb25FbGVtZW50OiExLFNWR1BvbHlsaW5lRWxlbWVudDohMSxTVkdQcmVzZXJ2ZUFzcGVjdFJhdGlvOiExLFNWR1JhZGlhbEdyYWRpZW50RWxlbWVudDohMSxTVkdSZWN0OiExLFNWR1JlY3RFbGVtZW50OiExLFNWR1JlbmRlcmluZ0ludGVudDohMSxTVkdTY3JpcHRFbGVtZW50OiExLFNWR1NldEVsZW1lbnQ6ITEsU1ZHU3RvcEVsZW1lbnQ6ITEsU1ZHU3RyaW5nTGlzdDohMSxTVkdTdHlsYWJsZTohMSxTVkdTdHlsZUVsZW1lbnQ6ITEsU1ZHU1ZHRWxlbWVudDohMSxTVkdTd2l0Y2hFbGVtZW50OiExLFNWR1N5bWJvbEVsZW1lbnQ6ITEsU1ZHVGVzdHM6ITEsU1ZHVGV4dENvbnRlbnRFbGVtZW50OiExLFNWR1RleHRFbGVtZW50OiExLFNWR1RleHRQYXRoRWxlbWVudDohMSxTVkdUZXh0UG9zaXRpb25pbmdFbGVtZW50OiExLFNWR1RpdGxlRWxlbWVudDohMSxTVkdUcmFuc2Zvcm06ITEsU1ZHVHJhbnNmb3JtYWJsZTohMSxTVkdUcmFuc2Zvcm1MaXN0OiExLFNWR1RSZWZFbGVtZW50OiExLFNWR1RTcGFuRWxlbWVudDohMSxTVkdVbml0VHlwZXM6ITEsU1ZHVVJJUmVmZXJlbmNlOiExLFNWR1VzZUVsZW1lbnQ6ITEsU1ZHVmlld0VsZW1lbnQ6ITEsU1ZHVmlld1NwZWM6ITEsU1ZHVktlcm5FbGVtZW50OiExLFNWR1pvb21BbmRQYW46ITEsU1ZHWm9vbUV2ZW50OiExLFRleHQ6ITEsVGV4dERlY29kZXI6ITEsVGV4dEVuY29kZXI6ITEsVGV4dEV2ZW50OiExLFRleHRNZXRyaWNzOiExLFRleHRUcmFjazohMSxUZXh0VHJhY2tDdWU6ITEsVGV4dFRyYWNrQ3VlTGlzdDohMSxUZXh0VHJhY2tMaXN0OiExLFRpbWVFdmVudDohMSxUaW1lUmFuZ2VzOiExLHRvb2xiYXI6ITEsdG9wOiExLFRvdWNoOiExLFRvdWNoRXZlbnQ6ITEsVG91Y2hMaXN0OiExLFRyYWNrRXZlbnQ6ITEsVHJhbnNpdGlvbkV2ZW50OiExLFRyZWVXYWxrZXI6ITEsVUlFdmVudDohMSxVUkw6ITEsVVJMU2VhcmNoUGFyYW1zOiExLFZhbGlkaXR5U3RhdGU6ITEsVlRUQ3VlOiExLFdhdmVTaGFwZXJOb2RlOiExLFdlYkdMQWN0aXZlSW5mbzohMSxXZWJHTEJ1ZmZlcjohMSxXZWJHTENvbnRleHRFdmVudDohMSxXZWJHTEZyYW1lYnVmZmVyOiExLFdlYkdMUHJvZ3JhbTohMSxXZWJHTFJlbmRlcmJ1ZmZlcjohMSxXZWJHTFJlbmRlcmluZ0NvbnRleHQ6ITEsV2ViR0xTaGFkZXI6ITEsV2ViR0xTaGFkZXJQcmVjaXNpb25Gb3JtYXQ6ITEsV2ViR0xUZXh0dXJlOiExLFdlYkdMVW5pZm9ybUxvY2F0aW9uOiExLFdlYlNvY2tldDohMSxXaGVlbEV2ZW50OiExLHdpbmRvdzohMSxXaW5kb3c6ITEsV29ya2VyOiExLFhEb21haW5SZXF1ZXN0OiExLFhNTERvY3VtZW50OiExLFhNTEh0dHBSZXF1ZXN0OiExLFhNTEh0dHBSZXF1ZXN0RXZlbnRUYXJnZXQ6ITEsWE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50OiExLFhNTEh0dHBSZXF1ZXN0VXBsb2FkOiExLFhNTFNlcmlhbGl6ZXI6ITEsWFBhdGhFdmFsdWF0b3I6ITEsWFBhdGhFeGNlcHRpb246ITEsWFBhdGhFeHByZXNzaW9uOiExLFhQYXRoTmFtZXNwYWNlOiExLFhQYXRoTlNSZXNvbHZlcjohMSxYUGF0aFJlc3VsdDohMSxYU0xUUHJvY2Vzc29yOiExfSx3b3JrZXI6e2FwcGxpY2F0aW9uQ2FjaGU6ITEsYXRvYjohMSxCbG9iOiExLEJyb2FkY2FzdENoYW5uZWw6ITEsYnRvYTohMSxDYWNoZTohMSxjYWNoZXM6ITEsY2xlYXJJbnRlcnZhbDohMSxjbGVhclRpbWVvdXQ6ITEsY2xvc2U6ITAsY29uc29sZTohMSxmZXRjaDohMSxGaWxlUmVhZGVyU3luYzohMSxGb3JtRGF0YTohMSxIZWFkZXJzOiExLElEQkN1cnNvcjohMSxJREJDdXJzb3JXaXRoVmFsdWU6ITEsSURCRGF0YWJhc2U6ITEsSURCRmFjdG9yeTohMSxJREJJbmRleDohMSxJREJLZXlSYW5nZTohMSxJREJPYmplY3RTdG9yZTohMSxJREJPcGVuREJSZXF1ZXN0OiExLElEQlJlcXVlc3Q6ITEsSURCVHJhbnNhY3Rpb246ITEsSURCVmVyc2lvbkNoYW5nZUV2ZW50OiExLEltYWdlRGF0YTohMSxpbXBvcnRTY3JpcHRzOiEwLGluZGV4ZWREQjohMSxsb2NhdGlvbjohMSxNZXNzYWdlQ2hhbm5lbDohMSxNZXNzYWdlUG9ydDohMSxuYW1lOiExLG5hdmlnYXRvcjohMSxOb3RpZmljYXRpb246ITEsb25jbG9zZTohMCxvbmNvbm5lY3Q6ITAsb25lcnJvcjohMCxvbmxhbmd1YWdlY2hhbmdlOiEwLG9ubWVzc2FnZTohMCxvbm9mZmxpbmU6ITAsb25vbmxpbmU6ITAsb25yZWplY3Rpb25oYW5kbGVkOiEwLG9udW5oYW5kbGVkcmVqZWN0aW9uOiEwLHBlcmZvcm1hbmNlOiExLFBlcmZvcm1hbmNlOiExLFBlcmZvcm1hbmNlRW50cnk6ITEsUGVyZm9ybWFuY2VNYXJrOiExLFBlcmZvcm1hbmNlTWVhc3VyZTohMSxQZXJmb3JtYW5jZU5hdmlnYXRpb246ITEsUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZzohMSxQZXJmb3JtYW5jZVRpbWluZzohMSxwb3N0TWVzc2FnZTohMCxQcm9taXNlOiExLFJlcXVlc3Q6ITEsUmVzcG9uc2U6ITEsc2VsZjohMCxTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uOiExLHNldEludGVydmFsOiExLHNldFRpbWVvdXQ6ITEsVGV4dERlY29kZXI6ITEsVGV4dEVuY29kZXI6ITEsVVJMOiExLFVSTFNlYXJjaFBhcmFtczohMSxXZWJTb2NrZXQ6ITEsV29ya2VyOiExLFhNTEh0dHBSZXF1ZXN0OiExfSxub2RlOntfX2Rpcm5hbWU6ITEsX19maWxlbmFtZTohMSxhcmd1bWVudHM6ITEsQnVmZmVyOiExLGNsZWFySW1tZWRpYXRlOiExLGNsZWFySW50ZXJ2YWw6ITEsY2xlYXJUaW1lb3V0OiExLGNvbnNvbGU6ITEsZXhwb3J0czohMCxHTE9CQUw6ITEsZ2xvYmFsOiExLEludGw6ITEsbW9kdWxlOiExLHByb2Nlc3M6ITEscmVxdWlyZTohMSxyb290OiExLHNldEltbWVkaWF0ZTohMSxzZXRJbnRlcnZhbDohMSxzZXRUaW1lb3V0OiExfSxjb21tb25qczp7ZXhwb3J0czohMCxtb2R1bGU6ITEscmVxdWlyZTohMSxnbG9iYWw6ITF9LGFtZDp7ZGVmaW5lOiExLHJlcXVpcmU6ITF9LG1vY2hhOnthZnRlcjohMSxhZnRlckVhY2g6ITEsYmVmb3JlOiExLGJlZm9yZUVhY2g6ITEsY29udGV4dDohMSxkZXNjcmliZTohMSxpdDohMSxtb2NoYTohMSxydW46ITEsc2V0dXA6ITEsc3BlY2lmeTohMSxzdWl0ZTohMSxzdWl0ZVNldHVwOiExLHN1aXRlVGVhcmRvd246ITEsdGVhcmRvd246ITEsdGVzdDohMSx4Y29udGV4dDohMSx4ZGVzY3JpYmU6ITEseGl0OiExLHhzcGVjaWZ5OiExfSxqYXNtaW5lOnthZnRlckFsbDohMSxhZnRlckVhY2g6ITEsYmVmb3JlQWxsOiExLGJlZm9yZUVhY2g6ITEsZGVzY3JpYmU6ITEsZXhwZWN0OiExLGZhaWw6ITEsZmRlc2NyaWJlOiExLGZpdDohMSxpdDohMSxqYXNtaW5lOiExLHBlbmRpbmc6ITEscnVuczohMSxzcHlPbjohMSxzcHlPblByb3BlcnR5OiExLHdhaXRzOiExLHdhaXRzRm9yOiExLHhkZXNjcmliZTohMSx4aXQ6ITF9LGplc3Q6e2FmdGVyQWxsOiExLGFmdGVyRWFjaDohMSxiZWZvcmVBbGw6ITEsYmVmb3JlRWFjaDohMSxjaGVjazohMSxkZXNjcmliZTohMSxleHBlY3Q6ITEsZ2VuOiExLGl0OiExLGZkZXNjcmliZTohMSxmaXQ6ITEsamVzdDohMSxwaXQ6ITEscmVxdWlyZTohMSx0ZXN0OiExLHhkZXNjcmliZTohMSx4aXQ6ITEseHRlc3Q6ITF9LHF1bml0Onthc3luY1Rlc3Q6ITEsZGVlcEVxdWFsOiExLGVxdWFsOiExLGV4cGVjdDohMSxtb2R1bGU6ITEsbm90RGVlcEVxdWFsOiExLG5vdEVxdWFsOiExLG5vdE9rOiExLG5vdFByb3BFcXVhbDohMSxub3RTdHJpY3RFcXVhbDohMSxvazohMSxwcm9wRXF1YWw6ITEsUVVuaXQ6ITEscmFpc2VzOiExLHN0YXJ0OiExLHN0b3A6ITEsc3RyaWN0RXF1YWw6ITEsdGVzdDohMSx0aHJvd3M6ITF9LHBoYW50b21qczp7Y29uc29sZTohMCxleHBvcnRzOiEwLHBoYW50b206ITAscmVxdWlyZTohMCxXZWJQYWdlOiEwfSxjb3VjaDp7ZW1pdDohMSxleHBvcnRzOiExLGdldFJvdzohMSxsb2c6ITEsbW9kdWxlOiExLHByb3ZpZGVzOiExLHJlcXVpcmU6ITEscmVzcG9uZDohMSxzZW5kOiExLHN0YXJ0OiExLHN1bTohMX0scmhpbm86e2RlZmluZUNsYXNzOiExLGRlc2VyaWFsaXplOiExLGdjOiExLGhlbHA6ITEsaW1wb3J0Q2xhc3M6ITEsaW1wb3J0UGFja2FnZTohMSxqYXZhOiExLGxvYWQ6ITEsbG9hZENsYXNzOiExLFBhY2thZ2VzOiExLHByaW50OiExLHF1aXQ6ITEscmVhZEZpbGU6ITEscmVhZFVybDohMSxydW5Db21tYW5kOiExLHNlYWw6ITEsc2VyaWFsaXplOiExLHNwYXduOiExLHN5bmM6ITEsdG9pbnQzMjohMSx2ZXJzaW9uOiExfSxuYXNob3JuOntfX0RJUl9fOiExLF9fRklMRV9fOiExLF9fTElORV9fOiExLGNvbTohMSxlZHU6ITEsZXhpdDohMSxKYXZhOiExLGphdmE6ITEsamF2YWZ4OiExLEphdmFJbXBvcnRlcjohMSxqYXZheDohMSxKU0FkYXB0ZXI6ITEsbG9hZDohMSxsb2FkV2l0aE5ld0dsb2JhbDohMSxvcmc6ITEsUGFja2FnZXM6ITEscHJpbnQ6ITEscXVpdDohMX0sd3NoOntBY3RpdmVYT2JqZWN0OiEwLEVudW1lcmF0b3I6ITAsR2V0T2JqZWN0OiEwLFNjcmlwdEVuZ2luZTohMCxTY3JpcHRFbmdpbmVCdWlsZFZlcnNpb246ITAsU2NyaXB0RW5naW5lTWFqb3JWZXJzaW9uOiEwLFNjcmlwdEVuZ2luZU1pbm9yVmVyc2lvbjohMCxWQkFycmF5OiEwLFdTY3JpcHQ6ITAsV1NIOiEwLFhEb21haW5SZXF1ZXN0OiEwfSxqcXVlcnk6eyQ6ITEsalF1ZXJ5OiExfSx5dWk6e1k6ITEsWVVJOiExLFlVSV9jb25maWc6ITF9LHNoZWxsanM6e2NhdDohMSxjZDohMSxjaG1vZDohMSxjb25maWc6ITEsY3A6ITEsZGlyczohMSxlY2hvOiExLGVudjohMSxlcnJvcjohMSxleGVjOiExLGV4aXQ6ITEsZmluZDohMSxncmVwOiExLGxzOiExLGxuOiExLG1rZGlyOiExLG12OiExLHBvcGQ6ITEscHVzaGQ6ITEscHdkOiExLHJtOiExLHNlZDohMSxzZXQ6ITEsdGFyZ2V0OiExLHRlbXBkaXI6ITEsdGVzdDohMSx0b3VjaDohMSx3aGljaDohMX0scHJvdG90eXBlanM6eyQ6ITEsJCQ6ITEsJEE6ITEsJGJyZWFrOiExLCRjb250aW51ZTohMSwkRjohMSwkSDohMSwkUjohMSwkdzohMSxBYnN0cmFjdDohMSxBamF4OiExLEF1dG9jb21wbGV0ZXI6ITEsQnVpbGRlcjohMSxDbGFzczohMSxDb250cm9sOiExLERyYWdnYWJsZTohMSxEcmFnZ2FibGVzOiExLERyb3BwYWJsZXM6ITEsRWZmZWN0OiExLEVsZW1lbnQ6ITEsRW51bWVyYWJsZTohMSxFdmVudDohMSxGaWVsZDohMSxGb3JtOiExLEhhc2g6ITEsSW5zZXJ0aW9uOiExLE9iamVjdFJhbmdlOiExLFBlcmlvZGljYWxFeGVjdXRlcjohMSxQb3NpdGlvbjohMSxQcm90b3R5cGU6ITEsU2NyaXB0YWN1bG91czohMSxTZWxlY3RvcjohMSxTb3J0YWJsZTohMSxTb3J0YWJsZU9ic2VydmVyOiExLFNvdW5kOiExLFRlbXBsYXRlOiExLFRvZ2dsZTohMSxUcnk6ITF9LG1ldGVvcjp7JDohMSxfOiExLEFjY291bnRzOiExLEFjY291bnRzQ2xpZW50OiExLEFjY291bnRzU2VydmVyOiExLEFjY291bnRzQ29tbW9uOiExLEFwcDohMSxBc3NldHM6ITEsQmxhemU6ITEsY2hlY2s6ITEsQ29yZG92YTohMSxERFA6ITEsRERQU2VydmVyOiExLEREUFJhdGVMaW1pdGVyOiExLERlcHM6ITEsRUpTT046ITEsRW1haWw6ITEsSFRUUDohMSxMb2c6ITEsTWF0Y2g6ITEsTWV0ZW9yOiExLE1vbmdvOiExLE1vbmdvSW50ZXJuYWxzOiExLE5wbTohMSxQYWNrYWdlOiExLFBsdWdpbjohMSxwcm9jZXNzOiExLFJhbmRvbTohMSxSZWFjdGl2ZURpY3Q6ITEsUmVhY3RpdmVWYXI6ITEsUm91dGVyOiExLFNlcnZpY2VDb25maWd1cmF0aW9uOiExLFNlc3Npb246ITEsc2hhcmU6ITEsU3BhY2ViYXJzOiExLFRlbXBsYXRlOiExLFRpbnl0ZXN0OiExLFRyYWNrZXI6ITEsVUk6ITEsVXRpbHM6ITEsV2ViQXBwOiExLFdlYkFwcEludGVybmFsczohMX0sbW9uZ286e19pc1dpbmRvd3M6ITEsX3JhbmQ6ITEsQnVsa1dyaXRlUmVzdWx0OiExLGNhdDohMSxjZDohMSxjb25uZWN0OiExLGRiOiExLGdldEhvc3ROYW1lOiExLGdldE1lbUluZm86ITEsaG9zdG5hbWU6ITEsSVNPRGF0ZTohMSxsaXN0RmlsZXM6ITEsbG9hZDohMSxsczohMSxtZDVzdW1GaWxlOiExLG1rZGlyOiExLE1vbmdvOiExLE51bWJlckludDohMSxOdW1iZXJMb25nOiExLE9iamVjdElkOiExLFBsYW5DYWNoZTohMSxwcmludDohMSxwcmludGpzb246ITEscHdkOiExLHF1aXQ6ITEscmVtb3ZlRmlsZTohMSxyczohMSxzaDohMSxVVUlEOiExLHZlcnNpb246ITEsV3JpdGVSZXN1bHQ6ITF9LGFwcGxlc2NyaXB0OnskOiExLEFwcGxpY2F0aW9uOiExLEF1dG9tYXRpb246ITEsY29uc29sZTohMSxkZWxheTohMSxMaWJyYXJ5OiExLE9iakM6ITEsT2JqZWN0U3BlY2lmaWVyOiExLFBhdGg6ITEsUHJvZ3Jlc3M6ITEsUmVmOiExfSxzZXJ2aWNld29ya2VyOntjYWNoZXM6ITEsQ2FjaGU6ITEsQ2FjaGVTdG9yYWdlOiExLENsaWVudDohMSxjbGllbnRzOiExLENsaWVudHM6ITEsRXh0ZW5kYWJsZUV2ZW50OiExLEV4dGVuZGFibGVNZXNzYWdlRXZlbnQ6ITEsRmV0Y2hFdmVudDohMSxpbXBvcnRTY3JpcHRzOiExLHJlZ2lzdHJhdGlvbjohMSxzZWxmOiExLFNlcnZpY2VXb3JrZXI6ITEsU2VydmljZVdvcmtlckNvbnRhaW5lcjohMSxTZXJ2aWNlV29ya2VyR2xvYmFsU2NvcGU6ITEsU2VydmljZVdvcmtlck1lc3NhZ2VFdmVudDohMSxTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uOiExLHNraXBXYWl0aW5nOiExLFdpbmRvd0NsaWVudDohMX0sYXRvbXRlc3Q6e2FkdmFuY2VDbG9jazohMSxmYWtlQ2xlYXJJbnRlcnZhbDohMSxmYWtlQ2xlYXJUaW1lb3V0OiExLGZha2VTZXRJbnRlcnZhbDohMSxmYWtlU2V0VGltZW91dDohMSxyZXNldFRpbWVvdXRzOiExLHdhaXRzRm9yUHJvbWlzZTohMX0sZW1iZXJ0ZXN0OnthbmRUaGVuOiExLGNsaWNrOiExLGN1cnJlbnRQYXRoOiExLGN1cnJlbnRSb3V0ZU5hbWU6ITEsY3VycmVudFVSTDohMSxmaWxsSW46ITEsZmluZDohMSxmaW5kV2l0aEFzc2VydDohMSxrZXlFdmVudDohMSxwYXVzZVRlc3Q6ITEscmVzdW1lVGVzdDohMSx0cmlnZ2VyRXZlbnQ6ITEsdmlzaXQ6ITF9LHByb3RyYWN0b3I6eyQ6ITEsJCQ6ITEsYnJvd3NlcjohMSxCeTohMSxieTohMSxEYXJ0T2JqZWN0OiExLGVsZW1lbnQ6ITEscHJvdHJhY3RvcjohMX0sInNoYXJlZC1ub2RlLWJyb3dzZXIiOntjbGVhckludGVydmFsOiExLGNsZWFyVGltZW91dDohMSxjb25zb2xlOiExLHNldEludGVydmFsOiExLHNldFRpbWVvdXQ6ITF9LHdlYmV4dGVuc2lvbnM6e2Jyb3dzZXI6ITEsY2hyb21lOiExLG9wcjohMX0sZ3JlYXNlbW9ua2V5OntHTV9hZGRTdHlsZTohMSxHTV9kZWxldGVWYWx1ZTohMSxHTV9nZXRSZXNvdXJjZVRleHQ6ITEsR01fZ2V0UmVzb3VyY2VVUkw6ITEsR01fZ2V0VmFsdWU6ITEsR01faW5mbzohMSxHTV9saXN0VmFsdWVzOiExLEdNX2xvZzohMSxHTV9vcGVuSW5UYWI6ITEsR01fcmVnaXN0ZXJNZW51Q29tbWFuZDohMSxHTV9zZXRDbGlwYm9hcmQ6ITEsR01fc2V0VmFsdWU6ITEsR01feG1saHR0cFJlcXVlc3Q6ITEsdW5zYWZlV2luZG93OiExfX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXs3NTo4NDkwLDgzOjM4MywxMDc6ODQ5MCwxMTU6MzgzLDE4MTo5MjQsMTk3Ojg0OTEsMzgzOjgzLDQ1Mjo0NTMsNDUzOjQ1Miw0NTU6NDU2LDQ1Njo0NTUsNDU4OjQ1OSw0NTk6NDU4LDQ5Nzo0OTgsNDk4OjQ5Nyw4Mzc6ODEyNiw5MTQ6OTc2LDkxNzoxMDEzLDkyMDoxMDEyLDkyMTo4MTI2LDkyMjoxMDA4LDkyNDoxODEsOTI4Ojk4Miw5Mjk6MTAwOSw5MzE6OTYyLDkzNDo5ODEsOTM3Ojg0ODYsOTYyOjkzMSw5NzY6OTE0LDk3NzoxMDEyLDk4MTo5MzQsOTgyOjkyOCwxMDA4OjkyMiwxMDA5OjkyOSwxMDEyOls5MjAsOTc3XSwxMDEzOjkxNyw3Nzc2Ojc4MzUsNzgzNTo3Nzc2LDgxMjY6WzgzNyw5MjFdLDg0ODY6OTM3LDg0OTA6NzUsODQ5MToxOTcsNjY1NjA6NjY2MDAsNjY1NjE6NjY2MDEsNjY1NjI6NjY2MDIsNjY1NjM6NjY2MDMsNjY1NjQ6NjY2MDQsNjY1NjU6NjY2MDUsNjY1NjY6NjY2MDYsNjY1Njc6NjY2MDcsNjY1Njg6NjY2MDgsNjY1Njk6NjY2MDksNjY1NzA6NjY2MTAsNjY1NzE6NjY2MTEsNjY1NzI6NjY2MTIsNjY1NzM6NjY2MTMsNjY1NzQ6NjY2MTQsNjY1NzU6NjY2MTUsNjY1NzY6NjY2MTYsNjY1Nzc6NjY2MTcsNjY1Nzg6NjY2MTgsNjY1Nzk6NjY2MTksNjY1ODA6NjY2MjAsNjY1ODE6NjY2MjEsNjY1ODI6NjY2MjIsNjY1ODM6NjY2MjMsNjY1ODQ6NjY2MjQsNjY1ODU6NjY2MjUsNjY1ODY6NjY2MjYsNjY1ODc6NjY2MjcsNjY1ODg6NjY2MjgsNjY1ODk6NjY2MjksNjY1OTA6NjY2MzAsNjY1OTE6NjY2MzEsNjY1OTI6NjY2MzIsNjY1OTM6NjY2MzMsNjY1OTQ6NjY2MzQsNjY1OTU6NjY2MzUsNjY1OTY6NjY2MzYsNjY1OTc6NjY2MzcsNjY1OTg6NjY2MzgsNjY1OTk6NjY2MzksNjY2MDA6NjY1NjAsNjY2MDE6NjY1NjEsNjY2MDI6NjY1NjIsNjY2MDM6NjY1NjMsNjY2MDQ6NjY1NjQsNjY2MDU6NjY1NjUsNjY2MDY6NjY1NjYsNjY2MDc6NjY1NjcsNjY2MDg6NjY1NjgsNjY2MDk6NjY1NjksNjY2MTA6NjY1NzAsNjY2MTE6NjY1NzEsNjY2MTI6NjY1NzIsNjY2MTM6NjY1NzMsNjY2MTQ6NjY1NzQsNjY2MTU6NjY1NzUsNjY2MTY6NjY1NzYsNjY2MTc6NjY1NzcsNjY2MTg6NjY1NzgsNjY2MTk6NjY1NzksNjY2MjA6NjY1ODAsNjY2MjE6NjY1ODEsNjY2MjI6NjY1ODIsNjY2MjM6NjY1ODMsNjY2MjQ6NjY1ODQsNjY2MjU6NjY1ODUsNjY2MjY6NjY1ODYsNjY2Mjc6NjY1ODcsNjY2Mjg6NjY1ODgsNjY2Mjk6NjY1ODksNjY2MzA6NjY1OTAsNjY2MzE6NjY1OTEsNjY2MzI6NjY1OTIsNjY2MzM6NjY1OTMsNjY2MzQ6NjY1OTQsNjY2MzU6NjY1OTUsNjY2MzY6NjY1OTYsNjY2Mzc6NjY1OTcsNjY2Mzg6NjY1OTgsNjY2Mzk6NjY1OTksNjg3MzY6Njg4MDAsNjg3Mzc6Njg4MDEsNjg3Mzg6Njg4MDIsNjg3Mzk6Njg4MDMsNjg3NDA6Njg4MDQsNjg3NDE6Njg4MDUsNjg3NDI6Njg4MDYsNjg3NDM6Njg4MDcsNjg3NDQ6Njg4MDgsNjg3NDU6Njg4MDksNjg3NDY6Njg4MTAsNjg3NDc6Njg4MTEsNjg3NDg6Njg4MTIsNjg3NDk6Njg4MTMsNjg3NTA6Njg4MTQsNjg3NTE6Njg4MTUsNjg3NTI6Njg4MTYsNjg3NTM6Njg4MTcsNjg3NTQ6Njg4MTgsNjg3NTU6Njg4MTksNjg3NTY6Njg4MjAsNjg3NTc6Njg4MjEsNjg3NTg6Njg4MjIsNjg3NTk6Njg4MjMsNjg3NjA6Njg4MjQsNjg3NjE6Njg4MjUsNjg3NjI6Njg4MjYsNjg3NjM6Njg4MjcsNjg3NjQ6Njg4MjgsNjg3NjU6Njg4MjksNjg3NjY6Njg4MzAsNjg3Njc6Njg4MzEsNjg3Njg6Njg4MzIsNjg3Njk6Njg4MzMsNjg3NzA6Njg4MzQsNjg3NzE6Njg4MzUsNjg3NzI6Njg4MzYsNjg3NzM6Njg4MzcsNjg3NzQ6Njg4MzgsNjg3NzU6Njg4MzksNjg3NzY6Njg4NDAsNjg3Nzc6Njg4NDEsNjg3Nzg6Njg4NDIsNjg3Nzk6Njg4NDMsNjg3ODA6Njg4NDQsNjg3ODE6Njg4NDUsNjg3ODI6Njg4NDYsNjg3ODM6Njg4NDcsNjg3ODQ6Njg4NDgsNjg3ODU6Njg4NDksNjg3ODY6Njg4NTAsNjg4MDA6Njg3MzYsNjg4MDE6Njg3MzcsNjg4MDI6Njg3MzgsNjg4MDM6Njg3MzksNjg4MDQ6Njg3NDAsNjg4MDU6Njg3NDEsNjg4MDY6Njg3NDIsNjg4MDc6Njg3NDMsNjg4MDg6Njg3NDQsNjg4MDk6Njg3NDUsNjg4MTA6Njg3NDYsNjg4MTE6Njg3NDcsNjg4MTI6Njg3NDgsNjg4MTM6Njg3NDksNjg4MTQ6Njg3NTAsNjg4MTU6Njg3NTEsNjg4MTY6Njg3NTIsNjg4MTc6Njg3NTMsNjg4MTg6Njg3NTQsNjg4MTk6Njg3NTUsNjg4MjA6Njg3NTYsNjg4MjE6Njg3NTcsNjg4MjI6Njg3NTgsNjg4MjM6Njg3NTksNjg4MjQ6Njg3NjAsNjg4MjU6Njg3NjEsNjg4MjY6Njg3NjIsNjg4Mjc6Njg3NjMsNjg4Mjg6Njg3NjQsNjg4Mjk6Njg3NjUsNjg4MzA6Njg3NjYsNjg4MzE6Njg3NjcsNjg4MzI6Njg3NjgsNjg4MzM6Njg3NjksNjg4MzQ6Njg3NzAsNjg4MzU6Njg3NzEsNjg4MzY6Njg3NzIsNjg4Mzc6Njg3NzMsNjg4Mzg6Njg3NzQsNjg4Mzk6Njg3NzUsNjg4NDA6Njg3NzYsNjg4NDE6Njg3NzcsNjg4NDI6Njg3NzgsNjg4NDM6Njg3NzksNjg4NDQ6Njg3ODAsNjg4NDU6Njg3ODEsNjg4NDY6Njg3ODIsNjg4NDc6Njg3ODMsNjg4NDg6Njg3ODQsNjg4NDk6Njg3ODUsNjg4NTA6Njg3ODYsNzE4NDA6NzE4NzIsNzE4NDE6NzE4NzMsNzE4NDI6NzE4NzQsNzE4NDM6NzE4NzUsNzE4NDQ6NzE4NzYsNzE4NDU6NzE4NzcsNzE4NDY6NzE4NzgsNzE4NDc6NzE4NzksNzE4NDg6NzE4ODAsNzE4NDk6NzE4ODEsNzE4NTA6NzE4ODIsNzE4NTE6NzE4ODMsNzE4NTI6NzE4ODQsNzE4NTM6NzE4ODUsNzE4NTQ6NzE4ODYsNzE4NTU6NzE4ODcsNzE4NTY6NzE4ODgsNzE4NTc6NzE4ODksNzE4NTg6NzE4OTAsNzE4NTk6NzE4OTEsNzE4NjA6NzE4OTIsNzE4NjE6NzE4OTMsNzE4NjI6NzE4OTQsNzE4NjM6NzE4OTUsNzE4NjQ6NzE4OTYsNzE4NjU6NzE4OTcsNzE4NjY6NzE4OTgsNzE4Njc6NzE4OTksNzE4Njg6NzE5MDAsNzE4Njk6NzE5MDEsNzE4NzA6NzE5MDIsNzE4NzE6NzE5MDMsNzE4NzI6NzE4NDAsNzE4NzM6NzE4NDEsNzE4NzQ6NzE4NDIsNzE4NzU6NzE4NDMsNzE4NzY6NzE4NDQsNzE4Nzc6NzE4NDUsNzE4Nzg6NzE4NDYsNzE4Nzk6NzE4NDcsNzE4ODA6NzE4NDgsNzE4ODE6NzE4NDksNzE4ODI6NzE4NTAsNzE4ODM6NzE4NTEsNzE4ODQ6NzE4NTIsNzE4ODU6NzE4NTMsNzE4ODY6NzE4NTQsNzE4ODc6NzE4NTUsNzE4ODg6NzE4NTYsNzE4ODk6NzE4NTcsNzE4OTA6NzE4NTgsNzE4OTE6NzE4NTksNzE4OTI6NzE4NjAsNzE4OTM6NzE4NjEsNzE4OTQ6NzE4NjIsNzE4OTU6NzE4NjMsNzE4OTY6NzE4NjQsNzE4OTc6NzE4NjUsNzE4OTg6NzE4NjYsNzE4OTk6NzE4NjcsNzE5MDA6NzE4NjgsNzE5MDE6NzE4NjksNzE5MDI6NzE4NzAsNzE5MDM6NzE4NzF9fV0pKX0pOw=="},{"meta":{"name":"clipboard.min.js","url":"https://cdn.bootcss.com/clipboard.js/1.5.16/clipboard.min.js","ts":1574751670146,"mimetype":"text/javascript"},"source":"LyohCiAqIGNsaXBib2FyZC5qcyB2MS41LjE2CiAqIGh0dHBzOi8vemVub3JvY2hhLmdpdGh1Yi5pby9jbGlwYm9hcmQuanMKICoKICogTGljZW5zZWQgTUlUIMKpIFplbm8gUm9jaGEKICovCiFmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWUoKTtlbHNlIGlmKCJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLGUpO2Vsc2V7dmFyIHQ7dD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsdC5DbGlwYm9hcmQ9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZSx0LG47cmV0dXJuIGZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIG8oYSxjKXtpZighblthXSl7aWYoIXRbYV0pe3ZhciBsPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFjJiZsKXJldHVybiBsKGEsITApO2lmKHIpcmV0dXJuIHIoYSwhMCk7dmFyIHM9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrYSsiJyIpO3Rocm93IHMuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsc312YXIgdT1uW2FdPXtleHBvcnRzOnt9fTt0W2FdWzBdLmNhbGwodS5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbYV1bMV1bZV07cmV0dXJuIG8obj9uOmUpfSx1LHUuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxhPTA7YTxpLmxlbmd0aDthKyspbyhpW2FdKTtyZXR1cm4gb30oezE6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCl7Zm9yKDtlJiZlLm5vZGVUeXBlIT09bzspe2lmKGUubWF0Y2hlcyh0KSlyZXR1cm4gZTtlPWUucGFyZW50Tm9kZX19dmFyIG89OTtpZihFbGVtZW50JiYhRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyl7dmFyIHI9RWxlbWVudC5wcm90b3R5cGU7ci5tYXRjaGVzPXIubWF0Y2hlc1NlbGVjdG9yfHxyLm1vek1hdGNoZXNTZWxlY3Rvcnx8ci5tc01hdGNoZXNTZWxlY3Rvcnx8ci5vTWF0Y2hlc1NlbGVjdG9yfHxyLndlYmtpdE1hdGNoZXNTZWxlY3Rvcn10LmV4cG9ydHM9aX0se31dLDI6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCxuLGkscil7dmFyIGE9by5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUuYWRkRXZlbnRMaXN0ZW5lcihuLGEscikse2Rlc3Ryb3k6ZnVuY3Rpb24oKXtlLnJlbW92ZUV2ZW50TGlzdGVuZXIobixhLHIpfX19ZnVuY3Rpb24gbyhlLHQsbixpKXtyZXR1cm4gZnVuY3Rpb24obil7bi5kZWxlZ2F0ZVRhcmdldD1yKG4udGFyZ2V0LHQpLG4uZGVsZWdhdGVUYXJnZXQmJmkuY2FsbChlLG4pfX12YXIgcj1lKCIuL2Nsb3Nlc3QiKTt0LmV4cG9ydHM9aX0seyIuL2Nsb3Nlc3QiOjF9XSwzOltmdW5jdGlvbihlLHQsbil7bi5ub2RlPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiZlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQmJjE9PT1lLm5vZGVUeXBlfSxuLm5vZGVMaXN0PWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm4gdm9pZCAwIT09ZSYmKCJbb2JqZWN0IE5vZGVMaXN0XSI9PT10fHwiW29iamVjdCBIVE1MQ29sbGVjdGlvbl0iPT09dCkmJiJsZW5ndGgiaW4gZSYmKDA9PT1lLmxlbmd0aHx8bi5ub2RlKGVbMF0pKX0sbi5zdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgU3RyaW5nfSxuLmZuPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09dH19LHt9XSw0OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQsbil7aWYoIWUmJiF0JiYhbil0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnRzIik7aWYoIWMuc3RyaW5nKHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIlNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGEgU3RyaW5nIik7aWYoIWMuZm4obikpdGhyb3cgbmV3IFR5cGVFcnJvcigiVGhpcmQgYXJndW1lbnQgbXVzdCBiZSBhIEZ1bmN0aW9uIik7aWYoYy5ub2RlKGUpKXJldHVybiBvKGUsdCxuKTtpZihjLm5vZGVMaXN0KGUpKXJldHVybiByKGUsdCxuKTtpZihjLnN0cmluZyhlKSlyZXR1cm4gYShlLHQsbik7dGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIFN0cmluZywgSFRNTEVsZW1lbnQsIEhUTUxDb2xsZWN0aW9uLCBvciBOb2RlTGlzdCIpfWZ1bmN0aW9uIG8oZSx0LG4pe3JldHVybiBlLmFkZEV2ZW50TGlzdGVuZXIodCxuKSx7ZGVzdHJveTpmdW5jdGlvbigpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfX19ZnVuY3Rpb24gcihlLHQsbil7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZSxmdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIodCxuKX0pLHtkZXN0cm95OmZ1bmN0aW9uKCl7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChlLGZ1bmN0aW9uKGUpe2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4pfSl9fX1mdW5jdGlvbiBhKGUsdCxuKXtyZXR1cm4gbChkb2N1bWVudC5ib2R5LGUsdCxuKX12YXIgYz1lKCIuL2lzIiksbD1lKCJkZWxlZ2F0ZSIpO3QuZXhwb3J0cz1pfSx7Ii4vaXMiOjMsZGVsZWdhdGU6Mn1dLDU6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUpe3ZhciB0O2lmKCJTRUxFQ1QiPT09ZS5ub2RlTmFtZSllLmZvY3VzKCksdD1lLnZhbHVlO2Vsc2UgaWYoIklOUFVUIj09PWUubm9kZU5hbWV8fCJURVhUQVJFQSI9PT1lLm5vZGVOYW1lKWUuZm9jdXMoKSxlLnNldFNlbGVjdGlvblJhbmdlKDAsZS52YWx1ZS5sZW5ndGgpLHQ9ZS52YWx1ZTtlbHNle2UuaGFzQXR0cmlidXRlKCJjb250ZW50ZWRpdGFibGUiKSYmZS5mb2N1cygpO3ZhciBuPXdpbmRvdy5nZXRTZWxlY3Rpb24oKSxpPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7aS5zZWxlY3ROb2RlQ29udGVudHMoZSksbi5yZW1vdmVBbGxSYW5nZXMoKSxuLmFkZFJhbmdlKGkpLHQ9bi50b1N0cmluZygpfXJldHVybiB0fXQuZXhwb3J0cz1pfSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGkoKXt9aS5wcm90b3R5cGU9e29uOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLmV8fCh0aGlzLmU9e30pO3JldHVybihpW2VdfHwoaVtlXT1bXSkpLnB1c2goe2ZuOnQsY3R4Om59KSx0aGlzfSxvbmNlOmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKCl7by5vZmYoZSxpKSx0LmFwcGx5KG4sYXJndW1lbnRzKX12YXIgbz10aGlzO3JldHVybiBpLl89dCx0aGlzLm9uKGUsaSxuKX0sZW1pdDpmdW5jdGlvbihlKXt2YXIgdD1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxuPSgodGhpcy5lfHwodGhpcy5lPXt9KSlbZV18fFtdKS5zbGljZSgpLGk9MCxvPW4ubGVuZ3RoO2ZvcihpO2k8bztpKyspbltpXS5mbi5hcHBseShuW2ldLmN0eCx0KTtyZXR1cm4gdGhpc30sb2ZmOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5lfHwodGhpcy5lPXt9KSxpPW5bZV0sbz1bXTtpZihpJiZ0KWZvcih2YXIgcj0wLGE9aS5sZW5ndGg7cjxhO3IrKylpW3JdLmZuIT09dCYmaVtyXS5mbi5fIT09dCYmby5wdXNoKGlbcl0pO3JldHVybiBvLmxlbmd0aD9uW2VdPW86ZGVsZXRlIG5bZV0sdGhpc319LHQuZXhwb3J0cz1pfSx7fV0sNzpbZnVuY3Rpb24odCxuLGkpeyFmdW5jdGlvbihvLHIpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmFtZCllKFsibW9kdWxlIiwic2VsZWN0Il0scik7ZWxzZSBpZigidW5kZWZpbmVkIiE9dHlwZW9mIGkpcihuLHQoInNlbGVjdCIpKTtlbHNle3ZhciBhPXtleHBvcnRzOnt9fTtyKGEsby5zZWxlY3QpLG8uY2xpcGJvYXJkQWN0aW9uPWEuZXhwb3J0c319KHRoaXMsZnVuY3Rpb24oZSx0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gaShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfXZhciBvPW4odCkscj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0sYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpKHRoaXMsZSksdGhpcy5yZXNvbHZlT3B0aW9ucyh0KSx0aGlzLmluaXRTZWxlY3Rpb24oKX1yZXR1cm4gYShlLFt7a2V5OiJyZXNvbHZlT3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmFjdGlvbj10LmFjdGlvbix0aGlzLmVtaXR0ZXI9dC5lbWl0dGVyLHRoaXMudGFyZ2V0PXQudGFyZ2V0LHRoaXMudGV4dD10LnRleHQsdGhpcy50cmlnZ2VyPXQudHJpZ2dlcix0aGlzLnNlbGVjdGVkVGV4dD0iIn19LHtrZXk6ImluaXRTZWxlY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIGUoKXt0aGlzLnRleHQ/dGhpcy5zZWxlY3RGYWtlKCk6dGhpcy50YXJnZXQmJnRoaXMuc2VsZWN0VGFyZ2V0KCl9fSx7a2V5OiJzZWxlY3RGYWtlIix2YWx1ZTpmdW5jdGlvbiBlKCl7dmFyIHQ9dGhpcyxuPSJydGwiPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkaXIiKTt0aGlzLnJlbW92ZUZha2UoKSx0aGlzLmZha2VIYW5kbGVyQ2FsbGJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdC5yZW1vdmVGYWtlKCl9LHRoaXMuZmFrZUhhbmRsZXI9ZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKXx8ITAsdGhpcy5mYWtlRWxlbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpLHRoaXMuZmFrZUVsZW0uc3R5bGUuZm9udFNpemU9IjEycHQiLHRoaXMuZmFrZUVsZW0uc3R5bGUuYm9yZGVyPSIwIix0aGlzLmZha2VFbGVtLnN0eWxlLnBhZGRpbmc9IjAiLHRoaXMuZmFrZUVsZW0uc3R5bGUubWFyZ2luPSIwIix0aGlzLmZha2VFbGVtLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsdGhpcy5mYWtlRWxlbS5zdHlsZVtuPyJyaWdodCI6ImxlZnQiXT0iLTk5OTlweCI7dmFyIGk9d2luZG93LnBhZ2VZT2Zmc2V0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wO3RoaXMuZmFrZUVsZW0uYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHdpbmRvdy5zY3JvbGxUbygwLGkpKSx0aGlzLmZha2VFbGVtLnN0eWxlLnRvcD1pKyJweCIsdGhpcy5mYWtlRWxlbS5zZXRBdHRyaWJ1dGUoInJlYWRvbmx5IiwiIiksdGhpcy5mYWtlRWxlbS52YWx1ZT10aGlzLnRleHQsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmZha2VFbGVtKSx0aGlzLnNlbGVjdGVkVGV4dD0oMCxvLmRlZmF1bHQpKHRoaXMuZmFrZUVsZW0pLHRoaXMuY29weVRleHQoKX19LHtrZXk6InJlbW92ZUZha2UiLHZhbHVlOmZ1bmN0aW9uIGUoKXt0aGlzLmZha2VIYW5kbGVyJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrKSx0aGlzLmZha2VIYW5kbGVyPW51bGwsdGhpcy5mYWtlSGFuZGxlckNhbGxiYWNrPW51bGwpLHRoaXMuZmFrZUVsZW0mJihkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZmFrZUVsZW0pLHRoaXMuZmFrZUVsZW09bnVsbCl9fSx7a2V5OiJzZWxlY3RUYXJnZXQiLHZhbHVlOmZ1bmN0aW9uIGUoKXt0aGlzLnNlbGVjdGVkVGV4dD0oMCxvLmRlZmF1bHQpKHRoaXMudGFyZ2V0KSx0aGlzLmNvcHlUZXh0KCl9fSx7a2V5OiJjb3B5VGV4dCIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PXZvaWQgMDt0cnl7dD1kb2N1bWVudC5leGVjQ29tbWFuZCh0aGlzLmFjdGlvbil9Y2F0Y2goZSl7dD0hMX10aGlzLmhhbmRsZVJlc3VsdCh0KX19LHtrZXk6ImhhbmRsZVJlc3VsdCIsdmFsdWU6ZnVuY3Rpb24gZSh0KXt0aGlzLmVtaXR0ZXIuZW1pdCh0PyJzdWNjZXNzIjoiZXJyb3IiLHthY3Rpb246dGhpcy5hY3Rpb24sdGV4dDp0aGlzLnNlbGVjdGVkVGV4dCx0cmlnZ2VyOnRoaXMudHJpZ2dlcixjbGVhclNlbGVjdGlvbjp0aGlzLmNsZWFyU2VsZWN0aW9uLmJpbmQodGhpcyl9KX19LHtrZXk6ImNsZWFyU2VsZWN0aW9uIix2YWx1ZTpmdW5jdGlvbiBlKCl7dGhpcy50YXJnZXQmJnRoaXMudGFyZ2V0LmJsdXIoKSx3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbiBlKCl7dGhpcy5yZW1vdmVGYWtlKCl9fSx7a2V5OiJhY3Rpb24iLHNldDpmdW5jdGlvbiBlKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOiJjb3B5IjtpZih0aGlzLl9hY3Rpb249dCwiY29weSIhPT10aGlzLl9hY3Rpb24mJiJjdXQiIT09dGhpcy5fYWN0aW9uKXRocm93IG5ldyBFcnJvcignSW52YWxpZCAiYWN0aW9uIiB2YWx1ZSwgdXNlIGVpdGhlciAiY29weSIgb3IgImN1dCInKX0sZ2V0OmZ1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy5fYWN0aW9ufX0se2tleToidGFyZ2V0IixzZXQ6ZnVuY3Rpb24gZSh0KXtpZih2b2lkIDAhPT10KXtpZighdHx8Im9iamVjdCIhPT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOnIodCkpfHwxIT09dC5ub2RlVHlwZSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInRhcmdldCIgdmFsdWUsIHVzZSBhIHZhbGlkIEVsZW1lbnQnKTtpZigiY29weSI9PT10aGlzLmFjdGlvbiYmdC5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIikpdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkICJ0YXJnZXQiIGF0dHJpYnV0ZS4gUGxlYXNlIHVzZSAicmVhZG9ubHkiIGluc3RlYWQgb2YgImRpc2FibGVkIiBhdHRyaWJ1dGUnKTtpZigiY3V0Ij09PXRoaXMuYWN0aW9uJiYodC5oYXNBdHRyaWJ1dGUoInJlYWRvbmx5Iil8fHQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpKSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgInRhcmdldCIgYXR0cmlidXRlLiBZb3UgY2FuXCd0IGN1dCB0ZXh0IGZyb20gZWxlbWVudHMgd2l0aCAicmVhZG9ubHkiIG9yICJkaXNhYmxlZCIgYXR0cmlidXRlcycpO3RoaXMuX3RhcmdldD10fX0sZ2V0OmZ1bmN0aW9uIGUoKXtyZXR1cm4gdGhpcy5fdGFyZ2V0fX1dKSxlfSgpO2UuZXhwb3J0cz1jfSl9LHtzZWxlY3Q6NX1dLDg6W2Z1bmN0aW9uKHQsbixpKXshZnVuY3Rpb24obyxyKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQpZShbIm1vZHVsZSIsIi4vY2xpcGJvYXJkLWFjdGlvbiIsInRpbnktZW1pdHRlciIsImdvb2QtbGlzdGVuZXIiXSxyKTtlbHNlIGlmKCJ1bmRlZmluZWQiIT10eXBlb2YgaSlyKG4sdCgiLi9jbGlwYm9hcmQtYWN0aW9uIiksdCgidGlueS1lbWl0dGVyIiksdCgiZ29vZC1saXN0ZW5lciIpKTtlbHNle3ZhciBhPXtleHBvcnRzOnt9fTtyKGEsby5jbGlwYm9hcmRBY3Rpb24sby50aW55RW1pdHRlcixvLmdvb2RMaXN0ZW5lciksby5jbGlwYm9hcmQ9YS5leHBvcnRzfX0odGhpcyxmdW5jdGlvbihlLHQsbixpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfWZ1bmN0aW9uIGEoZSx0KXtpZighZSl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiF0fHwib2JqZWN0IiE9dHlwZW9mIHQmJiJmdW5jdGlvbiIhPXR5cGVvZiB0P2U6dH1mdW5jdGlvbiBjKGUsdCl7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQmJm51bGwhPT10KXRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX1mdW5jdGlvbiBsKGUsdCl7dmFyIG49ImRhdGEtY2xpcGJvYXJkLSIrZTtpZih0Lmhhc0F0dHJpYnV0ZShuKSlyZXR1cm4gdC5nZXRBdHRyaWJ1dGUobil9dmFyIHM9byh0KSx1PW8obiksZj1vKGkpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7cih0aGlzLHQpO3ZhciBpPWEodGhpcywodC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSkuY2FsbCh0aGlzKSk7cmV0dXJuIGkucmVzb2x2ZU9wdGlvbnMobiksaS5saXN0ZW5DbGljayhlKSxpfXJldHVybiBjKHQsZSksZCh0LFt7a2V5OiJyZXNvbHZlT3B0aW9ucyIsdmFsdWU6ZnVuY3Rpb24gZSgpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0aGlzLmFjdGlvbj0iZnVuY3Rpb24iPT10eXBlb2YgdC5hY3Rpb24/dC5hY3Rpb246dGhpcy5kZWZhdWx0QWN0aW9uLHRoaXMudGFyZ2V0PSJmdW5jdGlvbiI9PXR5cGVvZiB0LnRhcmdldD90LnRhcmdldDp0aGlzLmRlZmF1bHRUYXJnZXQsdGhpcy50ZXh0PSJmdW5jdGlvbiI9PXR5cGVvZiB0LnRleHQ/dC50ZXh0OnRoaXMuZGVmYXVsdFRleHR9fSx7a2V5OiJsaXN0ZW5DbGljayIsdmFsdWU6ZnVuY3Rpb24gZSh0KXt2YXIgbj10aGlzO3RoaXMubGlzdGVuZXI9KDAsZi5kZWZhdWx0KSh0LCJjbGljayIsZnVuY3Rpb24oZSl7cmV0dXJuIG4ub25DbGljayhlKX0pfX0se2tleToib25DbGljayIsdmFsdWU6ZnVuY3Rpb24gZSh0KXt2YXIgbj10LmRlbGVnYXRlVGFyZ2V0fHx0LmN1cnJlbnRUYXJnZXQ7dGhpcy5jbGlwYm9hcmRBY3Rpb24mJih0aGlzLmNsaXBib2FyZEFjdGlvbj1udWxsKSx0aGlzLmNsaXBib2FyZEFjdGlvbj1uZXcgcy5kZWZhdWx0KHthY3Rpb246dGhpcy5hY3Rpb24obiksdGFyZ2V0OnRoaXMudGFyZ2V0KG4pLHRleHQ6dGhpcy50ZXh0KG4pLHRyaWdnZXI6bixlbWl0dGVyOnRoaXN9KX19LHtrZXk6ImRlZmF1bHRBY3Rpb24iLHZhbHVlOmZ1bmN0aW9uIGUodCl7cmV0dXJuIGwoImFjdGlvbiIsdCl9fSx7a2V5OiJkZWZhdWx0VGFyZ2V0Iix2YWx1ZTpmdW5jdGlvbiBlKHQpe3ZhciBuPWwoInRhcmdldCIsdCk7aWYobilyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuKX19LHtrZXk6ImRlZmF1bHRUZXh0Iix2YWx1ZTpmdW5jdGlvbiBlKHQpe3JldHVybiBsKCJ0ZXh0Iix0KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uIGUoKXt0aGlzLmxpc3RlbmVyLmRlc3Ryb3koKSx0aGlzLmNsaXBib2FyZEFjdGlvbiYmKHRoaXMuY2xpcGJvYXJkQWN0aW9uLmRlc3Ryb3koKSx0aGlzLmNsaXBib2FyZEFjdGlvbj1udWxsKX19XSksdH0odS5kZWZhdWx0KTtlLmV4cG9ydHM9aH0pfSx7Ii4vY2xpcGJvYXJkLWFjdGlvbiI6NywiZ29vZC1saXN0ZW5lciI6NCwidGlueS1lbWl0dGVyIjo2fV19LHt9LFs4XSkoOCl9KTs="}]},{"name":"破解VIP会员视频集合","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*.iqiyi.com/*","*://*.youku.com/*","*://*.le.com/*","*://*.letv.com/*","*://v.qq.com/*","*://*.tudou.com/*","*://*.mgtv.com/*","*://film.sohu.com/*","*://tv.sohu.com/*","*://*.acfun.cn/v/*","*://*.bilibili.com/*","*://vip.1905.com/play/*","*://*.pptv.com/*","*://v.yinyuetai.com/video/*","*://v.yinyuetai.com/playlist/*","*://*.fun.tv/vplay/*","*://*.wasu.cn/Play/show/*","*://*.56.com/*"],"merge_matches":true,"use_excludes":["/(^[^:\\/#\\?]*:\\/\\/([^#\\?\\/]*\\.)?www\\.bilibili\\.com(:[0-9]{1,5})?\\/.*$)/"],"orig_excludes":["*://*.bilibili.com/blackboard/*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":true}},"storage":{"data":{},"ts":1574751670185},"enabled":true,"position":6,"file_url":"https://greasyfork.org/scripts/27530-%E7%A0%B4%E8%A7%A3vip%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88/code/%E7%A0%B4%E8%A7%A3VIP%E4%BC%9A%E5%91%98%E8%A7%86%E9%A2%91%E9%9B%86%E5%90%88.user.js","uuid":"c14a0759-4f6e-4584-80c0-ab3b597898f5","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgIOegtOino1ZJUOS8muWRmOinhumikembhuWQiAovLyBAbmFtZXNwYWNlICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3VzZXJzLzEwNDIwMQovLyBAdmVyc2lvbiAgICA0LjIuNgovLyBAZGVzY3JpcHRpb24gIDIwMTktMy0xMeabtOaWsOOAguS4gOmUruegtOino1vkvJjphbd86IW+6K6vfOS5kOinhnzniLHlpYfoibp86IqS5p6cfEFC56uZfOmfs+aCpuWPsF3nrYlWSVDmiJbkvJrlkZjop4bpopHvvIzop6PmnpDmjqXlj6PotLXnsr7kuI3otLXlpJrvvIznu53lr7nlpJ/nlKjjgILor6bnu4bmlrnms5XnnIvor7TmmI7lkozlm77niYfjgILljIXlkKvkuoZb5LiA6ZSuVklQ6KeG6aKR6Kej5p6Q44CB5Y675bm/5ZGK77yI5YWo572R77yJIHh4eHgteHgteHgg5Y+v55So4pa2bWFyayB6aGFuZ11bVklQ6KeG6aKR5Zyo57q/6Kej5p6Q56C06Kej5Y675bm/5ZGKKOWFqOe9kSl4eC54eC54eOabtOaWsOWPr+eUqOKWtnNvbmltZWkxMzRdW+egtOino+WFqOe9kVZJUOinhumikeS8muWRmC3ljrvlub/lkYrilrZ0dG1zanhdW1ZJUOS8muWRmOinhumikeino+aekOKWtum+mei9qV1b6YW357uYLeegtOino1ZJUOS8muWRmOinhumikeKWtmFodWlhYmMyMDAzXeS7peWPiltWSVDop4bpopHnoLTop6PilrZob290aGluXeeahOmDqOWIhuaOpeWPo+OAgltUYW1wZXJtb25rZXkgfCBWaW9sZW50bW9ua2V5IHwgR3JlYXN5bW9ua2V5IDQuMCtdCi8vIEBhdXRob3IgICAgIOm7hOebkAovLyByZXF1aXJlICBodHRwczovL2dyZWFzZW1vbmtleS5naXRodWIuaW8vZ200LXBvbHlmaWxsL2dtNC1wb2x5ZmlsbC5qcwovLyBAbm9mcmFtZXMKLy8gQG1hdGNoICAgICo6Ly8qLmlxaXlpLmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vKi55b3VrdS5jb20vKgovLyBAbWF0Y2ggICAgKjovLyoubGUuY29tLyoKLy8gQG1hdGNoICAgICo6Ly8qLmxldHYuY29tLyoKLy8gQG1hdGNoICAgICo6Ly92LnFxLmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vKi50dWRvdS5jb20vKgovLyBAbWF0Y2ggICAgKjovLyoubWd0di5jb20vKgovLyBAbWF0Y2ggICAgKjovL2ZpbG0uc29odS5jb20vKgovLyBAbWF0Y2ggICAgKjovL3R2LnNvaHUuY29tLyoKLy8gQG1hdGNoICAgICo6Ly8qLmFjZnVuLmNuL3YvKgovLyBAbWF0Y2ggICAgKjovLyouYmlsaWJpbGkuY29tLyoKLy8gQG1hdGNoICAgICo6Ly92aXAuMTkwNS5jb20vcGxheS8qCi8vIEBtYXRjaCAgICAqOi8vKi5wcHR2LmNvbS8qCi8vIEBtYXRjaCAgICAqOi8vdi55aW55dWV0YWkuY29tL3ZpZGVvLyoKLy8gQG1hdGNoICAgICo6Ly92Lnlpbnl1ZXRhaS5jb20vcGxheWxpc3QvKgovLyBAbWF0Y2ggICAgKjovLyouZnVuLnR2L3ZwbGF5LyoKLy8gQG1hdGNoICAgICo6Ly8qLndhc3UuY24vUGxheS9zaG93LyoKLy8gQG1hdGNoICAgICo6Ly8qLjU2LmNvbS8qCi8vIEBleGNsdWRlICAqOi8vKi5iaWxpYmlsaS5jb20vYmxhY2tib2FyZC8qCi8vIEBncmFudCAgICBHTS5nZXRWYWx1ZQovLyBAZ3JhbnQgICAgR00uc2V0VmFsdWUKLy8gQGdyYW50ICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgR00ub3BlbkluVGFiCi8vID09L1VzZXJTY3JpcHQ9PQoKKCgpID0+IHsKICAndXNlIHN0cmljdCc7CiAgY29uc3QgWW91a3VJY29uID0gJzxzdmcgd2lkdGg9IjEuMmVtIiBoZWlnaHQ9IjEuMmVtIiB2aWV3Ym94PSIwIDAgNzIgNzIiPjxkZWZzPjxjaXJjbGUgaWQ9InlvdWt1QzEiIHI9IjUuNSIgc3R5bGU9InN0cm9rZTpub25lOztmaWxsOiMwQjlCRkY7Ij48L2NpcmNsZT48cGF0aCBpZD0ieW91a3VBcm93IiBkPSJtMCwxMCBhNSw1IDAsMCwxIDAsLTEwIGgyMCBhNSw1IDAsMCwxIDAsMTB6IiBzdHlsZT0iZmlsbDojRkY0MjQyOyI+PC9wYXRoPjwvZGVmcz48Y2lyY2xlIGN4PSIzNiIgY3k9IjM2IiByPSIzMC41IiBzdHlsZT0ic3Ryb2tlOiMzMEI0RkY7c3Ryb2tlLXdpZHRoOjExO2ZpbGw6bm9uZTsiPjwvY2lyY2xlPjx1c2UgeD0iMTAuNSIgeT0iMTkiIHhsaW5rOmhyZWY9IiN5b3VrdUMxIi8+PHVzZSB4PSI2MS41IiB5PSI1MyIgeGxpbms6aHJlZj0iI3lvdWt1QzEiLz48dXNlIHg9IjM5IiB5PSIxIiB0cmFuc2Zvcm09InJvdGF0ZSgzMCkiIHhsaW5rOmhyZWY9IiN5b3VrdUFyb3ciLz48dXNlIHg9Ii0xIiB5PSI1MiIgdHJhbnNmb3JtPSJyb3RhdGUoLTM1KSIgeGxpbms6aHJlZj0iI3lvdWt1QXJvdyIvPjwvc3ZnPic7CiAgY29uc3QgVlFRSWNvbiA9ICc8c3ZnIGhlaWdodD0iMS4yZW0iIHdpZHRoPSIxLjJlbSIgdmlld2JveD0iMCAwIDE4NSAxNzAiPjxkZWZzPjxwYXRoIGlkPSJ2UVEiIGQ9Ik03IDIwUTE0IC0xMCA1NSA3UTEwMCAyMyAxNDUgNjBRMTcwIDgwIDE0NSAxMDJRMTA4IDEzOCA0NyAxNjVRMTUgMTc1IDQgMTQ2US01IDgwIDcgMjAiPjwvcGF0aD48L2RlZnM+PHVzZSBzdHlsZT0iZmlsbDojNDRCOUZEOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjcsMCkiIHhsaW5rOmhyZWY9IiN2UVEiPjwvdXNlPjx1c2Ugc3R5bGU9ImZpbGw6I0ZGOUYwMTsiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsMTgpLHNjYWxlKDAuOCwwLjc1KSIgeGxpbms6aHJlZj0iI3ZRUSI+PC91c2U+PHVzZSBzdHlsZT0iZmlsbDojOTdFNjFCOyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjMsMTgpLHNjYWxlKDAuODAuNzUpIiB4bGluazpocmVmPSIjdlFRIj48L3VzZT48dXNlIHN0eWxlPSJmaWxsOiNmZmY7IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCw0NSksc2NhbGUoMC40KSIgeGxpbms6aHJlZj0iI3ZRUSI+PC91c2U+PC9zdmc+JzsKICB2YXIgdE1zY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICB0TXNjcmlwdC5pbm5lclRleHQgPSBgcSA9IGZ1bmN0aW9uKGNzc1NlbGVjdG9yKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcik7fTtxYSA9IGZ1bmN0aW9uKGNzc1NlbGVjdG9yKXtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3NTZWxlY3Rvcik7fTtgOwogIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodE1zY3JpcHQpOwogIHdpbmRvdy5xID0gZnVuY3Rpb24oY3NzU2VsZWN0b3IpIHtyZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcik7fTsKICB3aW5kb3cucWEgPSBmdW5jdGlvbihjc3NTZWxlY3Rvcikge3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNzc1NlbGVjdG9yKTt9OwogIHdpbmRvdy5tYWtlRWwgPSBmdW5jdGlvbih0YWcpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7fTsKICAvKiDlhbzlrrkgVGFtcGVybW9ua2V5IHwgVmlvbGVudG1vbmtleSB8IEdyZWFzeW1vbmtleSA0LjArICovCiAgZnVuY3Rpb24gR01hZGRTdHlsZShjc3NUZXh0KXsKICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgIGEudGV4dENvbnRlbnQgPSBjc3NUZXh0OwogICAgbGV0IGRvYyA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwogICAgZG9jLmFwcGVuZENoaWxkKGEpOwogIH0KICAvKiDlhbzlrrkgVGFtcGVybW9ua2V5IHwgVmlvbGVudG1vbmtleSB8IEdyZWFzeW1vbmtleSA0LjArCiAgICog5Li65LqG5YW85a65R3JlYXN5TW9ua2V5IDQuMCDojrflj5bnu5PmnoTljJbmlbDmja4s5q+U5aaCIGpzb24gQXJyYXkg562JLAogICAqIOW6lOW9k+WFiOWwhuWtl+espuS4sui/mOWOn+S4uuWvueixoSzlho3miafooYzlkI7nu63mk43kvZwKICAgKiBHTWdldFZhbHVlKG5hbWUsZGVmYXVsdFZhbHVlKS50aGVuKChyZXN1bHQpPT57CiAgICogICBsZXQgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpOwogICAqICAgLy8gb3RoZXIgY29kZS4uLgogICAqIH07CiAgICovCiAgZnVuY3Rpb24gR01nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpIHsKICAgIGlmICh0eXBlb2YgR01fZ2V0VmFsdWUgPT09ICdmdW5jdGlvbicpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgcmVzb2x2ZShHTV9nZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpKTsKICAgICAgLy8gcmVqZWN0KCk7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIEdNLmdldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7CiAgICB9CiAgfQogIC8qIOWFvOWuuSBUYW1wZXJtb25rZXkgfCBWaW9sZW50bW9ua2V5IHwgR3JlYXN5bW9ua2V5IDQuMCsKICAgKiDkuLrkuoblhbzlrrlHcmVhc3lNb25rZXkgNC4wIOWCqOWtmOe7k+aehOWMluaVsOaNrizmr5TlpoIganNvbiBBcnJheSDnrYksCiAgICog5bqU5b2T5YWI5bCG5a+56LGh5a2X56ym5Liy5YyWLAogICAqIEdNc2V0VmFsdWUobmFtZSwgSlNPTi5zdHJpbmdpZnkoZGVmYXVsdFZhbHVlKSkKICAgKi8KICBmdW5jdGlvbiBHTXNldFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSkgewogICAgaWYgKHR5cGVvZiBHTV9zZXRWYWx1ZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICBHTV9zZXRWYWx1ZShuYW1lLCBkZWZhdWx0VmFsdWUpOwogICAgfSBlbHNlIHsKICAgICAgR00uc2V0VmFsdWUobmFtZSwgZGVmYXVsdFZhbHVlKTsKICAgIH0KICB9CiAgZnVuY3Rpb24gR014bWxodHRwUmVxdWVzdChvYmopewogICAgaWYgKEdNX3htbGh0dHBSZXF1ZXN0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KG9iaik7CiAgICB9IGVsc2V7CiAgICAgIEdNLnhtbGh0dHBSZXF1ZXN0KG9iaik7CiAgICB9CiAgfQogIHZhciByZXBsYWNlUmF3LCAgLyrmmK/lkKbltYzlhaXlvZPliY3pobXpnaIqLwogIGVwaXNvZGVzLCAgICAgICAgLyrmmK/lkKblkK/nlKjniLHlpYfoibrmraPnoa7pgInpm4YqLwogIHVzZXJBcGlzT247ICAgICAgLyrmmK/lkKbliqDovb3oh6rlrprkuYnop6PmnpDmjqXlj6MqLwogIEdNYWRkU3R5bGUoYAogICAgLypUTUhZOlRhbXBlck1vbmtleUh1YW5ZYW4qLwogICAgI1RNSFl2aWRlb0NvbnRhaW5lcnt6LWluZGV4Ojk5OTk5ODtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjcpO3Bvc2l0aW9uOmZpeGVkO3RvcDo3ZW07bGVmdDo1ZW07aGVpZ2h0OjY1JTt3aWR0aDo2NSU7cmVzaXplOmJvdGg7b3ZlcmZsb3c6YXV0bztib3gtc2hhZG93OjJweCAycHggNXB4IDVweCByZ2JhKDI1NSwyNTUsMCwuOCk7fQogICAgLypUTUhZVmlkZW9Db250YWluZXIqLwogICAgI1RNSFl2aWRlb0NvbnRhaW5lciBidXR0b257dG9wOi4xZW07Y3Vyc29yOnBvaW50ZXI7dmlzaWJpbGl0eTpoaWRkZW47Zm9udC1zaXplOjNlbTtjb2xvcjojZmZmO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7fQogICAgI1RNSFl2aWRlb0NvbnRhaW5lcjpob3ZlciBidXR0b257dmlzaWJpbGl0eTp2aXNpYmxlO30KICAgICNUTUhZdmlkZW9Db250YWluZXI6aG92ZXIgYnV0dG9uOmhvdmVye2NvbG9yOiNmZjA7fQogICAgI1RNSFlpZnJhbWV7aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJTtvdmVyZmxvdzphdXRvO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46YXV0bztib3JkZXI6MDtib3gtc2hhZG93OjAgMCAzZW0gcmdiYSgwLDAsMCwuNCk7ei1pbmRleDotMTt9CiAgICAvKlRNSFlJZnJhbWUqLwogICAgI1RNSFl1bHtwb3NpdGlvbjpmaXhlZDt0b3A6NWVtO2xlZnQ6MDtwYWRkaW5nOjA7ei1pbmRleDo5OTk5OTk7fQogICAgI1RNSFl1bCBsaXtsaXN0LXN0eWxlOm5vbmU7fQogICAgI1RNSFl1bCBzdmd7ZmxvYXQ6cmlnaHQ7fQogICAgLlRNMXtvcGFjaXR5OjAuMztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nLXJpZ2h0Oi41ZW07d2lkdGg6MS41ZW07Y3Vyc29yOnBvaW50ZXI7fQogICAgLlRNMTpob3ZlcntvcGFjaXR5OjE7fQogICAgLlRNMSBzcGFue2Rpc3BsYXk6YmxvY2s7Ym9yZGVyLXJhZGl1czowIC4zZW0gLjNlbSAwO2JhY2tncm91bmQtY29sb3I6I2ZmZmYwMDtib3JkZXI6MDtmb250OmJvbGQgMWVtICLlvq7ova/pm4Xpu5EiIWltcG9ydGFudDtjb2xvcjojZmYwMDAwO21hcmdpbjowO3BhZGRpbmc6MWVtIC4zZW07fQogICAgLlRNM3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjEuNWVtO2Rpc3BsYXk6bm9uZTtib3JkZXItcmFkaXVzOi4zZW07bWFyZ2luOjA7cGFkZGluZzowO30KICAgIC5UTTMgbGl7ZmxvYXQ6bm9uZTt3aWR0aDo2ZW07bWFyZ2luOjA7Zm9udC1zaXplOjFlbTtwYWRkaW5nOi4xNWVtIDFlbTtjdXJzb3I6cG9pbnRlcjtjb2xvcjojM2EzYTNhIWltcG9ydGFudDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLDAuOCk7fQogICAgLlRNMyBsaTpob3Zlcntjb2xvcjp3aGl0ZSFpbXBvcnRhbnQ7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC44KTt9CiAgICAuVE0zIGxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgLjM1ZW0gLjM1ZW07fQogICAgLlRNMyBsaTpmaXJzdC1jaGlsZHtib3JkZXItcmFkaXVzOi4zNWVtIC4zNWVtIDAgMDt9CiAgICAuVE0xOmhvdmVyIC5UTTN7ZGlzcGxheTpibG9jazt9CiAgICAvKuiHquWumuS5ieino+aekOaOpeWPoyzmnKzpobXmkq3mlL7nqpflj6Porr7nva4qLwogICAgLlRNSFlwIHtwb3NpdGlvbjpmaXhlZDt0b3A6MjAlO2xlZnQ6MjAlO3otaW5kZXg6OTk5OTk5O2JhY2tncm91bmQ6eWVsbG93O3BhZGRpbmc6MzBweCAyMHB4IDEwcHggMjBweDtib3JkZXItcmFkaXVzOjEwcHg7dGV4dC1hbGlnbjpjZW50ZXI7fS8qVE1IWXBhbmVsKi8KICAgIC5UTUhZcCAqIHtmb250LXNpemU6MTZweDtiYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwwLDEpO2ZvbnQtZmFtaWx5Oiflvq7ova/pm4Xpu5EnO2NvbG9yOiMzYTNhM2E7Ym9yZGVyLXJhZGl1czoxMHB4O30KICAgICN0TXVzZXJEZWZpbmUgbGkge21hcmdpbjo1cHg7d2lkdGg6MTAwJTtsaXN0LXN0eWxlLXR5cGU6bm9uZTt9CiAgICAuVE1IWXAgaW5wdXRbdHlwZT10ZXh0XSB7Ym9yZGVyLXJhZGl1czo1cHggIWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICMzYTNhM2E7bWFyZ2luOjJweCAxMHB4IDJweCA1cHg7cGFkZGluZzoycHggNXB4O30KICAgIC5UTUhZbHRpIHt3aWR0aDozNTBweDt9LypUTUhZbG9uZ1RleHRJbnB1dCovCiAgICAuVE1IWW10aSB7d2lkdGg6MTYwcHg7fS8qVE1IWW10aSovCiAgICAuaWRlbGV0ZSB7ZmxvYXQ6IGxlZnQ7ICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiByZWQ7IHBhZGRpbmc6IDAgMjBweCAhaW1wb3J0YW50OyBjdXJzb3I6IHBvaW50ZXI7fQogICAgLmluYW1lIHtwYWRkaW5nLXJpZ2h0OjEwcHg7fQogICAgbGk6aG92ZXIgLmlkZWxldGUsbGk6aG92ZXIgLmlsaW5rLGxpOmhvdmVyIC5pbmFtZSB7YmFja2dyb3VuZDpyZ2JhKDIyNCwxNzUsMTcsMC42Mik7fQogICAgLlRNSFlwIGJ1dHRvbiB7Ym9yZGVyOjFweCBzb2xpZCAjM2EzYTNhO2JvcmRlci1yYWRpdXM6NXB4O2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6IDJweCAxMHB4O21hcmdpbjoxMHB4IDIwcHggMCAyMHB4O30KICAgIC5UTUhZcCBidXR0b246aG92ZXIge2JhY2tncm91bmQ6IzNhM2EzYTtjb2xvcjp5ZWxsb3c7fQogICAgLlRNSFlDbG9zZSB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowIWltcG9ydGFudDt9CiAgICAuVE1IWXAgZmllbGRzZXQge21hcmdpbjowO3BhZGRpbmc6MTBweDt9CiAgICAuVE1IWXAgbGVnZW5kIHtwYWRkaW5nOjAgMTBweDt9CiAgICAuVE1IWXAgbGFiZWwge2Rpc3BsYXk6aW5saW5lLWJsb2NrO30KICAgIC5UTUhZc3BhbjgwIHtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOnJpZ2h0O3dpZHRoOjgwcHg7fQogICAgLlRNSFlzcGFuMTIwIHtkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOnJpZ2h0O3dpZHRoOjEyMHB4O30KICAgICNpblRhYlNldHRpbmdTYXZlIHtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW4tdG9wOjEwcHg7cGFkZGluZzozcHggMjBweDt9CiAgYCk7CiAgdmFyIGRlZmF1bHRhcGkgPSB7CiAgICB0aXRsZTogIjYxOEcs5aSx5pWI6K+35pu05o2i5o6l5Y+jIiwKICAgIHVybDogImh0dHA6Ly9qeC42MThnLmNvbS8/dXJsPSIKICB9OwogIC8vYXBpcyBuYW1lOuaYvuekuueahOaWh+WtlyAgdXJsOuaOpeWPoyAgdGl0bGU65o+Q56S65paH5a2XICBpbnRhYjrmmK/lkKbpgILlkIjlhoXltYwo5bWM5YWl5Yik5patOkdNZ2V0VmFsdWUoInJlcGxhY2VSYXciLGZhbHNlKeWAvHx8aW50YWLlgLwpCiAgdmFyIGFwaXMgPVsKICAgIHtuYW1lOiI2MThHIix1cmw6Imh0dHA6Ly9qeC42MThnLmNvbS8/dXJsPSIsdGl0bGU6IjYxOEciLGludGFiOjF9LAogICAgLy8ge25hbWU6IueZvuWfn+mYgSIsdXJsOiJodHRwOi8vYXBpLmJhaXl1Zy5jbi92aXAvaW5kZXgucGhwP3VybD0iLHRpdGxlOiLovazlnIjlnIjlsLHmjaLnur/ot68iLGludGFiOjF9LAogICAge25hbWU6IueOqeeahOWXqCIrWW91a3VJY29uLHVybDoiaHR0cDovL3R2LndhbmRoaS5jb20vZ28uaHRtbD91cmw9Iix0aXRsZToi57u85ZCI5o6l5Y+j77yM5LiA6ZSuVklQKioqIOabtOaWsOWPr+eUqOOAkOS9nOiAhW1hcmsgemhhbmfjgJHohJrmnKznmoTmjqXlj6MiLGludGFiOjB9LAogICAge25hbWU6IuacgOaDoOS5sCIsdXJsOiJodHRwOi8vd3d3LnpobWR5LnRvcC9pbmRleC5waHA/emhtX2p4PSIsdGl0bGU6IuaHkuS6uuS4k+eUqCoqKuiEmuacrOaOpeWPoyIsaW50YWI6MH0sCiAgICB7bmFtZToi5ZmX5ZmX55S15b2xIix1cmw6Imh0dHA6Ly93d3cucHVwdWR5LmNvbS9zcGxheS5waHA/cGxheT0iLHRpdGxlOiLnu7zlkIjmjqXlj6PvvIznoLTop6PlhajnvZFWSVDop4bpopHkvJrlkZgt5Y675bm/5ZGK44CQ5L2c6ICFdHRtc2p444CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSwKICAgIHtuYW1lOiLmkJzkvaDlprkiK1lvdWt1SWNvbix1cmw6Imh0dHA6Ly93d3cuc29uaW1laS5jbi8/dXJsPSIsdGl0bGU6Iue7vOWQiOaOpeWPo++8jFZJUOinhumikSoqKiDmm7TmlrDlj6/nlKjjgJDkvZzogIVzb25pbWVpMTM044CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSwKICAgIHtuYW1lOiJPREZMViIsdXJsOiJodHRwOi8vYWlrYW4tdHYuY29tLz91cmw9Iix0aXRsZToi5LiN56iz5a6a77yM5bm/5ZGK6L+H5ruk6L2v5Lu25Y+v6IO95pyJ5b2x5ZONIixpbnRhYjoxfSwKCiAgICB7bmFtZToi55+z5aS06Kej5p6QIix1cmw6Imh0dHBzOi8vamlleGkuMDcxODExLmNjL2p4LnBocD91cmw9Iix0aXRsZToi5omL5Yqo54K55pKt5pS+IixpbnRhYjoxfSwKICAgIHtuYW1lOiLkuZDkuZDkupEiLHVybDoiaHR0cHM6Ly82NjBlLmNvbS8/dXJsPSIsdGl0bGU6IuS5kOS5kOS6ke+8jOacquefpeaViOaenCIsaW50YWI6MX0sCiAgICAvLyB7bmFtZToi5peL6aOO6Kej5p6QIix1cmw6Imh0dHA6Ly9hcGkueGZzdWIuY29tL2luZGV4LnBocD91cmw9Iix0aXRsZToiMTkwNeS8mOWFiOS9v+eUqCIsaW50YWI6MX0sCiAgICB7bmFtZToi55+z5aS06Kej5p6QIix1cmw6Imh0dHBzOi8vamlleGkuMDcxODExLmNjL2p4LnBocD91cmw9Iix0aXRsZToi5omL5Yqo54K55pKt5pS+IixpbnRhYjoxfSwKICAgIHtuYW1lOiLml6DlkI3lsI/nq5kiLHVybDoiaHR0cDovL3d3dy5zZnNmdC5jb20vYWRtaW4ucGhwP3VybD0iLHRpdGxlOiLml6DlkI3lsI/nq5nlkIzmupAiLGludGFiOjF9LAogICAge25hbWU6IlZJUOeci+eciyIsdXJsOiJodHRwOi8vcS56LnZpcC50b3R2LjcyZHUuY29tLz91cmw9Iix0aXRsZToi5pu05o2i57q/6Lev5oiQ5Yqf546H5Lya5o+Q6auYIixpbnRhYjoxfSwKICAgIC8vIHtuYW1lOiIxNjPkuroiLHVybDoiaHR0cDovL2p4LmFwaS4xNjNyZW4uY29tL3ZvZC5waHA/dXJsPSIsdGl0bGU6IuWBtuWwlOaUr+aMgeiFvuiuryIsaW50YWI6MX0sCiAgICAvL3tuYW1lOiJDS0ZMViIsdXJsOiJodHRwOi8vd3d3LjAzMzVoYWliby5jb20vdG9uZy5waHA/dXJsPSIsdGl0bGU6IkNLRkxW5LqRLOmDqOWIhuermeeCueS4jeaUr+aMgSIsaW50YWI6MX0sCiAgICB7bmFtZToi5peg5ZCN5bCP56uZMiIsdXJsOiJodHRwOi8vd3d3LndteHoud2FuZy92aWRlby5waHA/dXJsPSIsdGl0bGU6Iui9rOWciOWciOWwseaNoue6v+i3ryIsaW50YWI6MX0sCiAgICAvL3tuYW1lOiLnnLznnZvkvJrkuIvpm6giLHVybDoiaHR0cDovL3d3dy52aXBqaWV4aS5jb20veXVuLnBocD91cmw9Iix0aXRsZToid3d3LnZpcGppZXhpLmNvbSIsaW50YWI6MX0sCiAgICB7bmFtZToi5Lq65Lq65Y+R5biDIix1cmw6Imh0dHA6Ly92LnJlbnJlbmZhYnUuY29tL2ppZXhpLnBocD91cmw9Iix0aXRsZToi57u85ZCI77yM5aSa57q/6LevIixpbnRhYjowfQogIF07CiAgLy/ltYzlhaXpobXpnaLmkq3mlL4KICBmdW5jdGlvbiBvcGVuSW5UYWIoZXZ0KSB7CiAgICAvLyDmib7liLDmlK/mjIHnmoTmlrnms5UsIOS9v+eUqOmcgOimgeWFqOWxj+eahCBlbGVtZW50IOiwg+eUqAogICAgZnVuY3Rpb24gbGF1bmNoRnVsbFNjcmVlbihlbGVtZW50KSB7CiAgICAgIGlmKGVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW4pIHsKICAgICAgICBlbGVtZW50LnJlcXVlc3RGdWxsc2NyZWVuKCk7CiAgICAgIH0gZWxzZSBpZihlbGVtZW50Lm1velJlcXVlc3RGdWxsU2NyZWVuKSB7CiAgICAgICAgZWxlbWVudC5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOwogICAgICB9IGVsc2UgaWYoZWxlbWVudC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgIGVsZW1lbnQud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKTsKICAgICAgfSBlbHNlIGlmKGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbikgewogICAgICAgIGVsZW1lbnQubXNSZXF1ZXN0RnVsbHNjcmVlbigpOwogICAgICB9CiAgICB9CiAgICBpZihldnQudGFyZ2V0LmRhdGFzZXQuaW50YWIgPT09ICcxJyl7CiAgICAgIC8v5aaC5p6c6aG16Z2i5pyJ5pKt5pS+56qX5Y+jLOWPqumcgOabtOaWsOaSreaUvueql+WPo+eahCBzcmMsIOWmguaenOayoeacieaSreaUvueql+WPoyzor7vlj5bmkq3mlL7nqpflj6PkvY3nva7kv6Hmga8s5paw5bu65LiA5Liq5pKt5pS+56qXCiAgICAgIGlmKHEoJyNUTUhZaWZyYW1lJykgPT09IG51bGwpewogICAgICAgIEdNZ2V0VmFsdWUoJ2ludGFiU2l6ZScsJ3siaGVpZ2h0IjoiIiwid2lkdGgiOiIiLCJsZWZ0IjoiIiwidG9wIjoiIn0nKS50aGVuKChwb3NpdGlvbik9PnsKICAgICAgICAgIHZhciBzdHkgPSBKU09OLnBhcnNlKHBvc2l0aW9uKTsKICAgICAgICAgIHN0eSA9ICdoZWlnaHQ6JytzdHkuaGVpZ2h0Kyc7d2lkdGg6JytzdHkud2lkdGgrJztsZWZ0Oicrc3R5LmxlZnQrJzt0b3A6JytzdHkudG9wKyc7JzsKICAgICAgICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgICAgICAgIGEuaWQgPSAnVE1IWXZpZGVvQ29udGFpbmVyJzsKICAgICAgICAgIGEuc2V0QXR0cmlidXRlKCdzdHlsZScsIHN0eSk7CiAgICAgICAgICBhLmlubmVySFRNTCA9ICc8YnV0dG9uIHRpdGxlPSLlhbPpl60iIGlkPSJUTUhZSWZyYW1lQ2xvc2UiPiYjMTI4NDczOzwvYnV0dG9uPjxidXR0b24gaWQ9IlRNSFlmdWxsU2NyZWVuIiB0aXRsZT0i5YWo5bGPIj4mIzEyODQ3MDs8L2J1dHRvbj4nOwogICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTsKICAgICAgICAgIHZhciBiPW1ha2VFbCgnaWZyYW1lJyk7CiAgICAgICAgICBiLmlkPSdUTUhZaWZyYW1lJzsKICAgICAgICAgIGIuc3JjPWV2dC50YXJnZXQuZGF0YXNldC51cmwgKyBsb2NhdGlvbi5ocmVmOwogICAgICAgICAgcSgnI1RNSFl2aWRlb0NvbnRhaW5lcicpLmFwcGVuZENoaWxkKGIpOwogICAgICAgICAgcSgnI1RNSFlJZnJhbWVDbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9Pntkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHEoJyNUTUhZdmlkZW9Db250YWluZXInKSk7fSwgZmFsc2UpOwogICAgICAgICAgcSgnI1RNSFlmdWxsU2NyZWVuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e2xhdW5jaEZ1bGxTY3JlZW4ocSgnI1RNSFlpZnJhbWUnKSk7fSwgZmFsc2UpOwogICAgICAgIH0pOwogICAgICB9IGVsc2V7CiAgICAgICAgcSgnI1RNSFlpZnJhbWUnKS5zcmM9ZXZ0LnRhcmdldC5kYXRhc2V0LnVybCArIGxvY2F0aW9uLmhyZWY7CiAgICAgIH0KICAgIH0gZWxzZXsKICAgICAgLy/kuI3pgILlkIjpobXlhoXmkq3mlL7nmoQs5omT5byA5paw5qCH562+CiAgICAgIHdpbmRvdy5vcGVuKGV2dC50YXJnZXQuZGF0YXNldC51cmwgKyBsb2NhdGlvbi5ocmVmKTsKICAgIH0KICB9CiAgLy/kv53lrZjltYzlhaXpobXpnaLlpKflsI/kvY3nva7orr7nva4KICBmdW5jdGlvbiBzYXZlSW5UYWJTZXR0aW5nKCl7CiAgICB2YXIgaW50YWJTaXplID0gewogICAgICBoZWlnaHQ6cSgnI1RNcEgnKS52YWx1ZSwKICAgICAgd2lkdGg6cSgnI1RNcFcnKS52YWx1ZSwKICAgICAgbGVmdDpxKCcjVE1wTCcpLnZhbHVlLAogICAgICB0b3A6cSgnI1RNcFQnKS52YWx1ZQogICAgfTsKICAgIEdNc2V0VmFsdWUoJ2ludGFiU2l6ZScsIEpTT04uc3RyaW5naWZ5KGludGFiU2l6ZSkpOwogICAgc2V0VGltZW91dCgnZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChxKCIjVE1IWVNldHRpbmciKSk7JywgMzApOwogIH0KICAvL+eUn+aIkCLltYzlhaXpobXpnaLlpKflsI/kvY3nva7orr7nva4i6Z2i5p2/CiAgZnVuY3Rpb24gaW50YWJTZXR0aW5nKCl7CiAgICB2YXIgaW50YWJTaXplID0gR01nZXRWYWx1ZSgnaW50YWJTaXplJywneyJoZWlnaHQiOiIiLCJ3aWR0aCI6IiIsImxlZnQiOiIiLCJ0b3AiOiIifScpCiAgICAudGhlbigoYWcpPT57CiAgICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgICAgYS5pZD0nVE1IWVNldHRpbmcnOwogICAgICBhLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAnVE1IWXAnKTsKICAgICAgYS5pbm5lckhUTUwgPSBgCiAgICAgIDxidXR0b24gY2xhc3M9IlRNSFlDbG9zZSIgb25jbGljaz0iZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLnBhcmVudE5vZGUpIj4mIzEyODQ3Mzs8L2J1dHRvbj4KICAgICAgPGZpZWxkc2V0PgogICAgICAgIDxsZWdlbmQ+6aG15YaF5pKt5pS+56qX5Y+j5L2N572u5aSn5bCPPC9sZWdlbmQ+CiAgICAgICAgPGxhYmVsIGZvcj0iVE1wSCI+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPumrmOW6pjwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9IlRNcEgiIHZhbHVlPSIke2ludGFiU2l6ZS5oZWlnaHR9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPgogICAgICAgIDxsYWJlbCBmb3I9IlRNcFciPjxzcGFuIGNsYXNzPSJUTUhZc3BhbjgwIj7lrr3luqY8L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJUTXBXIiB2YWx1ZT0iJHtpbnRhYlNpemUud2lkdGh9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPjxiciAvPgogICAgICAgIDxsYWJlbCBmb3I9IlRNcEwiPjxzcGFuIGNsYXNzPSJUTUhZc3BhbjgwIj7lt6bovrnot508L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJUTXBMIiB2YWx1ZT0iJHtpbnRhYlNpemUubGVmdH0iICBjbGFzcz0iVE1IWW10aSIgcGxhY2Vob2xkZXI9J+WmgiIzMDBweCLmiJbogIUiNjUlIicvPjwvbGFiZWw+CiAgICAgICAgPGxhYmVsIGZvcj0iVE1wVCI+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPuS4iui+uei3nTwvc3Bhbj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9IlRNcFQiIHZhbHVlPSIke2ludGFiU2l6ZS50b3B9IiAgY2xhc3M9IlRNSFltdGkiIHBsYWNlaG9sZGVyPSflpoIiMzAwcHgi5oiW6ICFIjY1JSInLz48L2xhYmVsPgogICAgICA8L2ZpZWxkc2V0PgogICAgICA8YnV0dG9uIG9uY2xpY2s9IihmdW5jdGlvbigpe3ZhciBhPWdldENvbXB1dGVkU3R5bGUocSgnI1RNSFl2aWRlb0NvbnRhaW5lcicpKTtxKCcjVE1wSCcpLnZhbHVlPWEuaGVpZ2h0LHEoJyNUTXBXJykudmFsdWU9YS53aWR0aCxxKCcjVE1wTCcpLnZhbHVlPWEubGVmdCxxKCcjVE1wVCcpLnZhbHVlPWEudG9wO30pKCkiPuiOt+WPluW9k+WJjeaSreaUvueql+WwuuWvuDwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJpbnRhYlNldHRpbmdQcmV2aWV3IiBvbmNsaWNrPSIoZnVuY3Rpb24oKXthPXEoJyNUTUhZdmlkZW9Db250YWluZXInKS5zdHlsZS5jc3NUZXh0PSdoZWlnaHQ6JytxKCcjVE1wSCcpLnZhbHVlKyc7d2lkdGg6JytxKCcjVE1wVycpLnZhbHVlKyc7bGVmdDonK3EoJyNUTXBMJykudmFsdWUrJzt0b3A6JytxKCcjVE1wVCcpLnZhbHVlKyc7Jzt9KSgpIj7pooTop4g8L2J1dHRvbj4KICAgICAgPGJ1dHRvbiBpZD0iaW50YWJTZXR0aW5nU2F2ZSI+5L+d5a2YPC9idXR0b24+CiAgICAgIGA7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7CiAgICAgIHEoJyNpbnRhYlNldHRpbmdTYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzYXZlSW5UYWJTZXR0aW5nLCBmYWxzZSk7CiAgICB9KTsKICB9CiAgLy/mo4Dmn6XmmK/lkKbli77pgInpobXlhoXop6PmnpAKICBmdW5jdGlvbiBub05ld1RhYkNoZWNrKCkgewogICAgdmFyIHgsIGFyciA9IHFhKCIuVE00IGxpIik7CiAgICByZXBsYWNlUmF3ID0gcSgiI2ludGFiQ2hla2J4IikuY2hlY2tlZDsKICAgIEdNc2V0VmFsdWUoInJlcGxhY2VSYXciLCByZXBsYWNlUmF3KTsKICAgIGZvciAoeCA9IDA7IHggPCBhcnIubGVuZ3RoOyB4KyspIHsKICAgICAgaWYgKHJlcGxhY2VSYXcpIHsKICAgICAgICBhcnJbeF0uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBvcGVuSW5UYWIsIGZhbHNlKTsKICAgICAgICBhcnJbeF0uc2V0QXR0cmlidXRlKCdvbmNsaWNrJywgJycpOwogICAgICB9IGVsc2UgewogICAgICAgIGFyclt4XS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIG9wZW5JblRhYiwgZmFsc2UpOwogICAgICAgIGFyclt4XS5zZXRBdHRyaWJ1dGUoJ29uY2xpY2snLCAnd2luZG93Lm9wZW4odGhpcy5kYXRhc2V0LnVybCArIGxvY2F0aW9uLmhyZWYpJyk7CiAgICAgIH0KICAgIH0KICB9CiAgLyog54ix5aWH6Im65q2j56Gu6YCJ6ZuGICovCiAgZnVuY3Rpb24gcmlnaHRFcHNMaW5rQ2hlY2soKSB7CiAgICBlcGlzb2RlcyA9IHEoIiNyZWFsTGlua0NoZWtieCIpLmNoZWNrZWQ7CiAgICBHTXNldFZhbHVlKCJlcGlzb2RlcyIsIGVwaXNvZGVzKTsKICAgIHRyeSB7CiAgICAgIGlmIChlcGlzb2RlcykgewogICAgICAgIHEoJyN3aWRnZXQtZHJhbWFzZXJpZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIGdldExpbmsoZSkgewogICAgICAgIC8vLS0tLS0tLS0tLS0tLWlxaXlp5Ymn6ZuG55yf5a6e5pKt5pS+6aG16Z2i5pa55rOVICBCZWdpbi0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIC8vQ29kZSBwaWVjZSBpbmZvbWF0aW9uOgogICAgICAgIC8vTGljZW5zZTpNSVQgICBBdXRob3I6aG9vdGhpbiAgSG9tZXBhZ2U6IGh0dHA6Ly9ob290aGluLmNvbSAgRW1haWw6IHJpeGl4aUBnbWFpbC5jb20KICAgICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldC5wYXJlbnROb2RlLnRhZ05hbWUgPT0gIkxJIiA/IGUudGFyZ2V0LnBhcmVudE5vZGUgOiAoZS50YXJnZXQucGFyZW50Tm9kZS5wYXJlbnROb2RlLnRhZ05hbWUgPT0gIkxJIiA/IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZSA6IGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlKTsKICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSAhPSAiTEkiKSByZXR1cm47CiAgICAgICAgICBHTXhtbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdXJsOiAiaHR0cDovL2NhY2hlLnZpZGVvLnFpeWkuY29tL2pwL3ZpLyIgKyB0YXJnZXQuZGF0YXNldC52aWRlb2xpc3RUdmlkICsgIi8iICsgdGFyZ2V0LmRhdGFzZXQudmlkZW9saXN0VmlkICsgIi8/Y2FsbGJhY2s9Y3JhY2tJcWl5aSIsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgdmFyIGNyYWNrSXFpeWkgPSBmdW5jdGlvbihkKSB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0gZC52dTsKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGV2YWwocmVzdWx0LnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIC8vLS0tLS0tLS0tLS0tLWlxaXlp5Ymn6ZuG55yf5a6e5pKt5pS+6aG16Z2i5pa55rOVICBFbmQtLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgfSBlbHNlIHsKICAgICAgICBxKCcjd2lkZ2V0LWRyYW1hc2VyaWVzJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRMaW5rKTsKICAgICAgfQogICAgfSBjYXRjaChlKSB7fQogIH0KICAvKiDli77pgInoh6rlrprkuYnmjqXlj6MgKi8KICBmdW5jdGlvbiBhZGRBcGlDaGVjaygpIHsKICAgIHVzZXJBcGlzT24gPSBxKCcjYWRkQXBpQ2hla0J4JykuY2hlY2tlZDsKICAgIEdNc2V0VmFsdWUoJ3VzZXJBcGlzT24nLCB1c2VyQXBpc09uKTsKICAgIGlmKHVzZXJBcGlzT24pIHsKICAgICAgc2VsZkRlZmluZSgpOwogICAgICBzZXRUaW1lb3V0KHNob3dBZGRBcGlQYW5lbCwgMjAwKTsKICAgIH0KICB9CiAgLyogIOaJp+ihjCAgKi8KICB2YXIgZGl2ID0gbWFrZUVsKCJkaXYiKTsKICBkaXYuaWQgPSAiVE1IWWQiOwogIHZhciB0eHQgPSAnJywgaSA9IDA7CiAgLyrmj5DkvpvnmoTmjqXlj6PliJfooagqLwogIGZvciAoaSBpbiBhcGlzKSB7CiAgICB0eHQgKz0gYDxsaSBkYXRhLW9yZGVyPSR7aX0gZGF0YS11cmw9IiR7YXBpc1tpXS51cmx9IiBkYXRhLWludGFiPSR7YXBpc1tpXS5pbnRhYn0gdGl0bGU9IiR7YXBpc1tpXS50aXRsZX0iIG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPiR7YXBpc1tpXS5uYW1lfTwvbGk+YDsKICB9CiAgZGl2LmlubmVySFRNTCA9IGAKICAgIDx1bCBpZD0iVE1IWXVsIj4KICAgICAgPGxpIGNsYXNzPSJUTTEiPjxzcGFuIGlkPSJUTUxpc3QiICB0aXRsZT0iJHtkZWZhdWx0YXBpLnRpdGxlfSIgb25jbGljaz0id2luZG93Lm9wZW4oXCcke2RlZmF1bHRhcGkudXJsfVwnK3dpbmRvdy5sb2NhdGlvbi5ocmVmKSI+4pa2PC9zcGFuPjx1bCBjbGFzcz0iVE0zIFRNNCI+JHt0eHR9PC91bD48L2xpPgogICAgICA8bGkgY2xhc3M9IlRNMSI+PHNwYW4gaWQ9IlRNU2V0Ij7ilqM8L3NwYW4+PHVsIGNsYXNzPSJUTTMiPgogICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iaW50YWJDaGVrYngiPuacrOmhteino+aekDwvbGFiZWw+PC9saT4KICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InJlYWxMaW5rQ2hla2J4Ij7niLHlpYfoibrmraPnoa7pgInpm4Y8L2xhYmVsPjwvbGk+CiAgICAgICAgPGxpPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9ImFkZEFwaUNoZWtCeCI+PGxhYmVsIGlkPSJhZGRBcGlCdG4iPuWinuWKoOaOpeWPozwvbGFiZWw+PC9saT4KICAgICAgICA8bGk+PGxhYmVsIGlkPSJpbnRhYlNldHRpbmdCdG4iPuacrOmhteaSreaUvuiuvue9rjwvbGFiZWw+PC9saT4KICAgICAgPC91bD48L2xpPgogICAgPC91bD4KICBgOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICBxKCIjYWRkQXBpQ2hla0J4IikuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYWRkQXBpQ2hlY2ssIGZhbHNlKTsKICAvLyBxKCIjYWRkQXBpQ2hla0J4IikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGRBcGlDaGVjaywgZmFsc2UpOwogIEdNZ2V0VmFsdWUoJ3VzZXJBcGlzT24nLGZhbHNlKQogIC50aGVuKChhZyk9PnsKICAgIHVzZXJBcGlzT24gPSBhZzsKICAgIHEoIiNhZGRBcGlDaGVrQngiKS5jaGVja2VkID0gdXNlckFwaXNPbjsKICAgIC8q55yL55yL5piv5ZCm6ZyA6KaB5Yqg6L296Ieq5a6a5LmJ55qE5o6l5Y+j5YiX6KGoKi8KICAgIGlmICh1c2VyQXBpc09uKSB7CiAgICAgIEdNZ2V0VmFsdWUoJ3VzZXJBcGlzJywgIlt7fV0iKS50aGVuKChhZzEpPT57CiAgICAgICAgdmFyIHVzZXJBcGlzID0gSlNPTi5wYXJzZShhZzEpLCB0eHQ9Jyc7CiAgICAgICAgZm9yICh2YXIgaiBpbiB1c2VyQXBpcykgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYgKHVzZXJBcGlzW2pdLmxpbmsgIT09IG51bGwpIHsKICAgICAgICAgICAgICB0eHQgKz0gYDxsaSBkYXRhLW9yZGVyPSR7an0gZGF0YS11cmw9IiR7dXNlckFwaXNbal0ubGlua30iICBkYXRhLWludGFiPSR7dXNlckFwaXNbal0uaW50YWJ9IG9uY2xpY2s9IndpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC51cmwrbG9jYXRpb24uaHJlZikiPiR7dXNlckFwaXNbal0ubmFtZX08L2xpPmA7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGUpIHsvKmNvbnNvbGUubG9nKGUpOyovfQogICAgICAgIH0KICAgICAgICBxKCd1bC5UTTMuVE00JykuaW5uZXJIVE1MID0gdHh0ICsgcSgndWwuVE0zLlRNNCcpLmlubmVySFRNTDsKICAgICAgICBzZWxmRGVmaW5lKCk7CiAgICAgIH0pOwogICAgfQogIH0pCiAgLnRoZW4oKCk9PnsKICAgIHEoIiNpbnRhYkNoZWtieCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgbm9OZXdUYWJDaGVjaywgZmFsc2UpOwogICAgR01nZXRWYWx1ZSgncmVwbGFjZVJhdycsZmFsc2UpLnRoZW4oKGFnKT0+ewogICAgICByZXBsYWNlUmF3ID0gYWc7CiAgICAgIHEoIiNpbnRhYkNoZWtieCIpLmNoZWNrZWQgPSByZXBsYWNlUmF3OwogICAgICBpZiAocmVwbGFjZVJhdykgewogICAgICAgIG5vTmV3VGFiQ2hlY2soKTsKICAgICAgfQogICAgfSk7CiAgICBxKCIjcmVhbExpbmtDaGVrYngiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHJpZ2h0RXBzTGlua0NoZWNrLCBmYWxzZSk7CiAgICBHTWdldFZhbHVlKCdlcGlzb2RlcycsZmFsc2UpLnRoZW4oKGFnKT0+ewogICAgICBlcGlzb2RlcyA9IGFnOwogICAgICBxKCIjcmVhbExpbmtDaGVrYngiKS5jaGVja2VkID0gZXBpc29kZXM7CiAgICAgIGlmIChlcGlzb2RlcyAmJiB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJpcWl5aSIpICE9IC0xKSB7CiAgICAgICAgcmlnaHRFcHNMaW5rQ2hlY2soKTsKICAgICAgfQogICAgfSk7CiAgICBxKCIjYWRkQXBpQnRuIikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93QWRkQXBpUGFuZWwsIGZhbHNlKTsKICAgIHEoIiNpbnRhYlNldHRpbmdCdG4iKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGludGFiU2V0dGluZywgZmFsc2UpOwogIH0pOwoKLyoqIDIwMTctMTAtMjQgIOiHquWumuS5ieino+aekOaOpeWPoyAgKi8KLyogIOaYvuekuuWinuWKoOaOpeWPo+eahOmdouadvyAgKi8KICBmdW5jdGlvbiBzaG93QWRkQXBpUGFuZWwoKSB7CiAgICBpZiAocSgnI3RNdXNlckRlZmluZScpKSB7CiAgICAgIHEoJyN0TXVzZXJEZWZpbmUnKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgIH0gZWxzZSB7CiAgICAgIGFsZXJ0KGAo4peP77+jKO+9tCnvv6Pil48p44GlXG5cbuacquWQr+eUqFvlop7liqDmjqXlj6Nd5Yqf6IO9XG7or7fmioogJ+KWo+WinuWKoOaOpeWPoyfihpIn4piR5aKe5Yqg5o6l5Y+jJyFgKTsKICAgIH0KICB9Ci8qICDnlJ/miJDlop7liqDmjqXlj6PpnaLmnb8gICovCiAgZnVuY3Rpb24gc2VsZkRlZmluZSgpIHsKICAgIHZhciBhID0gbWFrZUVsKCdkaXYnKTsKICAgIGEuaWQgPSAndE11c2VyRGVmaW5lJzsKICAgIGEuc2V0QXR0cmlidXRlKCdjbGFzcycsICdUTUhZcCcpOwogICAgYS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpOwogICAgdmFyIHR4dCA9IGAKICAgICAgPGJ1dHRvbiBjbGFzcz0iVE1IWUNsb3NlIiBvbmNsaWNrPSJxKCcjdE11c2VyRGVmaW5lJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7Ij7wn5eZPC9idXR0b24+CiAgICAgIDxsaT48c3BhbiBjbGFzcz0iVE1IWXNwYW4xMjAiPuino+aekOaOpeWPo+WQjeensDo8L3NwYW4+PGlucHV0IHR5cGU9InRleHQiIGlkPSJ0TW5hbWUiIGNsYXNzPSJUTUhZbHRpIiBwbGFjZWhvbGRlcj0i5pi+56S655qE5ZCN56ewIj48L2xpPgogICAgICA8bGk+PHNwYW4gY2xhc3M9IlRNSFlzcGFuMTIwIj7op6PmnpDmjqXlj6PlnLDlnYA6PC9zcGFuPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idE1wYXJzZUxpbmsiIGNsYXNzPSJUTUhZbHRpIiBwbGFjZWhvbGRlcj0i5o6l5Y+j6ZyA6KaB5YyF5ZCrIGh0dHAg5oiW6ICFIGh0dHBzIj48L2xpPgogICAgICA8bGk+PHNwYW4gY2xhc3M9IlRNSFlzcGFuODAiPuacrOmhteino+aekDo8L3NwYW4+PGxhYmVsIGZvcj0idE1pbnRhYmNrYngiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRNaW50YWJja2J4Ii8+6YCC5ZCIPC9sYWJlbD48L2xpPgogICAgICA8bGkgaWQ9InRNYnRuTGkiPgogICAgICAgIDxidXR0b24gaWQ9InRNZ28iIG9uY2xpY2s9IndpbmRvdy5vcGVuKHEoJyN0TXBhcnNlTGluaycpLnZhbHVlK2xvY2F0aW9uLmhyZWYpIj7mtYvor5U8L2J1dHRvbj4KICAgICAgICA8YnV0dG9uIGlkPSJ0TWFkZCI+5aKe5YqgPC9idXR0b24+CiAgICAgICAgPGJ1dHRvbiBpZD0idE1zYXZlIj7kv53lrZg8L2J1dHRvbj4KICAgICAgPC9saT4KICAgIGA7CiAgICBHTWdldFZhbHVlKCd1c2VyQXBpcycsICJbe31dIikudGhlbigoYWcpPT57CiAgICAgIHZhciBhciA9IEpTT04ucGFyc2UoYWcpLGQ7CiAgICAgIHRyeSB7CiAgICAgICAgaWYgKGFyWzBdLm5hbWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBkID0gKGFyW2ldLmludGFiPT09IjEiKT8nY2hlY2tlZCc6Jyc7CiAgICAgICAgICAgIHR4dCArPSBgPGxpPjxzcGFuIGNsYXNzPSJpZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndE11c2VyRGVmaW5lJykucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlKSI+4pyYPC9zcGFuPjxpbnB1dCBjbGFzcz0iaWNoZWNrIiB0eXBlPSJjaGVja2JveCIgJHtkfT48c3BhbiBjbGFzcz0iaW5hbWUiPiR7YXJbaV0ubmFtZX08L3NwYW4+PHNwYW4gY2xhc3M9ImlsaW5rIj4ke2FyW2ldLmxpbmt9PC9zcGFuPjwvbGk+YDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgIGEuaW5uZXJIVE1MID0gdHh0OwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOwogICAgICAvKuS6i+S7tue7keWumiovCiAgICAgIHEoJyN0TXNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBuZXdQYXJzZUxpbmtzID0gZ2V0YXJyKCk7CiAgICAgICAgR01zZXRWYWx1ZSgndXNlckFwaXMnLCBKU09OLnN0cmluZ2lmeShuZXdQYXJzZUxpbmtzKSk7CiAgICAgICAgY29uc29sZS5sb2cobmV3UGFyc2VMaW5rcyk7CiAgICAgIH0sIGZhbHNlKTsKICAgICAgcSgnI3RNYWRkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAocSgnI3RNbmFtZScpLnZhbHVlIHx8IHEoJyN0TXBhcnNlTGluaycpLnZhbHVlKSB7CiAgICAgICAgICB2YXIgYiA9IHEoIiN0TWludGFiY2tieCIpLmNoZWNrZWQ/IjEiOiIwIjsKICAgICAgICAgIHZhciBjID0gcSgiI3RNaW50YWJja2J4IikuY2hlY2tlZD8iY2hlY2tlZCI6IiI7CiAgICAgICAgICB2YXIgYSA9IG1ha2VFbCgnbGknKTsKICAgICAgICAgIGEuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPSJpZGVsZXRlIiB0aXRsZT0i5Yig6ZmkIiBvbmNsaWNrPSJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndE11c2VyRGVmaW5lJykucmVtb3ZlQ2hpbGQodGhpcy5wYXJlbnROb2RlKSI+4pyYPC9zcGFuPjxpbnB1dCBjbGFzcz0iaWNoZWNrIiB0eXBlPSJjaGVja2JveCIgJHtjfT48c3BhbiBjbGFzcz0iaW5hbWUiPiR7cSgnI3RNbmFtZScpLnZhbHVlfTo8L3NwYW4+PHNwYW4gY2xhc3M9ImlsaW5rIj4ke3EoJyN0TXBhcnNlTGluaycpLnZhbHVlfTwvc3Bhbj5gOwogICAgICAgICAgaWYgKHEoJ3NwYW5bY2xhc3M9aW5hbWVdJykgPT09IG51bGwpIHsKICAgICAgICAgICAgcSgnI3RNdXNlckRlZmluZScpLmFwcGVuZENoaWxkKGEpOwogICAgICAgICAgICBxKCcjdE1uYW1lJykudmFsdWUgPSAnJzsKICAgICAgICAgICAgcSgnI3RNcGFyc2VMaW5rJykudmFsdWUgPSAnJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHEoJyN0TXVzZXJEZWZpbmUnKS5pbnNlcnRCZWZvcmUoYSwgcSgnc3BhbltjbGFzcz1pbmFtZV0nKS5wYXJlbnROb2RlKTsKICAgICAgICAgICAgcSgnI3RNbmFtZScpLnZhbHVlID0gJyc7CiAgICAgICAgICAgIHEoJyN0TXBhcnNlTGluaycpLnZhbHVlID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBmYWxzZSk7CiAgICB9KTsKICB9Ci8qICDkv53lrZjmjInpkq7miafooYzlh73mlbA66I635Y+W5YC85bm2IGF3YWl0IEdNLnNldFZhbHVlKCkgICovCiAgZnVuY3Rpb24gZ2V0YXJyKCkgewogICAgdmFyIHVzZXJVcmwgPSBxYSgnLmlsaW5rJyk7CiAgICB2YXIgdXJsYXJyID0gW10sIHRNbmFtZSwgdE1wYXJzZUxpbmssIHRNaW50YWJja2J4OwogICAgdE1uYW1lID0gcSgnI3RNbmFtZScpLnZhbHVlOwogICAgdE1wYXJzZUxpbmsgPSBxKCcjdE1wYXJzZUxpbmsnKS52YWx1ZTsKICAgIHRNaW50YWJja2J4ID0gcSgnI3RNaW50YWJja2J4JykuY2hlY2tlZD8xOjA7CiAgICBpZiAodE1uYW1lIHx8IHRNcGFyc2VMaW5rKSB7CiAgICAgIHVybGFyci5wdXNoKHsgbmFtZTogdE1uYW1lLCBsaW5rOiB0TXBhcnNlTGluaywgaW50YWI6dE1pbnRhYmNrYnggfSk7CiAgICB9CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJVcmwubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG4sIHQsIGw7CiAgICAgIHQgPSB1c2VyVXJsW2ldLmlubmVyVGV4dDsKICAgICAgbiA9IHVzZXJVcmxbaV0ucHJldmlvdXNTaWJsaW5nLmlubmVyVGV4dDsKICAgICAgbCA9IHVzZXJVcmxbaV0ucHJldmlvdXNTaWJsaW5nLnByZXZpb3VzU2libGluZy5jaGVja2VkPycxJzonMCc7CiAgICAgIHVybGFyci5wdXNoKHsgbmFtZTogbiwgbGluazogdCxpbnRhYjpsIH0pOwogICAgfQogICAgcmV0dXJuIHVybGFycjsKICB9Ci8qKiAyMDE3LTEwLTI0ICDoh6rlrprkuYnop6PmnpDmjqXlj6MgRU5EICovCgp9KSgpOwoKLy8g6LWE5rqQ5Y+C6ICDaHR0cDovL3d3dy41aWZ4dy5jb20vdmlwLwovLyDotYTmupDlj4LogINodHRwOi8vbGl2ZS5nb3BhcnRvb2suY29tLwovLyDotYTmupDlj4LogINodHRwOi8vdHYuZHNxbmRoLmNvbQovLyDotYTmupDlj4LogINodHRwOi8vNTEucnV5by5uZXQvcC8zMTI3Lmh0bWwKLy/mnInmlYjmgKfmnKrnn6V8fOS4jeiDveebtOaOpeW8leeUqOaOpeWPowovL2h0dHA6Ly93d3cueXlkeTguY29tL2NvbW1vbi8/dXJsPQovL2hyZWY9Imh0dHA6Ly9tdDJ0LmNvbS95dW4/dXJsPQovL2h0dHBzOi8vYXBpLjQ3a3MuY29tL3dlYmNsb3VkLz92PQovL2h0dHA6Ly93d3cuZ3VxaWFua3VuLmNvbS90b29scy92aXB2aWRlbwovL3tuYW1lOiJQVS50biIsdXJsOiJodHRwOi8vYXBpLnB1LnRuL3FxMS8/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+S8mOmFt+W4g+iii+a4uOaIjyIsaW50YWI6MH0sCi8vIHtuYW1lOiLoiJ7liqjnp4vlpKkiLHVybDoiaHR0cDovL3F0enIubmV0L3MvP3F0PSIsdGl0bGU6InF0enIubmV0IixpbnRhYjoxfSwKLy/ov4fmnJ/mjqXlj6MKLy97bmFtZToiNjVZVyIsdXJsOiJodHRwOi8vd3d3LjY1eXcuY29tLzY1eXcvP3ZpZD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi57Sr54uQIix1cmw6Imh0dHA6Ly95dW4uemlodS50di9wbGF5Lmh0bWw/dXJsPSIsdGl0bGU6IuaViOaenOWPr+iDveS4jeeos+WumiJ9LAovL3tuYW1lOiLkupHop6PmnpAiLHVybDoiaHR0cDovL3d3dy5lZnVuZmlsbS5jb20veXVucGFyc2UvaW5kZXgucGhwP3VybD0iLHRpdGxlOiLmlrDmjqXlj6PvvIznqLPlrprmgKfmnKrnn6UifSwKLy97bmFtZToi5aa55YS/5LqRIix1cmw6Imh0dHBzOi8vd3d3Lnl5bWVpZXIuY29tL2FwaS5waHA/dXJsPSIsdGl0bGU6IuS4jeeos+WumiJ9Ci8ve25hbWU6IlbkupFb6IW+6K6vXSIsdXJsOiJodHRwOi8vd3d3LnZpeXVuLm1lL2ppZXhpLnBocD91cmw9Iix0aXRsZToi6IW+6K6v6aaW6YCJIn0sCi8ve25hbWU6IjEwMDjlvbHop4YiK1lvdWt1SWNvbix1cmw6Imh0dHA6Ly9hcGkuMTAwOG5ldC5jb20vdi5waHA/dXJsPSIsdGl0bGU6IuaNruivtOWPr+S7peeci+W4g+iii+a4uOaIj+inhumikSIsaW50YWI6MX0sCi8ve25hbWU6IkZMVlNQW+iFvuiur10iLHVybDoiaHR0cHM6Ly9hcGkuZmx2c3AuY29tLz91cmw9Iix0aXRsZToi5pSv5oyB6IW+6K6vIixpbnRhYjoxfSwvL+ino+aekOa6kOWQjOS4igoKLy8ge25hbWU6InZQYXJzZSIrVlFRSWNvbix1cmw6Imh0dHBzOi8vYXBpLnZwYXJzZS5vcmcvP3VybD0iLHRpdGxlOiLmlK/mjIHohb7orq8iLGludGFiOjF9LAovLyB7bmFtZToi54yr5LqRIitWUVFJY29uLHVybDoiaHR0cHM6Ly9qeC5tYW95dW4udHYvaW5kZXgucGhwP2lkPSIsdGl0bGU6IuaUr+aMgeiFvuiuryIsaW50YWI6MX0sCgogICAgLy8ge25hbWU6IuaKouWFiOW9semZoiIrWW91a3VJY29uLHVybDoiaHR0cDovL3d3dy5xeHlpbmd5dWFuLnZpcC9wbGF5P21ha2U9dXJsJmlkPSIsdGl0bGU6IuaNruivtOS8mOmFt+avlOi+g+eos+WumiIsaW50YWI6MH0sCgogICAgLy8ge25hbWU6IumFt+e7mCIsdXJsOiJodHRwOi8vYXBwYXBpLnN2aXB2Lmt1dWh1aS5jb20vc3ZpcGp4L2xpdWxhbnFpY2hhamlhbi9icm93c2VycGx1Z2luL3FoangvcWhqeC5waHA/aWQ9Iix0aXRsZToi57u85ZCI5o6l5Y+j77yM6YW357uYKuOAkOS9nOiAhWFodWlhYmMyMDAz44CR6ISa5pys55qE5o6l5Y+jIixpbnRhYjowfSw="},{"name":"计时器掌控者|视频广告跳过|视频广告加速器","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*"],"merge_includes":true,"use_matches":[],"orig_matches":["http://*/*"],"merge_matches":true,"use_excludes":["/(^[^:\\/#\\?]*:\\/\\/([^#\\?\\/]*\\.)?www\\.sonimei\\.cn(:[0-9]{1,5})?\\/.*$)/","/(^[^:\\/#\\?]*:\\/\\/([^#\\?\\/]*\\.)?www\\.1717yun\\.com(:[0-9]{1,5})?\\/.*$)/"],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":[]}},"storage":{"data":{},"ts":1574751670191},"enabled":false,"position":7,"file_url":"https://greasyfork.org/scripts/372673-%E8%AE%A1%E6%97%B6%E5%99%A8%E6%8E%8C%E6%8E%A7%E8%80%85-%E8%A7%86%E9%A2%91%E5%B9%BF%E5%91%8A%E8%B7%B3%E8%BF%87-%E5%B9%BF%E5%91%8A%E5%8A%A0%E9%80%9F%E5%99%A8/code/%E8%AE%A1%E6%97%B6%E5%99%A8%E6%8E%8C%E6%8E%A7%E8%80%85%7C%E8%A7%86%E9%A2%91%E5%B9%BF%E5%91%8A%E8%B7%B3%E8%BF%87%7C%E5%B9%BF%E5%91%8A%E5%8A%A0%E9%80%9F%E5%99%A8.user.js","uuid":"921c6503-ff93-4a23-958f-a947e15dc326","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOiuoeaXtuWZqOaOjOaOp+iAhXzop4bpopHlub/lkYrot7Pov4d86KeG6aKR5bm/5ZGK5Yqg6YCf5ZmoCi8vIEBuYW1lOmVuICAgICAgVGltZXJIb29rZXIKLy8gQG5hbWU6emgtQ04gICDorqHml7blmajmjozmjqfogIV86KeG6aKR5bm/5ZGK6Lez6L+HfOinhumikeW5v+WRiuWKoOmAn+WZqAovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ2l0ZWUuY29tL0hHSmluZy9ldmVydGhpbmctaG9vay8KLy8gQHZlcnNpb24gICAgICAxLjAuMDgKLy8gQGRlc2NyaXB0aW9uICAgICAgIOaOp+WItue9kemhteiuoeaXtuWZqOmAn+W6pnzliqDpgJ/ot7Pov4fpobXpnaLorqHml7blub/lkYp86KeG6aKR5b+r6L+b77yI5oWi5pS+77yJfOi3s+i/h+W5v+WRinzmlK/mjIHlh6DkuY7miYDmnInnvZHpobUuCi8vIEBkZXNjcmlwdGlvbjplbiAgaXQgY2FuIGhvb2sgdGhlIHRpbWVyIHNwZWVkIHRvIGNoYW5nZS4KLy8gQGRlc2NyaXB0aW9uOnpoLUNOICDmjqfliLbnvZHpobXorqHml7blmajpgJ/luqZ85Yqg6YCf6Lez6L+H6aG16Z2i6K6h5pe25bm/5ZGKfOi3s+i/h+W5v+WRinzmlK/mjIHlh6DkuY7miYDmnInnvZHpobUuCi8vIEBpbmNsdWRlICAgICAgKgovLyBAcmVxdWlyZSAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy8zNzI2NzItZXZlcnl0aGluZy1ob29rL2NvZGUvRXZlcnl0aGluZy1Ib29rLmpzP3ZlcnNpb249NjU5MzE1Ci8vIEBhdXRob3IgICAgICAgQ2FuZ3NoaQovLyBAbWF0Y2ggICAgICAgIGh0dHA6Ly8qLyoKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gPT0vVXNlclNjcmlwdD09Ci8qKgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogVGltZTogMjAxNy8xMS8yMCAxOToyOC4KICogQXV0aG9yOiBDYW5nc2hpCiAqIFZpZXc6IGh0dHA6Ly9wYWxlcm9jay5jbgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICovCn5mdW5jdGlvbiAoZ2xvYmFsKSB7CgogICAgdmFyIHdvcmtlclVSTHMgPSBbXTsKCiAgICB2YXIgaGVscGVyID0gZnVuY3Rpb24gKGVIb29rQ29udGV4dCwgdGltZXJDb250ZXh0LCB1dGlsKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYXBwbHlVSTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gJy5fdGgtY29udGFpbmVyIC5fdGgtaXRlbXttYXJnaW4tYm90dG9tOjNweDtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDozMHB4O2hlaWdodDozMHB4O2N1cnNvcjpwb2ludGVyO29wYWNpdHk6LjM7YmFja2dyb3VuZC1jb2xvcjphcXVhbWFyaW5lO2JvcmRlci1yYWRpdXM6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDozMHB4Oy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzOy1vLXRyYW5zaXRpb246YWxsIC41czt0cmFuc2l0aW9uOmFsbCAuNXM7cmlnaHQ6MzBweH0uX3RoLWNvbnRhaW5lciAuX3RoLWl0ZW0uX2l0ZW0teDJ7bWFyZ2luLWxlZnQ6MThweDt3aWR0aDo0MHB4O2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHh9Ll90aC1jb250YWluZXIgLl90aC1pdGVtLl9pdGVtLXgtMnttYXJnaW4tbGVmdDoxN3B4O3dpZHRoOjM4cHg7aGVpZ2h0OjM4cHg7bGluZS1oZWlnaHQ6MzhweH0uX3RoLWNvbnRhaW5lciAuX3RoLWl0ZW0uX2l0ZW0teDR7d2lkdGg6MzZweDtoZWlnaHQ6MzZweDttYXJnaW4tbGVmdDoxNnB4O2xpbmUtaGVpZ2h0OjM2cHh9Ll90aC1jb250YWluZXIgLl90aC1pdGVtLl9pdGVtLXgtNHt3aWR0aDozMnB4O2hlaWdodDozMnB4O2xpbmUtaGVpZ2h0OjMycHg7bWFyZ2luLWxlZnQ6MTRweH0uX3RoLWNvbnRhaW5lciAuX3RoLWl0ZW0uX2l0ZW0tcmVzZXR7d2lkdGg6MzBweDtsaW5lLWhlaWdodDozMHB4O2hlaWdodDozMHB4O21hcmdpbi1sZWZ0OjEwcHh9Ll90aC1jbGljay1ob3Zlcntwb3NpdGlvbjpyZWxhdGl2ZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC41czstby10cmFuc2l0aW9uOmFsbCAuNXM7dHJhbnNpdGlvbjphbGwgLjVzO2hlaWdodDo1MHB4O3dpZHRoOjUwcHg7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTouMztib3JkZXItcmFkaXVzOjEwMCU7YmFja2dyb3VuZC1jb2xvcjphcXVhbWFyaW5lO3RleHQtYWxpZ246Y2VudGVyO2xpbmUtaGVpZ2h0OjUwcHg7cmlnaHQ6MH0uX3RoLWNvbnRhaW5lcjpob3ZlcntsZWZ0Oi0xMHB4fS5fdGgtY29udGFpbmVye2ZvbnQtc2l6ZToxMnB4Oy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjVzOy1vLXRyYW5zaXRpb246YWxsIC41czt0cmFuc2l0aW9uOmFsbCAuNXM7bGVmdDotNDBweDt0b3A6MjAlO3Bvc2l0aW9uOmZpeGVkOy13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDt6LWluZGV4OjEwMDAwMH0uX3RoLWNvbnRhaW5lciAuX3RoLWl0ZW06aG92ZXJ7b3BhY2l0eTouODtiYWNrZ3JvdW5kLWNvbG9yOiM1ZmI0OTI7Y29sb3I6YWxpY2VibHVlfS5fdGgtY29udGFpbmVyOmhvdmVyIC5fdGgtY2xpY2staG92ZXJ7b3BhY2l0eTouOH0uX3RoLWNvbnRhaW5lcjpob3ZlciAuX3RoLWl0ZW17b3BhY2l0eTouNjtyaWdodDowfS5fdGgtY29udGFpbmVyIC5fdGgtY2xpY2staG92ZXI6aG92ZXJ7b3BhY2l0eTouODtiYWNrZ3JvdW5kLWNvbG9yOiM1ZmI0OTI7Y29sb3I6YWxpY2VibHVlfS5fdGhfY292ZXItYWxsLXNob3ctdGltZXN7cG9zaXRpb246Zml4ZWQ7dG9wOjA7cmlnaHQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6OTk5OTk7b3BhY2l0eToxO2ZvbnQtd2VpZ2h0OjkwMDtmb250LXNpemU6MzBweDtjb2xvcjojNGY0ZjRmO2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwwLjEpfS5fdGhfY292ZXItYWxsLXNob3ctdGltZXMuX3RoX2hpZGRlbnt6LWluZGV4Oi0xO29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246MXMgYWxsOy1vLXRyYW5zaXRpb246MXMgYWxsO3RyYW5zaXRpb246MXMgYWxsfS5fdGhfY292ZXItYWxsLXNob3ctdGltZXMgLl90aF90aW1lc3t3aWR0aDo4MHB4O2hlaWdodDo4MHB4O2JvcmRlci1yYWRpdXM6ODBweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMTI3LDI1NSwyMTIsMC41MSk7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6ODBweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO3JpZ2h0OjUwJTttYXJnaW4tdG9wOi00MHB4O21hcmdpbi1yaWdodDotNDBweH0nOwoKICAgICAgICAgICAgICAgIC8vIOWcqOmhtemdouW3pui+uea3u+WKoOS4gOS4quWNiuWchuS+v+S6juS/ruaUuQogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iX3RoLWNvbnRhaW5lciI+XG4nICsKICAgICAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9Il90aC1jbGljay1ob3ZlciIgb25jbGljaz0iY2hhbmdUaW1lKCkiPlxuJyArCiAgICAgICAgICAgICAgICAgICAgJyAgICAgICAgeCcgKyAxIC8gdGltZXJDb250ZXh0Ll9wZXJjZW50YWdlICsgJ1xuJyArCiAgICAgICAgICAgICAgICAgICAgJyAgICA8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz0iX3RoLWl0ZW0gX2l0ZW0teDIiIG9uY2xpY2s9ImNoYW5nVGltZSgyLDAsdHJ1ZSkiPiZndDs8L2Rpdj5cbicgKwogICAgICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz0iX3RoLWl0ZW0gX2l0ZW0teC0yIiBvbmNsaWNrPSJjaGFuZ1RpbWUoLTIsMCx0cnVlKSI+Jmx0OzwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPSJfdGgtaXRlbSBfaXRlbS14NCIgb25jbGljaz0iY2hhbmdUaW1lKDAsNCkiPiZndDsmZ3Q7PC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAnICAgIDxkaXYgY2xhc3M9Il90aC1pdGVtIF9pdGVtLXgtNCIgb25jbGljaz0iY2hhbmdUaW1lKDAsLTQpIj4mbHQ7Jmx0OzwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgJyAgICA8ZGl2IGNsYXNzPSJfdGgtaXRlbSBfaXRlbS1yZXNldCIgb25jbGljaz0iY2hhbmdUaW1lKDAsMCxmYWxzZSx0cnVlKSI+TzwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PlxuJyArCiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9Il90aF9jb3Zlci1hbGwtc2hvdy10aW1lcyBfdGhfaGlkZGVuIj5cbicgKwogICAgICAgICAgICAgICAgICAgICcgICAgPGRpdiBjbGFzcz0iX3RoX3RpbWVzIj54JyArIDEgLyB0aW1lckNvbnRleHQuX3BlcmNlbnRhZ2UgKyAnPC9kaXY+XG4nICsKICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArCiAgICAgICAgICAgICAgICAgICAgJyc7CiAgICAgICAgICAgICAgICB2YXIgc3R5bGVub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICAgICAgICAgICAgICAgIHN0eWxlbm9kZS5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dC9jc3MiKTsKICAgICAgICAgICAgICAgIGlmIChzdHlsZW5vZGUuc3R5bGVTaGVldCkgey8vIElFCiAgICAgICAgICAgICAgICAgICAgc3R5bGVub2RlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHN0eWxlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsvLyB3M2MKICAgICAgICAgICAgICAgICAgICB2YXIgY3NzVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0eWxlKTsKICAgICAgICAgICAgICAgICAgICBzdHlsZW5vZGUuYXBwZW5kQ2hpbGQoY3NzVGV4dCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBodG1sOwogICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZW5vZGUpOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXBwbHlHbG9iYWxBY3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIOeVjOmdouWNiuWchuaMiemSrueCueWHu+eahOaWueazlQogICAgICAgICAgICAgICAgZ2xvYmFsLmNoYW5nVGltZSA9IGZ1bmN0aW9uIChhbnVtLCBjbnVtLCBpc2EsIGlzcikgewogICAgICAgICAgICAgICAgICAgIGlmIChpc3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLnRpbWVyLmNoYW5nZSgxKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIWdsb2JhbC50aW1lcikgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbnVtICYmICFjbnVtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gcHJvbXB0KCLovpPlhaXmrLLmlLnlj5jorqHml7blmajlj5jljJblgI3njofvvIjlvZPliY3vvJoiICsgMSAvIHRpbWVyQ29udGV4dC5fcGVyY2VudGFnZSArICLvvIkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihwYXJzZUZsb2F0KHQpKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuivt+i+k+WFpeato+ehrueahOaVsOWtlyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdUaW1lKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQodCkgPD0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIuWAjeeOh+S4jeiDveWwj+S6juetieS6jjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nVGltZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDEgLyBwYXJzZUZsb2F0KHQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc2EgJiYgYW51bSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKDEgLyB0aW1lckNvbnRleHQuX3BlcmNlbnRhZ2UgPD0gMSAmJiBhbnVtIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDEgLyAoMSAvIHRpbWVyQ29udGV4dC5fcGVyY2VudGFnZSArIGFudW0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNudW0gPCAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY251bSA9IDEgLyAtY251bQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gMSAvICgoMSAvIHRpbWVyQ29udGV4dC5fcGVyY2VudGFnZSkgKiBjbnVtKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBnbG9iYWwudGltZXIuY2hhbmdlKHJlc3VsdCk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAogICAgICAgICAgICBhcHBseUhvb2tpbmc6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIC8vIOWKq+aMgeW+queOr+iuoeaXtuWZqAogICAgICAgICAgICAgICAgZUhvb2tDb250ZXh0Lmhvb2tSZXBsYWNlKHdpbmRvdywgJ3NldEludGVydmFsJywgZnVuY3Rpb24gKHNldEludGVydmFsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YKo5a2Y5Y6f5aeL5pe26Ze06Ze06ZqUCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1syXSA9IGFyZ3VtZW50c1sxXTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g6I635Y+W5Y+Y6YCf5pe26Ze06Ze06ZqUCiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1sxXSAqPSB0aW1lckNvbnRleHQuX3BlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHRJZCA9IHNldEludGVydmFsLmFwcGx5KHdpbmRvdywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5L+d5a2Y5q+P5qyh5L2/55So6K6h5pe25Zmo5b6X5Yiw55qEaWTku6Xlj4rlj4LmlbDnrYkKICAgICAgICAgICAgICAgICAgICAgICAgdGltZXJDb250ZXh0Ll9pbnRlcnZhbElkc1tyZXN1bHRJZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmd1bWVudHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dJZDogcmVzdWx0SWQKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdElkOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vIOWKq+aMgeW+queOr+iuoeaXtuWZqOeahOa4hemZpOaWueazlQogICAgICAgICAgICAgICAgZUhvb2tDb250ZXh0Lmhvb2tCZWZvcmUod2luZG93LCAnY2xlYXJJbnRlcnZhbCcsIGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBhcmdzWzBdOwogICAgICAgICAgICAgICAgICAgIGlmICh0aW1lckNvbnRleHQuX2ludGVydmFsSWRzW2lkXSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gdGltZXJDb250ZXh0Ll9pbnRlcnZhbElkc1tpZF0ubm93SWQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIOa4hemZpOivpeiusOW9lWlkCiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRpbWVyQ29udGV4dC5faW50ZXJ2YWxJZHNbaWRdOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyDliqvmjIHljZXmrKHorqHml7blmahzZXRUaW1lb3V0CiAgICAgICAgICAgICAgICBlSG9va0NvbnRleHQuaG9va0JlZm9yZSh3aW5kb3csICdzZXRUaW1lb3V0JywgZnVuY3Rpb24gKG1ldGhvZCwgYXJncykgewogICAgICAgICAgICAgICAgICAgIGFyZ3NbMV0gKj0gdGltZXJDb250ZXh0Ll9wZXJjZW50YWdlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgbmV3RnVuYyA9IHRoaXMuZ2V0SG9va2VkRGF0ZUNvbnN0cnVjdG9yKCk7CiAgICAgICAgICAgICAgICBlSG9va0NvbnRleHQuaG9va0NsYXNzKHdpbmRvdywgJ0RhdGUnLCBuZXdGdW5jLCAnX2lubmVyRGF0ZScsIFsnbm93J10pOwogICAgICAgICAgICAgICAgRGF0ZS5ub3cgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGVIb29rQ29udGV4dC5ob29rZWRUb1N0cmluZyh0aW1lckNvbnRleHQuX0RhdGUubm93LCBEYXRlLm5vdyk7CiAgICAgICAgICAgICAgICB2YXIgb2JqVG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOwogICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcyBpbnN0YW5jZW9mIHRpbWVyQ29udGV4dC5fbURhdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdbb2JqZWN0IERhdGVdJzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqVG9TdHJpbmcuY2FsbCh0aGlzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZUhvb2tDb250ZXh0Lmhvb2tlZFRvU3RyaW5nKHRpbWVyQ29udGV4dC5fc2V0SW50ZXJ2YWwsIHNldEludGVydmFsKTsKICAgICAgICAgICAgICAgIGVIb29rQ29udGV4dC5ob29rZWRUb1N0cmluZyh0aW1lckNvbnRleHQuX3NldFRpbWVvdXQsIHNldFRpbWVvdXQpOwogICAgICAgICAgICAgICAgZUhvb2tDb250ZXh0Lmhvb2tlZFRvU3RyaW5nKHRpbWVyQ29udGV4dC5fY2xlYXJJbnRlcnZhbCwgY2xlYXJJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICB0aW1lckNvbnRleHQuX21EYXRlID0gd2luZG93LkRhdGU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGdldEhvb2tlZERhdGVDb25zdHJ1Y3RvcjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19pbm5lckRhdGUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IHRpbWVyQ29udGV4dC5fRGF0ZShhcmd1bWVudHNbMF0pLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19pbm5lckRhdGUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IHRpbWVyQ29udGV4dC5fRGF0ZSgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMF0gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMV0gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbMl0gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbM10gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbNF0gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbNV0gfHwgbnVsbCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNbNl0gfHwgbnVsbAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgbm93ID0gdGltZXJDb250ZXh0Ll9EYXRlLm5vdygpOwogICAgICAgICAgICAgICAgICAgIHZhciBwYXNzVGltZSA9IG5vdyAtIHRpbWVyQ29udGV4dC5fX2xhc3REYXRldGltZTsKICAgICAgICAgICAgICAgICAgICB2YXIgaG9va1Bhc3NUaW1lID0gcGFzc1RpbWUgKiAoMSAvIHRpbWVyQ29udGV4dC5fcGVyY2VudGFnZSk7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coX190aGlzLl9fbGFzdERhdGV0aW1lICsgaG9va1Bhc3NUaW1lLCBub3csX190aGlzLl9fbGFzdERhdGV0aW1lICsgaG9va1Bhc3NUaW1lIC0gbm93KTsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ19pbm5lckRhdGUnLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IHRpbWVyQ29udGV4dC5fRGF0ZSh0aW1lckNvbnRleHQuX19sYXN0TURhdGV0aW1lICsgaG9va1Bhc3NUaW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9LAogICAgICAgICAgICByZWdpc3RlclNob3J0Y3V0S2V5czogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8g5b+r5o236ZSu5rOo5YaMCiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUua2V5Q29kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBbPV0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOTA6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTg3OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJysyJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdUaW1lKDIsIDAsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmFsdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd4NCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nVGltZSgwLCA0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFstXQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE4ODoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxODk6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnLTInKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ1RpbWUoLTIsIDAsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmFsdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd4LTQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ1RpbWUoMCwgLTQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDg6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgfHwgZS5hbHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVzZXQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ1RpbWUoMCwgMCwgZmFsc2UsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDlvZPorqHml7blmajpgJ/njofooqvmlLnlj5jml7bosIPnlKjnmoTlm57osIPmlrnms5UKICAgICAgICAgICAgICogQHBhcmFtIHBlcmNlbnRhZ2UKICAgICAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHBlcmNlbnRhZ2VDaGFuZ2VIYW5kbGVyOiBmdW5jdGlvbiAocGVyY2VudGFnZSkgewogICAgICAgICAgICAgICAgLy8g5pS55Y+Y5omA5pyJ55qE5b6q546v6K6h5pe2CiAgICAgICAgICAgICAgICB1dGlsLmVyZ29kaWNPYmplY3QodGltZXJDb250ZXh0LCB0aW1lckNvbnRleHQuX2ludGVydmFsSWRzLCBmdW5jdGlvbiAoaWRPYmosIGlkKSB7CiAgICAgICAgICAgICAgICAgICAgaWRPYmouYXJnc1sxXSA9IE1hdGguZmxvb3IoaWRPYmouYXJnc1syXSAqIHBlcmNlbnRhZ2UpOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlkT2JqLmFyZ3NbMV0pOwogICAgICAgICAgICAgICAgICAgIC8vIOe7k+adn+WOn+adpeeahOiuoeaXtuWZqAogICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwuY2FsbCh3aW5kb3csIGlkT2JqLm5vd0lkKTsKICAgICAgICAgICAgICAgICAgICAvLyDmlrDlvIDkuIDkuKrorqHml7blmagKICAgICAgICAgICAgICAgICAgICBpZE9iai5ub3dJZCA9IHRoaXMuX3NldEludGVydmFsLmFwcGx5KHdpbmRvdywgaWRPYmouYXJncyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH07CgoKICAgIHZhciBnZW5lcmF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHV0aWwpIHsKICAgICAgICAgICAgLy8gZGlzYWJsZSB3b3JrZXIKICAgICAgICAgICAgd29ya2VyVVJMcy5mb3JFYWNoKGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgIGlmICh1dGlsLnVybE1hdGNoaW5nKGxvY2F0aW9uLmhyZWYsICdodHRwLio6Ly8uKicgKyB1cmwgKyAnLionKSkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvd1snV29ya2VyJ10gPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dvcmtlciBkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdmFyIGVIb29rQ29udGV4dCA9IHRoaXM7CiAgICAgICAgICAgIHZhciB0aW1lckhvb2tlciA9IHsKICAgICAgICAgICAgICAgIC8vIOeUqOS6juWCqOWtmOiuoeaXtuWZqOeahGlk5ZKM5Y+C5pWwCiAgICAgICAgICAgICAgICBfaW50ZXJ2YWxJZHM6IHt9LAogICAgICAgICAgICAgICAgLy8g6K6h5pe25Zmo6YCf546HCiAgICAgICAgICAgICAgICBfX3BlcmNlbnRhZ2U6IDEuMCwKICAgICAgICAgICAgICAgIC8vIOWKq+aMgeWJjeeahOWOn+Wni+eahOaWueazlQogICAgICAgICAgICAgICAgX3NldEludGVydmFsOiB3aW5kb3dbJ3NldEludGVydmFsJ10sCiAgICAgICAgICAgICAgICBfY2xlYXJJbnRlcnZhbDogd2luZG93WydjbGVhckludGVydmFsJ10sCiAgICAgICAgICAgICAgICBfc2V0VGltZW91dDogd2luZG93WydzZXRUaW1lb3V0J10sCiAgICAgICAgICAgICAgICBfRGF0ZTogd2luZG93WydEYXRlJ10sCiAgICAgICAgICAgICAgICBfX2xhc3REYXRldGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksCiAgICAgICAgICAgICAgICBfX2xhc3RNRGF0ZXRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgICAgICAgICAgdmlkZW9TcGVlZEludGVydmFsOiAxMDAwLAogICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgKiDliJ3lp4vljJbmlrnms5UKICAgICAgICAgICAgICAgICAqLwogICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB0aW1lckNvbnRleHQgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgIHZhciBoID0gaGVscGVyKGVIb29rQ29udGV4dCwgdGltZXJDb250ZXh0LCB1dGlsKTsKCiAgICAgICAgICAgICAgICAgICAgaC5hcHBseUhvb2tpbmcoKTsKCiAgICAgICAgICAgICAgICAgICAgLy8g6K6+5a6a55m+5YiG5q+U5bGe5oCn6KKr5L+u5pS555qE5Zue6LCDCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRpbWVyQ29udGV4dCwgJ19wZXJjZW50YWdlJywgewogICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aW1lckNvbnRleHQuX19wZXJjZW50YWdlOwogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVyY2VudGFnZSA9PT0gdGltZXJDb250ZXh0Ll9fcGVyY2VudGFnZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwZXJjZW50YWdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5wZXJjZW50YWdlQ2hhbmdlSGFuZGxlcihwZXJjZW50YWdlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyQ29udGV4dC5fX3BlcmNlbnRhZ2UgPSBwZXJjZW50YWdlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgaC5hcHBseVVJKCk7CgogICAgICAgICAgICAgICAgICAgIGguYXBwbHlHbG9iYWxBY3Rpb24oKTsKCiAgICAgICAgICAgICAgICAgICAgaC5yZWdpc3RlclNob3J0Y3V0S2V5cygpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICog6LCD55So6K+l5pa55rOV5pS55Y+Y6K6h5pe25Zmo6YCf546HCiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gcGVyY2VudGFnZQogICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChwZXJjZW50YWdlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9fbGFzdE1EYXRldGltZSA9IHRoaXMuX21EYXRlLm5vdygpOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX21EYXRlLnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5ldyB0aGlzLl9tRGF0ZSgpKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9fbGFzdERhdGV0aW1lID0gdGhpcy5fRGF0ZS5ub3coKTsKICAgICAgICAgICAgICAgICAgICAvLyBkZWJ1Z2dlcjsKICAgICAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vCiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVyY2VudGFnZSA9IHBlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9sZE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdfdGgtY2xpY2staG92ZXInKTsKICAgICAgICAgICAgICAgICAgICB2YXIgb2xkTm9kZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdfdGhfdGltZXMnKTsKICAgICAgICAgICAgICAgICAgICAob2xkTm9kZVswXSB8fCB7fSkuaW5uZXJIVE1MID0gJ3gnICsgMSAvIHRoaXMuX3BlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgKG9sZE5vZGUxWzBdIHx8IHt9KS5pbm5lckhUTUwgPSAneCcgKyAxIC8gdGhpcy5fcGVyY2VudGFnZTsKICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ190aF9jb3Zlci1hbGwtc2hvdy10aW1lcycpWzBdIHx8IHt9OwogICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGEuY2xhc3NOYW1lKTsKICAgICAgICAgICAgICAgICAgICBhLmNsYXNzTmFtZSA9ICdfdGhfY292ZXItYWxsLXNob3ctdGltZXMnOwogICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFRpbWVvdXQuYmluZCh3aW5kb3cpKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYS5jbGFzc05hbWUgPSAnX3RoX2NvdmVyLWFsbC1zaG93LXRpbWVzIF90aF9oaWRkZW4nOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VWaWRlb1NwZWVkKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYXJJbnRlcnZhbC5iaW5kKHdpbmRvdykodGhpcy52aWRlb1NwZWVkSW50ZXJ2YWxJZCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb1NwZWVkSW50ZXJ2YWxJZCA9IHRoaXMuX3NldEludGVydmFsLmJpbmQod2luZG93KShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNoYW5nZVZpZGVvU3BlZWQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGUgPSAxIC8gX3RoaXMuX3BlcmNlbnRhZ2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYXRlID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY2xlYXJJbnRlcnZhbC5iaW5kKHdpbmRvdykoX3RoaXMudmlkZW9TcGVlZEludGVydmFsSWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy52aWRlb1NwZWVkSW50ZXJ2YWwpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoYW5nZVZpZGVvU3BlZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmF0ZSA9IDEgLyB0aGlzLl9wZXJjZW50YWdlOwogICAgICAgICAgICAgICAgICAgIHJhdGUgPiAxNiAmJiAocmF0ZSA9IDE2KTsKICAgICAgICAgICAgICAgICAgICByYXRlIDwgMC4wNjUgJiYgKHJhdGUgPSAwLjA2NSk7CiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZGVvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykgfHwgW107CiAgICAgICAgICAgICAgICAgICAgaWYgKHZpZGVvcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWRlb3MubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvc1tpXS5wbGF5YmFja1JhdGUgPSByYXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyDpu5jorqTliJ3lp4vljJYKICAgICAgICAgICAgdGltZXJIb29rZXIuaW5pdCgpOwogICAgICAgICAgICByZXR1cm4gdGltZXJIb29rZXI7CiAgICAgICAgfQogICAgfTsKCiAgICBpZiAoZ2xvYmFsLmVIb29rKSB7CiAgICAgICAgZ2xvYmFsLmVIb29rLnBsdWdpbnMoewogICAgICAgICAgICBuYW1lOiAndGltZXInLAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5o+S5Lu26KOF6L29CiAgICAgICAgICAgICAqIEBwYXJhbSB1dGlsCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBtb3VudDogZ2VuZXJhdGUoKQogICAgICAgIH0pOwogICAgfQp9KHdpbmRvdyk7","requires":[{"meta":{"name":"Everything-Hook.js","url":"https://greasyfork.org/scripts/372672-everything-hook/code/Everything-Hook.js?version=659315","ts":1575567618754,"mimetype":"text/javascript"},"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBFdmVyeXRoaW5nLUhvb2sKLy8gQG5hbWVzcGFjZSAgICBodHRwczovL2dpdGVlLmNvbS9IR0ppbmcvZXZlcnRoaW5nLWhvb2svCi8vIEB1cGRhdGVVUkwgICAgaHR0cHM6Ly9naXRlZS5jb20vSEdKaW5nL2V2ZXJ0aGluZy1ob29rL3Jhdy9tYXN0ZXIvc3JjL2V2ZXJ5dGhpbmctaG9vay5qcwovLyBAdmVyc2lvbiAgICAgIDAuNS45MDQ3Ci8vIEBpbmNsdWRlICAgICAgKgovLyBAZGVzY3JpcHRpb24gIGl0IGNhbiBob29rIGV2ZXJ5dGhpbmcKLy8gQGF1dGhvciAgICAgICBDYW5nc2hpCi8vIEBtYXRjaCAgICAgICAgaHR0cDovLyovKgovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qKgogKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICogVGltZTogMjAxNy85LzIwIDE4OjMzLgogKiBBdXRob3I6IENhbmdzaGkKICogVmlldzogaHR0cDovL3BhbGVyb2NrLmNuCiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogKi8KJ3VzZSBzdHJpY3QnOwovKioKICogRXZlcnktVXRpbHMKICogdmVyc2lvbjowLjAuMjAwMQogKi8KKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHsKCiAgICAidXNlIHN0cmljdCI7CgogICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICJvYmplY3QiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gIm9iamVjdCIpIHsKCiAgICAgICAgLy8gRm9yIENvbW1vbkpTIGFuZCBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB3aGVyZSBhIHByb3BlciBgd2luZG93YAogICAgICAgIC8vIGlzIHByZXNlbnQsIGV4ZWN1dGUgdGhlIGZhY3RvcnkgYW5kIGdldCBqUXVlcnkuCiAgICAgICAgLy8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGAKICAgICAgICAvLyAoc3VjaCBhcyBOb2RlLmpzKSwgZXhwb3NlIGEgZmFjdG9yeSBhcyBtb2R1bGUuZXhwb3J0cy4KICAgICAgICAvLyBUaGlzIGFjY2VudHVhdGVzIHRoZSBuZWVkIGZvciB0aGUgY3JlYXRpb24gb2YgYSByZWFsIGB3aW5kb3dgLgogICAgICAgIC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoImpxdWVyeSIpKHdpbmRvdyk7CiAgICAgICAgLy8gU2VlIHRpY2tldCAjMTQ1NDkgZm9yIG1vcmUgaW5mby4KICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/CiAgICAgICAgICAgIGZhY3RvcnkoZ2xvYmFsLCB0cnVlKSA6CiAgICAgICAgICAgIGZ1bmN0aW9uICh3KSB7CiAgICAgICAgICAgICAgICBpZiAoIXcuZG9jdW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoImVVdGlscyByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBmYWN0b3J5KHcpOwogICAgICAgICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgICBmYWN0b3J5KGdsb2JhbCk7CiAgICB9Cgp9KHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gKF9nbG9iYWwsIG5vR2xvYmFsKSB7CgogICAgLy8gYmFzZQogICAgdmFyIEJhc2VVdGlscyA9IHsKICAgICAgICAvKioKICAgICAgICAgKiDlr7nosaHmmK/lkKbkuLrmlbDnu4QKICAgICAgICAgKiBAcGFyYW0gYXJyCiAgICAgICAgICovCiAgICAgICAgaXNBcnJheTogZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnIpID09PSAiW29iamVjdCBBcnJheV0iOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5Yik5pat5piv5ZCm5Li65pa55rOVCiAgICAgICAgICogQHBhcmFtIGZ1bmMKICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufQogICAgICAgICAqLwogICAgICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uIChmdW5jKSB7CiAgICAgICAgICAgIGlmICghZnVuYykgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZnVuYyA9PT0gJ2Z1bmN0aW9uJzsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOWIpOaWreaYr+WQpuaYr+S4gOS4quacieaViOeahOWvueixoQogICAgICAgICAqIEBwYXJhbSBvYmoKICAgICAgICAgKiBAcmV0dXJuIHsqfGJvb2xlYW59CiAgICAgICAgICovCiAgICAgICAgaXNFeGlzdE9iamVjdDogZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICByZXR1cm4gb2JqICYmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jyk7CiAgICAgICAgfSwKICAgICAgICBpc1N0cmluZzogZnVuY3Rpb24gKHN0cikgewogICAgICAgICAgICBpZiAoc3RyID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnOwogICAgICAgIH0sCiAgICAgICAgdW5pcXVlTnVtOiAxMDAwLAogICAgICAgIC8qKgogICAgICAgICAqIOagueaNruW9k+WJjeaXtumXtOaIs+eUn+S6p+S4gOS4qumaj+acumlkCiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30KICAgICAgICAgKi8KICAgICAgICBidWlsZFVuaXF1ZUlkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBwcmVmaXggPSBuZXcgRGF0ZSgpLmdldFRpbWUoKS50b1N0cmluZygpOwogICAgICAgICAgICB2YXIgc3VmZml4ID0gdGhpcy51bmlxdWVOdW0udG9TdHJpbmcoKTsKICAgICAgICAgICAgdGhpcy51bmlxdWVOdW0rKzsKICAgICAgICAgICAgcmV0dXJuIHByZWZpeCArIHN1ZmZpeDsKICAgICAgICB9CiAgICB9OwoKICAgIC8vCiAgICB2YXIgc2VydmljZVByb3ZpZGVyID0gewogICAgICAgIF9wYXJzZURlcGVuZHM6IGZ1bmN0aW9uIChkZXBlbmRzKSB7CiAgICAgICAgICAgIHZhciBkZXBlbmRzQXJyID0gW107CiAgICAgICAgICAgIGlmICghQmFzZVV0aWxzLmlzQXJyYXkoZGVwZW5kcykpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBkZXBlbmRzLmZvckVhY2goZnVuY3Rpb24gKGRlcGVuZCkgewogICAgICAgICAgICAgICAgaWYgKEJhc2VVdGlscy5pc1N0cmluZyhkZXBlbmQpKSB7CiAgICAgICAgICAgICAgICAgICAgZGVwZW5kc0Fyci5wdXNoKHNlcnZpY2VQcm92aWRlcltkZXBlbmQudG9Mb3dlckNhc2UoKV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGRlcGVuZHNBcnI7CiAgICAgICAgfQogICAgfTsKCiAgICAvLwogICAgdmFyIGZhY3RvcnkgPSBmdW5jdGlvbiAobmFtZSwgZGVwZW5kcywgY29uc3RydWN0aW9uKSB7CiAgICAgICAgaWYgKCFCYXNlVXRpbHMuaXNGdW5jdGlvbihjb25zdHJ1Y3Rpb24pKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc2VydmljZVByb3ZpZGVyW25hbWUudG9Mb3dlckNhc2UoKV0gPSBjb25zdHJ1Y3Rpb24uYXBwbHkodGhpcywgc2VydmljZVByb3ZpZGVyLl9wYXJzZURlcGVuZHMoZGVwZW5kcykpOwogICAgfTsKCiAgICB2YXIgZGVwZW5kID0gZnVuY3Rpb24gKGRlcGVuZHMsIGNvbnN0cnVjdGlvbikgewogICAgICAgIGlmICghQmFzZVV0aWxzLmlzRnVuY3Rpb24oY29uc3RydWN0aW9uKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGNvbnN0cnVjdGlvbi5hcHBseSh0aGlzLCBzZXJ2aWNlUHJvdmlkZXIuX3BhcnNlRGVwZW5kcyhkZXBlbmRzKSk7CiAgICB9OwoKICAgIGZhY3RvcnkoJ0Jhc2VVdGlscycsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIEJhc2VVdGlsczsKICAgIH0pOwoKICAgIC8vIGxvZ2dlcgogICAgZmFjdG9yeSgnbG9nZ2VyJywgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gY29uc29sZTsKICAgIH0pOwoKICAgIC8vIERhdGVUaW1lVXRpbHMKICAgIGZhY3RvcnkoJ0RhdGVUaW1lVXRpbHMnLCBbJ2xvZ2dlciddLCBmdW5jdGlvbiAobG9nZ2VyKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOaJk+WNsOW9k+WJjeaXtumXtAogICAgICAgICAgICAgKi8KICAgICAgICAgICAgcHJpbnROb3dUaW1lOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBhdHRlcm4oZGF0ZSwgJ2hoOm1tOnNzOlMnKSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDmoLzlvI/ljJbml6XmnJ8KICAgICAgICAgICAgICogQHBhcmFtIGRhdGUKICAgICAgICAgICAgICogQHBhcmFtIGZtdAogICAgICAgICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHBhdHRlcm46IGZ1bmN0aW9uIChkYXRlLCBmbXQpIHsKICAgICAgICAgICAgICAgIHZhciBvID0gewogICAgICAgICAgICAgICAgICAgICJNKyI6IGRhdGUuZ2V0TW9udGgoKSArIDEsIC8v5pyI5Lu9CiAgICAgICAgICAgICAgICAgICAgImQrIjogZGF0ZS5nZXREYXRlKCksIC8v5pelCiAgICAgICAgICAgICAgICAgICAgImgrIjogZGF0ZS5nZXRIb3VycygpICUgMTIgPT09IDAgPyAxMiA6IGRhdGUuZ2V0SG91cnMoKSAlIDEyLCAvL+Wwj+aXtgogICAgICAgICAgICAgICAgICAgICJIKyI6IGRhdGUuZ2V0SG91cnMoKSwgLy/lsI/ml7YKICAgICAgICAgICAgICAgICAgICAibSsiOiBkYXRlLmdldE1pbnV0ZXMoKSwgLy/liIYKICAgICAgICAgICAgICAgICAgICAicysiOiBkYXRlLmdldFNlY29uZHMoKSwgLy/np5IKICAgICAgICAgICAgICAgICAgICAicSsiOiBNYXRoLmZsb29yKChkYXRlLmdldE1vbnRoKCkgKyAzKSAvIDMpLCAvL+Wto+W6pgogICAgICAgICAgICAgICAgICAgICJTIjogZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSAvL+avq+enkgogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHZhciB3ZWVrID0gewogICAgICAgICAgICAgICAgICAgICIwIjogIi91NjVlNSIsCiAgICAgICAgICAgICAgICAgICAgIjEiOiAiL3U0ZTAwIiwKICAgICAgICAgICAgICAgICAgICAiMiI6ICIvdTRlOGMiLAogICAgICAgICAgICAgICAgICAgICIzIjogIi91NGUwOSIsCiAgICAgICAgICAgICAgICAgICAgIjQiOiAiL3U1NmRiIiwKICAgICAgICAgICAgICAgICAgICAiNSI6ICIvdTRlOTQiLAogICAgICAgICAgICAgICAgICAgICI2IjogIi91NTE2ZCIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZiAoLyh5KykvLnRlc3QoZm10KSkgewogICAgICAgICAgICAgICAgICAgIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKGRhdGUuZ2V0RnVsbFllYXIoKSArICIiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgvKEUrKS8udGVzdChmbXQpKSB7CiAgICAgICAgICAgICAgICAgICAgZm10ID0gZm10LnJlcGxhY2UoUmVnRXhwLiQxLCAoKFJlZ0V4cC4kMS5sZW5ndGggPiAxKSA/IChSZWdFeHAuJDEubGVuZ3RoID4gMiA/ICIvdTY2MWYvdTY3MWYiIDogIi91NTQ2OCIpIDogIiIpICsgd2Vla1tkYXRlLmdldERheSgpICsgIiJdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgewogICAgICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKCIoIiArIGsgKyAiKSIpLnRlc3QoZm10KSkgewogICAgICAgICAgICAgICAgICAgICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIChSZWdFeHAuJDEubGVuZ3RoID09PSAxKSA/IChvW2tdKSA6ICgoIjAwIiArIG9ba10pLnN1YnN0cigoIiIgKyBvW2tdKS5sZW5ndGgpKSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGZtdDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOS7peW9k+WJjeaXtumXtOiOt+WPlmlkCiAgICAgICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRDdXJyZW50SWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoKTsKICAgICAgICAgICAgICAgIHJldHVybiBkYXRlLmdldFRpbWUoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluaMh+WumuaXtumXtOi3neemu+eOsOWcqOebuOW3ruWkmuS5hQogICAgICAgICAgICAgKiBAcGFyYW0gZGF0ZSB7bnVtYmVyfERhdGV9CiAgICAgICAgICAgICAqIEBwYXJhbSBpc0NlaWx7Ym9vbGVhbj19IOaYr+WQpuWvuee7k+aenOWQkeS4iuWPluaVtO+8jOm7mOiupFtmYWxzZV0KICAgICAgICAgICAgICogQHBhcmFtIHR5cGUge3N0cmluZz19IOWNleS9jeWPr+WPluWAvFsnZGF5JywnbW9udGgnLCd5ZWFyJ13pu5jorqQnZGF5JwogICAgICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0Tm93QmV0d2VlbkFEYXk6IGZ1bmN0aW9uIChkYXRlLCBpc0NlaWwsIHR5cGUpIHsKICAgICAgICAgICAgICAgIGlmICghdHlwZSkgewogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnZGF5JwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRlID09PSAnbnVtYmVyJykgewogICAgICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShkYXRlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICghKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ+ivpeWPguaVsOexu+Wei+W/hemhu+aYr0RhdGUnKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBkYXRlLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgdmFyIG5vd1RpbWUgPSBub3cuZ2V0VGltZSgpOwogICAgICAgICAgICAgICAgaWYgKG5vd1RpbWUgLSB0aW1lIDwgMCkgewogICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCfpnIDopoHorqHnrpfnmoTml7bpl7Tlv4XpobvlnKjlvZPliY3ml7bpl7TkuYvliY0nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSAwOwogICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXknOgogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAobm93VGltZSAtIHRpbWUpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdtb250aCc6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyRGlmZmVyZW5jZSA9IG5vdy5nZXRGdWxsWWVhcigpIC0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVhckRpZmZlcmVuY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0geWVhckRpZmZlcmVuY2UgKiAxMjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gbm93LmdldE1vbnRoKCkgLSBkYXRlLmdldE1vbnRoKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOgogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gbm93LmdldEZ1bGxZZWFyKCkgLSBkYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKCFpc0NlaWwpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyZXN1bHQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSAwICYmIGlzQ2VpbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSAxOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHJlc3VsdCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKCiAgICAvLyBBcnJheVV0aWxzCiAgICBmYWN0b3J5KCdBcnJheVV0aWxzJywgWydCYXNlVXRpbHMnXSwgZnVuY3Rpb24gKEJhc2VVdGlscykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlzQXJyYXlPYmplY3Q6IGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBCYXNlVXRpbHMuaXNBcnJheShhcnIpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6YGN5Y6G5pWw57uECiAgICAgICAgICAgICAqIEBwYXJhbSBjb250ZXh0IHtPYmplY3R9CiAgICAgICAgICAgICAqIEBwYXJhbSBhcnIge0FycmF5fQogICAgICAgICAgICAgKiBAcGFyYW0gY2Ige0Z1bmN0aW9ufSDlm57osIPlh73mlbAKICAgICAgICAgICAgICovCiAgICAgICAgICAgIGVyZ29kaWNBcnJheU9iamVjdDogZnVuY3Rpb24gKGNvbnRleHQsIGFyciwgY2IpIHsKICAgICAgICAgICAgICAgIGlmICghY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgIGNvbnRleHQgPSB3aW5kb3c7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIUJhc2VVdGlscy5pc0FycmF5KGFycikgfHwgIUJhc2VVdGlscy5pc0Z1bmN0aW9uKGNiKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNiLmNhbGwoY29udGV4dCwgYXJyW2ldLCBpKTsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCA9PT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635Y+W5pWw57uE5a+56LGh55qE5LiA5Liq5bGe5oCn5Y+R6LW35Yqo5L2cCiAgICAgICAgICAgICAqIEBwYXJhbSBjb250ZXh0IHtPYmplY3R9CiAgICAgICAgICAgICAqIEBwYXJhbSBhcnIge0FycmF5fQogICAgICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIHtTdHJpbmd9CiAgICAgICAgICAgICAqIEBwYXJhbSBjYiB7RnVuY3Rpb259CiAgICAgICAgICAgICAqIEBwYXJhbSBjaGVja1Byb3BlcnR5IHtib29sZWFufSDmmK/lkKbmjpLpmaTkuI3mi6XmnInor6XlsZ7mgKfnmoTlr7nosaFbZGVmYXVsdDp0cnVlXQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0UHJvcGVydHlEbzogZnVuY3Rpb24gKGNvbnRleHQsIGFyciwgcHJvcGVydHlOYW1lLCBjYiwgY2hlY2tQcm9wZXJ0eSkgewogICAgICAgICAgICAgICAgaWYgKGNoZWNrUHJvcGVydHkgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBjaGVja1Byb3BlcnR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuZXJnb2RpY0FycmF5T2JqZWN0KGNvbnRleHQsIGFyciwgZnVuY3Rpb24gKGVsZSkgewogICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tQcm9wZXJ0eSB8fCBlbGUuaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICBjYi5jYWxsKGNvbnRleHQsIGVsZVtwcm9wZXJ0eU5hbWVdLCBlbGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiBb56eB5pyJ5pa55rOVXeWwhuWkmuS4qumUruWAvOWvueWvueixoei9rOaNouS4um1hcAogICAgICAgICAgICAgKiBAcGFyYW0gYXJyIHtBcnJheX0KICAgICAgICAgICAgICogQHJldHVybnMge3t9fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgcGFyc2VLZXlWYWx1ZTogZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICAgICAgdmFyIG1hcCA9IHt9OwogICAgICAgICAgICAgICAgaWYgKCEoQmFzZVV0aWxzLmlzQXJyYXkoYXJyKSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgYXJyLCBmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZS5rZXkgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIW1hcC5oYXNPd25Qcm9wZXJ0eShlbGUua2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBtYXBbZWxlLmtleV0gPSBlbGUudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gbWFwOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635Y+W5pWw57uE55qE5ZOI5biM56CBCiAgICAgICAgICAgICAqIEBwYXJhbSBhcnIge0FycmF5fQogICAgICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0SGFzaENvZGU6IGZ1bmN0aW9uIChhcnIpIHsKICAgICAgICAgICAgICAgIHZhciBzdHIgPSBhcnIudG9TdHJpbmcoKTsKICAgICAgICAgICAgICAgIHZhciBoYXNoID0gMzE7CiAgICAgICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBjaGFyID0gc3RyLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgICAgICAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hhcjsKICAgICAgICAgICAgICAgICAgICBoYXNoID0gaGFzaCAmIGhhc2g7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIGhhc2g7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDpgJrov4fmlbDnu4TkuK3mr4/kuKrlr7nosaHnmoTmjIflrprlsZ7mgKfnlJ/miJDkuIDkuKrmlrDmlbDnu4QKICAgICAgICAgICAgICogQHBhcmFtIGFyciB7QXJyYXl9CiAgICAgICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eU5hbWUge1N0cmluZ30KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHBhcnNlQXJyYXlCeVByb3BlcnR5OiBmdW5jdGlvbiAoYXJyLCBwcm9wZXJ0eU5hbWUpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXTsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0FycmF5T2JqZWN0KGFycikpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5nZXRQcm9wZXJ0eURvKHRoaXMsIGFyciwgcHJvcGVydHlOYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDmlbDnu4Tlr7nosaHmmK/lkKbljIXlkKvkuIDkuKrlr7nosaEKICAgICAgICAgICAgICogQHBhcmFtIGFyciB7QXJyYXl9CiAgICAgICAgICAgICAqIEBwYXJhbSBvYmoKICAgICAgICAgICAgICogQHBhcmFtIGNiIHtmdW5jdGlvbj19CiAgICAgICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgaXNDb250YWluc09iamVjdDogZnVuY3Rpb24gKGFyciwgb2JqLCBjYikgewogICAgICAgICAgICAgICAgdmFyIGlzQ29udGFpbnNPYmplY3QgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIGFyciwgZnVuY3Rpb24gKHZhbHVlLCBpKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKG9iaiA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNDb250YWluc09iamVjdCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChCYXNlVXRpbHMuaXNGdW5jdGlvbihjYikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNiLmNhbGwod2luZG93LCBpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gaXNDb250YWluc09iamVjdDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluaVsOe7hOS4reeahOacgOWkp+WAvAogICAgICAgICAgICAgKiBAcGFyYW0gYXJyIOiLpeaVsOe7hOS4reeahOWvueixoei/mOaYr+aVsOe7hO+8jOWImeaMiemHjOmdouaVsOe7hOeahOavj+S4quWvueixoei/m+ihjOWkmue6p+avlOi+gwogICAgICAgICAgICAgKiBAcGFyYW0gY2IKICAgICAgICAgICAgICogQHJldHVybnMgeyp9CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRNYXhJbkFycmF5OiBmdW5jdGlvbiAoYXJyLCBjYikgewogICAgICAgICAgICAgICAgdmFyIG1heE9iamVjdCA9IG51bGw7CiAgICAgICAgICAgICAgICB2YXIgbWF4SW5kZXggPSAtMTsKICAgICAgICAgICAgICAgIHdoaWxlIChtYXhPYmplY3QgPT09IG51bGwgJiYgbWF4SW5kZXggPCBhcnIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgbWF4T2JqZWN0ID0gYXJyWysrbWF4SW5kZXhdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbWF4SW5kZXggKyAxOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g6Iul5piv5q+U6L6D5a+56LGh6YO95piv5pWw57uE77yM5YiZ5a+55q+P5Liq5pWw57uE55qE56ys5LiA5Liq5YWD57Sg6L+b6KGM5q+U6L6D77yM6Iul55u45ZCM77yM5YiZ5q+U6L6D56ys5LqM5Liq5YWD57SgCiAgICAgICAgICAgICAgICAgICAgaWYgKG1heE9iamVjdCAhPT0gbnVsbCAmJiB0aGlzLmlzQXJyYXlPYmplY3QobWF4T2JqZWN0KSAmJiB0aGlzLmlzQXJyYXlPYmplY3QoYXJyW2ldKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NMZW5ndGggPSBtYXhPYmplY3QubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NMZXZlbCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG1heE9iamVjdFtjbGFzc0xldmVsXSxhcnJbaV1bY2xhc3NMZXZlbF0pOwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobWF4T2JqZWN0W2NsYXNzTGV2ZWxdID09PSBhcnJbaV1bY2xhc3NMZXZlbF0gJiYgY2xhc3NMZXZlbCA8IGNsYXNzTGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0xldmVsKysKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4T2JqZWN0W2NsYXNzTGV2ZWxdICE9PSBudWxsICYmIG1heE9iamVjdFtjbGFzc0xldmVsXSA8IGFycltpXVtjbGFzc0xldmVsXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4T2JqZWN0ID0gYXJyW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4SW5kZXggPSBpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobWF4T2JqZWN0ICE9PSBudWxsICYmIG1heE9iamVjdCA8IGFycltpXSkgewogICAgICAgICAgICAgICAgICAgICAgICBtYXhPYmplY3QgPSBhcnJbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIG1heEluZGV4ID0gaTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoQmFzZVV0aWxzLmlzRnVuY3Rpb24oY2IpKSB7CiAgICAgICAgICAgICAgICAgICAgY2IuY2FsbCh0aGlzLCBtYXhPYmplY3QsIG1heEluZGV4KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBtYXhPYmplY3Q7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDojrflj5bmlbDnu4TkuK3nmoTmgLvlgLwKICAgICAgICAgICAgICogQHBhcmFtIGFycntBcnJheTxudW1iZXI+fQogICAgICAgICAgICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9uPX0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdldFN1bUluQXJyYXk6IGZ1bmN0aW9uIChhcnIsIGNiKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNBcnJheU9iamVjdChhcnIpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSAwOwogICAgICAgICAgICAgICAgdGhpcy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgYXJyLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBpZiAoQmFzZVV0aWxzLmlzRnVuY3Rpb24oY2IpKSB7CiAgICAgICAgICAgICAgICAgICAgY2IuY2FsbCh3aW5kb3csIHN1bSwgY291bnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHN1bTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluaVsOe7hOS4reeahOW5s+Wdh+WAvAogICAgICAgICAgICAgKiBAcGFyYW0gYXJye0FycmF5PG51bWJlcj59CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRBdmVyYWdlSW5BcnJheTogZnVuY3Rpb24gKGFycikgewogICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSAwOwogICAgICAgICAgICAgICAgdGhpcy5nZXRTdW1JbkFycmF5KGFyciwgZnVuY3Rpb24gKHN1bSwgaSkgewogICAgICAgICAgICAgICAgICAgIGkgPT09IDAgfHwgKGF2ZXJhZ2UgPSBzdW0gLyBpKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGF2ZXJhZ2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDkuLrmlbDnu4TmjpLluo8KICAgICAgICAgICAgICogQHBhcmFtIGFycgogICAgICAgICAgICAgKiBAcGFyYW0gb3JkZXIKICAgICAgICAgICAgICogQHBhcmFtIHNvcnRTZXR0aW5nIHtvYmplY3Q9fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgc29ydGluZ0FycmF5czogZnVuY3Rpb24gKGFyciwgb3JkZXIsIHNvcnRTZXR0aW5nKSB7CiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNBcnJheU9iamVjdChhcnIpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIERFU0MgPSAwOwogICAgICAgICAgICAgICAgdmFyIEFTQyA9IDE7CiAgICAgICAgICAgICAgICB2YXIgdGhpc0FyciA9IGFyci5zbGljZSgwKTsKICAgICAgICAgICAgICAgIHZhciBfdGhpc0FjdGlvbiA9IG51bGw7CiAgICAgICAgICAgICAgICAvLyDop6PmnpDphY3nva4KICAgICAgICAgICAgICAgIHZhciBpc1NldHRpbmcgPSBzb3J0U2V0dGluZyAmJiBzb3J0U2V0dGluZy5nZXRDb21wYXJlZFByb3BlcnR5ICYmCiAgICAgICAgICAgICAgICAgICAgQmFzZVV0aWxzLmlzRnVuY3Rpb24oc29ydFNldHRpbmcuZ2V0Q29tcGFyZWRQcm9wZXJ0eSk7CiAgICAgICAgICAgICAgICBpZiAoaXNTZXR0aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpc0FyciA9IHNvcnRTZXR0aW5nLmdldENvbXBhcmVkUHJvcGVydHkoYXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHN3aXRjaCAob3JkZXIpIHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IDoKICAgICAgICAgICAgICAgICAgICBjYXNlIERFU0M6CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzQWN0aW9uID0gdGhpc0Fyci5wdXNoOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlIEFTQzoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXNBY3Rpb24gPSB0aGlzQXJyLnVuc2hpZnQ7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdEFyciA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzQXJyLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRNYXhJbkFycmF5KHRoaXNBcnIsIGZ1bmN0aW9uIChtYXgsIGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNBcnJbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzQWN0aW9uLmNhbGwocmVzdWx0QXJyLCBhcnJbaV0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHNvcnRTZXR0aW5nICYmIHNvcnRTZXR0aW5nLmNyZWF0ZU5ld0RhdGEpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0QXJyLnNsaWNlKDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdEFycjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOWwhuexu+aVsOe7hOi9rOWMluS4uuaVsOe7hAogICAgICAgICAgICAgKiBAcGFyYW0gYXJyTGlrZSDnsbvmlbDnu4Tlr7nosaEKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIChhcnJMaWtlKSB7CiAgICAgICAgICAgICAgICBpZiAoIWFyckxpa2UgfHwgYXJyTGlrZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyDpnZ7kvKrnsbvlr7nosaHvvIznm7TmjqXov5Tlm57mnIDlpb0KICAgICAgICAgICAgICAgIGlmICghYXJyTGlrZS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJyTGlrZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIOmSiOWvuUlFOOS7peWJjSBET03nmoRDT03lrp7njrAKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoYXJyTGlrZSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwLAogICAgICAgICAgICAgICAgICAgICAgICBqID0gYXJyTGlrZS5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IFtdOwogICAgICAgICAgICAgICAgICAgIGZvciAoOyBpIDwgajsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wdXNoKGFyckxpa2VbaV0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5Yik5pat5piv5ZCm5Li657G75pWw57uECiAgICAgICAgICAgICAqIEBwYXJhbSBvCiAgICAgICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgaXNBcnJheUxpY2s6IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICAgICAgICBpZiAobyAmJiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbyBpcyBub3QgbnVsbCwgdW5kZWZpbmVkLCBldGMuCiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG8gPT09ICdvYmplY3QnICYmICAgICAgICAgICAgLy8gbyBpcyBhbiBvYmplY3QKICAgICAgICAgICAgICAgICAgICBpc0Zpbml0ZShvLmxlbmd0aCkgJiYgICAgICAgICAgICAgICAvLyBvLmxlbmd0aCBpcyBhIGZpbml0ZSBudW1iZXIKICAgICAgICAgICAgICAgICAgICBvLmxlbmd0aCA+PSAwICYmICAgICAgICAgICAgICAgICAgICAvLyBvLmxlbmd0aCBpcyBub24tbmVnYXRpdmUKICAgICAgICAgICAgICAgICAgICBvLmxlbmd0aCA9PT0gTWF0aC5mbG9vcihvLmxlbmd0aCkgJiYgIC8vIG8ubGVuZ3RoIGlzIGFuIGludGVnZXIKICAgICAgICAgICAgICAgICAgICBvLmxlbmd0aCA8IDQyOTQ5NjcyOTYpICAgICAgICAgICAgICAvLyBvLmxlbmd0aCA8IDJeMzIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGVuIG8gaXMgYXJyYXktbGlrZQogICAgICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpdCBpcyBub3QKCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDliKTmlq3mlbDnu4TmmK/lkKbljIXlkKvlr7nosaEKICAgICAgICAgICAgICogQHBhcmFtIGFycgogICAgICAgICAgICAgKiBAcGFyYW0gb2JqCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBjb250YWluczogZnVuY3Rpb24gKGFyciwgb2JqKSB7CiAgICAgICAgICAgICAgICB2YXIgY29udGFpbnMgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIGFyciwgZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoYSA9PT0gb2JqKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5zID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5zOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgLy8gT2JqZWN0VXRpbHMKICAgIGZhY3RvcnkoJ09iamVjdFV0aWxzJywgWydBcnJheVV0aWxzJywgJ0Jhc2VVdGlscyddLCBmdW5jdGlvbiAoQXJyYXlVdGlscywgQmFzZVV0aWxzKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluWvueixoeWxnuaAp1vmlK/mjIHpk77lvI/ooajovr7lvI8s5aaC6I635Y+W5a2m55Sf5omA5Zyo54+t57qn5omA5Zyo55qE5a2m5qChKHN0dWRlbnQuY2xhc3Muc2Nob29sKTonY2xhc3Muc2Nob29sJ10KICAgICAgICAgICAgICogQHBhcmFtIG9iagogICAgICAgICAgICAgKiBAcGFyYW0gbGlua1Byb3BlcnR5IHtzdHJpbmd8QXJyYXl9IOWxnuaAp+ihqOi+vuW8j++8jOiOt+WPluWkmuS4quWxnuaAp+WImeeUqOaVsOe7hAogICAgICAgICAgICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9uPX0KICAgICAgICAgICAgICogQHJldHVybiDlr7nosaHlsZ7mgKcKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHJlYWRMaW5rUHJvcGVydHk6IGZ1bmN0aW9uIChvYmosIGxpbmtQcm9wZXJ0eSwgY2IpIHsKICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IG51bGw7CiAgICAgICAgICAgICAgICBpZiAoQmFzZVV0aWxzLmlzRnVuY3Rpb24oY2IpKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjYjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlua1Byb3BlcnR5ID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIC8vIOmZpOWOu+aJgOacieeahOepuuagvAogICAgICAgICAgICAgICAgICAgIGxpbmtQcm9wZXJ0eSA9IGxpbmtQcm9wZXJ0eS5yZXBsYWNlKC8gL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAvLyDkuI3liKTmlq3kuLrnqbrnmoTlgLwKICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5ID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g6Iul5piv5LulJywn6ZqU5byA55qE5Lyq5pWw57uE77yM5YiZ6L2s5YyW5Li65pWw57uE5YaN6L+b6KGM5pON5L2cCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtQcm9wZXJ0eS5pbmRleE9mKCcsJykgIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWVBcnIgPSBsaW5rUHJvcGVydHkuc3BsaXQoJywnKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZExpbmtQcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZUFyciwgY2FsbGJhY2spOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5LmluZGV4T2YoJy4nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gbGlua1Byb3BlcnR5LnNwbGl0KCcuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25PYmogPSBvYmo7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBBcnJheVV0aWxzLmVyZ29kaWNBcnJheU9iamVjdCh0aGlzLCBuYW1lcywgZnVuY3Rpb24gKG5hbWUsIGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbk9iaiA9IHRoaXMucmVhZExpbmtQcm9wZXJ0eShpdGVyYXRpb25PYmosIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWVzW25hbWVzLmxlbmd0aCAtIDFdID09PSBuYW1lICYmIG5hbWVzLmxlbmd0aCAtIDEgPT09IGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVyYXRpb25PYmo7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwod2luZG93LCByZXN1bHQsIGxpbmtQcm9wZXJ0eSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g57uI5q2i5a+55o6l5LiL5p2l55qE5bGe5oCn55qE6YGN5Y6GCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdGlvbk9iaiA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsUmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5LnNsaWNlKGxpbmtQcm9wZXJ0eS5sZW5ndGggLSAyKSA9PT0gJygpJykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnVuYyA9IGxpbmtQcm9wZXJ0eS5zbGljZSgwLCBsaW5rUHJvcGVydHkubGVuZ3RoIC0gMik7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbFJlc3VsdCA9IG9ialtmdW5jXSgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbFJlc3VsdCA9IG9ialtsaW5rUHJvcGVydHldOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsUmVzdWx0ID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihvYmosICfnmoTlsZ7mgKdbXCcnICsgbGlua1Byb3BlcnR5ICsgJ1wnXeWAvOacquaJvuWIsCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh3aW5kb3csIG5vcm1hbFJlc3VsdCwgbGlua1Byb3BlcnR5KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vcm1hbFJlc3VsdDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChCYXNlVXRpbHMuaXNBcnJheShsaW5rUHJvcGVydHkpKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBBcnJheVV0aWxzLmVyZ29kaWNBcnJheU9iamVjdCh0aGlzLCBsaW5rUHJvcGVydHksIGZ1bmN0aW9uIChuYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMucmVhZExpbmtQcm9wZXJ0eShvYmosIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgbmFtZSAhPT0gJycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKHdpbmRvdywgdmFsdWUsIG5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5pc011bHRpcGxlUmVzdWx0cyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDkuLrlr7nosaHlsZ7mgKfotYvlgLwKICAgICAgICAgICAgICog77yI5ZCM5LiA5Liq5a+56LGh5Lit5LiN6IO95aSf5pei5pyJ5pWw5a2X5byA5aS055qE5bGe5oCn5ZCN5ZKM5pmu6YCa5bGe5oCn5ZCN77yJCiAgICAgICAgICAgICAqIEBwYXJhbSBvYmoKICAgICAgICAgICAgICogQHBhcmFtIGxpbmtQcm9wZXJ0eSB7c3RyaW5nfEFycmF5fSDlsZ7mgKfooajovr7lvI/vvIzlpJrkuKrlsZ7mgKfliJnnlKjmlbDnu4QKICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBjcmVhdGVMaW5rUHJvcGVydHk6IGZ1bmN0aW9uIChvYmosIGxpbmtQcm9wZXJ0eSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIGlmIChvYmogPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBvYmogPSB7fTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlua1Byb3BlcnR5ID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIC8vIOmZpOWOu+aJgOacieeahOepuuagvAogICAgICAgICAgICAgICAgICAgIGxpbmtQcm9wZXJ0eSA9IGxpbmtQcm9wZXJ0eS5yZXBsYWNlKC8gL2csICcnKTsKICAgICAgICAgICAgICAgICAgICAvLyDkuI3liKTmlq3kuLrnqbrnmoTlgLwKICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5ID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCflr7nosaHlsZ7mgKflkI3kuI3og73kuLrnqbonKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5LmluZGV4T2YoJywnKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZUFyciA9IGxpbmtQcm9wZXJ0eS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUxpbmtQcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZUFyciwgdmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobGlua1Byb3BlcnR5LmluZGV4T2YoJy4nKSAhPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gbGlua1Byb3BlcnR5LnNwbGl0KCcuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KG5hbWVzWzBdKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW25hbWVzWzBdXSA9IHt9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pat5bGe5oCn5ZCN5piv5ZCm5Lul5pWw5a2X5byA5aS077yI6Iul5piv5Luj6KGo5piv5LiA5Liq5pWw57uE77yJCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KG5hbWVzWzBdKSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghQXJyYXlVdGlscy5pc0FycmF5T2JqZWN0KG9iaikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmogPSBbXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlPYmogPSBvYmpbbmFtZXNbMF1dOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3UHJvcGVydGllcyA9IG5hbWVzLnNsaWNlKDEsIG5hbWVzLmxlbmd0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdMaW5rUHJvcGVydHkgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXlVdGlscy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgbmV3UHJvcGVydGllcywgZnVuY3Rpb24gKHByb3BlcnR5LCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IG5ld1Byb3BlcnRpZXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpbmtQcm9wZXJ0eSA9IG5ld0xpbmtQcm9wZXJ0eSArIHByb3BlcnR5ICsgJy4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpbmtQcm9wZXJ0eSA9IG5ld0xpbmtQcm9wZXJ0eSArIHByb3BlcnR5OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgb2JqW25hbWVzWzBdXSA9IHRoaXMuY3JlYXRlTGlua1Byb3BlcnR5KHByb3BlcnR5T2JqLCBuZXdMaW5rUHJvcGVydHksIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g5Yik5pat5bGe5oCn5ZCN5piv5ZCm5Lul5pWw5a2X5byA5aS077yI6Iul5piv5Luj6KGo5piv5LiA5Liq5pWw57uE77yJCiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VJbnQobGlua1Byb3BlcnR5KSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBcnJheVV0aWxzLmlzQXJyYXlPYmplY3Qob2JqKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgb2JqW2xpbmtQcm9wZXJ0eV0gPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChCYXNlVXRpbHMuaXNBcnJheShsaW5rUHJvcGVydHkpKSB7CiAgICAgICAgICAgICAgICAgICAgQXJyYXlVdGlscy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgbGlua1Byb3BlcnR5LCBmdW5jdGlvbiAobGluaykgewogICAgICAgICAgICAgICAgICAgICAgICBvYmogPSB0aGlzLmNyZWF0ZUxpbmtQcm9wZXJ0eShvYmosIGxpbmssIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6YGN5Y6G5a+56LGh5bGe5oCnCiAgICAgICAgICAgICAqIEBwYXJhbSBjb250ZXh0IHtvYmplY3R9IOS4iuS4i+aWhwogICAgICAgICAgICAgKiBAcGFyYW0gb2JqIHtvYmplY3R9IOmBjeWOhuWvueixoQogICAgICAgICAgICAgKiBAcGFyYW0gY2Ige2Z1bmN0aW9ufSDlm57osIPlh73mlbAKICAgICAgICAgICAgICogQHBhcmFtIGlzUmVhZElubmVyT2JqZWN0IHtib29sZWFuPX0g5piv5ZCm6YGN5Y6G5YaF6YOo5a+56LGh55qE5bGe5oCnCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBlcmdvZGljT2JqZWN0OiBmdW5jdGlvbiAoY29udGV4dCwgb2JqLCBjYiwgaXNSZWFkSW5uZXJPYmplY3QpIHsKICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTsKICAgICAgICAgICAgICAgIEFycmF5VXRpbHMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIGtleXMsIGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAvLyDoi6XlhoXpg6jlr7nosaHpnIDopoHpgY3ljoYKICAgICAgICAgICAgICAgICAgICB2YXIgX3Byb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWFkSW5uZXJPYmplY3QgJiYgb2JqW3Byb3BlcnR5TmFtZV0gIT09IG51bGwgJiYgdHlwZW9mIG9ialtwcm9wZXJ0eU5hbWVdID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyZ29kaWNPYmplY3QodGhpcywgb2JqW3Byb3BlcnR5TmFtZV0sIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IuY2FsbChjb250ZXh0LCB2YWx1ZSwgX3Byb3BlcnR5TmFtZSArICcuJyArIGtleSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiLmNhbGwoY29udGV4dCwgb2JqW3Byb3BlcnR5TmFtZV0sIHByb3BlcnR5TmFtZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOW9k+aMh+WumuWxnuaAp+S4uuepuuaIluS4jeWtmOWcqOaXtuaJp+ihjOWbnuWIsOWHveaVsO+8mwogICAgICAgICAgICAgKiBAcGFyYW0gY29udGV4dCB7b2JqZWN0fSDkuIrkuIvmlocKICAgICAgICAgICAgICogQHBhcmFtIG9iaiB7b2JqZWN0fSDmo4DmtYvlr7nosaEKICAgICAgICAgICAgICogQHBhcmFtIHByb3BlcnR5TmFtZXN7QXJyYXl8c3RyaW5nfSDpnIDopoHmo4DmtYvnmoTlsZ7mgKflkI0KICAgICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg5Y+v5Lul5qOA5p+l5aSa57qn5bGe5oCn5aaCOidhLmIuYy5lJ++8jAogICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDlpJrkuKrlsZ7mgKfkvb/nlKjmlbDnu4TvvIzmlK/mjIHnuq/lrZfnrKbkuLLlpJrkuKrlsZ7mgKfnlKgnLCfpmpTlvIAKICAgICAgICAgICAgICogQHBhcmFtIGNiIHtmdW5jdGlvbn0g5Zue6LCD5Ye95pWwW+WPguaVsO+8muS4uuepuuaIluS4jeWtmOWcqOeahOWxnuaAp+WQjSzov5Tlm57lgLzkuLonLTEn5pe277yM6Lez6L+H5LmL5ZCO55qE5Zue6LCD5Ye95pWwXQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgd2hpbGVFbXB0eU9iamVjdFByb3BlcnR5OiBmdW5jdGlvbiAoY29udGV4dCwgb2JqLCBwcm9wZXJ0eU5hbWVzLCBjYikgewogICAgICAgICAgICAgICAgLy8g6Kej5p6Q5Y2V5Liq5bGe5oCn5ZCNCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5TmFtZXMgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g6Zmk5Y675omA5pyJ55qE56m65qC8CiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHlOYW1lcyA9IHByb3BlcnR5TmFtZXMucmVwbGFjZSgvIC9nLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgLy8g5LiN5Yik5pat5Li656m655qE5YC8CiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZXMgPT09ICcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g6Iul5piv5LulJywn6ZqU5byA55qE5Lyq5pWw57uE77yM5YiZ6L2s5YyW5Li65pWw57uE5YaN6L+b6KGM5pON5L2cCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZXMuaW5kZXhPZignLCcpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lQXJyID0gcHJvcGVydHlOYW1lcy5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53aGlsZUVtcHR5T2JqZWN0UHJvcGVydHkoY29udGV4dCwgb2JqLCBwcm9wZXJ0eU5hbWVBcnIsIGNiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g6Iul5oyH5a6a57qn6IGU5bGe5oCnCiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5TmFtZXMuaW5kZXhPZignLicpICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSBwcm9wZXJ0eU5hbWVzLnNwbGl0KCcuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVyYXRpb25PYmogPSBvYmo7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBBcnJheVV0aWxzLmVyZ29kaWNBcnJheU9iamVjdCh0aGlzLCBuYW1lcywgZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVyYXRpb25PYmogJiYgaXRlcmF0aW9uT2JqLmhhc093blByb3BlcnR5KG5hbWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9uT2JqID0gaXRlcmF0aW9uT2JqW25hbWVdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBjYi5jYWxsKHdpbmRvdywgcHJvcGVydHlOYW1lcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g57uI5q2i5a+55o6l5LiL5p2l55qE5bGe5oCn55qE6YGN5Y6GCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g5q2j5bi45rWB56iLCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkocHJvcGVydHlOYW1lcykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiLmNhbGwoY29udGV4dCwgcHJvcGVydHlOYW1lcyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChvYmpbcHJvcGVydHlOYW1lc10gPT09IG51bGwgfHwgb2JqW3Byb3BlcnR5TmFtZXNdID09PSAnJykgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IuY2FsbChjb250ZXh0LCBwcm9wZXJ0eU5hbWVzKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEJhc2VVdGlscy5pc0FycmF5KHByb3BlcnR5TmFtZXMpKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g6Kej5p6Q5pWw57uECiAgICAgICAgICAgICAgICAgICAgQXJyYXlVdGlscy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgcHJvcGVydHlOYW1lcywgZnVuY3Rpb24gKHByb3BlcnR5TmFtZSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDpgJLlvZLosIPnlKgKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMud2hpbGVFbXB0eU9iamVjdFByb3BlcnR5KGNvbnRleHQsIG9iaiwgcHJvcGVydHlOYW1lLCBjYik7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgd2hpbGVFbXB0eU9iamVjdFByb3BlcnR5VjI6IGZ1bmN0aW9uIChjb250ZXh0LCBvYmosIHByb3BlcnR5TmFtZXMsIGNiKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlYWRMaW5rUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAodmFsdWUsIHByb3BlcnR5TmFtZSkgewogICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gJycgfHwgcGFyc2VJbnQodmFsdWUpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IuY2FsbChjb250ZXh0LCBwcm9wZXJ0eU5hbWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDlhYvpmoblr7nosaFb5Y+q5YWL6ZqG5bGe5oCn77yM5LiN5YWL6ZqG5Y6f5Z6L6ZO+XQogICAgICAgICAgICAgKiBAcGFyYW0gb2JqIHsqfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgY2xvbmVPYmplY3Q6IGZ1bmN0aW9uIChvYmopIHsKICAgICAgICAgICAgICAgIHZhciBuZXdPYmogPSB7fTsKICAgICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuS4uuWfuuacrOaVsOaNruexu+Wei++8jOiLpeaYr+WImeebtOaOpei/lOWbngogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnIHx8CiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG9iaiA9PT0gJ251bWJlcicgfHwKICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyB8fAogICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicgfHwKICAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb2JqID09PSAnYm9vbGVhbicpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5piv5pWw57uECiAgICAgICAgICAgICAgICBpZiAoQmFzZVV0aWxzLmlzQXJyYXkob2JqKSkgewogICAgICAgICAgICAgICAgICAgIG5ld09iaiA9IFtdOwogICAgICAgICAgICAgICAgICAgIC8vIOmBjeWOhuaVsOe7hOW5tumAkuW9kuiwg+eUqOivpeaWueazleiOt+WPluaVsOe7hOWGhemDqOWvueixoeeahOWFi+mahuWvueixoeW5tnB1c2jliLDmlrDmlbDnu4QKICAgICAgICAgICAgICAgICAgICBBcnJheVV0aWxzLmVyZ29kaWNBcnJheU9iamVjdCh0aGlzLCBvYmosIGZ1bmN0aW9uIChhcnJPYmpWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBuZXdPYmoucHVzaCh0aGlzLmNsb25lT2JqZWN0KGFyck9ialZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgICAgICAgICAvLyDlvZPnm67moIfkuLrkuIDoiKzlr7nosaHml7bljbMgdHlwZW9mIOS4uiBvYmplY3QKICAgICAgICAgICAgICAgICAgICBpZiAob2JqID09PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW9k+WFi+mahuWvueixoeS4uuepuuaXtu+8jOi/lOWbnuepugogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g6YGN5Y6G5a+56LGh55qE5bGe5oCn5bm26LCD55So6YCS5b2S5pa55rOV6I635b6X6K+l5bGe5oCn5a+55bqU55qE5a+56LGh55qE5YWL6ZqG5a+56LGh5bm25bCG5YW26YeN5paw6LWL5YC85Yiw6K+l5bGe5oCnCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcmdvZGljT2JqZWN0KHRoaXMsIG9iaiwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbmV3T2JqW2tleV0gPSB0aGlzLmNsb25lT2JqZWN0KHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBuZXdPYmo7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIGNsb25lSW5kZWVkOiBmdW5jdGlvbiAob2JqKSB7CiAgICAgICAgICAgIC8vICAgICB2YXIgaGFzaCA9IG5ldyBNYXAoKTsKICAgICAgICAgICAgLy8gICAgIHZhciByZXN1bHQgPSB0aGlzLl9jbG9uZUluZGVlZChvYmosIGhhc2gpOwogICAgICAgICAgICAvLyAgICAgZm9yICh2YXIgaXRlbSBvZiBoYXNoLnZhbHVlcygpKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgQXJyYXlVdGlscy5lcmdvZGljQXJyYXlPYmplY3QodGhpcywgaXRlbS5zZXR0aW5nQXJyLCBmdW5jdGlvbiAoZnVuYykgewogICAgICAgICAgICAvLyAgICAgICAgICAgICBmdW5jLmNhbGwodGhpcyk7CiAgICAgICAgICAgIC8vICAgICAgICAgfSkKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gICAgIHJldHVybiByZXN1bHQ7CiAgICAgICAgICAgIC8vIH0sCiAgICAgICAgICAgIC8vIF9jbG9uZUluZGVlZDogZnVuY3Rpb24gKG9iaiwgaGFzaCkgewogICAgICAgICAgICAvLyAgICAgaGFzaCA9IGhhc2ggfHwgbmV3IE1hcCgpOwogICAgICAgICAgICAvLyAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICAgICAgICAvLyAgICAgLy8g6I635Y+W5pWw5o2u57G75Z6LCiAgICAgICAgICAgIC8vICAgICB2YXIgZGF0YVR5cGUgPSB0eXBlb2Ygb2JqOwogICAgICAgICAgICAvLyAgICAgc3dpdGNoIChkYXRhVHlwZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgY2FzZSAnc3RyaW5nJzoKICAgICAgICAgICAgLy8gICAgICAgICBjYXNlICdudW1iZXInOgogICAgICAgICAgICAvLyAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOgogICAgICAgICAgICAvLyAgICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6CiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBvYmo7CiAgICAgICAgICAgIC8vICAgICAgICAgY2FzZSAnb2JqZWN0JzoKICAgICAgICAgICAgLy8gICAgICAgICBkZWZhdWx0OiB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHZhciBuZXh0T2JqID0gb2JqW2tleV07CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgaGFzaE9iaiA9IGhhc2guZ2V0KG5leHRPYmopOwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWYgKGhhc2hPYmogIT0gbnVsbCAmJiBoYXNoT2JqLmNsb25lZE9iaiAhPSBudWxsKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgb2JqW2tleV0gPSBudWxsOwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaGFzaC5zZXQobmV4dE9iaiwgewogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRPYmo6IHJlc3VsdCwKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ0FycjogW10sCiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogZmFsc2UKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB0aGlzLl9jbG9uZUluZGVlZChuZXh0T2JqLCBoYXNoKTsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgICAgICAvLyAgICAgICAgICAgICBpZiAob2JqICE9IG51bGwpIHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHJlc3VsdFsnX19wcm90b19fJ10gPSBvYmpbJ19fcHJvdG9fXyddOwogICAgICAgICAgICAvLyAgICAgICAgICAgICB9CiAgICAgICAgICAgIC8vICAgICAgICAgfQogICAgICAgICAgICAvLwogICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAvLyAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICAgICAgLy8gfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluWvueixoeeahOWTiOW4jOeggQogICAgICAgICAgICAgKiBAcGFyYW0gb2JqIHtPYmplY3R9CiAgICAgICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9CiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRPYmpIYXNoQ29kZTogZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgICAgdmFyIHN0ciA9IEpTT04uc3RyaW5naWZ5KG9iaik7CiAgICAgICAgICAgICAgICB2YXIgaGFzaCA9IDAsIGksIGNociwgbGVuOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaGFzaCkKICAgICAgICAgICAgICAgIGlmIChzdHIubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IHN0ci5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgIGNociA9IHN0ci5jaGFyQ29kZUF0KGkpOwogICAgICAgICAgICAgICAgICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNocjsKICAgICAgICAgICAgICAgICAgICBoYXNoIHw9IDA7IC8vIENvbnZlcnQgdG8gMzJiaXQgaW50ZWdlcgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coaGFzaCkKICAgICAgICAgICAgICAgIHJldHVybiBoYXNoOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5omp5bGV5a+56LGh5bGe5oCnCiAgICAgICAgICAgICAqIEBwYXJhbSBvYmog5Y6f5a+56LGhCiAgICAgICAgICAgICAqIEBwYXJhbSBleHRlbmRlZE9iaiDooqvmianlsZXnmoTlr7nosaEKICAgICAgICAgICAgICogQHBhcmFtIGlzQ292ZXIge2Jvb2xlYW49fSDmianlsZXnmoTlsZ7mgKflkozljp/mnaXlsZ7mgKflhrLnqoHml7bmmK/lkKbopobnm5Yg6buY6K6kW2ZhbHNlXQogICAgICAgICAgICAgKiBAcGFyYW0gaXNDbG9uZSB7Ym9vbGVhbj19IOaYr+WQpui/lOWbnuS4gOS4quaWsOeahOWvueixoe+8jOm7mOiupFtmYWxzZV3ov5Tlm57mianlsZXlkI7nmoTljp/lr7nosaEKICAgICAgICAgICAgICovCiAgICAgICAgICAgIGV4cGFuZE9iamVjdDogZnVuY3Rpb24gKG9iaiwgZXh0ZW5kZWRPYmosIGlzQ292ZXIsIGlzQ2xvbmUpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHRPYmogPSBvYmo7CiAgICAgICAgICAgICAgICBpZiAoaXNDbG9uZSkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iaiA9IHRoaXMuY2xvbmVPYmplY3Qob2JqKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuZXJnb2RpY09iamVjdCh0aGlzLCBleHRlbmRlZE9iaiwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb3ZlciAmJiB0aGlzLnJlYWRMaW5rUHJvcGVydHkocmVzdWx0T2JqLCBrZXkpICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqID0gdGhpcy5jcmVhdGVMaW5rUHJvcGVydHkocmVzdWx0T2JqLCBrZXksIHZhbHVlKTsKICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdE9iajsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOS4uuaVsOe7hOaOkuW6j++8jOW9k+aVsOe7hOS4reeahOWFg+e0oOS4uuWvueixoeaXtu+8jOagueaNruaMh+WumuWvueixoeeahOWxnuaAp+WQjei/m+ihjOaOkuW6jwogICAgICAgICAgICAgKiBAcGFyYW0gYXJyIOaVsOe7hAogICAgICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlOYW1lIOWxnuaAp+WQje+8iOW9k+acieWkmuS4quWxnuaAp+WQjeaXtu+8jOS4uuWkmue6p+aOkuW6j++8iQogICAgICAgICAgICAgKiBAcGFyYW0gb3JkZXIg5Y2H6ZmN5bqPCiAgICAgICAgICAgICAqIEByZXR1cm5zIHsqfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgc29ydGluZ0FycmF5QnlQcm9wZXJ0eTogZnVuY3Rpb24gKGFyciwgcHJvcGVydHlOYW1lLCBvcmRlcikgewogICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgIHZhciBzb3J0U2V0dGluZyA9IHsKICAgICAgICAgICAgICAgICAgICAvLyDmmK/lkKbliJvlu7rmlrDmlbDmja4KICAgICAgICAgICAgICAgICAgICBjcmVhdGVOZXdEYXRhOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAvLyDpgJrov4for6Xmlrnms5Xojrflj5bmlbDnu4TkuK3mr4/kuKrlr7nosaHkuK3nlKjmnaXmr5TovoPnmoTlsZ7mgKcKICAgICAgICAgICAgICAgICAgICBnZXRDb21wYXJlZFByb3BlcnR5OiBmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wYXJlQXJyID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5VXRpbHMuZXJnb2RpY0FycmF5T2JqZWN0KF90aGlzLCBhcnIsIGZ1bmN0aW9uIChvYmosIGkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVBcnIucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcGFyZVZhbHVlID0gdGhpcy5yZWFkTGlua1Byb3BlcnR5KG9iaiwgcHJvcGVydHlOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGFyZVZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVBcnIucHVzaChjb21wYXJlVmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBhcmVBcnIucHVzaChvYmopOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wYXJlQXJyLnNsaWNlKDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXlVdGlscy5zb3J0aW5nQXJyYXlzKGFyciwgb3JkZXIsIHNvcnRTZXR0aW5nKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOi9rOivneS4uuebruagh+eahOWunuS+iwogICAgICAgICAgICAgKiBAcGFyYW0gY29uc3RydWN0b3Ige2Z1bmN0aW9ufSDmnoTpgKDlh73mlbAKICAgICAgICAgICAgICogQHBhcmFtIG9iaiB7b2JqZWN0fEFycmF5feWIpOaWreeahOWvueixoQogICAgICAgICAgICAgKiBAcGFyYW0gZGVmYXVsdFByb3BlcnR5IHtvYmplY3Q9fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgdG9BaW1PYmplY3Q6IGZ1bmN0aW9uIChvYmosIGNvbnN0cnVjdG9yLCBkZWZhdWx0UHJvcGVydHkpIHsKICAgICAgICAgICAgICAgIGlmIChCYXNlVXRpbHMuaXNBcnJheShvYmopKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbkFyciA9IFtdOwogICAgICAgICAgICAgICAgICAgIEFycmF5VXRpbHMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbkFyci5wdXNoKHRoaXMudG9BaW1PYmplY3QodmFsdWUsIGNvbnN0cnVjdG9yLCBkZWZhdWx0UHJvcGVydHkpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luQXJyOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0UHJvcGVydHkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcmdvZGljT2JqZWN0KHRoaXMsIGRlZmF1bHRQcm9wZXJ0eSwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmpba2V5XSA9PT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAob2JqIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iajsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbk9iaiA9IG9iajsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luT2JqLl9fcHJvdG9fXyAhPT0gbnVsbCAmJiBvcmlnaW5PYmouX19wcm90b19fICE9PSBPYmplY3QucHJvdG90eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbk9iaiA9IG9yaWdpbk9iai5fX3Byb3RvX187CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9yaWdpbk9iai5fX3Byb3RvX18gPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbk9iajsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOWwhuaVsOe7hOS4ree7k+aehOexu+S8vOWvueixoeaMh+WumuWxnuaAp+iejeWQiOS4uuS4gOS4quaVsOe7hAogICAgICAgICAgICAgKiBAcGFyYW0gYXJyIHtBcnJheX0KICAgICAgICAgICAgICogQHBhcmFtIHByb3BlcnR5TmFtZXMKICAgICAgICAgICAgICovCiAgICAgICAgICAgIHBhcnNlVGhlU2FtZU9iamVjdFByb3BlcnR5SW5BcnJheTogZnVuY3Rpb24gKGFyciwgcHJvcGVydHlOYW1lcykgewogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHt9OwogICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB7fTsKICAgICAgICAgICAgICAgIEFycmF5VXRpbHMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIGFyciwgZnVuY3Rpb24gKG9iaikgewogICAgICAgICAgICAgICAgICAgIC8vIOiOt+WPluaDs+imgeW+l+WIsOeahOaJgOacieWxnuaAp++8jOS7peWxnuaAp+WQjeS4uumUruWAvOWtmOWCqOWIsHRlbXDkuK0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRMaW5rUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAodmFsdWUsIHByb3BlcnR5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVtcC5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0eSkgfHwgIShCYXNlVXRpbHMuaXNBcnJheSh0ZW1wW3Byb3BlcnR5XSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wW3Byb3BlcnR5XSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBbcHJvcGVydHldLnB1c2godmFsdWUpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyDpgY3ljoZ0ZW1w6I635Y+W5q+P5Liq6ZSu5YC85Lit55qE5YC877yM5bm25Y2V54us5Y+W5Ye6CiAgICAgICAgICAgICAgICB0aGlzLmVyZ29kaWNPYmplY3QodGhpcywgdGVtcCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsKICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmNyZWF0ZUxpbmtQcm9wZXJ0eShyZXN1bHQsIGtleSwgdmFsdWUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9uZU9iamVjdChyZXN1bHQpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog5bCG5pWw57uE5Lit57uT5p6E57G75Ly85a+56LGh5oyH5a6a5bGe5oCn6J6N5ZCI5Li65LiA5Liq5pWw57uECiAgICAgICAgICAgICAqIEBwYXJhbSBhcnIge0FycmF5fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgcGFyc2VUaGVTYW1lT2JqZWN0QWxsUHJvcGVydHlJbkFycmF5OiBmdW5jdGlvbiAoYXJyKSB7CiAgICAgICAgICAgICAgICBpZiAoIUFycmF5VXRpbHMuaXNBcnJheU9iamVjdChhcnIpIHx8IGFyci5sZW5ndGggPCAxKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6I635Y+W5LiA5Liq5a+56LGh55qE5omA5pyJ5bGe5oCn77yM5YyF5ous5YaF6YOo5a+56LGh55qE5bGe5oCnCiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lcyA9IFtdOwogICAgICAgICAgICAgICAgdGhpcy5lcmdvZGljT2JqZWN0KHRoaXMsIGFyclswXSwgZnVuY3Rpb24gKHYsIGspIHsKICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWVzLnB1c2goayk7CiAgICAgICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlVGhlU2FtZU9iamVjdFByb3BlcnR5SW5BcnJheShhcnIsIHByb3BlcnR5TmFtZXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635Y+W5a+56LGh5bGe5oCn77yM6Iul5Li65pWw57uE5YiZ6K6h566X5YW25Lit5pWw5a2X55qE5bmz5Z2H5YC85oiW5YW25a6DCiAgICAgICAgICAgICAqIEBwYXJhbSBvYmoKICAgICAgICAgICAgICogQHBhcmFtIHByb3BlcnR5TmFtZXN7QXJyYXk8c3RyaW5nPnxzdHJpbmd9CiAgICAgICAgICAgICAqIEBwYXJhbSB0eXBlCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBnZXRDYWxjdWxhdGlvbkluQXJyYXlCeUxpbmtQcm9wZXJ0eU5hbWVzOiBmdW5jdGlvbiAob2JqLCBwcm9wZXJ0eU5hbWVzLCB0eXBlKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0T2JqZWN0ID0ge307CiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7CiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgICAgICBjYXNlICdzdW0nOgogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRMaW5rUHJvcGVydHkob2JqLCBwcm9wZXJ0eU5hbWVzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5VXRpbHMuaXNBcnJheU9iamVjdCh2YWx1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QgPSBfdGhpcy5jcmVhdGVMaW5rUHJvcGVydHkocmVzdWx0T2JqZWN0LCBrZXksIEFycmF5VXRpbHMuZ2V0U3VtSW5BcnJheSh2YWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYXZlcmFnZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZExpbmtQcm9wZXJ0eShvYmosIHByb3BlcnR5TmFtZXMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXlVdGlscy5pc0FycmF5T2JqZWN0KHZhbHVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdCA9IF90aGlzLmNyZWF0ZUxpbmtQcm9wZXJ0eShyZXN1bHRPYmplY3QsIGtleSwgQXJyYXlVdGlscy5nZXRBdmVyYWdlSW5BcnJheSh2YWx1ZSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0T2JqZWN0OwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgLy8gQ29sb3JVdGlscwogICAgZmFjdG9yeSgnQ29sb3JVdGlscycsIFtdLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOi9rOaNouminOiJsnJnYuS4ujE26L+b5Yi2CiAgICAgICAgICAgICAqIEBwYXJhbSByCiAgICAgICAgICAgICAqIEBwYXJhbSBnCiAgICAgICAgICAgICAqIEBwYXJhbSBiCiAgICAgICAgICAgICAqIEByZXR1cm4ge3N0cmluZ30KICAgICAgICAgICAgICovCiAgICAgICAgICAgIHJnYlRvSGV4OiBmdW5jdGlvbiAociwgZywgYikgewogICAgICAgICAgICAgICAgdmFyIGhleCA9ICgociA8PCAxNikgfCAoZyA8PCA4KSB8IGIpLnRvU3RyaW5nKDE2KTsKICAgICAgICAgICAgICAgIHJldHVybiAiIyIgKyBuZXcgQXJyYXkoTWF0aC5hYnMoaGV4Lmxlbmd0aCAtIDcpKS5qb2luKCIwIikgKyBoZXg7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDovazmjaLpopzoibIxNui/m+WItuS4unJnYgogICAgICAgICAgICAgKiBAcGFyYW0gaGV4CiAgICAgICAgICAgICAqIEByZXR1cm4ge0FycmF5fQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgaGV4VG9SZ2I6IGZ1bmN0aW9uIChoZXgpIHsKICAgICAgICAgICAgICAgIGhleCA9IGhleC5yZXBsYWNlKC8gL2csICcnKTsKICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBoZXgubGVuZ3RoOwogICAgICAgICAgICAgICAgdmFyIHJnYiA9IFtdOwogICAgICAgICAgICAgICAgc3dpdGNoIChsZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHJnYi5wdXNoKHBhcnNlSW50KGhleFsxXSArIGhleFsxXSwgMTYpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmdiLnB1c2gocGFyc2VJbnQoaGV4WzJdICsgaGV4WzJdLCAxNikpOwogICAgICAgICAgICAgICAgICAgICAgICByZ2IucHVzaChwYXJzZUludChoZXhbM10gKyBoZXhbM10sIDE2KSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZ2I7CiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IDc7IGkgKz0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmdiLnB1c2gocGFyc2VJbnQoIjB4IiArIGhleC5zbGljZShpLCBpICsgMikpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmdiOwogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDmoLnmja7kuKTkuKrpopzoibLku6Xlj4rkuYvpl7TnmoTnmb7liIbmr5Tojrflj5bmuJDov5voibIKICAgICAgICAgICAgICogQHBhcmFtIHN0YXJ0CiAgICAgICAgICAgICAqIEBwYXJhbSBlbmQKICAgICAgICAgICAgICogQHBhcmFtIHBlcmNlbnRhZ2UKICAgICAgICAgICAgICogQHJldHVybiB7Kn0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdyYWRpZW50Q29sb3JzUGVyY2VudGFnZTogZnVuY3Rpb24gKHN0YXJ0LCBlbmQsIHBlcmNlbnRhZ2UpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHRSZ2IgPSBbXTsKICAgICAgICAgICAgICAgIHZhciBzdGFydFJnYiA9IHRoaXMuaGV4VG9SZ2Ioc3RhcnQpOwogICAgICAgICAgICAgICAgaWYgKGVuZCA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIGVuZFJnYiA9IHRoaXMuaGV4VG9SZ2IoZW5kKTsKICAgICAgICAgICAgICAgIHZhciB0b3RhbFIgPSBlbmRSZ2JbMF0gLSBzdGFydFJnYlswXTsKICAgICAgICAgICAgICAgIHZhciB0b3RhbEcgPSBlbmRSZ2JbMV0gLSBzdGFydFJnYlsxXTsKICAgICAgICAgICAgICAgIHZhciB0b3RhbEIgPSBlbmRSZ2JbMl0gLSBzdGFydFJnYlsyXTsKICAgICAgICAgICAgICAgIHJlc3VsdFJnYi5wdXNoKHN0YXJ0UmdiWzBdICsgdG90YWxSICogcGVyY2VudGFnZSk7CiAgICAgICAgICAgICAgICByZXN1bHRSZ2IucHVzaChzdGFydFJnYlsxXSArIHRvdGFsRyAqIHBlcmNlbnRhZ2UpOwogICAgICAgICAgICAgICAgcmVzdWx0UmdiLnB1c2goc3RhcnRSZ2JbMl0gKyB0b3RhbEIgKiBwZXJjZW50YWdlKTsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJnYlRvSGV4KHJlc3VsdFJnYlswXSwgcmVzdWx0UmdiWzFdLCByZXN1bHRSZ2JbMl0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KTsKCiAgICBmYWN0b3J5KCdGdW5jdGlvblV0aWxzJywgW10sIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6I635Y+W5pa55rOV55qE5ZCN5a2XCiAgICAgICAgICAgICAqIEBwYXJhbSBmdW5jCiAgICAgICAgICAgICAqIEByZXR1cm5zIHsqfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0RnVuY3Rpb25OYW1lOiBmdW5jdGlvbiAoZnVuYykgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBmdW5jID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gKCcnICsgZnVuYykubWF0Y2goL2Z1bmN0aW9uXHMqKFtcd1wkXSopXHMqXCgvKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiBmdW5jLm5hbWUgfHwgbmFtZVsxXTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluaWueazleeahOWPguaVsOWQjQogICAgICAgICAgICAgKiBAcGFyYW0gZnVuYwogICAgICAgICAgICAgKiBAcmV0dXJucyB7Kn0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdldEZ1bmN0aW9uUGFyYW1zOiBmdW5jdGlvbiAoZnVuYykgewogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBmdW5jID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gKCcnICsgZnVuYykubWF0Y2goL2Z1bmN0aW9uLipcKChbXildKilcKS8pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBuYW1lWzFdLnJlcGxhY2UoLyggKXwoXG4pL2csICcnKS5zcGxpdCgnLCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6YCa6L+H5pa55rOV55qEYXJndW1lbnRz6I635Y+W6LCD55So6K+l5pa55rOV55qE5Ye95pWwCiAgICAgICAgICAgICAqIEBwYXJhbSBmdW5jX2FyZ3VtZW50cwogICAgICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0Q2FsbGVyTmFtZTogZnVuY3Rpb24gKGZ1bmNfYXJndW1lbnRzKSB7CiAgICAgICAgICAgICAgICB2YXIgY2FsbGVyID0gZnVuY19hcmd1bWVudHMuY2FsbGVlLmNhbGxlcjsKICAgICAgICAgICAgICAgIHZhciBjYWxsZXJOYW1lID0gJyc7CiAgICAgICAgICAgICAgICBpZiAoY2FsbGVyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGVyTmFtZSA9IHRoaXMuZ2V0RnVuY3Rpb25OYW1lKGNhbGxlcik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGVyTmFtZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgRnVuY3Rpb25CdWlsZGVyOiBmdW5jdGlvbiAoZnVuYykgewogICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgICAgIHZhciBmcyA9IFtdOwogICAgICAgICAgICAgICAgZnMucHVzaChmdW5jKTsKICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gWydwdXNoJywgJ3Vuc2hpZnQnLCAnc2xpY2UnLCAnbWFwJywgJ2ZvckVhY2gnLCAna2V5cycsICdmaW5kJywgJ2NvbmNhdCcsICdmaWxsJywgJ3NoaWZ0JywgJ3ZhbHVlcyddOwogICAgICAgICAgICAgICAgcHJvcGVydGllcy5tYXAoZnVuY3Rpb24gKHByb3BlcnR5KSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGVbcHJvcGVydHldID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgcHJvcGVydHksIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZzW3Byb3BlcnR5XS5hcHBseShmcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmZzID0gW107CiAgICAgICAgICAgICAgICAgICAgZnMubWFwKGZ1bmN0aW9uIChmLCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGYgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJmcy5wdXNoKGYpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2xhcmVWYXIgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGFyZ3VtZW50cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXM6IHRoaXMKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgcmZzLm1hcChmdW5jdGlvbiAoZikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGR2ID0gZi5hcHBseShjb250ZXh0IHx8IHRoaXMsIFtkZWNsYXJlVmFyXSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkdikubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyZVZhcltrZXldID0gZHZba2V5XTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWNsYXJlVmFyLnJldHVyblZhbHVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW52b2tlTWV0aG9kczogZnVuY3Rpb24gKGNvbnRleHQsIG1ldGhvZHMsIGFyZ3MpIHsKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0FycmF5KG1ldGhvZHMpKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgICAgICB0aGlzLmVyZ29kaWNBcnJheU9iamVjdChjb250ZXh0LCBtZXRob2RzLCBmdW5jdGlvbiAobWV0aG9kKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5pc0Z1bmN0aW9uKG1ldGhvZCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goCiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZC5hcHBseShjb250ZXh0LCBhcmdzKQogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgZmFjdG9yeSgnVXJsVXRpbHMnLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGdldFVybEluZm86IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgICAgICAgICAgYS5ocmVmID0gdXJsOwogICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHVybCwKICAgICAgICAgICAgICAgICAgICBwcm90b2NvbDogYS5wcm90b2NvbC5yZXBsYWNlKCc6JywgJycpLAogICAgICAgICAgICAgICAgICAgIGhvc3Q6IGEuaG9zdG5hbWUsCiAgICAgICAgICAgICAgICAgICAgcG9ydDogYS5wb3J0LAogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBhLnNlYXJjaCwKICAgICAgICAgICAgICAgICAgICBmaWxlOiAoYS5wYXRobmFtZS5tYXRjaCgvXC8oW15cLz8jXSspJC9pKSB8fCBbLCAnJ10pWzFdLAogICAgICAgICAgICAgICAgICAgIGhhc2g6IGEuaGFzaC5yZXBsYWNlKCcjJywgJycpLAogICAgICAgICAgICAgICAgICAgIHBhdGg6IGEucGF0aG5hbWUucmVwbGFjZSgvXihbXlwvXSkvLCAnLyQxJyksCiAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmU6IChhLmhyZWYubWF0Y2goL3Rwcz86XC9cL1teXC9dKyguKykvKSB8fCBbLCAnJ10pWzFdLAogICAgICAgICAgICAgICAgICAgIHNlZ21lbnRzOiBhLnBhdGhuYW1lLnJlcGxhY2UoL15cLy8sICcnKS5zcGxpdCgnLycpLAogICAgICAgICAgICAgICAgICAgIHBhcmFtczogKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldCA9IHt9OwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VnID0gYS5zZWFyY2gucmVwbGFjZSgvXlw/LywgJycpLnNwbGl0KCcmJykuZmlsdGVyKGZ1bmN0aW9uICh2LCBpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiAhPT0gJycgJiYgdi5pbmRleE9mKCc9JykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlZy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50LCBpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkeCA9IGVsZW1lbnQuaW5kZXhPZignPScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGVsZW1lbnQuc3Vic3RyaW5nKDAsIGlkeCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gZWxlbWVudC5zdWJzdHJpbmcoaWR4ICsgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXRba2V5XSA9IHZhbDsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7CiAgICAgICAgICAgICAgICAgICAgfSkoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXJsTWF0Y2hpbmc6IGZ1bmN0aW9uICh1cmwsIG1hdGNoVXJsKSB7CiAgICAgICAgICAgICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAobWF0Y2hVcmwpOwogICAgICAgICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh1cmwpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBnZXRVcmxXaXRob3V0UGFyYW06IGZ1bmN0aW9uICh1cmwpIHsKICAgICAgICAgICAgICAgIHJldHVybiB1cmwuc3BsaXQoJz8nKVswXTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZ2V0UGFyYW1Gcm9tVXJsOiBmdW5jdGlvbiAodXJsKSB7CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gW107CiAgICAgICAgICAgICAgICB2YXIgcGFyYW1zT2JqZWN0ID0gdGhpcy5nZXRVcmxJbmZvKHVybCkucGFyYW1zOwogICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zT2JqZWN0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgICAgICBwYXJhbXMucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIGtleToga2V5LAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGFyYW1zT2JqZWN0W2tleV0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJz8nKTsKICAgICAgICAgICAgICAgIC8vIGlmIChwYXJ0cy5sZW5ndGggPCAyKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIHBhcmFtczsKICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgIC8vIHZhciBwYXJhbXNTdHIgPSBwYXJ0c1sxXS5zcGxpdCgnJicpOwogICAgICAgICAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXNTdHIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIC8vICAgICB2YXIgaW5kZXggPSBwYXJhbXNTdHJbaV0uaW5kZXhPZignPScpOwogICAgICAgICAgICAgICAgLy8gICAgIHZhciBwcyA9IG5ldyBBcnJheSgyKTsKICAgICAgICAgICAgICAgIC8vICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBzID0gWwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcGFyYW1zU3RyW2ldLnN1YnN0cmluZygwLCBpbmRleCksCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBwYXJhbXNTdHJbaV0uc3Vic3RyaW5nKGluZGV4ICsgMSksCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIF07CiAgICAgICAgICAgICAgICAvLyAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgcHNbMF0gPSBwYXJhbXNTdHJbaV07CiAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgIHBhcmFtcy5wdXNoKHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAga2V5OiBwc1swXSwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgdmFsdWU6IHBzWzFdCiAgICAgICAgICAgICAgICAvLyAgICAgfSk7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICByZXR1cm4gcGFyYW1zOwogICAgICAgICAgICB9LAogICAgICAgICAgICBtYXJnZVVybEFuZFBhcmFtczogZnVuY3Rpb24gKHVybCwgcGFyYW1zKSB7CiAgICAgICAgICAgICAgICBpZiAodXJsLmluZGV4T2YoJz8nKSAhPT0gLTEgfHwgIShwYXJhbXMgaW5zdGFuY2VvZiBBcnJheSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdmFyIHBhcmFtc1N0ciA9IFtdOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAocGFyYW1zW2ldLmtleSAhPT0gbnVsbCAmJiBwYXJhbXNbaV0udmFsdWUgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJhbXNbaV0ua2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXNTdHIucHVzaChwYXJhbXNbaV0udmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zU3RyLnB1c2gocGFyYW1zW2ldLmtleSArICc9JyArIHBhcmFtc1tpXS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdXJsICsgJz8nICsgcGFyYW1zU3RyLmpvaW4oJyYnKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwoKICAgIGZhY3RvcnkoJ1BvaW50VXRpbHMnLCBbXSwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBQb2ludDJEID0gZnVuY3Rpb24gKHgsIHkpIHsKICAgICAgICAgICAgdGhpcy54ID0geCB8fCAwOwogICAgICAgICAgICB0aGlzLnkgPSB5IHx8IDA7CiAgICAgICAgfTsKICAgICAgICBQb2ludDJELnByb3RvdHlwZSA9IHsKICAgICAgICAgICAgY29uc3RydWN0b3I6IFBvaW50MkQsCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDojrflj5bmjIflrprot53nprvlkozop5Lluqblr7nlupTnmoTlubPpnaLngrkKICAgICAgICAgICAgICogQHBhcmFtIGRpc3RhbmNlCiAgICAgICAgICAgICAqIEBwYXJhbSBkZWcKICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdldE90aGVyUG9pbnRGcm9tRGlzdGFuY2VBbmREZWc6IGZ1bmN0aW9uIChkaXN0YW5jZSwgZGVnKSB7CiAgICAgICAgICAgICAgICB2YXIgcmFkaWFuID0gTWF0aC5QSSAvIDE4MCAqIGRlZzsKICAgICAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKCk7CiAgICAgICAgICAgICAgICBwb2ludC54ID0gZGlzdGFuY2UgKiBNYXRoLnNpbihyYWRpYW4pICsgdGhpcy54OwogICAgICAgICAgICAgICAgcG9pbnQueSA9IHRoaXMueSAtIGRpc3RhbmNlICogTWF0aC5jb3MocmFkaWFuKTsKICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOiOt+WPluW9k+WJjeW5s+mdoueCueS4juWPpuS4gOS4quW5s+mdoueCueS5i+mXtOeahOi3neemuwogICAgICAgICAgICAgKiBAcGFyYW0gcAogICAgICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfQogICAgICAgICAgICAgKi8KICAgICAgICAgICAgZ2V0RGlzdGFuY2VGcm9tQW5vdGhlclBvaW50OiBmdW5jdGlvbiAocCkgewogICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodGhpcy54IC0gcC54KSAqICh0aGlzLnggLSBwLngpICsgKHRoaXMueSAtIHAueSkgKiAodGhpcy55IC0gcC55KSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgKiDojrflj5blvZPliY3lubPpnaLngrnkuI7lj6bkuIDkuKrlubPpnaLngrnkuYvpl7TnmoTop5LluqYKICAgICAgICAgICAgICogQHBhcmFtIHAKICAgICAgICAgICAgICogQHJldHVybnMge251bWJlcn0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGdldERlZ0Zyb21Bbm90aGVyUG9pbnQ6IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICAgICAgICB2YXIgdXNlZFBvaW50ID0gbmV3IFBvaW50MkQocC54ICogMTAwMDAwMCAtIHRoaXMueCAqIDEwMDAwMDAsIHAueSAqIDEwMDAwMDAgLSB0aGlzLnkgKiAxMDAwMDAwKTsKICAgICAgICAgICAgICAgIHZhciByYWRpYW4gPSBNYXRoLmF0YW4yKHVzZWRQb2ludC54ICogMTAwMDAwMCwgdXNlZFBvaW50LnkgKiAxMDAwMDAwKTsKICAgICAgICAgICAgICAgIHZhciBkZWcgPSByYWRpYW4gKiAxODAgLyBNYXRoLlBJOwogICAgICAgICAgICAgICAgcmV0dXJuIDE4MCAtIGRlZzsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIOWIpOaWreivpeeCueaYr+WQpuS9jeS6juS4gOefqeW9ouWGhemDqAogICAgICAgICAgICAgKiBAcGFyYW0geCDnn6nlvaLlvIDlp4vlnZDmoId4CiAgICAgICAgICAgICAqIEBwYXJhbSB5IOefqeW9ouW8gOWni+WdkOagh3kKICAgICAgICAgICAgICogQHBhcmFtIHdpZHRoIOefqeW9ouWuvQogICAgICAgICAgICAgKiBAcGFyYW0gaGVpZ2h0IOefqeW9oumVvwogICAgICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0KICAgICAgICAgICAgICovCiAgICAgICAgICAgIGlzSW5SZWN0OiBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkgewogICAgICAgICAgICAgICAgdmFyIHB4ID0gdGhpcy54OwogICAgICAgICAgICAgICAgdmFyIHB5ID0gdGhpcy55OwogICAgICAgICAgICAgICAgaWYgKHB4IDwgeCB8fCBweCA+IHggKyB3aWR0aCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJldHVybiAhKHB5IDwgeSB8fCBweSA+IHkgKyBoZWlnaHQpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBQb2ludDJEOiBQb2ludDJECiAgICAgICAgfQogICAgfSk7CgogICAgX2dsb2JhbC5ldmVyeVV0aWxzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChCYXNlVXRpbHMuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7CiAgICAgICAgICAgIGRlcGVuZC5jYWxsKGFyZ3VtZW50c1syXSB8fCB0aGlzLCBhcmd1bWVudHNbMF0sIGFyZ3VtZW50c1sxXSk7CiAgICAgICAgfSBlbHNlIGlmIChCYXNlVXRpbHMuaXNGdW5jdGlvbihhcmd1bWVudHNbMF0pKSB7CiAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzOwogICAgICAgICAgICBkZXBlbmQuY2FsbChhcmd1bWVudHNbMV0gfHwgdGhpcywgWydGdW5jdGlvblV0aWxzJ10sIGZ1bmN0aW9uIChGdW5jdGlvblV0aWxzKSB7CiAgICAgICAgICAgICAgICB2YXIgZGVwZW5kcyA9IEZ1bmN0aW9uVXRpbHMuZ2V0RnVuY3Rpb25QYXJhbXMoYXJnc1swXSk7CiAgICAgICAgICAgICAgICBkZXBlbmQoZGVwZW5kcywgYXJnc1swXSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfTsKCiAgICBfZ2xvYmFsLmVVdGlscyA9IChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHV0aWxzID0ge307CiAgICAgICAgaWYgKHdpbmRvdy5ldmVyeVV0aWxzKSB7CiAgICAgICAgICAgIHdpbmRvdy5ldmVyeVV0aWxzKGZ1bmN0aW9uICgKICAgICAgICAgICAgICAgIEFycmF5VXRpbHMsCiAgICAgICAgICAgICAgICBPYmplY3RVdGlscywKICAgICAgICAgICAgICAgIEJhc2VVdGlscywKICAgICAgICAgICAgICAgIEZ1bmN0aW9uVXRpbHMsCiAgICAgICAgICAgICAgICBDb2xvclV0aWxzLAogICAgICAgICAgICAgICAgUG9pbnRVdGlscywKICAgICAgICAgICAgICAgIFVybFV0aWxzKSB7CiAgICAgICAgICAgICAgICB1dGlscyA9IHsKICAgICAgICAgICAgICAgICAgICBBcnJheVV0aWxzOiBBcnJheVV0aWxzLAogICAgICAgICAgICAgICAgICAgIE9iamVjdFV0aWxzOiBPYmplY3RVdGlscywKICAgICAgICAgICAgICAgICAgICBCYXNlVXRpbHM6IEJhc2VVdGlscywKICAgICAgICAgICAgICAgICAgICBDb2xvclV0aWxzOiBDb2xvclV0aWxzLAogICAgICAgICAgICAgICAgICAgIFVybFV0aWxzOiBVcmxVdGlscywKICAgICAgICAgICAgICAgICAgICB1cmxVdGlsczogVXJsVXRpbHMsCiAgICAgICAgICAgICAgICAgICAgUG9pbnRVdGlsczogUG9pbnRVdGlscywKICAgICAgICAgICAgICAgICAgICBGdW5jdGlvblV0aWxzOiBGdW5jdGlvblV0aWxzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdmFyIHByb3h5ID0ge307CiAgICAgICAgT2JqZWN0LmtleXModXRpbHMpLmZvckVhY2goZnVuY3Rpb24gKHV0aWxOYW1lKSB7CiAgICAgICAgICAgIGlmICghdXRpbE5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIHV0aWxOYW1lLCB7CiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHNbdXRpbE5hbWVdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgT2JqZWN0LmtleXModXRpbHNbdXRpbE5hbWVdKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIGlmICgha2V5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHByb3h5W2tleV0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIGtleSwgewogICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHNbdXRpbE5hbWVdW2tleV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcHJveHk7CiAgICB9KSgpOwoKICAgIHJldHVybiBfZ2xvYmFsLmVVdGlsczsKfSkpOwoKCn5mdW5jdGlvbiAodXRpbHMpIHsKICAgIHZhciBfZ2xvYmFsID0gdGhpczsKICAgIHZhciBFSG9vayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2F1dG9JZCA9IDE7CiAgICAgICAgdmFyIF9ob29rZWRNYXAgPSB7fTsKICAgICAgICB0aGlzLl9nZXRIb29rZWRNYXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfaG9va2VkTWFwOwogICAgICAgIH07CiAgICAgICAgdGhpcy5fZ2V0QXV0b1N0cklkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gJ19fYXV0b19fJyArIF9hdXRvSWQrKzsKICAgICAgICB9OwogICAgICAgIHRoaXMuX2dldEF1dG9JZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF9hdXRvSWQrKzsKICAgICAgICB9OwogICAgfTsKICAgIEVIb29rLnByb3RvdHlwZSA9IHsKICAgICAgICAvKioKICAgICAgICAgKiDojrflj5bkuIDkuKrlr7nosaHnmoTliqvmjIFpZO+8jOiLpeayoeacieWImeWIm+W7uuS4gOS4qgogICAgICAgICAqIEBwYXJhbSBjb250ZXh0CiAgICAgICAgICogQHJldHVybiB7Kn0KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF9nZXRIb29rZWRJZDogZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgICAgICAgdmFyIGhvb2tlZElkID0gY29udGV4dC5fX19ob29rZWRJZDsKICAgICAgICAgICAgaWYgKGhvb2tlZElkID09IG51bGwpIHsKICAgICAgICAgICAgICAgIGhvb2tlZElkID0gY29udGV4dC5fX19ob29rZWRJZCA9IHRoaXMuX2dldEF1dG9TdHJJZCgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBob29rZWRJZDsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPluS4gOS4quWvueixoeeahOWKq+aMgeaWueazleaYoOWwhO+8jOiLpeayoeacieWImeWIm+W7uuS4gOS4qgogICAgICAgICAqIEBwYXJhbSBjb250ZXh0CiAgICAgICAgICogQHJldHVybiB7Kn0KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF9nZXRIb29rZWRNZXRob2RNYXA6IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgICAgICAgIHZhciBob29rZWRJZCA9IHRoaXMuX2dldEhvb2tlZElkKGNvbnRleHQpOwogICAgICAgICAgICB2YXIgaG9va2VkTWFwID0gdGhpcy5fZ2V0SG9va2VkTWFwKCk7CiAgICAgICAgICAgIHZhciB0aGlzVGFzayA9IGhvb2tlZE1hcFtob29rZWRJZF07CiAgICAgICAgICAgIGlmICghdXRpbHMuaXNFeGlzdE9iamVjdCh0aGlzVGFzaykpIHsKICAgICAgICAgICAgICAgIHRoaXNUYXNrID0gaG9va2VkTWFwW2hvb2tlZElkXSA9IHt9OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzVGFzazsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPluWvueW6lOaWueazleeahGhvb2vljp/lnovku7vliqHlr7nosaHvvIzoi6XmsqHmnInliJnliJ3lp4vljJbkuIDkuKrjgIIKICAgICAgICAgKiBAcGFyYW0gY29udGV4dAogICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICBfZ2V0SG9va2VkTWV0aG9kVGFzazogZnVuY3Rpb24gKGNvbnRleHQsIG1ldGhvZE5hbWUpIHsKICAgICAgICAgICAgdmFyIHRoaXNNZXRob2RNYXAgPSB0aGlzLl9nZXRIb29rZWRNZXRob2RNYXAoY29udGV4dCk7CiAgICAgICAgICAgIHZhciB0aGlzTWV0aG9kID0gdGhpc01ldGhvZE1hcFttZXRob2ROYW1lXTsKICAgICAgICAgICAgaWYgKCF1dGlscy5pc0V4aXN0T2JqZWN0KHRoaXNNZXRob2QpKSB7CiAgICAgICAgICAgICAgICB0aGlzTWV0aG9kID0gdGhpc01ldGhvZE1hcFttZXRob2ROYW1lXSA9IHsKICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbDogdW5kZWZpbmVkLAogICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICB0YXNrOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogW10sCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQ6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IFtdCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdGhpc01ldGhvZDsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOaJp+ihjOWkmuS4quaWueazleW5tuazqOWFpeS4gOS4quaWueazleWSjOWPguaVsOmbhuWQiAogICAgICAgICAqIEBwYXJhbSBjb250ZXh0CiAgICAgICAgICogQHBhcmFtIG1ldGhvZHMKICAgICAgICAgKiBAcGFyYW0gYXJncwogICAgICAgICAqIEByZXR1cm4gcmVzdWx0IOacgOWQjuS4gOasoeaJp+ihjOaWueazleeahOacieaViOi/lOWbnuWAvAogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgX2ludm9rZU1ldGhvZHM6IGZ1bmN0aW9uIChjb250ZXh0LCBtZXRob2RzLCBhcmdzKSB7CiAgICAgICAgICAgIGlmICghdXRpbHMuaXNBcnJheShtZXRob2RzKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICAgICAgICB1dGlscy5lcmdvZGljQXJyYXlPYmplY3QoY29udGV4dCwgbWV0aG9kcywgZnVuY3Rpb24gKF9tZXRob2QpIHsKICAgICAgICAgICAgICAgIGlmICghdXRpbHMuaXNGdW5jdGlvbihfbWV0aG9kLm1ldGhvZCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgciA9IF9tZXRob2QubWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgaWYgKHIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHI7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog55Sf5oiQ5ZKM5pu/5o2i5Yqr5oyB5pa55rOVCiAgICAgICAgICogQHBhcmFtIHBhcmVudAogICAgICAgICAqIEBwYXJhbSBjb250ZXh0CiAgICAgICAgICogQHBhcmFtIG1ldGhvZE5hbWUge3N0cmluZ30KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF9ob29rOiBmdW5jdGlvbiAocGFyZW50LCBtZXRob2ROYW1lLCBjb250ZXh0KSB7CiAgICAgICAgICAgIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgIGNvbnRleHQgPSBwYXJlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG1ldGhvZCA9IHBhcmVudFttZXRob2ROYW1lXTsKICAgICAgICAgICAgdmFyIG1ldGhvZFRhc2sgPSB0aGlzLl9nZXRIb29rZWRNZXRob2RUYXNrKHBhcmVudCwgbWV0aG9kTmFtZSk7CiAgICAgICAgICAgIGlmICghbWV0aG9kVGFzay5vcmlnaW5hbCkgewogICAgICAgICAgICAgICAgbWV0aG9kVGFzay5vcmlnaW5hbCA9IG1ldGhvZDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodXRpbHMuaXNFeGlzdE9iamVjdChtZXRob2RUYXNrLnJlcGxhY2UpICYmIHV0aWxzLmlzRnVuY3Rpb24obWV0aG9kVGFzay5yZXBsYWNlLm1ldGhvZCkpIHsKICAgICAgICAgICAgICAgIHBhcmVudFttZXRob2ROYW1lXSA9IG1ldGhvZFRhc2sucmVwbGFjZS5tZXRob2QobWV0aG9kVGFzay5vcmlnaW5hbCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGludm9rZU1ldGhvZHMgPSB0aGlzLl9pbnZva2VNZXRob2RzOwogICAgICAgICAgICAvLyDnu4Too4XliqvmjIHlh73mlbAKICAgICAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgdXRpbHMuRnVuY3Rpb25CdWlsZGVyKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIHJlc3VsdDogdW5kZWZpbmVkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKG1ldGhvZFRhc2sudGFzay5iZWZvcmUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgYnVpbGRlci5wdXNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICAgICAgaW52b2tlTWV0aG9kcyhjb250ZXh0IHx8IHYudGhpcywgbWV0aG9kVGFzay50YXNrLmJlZm9yZSwgW21ldGhvZFRhc2sub3JpZ2luYWwsIHYuYXJndW1lbnRzXSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodXRpbHMuaXNFeGlzdE9iamVjdChtZXRob2RUYXNrLnRhc2suY3VycmVudCkgJiYgdXRpbHMuaXNGdW5jdGlvbihtZXRob2RUYXNrLnRhc2suY3VycmVudC5tZXRob2QpKSB7CiAgICAgICAgICAgICAgICBidWlsZGVyLnB1c2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG1ldGhvZFRhc2sudGFzay5jdXJyZW50Lm1ldGhvZC5jYWxsKGNvbnRleHQgfHwgdi50aGlzLCBwYXJlbnQsIG1ldGhvZFRhc2sub3JpZ2luYWwsIHYuYXJndW1lbnRzKQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYnVpbGRlci5wdXNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBtZXRob2RUYXNrLm9yaWdpbmFsLmFwcGx5KGNvbnRleHQgfHwgdi50aGlzLCB2LmFyZ3VtZW50cykKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAobWV0aG9kVGFzay50YXNrLmFmdGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgIGJ1aWxkZXIucHVzaChmdW5jdGlvbiAodikgewogICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107CiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKG1ldGhvZFRhc2sub3JpZ2luYWwpOwogICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaCh2LmFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgYXJncy5wdXNoKHYucmVzdWx0KTsKICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGludm9rZU1ldGhvZHMoY29udGV4dCB8fCB2LnRoaXMsIG1ldGhvZFRhc2sudGFzay5hZnRlciwgYXJncyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiAociAhPSBudWxsID8gciA6IHYucmVzdWx0KQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBidWlsZGVyLnB1c2goZnVuY3Rpb24gKHYpIHsKICAgICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsdWU6IHYucmVzdWx0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8gdmFyIG1ldGhvZFN0ciA9ICcoZnVuY3Rpb24oKXtcbic7CiAgICAgICAgICAgIC8vIG1ldGhvZFN0ciA9IG1ldGhvZFN0ciArICd2YXIgcmVzdWx0ID0gdW5kZWZpbmVkO1xuJzsKICAgICAgICAgICAgLy8gaWYgKG1ldGhvZFRhc2sudGFzay5iZWZvcmUubGVuZ3RoID4gMCkgewogICAgICAgICAgICAvLyAgICAgbWV0aG9kU3RyID0gbWV0aG9kU3RyICsgJ2ludm9rZU1ldGhvZHMoY29udGV4dCwgbWV0aG9kVGFzay50YXNrLmJlZm9yZSxbbWV0aG9kVGFzay5vcmlnaW5hbCwgYXJndW1lbnRzXSk7XG4nOwogICAgICAgICAgICAvLyB9CiAgICAgICAgICAgIC8vIGlmICh1dGlscy5pc0V4aXN0T2JqZWN0KG1ldGhvZFRhc2sudGFzay5jdXJyZW50KSAmJiB1dGlscy5pc0Z1bmN0aW9uKG1ldGhvZFRhc2sudGFzay5jdXJyZW50Lm1ldGhvZCkpIHsKICAgICAgICAgICAgLy8gICAgIG1ldGhvZFN0ciA9IG1ldGhvZFN0ciArICdyZXN1bHQgPSBtZXRob2RUYXNrLnRhc2suY3VycmVudC5tZXRob2QuY2FsbChjb250ZXh0LCBwYXJlbnQsIG1ldGhvZFRhc2sub3JpZ2luYWwsIGFyZ3VtZW50cyk7XG4nOwogICAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgICAvLyAgICAgbWV0aG9kU3RyID0gbWV0aG9kU3RyICsgJ3Jlc3VsdCA9IG1ldGhvZFRhc2sub3JpZ2luYWwuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbic7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gaWYgKG1ldGhvZFRhc2sudGFzay5hZnRlci5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIC8vICAgICBtZXRob2RTdHIgPSBtZXRob2RTdHIgKyAndmFyIGFyZ3MgPSBbXTthcmdzLnB1c2gobWV0aG9kVGFzay5vcmlnaW5hbCk7YXJncy5wdXNoKGFyZ3VtZW50cyk7YXJncy5wdXNoKHJlc3VsdCk7XG4nOwogICAgICAgICAgICAvLyAgICAgbWV0aG9kU3RyID0gbWV0aG9kU3RyICsgJ3ZhciByID0gaW52b2tlTWV0aG9kcyhjb250ZXh0LCBtZXRob2RUYXNrLnRhc2suYWZ0ZXIsIGFyZ3MpO3Jlc3VsdCA9IChyIT1udWxsP3I6cmVzdWx0KTtcbic7CiAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgLy8gbWV0aG9kU3RyID0gbWV0aG9kU3RyICsgJ3JldHVybiByZXN1bHQ7XG59KSc7CiAgICAgICAgICAgIC8vIOe7keWumuWKq+aMgeWHveaVsAogICAgICAgICAgICB2YXIgcmVzdWx0RnVuYyA9IGJ1aWxkZXIucmVzdWx0KCk7CiAgICAgICAgICAgIGZvciAodmFyIHByb3h5TmFtZSBpbiBtZXRob2RUYXNrLm9yaWdpbmFsKSB7CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0RnVuYywgcHJveHlOYW1lLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXRob2RUYXNrLm9yaWdpbmFsW3Byb3h5TmFtZV07CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFRhc2sub3JpZ2luYWxbcHJveHlOYW1lXSA9IHY7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICByZXN1bHRGdW5jLnByb3RvdHlwZSA9IG1ldGhvZFRhc2sub3JpZ2luYWwucHJvdG90eXBlOwogICAgICAgICAgICBwYXJlbnRbbWV0aG9kTmFtZV0gPSByZXN1bHRGdW5jOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5Yqr5oyB5LiA5Liq5pa55rOVCiAgICAgICAgICogQHBhcmFtIHBhcmVudAogICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lIHtzdHJpbmd9CiAgICAgICAgICogQHBhcmFtIGNvbmZpZwogICAgICAgICAqLwogICAgICAgIGhvb2s6IGZ1bmN0aW9uIChwYXJlbnQsIG1ldGhvZE5hbWUsIGNvbmZpZykgewogICAgICAgICAgICB2YXIgaG9va2VkRmFpbHVyZSA9IC0xOwogICAgICAgICAgICAvLyDosIPnlKjmlrnms5XnmoTkuIrkuIvmlocKICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBjb25maWcuY29udGV4dCAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmNvbnRleHQgOiBwYXJlbnQ7CiAgICAgICAgICAgIGlmIChwYXJlbnRbbWV0aG9kTmFtZV0gPT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFyZW50W21ldGhvZE5hbWVdID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghdXRpbHMuaXNGdW5jdGlvbihwYXJlbnRbbWV0aG9kTmFtZV0pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaG9va2VkRmFpbHVyZTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIgbWV0aG9kVGFzayA9IHRoaXMuX2dldEhvb2tlZE1ldGhvZFRhc2socGFyZW50LCBtZXRob2ROYW1lKTsKICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5fZ2V0QXV0b0lkKCk7CiAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGNvbmZpZy5yZXBsYWNlKSkgewogICAgICAgICAgICAgICAgbWV0aG9kVGFzay5yZXBsYWNlID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbmZpZy5yZXBsYWNlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaG9va2VkRmFpbHVyZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oY29uZmlnLmJlZm9yZSkpIHsKICAgICAgICAgICAgICAgIG1ldGhvZFRhc2sudGFzay5iZWZvcmUucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLAogICAgICAgICAgICAgICAgICAgIG1ldGhvZDogY29uZmlnLmJlZm9yZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBob29rZWRGYWlsdXJlID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihjb25maWcuY3VycmVudCkpIHsKICAgICAgICAgICAgICAgIG1ldGhvZFRhc2sudGFzay5jdXJyZW50ID0gewogICAgICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbmZpZy5jdXJyZW50CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgaG9va2VkRmFpbHVyZSA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oY29uZmlnLmFmdGVyKSkgewogICAgICAgICAgICAgICAgbWV0aG9kVGFzay50YXNrLmFmdGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIGlkOiBpZCwKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGNvbmZpZy5hZnRlcgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBob29rZWRGYWlsdXJlID0gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaG9va2VkRmFpbHVyZSA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy5faG9vayhwYXJlbnQsIG1ldGhvZE5hbWUsIGNvbnRleHQpOwogICAgICAgICAgICAgICAgcmV0dXJuIGlkOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGhvb2tlZEZhaWx1cmU7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDliqvmjIHmm7/mjaLkuIDkuKrmlrnms5UKICAgICAgICAgKiBAcGFyYW0gcGFyZW50CiAgICAgICAgICogQHBhcmFtIGNvbnRleHQKICAgICAgICAgKiBAcGFyYW0gbWV0aG9kTmFtZSB7c3RyaW5nfQogICAgICAgICAqIEBwYXJhbSByZXBsYWNlIHtmdW5jdGlvbn0KICAgICAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IOivpeasoeWKq+aMgeeahGlkCiAgICAgICAgICovCiAgICAgICAgaG9va1JlcGxhY2U6IGZ1bmN0aW9uIChwYXJlbnQsIG1ldGhvZE5hbWUsIHJlcGxhY2UsIGNvbnRleHQpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaG9vayhwYXJlbnQsIG1ldGhvZE5hbWUsIHsKICAgICAgICAgICAgICAgIHJlcGxhY2U6IHJlcGxhY2UsCiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaG9va0JlZm9yZTogZnVuY3Rpb24gKHBhcmVudCwgbWV0aG9kTmFtZSwgYmVmb3JlLCBjb250ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvb2socGFyZW50LCBtZXRob2ROYW1lLCB7CiAgICAgICAgICAgICAgICBiZWZvcmU6IGJlZm9yZSwKICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBob29rQ3VycmVudDogZnVuY3Rpb24gKHBhcmVudCwgbWV0aG9kTmFtZSwgY3VycmVudCwgY29udGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5ob29rKHBhcmVudCwgbWV0aG9kTmFtZSwgewogICAgICAgICAgICAgICAgY3VycmVudDogY3VycmVudCwKICAgICAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBob29rQWZ0ZXI6IGZ1bmN0aW9uIChwYXJlbnQsIG1ldGhvZE5hbWUsIGFmdGVyLCBjb250ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmhvb2socGFyZW50LCBtZXRob2ROYW1lLCB7CiAgICAgICAgICAgICAgICBhZnRlcjogYWZ0ZXIsCiAgICAgICAgICAgICAgICBjb250ZXh0OiBjb250ZXh0CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgaG9va0NsYXNzOiBmdW5jdGlvbiAocGFyZW50LCBjbGFzc05hbWUsIHJlcGxhY2UsIGlubmVyTmFtZSwgZXhjbHVkZVByb3BlcnRpZXMpIHsKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgdmFyIG9yaWdpbkZ1bmMgPSBwYXJlbnRbY2xhc3NOYW1lXTsKICAgICAgICAgICAgaWYgKCFleGNsdWRlUHJvcGVydGllcykgewogICAgICAgICAgICAgICAgZXhjbHVkZVByb3BlcnRpZXMgPSBbXTsKICAgICAgICAgICAgfQogICAgICAgICAgICBleGNsdWRlUHJvcGVydGllcy5wdXNoKCdwcm90b3R5cGUnKTsKICAgICAgICAgICAgZXhjbHVkZVByb3BlcnRpZXMucHVzaCgnY2FsbGVyJyk7CiAgICAgICAgICAgIGV4Y2x1ZGVQcm9wZXJ0aWVzLnB1c2goJ2FyZ3VtZW50cycpOwogICAgICAgICAgICBpbm5lck5hbWUgPSBpbm5lck5hbWUgfHwgJ19pbm5lckhvb2snOwogICAgICAgICAgICB2YXIgcmVzRnVuYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXNbaW5uZXJOYW1lXSA9IG5ldyBvcmlnaW5GdW5jKCk7CiAgICAgICAgICAgICAgICByZXBsYWNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHRoaXMuaG9va2VkVG9TdHJpbmcob3JpZ2luRnVuYywgcmVzRnVuYyk7CiAgICAgICAgICAgIHRoaXMuaG9va2VkVG9Qcm9wZXJ0aWVzKG9yaWdpbkZ1bmMsIHJlc0Z1bmMsIHRydWUsIGV4Y2x1ZGVQcm9wZXJ0aWVzKTsKICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3BlcnRpZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvcmlnaW5GdW5jLnByb3RvdHlwZSk7CiAgICAgICAgICAgIHZhciBwcm90b3R5cGUgPSByZXNGdW5jLnByb3RvdHlwZSA9IHsKICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yOiByZXNGdW5jCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHByb3RvdHlwZVByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdjb25zdHJ1Y3RvcicpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgbWV0aG9kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5GdW5jLnByb3RvdHlwZVtuYW1lXSAmJiB1dGlscy5pc0Z1bmN0aW9uKG9yaWdpbkZ1bmMucHJvdG90eXBlW25hbWVdKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luRnVuYy5wcm90b3R5cGVbbmFtZV0uYXBwbHkodGhpc1tpbm5lck5hbWVdLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF90aGlzLmhvb2tlZFRvU3RyaW5nKG9yaWdpbkZ1bmMucHJvdG90eXBlW25hbWVdLCBtZXRob2QpOwogICAgICAgICAgICAgICAgcHJvdG90eXBlW25hbWVdID0gbWV0aG9kOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5ob29rUmVwbGFjZShwYXJlbnQsIGNsYXNzTmFtZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHJlc0Z1bmM7CiAgICAgICAgICAgIH0sIHBhcmVudCkKICAgICAgICB9LAogICAgICAgIGhvb2tlZFRvUHJvcGVydGllczogZnVuY3Rpb24gKG9yaWdpbk9iamVjdCwgcmVzdWx0T2JqZWN0LCBpc0RlZmluZWQsIGV4Y2x1ZGVQcm9wZXJ0aWVzKSB7CiAgICAgICAgICAgIHZhciBvYmplY3RQcm9wZXJ0aWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob3JpZ2luT2JqZWN0KTsKICAgICAgICAgICAgb2JqZWN0UHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eSkgewogICAgICAgICAgICAgICAgaWYgKHV0aWxzLmNvbnRhaW5zKGV4Y2x1ZGVQcm9wZXJ0aWVzLCBwcm9wZXJ0eSkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWlzRGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdFtwcm9wZXJ0eV0gPSBvcmlnaW5PYmplY3RbcHJvcGVydHldOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0T2JqZWN0LCBwcm9wZXJ0eSwgewogICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9yaWdpbk9iamVjdFtwcm9wZXJ0eV0sCiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGhvb2tlZFRvU3RyaW5nOiBmdW5jdGlvbiAob3JpZ2luT2JqZWN0LCByZXN1bHRPYmplY3QpIHsKICAgICAgICAgICAgdmFyIHRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbk9iamVjdC50b1N0cmluZygpOwogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgdG9Mb2NhbGVTdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luT2JqZWN0LnRvTG9jYWxlU3RyaW5nKCk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHJlc3VsdE9iamVjdCwgewogICAgICAgICAgICAgICAgdG9TdHJpbmc6IHsKICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0b1N0cmluZywKICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0b0xvY2FsZVN0cmluZzogewogICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRvTG9jYWxlU3RyaW5nLAogICAgICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5Yqr5oyB5YWo5bGAYWpheAogICAgICAgICAqIEBwYXJhbSBtZXRob2RzIHtvYmplY3R9IOWKq+aMgeeahOaWueazlQogICAgICAgICAqIEByZXR1cm4geyp8bnVtYmVyfSDliqvmjIHnmoRpZAogICAgICAgICAqLwogICAgICAgIGhvb2tBamF4OiBmdW5jdGlvbiAobWV0aG9kcykgewogICAgICAgICAgICBpZiAodGhpcy5pc0hvb2tlZChfZ2xvYmFsLCAnWE1MSHR0cFJlcXVlc3QnKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIHZhciBob29rTWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHsKICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKG1ldGhvZHNbbWV0aG9kTmFtZV0pKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5Zyo5omn6KGM5pa55rOV5LmL5YmNaG9va+WOn+aWueazlQogICAgICAgICAgICAgICAgICAgIF90aGlzLmhvb2tCZWZvcmUodGhpcy54aHIsIG1ldGhvZE5hbWUsIG1ldGhvZHNbbWV0aG9kTmFtZV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8g6L+U5Zue5pa55rOV6LCD55So5YaF6YOo55qEeGhyCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy54aHJbbWV0aG9kTmFtZV0uYmluZCh0aGlzLnhocik7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHZhciBnZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uIChhdHRyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhc093blByb3BlcnR5KGF0dHIgKyAiXyIpID8gdGhpc1thdHRyICsgIl8iXSA6IHRoaXMueGhyW2F0dHJdOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdmFyIHNldFByb3BlcnR5ID0gZnVuY3Rpb24gKGF0dHIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZikgewogICAgICAgICAgICAgICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjsKICAgICAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHIuaW5kZXhPZigib24iKSAhPT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzW2F0dHIgKyAiXyJdID0gZjsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kc1thdHRyXSkgewogICAgICAgICAgICAgICAgICAgICAgICB4aHJbYXR0cl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLmFwcGx5KHhociwgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gb27mlrnms5XlnKhzZXTml7bliqvmjIEKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaG9va0JlZm9yZSh4aHIsIGF0dHIsIG1ldGhvZHNbYXR0cl0pOwogICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygxLGF0dHIpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB4aHJbYXR0cl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBtZXRob2RzW2F0dHJdKHRoYXQpIHx8IGYuYXBwbHkoeGhyLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgeGhyW2F0dHJdID0gZjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gdGhpcy5ob29rUmVwbGFjZShfZ2xvYmFsLCAnWE1MSHR0cFJlcXVlc3QnLCBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHsKICAgICAgICAgICAgICAgIHZhciByZXNGdW5jID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHRoaXMueGhyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMueGhyW3Byb3BlcnR5TmFtZV07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHByb3BlcnR5KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaG9vayDljp/mlrnms5UKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcGVydHlOYW1lXSA9IGhvb2tNZXRob2QuYmluZCh0aGlzKShwcm9wZXJ0eU5hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BlcnR5TmFtZSwgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0UHJvcGVydHkocHJvcGVydHlOYW1lKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IHNldFByb3BlcnR5KHByb3BlcnR5TmFtZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIC8vIOWumuS5ieWklumDqHhocuWPr+S7peWcqOWGhemDqOiuv+mXrgogICAgICAgICAgICAgICAgICAgIHRoaXMueGhyLnhociA9IHRoaXM7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMuaG9va2VkVG9Qcm9wZXJ0aWVzKFhNTEh0dHBSZXF1ZXN0LCByZXNGdW5jLCB0cnVlKTsKICAgICAgICAgICAgICAgIF90aGlzLmhvb2tlZFRvU3RyaW5nKFhNTEh0dHBSZXF1ZXN0LCByZXNGdW5jKTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNGdW5jCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5Yqr5oyB5YWo5bGAYWpheAogICAgICAgICAqIEBwYXJhbSBtZXRob2RzIHtvYmplY3R9IOWKq+aMgeeahOaWueazlQogICAgICAgICAqIEByZXR1cm4geyp8bnVtYmVyfSDliqvmjIHnmoRpZAogICAgICAgICAqLwogICAgICAgIGhvb2tBamF4VjI6IGZ1bmN0aW9uIChtZXRob2RzKSB7CiAgICAgICAgICAgIHRoaXMuaG9va0NsYXNzKHdpbmRvdywgJ1hNTEh0dHBSZXF1ZXN0JywgZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHV0aWxzLmVyZ29kaWNPYmplY3QodGhpcywgbWV0aG9kcywgZnVuY3Rpb24gKG1ldGhvZCkgewoKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDop6PpmaTliqvmjIEKICAgICAgICAgKiBAcGFyYW0gY29udGV4dCDkuIrkuIvmlocKICAgICAgICAgKiBAcGFyYW0gbWV0aG9kTmFtZSDmlrnms5XlkI0KICAgICAgICAgKiBAcGFyYW0gaXNEZWVwbHkge2Jvb2xlYW49fSDmmK/lkKbmt7Hluqbop6PpmaRb6buY6K6k5Li6ZmFsc2VdCiAgICAgICAgICogQHBhcmFtIGVxSWQge251bWJlcj19ICDop6PpmaTmjIflrpppZOeahOWKq+aMgVvlj6/pgIldCiAgICAgICAgICovCiAgICAgICAgdW5Ib29rOiBmdW5jdGlvbiAoY29udGV4dCwgbWV0aG9kTmFtZSwgaXNEZWVwbHksIGVxSWQpIHsKICAgICAgICAgICAgaWYgKCFjb250ZXh0W21ldGhvZE5hbWVdIHx8ICF1dGlscy5pc0Z1bmN0aW9uKGNvbnRleHRbbWV0aG9kTmFtZV0pKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIG1ldGhvZFRhc2sgPSB0aGlzLl9nZXRIb29rZWRNZXRob2RUYXNrKGNvbnRleHQsIG1ldGhvZE5hbWUpOwogICAgICAgICAgICBpZiAoZXFJZCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMudW5Ib29rQnlJZChlcUlkKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoIW1ldGhvZFRhc2sub3JpZ2luYWwpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9nZXRIb29rZWRNZXRob2RNYXAoY29udGV4dClbbWV0aG9kTmFtZV07CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY29udGV4dFttZXRob2ROYW1lXSA9IG1ldGhvZFRhc2sub3JpZ2luYWw7CiAgICAgICAgICAgIGlmIChpc0RlZXBseSkgewogICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2dldEhvb2tlZE1ldGhvZE1hcChjb250ZXh0KVttZXRob2ROYW1lXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog6YCa6L+HSWTop6PpmaTliqvmjIEKICAgICAgICAgKiBAcGFyYW0gZXFJZAogICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufQogICAgICAgICAqLwogICAgICAgIHVuSG9va0J5SWQ6IGZ1bmN0aW9uIChlcUlkKSB7CiAgICAgICAgICAgIHZhciBoYXNFcSA9IGZhbHNlOwogICAgICAgICAgICBpZiAoZXFJZCkgewogICAgICAgICAgICAgICAgdmFyIGhvb2tlZE1hcCA9IHRoaXMuX2dldEhvb2tlZE1hcCgpOwogICAgICAgICAgICAgICAgdXRpbHMuZXJnb2RpY09iamVjdCh0aGlzLCBob29rZWRNYXAsIGZ1bmN0aW9uIChjb250ZXh0TWFwKSB7CiAgICAgICAgICAgICAgICAgICAgdXRpbHMuZXJnb2RpY09iamVjdCh0aGlzLCBjb250ZXh0TWFwLCBmdW5jdGlvbiAobWV0aG9kVGFzaykgewogICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RUYXNrLnRhc2suYmVmb3JlID0gbWV0aG9kVGFzay50YXNrLmJlZm9yZS5maWx0ZXIoZnVuY3Rpb24gKGJlZm9yZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXEgPSBoYXNFcSB8fCBiZWZvcmUuaWQgPT09IGVxSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmVmb3JlLmlkICE9PSBlcUlkOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVGFzay50YXNrLmFmdGVyID0gbWV0aG9kVGFzay50YXNrLmFmdGVyLmZpbHRlcihmdW5jdGlvbiAoYWZ0ZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VxID0gaGFzRXEgfHwgYWZ0ZXIuaWQgPT09IGVxSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWZ0ZXIuaWQgIT09IGVxSWQ7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWV0aG9kVGFzay50YXNrLmN1cnJlbnQgJiYgbWV0aG9kVGFzay50YXNrLmN1cnJlbnQuaWQgPT09IGVxSWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFRhc2sudGFzay5jdXJyZW50ID0gdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXEgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXRob2RUYXNrLnJlcGxhY2UgJiYgbWV0aG9kVGFzay5yZXBsYWNlLmlkID09PSBlcUlkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RUYXNrLnJlcGxhY2UgPSB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGhhc0VxOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICogIOenu+mZpOaJgOacieWKq+aMgeebuOWFs+eahOaWueazlQogICAgICAgICAqIEBwYXJhbSBjb250ZXh0IOS4iuS4i+aWhwogICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lIOaWueazleWQjQogICAgICAgICAqLwogICAgICAgIHJlbW92ZUhvb2tNZXRob2Q6IGZ1bmN0aW9uIChjb250ZXh0LCBtZXRob2ROYW1lKSB7CiAgICAgICAgICAgIGlmICghY29udGV4dFttZXRob2ROYW1lXSB8fCAhdXRpbHMuaXNGdW5jdGlvbihjb250ZXh0W21ldGhvZE5hbWVdKSkgewogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuX2dldEhvb2tlZE1ldGhvZE1hcChjb250ZXh0KVttZXRob2ROYW1lXSA9IHsKICAgICAgICAgICAgICAgIG9yaWdpbmFsOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICByZXBsYWNlOiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICB0YXNrOiB7CiAgICAgICAgICAgICAgICAgICAgYmVmb3JlOiBbXSwKICAgICAgICAgICAgICAgICAgICBjdXJyZW50OiB1bmRlZmluZWQsCiAgICAgICAgICAgICAgICAgICAgYWZ0ZXI6IFtdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDliKTmlq3kuIDkuKrmlrnms5XmmK/lkKbooqvliqvmjIHov4cKICAgICAgICAgKiBAcGFyYW0gY29udGV4dAogICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lCiAgICAgICAgICovCiAgICAgICAgaXNIb29rZWQ6IGZ1bmN0aW9uIChjb250ZXh0LCBtZXRob2ROYW1lKSB7CiAgICAgICAgICAgIHZhciBob29rTWFwID0gdGhpcy5fZ2V0SG9va2VkTWFwKGNvbnRleHQpOwogICAgICAgICAgICByZXR1cm4gaG9va01hcFttZXRob2ROYW1lXSAhPT0gdW5kZWZpbmVkID8gKGhvb2tNYXBbbWV0aG9kTmFtZV0ub3JpZ2luYWwgIT09IHVuZGVmaW5lZCkgOiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOS/neaKpOS4gOS4quWvueixoeS9v+S5i+S4jeS8muiiq+evoeaUuQogICAgICAgICAqIEBwYXJhbSBwYXJlbnQKICAgICAgICAgKiBAcGFyYW0gbWV0aG9kTmFtZQogICAgICAgICAqLwogICAgICAgIHByb3RlY3Q6IGZ1bmN0aW9uIChwYXJlbnQsIG1ldGhvZE5hbWUpIHsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcmVudCwgbWV0aG9kTmFtZSwgewogICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOijhei9veaPkuS7tgogICAgICAgICAqIEBwYXJhbSBvcHRpb24KICAgICAgICAgKi8KICAgICAgICBwbHVnaW5zOiBmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKG9wdGlvbi5tb3VudCkpIHsKICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRpb24ubW91bnQuY2FsbCh0aGlzLCB1dGlscyk7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbi5uYW1lID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgIF9nbG9iYWxbb3B0aW9uLm5hbWVdID0gcmVzdWx0OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsKICAgIGlmIChfZ2xvYmFsLmVIb29rICYmIChfZ2xvYmFsLmVIb29rIGluc3RhbmNlb2YgRUhvb2spKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgdmFyIGVIb29rID0gbmV3IEVIb29rKCk7CiAgICB2YXIgQUhvb2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5pc0hvb2tlZCA9IGZhbHNlOwogICAgICAgIHZhciBhdXRvSWQgPSAxOwogICAgICAgIHRoaXMuX3VybERpc3BhdGNoZXJMaXN0ID0gW107CiAgICAgICAgdGhpcy5fZ2V0QXV0b0lkID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gYXV0b0lkKys7CiAgICAgICAgfTsKICAgIH07CiAgICBBSG9vay5wcm90b3R5cGUgPSB7CiAgICAgICAgLyoqCiAgICAgICAgICog5omn6KGM6YWN572u5YiX6KGo5Lit55qE5oyH5a6a5pa55rOV57uECiAgICAgICAgICogQHBhcmFtIHhocgogICAgICAgICAqIEBwYXJhbSBtZXRob2ROYW1lCiAgICAgICAgICogQHBhcmFtIGFyZ3MKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF9pbnZva2VBaW1NZXRob2RzOiBmdW5jdGlvbiAoeGhyLCBtZXRob2ROYW1lLCBhcmdzKSB7CiAgICAgICAgICAgIHZhciBjb25maWdzID0gdXRpbHMucGFyc2VBcnJheUJ5UHJvcGVydHkoeGhyLnBhdGNoZXJMaXN0LCAnY29uZmlnJyk7CiAgICAgICAgICAgIHZhciBtZXRob2RzID0gW107CiAgICAgICAgICAgIHV0aWxzLmVyZ29kaWNBcnJheU9iamVjdCh4aHIsIGNvbmZpZ3MsIGZ1bmN0aW9uIChjb25maWcpIHsKICAgICAgICAgICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKGNvbmZpZ1ttZXRob2ROYW1lXSkpIHsKICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2goY29uZmlnW21ldGhvZE5hbWVdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB1dGlscy5pbnZva2VNZXRob2RzKHhociwgbWV0aG9kcywgYXJncyk7CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDmoLnmja51cmzojrflj5bphY3nva7liJfooagKICAgICAgICAgKiBAcGFyYW0gdXJsCiAgICAgICAgICogQHJldHVybiB7QXJyYXl9CiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICBfdXJsUGF0Y2hlcjogZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICB2YXIgcGF0Y2hlckxpc3QgPSBbXTsKICAgICAgICAgICAgdXRpbHMuZXJnb2RpY0FycmF5T2JqZWN0KHRoaXMsIHRoaXMuX3VybERpc3BhdGNoZXJMaXN0LCBmdW5jdGlvbiAocGF0Y2hlck1hcCwgaSkgewogICAgICAgICAgICAgICAgaWYgKHV0aWxzLlVybFV0aWxzLnVybE1hdGNoaW5nKHVybCwgcGF0Y2hlck1hcC5wYXRjaGVyKSkgewogICAgICAgICAgICAgICAgICAgIHBhdGNoZXJMaXN0LnB1c2gocGF0Y2hlck1hcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gcGF0Y2hlckxpc3Q7CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDmoLnmja54aHLlr7nosaHliIblj5Hlm57osIPor7fmsYIKICAgICAgICAgKiBAcGFyYW0geGhyCiAgICAgICAgICogQHBhcmFtIGZ1bGxVcmwKICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF94aHJEaXNwYXRjaGVyOiBmdW5jdGlvbiAoeGhyLCBmdWxsVXJsKSB7CiAgICAgICAgICAgIHZhciB1cmwgPSB1dGlscy5VcmxVdGlscy5nZXRVcmxXaXRob3V0UGFyYW0oZnVsbFVybCk7CiAgICAgICAgICAgIHhoci5wYXRjaGVyTGlzdCA9IHRoaXMuX3VybFBhdGNoZXIodXJsKTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOi9rOaNouWTjeW6lOS6i+S7tgogICAgICAgICAqIEBwYXJhbSBlCiAgICAgICAgICogQHBhcmFtIHhocgogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgX3BhcnNlRXZlbnQ6IGZ1bmN0aW9uIChlLCB4aHIpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIHsKICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geGhyOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBzcmNFbGVtZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCfph43lrprkuYnov5Tlm57kuovku7blpLHotKXvvIzliqvmjIHlk43lupTlj6/og73lpLHotKUnKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOino+aekG9wZW7mlrnms5XnmoTlj4LmlbAKICAgICAgICAgKiBAcGFyYW0gYXJncwogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgX3BhcnNlT3BlbkFyZ3M6IGZ1bmN0aW9uIChhcmdzKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBtZXRob2Q6IGFyZ3NbMF0sCiAgICAgICAgICAgICAgICBmdWxsVXJsOiBhcmdzWzFdLAogICAgICAgICAgICAgICAgdXJsOiB1dGlscy5VcmxVdGlscy5nZXRVcmxXaXRob3V0UGFyYW0oYXJnc1sxXSksCiAgICAgICAgICAgICAgICBwYXJhbXM6IHV0aWxzLlVybFV0aWxzLmdldFBhcmFtRnJvbVVybChhcmdzWzFdKSwKICAgICAgICAgICAgICAgIGFzeW5jOiBhcmdzWzJdCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDliqvmjIFhamF4IOivt+axguWPguaVsAogICAgICAgICAqIEBwYXJhbSBhcmdzT2JqZWN0CiAgICAgICAgICogQHBhcmFtIGFyZ3NBcnJheQogICAgICAgICAqIEBwcml2YXRlCiAgICAgICAgICovCiAgICAgICAgX3JlYnVpbGRPcGVuQXJnczogZnVuY3Rpb24gKGFyZ3NPYmplY3QsIGFyZ3NBcnJheSkgewogICAgICAgICAgICBhcmdzQXJyYXlbMF0gPSBhcmdzT2JqZWN0Lm1ldGhvZDsKICAgICAgICAgICAgYXJnc0FycmF5WzFdID0gdXRpbHMuVXJsVXRpbHMubWFyZ2VVcmxBbmRQYXJhbXMoYXJnc09iamVjdC51cmwsIGFyZ3NPYmplY3QucGFyYW1zKTsKICAgICAgICAgICAgYXJnc0FycmF5WzJdID0gYXJnc09iamVjdC5hc3luYzsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPluWKq+aMgeaWueazleeahOWPguaVsCBb5Y6f5pa55rOVLOWOn+aWueazleWPguaVsCzljp/mlrnms5Xov5Tlm57lgLxd77yM5YmU6Zmk5Y6f5pa55rOV5Y+C5pWwCiAgICAgICAgICogQHBhcmFtIGFyZ3MKICAgICAgICAgKiBAcmV0dXJuIHsqfEFycmF5LjxUPn0KICAgICAgICAgKiBAcHJpdmF0ZQogICAgICAgICAqLwogICAgICAgIF9nZXRIb29rZWRBcmdzOiBmdW5jdGlvbiAoYXJncykgewogICAgICAgICAgICAvLyDlsIblj4LmlbDkuK0n5Y6f5pa55rOVJ+WJlOmZpAogICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJncywgMCkuc3BsaWNlKDEpOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5ZON5bqU6KKr6Kem5Y+R5pe26LCD55So55qE5pa55rOVCiAgICAgICAgICogQHBhcmFtIG91dGVyWGhyCiAgICAgICAgICogQHBhcmFtIGZ1bmNBcmdzCiAgICAgICAgICogQHByaXZhdGUKICAgICAgICAgKi8KICAgICAgICBfb25SZXNwb25zZTogZnVuY3Rpb24gKG91dGVyWGhyLCBmdW5jQXJncykgewogICAgICAgICAgICAvLyDlm6DkuLrlj4LmlbDmmK/ooqvliqvmjIHnmoTlj4LmlbDkuLpbbWV0aG9kKOWOn+aWueazlSksYXJncyjlj4LmlbApXSzor6Xmlrnms5Xnm7TmjqXojrflj5blj4LmlbDlubbovazmjaLkuLrmlbDnu4QKICAgICAgICAgICAgdmFyIGFyZ3MgPSB0aGlzLl9nZXRIb29rZWRBcmdzKGZ1bmNBcmdzKTsKICAgICAgICAgICAgYXJnc1swXVswXSA9IHRoaXMuX3BhcnNlRXZlbnQoYXJnc1swXVswXSwgb3V0ZXJYaHIueGhyKTsgLy8g5by65Yi25LqL5Lu25oyH5ZCR5aSW6YOoeGhyCiAgICAgICAgICAgIC8vIOaJp+ihjOaJgOacieeahOWQjeS4umhvb2tSZXNwb25zZeeahOaWueazlee7hAogICAgICAgICAgICB2YXIgcmVzdWx0cyA9IHRoaXMuX2ludm9rZUFpbU1ldGhvZHMob3V0ZXJYaHIsICdob29rUmVzcG9uc2UnLCBhcmdzKTsKICAgICAgICAgICAgLy8g6YGN5Y6G57uT5p6c5pWw57uE5bm26I635Y+W5pyA5ZCO6L+U5Zue55qE5pyJ5pWI55qE5YC85L2c5Li65ZON5bqU5YC8CiAgICAgICAgICAgIHZhciByZXN1bHRJbmRleCA9IC0xOwogICAgICAgICAgICB1dGlscy5lcmdvZGljQXJyYXlPYmplY3Qob3V0ZXJYaHIsIHJlc3VsdHMsIGZ1bmN0aW9uIChyZXMsIGkpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHJlc3VsdEluZGV4ID0gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGlmIChyZXN1bHRJbmRleCAhPT0gLTEpIHsKICAgICAgICAgICAgICAgIG91dGVyWGhyLnhoci5yZXNwb25zZVRleHRfID0gb3V0ZXJYaHIueGhyLnJlc3BvbnNlXyA9IHJlc3VsdHNbcmVzdWx0SW5kZXhdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiDmiYvliqjlvIDlp4vliqvmjIEKICAgICAgICAgKi8KICAgICAgICBzdGFydEhvb2s6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgICAgICAgdmFyIG5vcm1hbE1ldGhvZHMgPSB7CiAgICAgICAgICAgICAgICAvLyDmlrnms5XkuK3nmoR0aGlz5oyH5ZCR5YaF6YOoeGhyCiAgICAgICAgICAgICAgICAvLyDmi6bmiKrlk43lupQKICAgICAgICAgICAgICAgIG9ucmVhZHlzdGF0ZWNoYW5nZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0gNCAmJiB0aGlzLnN0YXR1cyA9PSAyMDAgfHwgdGhpcy5zdGF0dXMgPT0gMzA0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vblJlc3BvbnNlKHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzLl9vblJlc3BvbnNlKHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgLy8g5oum5oiq6K+35rGCCiAgICAgICAgICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBfdGhpcy5fZ2V0SG9va2VkQXJncyhhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIHZhciBmdWxsVXJsID0gYXJnc1swXVsxXTsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5feGhyRGlzcGF0Y2hlcih0aGlzLCBmdWxsVXJsKTsKICAgICAgICAgICAgICAgICAgICB2YXIgYXJnc09iamVjdCA9IF90aGlzLl9wYXJzZU9wZW5BcmdzKGFyZ3NbMF0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbkFyZ3MgPSBhcmdzT2JqZWN0OwogICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnZva2VBaW1NZXRob2RzKHRoaXMsICdob29rUmVxdWVzdCcsIFthcmdzT2JqZWN0XSk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3JlYnVpbGRPcGVuQXJncyhhcmdzT2JqZWN0LCBhcmdzWzBdKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBzZW5kOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBfdGhpcy5fZ2V0SG9va2VkQXJncyhhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZEFyZ3MgPSBhcmdzOwogICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnZva2VBaW1NZXRob2RzKHRoaXMsICdob29rU2VuZCcsIGFyZ3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwogICAgICAgICAgICAvLyDorr7nva7mgLvnmoRob29rSWQKICAgICAgICAgICAgdGhpcy5fX19ob29rZWRJZCA9IF9nbG9iYWwuZUhvb2suaG9va0FqYXgobm9ybWFsTWV0aG9kcyk7CiAgICAgICAgICAgIHRoaXMuaXNIb29rZWQgPSB0cnVlOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICog5rOo5YaMYWpheFVybOaLpuaIqgogICAgICAgICAqIEBwYXJhbSB1cmxQYXRjaGVyCiAgICAgICAgICogQHBhcmFtIGNvbmZpZ09yUmVxdWVzdAogICAgICAgICAqIEBwYXJhbSByZXNwb25zZQogICAgICAgICAqIEByZXR1cm4ge251bWJlcn0KICAgICAgICAgKi8KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKHVybFBhdGNoZXIsIGNvbmZpZ09yUmVxdWVzdCwgcmVzcG9uc2UpIHsKICAgICAgICAgICAgaWYgKCF1cmxQYXRjaGVyKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCF1dGlscy5pc0V4aXN0T2JqZWN0KGNvbmZpZ09yUmVxdWVzdCkgJiYgIXV0aWxzLmlzRnVuY3Rpb24ocmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHt9OwogICAgICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihjb25maWdPclJlcXVlc3QpKSB7CiAgICAgICAgICAgICAgICBjb25maWcuaG9va1JlcXVlc3QgPSBjb25maWdPclJlcXVlc3Q7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocmVzcG9uc2UpKSB7CiAgICAgICAgICAgICAgICBjb25maWcuaG9va1Jlc3BvbnNlID0gcmVzcG9uc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRXhpc3RPYmplY3QoY29uZmlnT3JSZXF1ZXN0KSkgewogICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnT3JSZXF1ZXN0OwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuX2dldEF1dG9JZCgpOwogICAgICAgICAgICB0aGlzLl91cmxEaXNwYXRjaGVyTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIC8vIOaMh+Wummlk5L6/5LqO5ZCO57ut5Y+W5raICiAgICAgICAgICAgICAgICBpZDogaWQsCiAgICAgICAgICAgICAgICBwYXRjaGVyOiB1cmxQYXRjaGVyLAogICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWcKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOW9k+azqOWGjOS4gOS4qnJlZ2lzdGVy5pe277yM6Ieq5Yqo5byA5aeL6L+Q6KGM5Yqr5oyBCiAgICAgICAgICAgIGlmICghdGhpcy5pc0hvb2tlZCkgewogICAgICAgICAgICAgICAgdGhpcy5zdGFydEhvb2soKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gaWQ7CiAgICAgICAgfQogICAgICAgIC8vIHRvZG8g5rOo6ZSAICBjYW5jZWxsYXRpb246IGZ1bmN0aW9uIChyZWdpc3RlcklkKXt9OwogICAgfTsKCiAgICBfZ2xvYmFsWydlSG9vayddID0gZUhvb2s7CiAgICBfZ2xvYmFsWydhSG9vayddID0gbmV3IEFIb29rKCk7Cgp9LmJpbmQod2luZG93KSgKICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHV0aWxzID0ge307CiAgICAgICAgaWYgKHdpbmRvdy5ldmVyeVV0aWxzKSB7CiAgICAgICAgICAgIHdpbmRvdy5ldmVyeVV0aWxzKGZ1bmN0aW9uICgKICAgICAgICAgICAgICAgIEFycmF5VXRpbHMsCiAgICAgICAgICAgICAgICBPYmplY3RVdGlscywKICAgICAgICAgICAgICAgIEJhc2VVdGlscywKICAgICAgICAgICAgICAgIEZ1bmN0aW9uVXRpbHMsCiAgICAgICAgICAgICAgICBDb2xvclV0aWxzLAogICAgICAgICAgICAgICAgVXJsVXRpbHMpIHsKICAgICAgICAgICAgICAgIHV0aWxzID0gewogICAgICAgICAgICAgICAgICAgIEFycmF5VXRpbHM6IEFycmF5VXRpbHMsCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0VXRpbHM6IE9iamVjdFV0aWxzLAogICAgICAgICAgICAgICAgICAgIEJhc2VVdGlsczogQmFzZVV0aWxzLAogICAgICAgICAgICAgICAgICAgIENvbG9yVXRpbHM6IENvbG9yVXRpbHMsCiAgICAgICAgICAgICAgICAgICAgVXJsVXRpbHM6IFVybFV0aWxzLAogICAgICAgICAgICAgICAgICAgIHVybFV0aWxzOiBVcmxVdGlscywKICAgICAgICAgICAgICAgICAgICBGdW5jdGlvblV0aWxzOiBGdW5jdGlvblV0aWxzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdmFyIHByb3h5ID0ge307CiAgICAgICAgT2JqZWN0LmtleXModXRpbHMpLmZvckVhY2goZnVuY3Rpb24gKHV0aWxOYW1lKSB7CiAgICAgICAgICAgIGlmICghdXRpbE5hbWUpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIHV0aWxOYW1lLCB7CiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHNbdXRpbE5hbWVdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgT2JqZWN0LmtleXModXRpbHNbdXRpbE5hbWVdKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgICAgICAgIGlmICgha2V5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHByb3h5W2tleV0pIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJveHksIGtleSwgewogICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHNbdXRpbE5hbWVdW2tleV07CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gcHJveHk7CiAgICB9KSgpCik7"}]},{"name":"网页限制解除(改)","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://*/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":["*www.bilibili.com/video*","*www.bilibili.com/bangumi*","*www.panda.tv*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"data":{"rwl_userData":"o{\"status\":1,\"version\":0.1,\"message\":\"啦啦啦,啦啦啦,我是卖报的小行家\",\"positionTop\":0,\"positionLeft\":0,\"positionRight\":\"auto\",\"addBtn\":true,\"connectToTheServer\":true,\"waitUpload\":[],\"currentURL\":\"null\",\"rules\":{\"rule_def\":{\"name\":\"default\",\"hook_eventNames\":\"contextmenu|select|selectstart|copy|cut|dragstart|mousemove|beforeunload\",\"unhook_eventNames\":\"mousedown|mouseup|keydown|keyup\",\"dom0\":true,\"hook_addEventListener\":true,\"hook_preventDefault\":true,\"hook_set_returnValue\":true,\"add_css\":true},\"rule_plus\":{\"name\":\"default\",\"hook_eventNames\":\"contextmenu|select|selectstart|copy|cut|dragstart|mousedown|mouseup|mousemove|beforeunload\",\"unhook_eventNames\":\"keydown|keyup\",\"dom0\":true,\"hook_addEventListener\":true,\"hook_preventDefault\":true,\"hook_set_returnValue\":true,\"add_css\":true},\"rule_zhihu\":{\"name\":\"default\",\"hook_eventNames\":\"contextmenu|select|selectstart|copy|cut|dragstart|mousemove\",\"unhook_eventNames\":\"keydown|keyup\",\"dom0\":true,\"hook_addEventListener\":true,\"hook_preventDefault\":true,\"hook_set_returnValue\":true,\"add_css\":true}},\"data\":[\"b.faloo.com\",\"bbs.coocaa.com\",\"book.hjsm.tom.com\",\"book.zhulang.com\",\"book.zongheng.com\",\"chokstick.com\",\"chuangshi.qq.com\",\"city.udn.com\",\"cutelisa55.pixnet.net\",\"huayu.baidu.com\",\"imac.hk\",\"life.tw\",\"luxmuscles.com\",\"news.missevan.com\",\"read.qidian.com\",\"www.15yan.com\",\"www.17k.com\",\"www.18183.com\",\"www.360doc.com\",\"www.coco01.net\",\"www.eyu.com\",\"www.hongshu.com\",\"www.hongxiu.com\",\"www.imooc.com\",\"www.jjwxc.net\",\"www.readnovel.com\",\"www.tadu.com\",\"www.xxsy.net\",\"www.z3z4.com\",\"www.zhihu.com\",\"yuedu.163.com\",\"www.ppkao.com\",\"movie.douban.com\",\"www.ruiwen.com\",\"vipreader.qidian.com\",\"www.pigai.org\",\"www.shangc.net\",\"www.sdifen.com\"]}"},"ts":1574751670197},"enabled":false,"position":8,"file_url":"https://greasyfork.org/scripts/28497-remove-web-limits-modified/code/Remove%20web%20limits(modified).user.js","uuid":"949d7836-d117-4271-8328-c1fb31f8960a","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWVzcGFjZSAgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtQ04vdXNlcnMvMTA2MjIyLXF4aW4taQoKLy8gQG5hbWUgICAgICAgICAgICAgIOe9kemhtemZkOWItuino+mZpCjmlLkpCi8vIEBuYW1lOmVuICAgICAgICAgICBSZW1vdmUgd2ViIGxpbWl0cyhtb2RpZmllZCkKLy8gQG5hbWU6emggICAgICAgICAgIOe9kemhtemZkOWItuino+mZpCjmlLkpCi8vIEBuYW1lOnpoLUNOICAgICAgICDnvZHpobXpmZDliLbop6PpmaQo5pS5KQovLyBAbmFtZTpqYSAgICAgICAgICAg44Km44Kn44OW44Gu6KaP5Yi257ep5ZKMKOWkieabtCkKCi8vIEBhdXRob3IgICAgICAgICAgICBDYXQ3MyAmIGlxeGluKOS/ruaUuSkgCi8vIEBjb250cmlidXRvciAgICAgICBpcXhpbgoKLy8gQGRlc2NyaXB0aW9uICAgICAgIOmAmuadgOWkp+mDqOWIhue9keermSzlj6/ku6Xop6PpmaTnpoHmraLlpI3liLbjgIHliarliIfjgIHpgInmi6nmlofmnKzjgIHlj7PplK7oj5zljZXnmoTpmZDliLbjgILljp/kvZzogIVjYXQ3Myzlm6DkuLrlkozmkJzntKLot7PovazohJrmnKzlhrLnqoEs6YGC6L+b6KGM5LqG5pS55YqoLOaUueS4uum7keWQjeWNleWItuOAggovLyBAZGVzY3JpcHRpb246ZW4gICAgUGFzcyB0byBraWxsIG1vc3Qgb2YgdGhlIHNpdGUsIHlvdSBjYW4gbGlmdCB0aGUgcmVzdHJpY3Rpb25zIHByb2hpYml0ZWQgdG8gY29weSwgY3V0LCBzZWxlY3QgdGhlIHRleHQsIHJpZ2h0LWNsaWNrIG1lbnUucmV2aXNlZCB2ZXJzaW9uCi8vIEBkZXNjcmlwdGlvbjp6aCAgICDpgJrmnYDlpKfpg6jliIbnvZHnq5ks5Y+v5Lul6Kej6Zmk56aB5q2i5aSN5Yi244CB5Ymq5YiH44CB6YCJ5oup5paH5pys44CB5Y+z6ZSu6I+c5Y2V55qE6ZmQ5Yi244CC5Y6f5L2c6ICFY2F0NzMs5Zug5Li65ZKM5pCc57Si6Lez6L2s6ISa5pys5Yay56qBLOmBgui/m+ihjOS6huaUueWKqCzmlLnkuLrpu5HlkI3ljZXliLbjgIIKLy8gQGRlc2NyaXB0aW9uOnpoLUNOIOmAmuadgOWkp+mDqOWIhue9keermSzlj6/ku6Xop6PpmaTnpoHmraLlpI3liLbjgIHliarliIfjgIHpgInmi6nmlofmnKzjgIHlj7PplK7oj5zljZXnmoTpmZDliLbjgILljp/kvZzogIVjYXQ3Myzlm6DkuLrlkozmkJzntKLot7PovazohJrmnKzlhrLnqoEs6YGC6L+b6KGM5LqG5pS55YqoLOaUueS4uum7keWQjeWNleWItuOAggovLyBAZGVzY3JpcHRpb246emgtVFcg6YCa5q665aSn6YOo5YiG57ay56uZLOWPr+S7peino+mZpOemgeatouW+qeWItuOAgeWJquWIh+OAgemBuOaTh+aWh+acrOOAgeWPs+mNteiPnOWWrueahOmZkOWItuOAggovLyBAZGVzY3JpcHRpb246amEgICAg44K144Kk44OI44Gu44G744Go44KT44Gp44KS5q6644GZ44Gf44KB44Gr5rih44GX44CB44GC44Gq44Gf44Gv44CB44Kz44OU44O85YiH44KK5Y+W44KK44CB44OG44Kt44K544OI44CB5Y+z44Kv44Oq44OD44Kv44Oh44OL44Ol44O844KS6YG45oqe44GZ44KL44GT44Go44Gv56aB5q2i44Gu5Yi26ZmQ44KS6Kej6Zmk44GZ44KL44GT44Go44GM44Gn44GN44G+44GZ44CCCgovLyBAZGVzY3JpcHRpb24gICAgICAg5Y6f5L2c6ICFaHR0cHM6Ly93d3cuZ2l0aHViLmNvbS9DYXQ3MzczLyzlm6DkuLrlkozmkJzntKLot7PovazohJrmnKzlhrLnqoEs6YGC6L+b6KGM5LqG5pS55YqoCi8vIEBob21lcGFnZVVSTCAgICAgICBodHRwczovL2NhdDczNzMuZ2l0aHViLmlvL3JlbW92ZS13ZWItbGltaXRzLwovLyBAc3VwcG9ydFVSTCAgICAgICAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzI4NDk3CgovLyBAaWNvbiAgICAgICAgICAgICAgIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBUUFBQURaYzdKL0FBQUJwRWxFUVZSNG5PM1Z2MnVVUVJERzhjL2ViU01XcWF5MHRyQVRBeHJVU2kxUzJBaVdGb0pZcE5DZ29CalVSc0hXSktlTlJmQXZzRGdGaXhRcUtkUFoyVmlFaUNKWUJPUXU4ZjFoRVhPNTk3MTNqN01VZkxaNmQyYS9POHZNTzBPekRuaW45S3UyTWp2dWF3MDd4Z1NBWUVWWGUyaW5kTWhqOTJ6cEtKTG5CaEY4TURleWU5aG42emJONzBlUmlxQ3cwMkJyYTN1cDhCQkx1MUZFQnhzQnVjWHFXNGNzejBVTGU0am9yU0NNdVBVODlib1JFTERNSGlJNlk4VjY1YmJDVVRjY2M3MFJrYU93S0xPZzBJa3lYYTlxVGpPdTJMQXM2Tlp1RDg2aHJkVHl4Uk5Ua1VxcWRoWGxIcm5nR1JWRVpzTXBKd2V4OUR4SVpTSFljbGVzSWI2NUxDb0hnSXM2NlVKcTZidERCWkhaclBoOFY2WUJPWDY2TGJPa1RHY2tCWWltQlcyRlZUTmV1T1pOeXJGSjIzNllsNE5TeTVTYlZtMVBEdmhvZHFneU1sZWRUZFJsQXREenFmTDl0Zmt3VXR5YVJrdjlMd0ZqOUIvdzd3UHljWE9ocWxKMHlaSEtQQ2hNaTVNQ2lNNDdYaHNvcGJWSkFVSGZyWWJtTi9FVG9OKzAyZUxQZno5T1l5WmhGSnpXMUpuM2xUc3hhS1FqQ2twNTJqeTQ1cjFadlNiVGI5TTBkNFBCb3pHWkFBQUFBRWxGVGtTdVFtQ0MKCi8vIEB2ZXJzaW9uICAgICAgICAgICA0LjEuNAovLyBAbGljZW5zZSAgICAgICAgICAgTEdQTHYzCgovLyBAY29tcGF0aWJsZSAgICAgICAgY2hyb21lIENocm9tZV80Ni4wLjI0OTAuODYgKyBUYW1wZXJNb25rZXkgKyDohJrmnKxfMS4zIOa1i+ivlemAmui/hwovLyBAY29tcGF0aWJsZSAgICAgICAgZmlyZWZveCBGaXJlZm94XzQyLjAgKyBHcmVhc2VNb25rZXkgKyDohJrmnKxfMS4yLjEg5rWL6K+V6YCa6L+HCi8vIEBjb21wYXRpYmxlICAgICAgICBvcGVyYSBPcGVyYV8zMy4wLjE5OTAuMTE1ICsgVGFtcGVyTW9ua2V5ICsg6ISa5pysXzEuMS4zIOa1i+ivlemAmui/hwovLyBAY29tcGF0aWJsZSAgICAgICAgc2FmYXJpIOacqua1i+ivlQoKLy8gQG1hdGNoICAgICAgICAgICAgICo6Ly8qLyoKLy8gQGV4Y2x1ZGUgICAgICAgICp3d3cuYmlsaWJpbGkuY29tL3ZpZGVvKgovLyBAZXhjbHVkZSAgICAgICAgKnd3dy5iaWxpYmlsaS5jb20vYmFuZ3VtaSoKLy8gQGV4Y2x1ZGUgICAgICAgICp3d3cucGFuZGEudHYqCgovLyBAY29ubmVjdCAgICAgZWVtbS5tZQovLyBAZ3JhbnQgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgR01fZGVsZXRlVmFsdWUKLy8gQGdyYW50ICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBncmFudCAgICAgICBHTV9zZXRDbGlwYm9hcmQKLy8gQHJ1bi1hdCAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKSB7CiAgICAndXNlIHN0cmljdCc7CgogICAgdmFyIHNldHRpbmdEYXRhID0gewogICAgICAgICJzdGF0dXMiOjEsCiAgICAgICAgInZlcnNpb24iIDogMC4xLAogICAgICAgICJtZXNzYWdlIiA6ICLllabllabllaYs5ZWm5ZWm5ZWmLOaIkeaYr+WNluaKpeeahOWwj+ihjOWutiIsCiAgICAgICAgLy8gInBvc2l0aW9uIiA6IFsiMCIsIjAiLCJhdXRvIl0sCiAgICAgICAgInBvc2l0aW9uVG9wIjoiMCIsCiAgICAgICAgInBvc2l0aW9uTGVmdCI6IjAiLAogICAgICAgICJwb3NpdGlvblJpZ2h0IjoiYXV0byIsCiAgICAgICAgImFkZEJ0biIgOiB0cnVlLAogICAgICAgICJjb25uZWN0VG9UaGVTZXJ2ZXIiIDogdHJ1ZSwKICAgICAgICAid2FpdFVwbG9hZCI6W10sCiAgICAgICAgImN1cnJlbnRVUkwiOiJudWxsIiwKICAgICAgICAvLyDln5/lkI3op4TliJnliJfooagKICAgICAgICAicnVsZXMiIDogewogICAgICAgICAgICAicnVsZV9kZWYiOiB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJkZWZhdWx0IiwKICAgICAgICAgICAgICAgICJob29rX2V2ZW50TmFtZXMiOiAiY29udGV4dG1lbnV8c2VsZWN0fHNlbGVjdHN0YXJ0fGNvcHl8Y3V0fGRyYWdzdGFydHxtb3VzZW1vdmV8YmVmb3JldW5sb2FkIiwKICAgICAgICAgICAgICAgICJ1bmhvb2tfZXZlbnROYW1lcyI6ICJtb3VzZWRvd258bW91c2V1cHxrZXlkb3dufGtleXVwIiwKICAgICAgICAgICAgICAgICJkb20wIjogdHJ1ZSwKICAgICAgICAgICAgICAgICJob29rX2FkZEV2ZW50TGlzdGVuZXIiOiB0cnVlLAogICAgICAgICAgICAgICAgImhvb2tfcHJldmVudERlZmF1bHQiOiB0cnVlLAogICAgICAgICAgICAgICAgImhvb2tfc2V0X3JldHVyblZhbHVlIjogdHJ1ZSwKICAgICAgICAgICAgICAgICJhZGRfY3NzIjogdHJ1ZQogICAgICAgICAgICB9LAogICAgICAgICAgICAicnVsZV9wbHVzIjogewogICAgICAgICAgICAgICAgIm5hbWUiOiAiZGVmYXVsdCIsCiAgICAgICAgICAgICAgICAiaG9va19ldmVudE5hbWVzIjogImNvbnRleHRtZW51fHNlbGVjdHxzZWxlY3RzdGFydHxjb3B5fGN1dHxkcmFnc3RhcnR8bW91c2Vkb3dufG1vdXNldXB8bW91c2Vtb3ZlfGJlZm9yZXVubG9hZCIsCiAgICAgICAgICAgICAgICAidW5ob29rX2V2ZW50TmFtZXMiOiAia2V5ZG93bnxrZXl1cCIsCiAgICAgICAgICAgICAgICAiZG9tMCI6IHRydWUsCiAgICAgICAgICAgICAgICAiaG9va19hZGRFdmVudExpc3RlbmVyIjogdHJ1ZSwKICAgICAgICAgICAgICAgICJob29rX3ByZXZlbnREZWZhdWx0IjogdHJ1ZSwKICAgICAgICAgICAgICAgICJob29rX3NldF9yZXR1cm5WYWx1ZSI6IHRydWUsCiAgICAgICAgICAgICAgICAiYWRkX2NzcyI6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgInJ1bGVfemhpaHUiOiB7CiAgICAgICAgICAgICAgICAibmFtZSI6ICJkZWZhdWx0IiwKICAgICAgICAgICAgICAgICJob29rX2V2ZW50TmFtZXMiOiAiY29udGV4dG1lbnV8c2VsZWN0fHNlbGVjdHN0YXJ0fGNvcHl8Y3V0fGRyYWdzdGFydHxtb3VzZW1vdmUiLAogICAgICAgICAgICAgICAgInVuaG9va19ldmVudE5hbWVzIjogImtleWRvd258a2V5dXAiLAogICAgICAgICAgICAgICAgImRvbTAiOiB0cnVlLAogICAgICAgICAgICAgICAgImhvb2tfYWRkRXZlbnRMaXN0ZW5lciI6IHRydWUsCiAgICAgICAgICAgICAgICAiaG9va19wcmV2ZW50RGVmYXVsdCI6IHRydWUsCiAgICAgICAgICAgICAgICAiaG9va19zZXRfcmV0dXJuVmFsdWUiOiB0cnVlLAogICAgICAgICAgICAgICAgImFkZF9jc3MiOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgICJkYXRhIjogWwogICAgICAgICAgICAiYi5mYWxvby5jb20iLAogICAgICAgICAgICAiYmJzLmNvb2NhYS5jb20iLAogICAgICAgICAgICAiYm9vay5oanNtLnRvbS5jb20iLAogICAgICAgICAgICAiYm9vay56aHVsYW5nLmNvbSIsCiAgICAgICAgICAgICJib29rLnpvbmdoZW5nLmNvbSIsCiAgICAgICAgICAgICJjaG9rc3RpY2suY29tIiwKICAgICAgICAgICAgImNodWFuZ3NoaS5xcS5jb20iLAogICAgICAgICAgICAiY2l0eS51ZG4uY29tIiwKICAgICAgICAgICAgImN1dGVsaXNhNTUucGl4bmV0Lm5ldCIsCiAgICAgICAgICAgICJodWF5dS5iYWlkdS5jb20iLAogICAgICAgICAgICAiaW1hYy5oayIsCiAgICAgICAgICAgICJsaWZlLnR3IiwKICAgICAgICAgICAgImx1eG11c2NsZXMuY29tIiwKICAgICAgICAgICAgIm5ld3MubWlzc2V2YW4uY29tIiwKICAgICAgICAgICAgInJlYWQucWlkaWFuLmNvbSIsCiAgICAgICAgICAgICJ3d3cuMTV5YW4uY29tIiwKICAgICAgICAgICAgInd3dy4xN2suY29tIiwKICAgICAgICAgICAgInd3dy4xODE4My5jb20iLAogICAgICAgICAgICAid3d3LjM2MGRvYy5jb20iLAogICAgICAgICAgICAid3d3LmNvY28wMS5uZXQiLAogICAgICAgICAgICAid3d3LmV5dS5jb20iLAogICAgICAgICAgICAid3d3LmhvbmdzaHUuY29tIiwKICAgICAgICAgICAgInd3dy5ob25neGl1LmNvbSIsCiAgICAgICAgICAgICJ3d3cuaW1vb2MuY29tIiwKICAgICAgICAgICAgInd3dy5qand4Yy5uZXQiLAogICAgICAgICAgICAid3d3LnJlYWRub3ZlbC5jb20iLAogICAgICAgICAgICAid3d3LnRhZHUuY29tIiwKICAgICAgICAgICAgInd3dy54eHN5Lm5ldCIsCiAgICAgICAgICAgICJ3d3cuejN6NC5jb20iLAogICAgICAgICAgICAid3d3LnpoaWh1LmNvbSIsCiAgICAgICAgICAgICJ5dWVkdS4xNjMuY29tIiwKICAgICAgICAgICAgInd3dy5wcGthby5jb20iLAogICAgICAgICAgICAibW92aWUuZG91YmFuLmNvbSIsCiAgICAgICAgICAgICJ3d3cucnVpd2VuLmNvbSIsCiAgICAgICAgICAgICJ2aXByZWFkZXIucWlkaWFuLmNvbSIsCiAgICAgICAgICAgICJ3d3cucGlnYWkub3JnIiwKICAgICAgICAgICAgInd3dy5zaGFuZ2MubmV0IiwKICAgICAgICAgICAgInd3dy5zZGlmZW4uY29tIgogICAgICAgIF0KICAgIH0KCiAgICB2YXIgcndsX3VzZXJEYXRhID0gbnVsbDsKICAgIHZhciBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKICAgIHZhciBidG5fbm9kZSA9IG51bGw7ICAgCiAgICB2YXIgcnVsZSA9IG51bGw7CiAgICB2YXIgbGlzdCA9IG51bGw7CiAgICAKICAgIC8vIOWCqOWtmOWQjeensAogICAgdmFyIHN0b3JhZ2VOYW1lID0gImlxeGluU3RvcmFnZU5hbWUiOwogICAgLy8g6KaB5aSE55CG55qEIGV2ZW50IOWIl+ihqAogICAgdmFyIGhvb2tfZXZlbnROYW1lcywgdW5ob29rX2V2ZW50TmFtZXMsIGV2ZW50TmFtZXM7CiAgICAvLyDlgqjlrZjooqsgSG9vayDnmoTlh73mlbAKICAgIHZhciBFdmVudFRhcmdldF9hZGRFdmVudExpc3RlbmVyID0gRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI7CiAgICB2YXIgZG9jdW1lbnRfYWRkRXZlbnRMaXN0ZW5lciA9IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXI7CiAgICB2YXIgRXZlbnRfcHJldmVudERlZmF1bHQgPSBFdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7CgoKICAgIC8vIOafpeeci+acrOWcsOaYr+WQpuWtmOWcqOaXp+aVsOaNrgogICAgcndsX3VzZXJEYXRhID0gR01fZ2V0VmFsdWUoInJ3bF91c2VyRGF0YSIpOwogICAgaWYoIXJ3bF91c2VyRGF0YSl7CiAgICAgICAgcndsX3VzZXJEYXRhID0gc2V0dGluZ0RhdGEKICAgICAgICAvLyBHTV9zZXRWYWx1ZSgicndsX3VzZXJEYXRhIixyd2xfdXNlckRhdGEpOwogICAgfQoKICAgIHZlcnNpb25fdXBfM190b180KCk7CgogICAgLy8g6I635Y+W6buR5ZCN5Y2V572R56uZCiAgICBsaXN0ID0gZ2V0X2JsYWNrX2xpc3QoKTsKCiAgICAvLyDmt7vliqDmjInpkq4KICAgIGlmKHJ3bF91c2VyRGF0YS5hZGRCdG4pewogICAgICAgIGFkZEJ0bigpOyAgLy8g5re75YqgCiAgICAgICAgYnRuX25vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYmxhY2tfbm9kZSIpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGRyYWdCdG4oKQogICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCJkcmFnQnRu5Ye95pWwIOaKpemUmSIpOwogICAgICAgICAgICB9CiAgICAgICAgfSwxMDAwKQogICAgICAgIC8vIGRyYWdCdG4oKTsgIC8vIOWinuWKoOaLluWKqOS6i+S7tgogICAgfQoKICAgIC8vIOajgOafpeaYr+WQpuWcqOm7keWQjeWNleS4rQogICAgaWYoY2hlY2tfYmxhY2tfbGlzdChsaXN0LGhvc3RuYW1lKSl7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgaWYocndsX3VzZXJEYXRhLmFkZEJ0bil7CiAgICAgICAgICAgICAgICBidG5fbm9kZS5jaGVja2VkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgY29uc29sZS5lcnJvcigi6ISa5pyscndsLemUmeivr++8mlxuIGJ0bl9ub2RlIDogJXNcbiVzXG7ohJrmnKxyd2wt6ZSZ6K+v5L2N572u77yaIGJ0bl9ub2RlLmNoZWNrZWQgPSB0cnVlOyIsYnRuX25vZGUsZSk7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgaW5pdCgpOwogICAgICAgIH0KICAgIH0KCgogICAgLy8gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t5Ye95pWwIGZ1bmMKCiAgICAvL+a3u+WKoOaMiemSriBmdW5jCiAgICBmdW5jdGlvbiBhZGRCdG4oKXsKICAgICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInJlbW92ZS13ZWItbGltaXRzLWlxeGluIik7CiAgICAgICAgbm9kZS5pZCA9ICJyd2wtaXF4aW4iOwogICAgICAgIG5vZGUuY2xhc3NOYW1lID0gInJ3bC1leGVtcHQiOwoKICAgICAgICAvLyDlho3mrKHmiZPlvIDnqpflj6PlsI/kuo7kuYvliY3nqpflj6PnmoTmg4XlhrUs5a+86Ie05oyJ6ZKu5Ye6546w5Zyo5Y+v6KeG56qX5Y+j5LmL5aSWCiAgICAgICAgdmFyIHNjcmVlbkNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7CiAgICAgICAgdmFyIHRlbXBIZWlnaHQ7CiAgICAgICAgaWYgKHJ3bF91c2VyRGF0YS5wb3NpdGlvblRvcD5zY3JlZW5DbGllbnRIZWlnaHQpewogICAgICAgICAgICB0ZW1wSGVpZ2h0ICA9IHNjcmVlbkNsaWVudEhlaWdodCAtNDA7CiAgICAgICAgfSBlbHNlewogICAgICAgICAgICB0ZW1wSGVpZ2h0ID0gcndsX3VzZXJEYXRhLnBvc2l0aW9uVG9wOwogICAgICAgIH0KICAgICAgICAvLyDmlLnlj5jnqpflj6PlpKflsI/nmoTmg4XlhrUKICAgICAgICB3aW5kb3cub25yZXNpemU9ZnVuY3Rpb24oKXsgIAogICAgICAgICAgICB2YXIgc2NyZWVuQ2xpZW50SGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICAgICAgdmFyIHRlbXBIZWlnaHQ7CgogICAgICAgICAgICBpZiAocndsX3VzZXJEYXRhLnBvc2l0aW9uVG9wPnNjcmVlbkNsaWVudEhlaWdodCl7CiAgICAgICAgICAgICAgICAgICAgdGVtcEhlaWdodCAgPSBzY3JlZW5DbGllbnRIZWlnaHQgLTQwOwogICAgICAgICAgICB9IGVsc2V7CiAgICAgICAgICAgICAgICB0ZW1wSGVpZ2h0ID0gcndsX3VzZXJEYXRhLnBvc2l0aW9uVG9wOwogICAgICAgICAgICB9CgogICAgICAgICAgICBub2RlLnN0eWxlLnRvcCA9ICB0ZW1wSGVpZ2h0ICsgInB4IjsKICAgICAgICB9CgogICAgICAgIHRlbXBIZWlnaHQgPSB0ZW1wSGVpZ2h0PDA/MDp0ZW1wSGVpZ2h0CiAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gInBvc2l0aW9uOmZpeGVkO3RvcDoiK3RlbXBIZWlnaHQrInB4O2xlZnQ6Iityd2xfdXNlckRhdGEucG9zaXRpb25MZWZ0KyJweDtyaWdodDoiK3J3bF91c2VyRGF0YS5wb3NpdGlvblJpZ2h0KyJweDsiOwogICAgICAgIC8vIG5vZGUuaW5uZXJIVE1MID0gJzxsYWJlbD48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9IiIgaWQ9ImJsYWNrX25vZGUiPum7keWQjeWNlTwvbGFiZWw+PGJ1dHRvbiBpZD0iZGVsZXRlIj5kZWxldGU8L2J0dG9uPic7CiAgICAgICAgLy8gbm9kZS5pbm5lckhUTUwgPSAnPGxhYmVsPumZkOWItuino+mZpCA8aW5wdXQgdHlwZT0iY2hlY2tib3giICBuYW1lPSIiIGlkPSJibGFja19ub2RlIj48L2xhYmVsPic7CiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSAnPGJ1dHRvbiB0eXBlPSJidXR0b24iIGlkPSJyd2wtc2V0YnRuIj4gc2V0IDwvYnV0dG9uPiA8bGFsYWxhIHN0eWxlPSJjdXJzb3I6bW92ZTsiPumZkOWItuino+mZpDwvbGFsYWxhPiA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9IiIgaWQ9ImJsYWNrX25vZGUiID4nOwogICAgICAgIGlmKHdpbmRvdy5zZWxmID09PSB3aW5kb3cudG9wKXsKICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKSl7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKG5vZGUpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VvdmVyIixmdW5jdGlvbigpewogICAgICAgICAgICBub2RlLmNsYXNzTGlzdC5hZGQoInJ3bC1hY3RpdmUtaXF4aW4iKTsKICAgICAgICB9KTsKICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgicndsLWFjdGl2ZS1pcXhpbiIpOwogICAgICAgICAgICAgICAgYmxhY2tfY2hlY2soYmxhY2tfbm9kZS5jaGVja2VkKTsKICAgICAgICAgICAgfSwxMDApCiAgICAgICAgfSk7CgogICAgICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7CiAgICAgICAgc3R5bGUudHlwZT0idGV4dC9jc3MiOwogICAgICAgIHN0eWxlLmlubmVySFRNTCA9ICAiI3J3bC1pcXhpbnsiICsKICAgICAgICAgICAgICAgICJwb3NpdGlvbjpmaXhlZDsiICsKICAgICAgICAgICAgICAgIC8vICJ0b3A6MDsiICsKICAgICAgICAgICAgICAgIC8vICJsZWZ0OjBweDsiICsKICAgICAgICAgICAgICAgICJ0cmFuc2Zvcm06dHJhbnNsYXRlKC05MHB4LDApOyIgKwogICAgICAgICAgICAgICAgIndpZHRoOjg1cHg7IiArCiAgICAgICAgICAgICAgICAiaGVpZ2h0OjI1cHg7IiArCiAgICAgICAgICAgICAgICAiZm9udC1zaXplOjEycHg7IiArCiAgICAgICAgICAgICAgICAiZm9udC13ZWlnaHQ6IDUwMDsiICsKICAgICAgICAgICAgICAgICJmb250LWZhbWlseTpWZXJkYW5hLCBBcmlhbCwgJ+Wui+S9kyc7IiArCiAgICAgICAgICAgICAgICAiY29sb3I6I2ZmZjsiICsKICAgICAgICAgICAgICAgICJiYWNrZ3JvdW5kOiMzMzM7IiArCiAgICAgICAgICAgICAgICAiei1pbmRleDoyMTQ3NDgzNjQ3OyIgKwogICAgICAgICAgICAgICAgIm1hcmdpbjogMDsiICsKICAgICAgICAgICAgICAgICJvcGFjaXR5OjAuMDU7IiArCiAgICAgICAgICAgICAgICAidHJhbnNpdGlvbjowLjNzOyIgKwogICAgICAgICAgICAgICAgIm92ZXJmbG93OmhpZGRlbjsiICsKICAgICAgICAgICAgICAgICJ1c2VyLXNlbGVjdDpub25lOyIgKwogICAgICAgICAgICAgICAgInRleHQtYWxpZ246Y2VudGVyOyIgKwogICAgICAgICAgICAgICAgIndoaXRlLXNwYWNlOm5vd3JhcDsiICsKICAgICAgICAgICAgICAgICJsaW5lLWhlaWdodDoyNXB4OyIgKwogICAgICAgICAgICAgICAgInBhZGRpbmc6MCAxNnB4OyIgKwogICAgICAgICAgICAgICAgImJvcmRlcjoxcHggc29saWQgI2NjYzsiICsKICAgICAgICAgICAgICAgICJib3JkZXItd2lkdGg6MXB4IDFweCAxcHggMDsiICsKICAgICAgICAgICAgICAgICJib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHg7IiArCiAgICAgICAgICAgICAgICAiYm94LXNpemluZzogY29udGVudC1ib3g7IiArCiAgICAgICAgICAgICJ9IiArCiAgICAgICAgICAgICIjcndsLWlxeGluIGlucHV0eyIgKwogICAgICAgICAgICAgICAgIm1hcmdpbjogMDsiICsKICAgICAgICAgICAgICAgICJwYWRkaW5nOiAwOyIgKwogICAgICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduOm1pZGRsZTsiICsKICAgICAgICAgICAgICAgICItd2Via2l0LWFwcGVhcmFuY2U6Y2hlY2tib3g7IiArCiAgICAgICAgICAgICAgICAiLW1vei1hcHBlYXJhbmNlOmNoZWNrYm94OyIgKwogICAgICAgICAgICAgICAgInBvc2l0aW9uOiBzdGF0aWM7IiArCiAgICAgICAgICAgICAgICAiY2xpcDogYXV0bzsiICsKICAgICAgICAgICAgICAgICJvcGFjaXR5OiAxOyIgKwogICAgICAgICAgICAgICAgImN1cnNvcjogcG9pbnRlcjsiICsKICAgICAgICAgICAgIn0iICsKICAgICAgICAgICAgIiNyd2wtaXF4aW4ucndsLWFjdGl2ZS1pcXhpbnsiICsKICAgICAgICAgICAgICAgIC8vICJ0b3A6IDEwcHg7IiArCiAgICAgICAgICAgICAgICAibGVmdDogMHB4OyIgKwogICAgICAgICAgICAgICAgInRyYW5zZm9ybTp0cmFuc2xhdGUoMCwwKTsiICsKICAgICAgICAgICAgICAgICJvcGFjaXR5OiAwLjk7IiArCiAgICAgICAgICAgICAgICAiaGVpZ2h0OiAzMnB4OyIgKwogICAgICAgICAgICAgICAgImxpbmUtaGVpZ2h0OiAzMnB4IiArCiAgICAgICAgICAgICJ9IiArCiAgICAgICAgICAgICIjcndsLWlxeGluIGxhYmVseyIgKwogICAgICAgICAgICAgICAgIm1hcmdpbjowOyIgKwogICAgICAgICAgICAgICAgInBhZGRpbmc6MDsiICsKICAgICAgICAgICAgICAgICJmb250LXdlaWdodDo1MDA7IiArCiAgICAgICAgICAgICJ9IiArCiAgICAgICAgICAgICIjcndsLWlxeGluIGJ1dHRvbnsiICsKICAgICAgICAgICAgICAgICJtYXJnaW46IDA7IiArCiAgICAgICAgICAgICAgICAicGFkZGluZzogMCAycHg7IiArCiAgICAgICAgICAgICAgICAiYm9yZGVyOiBub25lOyIgKwogICAgICAgICAgICAgICAgImJvcmRlci1yYWRpdXM6IDJweDsiICsKICAgICAgICAgICAgICAgICJjdXJzb3I6IHBvaW50ZXI7IiArCiAgICAgICAgICAgICJ9IiArCiAgICAgICAgICAgIC8vIOiuvue9ruiPnOWNlQogICAgICAgICAgICAiI3J3bC1zZXRNZW51eyIgKwogICAgICAgICAgICAgICAgInRleHQtYWxpZ246bGVmdDsiICsKICAgICAgICAgICAgICAgICJmb250LXNpemU6MTRweDsiICsKICAgICAgICAgICAgICAgICJ6LWluZGV4Ojk5OTk5OTsiICsKICAgICAgICAgICAgICAgICJib3JkZXI6IDFweCBzb2xpZCBjb3JuZmxvd2VyYmx1ZTsiICsKICAgICAgICAgICAgIn0iICsKICAgICAgICAgICAgIiNyd2wtc2V0TWVudSBweyIgKwogICAgICAgICAgICAgICAgIm1hcmdpbjo1cHggYXV0bzsiICsKICAgICAgICAgICAgIn0iICsKICAgICAgICAgICAgIiAiOwogICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcndsLWlxeGluIikuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfTsKCgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1zZXRidG4iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oKXsKICAgICAgICB2YXIgb2xkRWRpdEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyd2wtc2V0TWVudSIpOwogICAgICAgIGlmKG9sZEVkaXRCb3gpewogICAgICAgICAgICBvbGRFZGl0Qm94LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQob2xkRWRpdEJveCk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHVzZXJTZXR0aW5nID0gR01fZ2V0VmFsdWUoInJ3bF91c2VyRGF0YSIpOwogICAgICAgIHZhciB1cGxvYWRfY2hlY2tlZCA9IHVzZXJTZXR0aW5nLmNvbm5lY3RUb1RoZVNlcnZlcj8iY2hlY2tlZCI6IiI7CgogICAgICAgIHZhciBvZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgb2RvbS5pZCA9ICJyd2wtc2V0TWVudSI7CiAgICAgICAgb2RvbS5zdHlsZS5jc3NUZXh0ID0icG9zaXRpb246IGFic29sdXRlOyIgKwogICAgICAgICAgICAidG9wOiA1MHB4OyIgKwogICAgICAgICAgICAibGVmdDogMjBweDsiICsKICAgICAgICAgICAgInBhZGRpbmc6IDEwcHg7IiArCiAgICAgICAgICAgICJiYWNrZ3JvdW5kOiAjZmZmOyIgKwogICAgICAgICAgICAiYm9yZGVyLXJhZGl1czogNHB4OyI7CiAgICAgICAgdmFyIGlubmVySCA9ICIiICsKICAgICAgICAgICAgIjxwPui3neemu+mhtumDqOi3neemu++8iOWNleS9jSDlg4/ntKDvvIkgPGlucHV0IGlkPSdwb3NpdGlvbnRvcCcgdHlwZT0ndGV4dCcgdmFsdWU9IiArIHVzZXJTZXR0aW5nLnBvc2l0aW9uVG9wICsgIj48L3A+IiArICIiICsKICAgICAgICAgICAgIjxsYWJlcmw+IDxwPuWFgeiuuOS4iuS8oOm7keWQjeWNlTxpbnB1dCBpZD0ndXBsb2FkY2hlY2tlZCcgIHR5cGU9J2NoZWNrYm94JyAiICsgdXBsb2FkX2NoZWNrZWQgKyAiPjwvcD4iICsgIjwvbGFiZXJsPiIgKwogICAgICAgICAgICAiPHA+PHM+5pi+56S65oyJ6ZKu77yI5b6F5re75Yqg77yJPC9zPjwvcD4iICsKICAgICAgICAgICAgIjxwPjxzPuaMiemSrumAj+aYjuW6pu+8iOW+hea3u+WKoO+8iTwvcz48L3A+IiArCiAgICAgICAgICAgICI8cD48cz7lv6vpgJ/lpI3liLbvvIjlvoXmt7vliqDvvIk8L3M+PC9wPiIgKwogICAgICAgICAgICAiPHA+PHM+5YW25LuWICjlvoXmt7vliqDvvIk8L3M+PC9wPiIgKwogICAgICAgICAgICAiPHRleHRhcmVhIHdyYXA9J29mZicgY29scz0nNDUnIHJvd3M9JzIwJyBzdHlsZT0nb3ZlcmZsb3c6YXV0bztib3JkZXItcmFkaXVzOjRweDsnPiIgKyBKU09OLnN0cmluZ2lmeSh1c2VyU2V0dGluZy5kYXRhLGZhbHNlLDQpICsgIjwvdGV4dGFyZWE+IiArIAogICAgICAgICAgICAiPGJyPiIgKwogICAgICAgICAgICAvLyAiPGJ1dHRvbiBpZD0ncndsLXJlc2V0Jz7muIXnqbrorr7nva48L2J1dHRvbj4gJm5ic3A7Jm5ic3A7Jm5ic3A7IiArCiAgICAgICAgICAgICI8YnV0dG9uIGlkPSdyd2wtc2V0TWVudVNhdmUnPuS/neWtmDwvYnV0dG9uPiAmbmJzcDsmbmJzcDsmbmJzcDsiICsKICAgICAgICAgICAgIjxidXR0b24gaWQ9J3J3bC1zZXRNZW51Q2xvc2UnIG9uY2xpY2s9J3RoaXMucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucGFyZW50Tm9kZSk7JyA+5YWz6ZetPC9idXR0b24+ICZuYnNwOyZuYnNwOyZuYnNwOyIgKwogICAgICAgICAgICAvLyAiPGJ1dHRvbiBpZD0ncndsLWNvZGVib3hzYXZlJz7kv53lrZg8L2J1dHRvbj4iICsKICAgICAgICAgICAgIjxzcGFuIHN0eWxlPSdmb250LXNpemU6MC43ZW07Jz4tLSDllabllabllabvvIzllabllabllabvvIwgLS08L3NwYW4+IiArCiAgICAgICAgICAgICIiCiAgICAgICAgIiI7CiAgICAgICAgb2RvbS5pbm5lckhUTUwgPSBpbm5lckg7CiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvZG9tKTsKCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1zZXRNZW51U2F2ZSIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixzYXZlU2V0dGluZyk7CgogICAgfSkKCiAgICAvLyDkv53lrZjpgInpobkKICAgIGZ1bmN0aW9uIHNhdmVTZXR0aW5nKCl7CiAgICAgICAgdmFyIHBvc2l0aW9uVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1zZXRNZW51ICNwb3NpdGlvbnRvcCIpLnZhbHVlOwogICAgICAgIHZhciB1cGxvYWRDaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1zZXRNZW51ICN1cGxvYWRjaGVja2VkIikuY2hlY2tlZDsKICAgICAgICB2YXIgY29kZXZhbHVlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1zZXRNZW51IHRleHRhcmVhIikudmFsdWU7CiAgICAgICAgLy8gY29uc29sZS5sb2cocG9zaXRpb25Ub3AsdXBsb2FkQ2hlY2tlZCk7CiAgICAgICAgaWYoY29kZXZhbHVlKXsKICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5wYXJzZShjb2RldmFsdWUpKTsKICAgICAgICAgICAgdmFyIHVzZXJTZXR0aW5nID0gR01fZ2V0VmFsdWUoInJ3bF91c2VyRGF0YSIpOwoKICAgICAgICAgICAgdXNlclNldHRpbmcuZGF0YSA9IEpTT04ucGFyc2UoY29kZXZhbHVlKTsKICAgICAgICAgICAgdXNlclNldHRpbmcucG9zaXRpb25Ub3AgPSBwYXJzZUludChwb3NpdGlvblRvcCk7CiAgICAgICAgICAgIHVzZXJTZXR0aW5nLmNvbm5lY3RUb1RoZVNlcnZlciA9IHVwbG9hZENoZWNrZWQ7CgogICAgICAgICAgICBHTV9zZXRWYWx1ZSgicndsX3VzZXJEYXRhIix1c2VyU2V0dGluZyk7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEdNX2dldFZhbHVlKCJzZWFyY2hFbmdpbmVKdW1wRGF0YSIpKTsKICAgICAgICAgICAgLy8g5Yi35paw6aG16Z2iCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgfSwzMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCLovpPlhaXkuLrnqboiKTsKICAgICAgICAgICAgLy8gdGhpcy5yZXNldCgpOwogICAgICAgIH0KICAgICAgICBjbG9zZU1lbnUoKTsKICAgIH0KCiAgICAvL+WFs+mXreiPnOWNlQogICAgZnVuY3Rpb24gY2xvc2VNZW51KCl7CiAgICAgICAgdmFyIG9sZEVkaXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcndsLXNldE1lbnUiKTsKICAgICAgICBpZihvbGRFZGl0Qm94KXsKICAgICAgICAgICAgb2xkRWRpdEJveC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9sZEVkaXRCb3gpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgfQoKICAgIC8vIOWinuWKoOaLluWKqOS6i+S7tiBmdW5jCiAgICBmdW5jdGlvbiBkcmFnQnRuKCl7CiAgICAgICAgdmFyIHJ3bF9ub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3J3bC1pcXhpbiIpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHJ3bF9ub2RlKTsKICAgICAgICByd2xfbm9kZS5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgcndsX25vZGUuc3R5bGUudHJhbnNpdGlvbiA9ICJudWxsIjsKICAgICAgICAgICAgdmFyIGRpc1ggPSBldmVudC5jbGllbnRYIC0gcndsX25vZGUub2Zmc2V0TGVmdDsKICAgICAgICAgICAgdmFyIGRpc1kgPSBldmVudC5jbGllbnRZIC0gcndsX25vZGUub2Zmc2V0VG9wOwoKICAgICAgICAgICAgdmFyIG1vdmUgPSBmdW5jdGlvbihldmVudCl7CiAgICAgICAgICAgICAgICByd2xfbm9kZS5zdHlsZS5sZWZ0ID0gZXZlbnQuY2xpZW50WCAtIGRpc1ggKyAicHgiIDsKICAgICAgICAgICAgICAgIHJ3bF9ub2RlLnN0eWxlLnRvcCAgPSBldmVudC5jbGllbnRZIC0gZGlzWSArICJweCIgOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLG1vdmUpOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixmdW5jdGlvbigpewogICAgICAgICAgICAgICAgcndsX25vZGUuc3R5bGUudHJhbnNpdGlvbiA9ICIwLjNzIjsKICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsbW92ZSk7CiAgICAgICAgICAgICAgICAvLyDmraTlh73mlbDlhoXmiYDmnInnmoTms6jph4ror63lj6Xpg73mmK/mnInnlKjnmoQKICAgICAgICAgICAgICAgICAgICAvLyDlvIDlkK/lkI4s5Y+v5ouW5Yqo5Yiw5bGP5bmV5Y+z5L6nLOS9huWwmuacqua3u+WKoGNzcwogICAgICAgICAgICAgICAgICAgIC8vIOWcqOS4iumdoua3u+WKoCByd2wtYWN0aXZlLWlxeGluIOeahOWcsOaWueWKoOS4iuWIpOaWreW3puWPsyzlnKjliqDkuIrnm7jlupTnmoRjc3PljbPlj68KICAgICAgICAgICAgICAgICAgICAvLyDmh5IgMjAxOC0wNC0xOCAyMTo1MTozMgogICAgICAgICAgICAgICAgLy8gdmFyIGJvZHlXaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7CiAgICAgICAgICAgICAgICB2YXIgcndsX25vZGVXaWR0aCA9IHJ3bF9ub2RlLm9mZnNldExlZnQgKyByd2xfbm9kZS5vZmZzZXRXaWR0aC8yOwogICAgICAgICAgICAgICAgLy8gaWYocndsX25vZGVXaWR0aCA+IGJvZHlXaWR0aC8yKXsKICAgICAgICAgICAgICAgIC8vICAgICByd2xfbm9kZS5zdHlsZS5sZWZ0ID0gImF1dG8iOwogICAgICAgICAgICAgICAgLy8gICAgIHJ3bF9ub2RlLnN0eWxlLnJpZ2h0ID0gMDsKICAgICAgICAgICAgICAgIC8vICAgICByd2xfdXNlckRhdGEucG9zaXRpb25MZWZ0ID0gImF1dG8iOwogICAgICAgICAgICAgICAgLy8gICAgIHJ3bF91c2VyRGF0YS5wb3NpdGlvblJpZ2h0ID0gIjAiOwogICAgICAgICAgICAgICAgLy8gfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByd2xfbm9kZS5zdHlsZS5yaWdodCA9IHJ3bF91c2VyRGF0YS5wb3NpdGlvblJpZ2h0ID0gImF1dG8iOwogICAgICAgICAgICAgICAgICAgIHJ3bF9ub2RlLnN0eWxlLmxlZnQgPSByd2xfdXNlckRhdGEucG9zaXRpb25MZWZ0ID0gIDA7CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICByd2xfdXNlckRhdGEucG9zaXRpb25Ub3AgPSByd2xfbm9kZS5vZmZzZXRUb3A7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyd2xfdXNlckRhdGEpOwogICAgICAgICAgICAgICAgR01fc2V0VmFsdWUoInJ3bF91c2VyRGF0YSIscndsX3VzZXJEYXRhKTsKCiAgICAgICAgICAgIH0pCiAgICAgICAgfSkKICAgIH0KCiAgICAvLyDliJ3lp4vljJYgaW5pdCBmdW5jCiAgICBmdW5jdGlvbiBpbml0KCkgewogICAgICAgIGNvbnNvbGUubG9nKCLohJrmnKwtcndsLeWkjeWItumZkOWItuino+mZpCjmlLkpLS0tLS0t5L2/55So6KeE5YiZLS0tLS0tLS0tLS0tLS0tLS1pcXhpbiIpOwogICAgICAgIC8vIOmSiOWvueS4quWIq+e9keermemHh+WPluS4jeWQjOeahOetlueVpQogICAgICAgIHJ1bGUgPSBjbGVhcigpOwogICAgICAgIC8vIOiuvue9riBldmVudCDliJfooagKICAgICAgICBob29rX2V2ZW50TmFtZXMgPSBydWxlLmhvb2tfZXZlbnROYW1lcy5zcGxpdCgifCIpOwogICAgICAgIC8vIFRPRE8gQWxsb3dlZCB0byByZXR1cm4gdmFsdWUKICAgICAgICB1bmhvb2tfZXZlbnROYW1lcyA9IHJ1bGUudW5ob29rX2V2ZW50TmFtZXMuc3BsaXQoInwiKTsKICAgICAgICBldmVudE5hbWVzID0gaG9va19ldmVudE5hbWVzLmNvbmNhdCh1bmhvb2tfZXZlbnROYW1lcyk7CgogICAgICAgIC8vIOiwg+eUqOa4heeQhiBET00wIGV2ZW50IOaWueazleeahOW+queOrwogICAgICAgIGlmKHJ1bGUuZG9tMCkgewogICAgICAgICAgICBzZXRJbnRlcnZhbChjbGVhckxvb3AsIDUgKiAxMDAwKTsKICAgICAgICAgICAgc2V0VGltZW91dChjbGVhckxvb3AsIDE1MDApOwogICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNsZWFyTG9vcCwgdHJ1ZSk7CiAgICAgICAgICAgIGNsZWFyTG9vcCgpOwogICAgICAgIH0KCiAgICAgICAgLy8gaG9vayBhZGRFdmVudExpc3RlbmVyIC8v5a+86Ie05pCc57Si6Lez6L2s5aSx5pWI55qE5Y6f5ZugCiAgICAgICAgaWYocnVsZS5ob29rX2FkZEV2ZW50TGlzdGVuZXIpIHsKICAgICAgICAgICAgRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBhZGRFdmVudExpc3RlbmVyOwogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjsKICAgICAgICB9CgogICAgICAgIC8vIGhvb2sgcHJldmVudERlZmF1bHQKICAgICAgICBpZihydWxlLmhvb2tfcHJldmVudERlZmF1bHQpIHsKICAgICAgICAgICAgRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZihob29rX2V2ZW50TmFtZXMuaW5kZXhPZih0aGlzLnR5cGUpIDwgMCkgewogICAgICAgICAgICAgICAgICAgIEV2ZW50X3ByZXZlbnREZWZhdWx0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICAvLyBIb29rIHNldCByZXR1cm5WYWx1ZQogICAgICAgIGlmKHJ1bGUuaG9va19zZXRfcmV0dXJuVmFsdWUpIHsKICAgICAgICAgICAgRXZlbnQucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oJ3JldHVyblZhbHVlJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLnJldHVyblZhbHVlICE9PSB0cnVlICYmIGhvb2tfZXZlbnROYW1lcy5pbmRleE9mKHRoaXMudHlwZSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIC8vIOa3u+WKoENTUyAgICAgLy8gY29uc29sZS5kZWJ1ZygndXJsOiAnICsgdXJsLCAnc3RvcmFnZU5hbWXvvJonICsgc3RvcmFnZU5hbWUsICdydWxlOiAnICsgcnVsZS5uYW1lKTsKICAgICAgICBpZihydWxlLmFkZF9jc3MpIHsKICAgICAgICAgICAgR01fYWRkU3R5bGUoJ2h0bWwsIDpub3QoW2NsYXNzKj0icndsLWV4ZW1wdCJdKSB7LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0IWltcG9ydGFudDsgLW1vei11c2VyLXNlbGVjdDp0ZXh0IWltcG9ydGFudDt9IDpub3QoW2NsYXNzKj0icndsLWV4ZW1wdCJdKSA6OnNlbGVjdGlvbiB7Y29sb3I6I2ZmZjsgYmFja2dyb3VuZDojMzM5MEZGOyAhaW1wb3J0YW50O30nKTsKICAgICAgICB9IC8vZWxzZSB7CiAgICAgICAgICAgIC8vR01fYWRkU3R5bGUoJ2h0bWwsIDpub3QoW2NsYXNzKj0icndsLWV4ZW1wdCJdKSB7LXdlYmtpdC11c2VyLXNlbGVjdDp0ZXh0IWltcG9ydGFudDsgLW1vei11c2VyLXNlbGVjdDp0ZXh0IWltcG9ydGFudDt9Jyk7CiAgICAgICAgLy99CiAgICB9CgogICAgLy8gSG9vayBhZGRFdmVudExpc3RlbmVyIHByb2MKICAgIGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgZnVuYywgdXNlQ2FwdHVyZSkgewogICAgICAgIHZhciBfYWRkRXZlbnRMaXN0ZW5lciA9IHRoaXMgPT09IGRvY3VtZW50ID8gZG9jdW1lbnRfYWRkRXZlbnRMaXN0ZW5lciA6IEV2ZW50VGFyZ2V0X2FkZEV2ZW50TGlzdGVuZXI7CiAgICAgICAgaWYoaG9va19ldmVudE5hbWVzLmluZGV4T2YodHlwZSkgPj0gMCkgewogICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLCBbdHlwZSwgcmV0dXJuVHJ1ZSwgdXNlQ2FwdHVyZV0pOwogICAgICAgIH0gZWxzZSBpZih1bmhvb2tfZXZlbnROYW1lcy5pbmRleE9mKHR5cGUpID49IDApIHsKICAgICAgICAgICAgdmFyIGZ1bmNzTmFtZSA9IHN0b3JhZ2VOYW1lICsgdHlwZSArICh1c2VDYXB0dXJlID8gJ3QnIDogJ2YnKTsKCiAgICAgICAgICAgIGlmKHRoaXNbZnVuY3NOYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICB0aGlzW2Z1bmNzTmFtZV0gPSBbXTsKICAgICAgICAgICAgICAgIF9hZGRFdmVudExpc3RlbmVyLmFwcGx5KHRoaXMsIFt0eXBlLCB1c2VDYXB0dXJlID8gdW5ob29rX3QgOiB1bmhvb2tfZiwgdXNlQ2FwdHVyZV0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzW2Z1bmNzTmFtZV0ucHVzaChmdW5jKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfYWRkRXZlbnRMaXN0ZW5lci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyDmuIXnkIblvqrnjq8KICAgIGZ1bmN0aW9uIGNsZWFyTG9vcCgpIHsKICAgICAgICBydWxlID0gY2xlYXIoKSAvLyDlr7nkuo7liqjmgIHnlJ/miJDnmoToioLngrks6ZqP5pe25qOA5rWLCiAgICAgICAgdmFyIGVsZW1lbnRzID0gZ2V0RWxlbWVudHMoKTsKCiAgICAgICAgZm9yKHZhciBpIGluIGVsZW1lbnRzKSB7CiAgICAgICAgICBmb3IodmFyIGogaW4gZXZlbnROYW1lcykgewogICAgICAgICAgICB2YXIgbmFtZSA9ICdvbicgKyBldmVudE5hbWVzW2pdOwoKICAgICAgICAgICAgLy8gOz/mnKrop6PlhrMKICAgICAgICAgICAgICAgIC8vIDIwMTgtMDQtMDIgZWxlbWVudHPkuK3kvJrmnInlrZfnrKbkuLLlh7rnjrAs5Y6f54mI5LiN5LyaLOmXrumimOS4jeaYjizmoLnmnKzljp/lm6DlsJrmnKrop6PlhrMKICAgICAgICAgICAgICAgIC8vIOebuOWFs+WPjemmiCAgaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9mb3J1bS9kaXNjdXNzaW9uLzM2MDE0CiAgICAgICAgICAgICAgICAvLyDpl67popjniYjmnKzlj7cgIHYzLjAuNwogICAgICAgICAgICAgICAgLy8g6Zeu6aKY6KGl5YWFICAg5LmL5YmN5Y+v5Lul5L2/55SoLOWFt+S9k+eJiOacrOacqua1i++8iDIwMTgtMDQtMDIgMjE6Mjc6NTPvvIks5Y6f54mI5Y+v5Lul5L2/55SoCiAgICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlbGVtZW50c1tpXSk9PSJbb2JqZWN0IFN0cmluZ10iKXsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZihlbGVtZW50c1tpXVtuYW1lXSAhPT0gbnVsbCAmJiBlbGVtZW50c1tpXVtuYW1lXSAhPT0gb254eHgpIHsKICAgICAgICAgICAgICAgIGlmKHVuaG9va19ldmVudE5hbWVzLmluZGV4T2YoZXZlbnROYW1lc1tqXSkgPj0gMCkgewogICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzW2ldW3N0b3JhZ2VOYW1lICsgbmFtZV0gPSBlbGVtZW50c1tpXVtuYW1lXTsKICAgICAgICAgICAgICAgICAgICBlbGVtZW50c1tpXVtuYW1lXSA9IG9ueHh4OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHNbaV1bbmFtZV0gPSBudWxsOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAvLyDov5Tlm550cnVl55qE5Ye95pWwCiAgICBmdW5jdGlvbiByZXR1cm5UcnVlKGUpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIGZ1bmN0aW9uIHVuaG9va190KGUpIHsKICAgICAgICByZXR1cm4gdW5ob29rKGUsIHRoaXMsIHN0b3JhZ2VOYW1lICsgZS50eXBlICsgJ3QnKTsKICAgIH0KICAgIGZ1bmN0aW9uIHVuaG9va19mKGUpIHsKICAgICAgICByZXR1cm4gdW5ob29rKGUsIHRoaXMsIHN0b3JhZ2VOYW1lICsgZS50eXBlICsgJ2YnKTsKICAgIH0KICAgIGZ1bmN0aW9uIHVuaG9vayhlLCBzZWxmLCBmdW5jc05hbWUpIHsKICAgICAgICB2YXIgbGlzdCA9IHNlbGZbZnVuY3NOYW1lXTsKICAgICAgICBmb3IodmFyIGkgaW4gbGlzdCkgewogICAgICAgICAgICBsaXN0W2ldKGUpOwogICAgICAgIH0KCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICBmdW5jdGlvbiBvbnh4eChlKSB7CiAgICAgICAgdmFyIG5hbWUgPSBzdG9yYWdlTmFtZSArICdvbicgKyBlLnR5cGU7CiAgICAgICAgdGhpc1tuYW1lXShlKTsKCiAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CgogICAgLy8g6I635Y+W5omA5pyJ5YWD57SgIOWMheaLrGRvY3VtZW50CiAgICBmdW5jdGlvbiBnZXRFbGVtZW50cygpIHsKICAgICAgICB2YXIgZWxlbWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpKTsKICAgICAgICBlbGVtZW50cy5wdXNoKGRvY3VtZW50KTsKICAgICAgICByZXR1cm4gZWxlbWVudHM7CiAgICB9OwoKICAgIC8vIOiOt+WPlum7keWQjeWNlee9keermSBGdW5jCiAgICBmdW5jdGlvbiBnZXRfYmxhY2tfbGlzdCgpewogICAgICAgIC8vIOS5i+WJjeeJiOacrOWPr+iDveWvvOiHtOWtmOWCqOepuueahOWtl+espuS4sgogICAgICAgICAgICAvLyAyMDE4LTA2LTExIDE1OjExOjQ0IOS/neeVmSzlvZPlrrnplJnlpITnkIYKICAgICAgICB2YXIgZGF0YV90ZW1wID0gcndsX3VzZXJEYXRhLmRhdGE7CiAgICAgICAgZGF0YV90ZW1wID0gZGF0YV90ZW1wLmZpbHRlcihmdW5jdGlvbihpdGVtKXsKICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmxlbmd0aD4xOwogICAgICAgICAgICB9KQogICAgICAgIHJldHVybiBkYXRhX3RlbXA7CiAgICB9CiAgICAKICAgIC8vIOajgOafpeaYr+WQpuWtmOWcqOS6jum7keWQjeWNleS4rSDov5Tlm57kvY3nva4gZnVuYwogICAgZnVuY3Rpb24gY2hlY2tfYmxhY2tfbGlzdChsaXN0LGhvc3QpewogICAgICAgIGZvcihsZXQgaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgaWYofmhvc3RuYW1lLmluZGV4T2YobGlzdFtpXSkpewogICAgICAgICAgICAgICAgcmV0dXJuIGkrMTsgIC8v5LiH5LiA5Yy56YWN5Yiw56ys5LiA5LiqLOi/lOWbnjAKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CgogICAgLy8g6byg5qCH54K55Ye75ZCO5oyJ6ZKu5ZCOIOajgOafpeaYr+WQpuWcqOm7keWQjeWNlQogICAgZnVuY3Rpb24gYmxhY2tfY2hlY2soYm9vbCl7CiAgICAgICAgdmFyIGxpc3QgPSBHTV9nZXRWYWx1ZSgicndsX3VzZXJEYXRhIikuZGF0YQogICAgICAgIHZhciBjaGVjayA9IGNoZWNrX2JsYWNrX2xpc3QobGlzdCxob3N0bmFtZSk7CgogICAgICAgIGNvbnNvbGUubG9nKGxpc3QpCgogICAgICAgIGlmIChib29sICYmICFjaGVjaykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhsaXN0KTsKICAgICAgICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KGhvc3RuYW1lKTsKICAgICAgICAgICAgY29uc29sZS5sb2coIumAieS4rSDkuI3lnKjpu5HlkI3ljZUsIOWinuWKoCIsaG9zdG5hbWUsbGlzdCk7CgogICAgICAgICAgICBjb25zb2xlLmxvZygiYmVmb3JlOiAiLHJ3bF91c2VyRGF0YS53YWl0VXBsb2FkKQogICAgICAgICAgICByd2xfdXNlckRhdGEud2FpdFVwbG9hZC5wdXNoKGhvc3RuYW1lKTsgLy/lh4blpIfkuIrkvKAKICAgICAgICAgICAgcndsX3VzZXJEYXRhLmN1cnJlbnRVUkwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgY29uc29sZS5sb2coImFmdGVyOiAiLHJ3bF91c2VyRGF0YS53YWl0VXBsb2FkKQoKICAgICAgICAgICAgc2F2ZURhdGEobGlzdCk7CiAgICAgICAgICAgIGluaXQoKTsKCiAgICAgICAgfWVsc2UgaWYoIWJvb2wgJiYgY2hlY2spewogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjaGVjay0xKTsKICAgICAgICAgICAgY29uc29sZS5sb2coImNoZWNrOiAiLGNoZWNrKQogICAgICAgICAgICBsaXN0LnNwbGljZShjaGVjay0xLDEpOwogICAgICAgICAgICBjb25zb2xlLmxvZygi5pyq6YCJ5LitIOWcqOm7keWQjeWNlSwg5Yiq6ZmkIixsaXN0KTsKCiAgICAgICAgICAgIHNhdmVEYXRhKGxpc3QpOwoKICAgICAgICAgICAgLy8g5Yi35paw6aG16Z2iCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygi5Yi35paw6aG16Z2ibG9hZGluZyIpOwogICAgICAgICAgICB9LDM1MCk7CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCLov5Tlm55mYWxzZSIpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQoKICAgIC8vIOS/neWtmOacrOWcsOaVsOaNrizlubblsIbmlbDmja7kuIrkvKDoh7PmnI3liqHlmagKICAgIGZ1bmN0aW9uIHNhdmVEYXRhKGxpc3RzKXsKICAgICAgICBjb25zb2xlLmxvZyhsaXN0cyk7CiAgICAgICAgbGlzdHMgPSBsaXN0cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSl7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmxlbmd0aD4xOwogICAgICAgIH0pCgogICAgICAgIC8vIOabtOaWsOaVsOaNrgogICAgICAgIHJ3bF91c2VyRGF0YS5kYXRhID0gbGlzdHMuc29ydCgpOwoKICAgICAgICAvLyDlsIbmnKzlnLDpu5HlkI3ljZXkuIrkvKAKICAgICAgICBpZiAocndsX3VzZXJEYXRhLndhaXRVcGxvYWQubGVuZ3RoID4gMCAmJiByd2xfdXNlckRhdGEuY29ubmVjdFRvVGhlU2VydmVyKXsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2coInJ3bCA6IOS4iuS8oC4uLiIscndsX3VzZXJEYXRhLndhaXRVcGxvYWQpOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZygicndsIDog5byA5aeL5LiK5LygLS0tLS0iKTsKICAgICAgICAgICAgR01feG1saHR0cFJlcXVlc3QoewogICAgICAgICAgICAgIG1ldGhvZDogIlBPU1QiLAogICAgICAgICAgICAgIC8vIHVybDogImh0dHA6Ly8xMjcuMC4wLjE6ODAwMC90b29sL3Rlc3RhamF4LyIsCiAgICAgICAgICAgICAgdXJsOiAiaHR0cDovL2VlbW0ubWUvdG9vbC9yd2xfdXBsb2FkLyIsCiAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocndsX3VzZXJEYXRhKSwKICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJyd2wgOiDkuIrkvKDmiJDlip8tLS0tIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcndsX3VzZXJEYXRhLndhaXRVcGxvYWQgPSBbXTsKICAgICAgICB9CgogICAgICAgIEdNX3NldFZhbHVlKCJyd2xfdXNlckRhdGEiLHJ3bF91c2VyRGF0YSk7CiAgICAgICAgLy8gY29uc29sZS5sb2coR01fZ2V0VmFsdWUoInJ3bF91c2VyRGF0YSIpKTsKICAgICAgICByZXR1cm4gcndsX3VzZXJEYXRhOwogICAgfQoKICAgIC8vIOaVsOe7hOWOu+mHjQogICAgZnVuY3Rpb24gdW5pcXVlKGFycikgewogICAgICB2YXIgcmV0ID0gW10KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IGFycltpXQogICAgICAgIGlmIChyZXQuaW5kZXhPZihpdGVtKSA9PT0gLTEpIHsKICAgICAgICAgIHJldC5wdXNoKGl0ZW0pCiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgICB9CgogICAgLy8g5aSN5Yi25Yiw5Ymq6LS05p2/CiAgICBmdW5jdGlvbiBzZXRDbGlwYm9hcmQoKXsKICAgICAgICB2YXIgdGV4dF9vYmogPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7CiAgICAgICAgdmFyIHRleHQgPSB0ZXh0X29iai50b1N0cmluZygpOwogICAgICAgIEdNX3NldENsaXBib2FyZCh0ZXh0KTsKCiAgICB9CgogICAgLy8g6YOo5YiG572R56uZ6YeH55So5LqG5YW25LuW55qE6Ziy5aSN5Yi25omL5q61CiAgICBmdW5jdGlvbiBjbGVhcigpewogICAgICAgIC8vIGNvbnNvbGUubG9nKCLov5vlhaVjbGVhciIsaG9zdG5hbWUscndsX3VzZXJEYXRhLnJ1bGVzKTsKICAgICAgICBzd2l0Y2ggKGhvc3RuYW1lKXsKICAgICAgICAgICAgY2FzZSAid3d3LnozejQuY29tIjogY2xlYXJfY292ZXJzKCIubW92aWVkb3duYWRkaXYiKTsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgImh1YXl1LmJhaWR1LmNvbSI6IGNsZWFyX2NvdmVycygiI2pxQ29udGV4dE1lbnUiKTsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInpoaWh1LmNvbSI6CiAgICAgICAgICAgIGNhc2UgInd3dy56aGlodS5jb20iOiByZXR1cm4gcndsX3VzZXJEYXRhLnJ1bGVzLnJ1bGVfemhpaHU7IGJyZWFrOwogICAgICAgICAgICBjYXNlICJ0LmJpbGliaWxpLmNvbSI6IGNsZWFyX2xpbmtfYmlsaWJpbGkoKTsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgInd3dy5zaGFuZ2MubmV0IjogcmV0dXJuIHJ3bF91c2VyRGF0YS5ydWxlcy5ydWxlX3BsdXM7IGJyZWFrOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcndsX3VzZXJEYXRhLnJ1bGVzLnJ1bGVfZGVmOwogICAgfQogICAgLy8g5Y676Zmk6KaG55uW5bGCCiAgICBmdW5jdGlvbiBjbGVhcl9jb3ZlcnMoZWxlKXsKICAgICAgICB2YXIgb2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlKTsKICAgICAgICBpZihvZGl2KXsKICAgICAgICAgICAgb2Rpdi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9kaXYpOwogICAgICAgIH0KICAgIH0KICAgIC8vIGLnq5nlsIbmloflrZfltYzlpZflnKjpk77mjqXkuK0KICAgIGZ1bmN0aW9uIGNsZWFyX2xpbmtfYmlsaWJpbGkoKXsKICAgICAgICB2YXIgb2RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5kZXNjcmlwdGlvbiIpOwogICAgICAgIC8vIGNvbnNvbGUubG9nKG9kaXYpOwogICAgICAgIGlmKG9kaXYpewogICAgICAgICAgICB2YXIgdERpdiA9IG9kaXYucXVlcnlTZWxlY3RvcigiLmNvbnRlbnQtZWxsaXBzaXMiKTsKICAgICAgICAgICAgdmFyIGFEaXYgPSBvZGl2LnF1ZXJ5U2VsZWN0b3IoImEiKTsKICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHREaXYpOwogICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYURpdik7CiAgICAgICAgICAgICBvZGl2LmFwcGVuZENoaWxkKHREaXYpOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAzLngueCDov4fmuKEgNC54Lngg54mI5pysCiAgICBmdW5jdGlvbiB2ZXJzaW9uX3VwXzNfdG9fNCgpewogICAgICAgIHZhciBvbGRfdmVyc2lvbiA9IEdNX2dldFZhbHVlKCJibGFja19saXN0Iik7CiAgICAgICAgaWYoIW9sZF92ZXJzaW9uKXtyZXR1cm59OwogICAgICAgIHJ3bF91c2VyRGF0YS5kYXRhID0gdW5pcXVlKHJ3bF91c2VyRGF0YS5kYXRhLmNvbmNhdChvbGRfdmVyc2lvbi5kYXRhKSk7CiAgICAgICAgR01fc2V0VmFsdWUoInJ3bF91c2VyRGF0YSIscndsX3VzZXJEYXRhKTsKCiAgICAgICAgR01fZGVsZXRlVmFsdWUoImJsYWNrX2xpc3QiKTsKICAgICAgICBHTV9kZWxldGVWYWx1ZSgicndsX3VzZXJkYXRhIik7CiAgICB9Cn0pKCk7IAo="},{"name":"iqiyi-player-switch","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*://*.iqiyi.com/*","*://v.baidu.com/*","*://music.baidu.com/mv/*","*://www.zybus.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null}},"storage":{"data":{},"ts":1574751670198},"enabled":false,"position":9,"file_url":"https://greasyfork.org/scripts/28356-iqiyi-player-switch/code/iqiyi-player-switch.user.js","uuid":"a1112fbd-feb3-4bef-899d-a50408afa85a","source":"Ci8vID09VXNlclNjcmlwdD09Ci8vIEBuYW1lICAgICAgICAgaXFpeWktcGxheWVyLXN3aXRjaAovLyBAbmFtZXNwYWNlICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9nb295aWUvdXNlcnNjcmlwdC1pcWl5aS1wbGF5ZXItc3dpdGNoCi8vIEBob21lcGFnZVVSTCAgaHR0cHM6Ly9naXRodWIuY29tL2dvb3lpZS91c2Vyc2NyaXB0LWlxaXlpLXBsYXllci1zd2l0Y2gKLy8gQHN1cHBvcnRVUkwgICBodHRwczovL2dpdGh1Yi5jb20vZ29veWllL3VzZXJzY3JpcHQtaXFpeWktcGxheWVyLXN3aXRjaC9pc3N1ZXMKLy8gQGRlc2NyaXB0aW9uICDniLHlpYfoibpmbGFzaOaSreaUvuWZqOS4jmh0bWw15pKt5pS+5Zmo6ZqP5oSP5YiH5o2i77yM5pS55ZaEaHRtbDXmkq3mlL7lmajmkq3mlL7kvZPpqozjgIIKLy8gQHZlcnNpb24gICAgICAxLjE0LjAKLy8gQGNvbXBhdGlibGUgICBjaHJvbWUgPj0gNDMKLy8gQGNvbXBhdGlibGUgICBmaXJlZm94ID49IDQ1Ci8vIEBjb21wYXRpYmxlICAgZWRnZSA+PSAxNQovLyBAYXV0aG9yICAgICAgIGdvb3lpZQovLyBAbGljZW5zZSAgICAgIE1JVCBMaWNlbnNlCi8vCi8vIEBpbmNsdWRlICAgICAgKjovLyouaXFpeWkuY29tLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vdi5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICo6Ly9tdXNpYy5iYWlkdS5jb20vbXYvKgovLyBAaW5jbHVkZSAgICAgICo6Ly93d3cuenlidXMuY29tLyoKLy8gQGdyYW50ICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgR01feG1saHR0cFJlcXVlc3QKLy8gQGdyYW50ICAgICAgICBHTV9hZGRTdHlsZQovLyBAZ3JhbnQgICAgICAgIEdNX2dldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fc2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV9pbmZvCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBjb25uZWN0ICAgICAgcWl5aS5jb20KLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXAKLyoqKioqKi8gCS8vIFRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCXZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307Ci8qKioqKiovCi8qKioqKiovIAkvLyBUaGUgcmVxdWlyZSBmdW5jdGlvbgovKioqKioqLyAJZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkgewovKioqKioqLwovKioqKioqLyAJCS8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZQovKioqKioqLyAJCWlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7Ci8qKioqKiovIAkJCXJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzOwovKioqKioqLyAJCX0KLyoqKioqKi8gCQkvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKQovKioqKioqLyAJCXZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHsKLyoqKioqKi8gCQkJaTogbW9kdWxlSWQsCi8qKioqKiovIAkJCWw6IGZhbHNlLAovKioqKioqLyAJCQlleHBvcnRzOiB7fQovKioqKioqLyAJCX07Ci8qKioqKiovCi8qKioqKiovIAkJLy8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uCi8qKioqKiovIAkJbW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7Ci8qKioqKiovCi8qKioqKiovIAkJLy8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZAovKioqKioqLyAJCW1vZHVsZS5sID0gdHJ1ZTsKLyoqKioqKi8KLyoqKioqKi8gCQkvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZQovKioqKioqLyAJCXJldHVybiBtb2R1bGUuZXhwb3J0czsKLyoqKioqKi8gCX0KLyoqKioqKi8KLyoqKioqKi8KLyoqKioqKi8gCS8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzOwovKioqKioqLwovKioqKioqLyAJLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGUKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7Ci8qKioqKiovCi8qKioqKiovIAkvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHMKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikgewovKioqKioqLyAJCWlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHsKLyoqKioqKi8gCQkJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsKLyoqKioqKi8gCQkJCWNvbmZpZ3VyYWJsZTogZmFsc2UsCi8qKioqKiovIAkJCQllbnVtZXJhYmxlOiB0cnVlLAovKioqKioqLyAJCQkJZ2V0OiBnZXR0ZXIKLyoqKioqKi8gCQkJfSk7Ci8qKioqKiovIAkJfQovKioqKioqLyAJfTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHsKLyoqKioqKi8gCQl2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID8KLyoqKioqKi8gCQkJZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDoKLyoqKioqKi8gCQkJZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTsKLyoqKioqKi8gCQlfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7Ci8qKioqKiovIAkJcmV0dXJuIGdldHRlcjsKLyoqKioqKi8gCX07Ci8qKioqKiovCi8qKioqKiovIAkvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwKLyoqKioqKi8gCV9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTsKLyoqKioqKi8KLyoqKioqKi8gCS8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fCi8qKioqKiovIAlfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSAiIjsKLyoqKioqKi8KLyoqKioqKi8gCS8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0cwovKioqKioqLyAJcmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7Ci8qKioqKiovIH0pCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCi8qKioqKiovIChbCi8qIDAgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVsicmV0dXJuIl0pIF9pWyJyZXR1cm4iXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7IH0gfTsgfSgpOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX2xvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7Cgp2YXIgX2xvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dnZXIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIEhvb2tlciA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEhvb2tlcigpIHsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSG9va2VyKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoSG9va2VyLCBudWxsLCBbewogICAgICAgIGtleTogJ19ob29rQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ob29rQ2FsbChjYikgewogICAgICAgICAgICB2YXIgY2FsbCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsOwogICAgICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7CiAgICAgICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB2YXIgcmV0ID0gY2FsbC5hcHBseSh0aGlzLCBhcmdzKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MgJiYgY2IoYXJncykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwgPSBjYWxsOwogICAgICAgICAgICAgICAgICAgICAgICBjYiA9IGZ1bmN0aW9uIGNiKCkge307CiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2dnZXIyLmRlZmF1bHQuaW5mbyhgVGhlIG5hdGl2ZSBmdW5jdGlvbiBjYWxsIGhhcyBiZWVuIHJlc3RvcmVkYCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5lcnJvcihlcnIuc3RhY2spOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmV0dXJuIHJldDsKICAgICAgICAgICAgfTsKICAgICAgICAgICAgdGhpcy5faG9va0NhbGwgPSBudWxsOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNNb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzTW9kdWxlQ2FsbChhcmdzKSB7CiAgICAgICAgICAgIC8vIG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCByZXF1aXJlCiAgICAgICAgICAgIHJldHVybiBhcmdzLmxlbmd0aCA9PT0gNCAmJiBhcmdzWzFdICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihhcmdzWzFdKSA9PT0gT2JqZWN0LnByb3RvdHlwZSAmJiBhcmdzWzFdLmhhc093blByb3BlcnR5KCdleHBvcnRzJyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19ob29rTW9kdWxlQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9ob29rTW9kdWxlQ2FsbChjYiwgcHJlZCkgewogICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgICAgICAgdmFyIGNhbGxiYWNrc01hcCA9IG5ldyBNYXAoW1twcmVkLCBbY2JdXV0pOwogICAgICAgICAgICB0aGlzLl9ob29rQ2FsbChmdW5jdGlvbiAoYXJncykgewogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy5faXNNb2R1bGVDYWxsKGFyZ3MpKSByZXR1cm47CgogICAgICAgICAgICAgICAgdmFyIGV4cG9ydHMgPSBhcmdzWzFdLmV4cG9ydHM7CiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGNhbGxiYWNrc01hcFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfc3RlcC52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9zbGljZWRUb0FycmF5KF9yZWYsIDIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9wcmVkID0gX3JlZjJbMF07CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBfcmVmMlsxXTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3ByZWQuYXBwbHkoX3RoaXMsIFtleHBvcnRzXSkpIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihleHBvcnRzLCBhcmdzKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmtlZXBhbGl2ZSB8fCBjYWxsYmFja3NNYXAuZGVsZXRlKF9wcmVkKTsKICAgICAgICAgICAgICAgICAgICAgICAgIWNhbGxiYWNrc01hcC5zaXplICYmIChfdGhpcy5faG9va01vZHVsZUNhbGwgPSBudWxsKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gIWNhbGxiYWNrc01hcC5zaXplOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMuX2hvb2tNb2R1bGVDYWxsID0gZnVuY3Rpb24gKGNiLCBwcmVkKSB7CiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzTWFwLmhhcyhwcmVkKSkgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc01hcC5nZXQocHJlZCkucHVzaChjYik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrc01hcC5zZXQocHJlZCwgW2NiXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc0pxdWVyeU1vZHVsZUNhbGwnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNKcXVlcnlNb2R1bGVDYWxsKGV4cG9ydHMpIHsKICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuaGFzT3duUHJvcGVydHkoJ2ZuJykgJiYgZXhwb3J0cy5mbi5oYXNPd25Qcm9wZXJ0eSgnanF1ZXJ5Jyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tKcXVlcnknLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBob29rSnF1ZXJ5KCkgewogICAgICAgICAgICB2YXIgY2IgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZ1bmN0aW9uICgpIHt9OwoKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzSnF1ZXJ5TW9kdWxlQ2FsbCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tKcXVlcnlBamF4JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va0pxdWVyeUFqYXgoY2IpIHsKICAgICAgICAgICAgdGhpcy5ob29rSnF1ZXJ5KGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgICAgICAgICAgICB2YXIgYWpheCA9IGV4cG9ydHMuYWpheC5iaW5kKGV4cG9ydHMpOwogICAgICAgICAgICAgICAgZXhwb3J0cy5hamF4ID0gZnVuY3Rpb24gKHVybCkgewogICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVmMyA9IFt1cmwudXJsLCB1cmxdOwogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBfcmVmM1swXTsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYzWzFdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNIaWphY2tlZCA9IGNiKHVybCwgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSGlqYWNrZWQpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWpheCh1cmwsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc0h0dHBNb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzSHR0cE1vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eSgnanNvbnAnKSAmJiBleHBvcnRzLmhhc093blByb3BlcnR5KCdhamF4Jyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tIdHRwJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va0h0dHAoY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzSHR0cE1vZHVsZUNhbGwpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rSHR0cEpzb25wJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va0h0dHBKc29ucChjYikgewogICAgICAgICAgICB0aGlzLmhvb2tIdHRwKGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgICAgICAgICAgICB2YXIganNvbnAgPSBleHBvcnRzLmpzb25wLmJpbmQoZXhwb3J0cyk7CiAgICAgICAgICAgICAgICBleHBvcnRzLmpzb25wID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaXNIaWphY2tlZCA9IGNiKG9wdGlvbnMpOwogICAgICAgICAgICAgICAgICAgIGlmIChpc0hpamFja2VkKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzb25wKG9wdGlvbnMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc0xvZ29Nb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzTG9nb01vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ3Nob3dMb2dvJyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tMb2dvJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va0xvZ28oY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzTG9nb01vZHVsZUNhbGwpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNGdWxsU2NyZWVuTW9kdWxlQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0Z1bGxTY3JlZW5Nb2R1bGVDYWxsKGV4cG9ydHMpIHsKICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMuX19wcm90b19fICYmIGV4cG9ydHMuX19wcm90b19fLmhhc093blByb3BlcnR5KCdpc0Z1bGxTY3JlZW4nKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaG9va0Z1bGxTY3JlZW4nLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBob29rRnVsbFNjcmVlbihjYikgewogICAgICAgICAgICB0aGlzLl9ob29rTW9kdWxlQ2FsbChjYiwgdGhpcy5faXNGdWxsU2NyZWVuTW9kdWxlQ2FsbCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc1dlYkZ1bGxTY3JlZW5Nb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzV2ViRnVsbFNjcmVlbk1vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5fX3Byb3RvX18gJiYgZXhwb3J0cy5fX3Byb3RvX18uaGFzT3duUHJvcGVydHkoJ2lzV2ViRnVsbFNjcmVlbicpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rV2ViRnVsbFNjcmVlbicsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tXZWJGdWxsU2NyZWVuKGNiKSB7CiAgICAgICAgICAgIHRoaXMuX2hvb2tNb2R1bGVDYWxsKGNiLCB0aGlzLl9pc1dlYkZ1bGxTY3JlZW5Nb2R1bGVDYWxsKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaG9va1dlYkZ1bGxTY3JlZW5Jbml0JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1dlYkZ1bGxTY3JlZW5Jbml0KGNiKSB7CiAgICAgICAgICAgIHRoaXMuaG9va1dlYkZ1bGxTY3JlZW4oZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIHZhciBpbml0ID0gZXhwb3J0cy5fX3Byb3RvX18uaW5pdDsKICAgICAgICAgICAgICAgIGV4cG9ydHMuX19wcm90b19fLmluaXQgPSBmdW5jdGlvbiAod3JhcHBlciwgYnRuKSB7CiAgICAgICAgICAgICAgICAgICAgY2IodGhpcywgd3JhcHBlciwgYnRuKTsKICAgICAgICAgICAgICAgICAgICBpbml0LmFwcGx5KHRoaXMsIFt3cmFwcGVyLCBidG5dKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNQbHVnaW5Db250cm9sc01vZHVsZUNhbGwnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNQbHVnaW5Db250cm9sc01vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2luaXRGdWxsU2NyZWVuJyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tQbHVnaW5Db250cm9scycsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tQbHVnaW5Db250cm9scyhjYikgewogICAgICAgICAgICB0aGlzLl9ob29rTW9kdWxlQ2FsbChjYiwgdGhpcy5faXNQbHVnaW5Db250cm9sc01vZHVsZUNhbGwpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rUGx1Z2luQ29udHJvbHNJbml0JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1BsdWdpbkNvbnRyb2xzSW5pdChjYikgewogICAgICAgICAgICB0aGlzLmhvb2tQbHVnaW5Db250cm9scyhmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgICAgICAgICAgdmFyIGluaXQgPSBleHBvcnRzLnByb3RvdHlwZS5pbml0OwogICAgICAgICAgICAgICAgZXhwb3J0cy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjYih0aGlzKTsKICAgICAgICAgICAgICAgICAgICBpbml0LmFwcGx5KHRoaXMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tJbml0RnVsbFNjcmVlbicsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tJbml0RnVsbFNjcmVlbihjYikgewogICAgICAgICAgICB0aGlzLmhvb2tQbHVnaW5Db250cm9scyhmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgICAgICAgICAgdmFyIGluaXRGdWxsU2NyZWVuID0gZXhwb3J0cy5wcm90b3R5cGUuaW5pdEZ1bGxTY3JlZW47CiAgICAgICAgICAgICAgICBleHBvcnRzLnByb3RvdHlwZS5pbml0RnVsbFNjcmVlbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBjYih0aGlzKTsKICAgICAgICAgICAgICAgICAgICBpbml0RnVsbFNjcmVlbi5hcHBseSh0aGlzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNDb3JlTW9kdWxlQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0NvcmVNb2R1bGVDYWxsKGV4cG9ydHMpIHsKICAgICAgICAgICAgcmV0dXJuICdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzICYmIGV4cG9ydHMucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdnZXRkZWZhdWx0dmRzJykgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ2dldE1vdmllSW5mbycpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rQ29yZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tDb3JlKGNiKSB7CiAgICAgICAgICAgIHRoaXMuX2hvb2tNb2R1bGVDYWxsKGNiLCB0aGlzLl9pc0NvcmVNb2R1bGVDYWxsKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2lzU2tpbkJhc2VNb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzU2tpbkJhc2VNb2R1bGVDYWxsKGV4cG9ydHMpIHsKICAgICAgICAgICAgcmV0dXJuICdmdW5jdGlvbicgPT09IHR5cGVvZiBleHBvcnRzICYmIGV4cG9ydHMucHJvdG90eXBlLmhhc093blByb3BlcnR5KCdfY2hlY2tQbHVnaW4nKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaG9va1NraW5CYXNlJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1NraW5CYXNlKGNiKSB7CiAgICAgICAgICAgIHRoaXMuX2hvb2tNb2R1bGVDYWxsKGNiLCB0aGlzLl9pc1NraW5CYXNlTW9kdWxlQ2FsbCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc1BsdWdpbkhvdEtleXNNb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzUGx1Z2luSG90S2V5c01vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ19rZXlkb3duJyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tQbHVnaW5Ib3RLZXlzJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1BsdWdpbkhvdEtleXMoY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzUGx1Z2luSG90S2V5c01vZHVsZUNhbGwpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNGcmFnbWVudE1vZHVsZUNhbGwnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNGcmFnbWVudE1vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ3BhcnNlRGF0YScpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rRnJhZ21lbnQnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBob29rRnJhZ21lbnQoY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzRnJhZ21lbnRNb2R1bGVDYWxsKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaG9va1BhcnNlRGF0YScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhvb2tQYXJzZURhdGEoY2IpIHsKICAgICAgICAgICAgdGhpcy5ob29rRnJhZ21lbnQoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIHZhciBwYXJzZURhdGEgPSBleHBvcnRzLnByb3RvdHlwZS5wYXJzZURhdGE7CiAgICAgICAgICAgICAgICBleHBvcnRzLnByb3RvdHlwZS5wYXJzZURhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgcGFyc2VEYXRhLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgIGNiKHRoaXMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc1VzZXJNb2R1bGVDYWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2lzVXNlck1vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5fX3Byb3RvX18gJiYgZXhwb3J0cy5fX3Byb3RvX18uaGFzT3duUHJvcGVydHkoJ2lzVmlwJyk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2hvb2tVc2VyJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1VzZXIoY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzVXNlck1vZHVsZUNhbGwpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaXNTaG93UmVxdWVzdE1vZHVsZUNhbGwnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNTaG93UmVxdWVzdE1vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMgJiYgZXhwb3J0cy5jb21wcmVzc1JlcXVlc3RLZXkgJiYgZXhwb3J0cy5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoJ3JlcXVlc3QnKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaG9va1Nob3dSZXF1ZXN0JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va1Nob3dSZXF1ZXN0KGNiKSB7CiAgICAgICAgICAgIHRoaXMuX2hvb2tNb2R1bGVDYWxsKGNiLCB0aGlzLl9pc1Nob3dSZXF1ZXN0TW9kdWxlQ2FsbCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19pc0RlZmF1bHRTa2luTW9kdWxlQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0RlZmF1bHRTa2luTW9kdWxlQ2FsbChleHBvcnRzKSB7CiAgICAgICAgICAgIHJldHVybiAnZnVuY3Rpb24nID09PSB0eXBlb2YgZXhwb3J0cyAmJiBleHBvcnRzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnX2luaXREQkNsaWNrcycpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rRGVmYXVsdFNraW4nLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBob29rRGVmYXVsdFNraW4oY2IpIHsKICAgICAgICAgICAgdGhpcy5faG9va01vZHVsZUNhbGwoY2IsIHRoaXMuX2lzRGVmYXVsdFNraW5Nb2R1bGVDYWxsKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2lzQ29uZmlnTW9kdWxlQ2FsbCcsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0NvbmZpZ01vZHVsZUNhbGwoZXhwb3J0cykgewogICAgICAgICAgICByZXR1cm4gZXhwb3J0cy5sb2FkVHlwZSAmJiBleHBvcnRzLmRpc3BhdGNoQ2ZnOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdob29rQ29uZmlnJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaG9va0NvbmZpZyhjYikgewogICAgICAgICAgICB0aGlzLl9ob29rTW9kdWxlQ2FsbChjYiwgdGhpcy5faXNDb25maWdNb2R1bGVDYWxsKTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEhvb2tlcjsKfSgpOwoKSG9va2VyLmtlZXBhbGl2ZSA9IGZhbHNlOwoKZXhwb3J0cy5kZWZhdWx0ID0gSG9va2VyOwoKLyoqKi8gfSksCi8qIDEgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICAgIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi8KdmFyIExvZ2dlciA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIExvZ2dlcih0YWcpIHsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTG9nZ2VyKTsKCiAgICAgICAgdGhpcy5fdGFnID0gdGFnOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhMb2dnZXIsIFt7CiAgICAgICAga2V5OiAnbG9nJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbG9nKCkgewogICAgICAgICAgICB2YXIgX2NvbnNvbGU7CgogICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKF9jb25zb2xlID0gY29uc29sZSkubG9nLmFwcGx5KF9jb25zb2xlLCBbdGhpcy50YWcgKyBhcmdzLnNoaWZ0KCldLmNvbmNhdChhcmdzKSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2luZm8nLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvKCkgewogICAgICAgICAgICB2YXIgX2NvbnNvbGUyOwoKICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHsKICAgICAgICAgICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgKF9jb25zb2xlMiA9IGNvbnNvbGUpLmxvZy5hcHBseShfY29uc29sZTIsIFsnJWMnICsgdGhpcy50YWcgKyAnJWMnICsgYXJncy5zaGlmdCgpLCAnY29sb3I6IGdyZWVuOyBmb250LXdlaWdodDogYm9sZGVyJywgJ2NvbG9yOiBibHVlJ10uY29uY2F0KGFyZ3MpKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnZGVidWcnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZWJ1ZygpIHsKICAgICAgICAgICAgdmFyIF9jb25zb2xlMzsKCiAgICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7CiAgICAgICAgICAgICAgICBhcmdzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIChfY29uc29sZTMgPSBjb25zb2xlKS5kZWJ1Zy5hcHBseShfY29uc29sZTMsIFt0aGlzLnRhZyArIGFyZ3Muc2hpZnQoKV0uY29uY2F0KGFyZ3MpKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnd2FybicsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHdhcm4oKSB7CiAgICAgICAgICAgIHZhciBfY29uc29sZTQ7CgogICAgICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykgewogICAgICAgICAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdOwogICAgICAgICAgICB9CgogICAgICAgICAgICAoX2NvbnNvbGU0ID0gY29uc29sZSkud2Fybi5hcHBseShfY29uc29sZTQsIFt0aGlzLnRhZyArIGFyZ3Muc2hpZnQoKV0uY29uY2F0KGFyZ3MpKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnZXJyb3InLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBlcnJvcigpIHsKICAgICAgICAgICAgdmFyIF9jb25zb2xlNTsKCiAgICAgICAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7CiAgICAgICAgICAgICAgICBhcmdzW19rZXk1XSA9IGFyZ3VtZW50c1tfa2V5NV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIChfY29uc29sZTUgPSBjb25zb2xlKS5lcnJvci5hcHBseShfY29uc29sZTUsIFt0aGlzLnRhZyArIGFyZ3Muc2hpZnQoKV0uY29uY2F0KGFyZ3MpKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAndGFnJywKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RhZzsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIExvZ2dlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gbmV3IExvZ2dlcihgWyR7R01faW5mby5zY3JpcHQubmFtZX1dYCk7CgovKioqLyB9KSwKLyogMiAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CgoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIERldGVjdG9yID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRGV0ZWN0b3IoKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERldGVjdG9yKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoRGV0ZWN0b3IsIG51bGwsIFt7CiAgICAgICAga2V5OiAnaXNTdXBwb3J0SHRtbDUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRIdG1sNSgpIHsKICAgICAgICAgICAgdmFyIHYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwogICAgICAgICAgICByZXR1cm4gISEodi5jYW5QbGF5VHlwZSgnYXVkaW8vbXA0OyBjb2RlY3M9Im1wNGEuNDAuMiInKSAmJiB2LmNhblBsYXlUeXBlKCd2aWRlby9tcDQ7IGNvZGVjcz0iYXZjMS42NDAwMjkiJykgJiYgdi5jYW5QbGF5VHlwZSgndmlkZW8vbXA0OyBjb2RlY3M9ImF2YzEuNjQwMDI5LCBtcDRhLjQwLjIiJykpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdpc1N1cHBvcnRWbXMnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1N1cHBvcnRWbXMoKSB7CiAgICAgICAgICAgIHJldHVybiAhISh3aW5kb3cuTWVkaWFTb3VyY2UgJiYgd2luZG93LlVSTCAmJiB3aW5kb3cuV2ViU29ja2V0ICYmIHdpbmRvdy5SZWFkYWJsZVN0cmVhbSAmJiAod2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiB8fCB3aW5kb3cud2Via2l0UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSAmJiAod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uIHx8IHdpbmRvdy53ZWJraXRSVENQZWVyQ29ubmVjdGlvbikgJiYgKHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgfHwgd2luZG93LndlYmtpdFJUQ0ljZUNhbmRpZGF0ZSkpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdpc1N1cHBvcnRNM3U4JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNTdXBwb3J0TTN1OCgpIHsKICAgICAgICAgICAgdmFyIHYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpOwogICAgICAgICAgICByZXR1cm4gISEodi5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24veC1tcGVndXJsJykgJiYgdi5jYW5QbGF5VHlwZSgnYXBwbGljYXRpb24vdm5kLmFwcGxlLm1wZWd1cmwnKSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2lzQ2hyb21lJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNDaHJvbWUoKSB7CiAgICAgICAgICAgIHJldHVybiAoL2Nocm9tZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkKICAgICAgICAgICAgKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaXNGaXJlZm94JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNGaXJlZm94KCkgewogICAgICAgICAgICByZXR1cm4gKC9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KQogICAgICAgICAgICApOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdpc0VkZ2UnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0VkZ2UoKSB7CiAgICAgICAgICAgIHJldHVybiAoL2VkZ2UvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpCiAgICAgICAgICAgICk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2lzSW5JRnJhbWUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc0luSUZyYW1lKCkgewogICAgICAgICAgICByZXR1cm4gd2luZG93LnRvcCAhPT0gd2luZG93LnNlbGY7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2lzT3V0c2l0ZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzT3V0c2l0ZSgpIHsKICAgICAgICAgICAgcmV0dXJuICEvXC5pcWl5aVwuY29tJC8udGVzdChsb2NhdGlvbi5ob3N0KTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaXNPdXRzaWRlTGluaycsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzT3V0c2lkZUxpbmsoKSB7CiAgICAgICAgICAgIHJldHVybiBsb2NhdGlvbi5oYXNoID09PSAnI291dHNpZGVsaW5rJzsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnaGFzRmxhc2hQbHVnaW4nLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoYXNGbGFzaFBsdWdpbigpIHsKICAgICAgICAgICAgdmFyIHBsdWdpbnMgPSB1bnNhZmVXaW5kb3cubmF2aWdhdG9yLnBsdWdpbnM7CiAgICAgICAgICAgIHJldHVybiAhIShwbHVnaW5zWydTaG9ja3dhdmUgRmxhc2gnXSAmJiBwbHVnaW5zWydTaG9ja3dhdmUgRmxhc2gnXS5kZXNjcmlwdGlvbik7CiAgICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBEZXRlY3RvcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gRGV0ZWN0b3I7CgovKioqLyB9KSwKLyogMyAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CgoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIEZha2VyID0gZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRmFrZXIoKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZha2VyKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoRmFrZXIsIG51bGwsIFt7CiAgICAgICAga2V5OiAnZmFrZU1hY1BsYXRmb3JtJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmFrZU1hY1BsYXRmb3JtKCkgewogICAgICAgICAgICB2YXIgUExBRk9STV9NQUMgPSAnbWFjJzsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdy5uYXZpZ2F0b3IsICdwbGF0Zm9ybScsIHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBMQUZPUk1fTUFDOwogICAgICAgICAgICAgICAgfSB9KTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnZmFrZVNhZmFyaScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZha2VTYWZhcmkoKSB7CiAgICAgICAgICAgIHZhciBVQV9TQUZBUlkgPSAnc2FmYXJpJzsKICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHVuc2FmZVdpbmRvdy5uYXZpZ2F0b3IsICd1c2VyQWdlbnQnLCB7IGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBVQV9TQUZBUlk7CiAgICAgICAgICAgICAgICB9IH0pOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdmYWtlQ2hyb21lJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmFrZUNocm9tZSgpIHsKICAgICAgICAgICAgdmFyIHZlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7CgogICAgICAgICAgICB2YXIgVUFfQ0hST01FID0gYENocm9tZS8ke3Zlcn1gOwogICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodW5zYWZlV2luZG93Lm5hdmlnYXRvciwgJ3VzZXJBZ2VudCcsIHsgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFVBX0NIUk9NRTsKICAgICAgICAgICAgICAgIH0gfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ2Zha2VGbGFzaFBsdWdpbicsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZha2VGbGFzaFBsdWdpbigpIHsKICAgICAgICAgICAgdmFyIHBsdWdpbiA9IHsKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnU2hvY2t3YXZlIEZsYXNoIDI2LjAgcjAnLAogICAgICAgICAgICAgICAgZmlsZW5hbWU6ICdwZXBmbGFzaHBsYXllcjY0XzI2XzBfMF8xMzEuZGxsJywKICAgICAgICAgICAgICAgIGxlbmd0aDogMCwKICAgICAgICAgICAgICAgIG5hbWU6ICdTaG9ja3dhdmUgRmxhc2gnCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBSZWZsZWN0LnNldFByb3RvdHlwZU9mKHBsdWdpbiwgUGx1Z2luLnByb3RvdHlwZSk7CiAgICAgICAgICAgIHVuc2FmZVdpbmRvdy5uYXZpZ2F0b3IucGx1Z2luc1snU2hvY2t3YXZlIEZsYXNoJ10gPSBwbHVnaW47CiAgICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBGYWtlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gRmFrZXI7CgovKioqLyB9KSwKLyogNCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7Cgp2YXIgZzsKCi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlCmcgPSAoZnVuY3Rpb24oKSB7CglyZXR1cm4gdGhpczsKfSkoKTsKCnRyeSB7CgkvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUCkKCWcgPSBnIHx8IEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCkgfHwgKDEsZXZhbCkoInRoaXMiKTsKfSBjYXRjaChlKSB7CgkvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZQoJaWYodHlwZW9mIHdpbmRvdyA9PT0gIm9iamVjdCIpCgkJZyA9IHdpbmRvdzsKfQoKLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLgovLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQncwovLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59Cgptb2R1bGUuZXhwb3J0cyA9IGc7CgoKLyoqKi8gfSksCi8qIDUgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbInJldHVybiJdKSBfaVsicmV0dXJuIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpOyB9IH07IH0oKTsKCnZhciBfbG9nZ2VyID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTsKCnZhciBfbG9nZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xvZ2dlcik7Cgp2YXIgX2Nvb2tpZXMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpOwoKdmFyIF9jb29raWVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Nvb2tpZXMpOwoKdmFyIF9kZXRlY3RvciA9IF9fd2VicGFja19yZXF1aXJlX18oMik7Cgp2YXIgX2RldGVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RldGVjdG9yKTsKCnZhciBfZmFrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOwoKdmFyIF9mYWtlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mYWtlcik7Cgp2YXIgX291dHNpdGUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpOwoKdmFyIF9wYXRjaCA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCnZhciBQTEFZRVJfVFlQRSA9IHsKICAgIEh0bWw1Vk9EOiAnaDVfVk9EJywKICAgIEZsYXNoVk9EOiAnZmxhc2hfVk9EJwp9OwoKZnVuY3Rpb24gZm9yY2VIdG1sNSgpIHsKICAgIF9jb29raWVzMi5kZWZhdWx0LnNldCgncGxheWVyX2ZvcmNlZFR5cGUnLCBQTEFZRVJfVFlQRS5IdG1sNVZPRCwgeyBkb21haW46ICcuaXFpeWkuY29tJyB9KTsKICAgIF9sb2dnZXIyLmRlZmF1bHQuaW5mbyhgVGhlICdwbGF5ZXJfZm9yY2VkVHlwZScgY29va2llIGhhcyBiZWVuIHNldCBhcyAnJHtQTEFZRVJfVFlQRS5IdG1sNVZPRH0nYCk7Cn0KCmZ1bmN0aW9uIGZvcmNlRmxhc2goKSB7CiAgICBfY29va2llczIuZGVmYXVsdC5zZXQoJ3BsYXllcl9mb3JjZWRUeXBlJywgUExBWUVSX1RZUEUuRmxhc2hWT0QsIHsgZG9tYWluOiAnLmlxaXlpLmNvbScgfSk7CiAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oYFRoZSAncGxheWVyX2ZvcmNlZFR5cGUnIGNvb2tpZSBoYXMgYmVlbiBzZXQgYXMgJyR7UExBWUVSX1RZUEUuRmxhc2hWT0R9J2ApOwp9CgpmdW5jdGlvbiBjbGVhbigpIHsKICAgIF9jb29raWVzMi5kZWZhdWx0LnJlbW92ZSgncGxheWVyX2ZvcmNlZFR5cGUnLCB7IGRvbWFpbjogJy5pcWl5aS5jb20nIH0pOwogICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKGBSZW1vdmVkIHRoZSAncGxheWVyX2ZvcmNlZFR5cGUnIGNvb2tpZWApOwp9CgpmdW5jdGlvbiBzd2l0Y2hUbyh0eXBlKSB7CiAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oYFN3aXRjaGluZyB0byAke3R5cGV9IC4uLmApOwogICAgR01fc2V0VmFsdWUoJ3BsYXllcl9mb3JjZWRUeXBlJywgdHlwZSk7CiAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTsKfQoKZnVuY3Rpb24gcmVnaXN0ZXJNZW51KCkgewogICAgdmFyIE1FTlVfTkFNRSA9IHsKICAgICAgICBIVE1MNTogJ0hUTUw15pKt5pS+5ZmoJywKICAgICAgICBGTEFTSDogJ0ZsYXNo5pKt5pS+5ZmoJwogICAgfTsKCiAgICB2YXIgY3VyclR5cGUgPSBHTV9nZXRWYWx1ZSgncGxheWVyX2ZvcmNlZFR5cGUnLCBQTEFZRVJfVFlQRS5IdG1sNVZPRCk7IC8vIOm7mOiupOS4ukh0bWw15pKt5pS+5Zmo77yM5YWN5Y675YiH5o2i44CCCgogICAgdmFyIF9yZWYgPSBjdXJyVHlwZSA9PT0gUExBWUVSX1RZUEUuSHRtbDVWT0QgPyBbUExBWUVSX1RZUEUuRmxhc2hWT0QsIE1FTlVfTkFNRS5GTEFTSF0gOiBbUExBWUVSX1RZUEUuSHRtbDVWT0QsIE1FTlVfTkFNRS5IVE1MNV0sCiAgICAgICAgX3JlZjIgPSBfc2xpY2VkVG9BcnJheShfcmVmLCAyKSwKICAgICAgICB0eXBlID0gX3JlZjJbMF0sCiAgICAgICAgbmFtZSA9IF9yZWYyWzFdOwoKICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQobmFtZSwgZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzd2l0Y2hUbyh0eXBlKTsKICAgIH0sIG51bGwpOwogICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKGBSZWdpc3RlcmVkIHRoZSBtZW51LmApOwp9CgpmdW5jdGlvbiBtdXN0S2VlcEhvb2tpbmcoKSB7CiAgICByZXR1cm4gbG9jYXRpb24uc2VhcmNoLmluY2x1ZGVzKCdsaXN0Jyk7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nb295aWUvdXNlcnNjcmlwdC1pcWl5aS1wbGF5ZXItc3dpdGNoL2lzc3Vlcy8xNQp9CgovLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CgpyZWdpc3Rlck1lbnUoKTsKCnZhciBjdXJyVHlwZSA9IEdNX2dldFZhbHVlKCdwbGF5ZXJfZm9yY2VkVHlwZScsIFBMQVlFUl9UWVBFLkh0bWw1Vk9EKTsKaWYgKGN1cnJUeXBlID09PSBQTEFZRVJfVFlQRS5IdG1sNVZPRCkgewogICAgaWYgKF9kZXRlY3RvcjIuZGVmYXVsdC5pc1N1cHBvcnRIdG1sNSgpKSB7CiAgICAgICAgaWYgKF9kZXRlY3RvcjIuZGVmYXVsdC5pc091dHNpdGUoKSkgewogICAgICAgICAgICAoMCwgX291dHNpdGUucmVwbGFjZUZsYXNoKSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGZvcmNlSHRtbDUoKTsKCiAgICAgICAgICAgIGlmIChfZGV0ZWN0b3IyLmRlZmF1bHQuaXNGaXJlZm94KCkpIHsKICAgICAgICAgICAgICAgIC8vIEZha2UgQ2hyb21lIHdpdGggYSB2ZXJzaW9uIG51bWJlciBsZXNzIHRoYW4gNDMKICAgICAgICAgICAgICAgIC8vIHRvIHVzZSB0aGUgZGF0YSBlbmdpbmUgdG8gcGxheSB2aWRlb3MgYmV0dGVyIHRoYW4gSEQgYW5kIHRvIHVzZSB0aGUgWEhSIGxvYWRlcgogICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBGaXJlZm94IGhhcyBub3QgeWV0IGltcGxlbWVudGVkIFJlYWRhYmxlU3RyZWFtIHRvIHN1cHBvcnQgdGhlIEZldGNoIGxvYWRlci4KICAgICAgICAgICAgICAgIF9mYWtlcjIuZGVmYXVsdC5mYWtlQ2hyb21lKDQyKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKG11c3RLZWVwSG9va2luZygpKSB7CiAgICAgICAgICAgICAgICBfcGF0Y2gua2VlcEhvb2tpbmdQYXRjaC5pbnN0YWxsKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgX3BhdGNoLmFkc1BhdGNoLmluc3RhbGwoKTsKICAgICAgICAgICAgX3BhdGNoLmNvbnRyb2xzUGF0Y2guaW5zdGFsbCgpOwogICAgICAgICAgICBfcGF0Y2gud2F0ZXJtYXJrc1BhdGNoLmluc3RhbGwoKTsKICAgICAgICAgICAgX3BhdGNoLnZpcFBhdGNoLmluc3RhbGwoKTsKICAgICAgICAgICAgX3BhdGNoLmtleVNob3J0Y3V0c1BhdGNoLmluc3RhbGwoKTsKICAgICAgICAgICAgX3BhdGNoLm1vdXNlU2hvcnRjdXRzUGF0Y2guaW5zdGFsbCgpOwogICAgICAgICAgICBfcGF0Y2gudXNlV2ViU29ja2V0TG9hZGVyUGF0Y2guaW5zdGFsbCgpOwoKICAgICAgICAgICAgaWYgKF9kZXRlY3RvcjIuZGVmYXVsdC5pc0luSUZyYW1lKCkgJiYgX2RldGVjdG9yMi5kZWZhdWx0LmlzT3V0c2lkZUxpbmsoKSkgewogICAgICAgICAgICAgICAgKDAsIF9vdXRzaXRlLmFkYXB0SWZyYW1lKSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgn4pWuKOKVr+KWveKVsCnila0g5L2g55qE5rWP6KeI5Zmo5pKt5pS+5LiN5LqGaHRtbDXop4bpopF+fn5+Jyk7CiAgICB9Cn0gZWxzZSB7CiAgICBmb3JjZUZsYXNoKCk7Cn0KCndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gY2xlYW4oKTsKfSk7CgovKioqLyB9KSwKLyogNiAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgoidXNlIHN0cmljdCI7CgoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogICAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKdmFyIENvb2tpZXMgPSBmdW5jdGlvbiAoKSB7CiAgICBmdW5jdGlvbiBDb29raWVzKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb29raWVzKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoQ29va2llcywgbnVsbCwgW3sKICAgICAgICBrZXk6ICdnZXQnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoa2V5KSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDsKICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoJ15bXlxceDAwLVxceDIwXFx4N2ZcXChcXCk8PkAsOzpcXFxcXFwiXFxbXFxdXFw/PVxce1xcfVxcL1xcdTAwODAtXFx1ZmZmZl0rJCcpLnRlc3Qoa2V5KSkgewogICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250cm9sLXJlZ2V4CiAgICAgICAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKCcoXnwgKScgKyBrZXkgKyAnPShbXjtdKikoO3wkKScpOwogICAgICAgICAgICAgICAgdmFyIHJzID0gcmUuZXhlYyhkb2N1bWVudC5jb29raWUpOwogICAgICAgICAgICAgICAgdmFsdWUgPSBycyA/IHJzWzJdIDogJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6ICcnOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdzZXQnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXQoaywgdikgewogICAgICAgICAgICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CgogICAgICAgICAgICB2YXIgbiA9IG8uZXhwaXJlczsKICAgICAgICAgICAgaWYgKCdudW1iZXInID09IHR5cGVvZiBvLmV4cGlyZXMpIHsKICAgICAgICAgICAgICAgIG4gPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgbi5zZXRUaW1lKG4uZ2V0VGltZSgpICsgby5leHBpcmVzKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB2YXIga2V5ID0gazsKICAgICAgICAgICAgdmFyIHZhbHVlID0gZW5jb2RlVVJJQ29tcG9uZW50KHYpOwogICAgICAgICAgICB2YXIgcGF0aCA9IG8ucGF0aCA/ICc7IHBhdGg9JyArIG8ucGF0aCA6ICcnOwogICAgICAgICAgICB2YXIgZXhwaXJlcyA9IG4gPyAnOyBleHBpcmVzPScgKyBuLnRvR01UU3RyaW5nKCkgOiAnJzsKICAgICAgICAgICAgdmFyIGRvbWFpbiA9IG8uZG9tYWluID8gJzsgZG9tYWluPScgKyBvLmRvbWFpbiA6ICcnOwogICAgICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtrZXl9PSR7dmFsdWV9JHtwYXRofSR7ZXhwaXJlc30ke2RvbWFpbn1gOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdyZW1vdmUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoaykgewogICAgICAgICAgICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CgogICAgICAgICAgICBvLmV4cGlyZXMgPSBuZXcgRGF0ZSgwKTsKICAgICAgICAgICAgdGhpcy5zZXQoaywgJycsIG8pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQ29va2llczsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gQ29va2llczsKCi8qKiovIH0pLAovKiA3ICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5hZGFwdElmcmFtZSA9IGV4cG9ydHMucmVwbGFjZUZsYXNoID0gdW5kZWZpbmVkOwoKdmFyIF9yZWdlbmVyYXRvciA9IF9fd2VicGFja19yZXF1aXJlX18oOCk7Cgp2YXIgX3JlZ2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlZ2VuZXJhdG9yKTsKCnZhciBlbWJlZFNyYyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yMi5kZWZhdWx0Lm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0YXJnZXROb2RlLCBfcmVmKSB7CiAgICAgICAgdmFyIHR2aWQgPSBfcmVmLnR2aWQsCiAgICAgICAgICAgIHZpZCA9IF9yZWYudmlkOwogICAgICAgIHZhciB1cmw7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvcjIuZGVmYXVsdC53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROb2RlLmlubmVySFRNTCA9IGA8ZGl2IGNsYXNzPSIke0dNX2luZm8uc2NyaXB0Lm5hbWV9IGluZm8iPuato+WcqOiOt+WPluinhumikea6kC4uLjwvZGl2PmA7CgogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgX3V0aWxzLmdldFZpZGVvVXJsKSh0dmlkLCB2aWQpOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ3NvdXJjZSB1cmw6ICVzJywgdXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZS5pbm5lckhUTUwgPSBgPGlmcmFtZSBpZD0ib3V0c2lkZWxpbmsiIHNyYz0iJHt1cmx9I291dHNpZGVsaW5rIiBmcmFtZWJvcmRlcj0iMCIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIj48L2lmcmFtZT5gOwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WydjYXRjaCddKDEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Tm9kZS5pbm5lckhUTUwgPSBgPGRpdiBjbGFzcz0iJHtHTV9pbmZvLnNjcmlwdC5uYW1lfSBlcnJvciI+PHA+6I635Y+W6KeG6aKR5rqQ5Ye66ZSZ77yBPC9wPjxwPiR7X2NvbnRleHQudDAubWVzc2FnZX08L3A+PC9kaXY+YDsKCiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgICAgICBjYXNlICdlbmQnOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcywgW1sxLCA5XV0pOwogICAgfSkpOwoKICAgIHJldHVybiBmdW5jdGlvbiBlbWJlZFNyYyhfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9Owp9KCk7Cgp2YXIgX2xvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7Cgp2YXIgX2xvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dnZXIpOwoKdmFyIF9ob29rZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwoKdmFyIF9ob29rZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va2VyKTsKCnZhciBfZmFrZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMpOwoKdmFyIF9mYWtlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9mYWtlcik7Cgp2YXIgX2RldGVjdG9yID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTsKCnZhciBfZGV0ZWN0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGV0ZWN0b3IpOwoKdmFyIF91dGlscyA9IF9fd2VicGFja19yZXF1aXJlX18oMTEpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9hc3luY1RvR2VuZXJhdG9yKGZuKSB7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBnZW4gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyBmdW5jdGlvbiBzdGVwKGtleSwgYXJnKSB7IHRyeSB7IHZhciBpbmZvID0gZ2VuW2tleV0oYXJnKTsgdmFyIHZhbHVlID0gaW5mby52YWx1ZTsgfSBjYXRjaCAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgcmV0dXJuOyB9IGlmIChpbmZvLmRvbmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0gZWxzZSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7IHN0ZXAoIm5leHQiLCB2YWx1ZSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgc3RlcCgidGhyb3ciLCBlcnIpOyB9KTsgfSB9IHJldHVybiBzdGVwKCJuZXh0Iik7IH0pOyB9OyB9CgpmdW5jdGlvbiByZXBsYWNlRmxhc2goKSB7CiAgICBpZiAoIV9kZXRlY3RvcjIuZGVmYXVsdC5oYXNGbGFzaFBsdWdpbigpKSBfZmFrZXIyLmRlZmF1bHQuZmFrZUZsYXNoUGx1Z2luKCk7CgogICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKHJlY29yZHMsIHNlbGYpIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7CiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSByZWNvcmRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmIChyZWNvcmQudHlwZSAhPT0gJ2NoaWxkTGlzdCcgfHwgIXJlY29yZC5hZGRlZE5vZGVzKSBjb250aW51ZTsKCiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlOwogICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKCiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSByZWNvcmQuYWRkZWROb2Rlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IF9zdGVwMi52YWx1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVOYW1lICE9PSAnT0JKRUNUJyAmJiBub2RlLm5vZGVOYW1lICE9PSAnRU1CRUQnKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdmb3VuZCBub2RlJywgbm9kZSk7CgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG5vZGUub3V0ZXJIVE1MOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmlkID0gKDAsIF91dGlscy5maW5kVmlkKSh0ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR2aWQgPSAoMCwgX3V0aWxzLmZpbmRUdmlkKSh0ZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0dmlkICYmIHZpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdmb3VuZCB0dmlkOiAlcywgdmlkOiAlcycsIHR2aWQsIHZpZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWJlZFNyYyhub2RlLnBhcmVudE5vZGUsIHsgdHZpZCwgdmlkIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXNjb25uZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ3N0b3BlZCBvYnNlcnZhdGlvbicpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlOwogICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pOwoKICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHsgc3VidHJlZTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlIH0pOwogICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdzdGFydGVkIG9ic2VydmF0aW9uJyk7Cn0KCmZ1bmN0aW9uIGFkYXB0SWZyYW1lKCkgewogICAgdmFyIHN0eWxlID0gYAogICAgICAgIGJvZHlbY2xhc3N8PSJxeXBhZ2UiXSB7CiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMCAhaW1wb3J0YW50OwogICAgICAgICAgICB2aXNpYmlsaXR5OiBoaWRkZW47CiAgICAgICAgfQoKICAgICAgICAubW9kLWZ1bmMgewogICAgICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7CiAgICAgICAgfQoKICAgICAgICAuJHtHTV9pbmZvLnNjcmlwdC5uYW1lfS5pbmZvIHsKICAgICAgICAgICAgd2lkdGg6IDIwZW07CiAgICAgICAgICAgIGhlaWdodDogNWVtOwogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgYm90dG9tOiAwOwogICAgICAgICAgICBsZWZ0OiAwOwogICAgICAgICAgICByaWdodDogMDsKICAgICAgICAgICAgbWFyZ2luOiBhdXRvOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiA1ZW07CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtOwogICAgICAgICAgICBjb2xvcjogI2NjYzsKICAgICAgICB9CgogICAgICAgIC4ke0dNX2luZm8uc2NyaXB0Lm5hbWV9LmVycm9yIHsKICAgICAgICAgICAgaGVpZ2h0OiAzZW07CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICBib3R0b206IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICBtYXJnaW46IGF1dG87CiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgZm9udC1zaXplOiAxZW07CiAgICAgICAgICAgIGNvbG9yOiAjYzAwOwogICAgICAgIH0KICAgIGA7CgogICAgR01fYWRkU3R5bGUoc3R5bGUpOwoKICAgIF9ob29rZXIyLmRlZmF1bHQuaG9va1dlYkZ1bGxTY3JlZW4oZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICB2YXIgaW5pdCA9IGV4cG9ydHMuX19wcm90b19fLmluaXQ7CiAgICAgICAgZXhwb3J0cy5fX3Byb3RvX18uaW5pdCA9IGZ1bmN0aW9uICh3cmFwcGVyLCBidG4pIHsKICAgICAgICAgICAgaW5pdC5hcHBseSh0aGlzLCBbd3JhcHBlciwgYnRuXSk7CiAgICAgICAgICAgIHRoaXMuZW50ZXIoKTsKCiAgICAgICAgICAgIGJ0blswXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7CiAgICAgICAgfTsKCiAgICAgICAgZXhwb3J0cy5fX3Byb3RvX18uZXhpdCA9IGZ1bmN0aW9uICgpIHt9OwogICAgfSk7CgogICAgX2hvb2tlcjIuZGVmYXVsdC5ob29rQ29yZShmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgIGV4cG9ydHMucHJvdG90eXBlLmhhc05leHRWaWRlbyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfTsKICAgIH0pOwp9CgpleHBvcnRzLnJlcGxhY2VGbGFzaCA9IHJlcGxhY2VGbGFzaDsKZXhwb3J0cy5hZGFwdElmcmFtZSA9IGFkYXB0SWZyYW1lOwoKLyoqKi8gfSksCi8qIDggKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKbW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDkpOwoKCi8qKiovIH0pLAovKiA5ICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihnbG9iYWwpIHsvLyBUaGlzIG1ldGhvZCBvZiBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QgbmVlZHMgdG8gYmUKLy8ga2VwdCBpZGVudGljYWwgdG8gdGhlIHdheSBpdCBpcyBvYnRhaW5lZCBpbiBydW50aW1lLmpzCnZhciBnID0KICB0eXBlb2YgZ2xvYmFsID09PSAib2JqZWN0IiA/IGdsb2JhbCA6CiAgdHlwZW9mIHdpbmRvdyA9PT0gIm9iamVjdCIgPyB3aW5kb3cgOgogIHR5cGVvZiBzZWxmID09PSAib2JqZWN0IiA/IHNlbGYgOiB0aGlzOwoKLy8gVXNlIGBnZXRPd25Qcm9wZXJ0eU5hbWVzYCBiZWNhdXNlIG5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCBjYWxsaW5nCi8vIGBoYXNPd25Qcm9wZXJ0eWAgb24gdGhlIGdsb2JhbCBgc2VsZmAgb2JqZWN0IGluIGEgd29ya2VyLiBTZWUgIzE4My4KdmFyIGhhZFJ1bnRpbWUgPSBnLnJlZ2VuZXJhdG9yUnVudGltZSAmJgogIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGcpLmluZGV4T2YoInJlZ2VuZXJhdG9yUnVudGltZSIpID49IDA7CgovLyBTYXZlIHRoZSBvbGQgcmVnZW5lcmF0b3JSdW50aW1lIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzdG9yZWQgbGF0ZXIuCnZhciBvbGRSdW50aW1lID0gaGFkUnVudGltZSAmJiBnLnJlZ2VuZXJhdG9yUnVudGltZTsKCi8vIEZvcmNlIHJlZXZhbHV0YXRpb24gb2YgcnVudGltZS5qcy4KZy5yZWdlbmVyYXRvclJ1bnRpbWUgPSB1bmRlZmluZWQ7Cgptb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX18oMTApOwoKaWYgKGhhZFJ1bnRpbWUpIHsKICAvLyBSZXN0b3JlIHRoZSBvcmlnaW5hbCBydW50aW1lLgogIGcucmVnZW5lcmF0b3JSdW50aW1lID0gb2xkUnVudGltZTsKfSBlbHNlIHsKICAvLyBSZW1vdmUgdGhlIGdsb2JhbCBwcm9wZXJ0eSBhZGRlZCBieSBydW50aW1lLmpzLgogIHRyeSB7CiAgICBkZWxldGUgZy5yZWdlbmVyYXRvclJ1bnRpbWU7CiAgfSBjYXRjaChlKSB7CiAgICBnLnJlZ2VuZXJhdG9yUnVudGltZSA9IHVuZGVmaW5lZDsKICB9Cn0KCi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbChleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKDQpKSkKCi8qKiovIH0pLAovKiAxMCAqLwovKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7CgovKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oZ2xvYmFsKSB7LyoqCiAqIENvcHlyaWdodCAoYykgMjAxNCwgRmFjZWJvb2ssIEluYy4KICogQWxsIHJpZ2h0cyByZXNlcnZlZC4KICoKICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQlNELXN0eWxlIGxpY2Vuc2UgZm91bmQgaW4gdGhlCiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW4KICogYWRkaXRpb25hbCBncmFudCBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluCiAqIHRoZSBzYW1lIGRpcmVjdG9yeS4KICovCgohKGZ1bmN0aW9uKGdsb2JhbCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTsKICB2YXIgaGFzT3duID0gT3AuaGFzT3duUHJvcGVydHk7CiAgdmFyIHVuZGVmaW5lZDsgLy8gTW9yZSBjb21wcmVzc2libGUgdGhhbiB2b2lkIDAuCiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iID8gU3ltYm9sIDoge307CiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCAiQEBpdGVyYXRvciI7CiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgIkBAYXN5bmNJdGVyYXRvciI7CiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCAiQEB0b1N0cmluZ1RhZyI7CgogIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09ICJvYmplY3QiOwogIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTsKICBpZiAocnVudGltZSkgewogICAgaWYgKGluTW9kdWxlKSB7CiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSwKICAgICAgLy8gbWFrZSB0aGUgZXhwb3J0cyBvYmplY3QgaWRlbnRpY2FsIHRvIHJlZ2VuZXJhdG9yUnVudGltZS4KICAgICAgbW9kdWxlLmV4cG9ydHMgPSBydW50aW1lOwogICAgfQogICAgLy8gRG9uJ3QgYm90aGVyIGV2YWx1YXRpbmcgdGhlIHJlc3Qgb2YgdGhpcyBmaWxlIGlmIHRoZSBydW50aW1lIHdhcwogICAgLy8gYWxyZWFkeSBkZWZpbmVkIGdsb2JhbGx5LgogICAgcmV0dXJuOwogIH0KCiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyCiAgLy8gbW9kdWxlLmV4cG9ydHMgKGlmIHdlJ3JlIGluIGEgbW9kdWxlKSBvciBhIG5ldywgZW1wdHkgb2JqZWN0LgogIHJ1bnRpbWUgPSBnbG9iYWwucmVnZW5lcmF0b3JSdW50aW1lID0gaW5Nb2R1bGUgPyBtb2R1bGUuZXhwb3J0cyA6IHt9OwoKICBmdW5jdGlvbiB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KSB7CiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci4KICAgIHZhciBwcm90b0dlbmVyYXRvciA9IG91dGVyRm4gJiYgb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IgPyBvdXRlckZuIDogR2VuZXJhdG9yOwogICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUocHJvdG9HZW5lcmF0b3IucHJvdG90eXBlKTsKICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pOwoKICAgIC8vIFRoZSAuX2ludm9rZSBtZXRob2QgdW5pZmllcyB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSAubmV4dCwKICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy4KICAgIGdlbmVyYXRvci5faW52b2tlID0gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKCiAgICByZXR1cm4gZ2VuZXJhdG9yOwogIH0KICBydW50aW1lLndyYXAgPSB3cmFwOwoKICAvLyBUcnkvY2F0Y2ggaGVscGVyIHRvIG1pbmltaXplIGRlb3B0aW1pemF0aW9ucy4gUmV0dXJucyBhIGNvbXBsZXRpb24KICAvLyByZWNvcmQgbGlrZSBjb250ZXh0LnRyeUVudHJpZXNbaV0uY29tcGxldGlvbi4gVGhpcyBpbnRlcmZhY2UgY291bGQKICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmUKICAvLyBpbnZva2VkIHdpdGhvdXQgYXJndW1lbnRzLCBidXQgaW4gYWxsIHRoZSBjYXNlcyB3ZSBjYXJlIGFib3V0IHdlCiAgLy8gYWxyZWFkeSBoYXZlIGFuIGV4aXN0aW5nIG1ldGhvZCB3ZSB3YW50IHRvIGNhbGwsIHNvIHRoZXJlJ3Mgbm8gbmVlZAogIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmcKICAvLyB0aGUgbWV0aG9kIHRha2VzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBzaW5jZSB0aGF0IGhhcHBlbnMgdG8gYmUgdHJ1ZQogIC8vIGluIGV2ZXJ5IGNhc2UsIHNvIHdlIGRvbid0IGhhdmUgdG8gdG91Y2ggdGhlIGFyZ3VtZW50cyBvYmplY3QuIFRoZQogIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2gKICAvLyBoYXMgYSBzdGFibGUgc2hhcGUgYW5kIHNvIGhvcGVmdWxseSBzaG91bGQgYmUgY2hlYXAgdG8gYWxsb2NhdGUuCiAgZnVuY3Rpb24gdHJ5Q2F0Y2goZm4sIG9iaiwgYXJnKSB7CiAgICB0cnkgewogICAgICByZXR1cm4geyB0eXBlOiAibm9ybWFsIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9OwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIHJldHVybiB7IHR5cGU6ICJ0aHJvdyIsIGFyZzogZXJyIH07CiAgICB9CiAgfQoKICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRTdGFydCA9ICJzdXNwZW5kZWRTdGFydCI7CiAgdmFyIEdlblN0YXRlU3VzcGVuZGVkWWllbGQgPSAic3VzcGVuZGVkWWllbGQiOwogIHZhciBHZW5TdGF0ZUV4ZWN1dGluZyA9ICJleGVjdXRpbmciOwogIHZhciBHZW5TdGF0ZUNvbXBsZXRlZCA9ICJjb21wbGV0ZWQiOwoKICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzCiAgLy8gYnJlYWtpbmcgb3V0IG9mIHRoZSBkaXNwYXRjaCBzd2l0Y2ggc3RhdGVtZW50LgogIHZhciBDb250aW51ZVNlbnRpbmVsID0ge307CgogIC8vIER1bW15IGNvbnN0cnVjdG9yIGZ1bmN0aW9ucyB0aGF0IHdlIHVzZSBhcyB0aGUgLmNvbnN0cnVjdG9yIGFuZAogIC8vIC5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgcHJvcGVydGllcyBmb3IgZnVuY3Rpb25zIHRoYXQgcmV0dXJuIEdlbmVyYXRvcgogIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyCiAgLy8gbWluaWZpZXIgbm90IHRvIG1hbmdsZSB0aGUgbmFtZXMgb2YgdGhlc2UgdHdvIGZ1bmN0aW9ucy4KICBmdW5jdGlvbiBHZW5lcmF0b3IoKSB7fQogIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge30KICBmdW5jdGlvbiBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSgpIHt9CgogIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXQKICAvLyBkb24ndCBuYXRpdmVseSBzdXBwb3J0IGl0LgogIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9OwogIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzOwogIH07CgogIHZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjsKICB2YXIgTmF0aXZlSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90byAmJiBnZXRQcm90byhnZXRQcm90byh2YWx1ZXMoW10pKSk7CiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmCiAgICAgIE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICE9PSBPcCAmJgogICAgICBoYXNPd24uY2FsbChOYXRpdmVJdGVyYXRvclByb3RvdHlwZSwgaXRlcmF0b3JTeW1ib2wpKSB7CiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZAogICAgLy8gb2YgdGhlIHBvbHlmaWxsLgogICAgSXRlcmF0b3JQcm90b3R5cGUgPSBOYXRpdmVJdGVyYXRvclByb3RvdHlwZTsKICB9CgogIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9CiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7CiAgR2VuZXJhdG9yRnVuY3Rpb24ucHJvdG90eXBlID0gR3AuY29uc3RydWN0b3IgPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTsKICBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdlbmVyYXRvckZ1bmN0aW9uOwogIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlW3RvU3RyaW5nVGFnU3ltYm9sXSA9CiAgICBHZW5lcmF0b3JGdW5jdGlvbi5kaXNwbGF5TmFtZSA9ICJHZW5lcmF0b3JGdW5jdGlvbiI7CgogIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlCiAgLy8gSXRlcmF0b3IgaW50ZXJmYWNlIGluIHRlcm1zIG9mIGEgc2luZ2xlIC5faW52b2tlIG1ldGhvZC4KICBmdW5jdGlvbiBkZWZpbmVJdGVyYXRvck1ldGhvZHMocHJvdG90eXBlKSB7CiAgICBbIm5leHQiLCAidGhyb3ciLCAicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsKICAgICAgcHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbihhcmcpIHsKICAgICAgICByZXR1cm4gdGhpcy5faW52b2tlKG1ldGhvZCwgYXJnKTsKICAgICAgfTsKICAgIH0pOwogIH0KCiAgcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuRnVuKSB7CiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09ICJmdW5jdGlvbiIgJiYgZ2VuRnVuLmNvbnN0cnVjdG9yOwogICAgcmV0dXJuIGN0b3IKICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fAogICAgICAgIC8vIEZvciB0aGUgbmF0aXZlIEdlbmVyYXRvckZ1bmN0aW9uIGNvbnN0cnVjdG9yLCB0aGUgYmVzdCB3ZSBjYW4KICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuCiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gIkdlbmVyYXRvckZ1bmN0aW9uIgogICAgICA6IGZhbHNlOwogIH07CgogIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikgewogICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikgewogICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7CiAgICB9IGVsc2UgewogICAgICBnZW5GdW4uX19wcm90b19fID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7CiAgICAgIGlmICghKHRvU3RyaW5nVGFnU3ltYm9sIGluIGdlbkZ1bikpIHsKICAgICAgICBnZW5GdW5bdG9TdHJpbmdUYWdTeW1ib2xdID0gIkdlbmVyYXRvckZ1bmN0aW9uIjsKICAgICAgfQogICAgfQogICAgZ2VuRnVuLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoR3ApOwogICAgcmV0dXJuIGdlbkZ1bjsKICB9OwoKICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG8KICAvLyBgeWllbGQgcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKHgpYCwgc28gdGhhdCB0aGUgcnVudGltZSBjYW4gdGVzdAogIC8vIGBoYXNPd24uY2FsbCh2YWx1ZSwgIl9fYXdhaXQiKWAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzCiAgLy8gbWVhbnQgdG8gYmUgYXdhaXRlZC4KICBydW50aW1lLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7CiAgICByZXR1cm4geyBfX2F3YWl0OiBhcmcgfTsKICB9OwoKICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikgewogICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHsKICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGdlbmVyYXRvclttZXRob2RdLCBnZW5lcmF0b3IsIGFyZyk7CiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gInRocm93IikgewogICAgICAgIHJlamVjdChyZWNvcmQuYXJnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgcmVzdWx0ID0gcmVjb3JkLmFyZzsKICAgICAgICB2YXIgdmFsdWUgPSByZXN1bHQudmFsdWU7CiAgICAgICAgaWYgKHZhbHVlICYmCiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gIm9iamVjdCIgJiYKICAgICAgICAgICAgaGFzT3duLmNhbGwodmFsdWUsICJfX2F3YWl0IikpIHsKICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUuX19hd2FpdCkudGhlbihmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgICBpbnZva2UoIm5leHQiLCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikgewogICAgICAgICAgICBpbnZva2UoInRocm93IiwgZXJyLCByZXNvbHZlLCByZWplY3QpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKHVud3JhcHBlZCkgewogICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXMKICAgICAgICAgIC8vIHRoZSAudmFsdWUgb2YgdGhlIFByb21pc2U8e3ZhbHVlLGRvbmV9PiByZXN1bHQgZm9yIHRoZQogICAgICAgICAgLy8gY3VycmVudCBpdGVyYXRpb24uIElmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBob3dldmVyLCB0aGUKICAgICAgICAgIC8vIHJlc3VsdCBmb3IgdGhpcyBpdGVyYXRpb24gd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSBzYW1lCiAgICAgICAgICAvLyByZWFzb24uIE5vdGUgdGhhdCByZWplY3Rpb25zIG9mIHlpZWxkZWQgUHJvbWlzZXMgYXJlIG5vdAogICAgICAgICAgLy8gdGhyb3duIGJhY2sgaW50byB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBhcyBpcyB0aGUgY2FzZQogICAgICAgICAgLy8gd2hlbiBhbiBhd2FpdGVkIFByb21pc2UgaXMgcmVqZWN0ZWQuIFRoaXMgZGlmZmVyZW5jZSBpbgogICAgICAgICAgLy8gYmVoYXZpb3IgYmV0d2VlbiB5aWVsZCBhbmQgYXdhaXQgaXMgaW1wb3J0YW50LCBiZWNhdXNlIGl0CiAgICAgICAgICAvLyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGF0IHRvIGRvIHdpdGggdGhlIHlpZWxkZWQKICAgICAgICAgIC8vIHJlamVjdGlvbiAoc3dhbGxvdyBpdCBhbmQgY29udGludWUsIG1hbnVhbGx5IC50aHJvdyBpdCBiYWNrCiAgICAgICAgICAvLyBpbnRvIHRoZSBnZW5lcmF0b3IsIGFiYW5kb24gaXRlcmF0aW9uLCB3aGF0ZXZlcikuIFdpdGgKICAgICAgICAgIC8vIGF3YWl0LCBieSBjb250cmFzdCwgdGhlcmUgaXMgbm8gb3Bwb3J0dW5pdHkgdG8gZXhhbWluZSB0aGUKICAgICAgICAgIC8vIHJlamVjdGlvbiByZWFzb24gb3V0c2lkZSB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uLCBzbyB0aGUKICAgICAgICAgIC8vIG9ubHkgb3B0aW9uIGlzIHRvIHRocm93IGl0IGZyb20gdGhlIGF3YWl0IGV4cHJlc3Npb24sIGFuZAogICAgICAgICAgLy8gbGV0IHRoZSBnZW5lcmF0b3IgZnVuY3Rpb24gaGFuZGxlIHRoZSBleGNlcHRpb24uCiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7CiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7CiAgICAgICAgfSwgcmVqZWN0KTsKICAgICAgfQogICAgfQoKICAgIGlmICh0eXBlb2YgZ2xvYmFsLnByb2Nlc3MgPT09ICJvYmplY3QiICYmIGdsb2JhbC5wcm9jZXNzLmRvbWFpbikgewogICAgICBpbnZva2UgPSBnbG9iYWwucHJvY2Vzcy5kb21haW4uYmluZChpbnZva2UpOwogICAgfQoKICAgIHZhciBwcmV2aW91c1Byb21pc2U7CgogICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykgewogICAgICBmdW5jdGlvbiBjYWxsSW52b2tlV2l0aE1ldGhvZEFuZEFyZygpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgICBpbnZva2UobWV0aG9kLCBhcmcsIHJlc29sdmUsIHJlamVjdCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPQogICAgICAgIC8vIElmIGVucXVldWUgaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiB3ZSB3YW50IHRvIHdhaXQgdW50aWwKICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSwKICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmCiAgICAgICAgLy8gZW5xdWV1ZSBoYXMgbm90IGJlZW4gY2FsbGVkIGJlZm9yZSwgdGhlbiBpdCBpcyBpbXBvcnRhbnQgdG8KICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSwKICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkbwogICAgICAgIC8vIGFueSBuZWNlc3Nhcnkgc2V0dXAgaW4gYSBwcmVkaWN0YWJsZSB3YXkuIFRoaXMgcHJlZGljdGFiaWxpdHkKICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0cwogICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5CiAgICAgICAgLy8gZXhlY3V0ZSBjb2RlIGJlZm9yZSB0aGUgZmlyc3QgYXdhaXQuIFNpbmNlIHdlIGltcGxlbWVudCBzaW1wbGUKICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseQogICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS4KICAgICAgICBwcmV2aW91c1Byb21pc2UgPyBwcmV2aW91c1Byb21pc2UudGhlbigKICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLAogICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXIKICAgICAgICAgIC8vIGludm9jYXRpb25zIG9mIHRoZSBpdGVyYXRvci4KICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnCiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7CiAgICB9CgogICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCwKICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gKHNlZSBkZWZpbmVJdGVyYXRvck1ldGhvZHMpLgogICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTsKICB9CgogIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7CiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpczsKICB9OwogIHJ1bnRpbWUuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7CgogIC8vIE5vdGUgdGhhdCBzaW1wbGUgYXN5bmMgZnVuY3Rpb25zIGFyZSBpbXBsZW1lbnRlZCBvbiB0b3Agb2YKICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2YKICAvLyB0aGUgZmluYWwgcmVzdWx0IHByb2R1Y2VkIGJ5IHRoZSBpdGVyYXRvci4KICBydW50aW1lLmFzeW5jID0gZnVuY3Rpb24oaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHsKICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoCiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpCiAgICApOwoKICAgIHJldHVybiBydW50aW1lLmlzR2VuZXJhdG9yRnVuY3Rpb24ob3V0ZXJGbikKICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci4KICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gcmVzdWx0LnZhbHVlIDogaXRlci5uZXh0KCk7CiAgICAgICAgfSk7CiAgfTsKCiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7CiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0OwoKICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHsKICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpOwogICAgICB9CgogICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7CiAgICAgICAgaWYgKG1ldGhvZCA9PT0gInRocm93IikgewogICAgICAgICAgdGhyb3cgYXJnOwogICAgICAgIH0KCiAgICAgICAgLy8gQmUgZm9yZ2l2aW5nLCBwZXIgMjUuMy4zLjMuMyBvZiB0aGUgc3BlYzoKICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lCiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTsKICAgICAgfQoKICAgICAgY29udGV4dC5tZXRob2QgPSBtZXRob2Q7CiAgICAgIGNvbnRleHQuYXJnID0gYXJnOwoKICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICB2YXIgZGVsZWdhdGUgPSBjb250ZXh0LmRlbGVnYXRlOwogICAgICAgIGlmIChkZWxlZ2F0ZSkgewogICAgICAgICAgdmFyIGRlbGVnYXRlUmVzdWx0ID0gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCk7CiAgICAgICAgICBpZiAoZGVsZWdhdGVSZXN1bHQpIHsKICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTsKICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlUmVzdWx0OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSAibmV4dCIpIHsKICAgICAgICAgIC8vIFNldHRpbmcgY29udGV4dC5fc2VudCBmb3IgbGVnYWN5IHN1cHBvcnQgb2YgQmFiZWwncwogICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KICAgICAgICAgIGNvbnRleHQuc2VudCA9IGNvbnRleHQuX3NlbnQgPSBjb250ZXh0LmFyZzsKCiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gInRocm93IikgewogICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7CiAgICAgICAgICAgIHN0YXRlID0gR2VuU3RhdGVDb21wbGV0ZWQ7CiAgICAgICAgICAgIHRocm93IGNvbnRleHQuYXJnOwogICAgICAgICAgfQoKICAgICAgICAgIGNvbnRleHQuZGlzcGF0Y2hFeGNlcHRpb24oY29udGV4dC5hcmcpOwoKICAgICAgICB9IGVsc2UgaWYgKGNvbnRleHQubWV0aG9kID09PSAicmV0dXJuIikgewogICAgICAgICAgY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuYXJnKTsKICAgICAgICB9CgogICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7CgogICAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChpbm5lckZuLCBzZWxmLCBjb250ZXh0KTsKICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJub3JtYWwiKSB7CiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09CiAgICAgICAgICAvLyBHZW5TdGF0ZUV4ZWN1dGluZyBhbmQgbG9vcCBiYWNrIGZvciBhbm90aGVyIGludm9jYXRpb24uCiAgICAgICAgICBzdGF0ZSA9IGNvbnRleHQuZG9uZQogICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkCiAgICAgICAgICAgIDogR2VuU3RhdGVTdXNwZW5kZWRZaWVsZDsKCiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkgewogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB2YWx1ZTogcmVjb3JkLmFyZywKICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lCiAgICAgICAgICB9OwoKICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkOwogICAgICAgICAgLy8gRGlzcGF0Y2ggdGhlIGV4Y2VwdGlvbiBieSBsb29waW5nIGJhY2sgYXJvdW5kIHRvIHRoZQogICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZykgY2FsbCBhYm92ZS4KICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gInRocm93IjsKICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZzsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfQoKICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGUKICAvLyByZXN1bHQsIGVpdGhlciBieSByZXR1cm5pbmcgYSB7IHZhbHVlLCBkb25lIH0gcmVzdWx0IGZyb20gdGhlCiAgLy8gZGVsZWdhdGUgaXRlcmF0b3IsIG9yIGJ5IG1vZGlmeWluZyBjb250ZXh0Lm1ldGhvZCBhbmQgY29udGV4dC5hcmcsCiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuCiAgZnVuY3Rpb24gbWF5YmVJbnZva2VEZWxlZ2F0ZShkZWxlZ2F0ZSwgY29udGV4dCkgewogICAgdmFyIG1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXTsKICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkgewogICAgICAvLyBBIC50aHJvdyBvciAucmV0dXJuIHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyAudGhyb3cKICAgICAgLy8gbWV0aG9kIGFsd2F5cyB0ZXJtaW5hdGVzIHRoZSB5aWVsZCogbG9vcC4KICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CgogICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJ0aHJvdyIpIHsKICAgICAgICBpZiAoZGVsZWdhdGUuaXRlcmF0b3IucmV0dXJuKSB7CiAgICAgICAgICAvLyBJZiB0aGUgZGVsZWdhdGUgaXRlcmF0b3IgaGFzIGEgcmV0dXJuIG1ldGhvZCwgZ2l2ZSBpdCBhCiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuCiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJyZXR1cm4iOwogICAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7CiAgICAgICAgICBtYXliZUludm9rZURlbGVnYXRlKGRlbGVnYXRlLCBjb250ZXh0KTsKCiAgICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09ICJ0aHJvdyIpIHsKICAgICAgICAgICAgLy8gSWYgbWF5YmVJbnZva2VEZWxlZ2F0ZShjb250ZXh0KSBjaGFuZ2VkIGNvbnRleHQubWV0aG9kIGZyb20KICAgICAgICAgICAgLy8gInJldHVybiIgdG8gInRocm93IiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy4KICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgICAgY29udGV4dC5hcmcgPSBuZXcgVHlwZUVycm9yKAogICAgICAgICAgIlRoZSBpdGVyYXRvciBkb2VzIG5vdCBwcm92aWRlIGEgJ3Rocm93JyBtZXRob2QiKTsKICAgICAgfQoKICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICB9CgogICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKG1ldGhvZCwgZGVsZWdhdGUuaXRlcmF0b3IsIGNvbnRleHQuYXJnKTsKCiAgICBpZiAocmVjb3JkLnR5cGUgPT09ICJ0aHJvdyIpIHsKICAgICAgY29udGV4dC5tZXRob2QgPSAidGhyb3ciOwogICAgICBjb250ZXh0LmFyZyA9IHJlY29yZC5hcmc7CiAgICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsOwogICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgIH0KCiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7CgogICAgaWYgKCEgaW5mbykgewogICAgICBjb250ZXh0Lm1ldGhvZCA9ICJ0aHJvdyI7CiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcigiaXRlcmF0b3IgcmVzdWx0IGlzIG5vdCBhbiBvYmplY3QiKTsKICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7CiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgfQoKICAgIGlmIChpbmZvLmRvbmUpIHsKICAgICAgLy8gQXNzaWduIHRoZSByZXN1bHQgb2YgdGhlIGZpbmlzaGVkIGRlbGVnYXRlIHRvIHRoZSB0ZW1wb3JhcnkKICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS4KICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7CgogICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuCiAgICAgIGNvbnRleHQubmV4dCA9IGRlbGVnYXRlLm5leHRMb2M7CgogICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgInRocm93IiBidXQgdGhlIGRlbGVnYXRlIGhhbmRsZWQgdGhlCiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWYKICAgICAgLy8gY29udGV4dC5tZXRob2Qgd2FzICJuZXh0IiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuCiAgICAgIC8vICJjb25zdW1lZCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXMKICAgICAgLy8gInJldHVybiIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlCiAgICAgIC8vIG91dGVyIGdlbmVyYXRvci4KICAgICAgaWYgKGNvbnRleHQubWV0aG9kICE9PSAicmV0dXJuIikgewogICAgICAgIGNvbnRleHQubWV0aG9kID0gIm5leHQiOwogICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkOwogICAgICB9CgogICAgfSBlbHNlIHsKICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLgogICAgICByZXR1cm4gaW5mbzsKICAgIH0KCiAgICAvLyBUaGUgZGVsZWdhdGUgaXRlcmF0b3IgaXMgZmluaXNoZWQsIHNvIGZvcmdldCBpdCBhbmQgY29udGludWUgd2l0aAogICAgLy8gdGhlIG91dGVyIGdlbmVyYXRvci4KICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsOwogICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgfQoKICAvLyBEZWZpbmUgR2VuZXJhdG9yLnByb3RvdHlwZS57bmV4dCx0aHJvdyxyZXR1cm59IGluIHRlcm1zIG9mIHRoZQogIC8vIHVuaWZpZWQgLl9pbnZva2UgaGVscGVyIG1ldGhvZC4KICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApOwoKICBHcFt0b1N0cmluZ1RhZ1N5bWJvbF0gPSAiR2VuZXJhdG9yIjsKCiAgLy8gQSBHZW5lcmF0b3Igc2hvdWxkIGFsd2F5cyByZXR1cm4gaXRzZWxmIGFzIHRoZSBpdGVyYXRvciBvYmplY3Qgd2hlbiB0aGUKICAvLyBAQGl0ZXJhdG9yIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBpdC4gU29tZSBicm93c2VycycgaW1wbGVtZW50YXRpb25zIG9mIHRoZQogIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yCiAgLy8gb2JqZWN0IHRvIG5vdCBiZSByZXR1cm5lZCBmcm9tIHRoaXMgY2FsbC4gVGhpcyBlbnN1cmVzIHRoYXQgZG9lc24ndCBoYXBwZW4uCiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWdlbmVyYXRvci9pc3N1ZXMvMjc0IGZvciBtb3JlIGRldGFpbHMuCiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBHcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICJbb2JqZWN0IEdlbmVyYXRvcl0iOwogIH07CgogIGZ1bmN0aW9uIHB1c2hUcnlFbnRyeShsb2NzKSB7CiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9OwoKICAgIGlmICgxIGluIGxvY3MpIHsKICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdOwogICAgfQoKICAgIGlmICgyIGluIGxvY3MpIHsKICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07CiAgICAgIGVudHJ5LmFmdGVyTG9jID0gbG9jc1szXTsKICAgIH0KCiAgICB0aGlzLnRyeUVudHJpZXMucHVzaChlbnRyeSk7CiAgfQoKICBmdW5jdGlvbiByZXNldFRyeUVudHJ5KGVudHJ5KSB7CiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTsKICAgIHJlY29yZC50eXBlID0gIm5vcm1hbCI7CiAgICBkZWxldGUgcmVjb3JkLmFyZzsKICAgIGVudHJ5LmNvbXBsZXRpb24gPSByZWNvcmQ7CiAgfQoKICBmdW5jdGlvbiBDb250ZXh0KHRyeUxvY3NMaXN0KSB7CiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2gKICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb20KICAgIC8vIGxvY2F0aW9ucyB3aGVyZSB0aGVyZSBpcyBubyBlbmNsb3NpbmcgdHJ5IHN0YXRlbWVudC4KICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogInJvb3QiIH1dOwogICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpOwogICAgdGhpcy5yZXNldCh0cnVlKTsKICB9CgogIHJ1bnRpbWUua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkgewogICAgdmFyIGtleXMgPSBbXTsKICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHsKICAgICAga2V5cy5wdXNoKGtleSk7CiAgICB9CiAgICBrZXlzLnJldmVyc2UoKTsKCiAgICAvLyBSYXRoZXIgdGhhbiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggYSBuZXh0IG1ldGhvZCwgd2Uga2VlcAogICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi4KICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkgewogICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHsKICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTsKICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkgewogICAgICAgICAgbmV4dC52YWx1ZSA9IGtleTsKICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlOwogICAgICAgICAgcmV0dXJuIG5leHQ7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBUbyBhdm9pZCBjcmVhdGluZyBhbiBhZGRpdGlvbmFsIG9iamVjdCwgd2UganVzdCBoYW5nIHRoZSAudmFsdWUKICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXMKICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uCiAgICAgIG5leHQuZG9uZSA9IHRydWU7CiAgICAgIHJldHVybiBuZXh0OwogICAgfTsKICB9OwoKICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHsKICAgIGlmIChpdGVyYWJsZSkgewogICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07CiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkgewogICAgICAgIHJldHVybiBpdGVyYXRvck1ldGhvZC5jYWxsKGl0ZXJhYmxlKTsKICAgICAgfQoKICAgICAgaWYgKHR5cGVvZiBpdGVyYWJsZS5uZXh0ID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgcmV0dXJuIGl0ZXJhYmxlOwogICAgICB9CgogICAgICBpZiAoIWlzTmFOKGl0ZXJhYmxlLmxlbmd0aCkpIHsKICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHsKICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHsKICAgICAgICAgICAgaWYgKGhhc093bi5jYWxsKGl0ZXJhYmxlLCBpKSkgewogICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTsKICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTsKICAgICAgICAgICAgICByZXR1cm4gbmV4dDsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7CiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlOwoKICAgICAgICAgIHJldHVybiBuZXh0OwogICAgICAgIH07CgogICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0OwogICAgICB9CiAgICB9CgogICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLgogICAgcmV0dXJuIHsgbmV4dDogZG9uZVJlc3VsdCB9OwogIH0KICBydW50aW1lLnZhbHVlcyA9IHZhbHVlczsKCiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHsKICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTsKICB9CgogIENvbnRleHQucHJvdG90eXBlID0gewogICAgY29uc3RydWN0b3I6IENvbnRleHQsCgogICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHsKICAgICAgdGhpcy5wcmV2ID0gMDsKICAgICAgdGhpcy5uZXh0ID0gMDsKICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3MKICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi4KICAgICAgdGhpcy5zZW50ID0gdGhpcy5fc2VudCA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5kb25lID0gZmFsc2U7CiAgICAgIHRoaXMuZGVsZWdhdGUgPSBudWxsOwoKICAgICAgdGhpcy5tZXRob2QgPSAibmV4dCI7CiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkOwoKICAgICAgdGhpcy50cnlFbnRyaWVzLmZvckVhY2gocmVzZXRUcnlFbnRyeSk7CgogICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHsKICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMpIHsKICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6CiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICJ0IiAmJgogICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmCiAgICAgICAgICAgICAgIWlzTmFOKCtuYW1lLnNsaWNlKDEpKSkgewogICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBzdG9wOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5kb25lID0gdHJ1ZTsKCiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07CiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247CiAgICAgIGlmIChyb290UmVjb3JkLnR5cGUgPT09ICJ0aHJvdyIpIHsKICAgICAgICB0aHJvdyByb290UmVjb3JkLmFyZzsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMucnZhbDsKICAgIH0sCgogICAgZGlzcGF0Y2hFeGNlcHRpb246IGZ1bmN0aW9uKGV4Y2VwdGlvbikgewogICAgICBpZiAodGhpcy5kb25lKSB7CiAgICAgICAgdGhyb3cgZXhjZXB0aW9uOwogICAgICB9CgogICAgICB2YXIgY29udGV4dCA9IHRoaXM7CiAgICAgIGZ1bmN0aW9uIGhhbmRsZShsb2MsIGNhdWdodCkgewogICAgICAgIHJlY29yZC50eXBlID0gInRocm93IjsKICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uOwogICAgICAgIGNvbnRleHQubmV4dCA9IGxvYzsKCiAgICAgICAgaWYgKGNhdWdodCkgewogICAgICAgICAgLy8gSWYgdGhlIGRpc3BhdGNoZWQgZXhjZXB0aW9uIHdhcyBjYXVnaHQgYnkgYSBjYXRjaCBibG9jaywKICAgICAgICAgIC8vIHRoZW4gbGV0IHRoYXQgY2F0Y2ggYmxvY2sgaGFuZGxlIHRoZSBleGNlcHRpb24gbm9ybWFsbHkuCiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICEhIGNhdWdodDsKICAgICAgfQoKICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbjsKCiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gInJvb3QiKSB7CiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZQogICAgICAgICAgLy8gaXQsIHNvIHNldCB0aGUgY29tcGxldGlvbiB2YWx1ZSBvZiB0aGUgZW50aXJlIGZ1bmN0aW9uIHRvCiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLgogICAgICAgICAgcmV0dXJuIGhhbmRsZSgiZW5kIik7CiAgICAgICAgfQoKICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikgewogICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksICJjYXRjaExvYyIpOwogICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgImZpbmFsbHlMb2MiKTsKCiAgICAgICAgICBpZiAoaGFzQ2F0Y2ggJiYgaGFzRmluYWxseSkgewogICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHsKICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTsKICAgICAgICAgICAgfQoKICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHsKICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICB9IGVsc2UgaWYgKGhhc0ZpbmFsbHkpIHsKICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHsKICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpOwogICAgICAgICAgICB9CgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseSIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykgewogICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldOwogICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmCiAgICAgICAgICAgIGhhc093bi5jYWxsKGVudHJ5LCAiZmluYWxseUxvYyIpICYmCiAgICAgICAgICAgIHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHsKICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZpbmFsbHlFbnRyeSAmJgogICAgICAgICAgKHR5cGUgPT09ICJicmVhayIgfHwKICAgICAgICAgICB0eXBlID09PSAiY29udGludWUiKSAmJgogICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiYKICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykgewogICAgICAgIC8vIElnbm9yZSB0aGUgZmluYWxseSBlbnRyeSBpZiBjb250cm9sIGlzIG5vdCBqdW1waW5nIHRvIGEKICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suCiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307CiAgICAgIHJlY29yZC50eXBlID0gdHlwZTsKICAgICAgcmVjb3JkLmFyZyA9IGFyZzsKCiAgICAgIGlmIChmaW5hbGx5RW50cnkpIHsKICAgICAgICB0aGlzLm1ldGhvZCA9ICJuZXh0IjsKICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYzsKICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuY29tcGxldGUocmVjb3JkKTsKICAgIH0sCgogICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHsKICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgdGhyb3cgcmVjb3JkLmFyZzsKICAgICAgfQoKICAgICAgaWYgKHJlY29yZC50eXBlID09PSAiYnJlYWsiIHx8CiAgICAgICAgICByZWNvcmQudHlwZSA9PT0gImNvbnRpbnVlIikgewogICAgICAgIHRoaXMubmV4dCA9IHJlY29yZC5hcmc7CiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09ICJyZXR1cm4iKSB7CiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnOwogICAgICAgIHRoaXMubWV0aG9kID0gInJldHVybiI7CiAgICAgICAgdGhpcy5uZXh0ID0gImVuZCI7CiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09ICJub3JtYWwiICYmIGFmdGVyTG9jKSB7CiAgICAgICAgdGhpcy5uZXh0ID0gYWZ0ZXJMb2M7CiAgICAgIH0KCiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgfSwKCiAgICBmaW5pc2g6IGZ1bmN0aW9uKGZpbmFsbHlMb2MpIHsKICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICBpZiAoZW50cnkuZmluYWxseUxvYyA9PT0gZmluYWxseUxvYykgewogICAgICAgICAgdGhpcy5jb21wbGV0ZShlbnRyeS5jb21wbGV0aW9uLCBlbnRyeS5hZnRlckxvYyk7CiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTsKICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAiY2F0Y2giOiBmdW5jdGlvbih0cnlMb2MpIHsKICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkgewogICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTsKICAgICAgICBpZiAoZW50cnkudHJ5TG9jID09PSB0cnlMb2MpIHsKICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uOwogICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAidGhyb3ciKSB7CiAgICAgICAgICAgIHZhciB0aHJvd24gPSByZWNvcmQuYXJnOwogICAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiB0aHJvd247CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBUaGUgY29udGV4dC5jYXRjaCBtZXRob2QgbXVzdCBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgbG9jYXRpb24KICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLgogICAgICB0aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpOwogICAgfSwKCiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykgewogICAgICB0aGlzLmRlbGVnYXRlID0gewogICAgICAgIGl0ZXJhdG9yOiB2YWx1ZXMoaXRlcmFibGUpLAogICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsCiAgICAgICAgbmV4dExvYzogbmV4dExvYwogICAgICB9OwoKICAgICAgaWYgKHRoaXMubWV0aG9kID09PSAibmV4dCIpIHsKICAgICAgICAvLyBEZWxpYmVyYXRlbHkgZm9yZ2V0IHRoZSBsYXN0IHNlbnQgdmFsdWUgc28gdGhhdCB3ZSBkb24ndAogICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS4KICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDsKICAgICAgfQoKICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7CiAgICB9CiAgfTsKfSkoCiAgLy8gQW1vbmcgdGhlIHZhcmlvdXMgdHJpY2tzIGZvciBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbAogIC8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdAogIC8vIHVzZSBpbmRpcmVjdCBldmFsICh3aGljaCB2aW9sYXRlcyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSkuCiAgdHlwZW9mIGdsb2JhbCA9PT0gIm9iamVjdCIgPyBnbG9iYWwgOgogIHR5cGVvZiB3aW5kb3cgPT09ICJvYmplY3QiID8gd2luZG93IDoKICB0eXBlb2Ygc2VsZiA9PT0gIm9iamVjdCIgPyBzZWxmIDogdGhpcwopOwoKLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18oNCkpKQoKLyoqKi8gfSksCi8qIDExICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKCmZ1bmN0aW9uIGdldFZpZGVvVXJsKHR2aWQsIHZpZCkgewogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogYGh0dHA6Ly9jYWNoZS52aWRlby5xaXlpLmNvbS9qcC92aS8ke3R2aWR9LyR7dmlkfS8/Y2FsbGJhY2s9Y2FsbGJhY2tgLAogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICB0aW1lb3V0OiA4ZTMsCiAgICAgICAgICAgIG9ubG9hZDogZnVuY3Rpb24gb25sb2FkKGRldGFpbHMpIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKC9jYWxsYmFja1xzKlwoXHMqKFx7LipcfSlccypcKS8uZXhlYyhkZXRhaWxzLnJlc3BvbnNlVGV4dClbMV0pOwogICAgICAgICAgICAgICAgICAgIHJlc29sdmUoanNvbi52dSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25lcnJvcjogcmVqZWN0LAogICAgICAgICAgICBvbmFib3J0OiByZWplY3QsCiAgICAgICAgICAgIG9udGltZW91dDogcmVqZWN0CiAgICAgICAgfSk7CiAgICB9KTsKfQoKZnVuY3Rpb24gZmluZFZpZCh0ZXh0KSB7CiAgICB2YXIgcmVzdWx0ID0gL3ZpZD0oW1xkYS16XSspL2kuZXhlYyh0ZXh0KTsKICAgIHJldHVybiByZXN1bHQgPyByZXN1bHRbMV0gOiBudWxsOwp9CgpmdW5jdGlvbiBmaW5kVHZpZCh0ZXh0KSB7CiAgICB2YXIgcmVzdWx0ID0gL3R2aWQ9KFxkKykvaS5leGVjKHRleHQpOwogICAgcmV0dXJuIHJlc3VsdCA/IHJlc3VsdFsxXSA6IG51bGw7Cn0KCmV4cG9ydHMuZ2V0VmlkZW9VcmwgPSBnZXRWaWRlb1VybDsKZXhwb3J0cy5maW5kVmlkID0gZmluZFZpZDsKZXhwb3J0cy5maW5kVHZpZCA9IGZpbmRUdmlkOwoKLyoqKi8gfSksCi8qIDEyICovCi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHsKCiJ1c2Ugc3RyaWN0IjsKCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy51c2VXZWJTb2NrZXRMb2FkZXJQYXRjaCA9IGV4cG9ydHMubW91c2VTaG9ydGN1dHNQYXRjaCA9IGV4cG9ydHMua2V5U2hvcnRjdXRzUGF0Y2ggPSBleHBvcnRzLmtlZXBIb29raW5nUGF0Y2ggPSBleHBvcnRzLndhdGVybWFya3NQYXRjaCA9IGV4cG9ydHMuY29udHJvbHNQYXRjaCA9IGV4cG9ydHMuYWRzUGF0Y2ggPSBleHBvcnRzLnZpcFBhdGNoID0gdW5kZWZpbmVkOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX2xvZ2dlciA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7Cgp2YXIgX2xvZ2dlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9sb2dnZXIpOwoKdmFyIF9ob29rZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwoKdmFyIF9ob29rZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va2VyKTsKCnZhciBfZnVsbHNjcmVlbiA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpOwoKdmFyIF93ZWJGdWxsc2NyZWVuID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7Cgp2YXIgX3BhcnNlZERhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCnZhciBQYXRjaCA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFBhdGNoKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYXRjaCk7CgogICAgICAgIHRoaXMuX2luc3RhbGxlZCA9IGZhbHNlOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhQYXRjaCwgW3sKICAgICAgICBrZXk6ICdpbnN0YWxsJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5zdGFsbCgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLl9pbnN0YWxsZWQpIHsKICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbGxlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLl9wcmVwYXJlKCk7CiAgICAgICAgICAgICAgICB0aGlzLl9hcHBseSgpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19wcmVwYXJlJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3ByZXBhcmUoKSB7fQogICAgfSwgewogICAgICAgIGtleTogJ19hcHBseScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseSgpIHt9CiAgICB9XSk7CgogICAgcmV0dXJuIFBhdGNoOwp9KCk7Cgp2YXIgVmlwUGF0Y2ggPSBmdW5jdGlvbiAoX1BhdGNoKSB7CiAgICBfaW5oZXJpdHMoVmlwUGF0Y2gsIF9QYXRjaCk7CgogICAgZnVuY3Rpb24gVmlwUGF0Y2goKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpcFBhdGNoKTsKCiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWaXBQYXRjaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFZpcFBhdGNoKSkuY2FsbCh0aGlzKSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKFZpcFBhdGNoLCBbewogICAgICAgIGtleTogJ19hcHBseScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseSgpIHsKICAgICAgICAgICAgX2hvb2tlcjIuZGVmYXVsdC5ob29rVXNlcihmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgICAgICAgICAgdmFyIHByb3RvID0gZXhwb3J0cy5fX3Byb3RvX187CiAgICAgICAgICAgICAgICBwcm90by5pc1ZpcFN5bmMgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcHJvdG8uaXNWaXAgPSBmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYiwgMCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdUaGUgdmlwIHBhdGNoIGhhcyBiZWVuIGluc3RhbGxlZCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFZpcFBhdGNoOwp9KFBhdGNoKTsKCnZhciBBZHNQYXRjaCA9IGZ1bmN0aW9uIChfUGF0Y2gyKSB7CiAgICBfaW5oZXJpdHMoQWRzUGF0Y2gsIF9QYXRjaDIpOwoKICAgIGZ1bmN0aW9uIEFkc1BhdGNoKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZHNQYXRjaCk7CgogICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQWRzUGF0Y2guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihBZHNQYXRjaCkpLmNhbGwodGhpcykpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhBZHNQYXRjaCwgW3sKICAgICAgICBrZXk6ICdfZmFrZUFkc0RhdGEnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZmFrZUFkc0RhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7fTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2FwcGx5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgICAgICAgIF9ob29rZXIyLmRlZmF1bHQuaG9va1Nob3dSZXF1ZXN0KGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBleHBvcnRzLnByb3RvdHlwZTsKICAgICAgICAgICAgICAgIHByb3RvLnJlcXVlc3QgPSBmdW5jdGlvbiAoY2IpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYiwgMCwgX3RoaXMzLl9mYWtlQWRzRGF0YSgpKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ1RoZSBhZHMgcGF0Y2ggaGFzIGJlZW4gaW5zdGFsbGVkJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQWRzUGF0Y2g7Cn0oUGF0Y2gpOwoKdmFyIFdhdGVybWFya3NQYXRjaCA9IGZ1bmN0aW9uIChfUGF0Y2gzKSB7CiAgICBfaW5oZXJpdHMoV2F0ZXJtYXJrc1BhdGNoLCBfUGF0Y2gzKTsKCiAgICBmdW5jdGlvbiBXYXRlcm1hcmtzUGF0Y2goKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdhdGVybWFya3NQYXRjaCk7CgogICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2F0ZXJtYXJrc1BhdGNoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoV2F0ZXJtYXJrc1BhdGNoKSkuY2FsbCh0aGlzKSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKFdhdGVybWFya3NQYXRjaCwgW3sKICAgICAgICBrZXk6ICdfYXBwbHknLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwbHkoKSB7CiAgICAgICAgICAgIF9ob29rZXIyLmRlZmF1bHQuaG9va0xvZ28oZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIGV4cG9ydHMucHJvdG90eXBlLnNob3dMb2dvID0gZnVuY3Rpb24gKCkge307CiAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ1RoZSB3YXRlcm1hcmtzIHBhdGNoIGhhcyBiZWVuIGluc3RhbGxlZCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIFdhdGVybWFya3NQYXRjaDsKfShQYXRjaCk7Cgp2YXIgQ29udHJvbHNQYXRjaCA9IGZ1bmN0aW9uIChfUGF0Y2g0KSB7CiAgICBfaW5oZXJpdHMoQ29udHJvbHNQYXRjaCwgX1BhdGNoNCk7CgogICAgLy8gUHJldmVudCB0aGUgcGxheWVyIGNvbnRyb2xzIHdlcmUgZGlzYWJsZWQuCiAgICBmdW5jdGlvbiBDb250cm9sc1BhdGNoKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250cm9sc1BhdGNoKTsKCiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb250cm9sc1BhdGNoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ29udHJvbHNQYXRjaCkpLmNhbGwodGhpcykpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhDb250cm9sc1BhdGNoLCBbewogICAgICAgIGtleTogJ19hcHBseScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseSgpIHsKICAgICAgICAgICAgX2hvb2tlcjIuZGVmYXVsdC5ob29rU2tpbkJhc2UoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIGV4cG9ydHMucHJvdG90eXBlLl9jaGVja1BsdWdpbiA9IGZ1bmN0aW9uICgpIHt9OyAvLyBUaGlzIGZ1bmN0aW9uIGRpc2FibGVzIHRoZSBwbGF5ZXIgY29udHJvbHMgd2hlbiBwbGF5aW5nIGFkcyBhbmQgZW5hYmxlcyB3aGVuIGRvbmUuCiAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ1RoZSBjb250cm9scyBwYXRjaCBoYXMgYmVlbiBpbnN0YWxsZWQnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfV0pOwoKICAgIHJldHVybiBDb250cm9sc1BhdGNoOwp9KFBhdGNoKTsKCnZhciBDb3JlUGF0Y2ggPSBmdW5jdGlvbiAoX1BhdGNoNSkgewogICAgX2luaGVyaXRzKENvcmVQYXRjaCwgX1BhdGNoNSk7CgogICAgZnVuY3Rpb24gQ29yZVBhdGNoKCkgewogICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb3JlUGF0Y2gpOwoKICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENvcmVQYXRjaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKENvcmVQYXRjaCkpLmNhbGwodGhpcykpOwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhDb3JlUGF0Y2gsIFt7CiAgICAgICAga2V5OiAnX3ByZXBhcmUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZSgpIHsKICAgICAgICAgICAgdGhpcy5faW5pdFNob3dUaXAoKTsKICAgICAgICAgICAgdGhpcy5faW5pdFBsYXliYWNrUmF0ZSgpOwogICAgICAgIH0KICAgIH0sIHsKICAgICAgICBrZXk6ICdfaW5pdFNob3dUaXAnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdFNob3dUaXAoKSB7CiAgICAgICAgICAgIF9ob29rZXIyLmRlZmF1bHQuaG9va1BsdWdpbkNvbnRyb2xzSW5pdChmdW5jdGlvbiAodGhhdCkgewogICAgICAgICAgICAgICAgdGhhdC5jb3JlLm9uKCdzaG93dGlwJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdGhhdC5zZXRjb250cm9sdGlwLmFwcGx5KHRoYXQsIFt7IHN0cjogZXZlbnQuZGF0YSwgeDogdGhhdC5fcHJvY2Vzcy5vZmZzZXQoKS5sZWZ0LCB5OiAzLCBjdXQ6IHRydWUsIHRpbWVvdXQ6IHRydWUgfV0pOwogICAgICAgICAgICAgICAgICAgIGlmICh0aGF0LiRwbHVnaW4uaGFzQ2xhc3MoJ3Byb2Nlc3NfaGlkZGVuJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5fY29udHJvbHRpcHMuY3NzKCd0b3AnLCAnLTI1cHgnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoYXQuJHBsdWdpbi5oYXNDbGFzcygnYm90dG9tLWhpZGUnKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGF0Ll9jb250cm9sdGlwcy5jc3MoJ3RvcCcsICctMzhweCcpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2luaXRQbGF5YmFja1JhdGUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdFBsYXliYWNrUmF0ZSgpIHsKICAgICAgICAgICAgX2hvb2tlcjIuZGVmYXVsdC5ob29rUGx1Z2luQ29udHJvbHMoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIGV4cG9ydHMucHJvdG90eXBlLmluaXRQbGF5YmFja1JhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvcmUgPSB0aGlzLmNvcmU7CgogICAgICAgICAgICAgICAgICAgIHZhciByYXRlID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnUWl5aVBsYXllclBsYXliYWNrUmF0ZScpKTsKICAgICAgICAgICAgICAgICAgICByYXRlID0gaXNOYU4ocmF0ZSkgPyAxIDogcmF0ZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmUuZ2V0Q3VyclN0YXR1cygpID09PSAncGxheWluZycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5zZXRQbGF5YmFja1JhdGUocmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uc3RhdHVzY2hhbmdlZCA9IGZ1bmN0aW9uIG9uc3RhdHVzY2hhbmdlZChldnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQuZGF0YS5zdGF0ZSA9PT0gJ3BsYXlpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5zZXRQbGF5YmFja1JhdGUocmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS51bignc3RhdHVzQ2hhbmdlZCcsIG9uc3RhdHVzY2hhbmdlZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUub24oJ3N0YXR1c0NoYW5nZWQnLCBvbnN0YXR1c2NoYW5nZWQpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdmFyICR1bCA9IHRoaXMuJHBsYXliYWNrcmF0ZVVsOwogICAgICAgICAgICAgICAgICAgICR1bC5maW5kKGBbZGF0YS1wYnJhdGU9IiR7cmF0ZX0iXWApLmFkZENsYXNzKCdzZWxlY3RlZCcpOwoKICAgICAgICAgICAgICAgICAgICB2YXIgJGl0ZW1zID0gJHVsLmZpbmQoJ2xpJyk7CiAgICAgICAgICAgICAgICAgICAgJGl0ZW1zLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGUgPSBwYXJzZUZsb2F0KHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLXBicmF0ZScpKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1zLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdRaXlpUGxheWVyUGxheWJhY2tSYXRlJywgcmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUuc2V0UGxheWJhY2tSYXRlKHJhdGUpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLiRwbGF5c2V0dGluZ2ljb24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmF0ZSA9IGNvcmUuZ2V0UGxheWJhY2tSYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkaXRlbSA9ICR1bC5maW5kKGBbZGF0YS1wYnJhdGU9IiR7cmF0ZX0iXWApOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGl0ZW0ubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISRpdGVtLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1zLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpdGVtLmFkZENsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGl0ZW1zLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2FwcGx5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgICAgICBfaG9va2VyMi5kZWZhdWx0Lmhvb2tDb3JlKGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBleHBvcnRzLnByb3RvdHlwZTsKCiAgICAgICAgICAgICAgICBwcm90by5fc2hvd1RpcCA9IGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUoeyB0eXBlOiAnc2hvd3RpcCcsIGRhdGE6IG1zZyB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8uZ2V0RlBTID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChfcGFyc2VkRGF0YS5mbHZJbmZvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfcGFyc2VkRGF0YS5mbHZJbmZvLnZpZGVvQ29uZmlnVGFnLnNwcy5mcmFtZV9yYXRlLmZwczsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjU7IC8vIGY0duaegemAn+S7peS4iu+8jOWKqOeUuzIzLjk3NuOAgeeUteW9sTI044CB55S16KeG5YmnMjXjgIIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHByb3RvLnByZXZGcmFtZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHNlZWtUaW1lID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5nZXREdXJhdGlvbigpLCB2aWRlby5jdXJyZW50VGltZSAtIDEgLyB0aGlzLmdldEZQUygpKSk7CiAgICAgICAgICAgICAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSBzZWVrVGltZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93VGlwKCfkuIrkuIDluKcnKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8ubmV4dEZyYW1lID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciB2aWRlbyA9IHRoaXMudmlkZW8oKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2Vla1RpbWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmdldER1cmF0aW9uKCksIHZpZGVvLmN1cnJlbnRUaW1lICsgMSAvIHRoaXMuZ2V0RlBTKCkpKTsKICAgICAgICAgICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IHNlZWtUaW1lOwogICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dUaXAoJ+S4i+S4gOW4pycpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm90by5zZWVrID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBfZW5naW5lOwoKICAgICAgICAgICAgICAgICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXliYWNrUmF0ZSA9IHZpZGVvLnBsYXliYWNrUmF0ZTsKICAgICAgICAgICAgICAgICAgICAoX2VuZ2luZSA9IHRoaXMuX2VuZ2luZSkuc2Vlay5hcHBseShfZW5naW5lLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICAgIHZpZGVvLnBsYXliYWNrUmF0ZSA9IHBsYXliYWNrUmF0ZTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8uc3RlcFNlZWsgPSBmdW5jdGlvbiAoc3RlcFRpbWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc2Vla1RpbWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmdldER1cmF0aW9uKCksIHRoaXMuZ2V0Q3VycmVudHRpbWUoKSArIHN0ZXBUaW1lKSk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IHZvaWQgMDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHN0ZXBUaW1lKSA8IDYwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9IHN0ZXBUaW1lID4gMCA/IGDmraXov5vvvJoke3N0ZXBUaW1lfeenkmAgOiBg5q2l6YCA77yaJHtNYXRoLmFicyhzdGVwVGltZSl956eSYDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBtc2cgPSBzdGVwVGltZSA+IDAgPyBg5q2l6L+b77yaJHtzdGVwVGltZSAvIDYwfeWIhumSn2AgOiBg5q2l6YCA77yaJHtNYXRoLmFicyhzdGVwVGltZSkgLyA2MH3liIbpkp9gOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93VGlwKG1zZyk7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VlayhzZWVrVGltZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHByb3RvLnJhbmdlU2VlayA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHRoaXMuZ2V0RHVyYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICB2YXIgc2Vla1RpbWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihkdXJhdGlvbiwgZHVyYXRpb24gKiByYW5nZSkpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2VlayhzZWVrVGltZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcCgn5a6a5L2N77yaJyArIChyYW5nZSAqIDEwMCkudG9GaXhlZCgwKSArICclJyk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHByb3RvLnRvZ2dsZU11dGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0TXV0ZWQoKSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldE11dGVkKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcCgn5Y+W5raI6Z2Z6Z+zJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRNdXRlZCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcCgn6Z2Z6Z+zJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm90by5hZGp1c3RWb2x1bWUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdm9sdW1lID0gdGhpcy5nZXRWb2x1bWUoKSArIHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHZvbHVtZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIHZvbHVtZS50b0ZpeGVkKDIpKSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRWb2x1bWUodm9sdW1lKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmUoeyB0eXBlOiAna2V5dm9sdW1lY2hhbmdlJyB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8uZ2V0UGxheWJhY2tSYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIC8vIGlxaXlpIOeahOi/meS4quaWueazleaciWJ1Z++8jOayoeaKiuWAvOi/lOWbnu+8gQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lbmdpbmUuZ2V0UGxheWJhY2tSYXRlKCk7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHByb3RvLmFkanVzdFBsYXliYWNrUmF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUmF0ZSA9IHRoaXMuZ2V0UGxheWJhY2tSYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGUgPSBNYXRoLm1heCgwLjIsIE1hdGgubWluKDUsIHBhcnNlRmxvYXQoKGN1cnJSYXRlICsgdmFsdWUpLnRvRml4ZWQoMSkpKSk7CgogICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdRaXlpUGxheWVyUGxheWJhY2tSYXRlJywgcmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQbGF5YmFja1JhdGUocmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcChg5pKt5pS+6YCf546H77yaJHtyYXRlfWApOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm90by50dXJuUGxheWJhY2tSYXRlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyUmF0ZSA9IHRoaXMuZ2V0UGxheWJhY2tSYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJhdGUgPSB2b2lkIDA7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJSYXRlICE9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2JhY2tSYXRlID0gY3VyclJhdGU7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUgPSAxOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUgPSB0aGlzLl9iYWNrUmF0ZSB8fCAxOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQbGF5YmFja1JhdGUocmF0ZSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcChg5pKt5pS+6YCf546H77yaJHtyYXRlfWApOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm90by5oYXNQcmV2VmlkZW8gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldFZpZGVvSW5kZXhJbkxpc3QodGhpcy5fbW92aWVpbmZvLnR2aWQpID4gMCB8fCB0aGlzLl9nZXRWaWRlb0luZGV4SW5MaXN0KHRoaXMuX21vdmllaW5mby5vbGRUdmlkKSA+IDA7CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIHByb3RvLnBsYXlOZXh0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc05leHRWaWRlbygpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dUaXAoJ+aSreaUvuS4i+S4gOmbhicpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaE5leHRWaWRlbygpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Nob3dUaXAoJ+ayoeacieS4i+S4gOmbhuWTpicpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8ucGxheVByZXYgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFzUHJldlZpZGVvKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd1RpcCgn5pKt5pS+5LiK5LiA6ZuGJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoUHJlVmlkZW8oKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaG93VGlwKCfmsqHmnInkuIrkuIDpm4blk6YnKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF9sb2dnZXIyLmRlZmF1bHQuaW5mbygnVGhlIGNvcmUgcGF0Y2ggaGFzIGJlZW4gaW5zdGFsbGVkJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gQ29yZVBhdGNoOwp9KFBhdGNoKTsKCnZhciBjb3JlUGF0Y2ggPSBuZXcgQ29yZVBhdGNoKCk7Cgp2YXIgS2V5U2hvcnRjdXRzUGF0Y2ggPSBmdW5jdGlvbiAoX1BhdGNoNikgewogICAgX2luaGVyaXRzKEtleVNob3J0Y3V0c1BhdGNoLCBfUGF0Y2g2KTsKCiAgICBmdW5jdGlvbiBLZXlTaG9ydGN1dHNQYXRjaCgpIHsKICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgS2V5U2hvcnRjdXRzUGF0Y2gpOwoKICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEtleVNob3J0Y3V0c1BhdGNoLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoS2V5U2hvcnRjdXRzUGF0Y2gpKS5jYWxsKHRoaXMpKTsKICAgIH0KCiAgICBfY3JlYXRlQ2xhc3MoS2V5U2hvcnRjdXRzUGF0Y2gsIFt7CiAgICAgICAga2V5OiAnX3ByZXBhcmUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZSgpIHsKICAgICAgICAgICAgY29yZVBhdGNoLmluc3RhbGwoKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2FwcGx5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgICAgICBfaG9va2VyMi5kZWZhdWx0Lmhvb2tQbHVnaW5Ib3RLZXlzKGZ1bmN0aW9uIChleHBvcnRzKSB7CiAgICAgICAgICAgICAgICB2YXIgcHJvdG8gPSBleHBvcnRzLnByb3RvdHlwZTsKCiAgICAgICAgICAgICAgICBwcm90by5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9rZXlkb3duLmJpbmQodGhpcykpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBwcm90by5faXNWYWxpZFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm5vZGVOYW1lID09PSAnQk9EWScgfHwgdGFyZ2V0Lm5vZGVOYW1lID09ICdWSURFTycgfHwgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncHctdmlkZW8nKTsgLy8g5YWo5bGACiAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIHRhcmdldC5ub2RlTmFtZSA9PT0gJ1ZJREVPJyB8fCB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwdy12aWRlbycpOyAvLyDpnZ7lhajlsYAKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHJvdG8uX2tleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2lzVmFsaWRUYXJnZXQoZXZlbnQudGFyZ2V0KSkgcmV0dXJuOwoKICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2ZW50LmtleUNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmxLZXkgPSBldmVudC5jdHJsS2V5LAogICAgICAgICAgICAgICAgICAgICAgICBzaGlmdEtleSA9IGV2ZW50LnNoaWZ0S2V5LAogICAgICAgICAgICAgICAgICAgICAgICBhbHRLZXkgPSBldmVudC5hbHRLZXk7CgogICAgICAgICAgICAgICAgICAgIHZhciBjb3JlID0gdGhpcy5jb3JlOwoKICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNwYWNlYmFyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN0cmxLZXkgJiYgIXNoaWZ0S2V5ICYmICFhbHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yZS5pc1BhdXNlZCgpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUucGxheSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5fc2hvd1RpcCgn5pKt5pS+Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5wYXVzZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5fc2hvd1RpcCgn5pqC5YGcJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTogLy8g4oaSIEFycm93IFJpZ2h0CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g4oaQIEFycm93IExlZnQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RlcFRpbWUgPSB2b2lkIDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsS2V5ICYmICFzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUaW1lID0gMzkgPT09IGtleUNvZGUgPyA1IDogLTU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdHJsS2V5ICYmICFzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUaW1lID0gMzkgPT09IGtleUNvZGUgPyAzMCA6IC0zMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFjdHJsS2V5ICYmIHNoaWZ0S2V5ICYmICFhbHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFRpbWUgPSAzOSA9PT0ga2V5Q29kZSA/IDYwIDogLTYwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3RybEtleSAmJiAhc2hpZnRLZXkgJiYgYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUaW1lID0gMzkgPT09IGtleUNvZGUgPyAzZTIgOiAtM2UyOyAvLyA15YiG6ZKfCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5zdGVwU2VlayhzdGVwVGltZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzg6IC8vIOKGkSBBcnJvdyBVcAogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g4oaTIEFycm93IERvd24KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3RybEtleSAmJiAhc2hpZnRLZXkgJiYgIWFsdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUuYWRqdXN0Vm9sdW1lKDM4ID09PSBrZXlDb2RlID8gMC4wNSA6IC0wLjA1KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN0cmxLZXkgJiYgIXNoaWZ0S2V5ICYmICFhbHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlLnRvZ2dsZU11dGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFbnRlcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsS2V5ICYmICFzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Z1bGxzY3JlZW4uZnVsbHNjcmVlbi50b2dnbGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3RybEtleSAmJiAhc2hpZnRLZXkgJiYgIWFsdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93ZWJGdWxsc2NyZWVuLndlYkZ1bGxzY3JlZW4udG9nZ2xlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY3OiAvLyBDCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBYCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWN0cmxLZXkgJiYgIXNoaWZ0S2V5ICYmICFhbHRLZXkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlLmFkanVzdFBsYXliYWNrUmF0ZSg2NyA9PT0ga2V5Q29kZSA/IDAuMSA6IC0wLjEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5MDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3RybEtleSAmJiAhc2hpZnRLZXkgJiYgIWFsdEtleSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUudHVyblBsYXliYWNrUmF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2ODogLy8gRAogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDcwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsS2V5ICYmICFzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5wYXVzZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA9PT0gNjgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5wcmV2RnJhbWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlLm5leHRGcmFtZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODA6IC8vIFAKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3ODoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY3RybEtleSAmJiBzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IDc4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUucGxheU5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JlLnBsYXlQcmV2KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVTQwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFldmVudC5jdHJsS2V5ICYmICFldmVudC5zaGlmdEtleSAmJiAhZXZlbnQuYWx0S2V5KSBfd2ViRnVsbHNjcmVlbi53ZWJGdWxsc2NyZWVuLmlzV2ViRnVsbFNjcmVlbigpICYmIF93ZWJGdWxsc2NyZWVuLndlYkZ1bGxzY3JlZW4uZXhpdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPj0gNDggJiYga2V5Q29kZSA8PSA1NykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgfiA5CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdHJsS2V5ICYmICFzaGlmdEtleSAmJiAhYWx0S2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUucmFuZ2VTZWVrKChrZXlDb2RlIC0gNDgpICogMC4xKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBfbG9nZ2VyMi5kZWZhdWx0LmluZm8oJ1RoZSBrZXlib2FyZCBzaG9ydGN1dHMgcGF0Y2ggaGFzIGJlZW4gaW5zdGFsbGVkJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gS2V5U2hvcnRjdXRzUGF0Y2g7Cn0oUGF0Y2gpOwoKdmFyIE1vdXNlU2hvcnRjdXRzUGF0Y2ggPSBmdW5jdGlvbiAoX1BhdGNoNykgewogICAgX2luaGVyaXRzKE1vdXNlU2hvcnRjdXRzUGF0Y2gsIF9QYXRjaDcpOwoKICAgIGZ1bmN0aW9uIE1vdXNlU2hvcnRjdXRzUGF0Y2goKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1vdXNlU2hvcnRjdXRzUGF0Y2gpOwoKICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1vdXNlU2hvcnRjdXRzUGF0Y2guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNb3VzZVNob3J0Y3V0c1BhdGNoKSkuY2FsbCh0aGlzKSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKE1vdXNlU2hvcnRjdXRzUGF0Y2gsIFt7CiAgICAgICAga2V5OiAnX3ByZXBhcmUnLAogICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJlcGFyZSgpIHsKICAgICAgICAgICAgY29yZVBhdGNoLmluc3RhbGwoKTsKICAgICAgICB9CiAgICB9LCB7CiAgICAgICAga2V5OiAnX2FwcGx5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgICAgICBfaG9va2VyMi5kZWZhdWx0Lmhvb2tEZWZhdWx0U2tpbihmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgICAgICAgICAgZXhwb3J0cy5wcm90b3R5cGUuX2luaXREQkNsaWNrcyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSB2b2lkIDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUgPSB0aGlzLmNvcmU7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb1dyYXBwZXIuZmluZCgndmlkZW8nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lcikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvcmUuaXNQYXVzZWQoKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUucGxheSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29yZS5wYXVzZSh0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICB9KS5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5jdHJsS2V5KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd2ViRnVsbHNjcmVlbi53ZWJGdWxsc2NyZWVuLnRvZ2dsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Z1bGxzY3JlZW4uZnVsbHNjcmVlbi50b2dnbGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLm9uKCd3aGVlbCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2Z1bGxzY3JlZW4uZnVsbHNjcmVlbi5pc0Z1bGxTY3JlZW4oKSB8fCBfd2ViRnVsbHNjcmVlbi53ZWJGdWxsc2NyZWVuLmlzV2ViRnVsbFNjcmVlbigpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBldmVudC53aGVlbERlbHRhIHx8IGV2ZW50LmRldGFpbCB8fCBldmVudC5kZWx0YVkgJiYgLWV2ZW50LmRlbHRhWTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcmUuYWRqdXN0Vm9sdW1lKGRlbHRhID4gMCA/IDAuMDUgOiAtMC4wNSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdUaGUgbW91c2Ugc2hvcnRjdXRzIHBhdGNoIGhhcyBiZWVuIGluc3RhbGxlZCcpOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIE1vdXNlU2hvcnRjdXRzUGF0Y2g7Cn0oUGF0Y2gpOwoKdmFyIFVzZVdlYlNvY2tldExvYWRlclBhdGNoID0gZnVuY3Rpb24gKF9QYXRjaDgpIHsKICAgIF9pbmhlcml0cyhVc2VXZWJTb2NrZXRMb2FkZXJQYXRjaCwgX1BhdGNoOCk7CgogICAgZnVuY3Rpb24gVXNlV2ViU29ja2V0TG9hZGVyUGF0Y2goKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFVzZVdlYlNvY2tldExvYWRlclBhdGNoKTsKCiAgICAgICAgdmFyIF90aGlzOSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChVc2VXZWJTb2NrZXRMb2FkZXJQYXRjaC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFVzZVdlYlNvY2tldExvYWRlclBhdGNoKSkuY2FsbCh0aGlzKSk7CgogICAgICAgIF90aGlzOS50cnlXcyA9IEdNX2dldFZhbHVlKCd0cnlXcycsIGZhbHNlKTsKICAgICAgICByZXR1cm4gX3RoaXM5OwogICAgfQoKICAgIF9jcmVhdGVDbGFzcyhVc2VXZWJTb2NrZXRMb2FkZXJQYXRjaCwgW3sKICAgICAgICBrZXk6ICdfcHJlcGFyZScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wcmVwYXJlKCkgewogICAgICAgICAgICB0aGlzLl9hZGRTZXR0aW5nKCk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19hcHBseScsCiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hcHBseSgpIHsKICAgICAgICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgICAgICBfaG9va2VyMi5kZWZhdWx0Lmhvb2tGcmFnbWVudChmdW5jdGlvbiAoZXhwb3J0cykgewogICAgICAgICAgICAgICAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLnByb3RvdHlwZSwgJ3RyeVdTJywgewogICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5fdHJ5V3MgfHwgdGhhdC50cnlXczsKICAgICAgICAgICAgICAgICAgICB9LCAvLyBXaWxsIHVzZSB0aGUgV2ViU29ja2V0IGxvYWRlciBpZiB0aGUgdmFsdWUgb2YgdHJ5V3MgaXMgdHJ1ZS4KICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5fdHJ5V3MgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9IC8vIFRoZSB2YWx1ZSBvZiB0cnlXcyB3aWxsIGJlIHRydWUgaWYgdGhlIEZldGNoIGxvYWRlciBmYWlscy4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2xvZ2dlcjIuZGVmYXVsdC5pbmZvKCdUaGUgV2ViU29ja2V0IGxvYWRlciBwYXRjaCBoYXMgYmVlbiBpbnN0YWxsZWQnKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSwgewogICAgICAgIGtleTogJ19hZGRTZXR0aW5nJywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZFNldHRpbmcoKSB7CiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgX2hvb2tlcjIuZGVmYXVsdC5ob29rUGx1Z2luQ29udHJvbHMoZnVuY3Rpb24gKGV4cG9ydHMpIHsKICAgICAgICAgICAgICAgIHZhciBpbml0U2V0dGluZyA9IGV4cG9ydHMucHJvdG90eXBlLmluaXRTZXR0aW5nOwogICAgICAgICAgICAgICAgZXhwb3J0cy5wcm90b3R5cGUuaW5pdFNldHRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXRQb3BfaXRlbSIgZGF0YS1wbGF5ZXItaG9vaz0idXNld2Vic29ja2V0bG9hZGVyYm94Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNldFBvcF9zd2l0Y2hUeHQiIGRhdGEtcGxheWVyLWhvb2s9ImNvbnRyb2xzX3VzZXdlYnNvY2tldGxvYWRlciI+V2ViU29ja2V0PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXRQb3Bfc3dpdGNoIHNldFBvcF9zd2l0Y2hfY2xvc2UiIGRhdGEtcGxheWVyLWhvb2s9InVzZXdlYnNvY2tldGxvYWRlciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDsKICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGRpdi5xdWVyeVNlbGVjdG9yKCcuc2V0UG9wX2l0ZW0nKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRwbGF5c2V0dGluZ2JveC5maW5kKCcudmlkZW9fc2V0UG9wX3RvcCcpLmFwcGVuZChpdGVtKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiR1c2V3ZWJzb2NrZXRCdG4gPSB0aGlzLiRwbGF5c2V0dGluZ2JveC5maW5kKCdbZGF0YS1wbGF5ZXItaG9vaz0idXNld2Vic29ja2V0bG9hZGVyIl0nKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoYXQudHJ5V3MpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdXNld2Vic29ja2V0QnRuLnJlbW92ZUNsYXNzKCdzZXRQb3Bfc3dpdGNoX2Nsb3NlJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHVzZXdlYnNvY2tldEJ0bi5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTEuJHVzZXdlYnNvY2tldEJ0bi50b2dnbGVDbGFzcygnc2V0UG9wX3N3aXRjaF9jbG9zZScpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGF0LnRyeVdzID0gIXRoYXQudHJ5V3M7CiAgICAgICAgICAgICAgICAgICAgICAgIEdNX3NldFZhbHVlKCd0cnlXcycsIHRoYXQudHJ5V3MpOwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBpbml0U2V0dGluZy5hcHBseSh0aGlzKTsKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH1dKTsKCiAgICByZXR1cm4gVXNlV2ViU29ja2V0TG9hZGVyUGF0Y2g7Cn0oUGF0Y2gpOwoKdmFyIEtlZXBIb29raW5nUGF0Y2ggPSBmdW5jdGlvbiAoX1BhdGNoOSkgewogICAgX2luaGVyaXRzKEtlZXBIb29raW5nUGF0Y2gsIF9QYXRjaDkpOwoKICAgIGZ1bmN0aW9uIEtlZXBIb29raW5nUGF0Y2goKSB7CiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEtlZXBIb29raW5nUGF0Y2gpOwoKICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEtlZXBIb29raW5nUGF0Y2guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihLZWVwSG9va2luZ1BhdGNoKSkuY2FsbCh0aGlzKSk7CiAgICB9CgogICAgX2NyZWF0ZUNsYXNzKEtlZXBIb29raW5nUGF0Y2gsIFt7CiAgICAgICAga2V5OiAnX2FwcGx5JywKICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FwcGx5KCkgewogICAgICAgICAgICBfaG9va2VyMi5kZWZhdWx0LmtlZXBhbGl2ZSA9IHRydWU7CiAgICAgICAgICAgIF9sb2dnZXIyLmRlZmF1bHQuaW5mbygnVGhlIGtlZXAgaG9va2luZyBwYXRjaCBoYXMgYmVlbiBpbnN0YWxsZWQnKTsKICAgICAgICB9CiAgICB9XSk7CgogICAgcmV0dXJuIEtlZXBIb29raW5nUGF0Y2g7Cn0oUGF0Y2gpOwoKdmFyIHZpcFBhdGNoID0gZXhwb3J0cy52aXBQYXRjaCA9IG5ldyBWaXBQYXRjaCgpOwp2YXIgYWRzUGF0Y2ggPSBleHBvcnRzLmFkc1BhdGNoID0gbmV3IEFkc1BhdGNoKCk7CnZhciBjb250cm9sc1BhdGNoID0gZXhwb3J0cy5jb250cm9sc1BhdGNoID0gbmV3IENvbnRyb2xzUGF0Y2goKTsKdmFyIHdhdGVybWFya3NQYXRjaCA9IGV4cG9ydHMud2F0ZXJtYXJrc1BhdGNoID0gbmV3IFdhdGVybWFya3NQYXRjaCgpOwp2YXIga2VlcEhvb2tpbmdQYXRjaCA9IGV4cG9ydHMua2VlcEhvb2tpbmdQYXRjaCA9IG5ldyBLZWVwSG9va2luZ1BhdGNoKCk7CnZhciBrZXlTaG9ydGN1dHNQYXRjaCA9IGV4cG9ydHMua2V5U2hvcnRjdXRzUGF0Y2ggPSBuZXcgS2V5U2hvcnRjdXRzUGF0Y2goKTsKdmFyIG1vdXNlU2hvcnRjdXRzUGF0Y2ggPSBleHBvcnRzLm1vdXNlU2hvcnRjdXRzUGF0Y2ggPSBuZXcgTW91c2VTaG9ydGN1dHNQYXRjaCgpOwp2YXIgdXNlV2ViU29ja2V0TG9hZGVyUGF0Y2ggPSBleHBvcnRzLnVzZVdlYlNvY2tldExvYWRlclBhdGNoID0gbmV3IFVzZVdlYlNvY2tldExvYWRlclBhdGNoKCk7CgovKioqLyB9KSwKLyogMTMgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5mdWxsc2NyZWVuID0gdW5kZWZpbmVkOwoKdmFyIF9ob29rZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwoKdmFyIF9ob29rZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va2VyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Cgp2YXIgZnVsbHNjcmVlbiA9IHZvaWQgMDsKX2hvb2tlcjIuZGVmYXVsdC5ob29rRnVsbFNjcmVlbihmdW5jdGlvbiAoX2V4cG9ydHMpIHsKICByZXR1cm4gZXhwb3J0cy5mdWxsc2NyZWVuID0gZnVsbHNjcmVlbiA9IF9leHBvcnRzOwp9KTsKCmV4cG9ydHMuZnVsbHNjcmVlbiA9IGZ1bGxzY3JlZW47CgovKioqLyB9KSwKLyogMTQgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy53ZWJGdWxsc2NyZWVuID0gdW5kZWZpbmVkOwoKdmFyIF9ob29rZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwoKdmFyIF9ob29rZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va2VyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Cgp2YXIgd2ViRnVsbHNjcmVlbiA9IHZvaWQgMDsKX2hvb2tlcjIuZGVmYXVsdC5ob29rV2ViRnVsbFNjcmVlbihmdW5jdGlvbiAoX2V4cG9ydHMpIHsKICByZXR1cm4gZXhwb3J0cy53ZWJGdWxsc2NyZWVuID0gd2ViRnVsbHNjcmVlbiA9IF9leHBvcnRzOwp9KTsKCmV4cG9ydHMud2ViRnVsbHNjcmVlbiA9IHdlYkZ1bGxzY3JlZW47CgovKioqLyB9KSwKLyogMTUgKi8KLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgewoKInVzZSBzdHJpY3QiOwoKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5mbHZJbmZvID0gdW5kZWZpbmVkOwoKdmFyIF9ob29rZXIgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApOwoKdmFyIF9ob29rZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaG9va2VyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9Cgp2YXIgZmx2SW5mbyA9IHZvaWQgMDsKX2hvb2tlcjIuZGVmYXVsdC5ob29rUGFyc2VEYXRhKGZ1bmN0aW9uICh0aGF0KSB7CiAgcmV0dXJuIGV4cG9ydHMuZmx2SW5mbyA9IGZsdkluZm8gPSB0aGF0LmZsdkluZm87Cn0pOwoKZXhwb3J0cy5mbHZJbmZvID0gZmx2SW5mbzsKCi8qKiovIH0pCi8qKioqKiovIF0pOw=="},{"name":"TU-破解视频VIP集合-去广告-音乐直接解析播放-VIP视频解析，接口每日更新，一键免广告免费观看各大视频网站","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*//www.iqiyi.com/v_*","*//www.iqiyi.com/w_*","*//v.youku.com/v_show/*","*//*.le.com/ptv/vplay/*","*//v.qq.com/x/page/*","*//v.qq.com/x/cover/*","*//video.tudou.com/v/*","*//*.mgtv.com/b/*","*//tv.sohu.com/v/*","*//film.sohu.com/album/*","*//*.bilibili.com/bangumi/play/*","*//*.pptv.com/show/*","*//v.yinyuetai.com/video/*","*//*.wasu.cn/Play/show/*","*//vip.1905.com/play/*","*//51lol.feixiong.tv/*","*//www.lolfun.cn/*","*//www.lolshipin.com/*","*//lol.qq.com/v/detail*","*//lol.qq.com/v/v2/detail*","*//item.taobao.com/item.htm*","*//detail.tmall.com/item.htm*","*//s.taobao.com/search*","*//cart.taobao.com/*","*//uland.taobao.com/coupon/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":["open.lesiclub.cn"]}},"storage":{"data":{},"ts":1574751670204},"enabled":false,"position":10,"file_url":"https://greasyfork.org/scripts/371262-tu-%E7%A0%B4%E8%A7%A3%E8%A7%86%E9%A2%91vip%E9%9B%86%E5%90%88-%E5%8E%BB%E5%B9%BF%E5%91%8A-%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%9E%90%E6%92%AD%E6%94%BE/code/TU-%E7%A0%B4%E8%A7%A3%E8%A7%86%E9%A2%91VIP%E9%9B%86%E5%90%88-%E5%8E%BB%E5%B9%BF%E5%91%8A-%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E8%A7%A3%E6%9E%90%E6%92%AD%E6%94%BE.user.js","uuid":"79be958d-1075-4008-ad25-048a482eebdb","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBUVS3noLTop6Pop4bpopFWSVDpm4blkIgt5Y675bm/5ZGKLemfs+S5kOebtOaOpeino+aekOaSreaUvi1WSVDop4bpopHop6PmnpDvvIzmjqXlj6Pmr4/ml6Xmm7TmlrDvvIzkuIDplK7lhY3lub/lkYrlhY3otLnop4LnnIvlkITlpKfop4bpopHnvZHnq5kKLy8gQGRlc2NyaXB0aW9uICAgICBWSVDop4bpopHnoLTop6Ppm4blkIjvvJvmlK/mjIHjgJDniLHlpYfoibrvvIzkvJjphbfop4bpopHvvIzkuZDop4ZUVu+8jOiFvuiur+inhumike+8jOWcn+ixhuinhumike+8jOaQnOeLkOinhumike+8jOWTlOWTqeWTlOWTqe+8jOmfs+aCpuWPsO+8jFBQVFbvvIzljY7mlbBUVuOAke+8m+enu+mZpOmDqOWIhuW5suaJsOW5v+WRiuOAguOAkOWPjOWNgeS4gOOAkeaWsOWinueyvumAieaOpeWPo++8jOino+aekOmAn+W6pumjnuW/q++8jOaUr+aMgeabtOWkmue9keerme+8jOWPr+S+m+mAieaLqeeahOabtOWkmuOAguWQhOenjVZJUOiKgueCueaSreaUvu+8jOW5tuS4lOiHquWKqOino+aekOS9v+eUqOWvueW6lOeahOaSreaUvuiKgueCue+8jOabtOW/q+eahOaSreaUvumAn+W6pu+8jOabtOeos+WumueahOaSreaUvuaViOaenOOAguaUr+aMgVtUYW1wZXJtb25rZXkgfCBWaW9sZW50bW9ua2V5IHwgR3JlYXN5bW9ua2V5XeOAgui0reeJqeS8mOaDoOS/oeaBr+iOt+WPlgovLyBAaWNvbiAgICAgICAgICAgIGh0dHA6Ly93dzEuc2luYWltZy5jbi9sYXJnZS82YTE1NTc5NGx5MWZ1YmI4ZHk0cHpqMjA1azA1a2RnMy5qcGcKLy8gQGF1dGhvciAgICAgICAgICBBQwovLyBAY3JlYXRlICAgICAgICAgIDIwMTgtMDgtMTYKLy8gQHJ1bi1hdCAgICAgICAgICBkb2N1bWVudC1zdGFydAovLyBAdmVyc2lvbiAgICAgICAgIDMuNzcKLy8gQGluY2x1ZGUgICAgICAgICAqLy93d3cuaXFpeWkuY29tL3ZfKgovLyBAaW5jbHVkZSAgICAgICAgICovL3d3dy5pcWl5aS5jb20vd18qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vdi55b3VrdS5jb20vdl9zaG93LyoKLy8gQGluY2x1ZGUgICAgICAgICAqLy8qLmxlLmNvbS9wdHYvdnBsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICovL3YucXEuY29tL3gvcGFnZS8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vdi5xcS5jb20veC9jb3Zlci8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vdmlkZW8udHVkb3UuY29tL3YvKgovLyBAaW5jbHVkZSAgICAgICAgICovLyoubWd0di5jb20vYi8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vdHYuc29odS5jb20vdi8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vZmlsbS5zb2h1LmNvbS9hbGJ1bS8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vKi5iaWxpYmlsaS5jb20vYmFuZ3VtaS9wbGF5LyoKLy8gQGluY2x1ZGUgICAgICAgICAqLy8qLnBwdHYuY29tL3Nob3cvKgovLyBAaW5jbHVkZSAgICAgICAgICovL3YueWlueXVldGFpLmNvbS92aWRlby8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vKi53YXN1LmNuL1BsYXkvc2hvdy8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vdmlwLjE5MDUuY29tL3BsYXkvKgovLyBAaW5jbHVkZSAgICAgICAgICovLzUxbG9sLmZlaXhpb25nLnR2LyoKLy8gQGluY2x1ZGUgICAgICAgICAqLy93d3cubG9sZnVuLmNuLyoKLy8gQGluY2x1ZGUgICAgICAgICAqLy93d3cubG9sc2hpcGluLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgKi8vbG9sLnFxLmNvbS92L2RldGFpbCoKLy8gQGluY2x1ZGUgICAgICAgICAqLy9sb2wucXEuY29tL3YvdjIvZGV0YWlsKgovLyBAbmFtZXNwYWNlICAgICAgIFRVSklEVQovLyBAaW5jbHVkZSAgICAgICAgICovL2l0ZW0udGFvYmFvLmNvbS9pdGVtLmh0bSoKLy8gQGluY2x1ZGUgICAgICAgICAqLy9kZXRhaWwudG1hbGwuY29tL2l0ZW0uaHRtKgovLyBAaW5jbHVkZSAgICAgICAgICovL3MudGFvYmFvLmNvbS9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgKi8vY2FydC50YW9iYW8uY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAqLy91bGFuZC50YW9iYW8uY29tL2NvdXBvbi8qCi8vIEBjb25uZWN0ICAgICAgICAgb3Blbi5sZXNpY2x1Yi5jbgovLyBAbGljZW5zZSAgICAgICAgIEdQTC0zLjAtb25seQovLyBAZ3JhbnQgICAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vIEBzdXBwb3J0VVJMICAgICAgaHR0cHM6Ly9xbS5xcS5jb20vY2dpLWJpbi9xbS9xcj9rPWZPZzhpajZUdXdPQWZTOGcxNkdSWU5mNVlZRnU1Q3J3Jmp1bXBfZnJvbT0mYXV0aD0tbDA1cGFhc3JQZTV6aWd0NWFoZHpuX2R6WGlCMWpKXwovLyBAZmVlZGJhY2stdXJsICAgIGh0dHBzOi8vcW0ucXEuY29tL2NnaS1iaW4vcW0vcXI/az1mT2c4aWo2VHV3T0FmUzhnMTZHUllOZjVZWUZ1NUNydyZqdW1wX2Zyb209JmF1dGg9LWwwNXBhYXNyUGU1emlndDVhaGR6bl9kelhpQjFqSl8KLy8gQGNvcHlyaWdodCAgICAgICAyMDE4LCBBQwovLyBAbGFzdG1vZGlmaWVkICAgIDIwMTkuMTEuMTQKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjExLjE0IOabtOaWsC3kv67lpI3ml6Dms5XlhajlsY/nmoRidWfvvIzliqDlv6vnvZHnq5nmiZPlvIDpgJ/luqYKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjExLjA5IOWGjeasoeWIh+aNoumVnOWDj++8jOi/measoeW6lOivpeiDveaJk+W8gOS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMTEuMDMg5pu05paw5YiH5o2i6ZWc5YOP5Zyw5Z2ACi8vIEBub3RlICAgICAgICAgICAgMjAxOS4xMC4yMiDkv67mlLnot7PovazlnLDlnYAKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA4LjIyIOaWsOWinuWlveWHoOS4quiKgueCue+8jOW5tuS4lOaatOmcsuWHunVybOWcsOWdgO+8jOaWueS+v+WcqOaJi+acuuS4iuingueci+inhumikQovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDguMTYg56ys5LiA54mI5paw5aKe5pSv5oyB54ix5aWH6Im677yM5LyY6YW36KeG6aKR77yM5LmQ6KeGVFbvvIzohb7orq/op4bpopHvvIzlnJ/osYbop4bpopHvvIzmkJzni5Dop4bpopHvvIzlk5Tlk6nlk5Tlk6nvvIzpn7Pmgqblj7DvvIxQUFRW77yM5Y2O5pWwVFYKLy8gQHJlcXVpcmUgICAgICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3NjcmlwdHMvMzQ2MDYtYWMtJUU3JThCJUFDJUU1JUFFJUI2LSVFNiVCNyU5OCVFNSVBRSU5RCVFNSVBNCVBOSVFNyU4QyVBQiVFNCVCQyU5OCVFNiU4MyVBMCVFNSU4OCVCOCVFNiU5RiVBNSVFOCVBRiVBMiVFOSVBMiU4NiVFNSU4RiU5Ni0lRTUlQTQlQTclRTklQTIlOUQlRTQlQkMlOTglRTYlODMlQTAlRTUlODglQjgtMTAwJUU1JTg1JTgzJUU4JUI0JUFEJUU3JTg5JUE5JUU3JUE1JTlFJUU1JTg4JUI4LSVFNyU5QyU4MSVFOSU5MiVCMSVFOCVCNCVBRCVFNyU4OSVBOS0lRTklQTIlODYlRTUlODglQjglRTglQjQlQUQlRTQlQjklQjAlRTYlOUIlQjQlRTQlQkMlOTglRTYlODMlQTAtJUU1JUI5JUIzJUU1JTlEJTg3JUU0JUJDJTk4JUU2JTgzJUEwMjAvY29kZS9BQy0lRTclOEIlQUMlRTUlQUUlQjYtJUU2JUI3JTk4JUU1JUFFJTlEJUU1JUE0JUE5JUU3JThDJUFCJUU0JUJDJTk4JUU2JTgzJUEwJUU1JTg4JUI4JUU2JTlGJUE1JUU4JUFGJUEyJUU5JUEyJTg2JUU1JThGJTk2LCVFNSVBNCVBNyVFOSVBMiU5RCVFNCVCQyU5OCVFNiU4MyVBMCVFNSU4OCVCOCwlRTMlODAlOTAxMDAlRTUlODUlODMlRTglQjQlQUQlRTclODklQTklRTclQTUlOUUlRTUlODglQjglRTMlODAlOTEsJUU3JTlDJTgxJUU5JTkyJUIxJUU4JUI0JUFEJUU3JTg5JUE5LCVFOSVBMiU4NiVFNSU4OCVCOCVFOCVCNCVBRCVFNCVCOSVCMCVFNiU5QiVCNCVFNCVCQyU5OCVFNiU4MyVBMCwlRTUlQjklQjMlRTUlOUQlODclRTQlQkMlOTglRTYlODMlQTAyMCUyNS51c2VyLmpzCi8vID09L1VzZXJTY3JpcHQ9PQooZnVuY3Rpb24oKXsKCXZhciBtQ3VyU2l0ZSA9IG51bGw7Cgl2YXIgaXNEZWJ1ZyA9IGZhbHNlOwoJdmFyIGRlYnVnWCA9IGlzRGVidWc/Y29uc29sZS5sb2cuYmluZChjb25zb2xlKTpmdW5jdGlvbigpe307Cgl2YXIgQ29uZmlnID0gewoJCWlxaXlpOnsKCQkJLy8g54ix5aWH6Im66KeG6aKRIGh0dHBzOi8vd3d3LmlxaXlpLmNvbS92XzE5cnJmcTVhamsuaHRtbAoJCQkvLyBpbnNlcnRUbyA9IOaPkuWFpeWcqHh46IqC54K5CgkJCS8vIGFkU3R5bGUg6Ieq5a6a5LmJ5a6M5pW05qC35byPLeeUqOS6juenu+mZpOW5v+WRigoJCQkvLyBzU3R5bGUg5oyJ6ZKu5qC35byP5a6a5LmJCgkJCS8vIHRpdGxlIOagh+mimOaWh+Wtl+WGheWuueiOt+WPlgoJCQlpbnNlcnRUbzoiLm1vZC1wbGF5LXRpdCwgLnRpdGxlLXNjb3JlLCAuc2lkZS1jb250ZW50Pi5xeS1wbGF5LWxpc3QgLm1haW4tdGl0bGUsIC5wdWJsaWMtdmlwIC5wdWJsaWMtdmlwLXRleHQsLnF5LXBsYXllci1kZXRhaWwgLnF5LXBsYXllci10aXRsZSIsCgkJCWFkU3R5bGU6Ii5wdy12aWRlbz5kaXZbZGF0YS1jdXBpZF0+ZGl2W3N0eWxlKj0ncG9zaXRpb24nXXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudH0iLAoJCQlzU3R5bGU6IndpZHRoOiA0cmVtOyIsCgkJCXRpdGxlOiIuZGV0YWlsLWxlZnQgI3dpZGdldC12aWRlb3RpdGxlIiwKCQl9LAoJCXlvdWt1OnsKCQkJLy8g5LyY6YW36KeG6aKRIGh0dHBzOi8vdi55b3VrdS5jb20vdl9zaG93L2lkX1hNemMyT0RBMU9UUXdOQT09Lmh0bWw/c3BtPWEyaHd3LjExMzU5OTUxLm1fMjY2NjVfY18zMjA2OS41fjUhM341ITJ+NX41fkEKCQkJLy8g5Y+v55SoICAgICBodHRwczovL3YueW91a3UuY29tL3Zfc2hvdy9pZF9YTXpjNE1qRXpNamcwTkE9PS5odG1sCgkJCWluc2VydFRvOiIudGl0bGUtd3JhcD5oMSwgLnR2aW5mbz5oMiwgLnZpcF9pbmZvIC52aXBfbGltaXRfdGl0bGUiLAoJCQlhZFN0eWxlOiIiLAoJCQlzU3R5bGU6IiIsCgkJCXRpdGxlOiIucGxheWVyLXRpdGxlIC50aXRsZS13cmFwPmgxPnNwYW46bnRoLWNoaWxkKDEpIiwKCQl9LAoJCWxlOnsKCQkJLy8g5LmQ6KeGVFYgaHR0cDovL3d3dy5sZS5jb20vcHR2L3ZwbGF5LzI4NjM2OTUxLmh0bWwKCQkJaW5zZXJ0VG86Ii5icmllZkludHJvX3RpdCwgLmNvbHVtbl9ib2R5Pi52aXBfdGl0LCAjbGVfcGxheWJveCAucGxheWJveF92aXBfdGlwPmgzIiwKCQkJYWRTdHlsZToiLmxheW91dF9wbGF5IGlmcmFtZXtkaXNwbGF5Om5vbmU7fSIsCgkJCXNTdHlsZToidmVydGljYWwtYWxpZ246IGJvdHRvbTsiLAoJCQl0aXRsZToiLmJyaWVmSW50cm9fYm94IC5icmllZkludHJvX3RpdD5hIiwKCQl9LAoJCXZfcXE6ewoJCQkvLyDohb7orq/op4bpopEgaHR0cHM6Ly92LnFxLmNvbS94L2NvdmVyL2F1NzU3eDRhY2RrNmplYS5odG1sCgkJCS8vIGh0dHBzOi8vdi5xcS5jb20veC9wYWdlL3EwMzkwdHowZDJvLmh0bWwKCQkJaW5zZXJ0VG86Ii5tb2RfaW50cm8+LnZpZGVvX2Jhc2UsIC5zY3JvbGxfdG9wIC5wbGF5ZXJfdGl0bGUsIC50dmlwX29wZW5fd3JhcCAudHZpcF9vcGVuX2xmPi50dmlwX29wZW5fYnRuIiwKCQkJYWRTdHlsZToiIiwKCQkJc1N0eWxlOiJoZWlnaHQ6IDM2cHg7bGluZS1oZWlnaHQ6IDM2cHg7bWFyZ2luOiAwcHggNXB4O2ZvbnQtc2l6ZTogMjRweDt3aWR0aDogNnJlbTsiLAoJCQl0aXRsZToiLnBsYXllcl9oZWFkbGluZSAuX3ZpZGVvX3RpdGxlIiwKCQl9LAoJCXR1ZG91OnsgLy8tLS3lnLDlnYBtYXRjaOS5n+acieW+heajgOafpQoJCQkvLyDlnJ/osYbop4bpopEgaHR0cDovL3ZpZGVvLnR1ZG91LmNvbS92L1hNell4TXpNeU1ESXpNZz09Lmh0bWwKCQkJLy8gVE9ETyDpmZDliLblj4LmlbDor7fmsYLlv4XpobvmmK/vvJpodHRwOi8veXVuLmJhaXl1Zy5jbi92aXAvaW5kZXgucGhwP3VybD1odHRwOi8vdmlkZW8udHVkb3UuY29tL3YvWE16WXhNek15TURJek1nPT0g5LiN6IO95bim5Yir55qE5Y+C5pWwCgkJCWluc2VydFRvOiIubGVmdC1zaWRlIC50ZC1wbGF5YmFzZSAudGQtcGxheWJhc2VfX3RpdGxlLCAudGQtbGlzdGJveF9fYiAudGQtbGlzdGJveF9fbGlzdDpudGgtY2hpbGQoMSkgLnRkLXZpZGVvX19tZXRhX190aXRsZSIsCgkJCWFkU3R5bGU6IiIsCgkJCXNTdHlsZToid2lkdGg6dW5zZXQ7Y29sb3I6IHJlZCAhaW1wb3J0YW50O2ZvbnQtc2l6ZTp1bnNldDsiLAoJCQl0aXRsZToiLnRkLXBsYXliYXNlICNzdWJ0aXRsZSIsCgkJfSwKCQltZ3R2OnsKCQkJLy8g6IqS5p6cVFYgaHR0cHM6Ly93d3cubWd0di5jb20vYi8zMTg5NDUvNDQ3MDYzNi5odG1sCgkJCWluc2VydFRvOiIudi1wYW5lbC10aXRsZSwgLmMtcGxheWVyLWFzaWRlLWZpbG1kbCAudHh0IC50aWxuYW1lIiwKCQkJYWRTdHlsZToiIiwKCQkJc1N0eWxlOiJ3aWR0aDogdW5zZXQ7Zm9udC1zaXplOnVuc2V0O2hlaWdodDp1bnNldDtsaW5lLWhlaWdodDp1bnNldDsiLAoJCQl0aXRsZToiLnYtcGFuZWwtaW5mbyAucm91dGUtdGlsIiwKCQl9LAoJCXNvaHU6ewoJCQkvLyDmkJzni5Dop4bpopEgaHR0cHM6Ly90di5zb2h1LmNvbS92L01qQXhPREE0TURJdmJqWXdNRFUzTnpVME5TNXphSFJ0YkE9PS5odG1sCgkJCS8vIGh0dHBzOi8vZmlsbS5zb2h1LmNvbS9hbGJ1bS85MzM3MDAyLmh0bWw/Y2hhbm5lbGVkPTEyMDAwMzAwMDIgLS0tLSDmlrDlop7mlK/mjIEKCQkJaW5zZXJ0VG86Ii52aWRlb0JveCAudkJveC1kZXNrdG9wLCAucGxheWVyQm94IC5qdWppX3RpcHM+aDQsICNwbGF5ZXJfdmlwVGlwcyAudmlwVGlwc0luPi5wMSwgLnBsYXllcl93cmFwIC5wbGF5ZXItdG9wLWluZm8gLnBsYXllci10b3AtaW5mby1uYW1lLCAuZGV0YWlsSW5mb19ib3g+cDpudGgtY2hpbGQoMSkiLAoJCQlhZFN0eWxlOiIjY3J1bWJzQmFyIC5hZHtkaXNwbGF5Om5vbmV9LmFyZWE+LmxlZnQ+LmFkdntkaXNwbGF5Om5vbmV9IiwKCQkJc1N0eWxlOiIiLAoJCQl0aXRsZToiI2NydW1ic0JhciAuY3J1bWJzIGE6bGFzdCIsCgkJfSwKCQliaWxpYmlsaTp7CgkJCS8vIOWTlOWTqeWTlOWTqSDlj6/og73ov5jmnInlhbbku5bnmoTop4bpopHlnLDlnYAKCQkJLy8gaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL2Jhbmd1bWkvcGxheS9lcDIzMjQxMgoJCQlpbnNlcnRUbzoiLmhlYWRlci1pbmZvIC5jb3VudC13cmFwcGVyLCAjYmFuZ3VtaV9wbGF5ZXIgLmxpbWl0LXZpcC13cmFwIC5wd2UtcG9wdXAtcGF5IiwKCQkJYWRTdHlsZToiIiwKCQkJc1N0eWxlOiJ3aWR0aDogNnJlbTttYXJnaW4tdG9wOiAtMC41cmVtO21hcmdpbi1sZWZ0OiAycmVtOyIsCgkJCXRpdGxlOiIjYmFuZ3VtaV9kZXRhaWwgLmluZm8tdGl0bGUgaDIiLAoJCX0sCgkJcHB0djp7CgkJCS8vIFBQVFYgaHR0cDovL3YucHB0di5jb20vc2hvdy9kMkE5dWlhS0lpYkRhWkYzOC5odG1sP3NwbT12aXBfaW5kZXhfd2ViLnZpcF9kNTg4NTVlYjUwNmU2Yzg5ZjdlZWI0MzRlMDk1NWM0MS4wLjAuMAoJCQlpbnNlcnRUbzoiLnBsYXllci1zaWRlYmFyIC50aXRoaWRlIGxpOm50aC1jaGlsZCgxKT5hLCAjbWFpbkNvbnRlbnQgLmNmIHVsLmZsIiwKCQkJYWRTdHlsZToiIiwKCQkJc1N0eWxlOiJtYXJnaW4tdG9wOiAwLjVyZW07IiwKCQkJdGl0bGU6Ii5tb2JpbGVsb29rLXBvcC13cmFwIC50di1uYW1lIiwKCQl9LAoJCXlpbnl1ZXRhaTp7CgkJCS8vIOmfs+aCpuWPsCBodHRwOi8vdi55aW55dWV0YWkuY29tL3ZpZGVvLzMyNzEwNTYKCQkJLy8gaHR0cDovL3YueWlueXVldGFpLmNvbS9wbGF5bGlzdC8yNjU1MjAgICAgICAgIC0tLS0g5LiN5pSv5oyB6L+Z5Liq5Zyw5Z2ACgkJCWluc2VydFRvOiIudmlkZW9Cb3ggLnZpZGVvX2luZm8gLnZpZGVvTmFtZSIsCgkJCWFkU3R5bGU6IiIsCgkJCXNTdHlsZToiIiwKCQkJdGl0bGU6Ii52aWRlb05hbWU6Zmlyc3QiLCAvLyBzcGxpdCgiICAgICIpCgkJfSwKCQl3YXN1OnsKCQkJLy8g5Y2O5pWwVFYgaHR0cHM6Ly93d3cud2FzdS5jbi9QbGF5L3Nob3cvaWQvOTU2NzcxMAoJCQlpbnNlcnRUbzoiLmNvbnRhaW5lciAucGxheV9zaXRlIGgzLCAucGxheV92aWRlb19iICNwbGF5X3ZvZF9oaXRzIiwKCQkJYWRTdHlsZToiLmNvbnRhaW5lciBkaXZbY2xhc3MqPSdwbGF5X2Fkcydde2Rpc3BsYXk6bm9uZX0jTVpBRF9QT1BfUExBQ0VIT0xERVIsLmFkX2xpc3R7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9IiwKCQkJc1N0eWxlOiIiLAoJCQl0aXRsZToiLnBsYXlfbW92aWUgLnBsYXlfdmlkZW9fdCAucGxheWVyX2luZm9fbTpmaXJzdCBwIGEiLAoJCX0sCgkJMTkwNTp7CgkJCS8vIDE5MDUgaHR0cHM6Ly93d3cud2FzdS5jbi9QbGF5L3Nob3cvaWQvOTU2NzcxMAoJCQlpbnNlcnRUbzoiLnNjLXBheS13cmFwcGVyPi5zYy1wYXktYnV0dG9uLXdyYXBwZXIsIC5wYWdlX3BsYXk+LnBsYXllci1uYXYsICNwU2lkZWJhciAubW92aWUtdGl0bGUsICNwU2lkZWJhciAucGF5LW1vZC1ub3Rsb2dpbiAudmlwLWxvZ2xvZ2xvZyIsCgkJCWFkU3R5bGU6IiIsCgkJCXNTdHlsZToid2lkdGg6IDUuMXJlbTsiLAoJCQl0aXRsZToiLnBsYXllci1uYXYgLm5hdi10aXRsZSIsCgkJfSwKCQlmZWl4aW9uZzp7CgkJCS8vIOmjnueGiuinhumikSBodHRwOi8vNTFsb2wuZmVpeGlvbmcudHYvVmlkZW8vcGxheS9pZC8zNDI3CgkJCWluc2VydFRvOiIuYnJlYWRjcnVtYiAuYWN0aXZlIGEsICNnX25ld3NJbmZvTGVmdCAjbV92aWRlb0luZm8gcCIsCgkJCWFkU3R5bGU6IiIsCgkJCXNTdHlsZToid2lkdGg6IDYuMnJlbTtwb3NpdGlvbjogdW5zZXQ7IiwKCQkJdGl0bGU6Ii5icmVhZGNydW1iIC5hY3RpdmUgYSBzcGFuIiwKCQkJc291cmNlOiJxcSIsCgkJfSwKCQlsb2xmdW46ewoJCQkvLyDmmrTpvpnnlLXnq54gaHR0cDovL3d3dy5sb2xmdW4uY24vdmlkZW8vdmlkZW8uaHRtbD9pZD0zMjg3CgkJCWluc2VydFRvOiIucGxheWVyX3R4dCAudmlkZW9fdG9wX2NvbiAudmlkZW9fdG9wX2Nvbl90aXRsZSIsCgkJCWFkU3R5bGU6Ii52aWRlb190b3BfY29uX3RpdGxle292ZXJmbG93OnVuc2V0ICFpbXBvcnRhbnQ7fSIsCgkJCXNTdHlsZToiIiwKCQkJdGl0bGU6Ii5wbGF5ZXJfdHh0IC52aWRlb190b3BfY29uIC52aWRlb190b3BfY29uX3RpdGxlIiwKCQkJc291cmNlOiJxcSIsCgkJfSwKCQlsb2xzaGlwaW46ewoJCQkvLyDmnKjmnKjkuI3lk60gaHR0cDovL3d3dy5sb2xzaGlwaW4uY29tLzIwMTgwOS81OTA4OS5odG1sCgkJCWluc2VydFRvOiIuYXJ0aWNsZSAuYXJ0aWNsZV9fbWFpbiAuYXJ0aWNsZV9faW5mbyBoMSIsCgkJCWFkU3R5bGU6Ii5hcnRpY2xlX19hc2lkZSAubW9kIGRpdlthbGlnbj0nY2VudGVyJ117ZGlzcGxheTpub25lO30iLAoJCQlzU3R5bGU6IiIsCgkJCXRpdGxlOiIuYXJ0aWNsZSAuYXJ0aWNsZV9fbWFpbiAuYXJ0aWNsZV9faW5mbyBoMSIsCgkJCXNvdXJjZToicXEiLAoJCX0sCgkJbG9sX3FxOnsKCQkJLy8g6IW+6K6v55qEbG9s6KeG6aKRIGh0dHA6Ly9sb2wucXEuY29tL3YvZGV0YWlsLnNodG1sP2lkPTk2ODc3JmVfY29kZT1sb2x3ZWIudmlkZW9icHJvbW8ucjIKCQkJaW5zZXJ0VG86ICIudmlkZW8tZGV0YWlsICNqVmlkZW9UaXRsZSwgLnZpZGVvLWRldGFpbC1ib3ggI3ZpZGVvLXRpdGxlLCAudmlkZW8tZGV0YWlsIC52LXNpZGUtaW5mbyAudi1zaWRlLW5hbWUiLAoJCQlhZFN0eWxlOiIudmlkZW8tdGl0bGUtYm94IGg2e292ZXJmbG93OiB1bnNldCFpbXBvcnRhbnQ7fSIsCgkJCXNTdHlsZToiIiwKCQkJdGl0bGU6Ii52aWRlby1kZXRhaWwgI2pWaWRlb1RpdGxlLCAudmlkZW8tZGV0YWlsLWJveCAjdmlkZW8tdGl0bGUiLAoJCQlzb3VyY2U6InFxIiwKCQl9Cgl9OwoJZnVuY3Rpb24gaW5pdFNpdGUoKXsKCQlmb3IodmFyIGtleSBpbiBDb25maWcpewoJCQlpZihsb2NhdGlvbi5ob3N0LnJlcGxhY2UoL1wuL2lnLCAiXyIpLmluZGV4T2Yoa2V5KSA+PSAwKXsKCQkJCWRlYnVnWCgi5b2T5YmN56uZ54K577yaIitrZXkpOwoJCQkJbUN1clNpdGUgPSBDb25maWdba2V5XTsKCQkJCW1DdXJTaXRlLm5hbWUgPSBrZXk7CgkJCQlicmVhazsKCQkJfQoJCX0KCX0KCWZ1bmN0aW9uIHNhZmVSZW1vdmUobm9kZSl7CgkJdHJ5ewoJCQlmYU5vZGVzW2ldLnF1ZXJ5U2VsZWN0b3IoIi5hY0luRyIpLnJlbW92ZSgpOwoJCX1jYXRjaCAoZSkge30KCX0KCWZ1bmN0aW9uIFRVX2FkZFN0eWxlKGNzcywgY2xhc3NOYW1lLCBhZGRUb1RhcmdldCwgaXNSZWxvYWQpeyAvLyDmt7vliqBDU1Pku6PnoIHvvIzkuI3ogIPomZHmlofmnKzovb3lhaXml7bpl7TvvIzluKbmnIljbGFzc05hbWUKCQl2YXIgdG91dCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7CgkJCWFkZFRvVGFyZ2V0ID0gYWRkVG9UYXJnZXQgfHwgImJvZHkiOwoJCQlpc1JlbG9hZCA9IGlzUmVsb2FkIHx8IGZhbHNlOwoJCQlpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkZFRvVGFyZ2V0KSAhPSBudWxsKXsKCQkJCWNsZWFySW50ZXJ2YWwodG91dCk7CgkJCQlpZihpc1JlbG9hZCA9PSB0cnVlKXsKCQkJCQlzYWZlUmVtb3ZlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi4iK2NsYXNzTmFtZSkpOwoJCQkJfWVsc2UgaWYoaXNSZWxvYWQgPT0gZmFsc2UgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIrY2xhc3NOYW1lKSAhPSBudWxsKXsKCQkJCQkvLyDoioLngrnlrZjlnKggJiYg5LiN5YeG5aSH6KaG55uWCgkJCQkJcmV0dXJuOwoJCQkJfQoJCQkJdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpOwoJCQkJaWYoY2xhc3NOYW1lICE9IG51bGwpIGNzc05vZGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lOwoJCQkJY3NzTm9kZS5pZCA9ICJBQy0iK2NsYXNzTmFtZTsKCQkJCWNzc05vZGUuc2V0QXR0cmlidXRlKCJ0eXBlIiwgInRleHQvY3NzIikKCQkJCWNzc05vZGUuaW5uZXJIVE1MID0gY3NzOwoJCQkJdHJ5ewoJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYWRkVG9UYXJnZXQpLmFwcGVuZENoaWxkKGNzc05vZGUpOwoJCQkJfWNhdGNoIChlKXtjb25zb2xlLmxvZyhlLm1lc3NhZ2UpO30KCQkJfQoJCX0sIDUwKTsKCX0KCWZ1bmN0aW9uIGdldFRydWVVcmwoKXsKCQl2YXIgb3JpVXJsID0gbG9jYXRpb24uaHJlZjsKCQl0cnl7CgkJCXZhciBvcmlUZXh0ID0gJCgiLnBsYXllcj5lbWJlZCIpLmF0dHIoInNyYyIpCgkJCQl8fCAkKCIuYXJ0aWNsZV9fdmlkZW8gaWZyYW1lIikuYXR0cigic3JjIikgLy8gbG9sc2hpcGluCgkJCQl8fCAkKCJpbnB1dFtpZD0nZmVfdGV4dCddIikuYXR0cigidmFsdWUiKQkvL+mjnueGiuinhumikQoJCQkJfHwgInZpZD0iKyQoIi50eHBfdmFsdWVbZGF0YS1yb2xlPSd0eHAtdWktY29uc29sZS12aWQnXSIpLnRleHQoKQoJCQk7CgkJCWlmKHR5cGVvZihtQ3VyU2l0ZS5zb3VyY2UpICE9ICJ1bmRlZmluZWQiICYmIG1DdXJTaXRlLnNvdXJjZSA9PSAicXEiKXsKCQkJCW9yaVVybCA9IC92aWQ9KFteJl0rKS8uZXhlYyhvcmlUZXh0KVsxXTsKCQkJCW9yaVVybCA9ICJodHRwczovL3YucXEuY29tL3gvcGFnZS8iK29yaVVybCsiLmh0bWwiCgkJCX0KCQl9Y2F0Y2ggKGUpIHsKCQkJZGVidWdYKGUpOwoJCX0KCQlyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG9yaVVybC5yZXBsYWNlKC9cP1tcU10qfCNbXFNdKi8sICIiKSkKCX0KCgkvKioKCSAqIOaJp+ihjOermeeCuVZJUOino+aekOaPkuWFpeaTjeS9nAoJICovCglmdW5jdGlvbiBkb0luc2VydCgpewoJCWlmKG1DdXJTaXRlID09IG51bGwpIHJldHVybjsKCQlUVV9hZGRTdHlsZShtQ3VyU2l0ZS5hZFN0eWxlLCAidHUtYWQtc3R5bGUtcmVtb3ZlIik7IC8vIOa3u+WKoOmDqOWIhuaLpuaIquW5v+WRiueahOinhOWImQoJCXZhciBpbnNlcnROb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwoJCWluc2VydE5vZGUuc3R5bGUgPSAiO2JhY2tncm91bmQtY29sb3I6I2ZmZjcwMDt3aWR0aDogNC41cmVtO2N1cnNvcjogcG9pbnRlcjsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyBjb2xvcjogcmVkOyBwYWRkaW5nOiAwcHggNXB4OyBib3JkZXI6IDFweCBzb2xpZCByZWQ7IGZvbnQtc2l6ZTogMTdweDsgZGlzcGxheTogaW5saW5lLWZsZXg7IGhlaWdodDogMjRweDsgbGluZS1oZWlnaHQ6IDI0cHg7IG1hcmdpbjogMHB4IDVweDsiICsgbUN1clNpdGUuc1N0eWxlOwoJCWluc2VydE5vZGUuaW5uZXJIVE1MID0gIlZJUOino+aekCI7CgkJaW5zZXJ0Tm9kZS50YXJnZXQgPSAiX2JhbG5rIjsKCQlpbnNlcnROb2RlLmNsYXNzTmFtZSA9ICJhY0luRyI7CgkJdmFyIHRpdGxlID0gIiI7CgkJdHJ5ewoJCQl0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobUN1clNpdGUudGl0bGUpLmlubmVyVGV4dC5zcGxpdCgiICAgIilbMF0udHJpbSgpOwoJCQl0aXRsZSA9IGVuY29kZVVSSUNvbXBvbmVudCh0aXRsZSk7CgkJfWNhdGNoIChlKSB7CgkJCWRlYnVnWChkb2N1bWVudC5sb2NhdGlvbi5ocmVmKTsKCQkJZGVidWdYKCLmib7kuI3liLDoioLngrnvvJoiICsgbUN1clNpdGUubmFtZSk7CgkJCWRlYnVnWChlKTsKCQl9CgkJdGl0bGUgPSB0aXRsZS5yZXBsYWNlKC9WSVDop6PmnpAkLywgIiIpOwoJCXZhciB1cmwgPSAiaHR0cHM6Ly90aGlua2libS5ub3cuc2gvP3VybD0iICsgZ2V0VHJ1ZVVybCgpICsgIiZ0aXRsZT0iICsgdGl0bGU7CgkJaW5zZXJ0Tm9kZS5kYXRhc2V0LnVybCA9IHVybDsKCQlpbnNlcnROb2RlLnNldEF0dHJpYnV0ZSgib25jbGljayIsICJ3aW5kb3cub3Blbih0aGlzLmRhdGFzZXQudXJsKTsiKTsKCQl2YXIgZmFOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwobUN1clNpdGUuaW5zZXJ0VG8pOwoJCWZvcih2YXIgaSA9IDA7IGkgPCBmYU5vZGVzLmxlbmd0aDsgaSsrKXsKCQkJaWYoZmFOb2Rlc1tpXS5xdWVyeVNlbGVjdG9yKCIuYWNJbkc6bm90KFt0aXRsZV0pIikgPT0gbnVsbCl7CgkJCQlkZWJ1Z1goIuaWsOWinuaMiemSriIpOwoJCQkJc2FmZVJlbW92ZShmYU5vZGVzW2ldLnF1ZXJ5U2VsZWN0b3IoIi5hY0luRyIpKTsKCQkJCWZhTm9kZXNbaV0uYXBwZW5kQ2hpbGQoaW5zZXJ0Tm9kZS5jbG9uZU5vZGUodHJ1ZSkpOwoJCQkJZmFOb2Rlc1tpXS5zZXRBdHRyaWJ1dGUoImFjSW5zIiwgIiIpOwoJCQkJaWYodGl0bGUgIT0gIiIpIHsKCQkJCQlmYU5vZGVzW2ldLnNldEF0dHJpYnV0ZSgidGl0bGUiLCB0aXRsZSk7CgkJCQl9CgkJCX1lbHNlewoJCQkJZmFOb2Rlc1tpXS5xdWVyeVNlbGVjdG9yKCIuYWNJbkc6bm90KFt0aXRsZV0pIikuZGF0YXNldC51cmwgPSB1cmw7CgkJCX0KCQl9Cgl9CglkZWJ1Z1goIuaVsOaNruWIneWni+WMliIpOwoJaW5pdFNpdGUoKTsKCShmdW5jdGlvbigpewoJCVRVX2FkZFN0eWxlKCIuYWNJbkc6aG92ZXJ7Y29sb3I6IHJnYmEoMjU1LDIwMCwwLDMwKSAhaW1wb3J0YW50O2JvcmRlcjogMXB4IGRhc2hlZCByZ2JhKDI1NSwyMDAsMTAwLDEwKSAhaW1wb3J0YW50O3RleHQtc2hhZG93OiAwIDBweCByZ2JhKDI0MiwzMyw0OSwzMCksMCAwcHggMHB4IHJnYmEoMjQyLDMzLDQ5LDMwKSwwIDFweCAxcHggcmdiYSgyNDIsMzMsNDksMzApLDFweCAwIDFweCByZ2JhKDI0MiwzMyw0OSwzMCksLTFweCAwIDFweCByZ2JhKDI0MiwzMyw0OSwzMCksMCAwIDFweCByZ2JhKDI0MiwzMyw0OSwzMCkgIWltcG9ydGFudDt9Iik7CgkJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTm9kZUluc2VydGVkJywgZnVuY3Rpb24gKGUpIHsKCQkJZGVidWdYKCJodG1s5paH5qGj6L295YWl5a6M5oiQIik7CgkJCWlmKGUudGFyZ2V0ICE9IG51bGwgJiYgZS50YXJnZXQuY2xhc3NOYW1lICE9IG51bGwgJiYgZS50YXJnZXQuaWQuaW5kZXhPZigiQUMtIikgPT0gMCl7IHJldHVybjsgfSAvL+Wxj+iUveaOieWboOS4uuWinuWKoGNzc+WvvOiHtOeahOinpuWPkWluc2VydOWKqOS9nAoJCQlkb0luc2VydCgpOwoJCX0sIGZhbHNlKTsKCX0pKCk7Cn0pKCk7","requires":[{"meta":{"name":"AC-%E7%8B%AC%E5%AE%B6-%E6%B7%98%E5%AE%9D%E5%A4%A9%E7%8C%AB%E4%BC%98%E6%83%A0%E5%88%B8%E6%9F%A5%E8%AF%A2%E9%A2%86%E5%8F%96,%E5%A4%A7%E9%A2%9D%E4%BC%98%E6%83%A0%E5%88%B8,%E3%80%90100%E5%85%83%E8%B4%AD%E7%89%A9%E7%A5%9E%E5%88%B8%E3%80%91,%E7%9C%81%E9%92%B1%E8%B4%AD%E7%89%A9,%E9%A2%86%E5%88%B8%E8%B4%AD%E4%B9%B0%E6%9B%B4%E4%BC%98%E6%83%A0,%E5%B9%B3%E5%9D%87%E4%BC%98%E6%83%A020%25.user.js","url":"https://greasyfork.org/scripts/34606-ac-%E7%8B%AC%E5%AE%B6-%E6%B7%98%E5%AE%9D%E5%A4%A9%E7%8C%AB%E4%BC%98%E6%83%A0%E5%88%B8%E6%9F%A5%E8%AF%A2%E9%A2%86%E5%8F%96-%E5%A4%A7%E9%A2%9D%E4%BC%98%E6%83%A0%E5%88%B8-100%E5%85%83%E8%B4%AD%E7%89%A9%E7%A5%9E%E5%88%B8-%E7%9C%81%E9%92%B1%E8%B4%AD%E7%89%A9-%E9%A2%86%E5%88%B8%E8%B4%AD%E4%B9%B0%E6%9B%B4%E4%BC%98%E6%83%A0-%E5%B9%B3%E5%9D%87%E4%BC%98%E6%83%A020/code/AC-%E7%8B%AC%E5%AE%B6-%E6%B7%98%E5%AE%9D%E5%A4%A9%E7%8C%AB%E4%BC%98%E6%83%A0%E5%88%B8%E6%9F%A5%E8%AF%A2%E9%A2%86%E5%8F%96,%E5%A4%A7%E9%A2%9D%E4%BC%98%E6%83%A0%E5%88%B8,%E3%80%90100%E5%85%83%E8%B4%AD%E7%89%A9%E7%A5%9E%E5%88%B8%E3%80%91,%E7%9C%81%E9%92%B1%E8%B4%AD%E7%89%A9,%E9%A2%86%E5%88%B8%E8%B4%AD%E4%B9%B0%E6%9B%B4%E4%BC%98%E6%83%A0,%E5%B9%B3%E5%9D%87%E4%BC%98%E6%83%A020%25.user.js","ts":1576516239165,"mimetype":"text/javascript"},"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBBQy3ni6zlrrYt5reY5a6d5aSp54yr5LyY5oOg5Yi45p+l6K+i6aKG5Y+WLOWkp+mineS8mOaDoOWIuCzjgJAxMDDlhYPotK3niannpZ7liLjjgJEs55yB6ZKx6LSt54mpLOmihuWIuOi0reS5sOabtOS8mOaDoCzlubPlnYfkvJjmg6AyMCUKLy8gQHZlcnNpb24gICAgICA3LjEKLy8gQGRlc2NyaXB0aW9uICDni6zlrrbmn6Xor6Lmt5jlrp3llYblk4Hmn6Xor6LmmK/lkKblhbfmnInkvJjmg6DliLgs5ZCE56eN5aSn6aKd5LyY5oOg5Yi4LOOAkDPlhYN8MTDlhYN8MjDlhYN8NDDlhYPjgJHkvJjmg6DliLjpooblj5Ys6LSt54mp5b+F5aSHLOeJueWkp+S8mOaDoAovLyBAYXV0aG9yICAgICAgIEFDCi8vIEBpbmNsdWRlICAgICAgaHR0cHM6Ly9pdGVtLnRhb2Jhby5jb20vaXRlbS5odG0qCi8vIEBpbmNsdWRlICAgICAgaHR0cHM6Ly9kZXRhaWwudG1hbGwuY29tL2l0ZW0uaHRtKgovLyBAaW5jbHVkZSAgICAgIGh0dHBzOi8vcy50YW9iYW8uY29tL3NlYXJjaCoKLy8gQGluY2x1ZGUgICAgICBodHRwczovL2NhcnQudGFvYmFvLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgKjovL3VsYW5kLnRhb2Jhby5jb20vY291cG9uLyoKLy8gQG5vdGUgICAgICAgICAyMDE5LjAzLjA4LVY3LjEg5L+u5aSN5LiA5aSE5bCPYnVnCi8vIEBub3RlICAgICAgICAgMjAxOS4wMS4wNi1WNy4wIOW5tOWJjeWIt+S4gOS4i+eJiOacrAovLyBAbm90ZSAgICAgICAgIDIwMTguMTAuMTUtVjYuOSDnp7vpmaTml6DlhbPnmoTku6PnoIHvvIzkvJjljJbnu5PmnoTvvIzlr7nkuo7ml6DmlYjnmoTpk77mjqXkuI3miZPlvIAKLy8gQG5vdGUgICAgICAgICAyMDE4LjA5LjI2LVY2Ljgg56e76Zmk5q+U5Lu35Yqf6IO9fn4KLy8gQG5vdGUgICAgICAgICAyMDE4LjA5LjIzLVY2Ljcg5Zyo5reY5a6d5Y2V6aG15o+Q5L6b5q+U5Lu35Yqf6IO9Ci8vIEBub3RlICAgICAgICAgMjAxOC4wOS4xOS1WNi42IOS/ruWkjeWcqOa3mOWuneafkOS6m+mhtemdoueahOWxleekuuS4jeato+W4uOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwMTguMDkuMTctVjYuNSDmm7TmlrAt5pSv5oyB5omp5bGV5qih5byPCi8vIEBub3RlICAgICAgICAgMjAxOC4wOS4wNi1WNi40IOaWsOWinuWPr+eCueWHu+aMiemSrueahOWPmOiJsu+8jOabtOWPi+WlveeahOS6pOS6kgovLyBAbm90ZSAgICAgICAgIDIwMTguMDkuMDUtVjYuMyDkv67lpI3lpJrkuKrop6blj5Hlr7zoh7TnmoTlhrLnqoHpl67popjvvIzmlrDlop7mu5rliqjml7bkvp3ml6flj6/ku6XnnIvliLDkvJjmg6DmipjmiaMKLy8gQG5vdGUgICAgICAgICAyMDE4LjA4LjI0LVY2LjIg5L+u5aSN6I635Y+W5ZWG5ZOB5qCH6aKY5LiN5q2j5bi45a+86Ie055qE5pCc57Si5peg57uT5p6c55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAxOC4wOC4xMS1WNi4wIOaWsOWinuaQnOe0ouWQjuS8mOaDoOmdouWAvOaYvuekuu+8m+Wxj+iUveS4gOS6m+eugOWNleeahOeDpuS6uueahOW5v+WRilvnq5nlhoXmkJxdCi8vIEBub3RlICAgICAgICAgMjAxOC4wNy4yNS1WNS42IOS8mOWMluaMiemSrumhuuW6j+OAguOAguS7peWJjemCo+S4qumhuuW6j+ecn+eahOS4jeihjAovLyBAbm90ZSAgICAgICAgIDIwMTguMDYuMTMtVjUuNSDkv67lpI3lgbblsJTml6Dms5Xojrflj5bmoIfpopjvvIznhLblkI7ml6Dms5XmraPluLjmkJzntKLnu5PmnpznmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMDE4LjA2LjEzLVY1LjQg5L+u5aSN6LCD55So55qE6Zeu6aKY77yM5Lul5Y+K5pyJ5pe25YCZ5p+l5LiN5Ye65p2l55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAxOC4wNS4xMi1WNS4zIOS/ruWkjeWcqOmDqOWIhuWkqeeMq+mhtemdouayoeWPjeW6lOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwMTguMDQuMzAtVjUuMiDmlrDlop7kvJjmg6DliLjpnaLpop3mn6Xor6Lnu5PmnpwKLy8gQG5vdGUgICAgICAgICAyMDE4LjAzLjE4LVY1LjEg5pu05paw5LiL5qCH6aKYCi8vIEBub3RlICAgICAgICAgMjAxOC4wMy4xOC1WNS4wIOaWsOWinui0reeJqei9pumhtemdouiuvue9ruaVsOaNrgovLyBAbm90ZSAgICAgICAgIDIwMTguMDMuMTAtVjQuOSDkv67mraPkuIrkuKrniYjmnKzmm7TmlrDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMDE4LjAzLjA4LVY0Ljgg566A5Y2V5aKe5Yqg5LiA5Liq5oyJ6ZKu6YCJ6aG5Ci8vIEBub3RlICAgICAgICAgMjAxOC4wMS4yMy1WNC41IOS/ruato+aWh+Wtl+ivtOaYjgovLyBAbm90ZSAgICAgICAgIDIwMTguMDEuMjItVjQuNCDkv67lpI3kuIrkuKrniYjmnKzmm7TmlrDlr7zoh7TnmoRCVUfjgILjgILjgILjgILjgILlvojlsLTlsKwKLy8gQG5vdGUgICAgICAgICAyMDE4LjAxLjE4LVY0LjMg5LyY5YyW55WM6Z2i5pi+56S65pWI5p6c77yM5pi+56S65pCc57Si57uT5p6c5Lit6KKr6Ieq5Yqo5Yig6Zmk55qE6aG555uuCi8vIEBub3RlICAgICAgICAgMjAxOC4wMS4wNy1WNC4yIOabtOaNouWfn+WQjQovLyBAbm90ZSAgICAgICAgIDIwMTguMDEuMDYtVjQuMSDnp7vpmaTkuI3mraPluLjnmoTmjqjlub/mqKHlvI8yCi8vIEBub3RlICAgICAgICAgMjAxOC4wMS4wNi1WNC4wIOenu+mZpOS4jeato+W4uOeahOaOqOW5v+aooeW8jwovLyBAbm90ZSAgICAgICAgIDIwMTguMDEuMDItVjMuOCDmm7TmlrDmoIfpopjlkozmloflrZfor7TmmI4s6aG65bim6LCD5pW05Luj56CB57uT5p6ECi8vIEBub3RlICAgICAgICAgMjAxNy4xMi4yNS1WMy43IOS/ruWkjeWBtuWwlOafpeaJvuaMiemSruWkseaViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgIDIwMTcuMTIuMjUtVjMuNiDkv67lpI3mm7TmlrDlr7zoh7TnmoTlsI/pl67popgy77yM5LiN5b2x5ZON5L2/55SoCi8vIEBub3RlICAgICAgICAgMjAxNy4xMi4xNy1WMy41IOS/ruWkjeabtOaWsOWvvOiHtOeahOWwj+mXrumimO+8jOS4jeW9seWTjeS9v+eUqAovLyBAbm90ZSAgICAgICAgIDIwMTcuMTIuMDUtVjMuNCDmlrDlop7nq5nlhoXmkJzntKLmqKHlvI8KLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjIyLVYzLjMg5YaN6K+V6K+V5Lul5YmN55qE5qih5byP77yM5L+u5aSNQlVHCi8vIEBub3RlICAgICAgICAgMjAxNy4xMS4xNy1WMy4yIOe7neacm+eahOaQnOe0okJVR+S/ruWkjQovLyBAbm90ZSAgICAgICAgIDIwMTcuMTEuMTctVjMuMSDkvJjljJbovb3lhaXnvJPmhaLnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjE3LVYzLjAg5L+u5aSN5LiK5LiA54mI6L+H5LqO5rWB55WF55qEYnVn77yM5LiK5LiA54mI5pu05paw5a+86Ie055qEYnVn5oy65aSa55qE44CC44CC44CCCi8vIEBub3RlICAgICAgICAgMjAxNy4xMS4xNy1WMi45IOato+W4uOabtOaWsO+8jOWwvemHj+WHj+WwkeeUseS6jumHjeWumuWQkeW4puadpeeahOW9seWTje+8jOWQjOaXtuS/ruato+inhOWImemBv+WFjeWHuuS6iwovLyBAbm90ZSAgICAgICAgIDIwMTcuMTEuMTctVjIuOCDkuIrkuKrniYjmnKzmm7TmlrDlr7zoh7TnmoRidWcgIC4uLlBfUC4uLgovLyBAbm90ZSAgICAgICAgIDIwMTcuMTEuMTctVjIuNyDkv67lpI3kvJjmg6DliLjojrflj5bkuI3mraPnoa7nmoTpl67popjvvIzku6Xlj4rpg6jliIbmg4XlhrXkuIvml6Dms5XmmL7npLrkvJjmg6DliLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjEyLVYyLjYg566A5Y2V5pu05pawCi8vIEBub3RlICAgICAgICAgMjAxNy4xMS4xMS1WMi41IOafpeivoumAn+W6puabtOW/q+mAn++8jOW5tuS4lOS8mOWMluS6hui9veWFpeaDheWGte+8jOWKoOWFpeS6huS4quS6uuaVsOaNrgovLyBAbm90ZSAgICAgICAgIDIwMTcuMTEuMTAtVjIuNCDlpoLmnpzmnInkvJjmg6DvvIzlj6/ku6XlsZXnpLrlh7rkvJjmg6Dkv6Hmga/kuoYKLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjQtVjIuMyDmmoLml7bmlrDlop7kuKTnp43mqKHlvI/kvpvpgInmi6kKLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjItVjIuMiDlj4LnhafkuobkuIDkuKrlpKfnpZ7nmoTohJrmnKzkuYvlkI7mi7/liLDkuobkuIDkuptjc3PvvIzkuo7mmK/lj4jliqDkuobkupvkuJzopb/vvIzlsZXnpLrkuIDkupvlj4zljYHkuIDnm7jlhbPnmoTmoIfnrb4KLy8gQG5vdGUgICAgICAgICAyMDE3LjExLjEtVjIuMSDliIfmjaLkuLppbmNsdWRl6KeE5YiZ77yM6ICM6Z2ebWF0Y2jop4TliJnvvIzpgb/lhY1HcmVhc2VNb25rZXnkuIrml6Dms5Xkvb/nlKjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAyMDE3LjEwLjMwLVYyLjAg5L+u5aSN5Zyo5p+Q5Lqb6aG16Z2i5LiK77yM5qCH6aKY6I635Y+W5LiN5q2j56Gu55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgMjAxNy4xMC4yOC1WMS4wIOesrOS4gOeJiOacrO+8jGVkaXQgZnJvbSBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMzQ2MDQKLy8gQGljb24gICAgICAgICBodHRwczovL2NvZGluZy5uZXQvdS96YjIyNy9wL3piSW1nL2dpdC9yYXcvbWFzdGVyL2ltZzAvaWNvbi5qcGcKLy8gQGhvbWUtdXJsICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMzQ2MDYKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1zdGFydAovLyBAbmFtZXNwYWNlICAgIDEzNTM0NjQ1MzlAcXEuY29tCi8vIEBjb25uZWN0ICAgICAgb3Blbi5sZXNpY2x1Yi5jbgovLyBAZ3JhbnQgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0Ci8vID09L1VzZXJTY3JpcHQ9PQovLyAudGItZGV0YWlsLWhkLCAudGItbWFpbi10aXRsZQoKc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CglpZih0eXBlb2YoYWNUQikgPT0gInVuZGVmaW5lZCIpewoJCWFjVEIgPSAxOwoJCShmdW5jdGlvbigpewoJCQl2YXIgZ29vZFRpdGxlID0gIiI7CgkJCWZ1bmN0aW9uIGFkZFN0eWxlKGNzcykgewoJCQkJdmFyIHBpID0gZG9jdW1lbnQuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKAoJCQkJCSd4bWwtc3R5bGVzaGVldCcsCgkJCQkJJ3R5cGU9InRleHQvY3NzIiBocmVmPSJkYXRhOnRleHQvY3NzO3V0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoY3NzKSArICciJwoJCQkJKTsKCQkJCXJldHVybiBkb2N1bWVudC5pbnNlcnRCZWZvcmUocGksIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CgkJCX0KCQkJZnVuY3Rpb24gdGltZXJEb09uY2Uobm9kZSwgZnVuY3Rpb25OYW1lLCBjaGVja1RpbWUpewoJCQkJdmFyIHR0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCQlpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5vZGUpICE9IG51bGwpIHsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0dCk7CgkJCQkJCXRyeXsKCQkJCQkJCWZ1bmN0aW9uTmFtZSgpOwoJCQkJCQl9Y2F0Y2ggKGUpIHt9CgkJCQkJfQoJCQkJfSwgY2hlY2tUaW1lKTsKCQkJfQoKCQkJZnVuY3Rpb24gbG9hZFNDKCl7CgkJCQkvLyDmkJzntKLnmoTml7blgJnlop7liqDkvJjmg6Dkv6Hmga8KCQkJCWFkZFN0eWxlKCIuY29wb24tc2VhcmNoLWxpc3R7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZDp1cmwoaHR0cHM6Ly93czEuc2luYWltZy5jbi9sYXJnZS82YTE1NTc5NGd5MWZ1eHl5aW1reWRqMjAyazAwbjBiai5qcGcpIG5vLXJlcGVhdDtkaXNwbGF5OmlubGluZS1ibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2ZvbnQtc2l6ZToxNHB4O2NvbG9yOiNmOTVkNTAgIWltcG9ydGFudDtoZWlnaHQ6MjNweDtwYWRkaW5nOiAwIDhweCAwIDhweDtiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTt0ZXh0LWFsaWduOmNlbnRlcjt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7ei1pbmRleDoxO30iKTsKCQkJCXZhciBhbGxOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pdGVtcyAuSl9Nb3VzZXJPbnZlclJlcSwgI2NvbnRlbnQgLnByb2R1Y3QiKTsKCQkJCWZvcih2YXIgaSA9IDA7IGkgPCBhbGxOb2Rlcy5sZW5ndGg7IGkrKyl7CgkJCQkJKGZ1bmN0aW9uIChub2RlKSB7CgkJCQkJCXZhciBnaWQ7CgkJCQkJCXRyeXtnaWQgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5waWM+YSIpLmdldEF0dHJpYnV0ZSgiZGF0YS1uaWQiKTt9IGNhdGNoIChlKSB7IH0KCQkJCQkJdHJ5e2dpZCA9IGdpZCB8fCBub2RlLmdldEF0dHJpYnV0ZSgiZGF0YS1pZCIpO30gY2F0Y2ggKGUpIHsgfQoJCQkJCQlHTV94bWxodHRwUmVxdWVzdCh7CgkJCQkJCQltZXRob2Q6ICJHRVQiLCB1cmw6ICJodHRwczovL29wZW4ubGVzaWNsdWIuY24vY291cG9uL2dldC8xMDAwNS8xMDAwMS8iICsgZ2lkLAoJCQkJCQkJb25sb2FkOiBmdW5jdGlvbiAocmVzKSB7CgkJCQkJCQkJcmVzID0gSlNPTi5wYXJzZShyZXMucmVzcG9uc2VUZXh0KTsKCQkJCQkJCQlpZihyZXMuY29kZSA9PSAyMDAgJiYgcmVzLmRhdGEgIT0gbnVsbCAmJiByZXMuZGF0YS5jb3Vwb24uaXNfdmFsaWQgPT0gdHJ1ZSl7CgkJCQkJCQkJCXZhciBpbnNOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwoJCQkJCQkJCQl2YXIgbmFtZTsKCQkJCQkJCQkJdHJ5e25hbWUgPSBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5KX0ljb25Nb3JlTmV3IC5KX0NsaWNrU3RhdCIpLmlubmVyVGV4dC50cmltKCk7fSBjYXRjaCAoZSkgeyB9CgkJCQkJCQkJCXRyeXtuYW1lID0gbmFtZSB8fCBub2RlLnF1ZXJ5U2VsZWN0b3IoIi5wcm9kdWN0VGl0bGUgYSIpLmdldEF0dHJpYnV0ZSgidGl0bGUiKTt9IGNhdGNoIChlKSB7IH0KCQkJCQkJCQkJdmFyIHByaWNlID0gcmVzLmRhdGEuY291cG9uLmNvdXBvbl9tb25leTsKCQkJCQkJCQkJaW5zTm9kZS5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgIuW9k+WJjeWVhuWTgemihuWIuOWHjyIrcHJpY2UrIuWFgyIpOwoJCQkJCQkJCQlpbnNOb2RlLmRhdGFzZXQudXJsID0gImh0dHBzOi8vY2VudC5udGFvdy5jb20vY291cG9uLmh0bWw/bVF1ZXJ5PSIgKyBlbmNvZGVVUkkobmFtZSk7CgkJCQkJCQkJCWluc05vZGUuc2V0QXR0cmlidXRlKCJvbmNsaWNrIiwgIm9wZW5VcmwodGhpcyk7Iik7CgkJCQkJCQkJCWluc05vZGUuY2xhc3NOYW1lID0gImNvcG9uLXNlYXJjaC1saXN0IjsKCQkJCQkJCQkJaW5zTm9kZS5pbm5lckhUTUwgPSAi77+lIitwcmljZSsi5YWD5LyY5oOg5Yi4IjsKCQkJCQkJCQkJdHJ5e25vZGUucXVlcnlTZWxlY3RvcigiLnBpYy1ib3giKS5hcHBlbmRDaGlsZChpbnNOb2RlKTt9Y2F0Y2ggKGUpIHt9CgkJCQkJCQkJCXRyeXtub2RlLnF1ZXJ5U2VsZWN0b3IoIi5wcm9kdWN0SW1nLXdyYXAiKS5hcHBlbmRDaGlsZChpbnNOb2RlKTt9Y2F0Y2ggKGUpIHt9CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9KShhbGxOb2Rlc1tpXSk7CgkJCQl9CgkJCX0KCQkJb3BlblVybCA9IGZ1bmN0aW9uKG5vZGUpewoJCQkJaWYobm9kZS5kYXRhc2V0LnVybC5pbmRleE9mKCJqYXZhc2NyaXB0OnZvaWQiKSA8IDApCgkJCQkJd2luZG93Lm9wZW4obm9kZS5kYXRhc2V0LnVybCk7CgkJCX07CgkJCWFkZFN0eWxlKCIuYWMtYnRuOmhvdmVyLC5jb3Bvbi1zZWFyY2gtbGlzdDpob3ZlciwuYWMtYnRuLWNhcnQ6aG92ZXIsLnRtLWRldGFpbEdvLWJ0bjpob3Zlcntjb2xvcjogcmdiYSgyNTUsMjAwLDAsMzApIWltcG9ydGFudDt0ZXh0LXNoYWRvdzogMCAwcHggcmdiYSgyNDIsMzMsNDksMzApLDAgMHB4IDBweCByZ2JhKDI0MiwzMyw0OSwzMCksMCAxcHggMXB4IHJnYmEoMjQyLDMzLDQ5LDMwKSwxcHggMCAxcHggcmdiYSgyNDIsMzMsNDksMzApLC0xcHggMCAxcHggcmdiYSgyNDIsMzMsNDksMzApLDAgMCAxcHggcmdiYSgyNDIsMzMsNDksMzApIWltcG9ydGFudDt9Iik7CgkJCWFkZFN0eWxlKCIuYWMtYnRuOmhvdmVyLC50bS1kZXRhaWxHby1idG46aG92ZXJ7Y29sb3I6IHdoaXRlIWltcG9ydGFudDt9Iik7CgoJCQlpZihsb2NhdGlvbi5ocmVmLmluZGV4T2YoIml0ZW0udGFvYmFvLmNvbSIpICsgbG9jYXRpb24uaHJlZi5pbmRleE9mKCJkZXRhaWwudG1hbGwuY29tIikgPj0gMCkgewoJCQkJYWRkU3R5bGUoIi50bS1kZXRhaWxHby1idG57bGluZS1oZWlnaHQ6IDQ4cHggIWltcG9ydGFudDtjdXJzb3I6cG9pbnRlcjtwYWRkaW5nOiAwcHggMTFweDtjb2xvcjojZjk1ZDUwO2Zsb2F0OiByaWdodCAhaW1wb3J0YW50O2ZvbnQtd2VpZ2h0OiBib2xkO2JvcmRlcjogMXB4IHNvbGlkICNmOTVmNTI7Zm9udC1zaXplOiAxLjNlbTt9Iik7CgkJCQlmdW5jdGlvbiBnZXRRdWVyeVN0cmluZyhuYW1lKSB7CgkJCQkJdmFyIHJlZyA9IG5ldyBSZWdFeHAoIihefCYpIiArIG5hbWUgKyAiPShbXiZdKikoJnwkKSIsICJpIik7CgkJCQkJdmFyIHIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5tYXRjaChyZWcpOwoJCQkJCWlmIChyICE9IG51bGwpIHJldHVybiB1bmVzY2FwZShyWzJdKTsKCQkJCQlyZXR1cm4gbnVsbDsKCQkJCX0KCQkJCXZhciBnb29kSUQgPSBnZXRRdWVyeVN0cmluZygiaWQiKTsKCQkJCXF1ZXJ5RGF0YShnb29kSUQpOwoJCQkJZnVuY3Rpb24gQXV0b1N0YXJ0KHRpbWUsIGNzc1NlbGVjdG9yLCBkZWFsRnVuYykgewoJCQkJCXZhciB0aW1lck5vZGUgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CgkJCQkJCXRyeSB7CgkJCQkJCQlpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3Rvcikuc3R5bGUuZGlzcGxheSA9PSAiIikgewoJCQkJCQkJCWNsZWFySW50ZXJ2YWwodGltZXJOb2RlKTsKCQkJCQkJCQlkZWFsRnVuYygpOwoJCQkJCQkJfQoJCQkJCQl9IGNhdGNoIChlKSB7CgkJCQkJCX0KCQkJCQl9LCB0aW1lKTsKCQkJCX0KCQkJCWZ1bmN0aW9uIGFjQnV5U2NyaXB0KHJlc3VsdCkgewoJCQkJCXZhciB0dCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKCQkJCQkJdmFyIG5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuYWNCdXlTY3JpcHRDb3Vwb24iKTsKCQkJCQkJaWYgKG5vZGUgIT0gbnVsbCkgewoJCQkJCQkJY2xlYXJJbnRlcnZhbCh0dCk7CgkJCQkJCQlpZiAocmVzdWx0LmNvZGUgPT0gMjAwICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmNvdXBvbi5pc192YWxpZCA9PSB0cnVlKSB7CgkJCQkJCQkJbm9kZS5pbm5lckhUTUwgPSAiISIrcmVzdWx0LmRhdGEuY291cG9uLmNvdXBvbl9tb25leSsi5YWD5LyY5oOg5Yi4ISI7CgkJCQkJCQkJbm9kZS5kYXRhc2V0LnVybCA9ICJodHRwczovL2NlbnQubnRhb3cuY29tL2NvdXBvbi5odG1sP21RdWVyeT0iICsgZW5jb2RlVVJJKGdvb2RUaXRsZSk7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCW5vZGUuaW5uZXJIVE1MID0gIuaXoOS8mOaDoOaIluW3sumihuS8mOaDoCI7CgkJCQkJCQkJbm9kZS5zZXRBdHRyaWJ1dGUoInN0eWxlIiwgImZvbnQtc2l6ZTogMTFweDtjb2xvcjojNmM2YzZjIik7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9LCA1MCk7CgkJCQl9CgkJCQlmdW5jdGlvbiBxdWVyeURhdGEoZ29vZElEKSB7CgkJCQkJdmFyIGNnb29kVGl0bGUgPSBkb2N1bWVudC50aXRsZSsiIjsKCQkJCQl2YXIgcmV0ID0gR01feG1saHR0cFJlcXVlc3QoewoJCQkJCQltZXRob2Q6ICJHRVQiLCB1cmw6ICJodHRwczovL29wZW4ubGVzaWNsdWIuY24vY291cG9uL2dldC8xMDAwNS8xMDAwMS8iICsgZ29vZElELAoJCQkJCQlvbmxvYWQ6IGZ1bmN0aW9uIChyZXMpIHsKCQkJCQkJCXJlcyA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlVGV4dCk7CgkJCQkJCQlhY0J1eVNjcmlwdChyZXMpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCQlBdXRvU3RhcnQoMTAwLCAiLnRiLXNrdSwgLnRiLWFjdGlvbiIsIGZ1bmN0aW9uICgpIHsKCQkJCQl2YXIgVGl0bGVOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2I0pfVGl0bGUgaDMsIGRpdi50Yi1kZXRhaWwtaGQgaDEiKTsKCQkJCQlnb29kVGl0bGUgPSBUaXRsZU5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWUudHJpbSgpOwoJCQkJCWlmKGdvb2RUaXRsZSA9PSAiIil7CgkJCQkJCWdvb2RUaXRsZSA9IFRpdGxlTm9kZS5jaGlsZE5vZGVzWzFdLmlubmVySFRNTC50cmltKCk7CgkJCQkJfQoJCQkJCXZhciBxdWVyeVNpbWlsYXIgPSAiaHR0cHM6Ly9jZW50Lm50YW93LmNvbS9jb3Vwb24uaHRtbD9tUXVlcnk9IiArIGVuY29kZVVSSShnb29kVGl0bGUpOwoJCQkJCXZhciBxdWVyeUluU2l0ZSA9ICJodHRwczovL3MudGFvYmFvLmNvbS9zZWFyY2g/cT0iICsgZW5jb2RlVVJJKGdvb2RUaXRsZSkgKyAiJiI7CgkJCQkJdmFyIGZhTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImRpdiNKX1RpdGxlIHAudGItc3VidGl0bGUsIGRpdi50Yi1kZXRhaWwtaGQgaDEiKTsKCQkJCQl2YXIgaW5zTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCWluc05vZGUuc3R5bGUgPSAiZm9udC1zaXplOiAzMnB4O2ZvbnQtd2VpZ2h0OiBib2xkO2ZvbnQtZmFtaWx5Om1pY3Jvc29mdCB5YWhlaTsiOwoJCQkJCXZhciBodG1sVGV4dCA9ICI8c3BhbiBjbGFzcz0nYWNCdXlTY3JpcHRDb3Vwb24gYWMtYnRuJyBkYXRhLXVybD0namF2YXNjcmlwdDp2b2lkKDApOycgb25jbGljaz0nb3BlblVybCh0aGlzKTsnIHN0eWxlPSdjb2xvcjogI2Y5NWY1MjtjdXJzb3I6cG9pbnRlcjsnPj3mn6Xmib7kuK09PC9zcGFuPiI7CgkJCQkJaHRtbFRleHQgKz0gIiZuYnNwOyZuYnNwOzxzcGFuIGNsYXNzPSdhYy1idG4nIGRhdGEtdXJsPSIgKyBxdWVyeUluU2l0ZSAgKyAiIG9uY2xpY2s9J29wZW5VcmwodGhpcyk7JyBzdHlsZT0nY29sb3I6ICNmOTVmNTI7Y3Vyc29yOnBvaW50ZXI7Jz5b56uZ5YaF5pCcXTwvc3Bhbj4iOwoJCQkJCWh0bWxUZXh0ICs9ICImbmJzcDsmbmJzcDs8c3BhbiBjbGFzcz0nYWMtYnRuJyBkYXRhLXVybD0iICsgcXVlcnlTaW1pbGFyICsgIiBvbmNsaWNrPSdvcGVuVXJsKHRoaXMpOycgc3R5bGU9J2NvbG9yOiAjZjk1ZjUyO2N1cnNvcjpwb2ludGVyOyc+W+aJvuebuOS8vF08L3NwYW4+IjsKCQkJCQlpbnNOb2RlLmlubmVySFRNTCA9IGh0bWxUZXh0OwoJCQkJCWZhTm9kZS5hcHBlbmRDaGlsZChpbnNOb2RlKTsKCQkJCQl2YXIgaHRtbFRCID0gIjxzcGFuIGNsYXNzPSdhYy1idG4nIHN0eWxlPSdwYWRkaW5nOiA2cHggMTJweDtpbmUtaGVpZ2h0OjI2cHg7dGV4dC1hbGlnbjogY2VudGVyO2Rpc3BsYXk6IGlubGluZS1ibG9jazttYXJnaW4tYm90dG9tOiAwO2ZvbnQtc2l6ZTogMTRweDtmb250LXdlaWdodDogbm9ybWFsO2hlaWdodDoyNnB4O2x3aGl0ZS1zcGFjZTogbm93cmFwO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7LW1zLXRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO3RvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uO2N1cnNvcjogcG9pbnRlcjstd2Via2l0LXVzZXItc2VsZWN0OiBub25lOy1tb3otdXNlci1zZWxlY3Q6IG5vbmU7LW1zLXVzZXItc2VsZWN0OiBub25lO3VzZXItc2VsZWN0OiBub25lO2JhY2tncm91bmQtaW1hZ2U6IG5vbmU7Ym9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7Ym9yZGVyLXJhZGl1czoycHg7Y29sb3I6ICNmZmY7YmFja2dyb3VuZC1jb2xvcjogI0RGMjMxQzsjRkYwMDM2O21hcmdpbi1sZWZ0OjEwcHgnIGRhdGEtdXJsPSdodHRwczovL2NlbnQubnRhb3cuY29tL2NvdXBvbi5odG1sP21RdWVyeT0iK2VuY29kZVVSSShnb29kVGl0bGUpKyInIG9uY2xpY2s9J29wZW5VcmwodGhpcyk7Jz7ojrflj5bkvJjmg6DliLg8L3NwYW4+IjsKCQkJCQl2YXIgaHRtbFRNQUxMID0gIjxkaXYgY2xhc3M9J2FjLWJ0bicgY2xhc3M9J3RiLWFjdGlvbicgc3R5bGU9J21hcmdpbi10b3A6MTBweDttYXJnaW4tbGVmdDogNjZweDsnPjxzcGFuIHN0eWxlPSdkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ym9yZGVyLXJhZGl1czoycHg7Y29sb3I6ICNmZmY7YmFja2dyb3VuZC1jb2xvcjogI0RGMjMxQztwYWRkaW5nOiA2cHggMTJweDttYXJnaW4tYm90dG9tOiAwO2ZvbnQtc2l6ZTogMTRweDtmb250LXdlaWdodDogbm9ybWFsO2hlaWdodDoyNnB4O2xpbmUtaGVpZ2h0OjI2cHg7d2lkdGg6MTU2cHg7dGV4dC1hbGlnbjogY2VudGVyO3doaXRlLXNwYWNlOiBub3dyYXA7dmVydGljYWwtYWxpZ246IG1pZGRsZTstbXMtdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247dG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb247Y3Vyc29yOiBwb2ludGVyOy13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7LW1vei11c2VyLXNlbGVjdDogbm9uZTstbXMtdXNlci1zZWxlY3Q6IG5vbmU7dXNlci1zZWxlY3Q6IG5vbmU7YmFja2dyb3VuZC1pbWFnZTogbm9uZTtib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDsnIGRhdGEtdXJsPSdodHRwczovL2NlbnQubnRhb3cuY29tL2NvdXBvbi5odG1sP21RdWVyeT0iK2VuY29kZVVSSShnb29kVGl0bGUpKyInIG9uY2xpY2s9J29wZW5VcmwodGhpcyk7Jz7ojrflj5bkvJjmg6DliLg8L3NwYW4+PC9kaXY+IjsKCQkJCQl2YXIgYW5vSW5zTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwoJCQkJCWFub0luc05vZGUuc3R5bGUgPSAiZm9udC13ZWlnaHQ6IGJvbGQ7Zm9udC1mYW1pbHk6bWljcm9zb2Z0IHlhaGVpOyI7CgkJCQkJaWYobG9jYXRpb24uaG9zdC5pbmRleE9mKCd0YW9iYW8nKSA+IDApewoJCQkJCQlhbm9JbnNOb2RlLmlubmVySFRNTCA9IGh0bWxUQjsKCQkJCQkJZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRiLWFjdGlvbicpLmFwcGVuZChhbm9JbnNOb2RlKTsKCQkJCQl9ZWxzZXsKCQkJCQkJYW5vSW5zTm9kZS5pbm5lckhUTUwgPSBodG1sVE1BTEw7CgkJCQkJCWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50Yi1za3UnKS5hcHBlbmQoYW5vSW5zTm9kZSk7CgkJCQkJfQoJCQkJfSk7CgkJCX1lbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigicy50YW9iYW8uY29tL3NlYXJjaCIpID4gMCB8fCBsb2NhdGlvbi5ocmVmLmluZGV4T2YoImxpc3QudG1hbGwuY29tL3NlYXJjaF9wcm9kdWN0IikgPiAwKXsKCQkJCXZhciB0dGNvdW50ZXIgPSAwLCB0dG1heCA9IDEwOwoJCQkJdmFyIGd3Y291bnRlciA9IDAsIGd3bWF4ID0gMTAwOwoJCQkJdmFyIHR0ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewoJCQkJCXZhciBub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pdGVtcyAuaXRlbS1hZCIpOwoJCQkJCXZhciBhbGxOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5pdGVtcyAuSl9Nb3VzZXJPbnZlclJlcSwgI2NvbnRlbnQgLnByb2R1Y3QiKTsKCQkJCQlpZihhbGxOb2RlcyAhPSBudWxsICYmIChub2Rlcy5sZW5ndGggPiAwIHx8IGFsbE5vZGVzLmxlbmd0aCA+IDApKXsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0dCk7CgkJCQkJCWlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInNjcmlwdFtzcmMqPSdnd2QnXSIpID09IG51bGwpewoJCQkJCQkJbG9hZFNDKCk7CgkJCQkJCX0KCQkJCQkJZm9yKHZhciBpID0gMDsgaTxub2Rlcy5sZW5ndGg7IGkrKyl7CgkJCQkJCQlub2Rlc1tpXS5jbGFzc05hbWUgPSAiaXRlbSBKX01vdXNlck9udmVyUmVxICI7CgkJCQkJCX0KCQkJCQl9CgkJCQkJdHRjb3VudGVyKys7CgkJCQkJaWYodHRjb3VudGVyID49IHR0bWF4KXsKCQkJCQkJY2xlYXJJbnRlcnZhbCh0dCk7CgkJCQkJfQoJCQkJfSwgMTAwKTsKCQkJfSBlbHNlIGlmKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigidWxhbmQiKSA+PSAwKXsKCQkJCWFkZFN0eWxlKCIjSl9NTVJFREJPWF9NQVNLe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O30iKTsKCQkJfSBlbHNlIGlmKGxvY2F0aW9uLmhyZWYuaW5kZXhPZigiY2FydC50YW9iYW8uY29tIikgPj0gMCkgewoJCQkJc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXsKCQkJCQlpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjSl9PcmRlckxpc3QgLml0ZW0tYmFzaWMtaW5mbyIpICE9IG51bGwpewoJCQkJCQl2YXIgaHRtbENhcnQgPSAiPHNwYW4gY2xhc3M9J2FjLWJ0bi1jYXJ0JyBkYXRhLXVybD0naHR0cHM6Ly9jZW50Lm50YW93LmNvbS9jb3Vwb24uaHRtbD9tUXVlcnk9QUFBQUFBQUFBQScgb25jbGljaz0nb3BlblVybCh0aGlzKTsnIHN0eWxlPSdjdXJzb3I6cG9pbnRlcjsyMnB4ICFpbXBvcnRhbnQ7Y29sb3I6I2Y5NWY1Mjtmb250LXNpemU6MTZweDtib3JkZXItcmFkaXVzOjFweDtwYWRkaW5nOjJweDtib3JkZXItY29sb3I6I2ZlYTM1Njtib3JkZXItc3R5bGU6IGRhc2hlZDsnPuafpeaJvuS8mOaDoOS/oeaBrzwvc3Bhbj4iOwoJCQkJCQl2YXIgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIub3JkZXItY29udGVudCAuaXRlbS1iYXNpYy1pbmZvIik7CgkJCQkJCWZvcihpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKXsKCQkJCQkJCXZhciB0aXRsZSA9IG5vZGVzW2ldLnF1ZXJ5U2VsZWN0b3IoImEiKS5nZXRBdHRyaWJ1dGUoInRpdGxlIik7CgkJCQkJCQlpZih0aXRsZSAhPSBudWxsKXsKCQkJCQkJCQl2YXIgYWRkSFRNTFRleHQgPSBodG1sQ2FydC5yZXBsYWNlKCJBQUFBQUFBQUFBIiwgZW5jb2RlVVJJKHRpdGxlKSk7CgkJCQkJCQkJdmFyIGluc05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKCQkJCQkJCQlpbnNOb2RlLmNsYXNzTmFtZSA9ICJhYy10Yi1hZGQiOwoJCQkJCQkJCWluc05vZGUuc3R5bGUgPSAiZGlzcGxheTogaW5saW5lLWJsb2NrIjsKCQkJCQkJCQlpbnNOb2RlLmlubmVySFRNTCA9IGFkZEhUTUxUZXh0OwoJCQkJCQkJCWlmKG5vZGVzW2ldLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigiLml0ZW0taWNvbnMiKSAmJiBub2Rlc1tpXS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoIi5pdGVtLWljb25zIikucXVlcnlTZWxlY3RvcigiLmFjLXRiLWFkZCIpID09IG51bGwpewoJCQkJCQkJCQlub2Rlc1tpXS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoIi5pdGVtLWljb25zIikuYXBwZW5kQ2hpbGQoaW5zTm9kZSk7CgkJCQkJCQkJfQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfSwgMTAwMCk7CgkJCX0KCQl9KSgpOwoJfQp9LCA1MCk7"}]},{"name":"AC-baidu:重定向优化百度搜狗谷歌搜索_去广告_favicon_双列","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*://ipv6.baidu.com/*","*://www.baidu.com/*","*://m.baidu.com/*","*://xueshu.baidu.com/s*","*://www.sogou.com/web*","*://www.sogou.com/sie*","*://www.sogou.com/sogou*","*://www.sogou.com/tx*","*://www.so.com/s?*","*://*.bing.com/*","*://encrypted.google.*/search*","*://*.google*/search*","*://*.google*/webhp*","*://www.google*/ac-notexist*","*://*.zhihu.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":["*://*.google*/sorry*"],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":["www.baidu.com"]}},"storage":{"data":{"Config":"o{\"isRedirectEnable\":true,\"isAdsEnable\":false,\"AdsStyleEnable\":false,\"AdsStyleMode_Baidu\":\"1\",\"AdsStyleMode_Google\":\"3\",\"AdsStyleMode_Bing\":\"0\",\"HuYan_Baidu\":true,\"HuYan_Google\":false,\"HuYan_Bing\":false,\"defaultHuYanColor\":\"#DEF1EF\",\"isUserColorEnable\":false,\"isFaviconEnable\":false,\"defaultFaviconUrl\":\"https://ws1.sinaimg.cn/large/6a155794ly1foijtdzhxhj200w00wjr5.jpg\",\"doDisableSug\":false,\"isRightDisplayEnable\":false,\"isCounterEnable\":false,\"isALineEnable\":false,\"isUserStyleEnable\":false,\"UserStyleText\":\"/*========= Public ========= */\\n\\n* {\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n}\\n::-webkit-scrollbar {\\n               width: 6px;\\n               height: 10px;\\n               background-color: rgba(0, 0, 0, 0);\\n}\\n::-webkit-scrollbar-track {\\n               background-color: rgba(0, 0, 0, 0.1);\\n}\\n::-webkit-scrollbar-thumb {\\n               border-radius: 3px;\\n               background-color: rgba(0, 0, 0, 0.2);\\n               transition: all 0.4s ease;\\n               -moz-transition: all 0.4s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.4s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.4s ease;\\n               /* Opera */\\n}\\n::-webkit-scrollbar-thumb:hover {\\n               border-radius: 3px;\\n               background-color: rgba(0, 0, 0, 0.4);\\n               transition: all 0.4s ease;\\n               -moz-transition: all 0.4s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.4s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.4s ease;\\n               /* Opera */\\n}\\n.animated {\\n               -webkit-animation-duration: 1s;\\n               animation-duration: 1s;\\n               animation-fill-mode: both;\\n}\\n@-webkit-keyframes fadeInUp {\\n               from {\\n                              opacity: 0;\\n                              -webkit-transform: translate3d(0, 100%, 0);\\n                              transform: translate3d(0, 100%, 0);\\n               }\\n               to {\\n                              opacity: 1;\\n                              -webkit-transform: none;\\n                              transform: none;\\n               }\\n}\\n@keyframes fadeInUp {\\n               from {\\n                              opacity: 0;\\n                              -webkit-transform: translate3d(0, 100%, 0);\\n                              transform: translate3d(0, 100%, 0);\\n               }\\n               to {\\n                              opacity: 1;\\n                              -webkit-transform: none;\\n                              transform: none;\\n               }\\n}\\n.fadeInUp {\\n               -webkit-animation-name: fadeInUp;\\n               animation-name: fadeInUp;\\n}\\n@-webkit-keyframes bounceInRight {\\n               from, 60%, 75%, 90%, to {\\n                              -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n                              animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n               }\\n               from {\\n                              opacity: 0;\\n                              -webkit-transform: translate3d(3000px, 0, 0);\\n                              transform: translate3d(3000px, 0, 0);\\n               }\\n               60% {\\n                              opacity: 1;\\n                              -webkit-transform: translate3d(-25px, 0, 0);\\n                              transform: translate3d(-25px, 0, 0);\\n               }\\n               75% {\\n                              -webkit-transform: translate3d(10px, 0, 0);\\n                              transform: translate3d(10px, 0, 0);\\n               }\\n               90% {\\n                              -webkit-transform: translate3d(-5px, 0, 0);\\n                              transform: translate3d(-5px, 0, 0);\\n               }\\n               to {\\n                              -webkit-transform: none;\\n                              transform: none;\\n               }\\n}\\n@keyframes bounceInRight {\\n               from, 60%, 75%, 90%, to {\\n                              -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n                              animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n               }\\n               from {\\n                              opacity: 0;\\n                              -webkit-transform: translate3d(3000px, 0, 0);\\n                              transform: translate3d(3000px, 0, 0);\\n               }\\n               60% {\\n                              opacity: 1;\\n                              -webkit-transform: translate3d(-25px, 0, 0);\\n                              transform: translate3d(-25px, 0, 0);\\n               }\\n               75% {\\n                              -webkit-transform: translate3d(10px, 0, 0);\\n                              transform: translate3d(10px, 0, 0);\\n               }\\n               90% {\\n                              -webkit-transform: translate3d(-5px, 0, 0);\\n                              transform: translate3d(-5px, 0, 0);\\n               }\\n               to {\\n                              -webkit-transform: none;\\n                              transform: none;\\n               }\\n}\\n.bounceInRight {\\n               -webkit-animation-name: bounceInRight;\\n               animation-name: bounceInRight;\\n}\\n@-webkit-keyframes bounceInUp {\\n               from, 60%, 75%, 90%, to {\\n                              -webkit-animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n                              animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);\\n               }\\n               from {\\n                              opacity: 0;\\n                              -webkit-transform: translate3d(0, 3000px, 0);\\n                              transform: translate3d(0, 3000px, 0);\\n               }\\n               60% {\\n                              opacity: 1;\\n                              -webkit-transform: translate3d(0, -20px, 0);\\n                              transform: translate3d(0, -20px, 0);\\n               }\\n               75% {\\n                              -webkit-transform: translate3d(0, 10px, 0);\\n                              transform: translate3d(0, 10px, 0);\\n               }\\n               90% {\\n                              -webkit-transform: translate3d(0, -5px, 0);\\n                              transform: translate3d(0, -5px, 0);\\n               }\\n               to {\\n                              -webkit-transform: translate3d(0, 0, 0);\\n                              transform: translate3d(0, 0, 0);\\n               }\\n}\\na {\\n               text-decoration: none;\\n               margin-bottom: 2px;\\n}\\n.c-showurl:hover {\\n               text-decoration: none;\\n               border: none;\\n               opacity: 0.8;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.res-gap-right16:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n.c-showurl {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-tip-arrow:hover {\\n               text-decoration: none;\\n               border: none;\\n}\\n.c-default a {\\n               text-decoration: none;\\n               border: none;\\n}\\n.c-gap-bottom a:hover {\\n               text-decoration: underline;\\n}\\n.op_dict3_morelink a:hover {\\n               text-decoration: underline;\\n}\\n.c-btn:hover {\\n               text-decoration: none !important;\\n}\\ntd a:hover {\\n               text-decoration: underline;\\n}\\nem {\\n               text-decoration: none !important;\\n}\\n#s_wrap {\\n               display: none;\\n}\\n.s-top-nav {\\n               display: none;\\n}\\n#s_ctner_menus {\\n               display: none;\\n}\\n#s_menu_gurd {\\n               display: none;\\n}\\n#s_strpx_span1 {\\n               display: none;\\n}\\n#ftCon {\\n               display: none;\\n}\\n#bottom_container {\\n               display: none;\\n}\\n#lg {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               height: 70px;\\n               padding-top: 150px;\\n}\\n#lg img {\\n               display: none !important;\\n}\\n#lg a {\\n               display: none;\\n}\\n#head_wrapper {\\n               padding-bottom: 0px;\\n}\\n#s_form_wrapper {\\n               margin-top: auto;\\n}\\n#s_lg_img {\\n               display: none !important;\\n}\\n.s_ipt_wr {\\n               border: none;\\n               border-radius: 3px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               background-position: 100% !important;\\n               z-index: -1;\\n               width: 600px;\\n               height: 39px;\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n               padding-top: 4px;\\n}\\n.s_ipt {\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n}\\n.s_ipt_wr:hover {\\n               border: none;\\n               border-radius: 2px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.ipthover {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.iptfocus {\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n}\\n.s_btn {\\n               width: 32px;\\n               height: 32px;\\n               border-radius: 50%;\\n               font-size: 0px;\\n               border: none;\\n               box-shadow: none;\\n               margin-left: 0px;\\n               z-index: 100;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               margin-top: 0px;\\n               opacity: 0;\\n}\\n.s_btn:hover {\\n               opacity: 0.5;\\n               background: rgba(0, 0, 0, 0);\\n               border: none;\\n               box-shadow: none;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.s_btn_wr {\\n               width: 32px;\\n               height: 32px;\\n               border-radius: 50%;\\n               font-size: 0px;\\n               background-color: rgba(0, 0, 0, 0);\\n               background-position: 50%;\\n               border: none;\\n               box-shadow: none;\\n               margin-left: 5px;\\n               z-index: 100;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               margin-top: 6px;\\n}\\n.s_btn_wr:hover {\\n               opacity: 0.5;\\n               background: rgba(0, 0, 0, 0);\\n               border: none;\\n               box-shadow: none;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.self-btn {\\n               display: none;\\n}\\n.btnhover {\\n               opacity: 0.5;\\n               background-color: rgba(0, 0, 0, 0) !important;\\n               border: none !important;\\n               box-shadow: none;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.hint_toprq_tips {\\n               margin-bottom: 12px;\\n}\\n.s_form {\\n               height: 75px;\\n               padding-top: 10px;\\n}\\n#s_tab {\\n               padding: 87px 0 0 121px;\\n}\\n#content_right {\\n               display: none;\\n}\\n#head.s_down {\\n               box-shadow: none;\\n}\\n.bdsug {\\n               top: 42px !important;\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               border: none;\\n               border-radius: 0 0 2px 2px;\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n               width: 598px !important;\\n}\\n.bgsug li {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI\\\" !important;\\n               width: 100% !important;\\n               line-height: 36px !important;\\n}\\n.bgsug ul li {\\n               line-height: 32px !important;\\n}\\n.bdsug-overflow {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI\\\" !important;\\n               width: 583px !important;\\n}\\n#quickdelete {\\n               top: 5px !important;\\n               opacity: 0.5;\\n}\\n#kw_tip {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI Light\\\";\\n}\\n#result_logo {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAxIDMzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDEgMzM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNDg3OUJEO30KCS5zdDF7ZmlsbDojREQ0NDM2O30KCS5zdDJ7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTUwLjQsMTUuM2MtMy44LDAuMy00LDIuNi01LjcsNC43Yy0xLjgsMi4yLTUuNSw0LjEtNiw2LjdjLTAuNiwzLjMsMS4zLDUuMSwzLDUuN2MxLjksMC42LDYuMi0wLjUsOC40LTAuNWgwLjIKCWgwLjJjMi4yLDAsNi40LDEuMSw4LjQsMC41YzEuOC0wLjYsMy41LTMuMiwzLTUuN2MtMC40LTIuMS00LjQtNC41LTYuMi02LjdDNTQuMiwxOCw1NC4zLDE1LjYsNTAuNCwxNS4zeiBNMzcsMTQuOAoJYzAsMi40LDEuNiw0LjMsMy40LDQuM2MxLjksMCwzLjQtMS45LDMuNC00LjNjMC0yLjQtMS42LTQuMy0zLjQtNC4zUzM3LDEyLjUsMzcsMTQuOHogTTQzLjksOC42YzAsMi41LDEuNSw0LjUsMy4zLDQuNQoJYzEuOCwwLDMuMy0yLjEsMy4zLTQuNVM0OSw0LjEsNDcuMSw0LjFDNDUuMyw0LDQzLjksNiw0My45LDguNnogTTUyLjIsOC41YzAsMi4zLDEuNCw0LjMsMy4yLDQuM3MzLjItMS45LDMuMi00LjNzLTEuNC00LjMtMy4yLTQuMwoJUzUyLjIsNi4yLDUyLjIsOC41eiBNNTcuNSwxNS45YzAsMi4zLDEuNSw0LjMsMy4zLDQuM2MxLjgsMCwzLjMtMS45LDMuMy00LjNzLTEuNS00LjMtMy4zLTQuM0M1OC45LDExLjYsNTcuNSwxMy42LDU3LjUsMTUuOXoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTQsMzAuNHYtNS4xaDYuNGMxLjYsMCwxLjYsMC4zLDEuNiwydjEuNGMwLDEuNi0yLjMsMS44LTMuOSwxLjhMNCwzMC40TDQsMzAuNHogTTQsMjN2LTQuOGg0LjEKCWMxLjYsMCwzLjksMCwzLjksMi4xdjAuMWMwLDEuNC0wLjUsMi42LTEuOCwyLjZDMTAuMywyMyw0LDIzLDQsMjN6IE0xLjcsMTZ2MTYuM2g2LjRjMywwLDYuMiwwLDYuMi0zLjZ2LTEuMWMwLTEuNi0wLjEtMi43LTEuMS0zLjUKCWMxLTAuOCwxLjEtMi4zLDEuMS0zLjZsMCwwYzAtNC41LTMuMi00LjUtNi4yLTQuNUwxLjcsMTZMMS43LDE2eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjUsMjguOWMtMS4xLDEuMS0zLjMsMS4zLTMuNSwxLjNjLTEuMywwLTIuNy0wLjUtMi43LTIuMWMwLTEuNCwwLjUtMi4zLDIuMS0yLjNjMS4zLDAsMi44LDAuMSw0LjEsMC42VjI4Ljl6CgkgTTIxLjQsMzIuM2MwLjQsMCwyLjMtMC4xLDMuNy0wLjlsMC4yLDAuN2gyLjF2LTguOWMwLTMuNi0yLjMtNS01LjctNWMtMS44LDAtNC4zLDAuNy00LjcsMC45bDAuNCwyLjNjMS42LTAuNiwzLTAuNiw0LjItMC42CgljMS44LDAsMy4zLDAuNiwzLjMsMi42VjI0Yy0xLTAuNC0yLjQtMC42LTQuMS0wLjZjLTMsMC00LjUsMS42LTQuNSw0LjdDMTYuNCwzMS44LDE5LjYsMzIuMywyMS40LDMyLjN6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMC4yLDE2LjFjMCwwLjYsMC42LDEuMiwxLjMsMS4yYzAuOCwwLDEuMy0wLjYsMS4zLTEuMmMwLTAuNy0wLjYtMS4zLTEuMy0xLjNDMzAuOCwxNC44LDMwLjIsMTUuMywzMC4yLDE2LjF6CgkgTTMwLjMsMzIuMWgyLjRWMTguNWgtMi40VjMyLjF6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03MS4yLDIyLjFoOC40YzAuNCwwLjEsMC42LDAuMywwLjYsMC43djIuNmgtOS43di0yLjZDNzAuNiwyMi40LDcwLjgsMjIuMiw3MS4yLDIyLjF6IE03MS4yLDMwLjUKCWMtMC40LDAtMC42LTAuMy0wLjctMC44di0yLjZoOS43djIuNmMwLDAuNC0wLjIsMC43LTAuNiwwLjdINzEuMnogTTczLjYsMThjLTAuMSwwLjQtMC4xLDAuOS0wLjQsMS43Yy0wLjEsMC4zLTAuMSwwLjUtMC4xLDAuNwoJaC0yLjZjLTEuMywwLjEtMS45LDAuOC0yLDJ2Ny45YzAuMSwxLjEsMC44LDEuOCwyLDEuOWgxMGMxLjItMC4xLDEuOC0wLjcsMS45LTEuOHYtNy45Yy0wLjEtMS4zLTAuNy0xLjktMS45LTIuMWgtNQoJYzAuMS0wLjMsMC4xLTAuOCwwLjMtMS40YzAuMS0wLjQsMC4xLTAuNywwLjEtMC45aDcuMnYtMS44SDY3LjRWMThMNzMuNiwxOEw3My42LDE4eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNOTMuNywyMi43Yy0wLjQtMC4xLTAuNS0wLjItMC41LTAuNXYtMC42aDMuMnYwLjZjLTAuMSwwLjMtMC4yLDAuNC0wLjUsMC41SDkzLjd6IE05Ni42LDI0LjEKCWMxLjEtMC4xLDEuNi0wLjUsMS42LTEuNHYtMWgyLjN2LTEuNWgtMi4zdi0xLjFoLTEuOHYxLjFoLTMuMnYtMS4xaC0xLjh2MS4xaC0yLjN2MS41aDIuM3YxYzAuMSwwLjksMC42LDEuNCwxLjYsMS40SDk2LjZ6CgkgTTk0LjgsMzAuNGMxLjYsMC44LDMuNCwxLjMsNS40LDEuOGwwLjktMS43Yy0xLjQtMC4yLTIuOS0wLjYtNC40LTEuMWMxLjEtMC44LDItMS42LDIuNy0yLjVjMC4zLTAuNCwwLjQtMC45LDAuMi0xLjMKCWMtMC4zLTAuNi0wLjgtMC45LTEuNC0wLjloLTl2MS41aDcuN2MwLjIsMCwwLjQsMC4xLDAuNCwwLjFzMCwwLjEtMC4xLDAuM2MtMC42LDAuNi0xLjQsMS4zLTIuMywxLjhjLTEuMi0wLjctMi4xLTEuMy0yLjQtMS44aC0yLjIKCWMwLjksMSwxLjgsMS45LDIuOSwyLjdjLTEuNiwwLjYtMy4zLDEuMS00LjksMS4zbDAuOSwxLjZDOTEuMywzMS44LDkzLjIsMzEuMSw5NC44LDMwLjR6IE04OC4zLDI1LjJ2LTZjMC4xLTAuNiwwLjMtMC45LDAuOC0wLjkKCWgxMS44di0xLjZIOTVjLTAuMS0wLjEtMi4yLTAuMS0yLjIsMGgtNC43Yy0xLjEsMC4xLTEuNywwLjktMS44LDIuMlYyNWMwLjEsMi4xLTAuNCw0LjQtMS4xLDYuN2wxLjksMC42CglDODcuOSwyOS45LDg4LjMsMjcuNiw4OC4zLDI1LjJ6Ii8+CjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00Ni4zLDI0LjJjMC42LDAsMS4yLDAuMSwxLjcsMC40djMuNGMwLDAuMy0wLjYsMS0xLjksMWMtMS41LDAtMS44LTAuNi0xLjgtMi4xdi0wLjYKCUM0NC4yLDI0LjgsNDQuNywyNC4yLDQ2LjMsMjQuMnogTTQ5LjIsMjAuN0g0OHYyLjVDNDcuNiwyMy4xLDQ3LDIzLDQ2LjMsMjNjLTIuNywwLTMuMywxLTMuMywzLjV2MC4zYzAsMi40LDAuOSwzLjMsMy4yLDMuMwoJYzAuOCwwLDEuMy0wLjEsMS44LTAuNWwwLjEsMC42aDEuMUw0OS4yLDIwLjdMNDkuMiwyMC43eiIvPgo8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTYuNywyM2gtMS4ydjUuMmMtMC42LDAuNC0xLjcsMC42LTIuNCwwLjZjLTAuOCwwLTEtMC40LTEtMS4zdi00LjZoLTEuMXY0LjhjMCwxLjYsMC41LDIuMywyLjEsMi4zCgljMSwwLDIuMS0wLjMsMi42LTAuNmwwLjEsMC42aDEuMVYyM3oiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTkyLjcsMTUuN2MwLTAuNywwLjYtMS4zLDEuMi0xLjNjMC42LDAsMS4yLDAuNiwxLjIsMS4zUzk0LjUsMTcsOTMuOSwxN0M5My4zLDE2LjksOTIuNywxNi4zLDkyLjcsMTUuN3oiLz4KPC9zdmc+Cg==);\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               width: 101px;\\n               height: 33px;\\n               margin-top: 9px;\\n}\\n#result_logo img {\\n               display: none;\\n               visibility: hidden;\\n}\\n#result_logo a img {\\n               display: none;\\n               visibility: hidden;\\n}\\n.c-container {\\n               line-height: 1.65;\\n}\\n#rs {\\n               background-color: rgba(0, 0, 0, 0) !important;\\n}\\n.c-border {\\n               -webkit-box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               border-radius: 2px;\\n               border: none;\\n               padding: 20px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-border:hover {\\n               box-shadow: 0 3px 10px rgba(0, 0, 0, 0.16), 0 3px 10px rgba(0, 0, 0, 0.23);\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-tabs-nav {\\n               border: none;\\n               border-radius: 2px 2px 0 0;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-tabs-nav-movetop {\\n               margin-left: -20px;\\n               margin-right: -20px;\\n               margin-top: -20px;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-tabs-nav-selected {\\n               border-top: none !important;\\n               border-left: none !important;\\n               border-right: none !important;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.c-tabs-nav-sep {\\n               display: none !important;\\n}\\n#page a {\\n               height: 34px;\\n               border-radius: 2px;\\n               border: none !important;\\n               background-color: rgba(0, 0, 0, 0);\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#page a:hover {\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#page a .pc:hover {\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#page strong {\\n               height: 34px;\\n               border-radius: 2px;\\n               position: relative;\\n               top: -2px;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#page strong .pc {\\n               line-height: 34px;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.fk {\\n               display: none !important;\\n}\\n.pc {\\n               border: none !important;\\n               height: 35px;\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.pc:hover {\\n               transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: background-color 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#s_tab a {\\n               width: 59px;\\n               line-height: 44px;\\n}\\n#s_tab b {\\n               width: 59px;\\n               line-height: 44px;\\n}\\n#s_tab {\\n               padding-bottom: 8px;\\n               padding-top: 89px;\\n}\\n.c-icon-tieba {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n}\\n.toindex {\\n               display: none;\\n}\\n#u .pf {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               font-size: 0px;\\n               padding: 14px;\\n               opacity: 0.8;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               padding-top: 18px;\\n               padding-bottom: 10px;\\n}\\n#u .pf:hover {\\n               opacity: 1;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n}\\n.pf .c-icon {\\n               display: none !important;\\n}\\n.c-icon-triangle-down {\\n               display: none;\\n}\\n.bdpfmenu {\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               border-radius: 2px !important;\\n               border: none;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               margin-left: -10px;\\n               margin-top: 30px;\\n               z-index: 8888 !important;\\n}\\n.bdpfmenu a:hover {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.bdnuarrow {\\n               display: none !important;\\n}\\n.setpref {\\n               border-radius: 2px 2px 0 0;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.setpref:hover {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#u .lb {\\n               padding: 23px;\\n               border-radius: 50px;\\n               font-size: 0px;\\n               position: absolute;\\n               right: 50px;\\n               top: 3800%;\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#u .lb:hover {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#u .lb:active {\\n               box-shadow: 0 10px 30px rgba(0, 0, 0, 0.19), 0 6px 10px rgba(0, 0, 0, 0.23);\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n.tang-foreground {\\n               border-radius: 2px;\\n               box-shadow: 0 19px 60px rgba(0, 0, 0, 0.3), 0 15px 20px rgba(0, 0, 0, 0.22);\\n}\\n#s_upfunc_menus {\\n               display: none;\\n}\\n#bg {\\n               background-color: #FFF !important;\\n               border: none;\\n               border-radius: 3px;\\n               background: #FFF;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               background-position: 100% !important;\\n               z-index: -1;\\n               width: 600px;\\n               height: 39px;\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n               padding-top: 5px !important;\\n}\\n.s_ipt {\\n               border: 0 !important;\\n               height: 20px !important;\\n               border-radius: 2px;\\n               width: 586px !important;\\n               /*margin-top: -4px !important;\\n               padding-top: 14px;*/\\n}\\n.nobg_s_fm_hover {\\n               border: 0 !important;\\n}\\n.nobg_s_fm_focus {\\n               border: 0 !important;\\n               border-top: 0px solid #fff !important;\\n               border-bottom: 0px solid #fff !important;\\n               border-left: 0px solid #fff !important;\\n               border-right: 1px solid #38f;\\n}\\n.s-title-image {\\n               border: none !important;\\n               border-top: 0px solid #fff !important;\\n               border-bottom: 0px solid #fff !important;\\n               border-left: 0px solid #fff !important;\\n               border-right: 0px solid #fff !important;\\n}\\n#s_lg_img {\\n               display: none;\\n}\\n#form {\\n               -webkit-animation-duration: 1s;\\n               animation-duration: 1s;\\n               -webkit-animation-fill-mode: both;\\n               animation-fill-mode: both;\\n               animation-name: fadeInUp;\\n               -webkit-animation-name: fadeInUp;\\n               animation-delay: 0.3s;\\n               -webkit-animation-delay: 0.3s;\\n}\\n.s-p-top {\\n               transform: scale(0.8);\\n               bottom: 9px !important;\\n}\\n.mnav {\\n               display: none;\\n}\\n#u_sp .mnav {\\n               display: none;\\n}\\n#u1 a.lb {\\n               padding: 23px;\\n               border-radius: 50%;\\n               font-size: 0px;\\n               position: absolute;\\n               right: 44px;\\n               top: 1040%;\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDYgNDYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2IDQ2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMywyM2MyLjksMCw1LjItMi4zLDUuMi01LjJzLTIuMy01LjItNS4yLTUuMnMtNS4yLDIuMy01LjIsNS4yUzIwLjEsMjMsMjMsMjN6IE0yMywyNS42CgljLTMuNSwwLTEwLjQsMS43LTEwLjQsNS4ydjIuNmgyMC43di0yLjZDMzMuNCwyNy4zLDI2LjUsMjUuNiwyMywyNS42eiIvPgo8L3N2Zz4K);\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               line-height: 0px;\\n               z-index: 100;\\n}\\n#u1 a.lb:hover {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#u1 a.lb:active {\\n               box-shadow: 0 10px 30px rgba(0, 0, 0, 0.19), 0 6px 10px rgba(0, 0, 0, 0.23);\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n}\\n#u1 a.pf {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               font-size: 0px;\\n               padding: 14px;\\n               opacity: 0.8;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               z-index: 0;\\n}\\n#u1 a.bri {\\n               background-color: rgba(0, 0, 0, 0);\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               font-size: 0px;\\n               padding: 2px;\\n               opacity: 0.8;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               border: none;\\n               margin-top: 12px;\\n}\\n#wrapper .bdbriimgtitle {\\n               padding-top: 23px;\\n}\\n#wrapper .bdbri.bdbriimg .bdmainlink a {\\n               border: none;\\n}\\n#wrapper .bdbri {\\n               z-index: 2;\\n}\\n#u_sp .s_bri {\\n               padding: 5px;\\n               border-radius: 50%;\\n               font-size: 0px;\\n               width: 32px;\\n               height: 32px;\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAsMTNoM3YtM2gtM1YxM3ogTTE0LjUsMjJoM3YtM2gtM0MxNC41LDE5LDE0LjUsMjIsMTQuNSwyMnogTTEwLDIyaDN2LTNoLTNWMjJ6IE0xMCwxNy41aDN2LTNoLTNWMTcuNXoNCgkgTTE0LjUsMTcuNWgzdi0zaC0zQzE0LjUsMTQuNSwxNC41LDE3LjUsMTQuNSwxNy41eiBNMTksMTB2M2gzdi0zSDE5eiBNMTQuNSwxM2gzdi0zaC0zQzE0LjUsMTAsMTQuNSwxMywxNC41LDEzeiBNMTksMTcuNWgzdi0zaC0zDQoJVjE3LjV6IE0xOSwyMmgzdi0zaC0zVjIyeiIvPg0KPC9zdmc+DQo=);\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               -moz-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               ;\\n               /* Opera */\\n               \\n               line-height: 0px;\\n               z-index: 100;\\n               margin-right: 22px;\\n               margin-top: 1px;\\n}\\n#u_sp .s_bdbriimgtitle {\\n               padding-top: 73px;\\n}\\n#s_usersetting_top {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               font-size: 0px;\\n               padding: 14px;\\n               opacity: 0.8;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               margin-top: 12px;\\n               margin-right: 4px;\\n               z-index: -100;\\n}\\n#s_top_wrap {\\n               z-index: -10;\\n}\\n#u .toindex {\\n               display: none !important;\\n}\\n#s_username_top {\\n               text-decoration: none;\\n               margin-top: 26px;\\n               margin-left: 5px;\\n               border: none;\\n               padding-left: 10px;\\n               padding-right: 10px;\\n               border-radius: 16px;\\n               margin-right: -3px;\\n}\\n.user-name {\\n               text-decoration: none !important;\\n}\\n.menu-arrow {\\n               display: none !important;\\n}\\n.s_user_name_menu {\\n               text-align: center !important;\\n}\\n.s-user-set-menu.menu-top {\\n               width: 100px;\\n}\\n.s-user-set-menu div {\\n               border: none! important;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px;\\n}\\n.s-user-set-menu {\\n               padding-top: 0px;\\n               margin-top: 36px;\\n               border-radius: 2px !important;\\n}\\n.s-user-set-menu a {\\n               padding-left: 25px;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n}\\n.s-user-set-menu a:hover {\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n}\\n#user {\\n               text-decoration: none !important;\\n               margin-top: 30px;\\n               margin-left: 5px;\\n               border: none;\\n               padding-left: 10px;\\n               padding-right: 10px;\\n               border-radius: 16px;\\n               margin-right: -3px;\\n               height: 23px;\\n               padding-top: 8px;\\n               -webkit-animation-duration: 1s;\\n               animation-duration: 1s;\\n               -webkit-animation-fill-mode: both;\\n               animation-fill-mode: both;\\n               animation-name: bounceInRight;\\n               -webkit-animation-name: bounceInRight;\\n}\\n.usermenu {\\n               border: none !important;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               -webkit-box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               width: 83px;\\n               border-radius: 2px !important;\\n               top: -7px !important;\\n}\\n.username a {\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               border-radius: 2px;\\n}\\n.username a:hover {\\n               background: #4879BD !important;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n}\\n.username a:active {\\n               background: #4879BD !important;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n}\\n#user .c-icon {\\n               display: none;\\n}\\n#imsg {\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               font-size: 0px;\\n               padding: 14px;\\n               opacity: 0.8;\\n               -moz-transition: all 0.3s ease;\\n               /* Firefox 4 */\\n               \\n               -webkit-transition: all 0.3s ease;\\n               /* Safari 和 Chrome */\\n               \\n               -o-transition: all 0.3s ease;\\n               /* Opera */\\n               \\n               z-index: 0;\\n               padding-top: 25px;\\n               padding-bottom: 21px;\\n}\\n#imsg:hover {\\n               opacity: 1;\\n}\\n#bds-message-wrapper {\\n               top: 64px;\\n}\\n.s-mod-msg {\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               -webkit-box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               border-radius: 3px;\\n}\\n.msg-btn {\\n               border-radius: 2px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.msg-btn:hover {\\n               border-radius: 2px;\\n               box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.12);\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.msg-btn:active {\\n               border-radius: 2px;\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               -webkit-box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.no-use:hover {\\n               box-shadow: none !important;\\n}\\n.top-logo img {\\n               display: none;\\n}\\n.top-logo {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMTAxIDMzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDEgMzM7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojNDg3OUJEO30KCS5zdDF7ZmlsbDojREQ0NDM2O30KCS5zdDJ7ZmlsbDojRkZGRkZGO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTUwLjQsMTUuM2MtMy44LDAuMy00LDIuNi01LjcsNC43Yy0xLjgsMi4yLTUuNSw0LjEtNiw2LjdjLTAuNiwzLjMsMS4zLDUuMSwzLDUuN2MxLjksMC42LDYuMi0wLjUsOC40LTAuNWgwLjIKCWgwLjJjMi4yLDAsNi40LDEuMSw4LjQsMC41YzEuOC0wLjYsMy41LTMuMiwzLTUuN2MtMC40LTIuMS00LjQtNC41LTYuMi02LjdDNTQuMiwxOCw1NC4zLDE1LjYsNTAuNCwxNS4zeiBNMzcsMTQuOAoJYzAsMi40LDEuNiw0LjMsMy40LDQuM2MxLjksMCwzLjQtMS45LDMuNC00LjNjMC0yLjQtMS42LTQuMy0zLjQtNC4zUzM3LDEyLjUsMzcsMTQuOHogTTQzLjksOC42YzAsMi41LDEuNSw0LjUsMy4zLDQuNQoJYzEuOCwwLDMuMy0yLjEsMy4zLTQuNVM0OSw0LjEsNDcuMSw0LjFDNDUuMyw0LDQzLjksNiw0My45LDguNnogTTUyLjIsOC41YzAsMi4zLDEuNCw0LjMsMy4yLDQuM3MzLjItMS45LDMuMi00LjNzLTEuNC00LjMtMy4yLTQuMwoJUzUyLjIsNi4yLDUyLjIsOC41eiBNNTcuNSwxNS45YzAsMi4zLDEuNSw0LjMsMy4zLDQuM2MxLjgsMCwzLjMtMS45LDMuMy00LjNzLTEuNS00LjMtMy4zLTQuM0M1OC45LDExLjYsNTcuNSwxMy42LDU3LjUsMTUuOXoiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTQsMzAuNHYtNS4xaDYuNGMxLjYsMCwxLjYsMC4zLDEuNiwydjEuNGMwLDEuNi0yLjMsMS44LTMuOSwxLjhMNCwzMC40TDQsMzAuNHogTTQsMjN2LTQuOGg0LjEKCWMxLjYsMCwzLjksMCwzLjksMi4xdjAuMWMwLDEuNC0wLjUsMi42LTEuOCwyLjZDMTAuMywyMyw0LDIzLDQsMjN6IE0xLjcsMTZ2MTYuM2g2LjRjMywwLDYuMiwwLDYuMi0zLjZ2LTEuMWMwLTEuNi0wLjEtMi43LTEuMS0zLjUKCWMxLTAuOCwxLjEtMi4zLDEuMS0zLjZsMCwwYzAtNC41LTMuMi00LjUtNi4yLTQuNUwxLjcsMTZMMS43LDE2eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMjUsMjguOWMtMS4xLDEuMS0zLjMsMS4zLTMuNSwxLjNjLTEuMywwLTIuNy0wLjUtMi43LTIuMWMwLTEuNCwwLjUtMi4zLDIuMS0yLjNjMS4zLDAsMi44LDAuMSw0LjEsMC42VjI4Ljl6CgkgTTIxLjQsMzIuM2MwLjQsMCwyLjMtMC4xLDMuNy0wLjlsMC4yLDAuN2gyLjF2LTguOWMwLTMuNi0yLjMtNS01LjctNWMtMS44LDAtNC4zLDAuNy00LjcsMC45bDAuNCwyLjNjMS42LTAuNiwzLTAuNiw0LjItMC42CgljMS44LDAsMy4zLDAuNiwzLjMsMi42VjI0Yy0xLTAuNC0yLjQtMC42LTQuMS0wLjZjLTMsMC00LjUsMS42LTQuNSw0LjdDMTYuNCwzMS44LDE5LjYsMzIuMywyMS40LDMyLjN6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0zMC4yLDE2LjFjMCwwLjYsMC42LDEuMiwxLjMsMS4yYzAuOCwwLDEuMy0wLjYsMS4zLTEuMmMwLTAuNy0wLjYtMS4zLTEuMy0xLjNDMzAuOCwxNC44LDMwLjIsMTUuMywzMC4yLDE2LjF6CgkgTTMwLjMsMzIuMWgyLjRWMTguNWgtMi40VjMyLjF6Ii8+CjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik03MS4yLDIyLjFoOC40YzAuNCwwLjEsMC42LDAuMywwLjYsMC43djIuNmgtOS43di0yLjZDNzAuNiwyMi40LDcwLjgsMjIuMiw3MS4yLDIyLjF6IE03MS4yLDMwLjUKCWMtMC40LDAtMC42LTAuMy0wLjctMC44di0yLjZoOS43djIuNmMwLDAuNC0wLjIsMC43LTAuNiwwLjdINzEuMnogTTczLjYsMThjLTAuMSwwLjQtMC4xLDAuOS0wLjQsMS43Yy0wLjEsMC4zLTAuMSwwLjUtMC4xLDAuNwoJaC0yLjZjLTEuMywwLjEtMS45LDAuOC0yLDJ2Ny45YzAuMSwxLjEsMC44LDEuOCwyLDEuOWgxMGMxLjItMC4xLDEuOC0wLjcsMS45LTEuOHYtNy45Yy0wLjEtMS4zLTAuNy0xLjktMS45LTIuMWgtNQoJYzAuMS0wLjMsMC4xLTAuOCwwLjMtMS40YzAuMS0wLjQsMC4xLTAuNywwLjEtMC45aDcuMnYtMS44SDY3LjRWMThMNzMuNiwxOEw3My42LDE4eiIvPgo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNOTMuNywyMi43Yy0wLjQtMC4xLTAuNS0wLjItMC41LTAuNXYtMC42aDMuMnYwLjZjLTAuMSwwLjMtMC4yLDAuNC0wLjUsMC41SDkzLjd6IE05Ni42LDI0LjEKCWMxLjEtMC4xLDEuNi0wLjUsMS42LTEuNHYtMWgyLjN2LTEuNWgtMi4zdi0xLjFoLTEuOHYxLjFoLTMuMnYtMS4xaC0xLjh2MS4xaC0yLjN2MS41aDIuM3YxYzAuMSwwLjksMC42LDEuNCwxLjYsMS40SDk2LjZ6CgkgTTk0LjgsMzAuNGMxLjYsMC44LDMuNCwxLjMsNS40LDEuOGwwLjktMS43Yy0xLjQtMC4yLTIuOS0wLjYtNC40LTEuMWMxLjEtMC44LDItMS42LDIuNy0yLjVjMC4zLTAuNCwwLjQtMC45LDAuMi0xLjMKCWMtMC4zLTAuNi0wLjgtMC45LTEuNC0wLjloLTl2MS41aDcuN2MwLjIsMCwwLjQsMC4xLDAuNCwwLjFzMCwwLjEtMC4xLDAuM2MtMC42LDAuNi0xLjQsMS4zLTIuMywxLjhjLTEuMi0wLjctMi4xLTEuMy0yLjQtMS44aC0yLjIKCWMwLjksMSwxLjgsMS45LDIuOSwyLjdjLTEuNiwwLjYtMy4zLDEuMS00LjksMS4zbDAuOSwxLjZDOTEuMywzMS44LDkzLjIsMzEuMSw5NC44LDMwLjR6IE04OC4zLDI1LjJ2LTZjMC4xLTAuNiwwLjMtMC45LDAuOC0wLjkKCWgxMS44di0xLjZIOTVjLTAuMS0wLjEtMi4yLTAuMS0yLjIsMGgtNC43Yy0xLjEsMC4xLTEuNywwLjktMS44LDIuMlYyNWMwLjEsMi4xLTAuNCw0LjQtMS4xLDYuN2wxLjksMC42CglDODcuOSwyOS45LDg4LjMsMjcuNiw4OC4zLDI1LjJ6Ii8+CjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00Ni4zLDI0LjJjMC42LDAsMS4yLDAuMSwxLjcsMC40djMuNGMwLDAuMy0wLjYsMS0xLjksMWMtMS41LDAtMS44LTAuNi0xLjgtMi4xdi0wLjYKCUM0NC4yLDI0LjgsNDQuNywyNC4yLDQ2LjMsMjQuMnogTTQ5LjIsMjAuN0g0OHYyLjVDNDcuNiwyMy4xLDQ3LDIzLDQ2LjMsMjNjLTIuNywwLTMuMywxLTMuMywzLjV2MC4zYzAsMi40LDAuOSwzLjMsMy4yLDMuMwoJYzAuOCwwLDEuMy0wLjEsMS44LTAuNWwwLjEsMC42aDEuMUw0OS4yLDIwLjdMNDkuMiwyMC43eiIvPgo8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNTYuNywyM2gtMS4ydjUuMmMtMC42LDAuNC0xLjcsMC42LTIuNCwwLjZjLTAuOCwwLTEtMC40LTEtMS4zdi00LjZoLTEuMXY0LjhjMCwxLjYsMC41LDIuMywyLjEsMi4zCgljMSwwLDIuMS0wLjMsMi42LTAuNmwwLjEsMC42aDEuMVYyM3oiLz4KPHBhdGggY2xhc3M9InN0MSIgZD0iTTkyLjcsMTUuN2MwLTAuNywwLjYtMS4zLDEuMi0xLjNjMC42LDAsMS4yLDAuNiwxLjIsMS4zUzk0LjUsMTcsOTMuOSwxN0M5My4zLDE2LjksOTIuNywxNi4zLDkyLjcsMTUuN3oiLz4KPC9zdmc+Cg==);\\n               background-repeat: no-repeat;\\n               background-position: center;\\n               height: 100px;\\n               width: 200px;\\n}\\n#u_sp .s_bri {\\n               border: 0 !important;\\n}\\n.pass-text-input {\\n               background-image: none !important;\\n}\\n.pass-text-input-focus {\\n               background-image: none !important;\\n}\\n#passport-login-pop {\\n               font-family: -apple-system, \\\"Helvetica Neue\\\", Helvetica, \\\"Nimbus Sans L\\\", Arial, \\\"Liberation Sans\\\", \\\"PingFang SC\\\", \\\"Hiragino Sans GB\\\", \\\"Source Han Sans CN\\\", \\\"Source Han Sans SC\\\", \\\"Microsoft YaHei\\\", \\\"Wenquanyi Micro Hei\\\", \\\"WenQuanYi Zen Hei\\\", \\\"ST Heiti\\\", SimHei, \\\"WenQuanYi Zen Hei Sharp\\\", sans-serif;\\n               border-radius: 2px;\\n}\\n#TANGRAM__PSP_2__titleText {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI Light\\\";\\n}\\n.pass-fgtpwd {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI\\\" !important;\\n}\\n.pass-sms-btn {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI\\\" !important;\\n}\\n.pass-reglink {\\n               font-family: Helvetica, \\\"Microsoft Yahei UI\\\" !important;\\n}\\n.tang-foreground {\\n               border-radius: 2px !important;\\n               border: 0 !important;\\n}\\n.tang-title {\\n               border-radius: 2px 2px 0 0 !important;\\n}\\n.tang-pass-pop-login div.tang-title {\\n               border-radius: 2px 2px 0 0 !important;\\n}\\n.pass-checkbox-input {\\n               width: 17px;\\n               height: 17px;\\n               border: #e0e0e0 3px solid !important;\\n               background-color: #fff !important;\\n               box-shadow: none;\\n}\\n.tang-pass-pop-login-color-blue .pass-button:focus {\\n               box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n               -webkit-box-shadow: rgba(0, 0, 0, 0.156863) 0px 3px 10px, rgba(0, 0, 0, 0.227451) 0px 3px 10px !important;\\n}\\n#content_right,\\n.c-recommend,\\nbody > div[class=\\\"result-op xpath-log\\\"] {\\n               display: none !important;\\n}\\n.rrecom-btn-parent {\\n               display: none !important;\\n}\\n.s-p-top {\\n               bottom: -8px !important;\\n}\\n\\ninput[type=\\\"text\\\"]:focus {\\n               border: none !important;\\n               border-top: 0px solid #fff !important;\\n               border-bottom: 0px solid #fff !important;\\n               border-left: 0px solid #fff !important;\\n               border-right: 0px solid #fff !important;\\n}\\n\\na[soft_id] {\\n               display: none;\\n}\\n\\n.op-soft-btnbox .c-gap-left-small {\\n    margin-left: 0px !important;\\n    color: #fff;\\n    background-color: #4879BD;\\n    padding: 7px 15px;\\n    border-radius: 2px;\\n    font-size: 14px;\\n    transition: all 0.3s ease;\\n}\\n\\n.op-soft-btnbox .c-gap-left-small:hover {\\n    background-color: #7098D0;\\n    transition: all 0.3s ease;\\n    box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16),0 2px 10px 0 rgba(0,0,0,0.12);\\n}\\n\\n.soutu-input-image{\\n    top: 6px;\\n    left: 5px;            \\n}\\n\\n.op-soft-btnbox a:before {\\n    content: \\\"没有流氓的\\\";\\n}\\n\\n#kw{\\n    background-color:transparent;\\n}\\n.s-skin-hasbg #kw {\\n        box-shadow: 0 0px 0px rgba(0,0,0,0.2);\\n}\\n.s-skin-hasbg .btn_wr {\\n    width: 35px;\\n}\\n\\n#s_usersetting_top {\\n    margin-top:-7px;\\n}\\n#s_username_top {\\n    margin-top: 7px;\\n}\\n#u_sp {\\n    padding-top:16px;\\n}\\n.ipt_rec{\\n    background:none;\\n    background-image:none;\\n}\\n.ipt_rec:hover{\\n    background:none;\\n    background-image:none;\\n}\\n.ipt_rec:after{\\n    display:none;\\n    margin-top:50px;\\n}\\n.bdpfmenu, .usermenu {\\nborder: none;\\nbox-shadow: none;\\n-webkit-box-shadow: none;\\n-moz-box-shadow: none;\\n-o-box-shadow: none;\\n}\\n\\n.qrcodeCon {\\nvisibility: hidden;\\n}\\n\\n#head .headBlock {\\n    margin: 12px 0 6px 121px;\\n}\\n\\n#s_lg_img_new {\\ndisplay: none !important;\\n}\\n\\n@media screen and (min-width: 1921px){\\n.head_wrapper {\\n    left: 52px;\\n    width: 100vw;\\n}\\n}\\n\\n/*========= Light Mode ========= */\\n\\na {\\n               color: #4879BD;\\n}\\n\\nh3 a:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n\\n.c-showurl {\\n               color: #4CAF50;\\n}\\n\\n.op-se-listen-recommend:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n\\n.c-gap-bottom-small a:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n.c-row a:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n#rs a:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n.hint_toprq_tips_items a:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n.c:hover {\\n               border-bottom: #4879BD 1.2px solid;\\n}\\n\\nem {\\n               color: #EA4335;\\n}\\n\\n\\n/*页面背景*/\\nbody {\\n               background-color: #F7F7F7;\\n}\\n\\n\\n/*输入框*/\\n.s_ipt_wr {\\n               background-color: #FFF !important;               \\n               background: #FFF;            \\n}\\n\\n.s_ipt_wr:hover {\\n               background-color: #FFF !important;\\n               background: #FFF;\\n}\\n\\n.ipthover {\\n               background-color: #FFF !important;\\n}\\n\\n.iptfocus {\\n               background-color: #fff !important;\\n}\\n\\n\\n/*按钮*/\\n.s_btn {\\n               background-color: rgba(0, 0, 0, 0);\\n}\\n\\n\\n/*头部*/\\n#head {\\n               background-color: #f1f1f1;\\n}\\n\\n.c-border{\\n\\t           background-color: #fff;\\n}\\n\\n\\n/*分类标签*/\\n.c-tabs-nav {\\n               background-color: #EEEEEE;\\n}\\n\\n.c-tabs-nav-selected {\\n               border-bottom: #F44336 2px solid !important;\\n\\t           background-color: #2196F3 !important;\\n               color: #fff !important;\\n}\\n\\n\\n/*页码*/\\n#page a{\\n\\t           background: #fff;\\n\\t           color: #424242;\\n}\\n\\n#page a:hover{\\n               background-color: #e0e0e0 !important;\\n}\\n\\n#page a .pc:hover {\\n               background-color: #e0e0e0;\\n}\\n\\n#page strong {\\n               background-color: #4285F4 !important;\\n               color: #fff;\\n}\\n\\n#page strong .pc {\\n               background-color: #4285F4 !important;\\n}\\n\\n.pc:hover {\\n               background-color: #e0e0e0;\\n}\\n\\n#s_tab b {\\n               border-bottom: 3px #4879BD solid;\\n               color: #4879BD;\\n}\\n\\n#s_tab {\\n               border-bottom: #e0e0e0 1px solid;\\n}\\n\\n.bdpfmenu a:hover {\\n               background-color: #4879BD !important;\\n}\\n\\n.setpref:hover {\\n               background-color: #4879BD !important;\\n}\\n\\n#u .lb {\\n               background-color: #4879BD;\\n}\\n\\n#u .lb:hover {\\n               background-color: #618CC7;\\n}\\n\\n#u .lb:active {\\n               background-color: #7DA0D0;\\n}\\n\\n#bg {\\n               background-color: #FFF !important;\\n               background: #FFF;\\n}\\n\\n#u1 a.lb {\\n               background-color: #4879BD;\\n}\\n\\n#u1 a.lb:hover {\\n               background-color: #618CC7;\\n}\\n\\n#u1 a.lb:active {\\n               background-color: #7DA0D0;\\n}\\n\\n#u_sp .s_bri {\\n               background-color: #F44336;\\n}\\n\\n#s_username_top {\\n               background-color: #e0e0e0;\\n}\\n\\n.s-user-set-menu a:hover {\\n               background-color: #4879BD !important;\\n}\\n\\n#user {\\n               background-color: #e0e0e0;\\n}\\n\\n.msg-setting-btn {\\n               background-color: #4879BD !important;\\n}\\n.no-use {\\n               background-color: #E5E5E5 !important;\\n}\\n\\n.pass-text-input {\\n               border-bottom: #e0e0e0 2px solid !important;\\n               border-left: #fff 0px solid !important;\\n               border-right: #fff 0px solid !important;\\n               border-top: #fff 0px solid !important;\\n}\\n\\n.pass-text-input-focus {\\n               border-bottom: #4879BD 2px solid !important;\\n               border-left: #fff 0px solid !important;\\n               border-right: #fff 0px solid !important;\\n               border-top: #fff 0px solid !important;\\n}              \\n\\n.tang-pass-pop-login-color-blue .pass-button {\\n               background-color: #4879BD;\\n}\\n.tang-pass-pop-login-color-blue .pass-button:hover {\\n               background-color: #618CC7;\\n}\\n\\n\\n/* icons*/\\n#lg {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMjU5IDExNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjU5IDExNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCgkuc3Qwe2ZpbGw6IzQyODVGNDt9DQoJLnN0MXtmaWxsOiNFQTQzMzU7fQ0KCS5zdDJ7ZmlsbDojRkZGRkZGO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTI4LjIsNzdjLTUuNCwwLjQtNS42LDMuNy04LjEsNi43Yy0yLjUsMy4xLTcuNyw1LjgtOC40LDkuNWMtMC44LDQuNywxLjgsNy4yLDQuMyw4YzIuNywwLjksOC44LTAuNywxMS45LTAuNw0KCWgwLjNoMC4zYzMuMSwwLDkuMSwxLjYsMTEuOSwwLjdjMi41LTAuOSw0LjktNC41LDQuMy04Yy0wLjUtMy02LjItNi40LTguNy05LjVDMTMzLjYsODAuNywxMzMuNyw3Ny40LDEyOC4yLDc3eiBNMTA5LjMsNzYuMw0KCWMwLDMuNCwyLjIsNi4xLDQuOCw2LjFjMi43LDAsNC44LTIuNyw0LjgtNi4xcy0yLjItNi4xLTQuOC02LjFTMTA5LjMsNzMsMTA5LjMsNzYuM3ogTTExOSw2Ny41YzAsMy41LDIuMSw2LjQsNC42LDYuNA0KCWMyLjYsMCw0LjctMi45LDQuNy02LjRzLTIuMS02LjQtNC43LTYuNEMxMjEsNjEsMTE5LDYzLjksMTE5LDY3LjV6IE0xMzAuNyw2Ny40YzAsMy4zLDIsNiw0LjUsNnM0LjUtMi43LDQuNS02YzAtMy4zLTItNi00LjUtNg0KCVMxMzAuNyw2NC4xLDEzMC43LDY3LjR6IE0xMzguMiw3Ny44YzAsMy4zLDIuMSw2LDQuNiw2YzIuNiwwLDQuNy0yLjcsNC43LTZjMC0zLjMtMi4xLTYtNC43LTZDMTQwLjIsNzEuOCwxMzguMiw3NC41LDEzOC4yLDc3Ljh6Ig0KCS8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjIuOCw5OC4yVjkxaDljMi4yLDAsMi4zLDAuNCwyLjMsMi44djJjMCwyLjMtMy4yLDIuNS01LjUsMi41aC01LjhWOTguMnogTTYyLjgsODcuOFY4MWg1LjgNCgljMi4zLDAsNS41LDAsNS41LDN2MC4xYzAsMi0wLjcsMy43LTIuNSwzLjdDNzEuNiw4Ny44LDYyLjgsODcuOCw2Mi44LDg3Ljh6IE01OS41LDc3Ljl2MjNoOS4xYzQuMywwLDguNywwLDguNy01LjF2LTEuNQ0KCWMwLTIuMy0wLjItMy44LTEuNS00LjljMS40LTEuMSwxLjUtMy4yLDEuNS01LjFsMCwwYzAtNi4zLTQuNS02LjMtOC43LTYuM0w1OS41LDc3LjlMNTkuNSw3Ny45eiIvPg0KPHBhdGggY2xhc3M9InN0MSIgZD0iTTkyLjQsOTYuMWMtMS41LDEuNi00LjYsMS44LTQuOSwxLjhjLTEuOSwwLTMuOC0wLjctMy44LTIuOWMwLTIsMC43LTMuMywyLjktMy4zYzEuOCwwLDQsMC4yLDUuOCwwLjhWOTYuMXoNCgkgTTg3LjMsMTAwLjljMC41LDAsMy4zLTAuMiw1LjItMS4zbDAuMywxaDIuOVY4OGMwLTUuMS0zLjItNy4xLTgtNy4xYy0yLjUsMC02LjEsMS02LjYsMS4ybDAuNiwzLjJjMi4yLTAuOCw0LjItMC45LDUuOS0wLjkNCgljMi42LDAsNC42LDAuOSw0LjYsMy43djEuMWMtMS40LTAuNS0zLjQtMC45LTUuOC0wLjljLTQuMiwwLTYuMywyLjMtNi4zLDYuNkM4MC4zLDEwMC4zLDg0LjcsMTAwLjksODcuMywxMDAuOXoiLz4NCjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik05OS43LDc4LjFjMCwwLjksMC45LDEuNywxLjgsMS43YzEuMSwwLDEuOS0wLjgsMS45LTEuN2MwLTEtMC44LTEuOC0xLjktMS44QzEwMC42LDc2LjMsOTkuNyw3Nyw5OS43LDc4LjF6DQoJIE05OS45LDEwMC42aDMuNFY4MS41aC0zLjRWMTAwLjZ6Ii8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTU3LjYsODYuNmgxMS44YzAuNSwwLjEsMC44LDAuNCwwLjksMXYzLjZoLTEzLjd2LTMuNkMxNTYuNyw4NywxNTcsODYuNywxNTcuNiw4Ni42eiBNMTU3LjYsOTguNA0KCWMtMC42LDAtMC45LTAuNC0xLTEuMXYtMy42aDEzLjd2My43YzAsMC42LTAuMywxLTAuOSwxSDE1Ny42eiBNMTYwLjksODAuN2MtMC4xLDAuNS0wLjIsMS4zLTAuNSwyLjRjLTAuMSwwLjQtMC4xLDAuNy0wLjIsMWgtMy43DQoJYy0xLjgsMC4xLTIuNywxLjEtMi44LDIuOFY5OGMwLjEsMS42LDEuMSwyLjUsMi44LDIuN2gxNC4xYzEuNy0wLjEsMi42LTEsMi43LTIuNVY4N2MtMC4xLTEuOC0xLTIuNy0yLjctMi45aC03DQoJYzAuMS0wLjQsMC4yLTEuMSwwLjQtMmMwLjEtMC42LDAuMS0xLDAuMi0xLjNoMTAuMnYtMi42aC0yMi4ydjIuNkwxNjAuOSw4MC43TDE2MC45LDgwLjd6Ii8+DQo8cGF0aCBjbGFzcz0ic3QxIiBkPSJNMTg5LjQsODcuNGMtMC41LTAuMS0wLjctMC4zLTAuNy0wLjd2LTAuOWg0LjV2MC45Yy0wLjEsMC40LTAuMywwLjYtMC43LDAuN0gxODkuNHogTTE5My40LDg5LjQNCgljMS41LTAuMSwyLjItMC43LDIuMy0yVjg2aDMuMnYtMi4xaC0zLjJ2LTEuNmgtMi41djEuNmgtNC41di0xLjZoLTIuNnYxLjZoLTMuMlY4NmgzLjJ2MS40YzAuMSwxLjMsMC44LDIsMi4yLDJIMTkzLjR6IE0xOTAuOSw5OC4zDQoJYzIuMywxLjEsNC44LDEuOSw3LjYsMi42bDEuMi0yLjRjLTItMC4zLTQuMS0wLjgtNi4yLTEuNmMxLjUtMS4xLDIuOC0yLjIsMy44LTMuNWMwLjQtMC42LDAuNS0xLjIsMC4zLTEuOWMtMC40LTAuOC0xLjEtMS4yLTItMS4yDQoJaC0xMi43djIuMWgxMC44YzAuMywwLDAuNSwwLjEsMC42LDAuMnMwLDAuMi0wLjIsMC40Yy0wLjksMC45LTIsMS44LTMuMywyLjZjLTEuNy0xLTIuOS0xLjktMy40LTIuNmgtMy4xYzEuMiwxLjQsMi42LDIuNyw0LjEsMy44DQoJYy0yLjMsMC45LTQuNiwxLjUtNi45LDEuOGwxLjMsMi4yQzE4NS45LDEwMC4yLDE4OC42LDk5LjMsMTkwLjksOTguM3ogTTE4MS43LDkwLjl2LTguNWMwLjEtMC44LDAuNC0xLjIsMS4xLTEuM2gxNi43di0yLjNoLTguMw0KCWMtMC4xLTAuMi0zLjEtMC4xLTMuMSwwaC02LjdjLTEuNSwwLjItMi40LDEuMy0yLjUsMy4xdjguN2MwLjEsMy0wLjUsNi4yLTEuNiw5LjRsMi43LDAuOEMxODEuMSw5Ny42LDE4MS43LDk0LjMsMTgxLjcsOTAuOXoiLz4NCjxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMjIuNSw4OS41YzAuOCwwLDEuNywwLjIsMi40LDAuNXY0LjhjMCwwLjQtMC45LDEuNC0yLjcsMS40Yy0yLjEsMC0yLjYtMC45LTIuNi0yLjl2LTAuOA0KCUMxMTkuNSw5MC40LDEyMC4yLDg5LjUsMTIyLjUsODkuNXogTTEyNi42LDg0LjZoLTEuN3YzLjVjLTAuNi0wLjItMS41LTAuMy0yLjQtMC4zYy0zLjgsMC00LjYsMS40LTQuNiw0Ljl2MC40DQoJYzAsMy40LDEuMyw0LjYsNC41LDQuNmMxLjEsMCwxLjktMC4yLDIuNi0wLjdsMC4yLDAuOGgxLjVMMTI2LjYsODQuNkwxMjYuNiw4NC42eiIvPg0KPHBhdGggY2xhc3M9InN0MiIgZD0iTTEzNy4xLDg3LjhoLTEuN3Y3LjRjLTAuOSwwLjUtMi40LDAuOC0zLjQsMC44Yy0xLjEsMC0xLjQtMC42LTEuNC0xLjl2LTYuNUgxMjl2Ni44YzAsMi4zLDAuNywzLjIsMi45LDMuMg0KCWMxLjQsMCwyLjktMC40LDMuNi0wLjhsMC4xLDAuOGgxLjVWODcuOHoiLz4NCjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xODcuOSw3Ny41YzAtMSwwLjgtMS44LDEuNy0xLjhzMS43LDAuOCwxLjcsMS44cy0wLjgsMS44LTEuNywxLjhDMTg4LjcsNzkuMiwxODcuOSw3OC40LDE4Ny45LDc3LjV6Ii8+DQo8L3N2Zz4NCg==);\\n}\\n\\n.s_btn {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzQ3NzlCRDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNC44LDIxLjVjLTAuNCwwLTAuNywwLTEuMS0wLjFjLTIuMS0wLjMtMy45LTEuNC01LjItM2MtMS4zLTEuNy0xLjgtMy43LTEuNi01LjhjMC4zLTIuMSwxLjQtMy45LDMtNS4yCgljMS43LTEuMywzLjgtMS44LDUuOC0xLjZjMi4xLDAuMywzLjksMS40LDUuMiwzYzEuMywxLjcsMS44LDMuOCwxLjYsNS44Yy0wLjMsMi4xLTEuNCwzLjktMyw1LjJDMTguMiwyMSwxNi41LDIxLjUsMTQuOCwyMS41egoJIE0xNC44LDguMWMtMS4yLDAtMi40LDAuNC0zLjMsMS4xYy0yLjQsMS44LTIuOSw1LjMtMSw3LjdjMS44LDIuNCw1LjMsMi45LDcuNywxYzEuMi0wLjksMS45LTIuMiwyLjEtMy42YzAuMi0xLjUtMC4yLTIuOS0xLjEtNC4xCglTMTcsOC40LDE1LjUsOC4yQzE1LjMsOC4yLDE1LDguMSwxNC44LDguMXoiLz4KPGc+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjUuMywyNy41TDI1LjMsMjcuNWMtMC42LDAuNC0xLjQsMC4zLTEuOC0wLjJsLTUuMS02LjdjLTAuNC0wLjYtMC4zLTEuNCwwLjItMS44bDAsMAoJCQljMC42LTAuNCwxLjQtMC4zLDEuOCwwLjJsNS4xLDYuN0MyNiwyNi4zLDI1LjksMjcuMSwyNS4zLDI3LjV6Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==) !important;\\n}\\n\\n.s_btn_wr {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzQ3NzlCRDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xNC44LDIxLjVjLTAuNCwwLTAuNywwLTEuMS0wLjFjLTIuMS0wLjMtMy45LTEuNC01LjItM2MtMS4zLTEuNy0xLjgtMy43LTEuNi01LjhjMC4zLTIuMSwxLjQtMy45LDMtNS4yCgljMS43LTEuMywzLjgtMS44LDUuOC0xLjZjMi4xLDAuMywzLjksMS40LDUuMiwzYzEuMywxLjcsMS44LDMuOCwxLjYsNS44Yy0wLjMsMi4xLTEuNCwzLjktMyw1LjJDMTguMiwyMSwxNi41LDIxLjUsMTQuOCwyMS41egoJIE0xNC44LDguMWMtMS4yLDAtMi40LDAuNC0zLjMsMS4xYy0yLjQsMS44LTIuOSw1LjMtMSw3LjdjMS44LDIuNCw1LjMsMi45LDcuNywxYzEuMi0wLjksMS45LTIuMiwyLjEtMy42YzAuMi0xLjUtMC4yLTIuOS0xLjEtNC4xCglTMTcsOC40LDE1LjUsOC4yQzE1LjMsOC4yLDE1LDguMSwxNC44LDguMXoiLz4KPGc+Cgk8Zz4KCQk8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjUuMywyNy41TDI1LjMsMjcuNWMtMC42LDAuNC0xLjQsMC4zLTEuOC0wLjJsLTUuMS02LjdjLTAuNC0wLjYtMC4zLTEuNCwwLjItMS44bDAsMAoJCQljMC42LTAuNCwxLjQtMC4zLDEuOCwwLjJsNS4xLDYuN0MyNiwyNi4zLDI1LjksMjcuMSwyNS4zLDI3LjV6Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+Cg==) !important;\\n\\n}\\n\\n.c-icon-tieba {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMjQgMjQiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI0IDI0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzM3QUJFMzt9Cgkuc3Qxe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMC45LDIzLjNIMy4xYy0xLjEsMC0yLTAuOS0yLTJWMi44YzAtMS4xLDAuOS0yLDItMmgxNy44YzEuMSwwLDIsMC45LDIsMnYxOC41QzIyLjksMjIuNCwyMiwyMy4zLDIwLjksMjMuM3oiCgkvPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik01LjIsMTkuOUw0LDE5LjJjMS41LTEuOSwyLjMtMy45LDIuNC01LjhjMC0xLDAuMS0zLjEsMC4xLTYuM0g4YzAsMi4yLDAsNC4zLTAuMSw2LjRjMCwwLjYtMC4xLDEuMi0wLjMsMS44CgkJaDEuMWMwLjUsMC44LDEuMiwyLjQsMi4yLDQuNkg5Yy0wLjYtMS41LTEuMi0yLjgtMS42LTMuOUM3LDE3LjIsNi4zLDE4LjYsNS4yLDE5Ljl6IE00LjEsMTQuOFY2LjFjMC0xLjIsMC41LTEuOCwxLjYtMS44aDMKCQljMSwwLDEuNiwwLjcsMS42LDEuOHY4LjZIOC45VjYuM2MwLTAuNC0wLjMtMC42LTAuNi0wLjZoLTJjLTAuNCwwLTAuNiwwLjItMC42LDAuNnY4LjVINC4xeiBNMTIuOSwxOS41Yy0xLjEsMC0xLjctMC42LTEuOC0xLjZWMTMKCQljMC0xLjEsMC43LTEuNywxLjgtMS44aDFWNC4xaDEuN3YyLjVIMjBWOGgtNC4zdjMuMmgxLjhjMS4xLDAsMS43LDAuNywxLjgsMS44djQuOGMwLDEuMS0wLjYsMS42LTEuOCwxLjdIMTIuOXogTTEyLjgsMTMuM3Y0LjMKCQljMCwwLjQsMC4zLDAuNywwLjcsMC43aDMuMmMwLjUsMCwwLjctMC4zLDAuOC0wLjd2LTQuNGMwLTAuNC0wLjMtMC43LTAuNy0wLjdoLTMuM0MxMy4xLDEyLjYsMTIuOSwxMi44LDEyLjgsMTMuM3oiLz4KPC9nPgo8L3N2Zz4K);\\n}\\n\\n#u .pf {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzZENkQ2RDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNS4yLDE3LjJjMC0wLjQsMC4xLTAuOCwwLjEtMS4yYzAtMC40LDAtMC44LTAuMS0xLjJsMi42LTJjMC4yLTAuMiwwLjMtMC41LDAuMS0wLjhsLTIuNS00LjMKCWMtMC4xLTAuMy0wLjUtMC40LTAuOC0wLjNsLTMuMSwxLjJjLTAuNi0wLjUtMS4zLTAuOS0yLjEtMS4ybC0wLjUtMy4zYzAtMC4zLTAuMy0wLjUtMC42LTAuNWgtNWMtMC4zLDAtMC42LDAuMi0wLjYsMC41bC0wLjUsMy4zCgljLTAuOCwwLjMtMS40LDAuNy0yLjEsMS4yTDcuMyw3LjRDNyw3LjMsNi43LDcuNCw2LjUsNy43TDQsMTEuOWMtMC4yLDAuMy0wLjEsMC42LDAuMSwwLjhsMi42LDJjMCwwLjQtMC4xLDAuOC0wLjEsMS4yCgljMCwwLjQsMCwwLjgsMC4xLDEuMmwtMi42LDJjLTAuMiwwLjItMC4zLDAuNS0wLjEsMC44bDIuNSw0LjNjMC4xLDAuMywwLjUsMC40LDAuOCwwLjNsMy4xLTEuMmMwLjYsMC41LDEuMywwLjksMi4xLDEuMmwwLjUsMy4zCgljMCwwLjMsMC4zLDAuNSwwLjYsMC41aDVjMC4zLDAsMC42LTAuMiwwLjYtMC41bDAuNS0zLjNjMC44LTAuMywxLjQtMC43LDIuMS0xLjJsMy4xLDEuMmMwLjMsMC4xLDAuNiwwLDAuOC0wLjNsMi41LTQuMwoJYzAuMS0wLjMsMC4xLTAuNi0wLjEtMC44TDI1LjIsMTcuMnogTTE2LDIwLjNjLTIuNCwwLTQuMy0xLjktNC4zLTQuM3MxLjktNC4zLDQuMy00LjNzNC4zLDEuOSw0LjMsNC4zUzE4LjQsMjAuMywxNiwyMC4zeiIvPgo8L3N2Zz4K);\\n\\n}\\n\\n#u .lb {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgNDYgNDYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ2IDQ2OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yMywyM2MyLjksMCw1LjItMi4zLDUuMi01LjJzLTIuMy01LjItNS4yLTUuMnMtNS4yLDIuMy01LjIsNS4yUzIwLjEsMjMsMjMsMjN6IE0yMywyNS42CgljLTMuNSwwLTEwLjQsMS43LTEwLjQsNS4ydjIuNmgyMC43di0yLjZDMzMuNCwyNy4zLDI2LjUsMjUuNiwyMywyNS42eiIvPgo8L3N2Zz4K);\\n}\\n\\n#u1 a.pf {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzZENkQ2RDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNS4yLDE3LjJjMC0wLjQsMC4xLTAuOCwwLjEtMS4yYzAtMC40LDAtMC44LTAuMS0xLjJsMi42LTJjMC4yLTAuMiwwLjMtMC41LDAuMS0wLjhsLTIuNS00LjMKCWMtMC4xLTAuMy0wLjUtMC40LTAuOC0wLjNsLTMuMSwxLjJjLTAuNi0wLjUtMS4zLTAuOS0yLjEtMS4ybC0wLjUtMy4zYzAtMC4zLTAuMy0wLjUtMC42LTAuNWgtNWMtMC4zLDAtMC42LDAuMi0wLjYsMC41bC0wLjUsMy4zCgljLTAuOCwwLjMtMS40LDAuNy0yLjEsMS4yTDcuMyw3LjRDNyw3LjMsNi43LDcuNCw2LjUsNy43TDQsMTEuOWMtMC4yLDAuMy0wLjEsMC42LDAuMSwwLjhsMi42LDJjMCwwLjQtMC4xLDAuOC0wLjEsMS4yCgljMCwwLjQsMCwwLjgsMC4xLDEuMmwtMi42LDJjLTAuMiwwLjItMC4zLDAuNS0wLjEsMC44bDIuNSw0LjNjMC4xLDAuMywwLjUsMC40LDAuOCwwLjNsMy4xLTEuMmMwLjYsMC41LDEuMywwLjksMi4xLDEuMmwwLjUsMy4zCgljMCwwLjMsMC4zLDAuNSwwLjYsMC41aDVjMC4zLDAsMC42LTAuMiwwLjYtMC41bDAuNS0zLjNjMC44LTAuMywxLjQtMC43LDIuMS0xLjJsMy4xLDEuMmMwLjMsMC4xLDAuNiwwLDAuOC0wLjNsMi41LTQuMwoJYzAuMS0wLjMsMC4xLTAuNi0wLjEtMC44TDI1LjIsMTcuMnogTTE2LDIwLjNjLTIuNCwwLTQuMy0xLjktNC4zLTQuM3MxLjktNC4zLDQuMy00LjNzNC4zLDEuOSw0LjMsNC4zUzE4LjQsMjAuMywxNiwyMC4zeiIvPgo8L3N2Zz4K);\\n}\\n\\n#u1 a.bri {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzZENkQ2RDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLjcsOS44aDYuMlYzLjdIMy43VjkuOHogTTEyLjksMjguM2g2LjJ2LTYuMmgtNi4yVjI4LjN6IE0zLjcsMjguM2g2LjJ2LTYuMkgzLjdWMjguM3ogTTMuNywxOS4xaDYuMnYtNi4yCglIMy43VjE5LjF6IE0xMi45LDE5LjFoNi4ydi02LjJoLTYuMlYxOS4xeiBNMjIuMiwzLjd2Ni4yaDYuMlYzLjdIMjIuMnogTTEyLjksOS44aDYuMlYzLjdoLTYuMlY5Ljh6IE0yMi4yLDE5LjFoNi4ydi02LjJoLTYuMlYxOS4xCgl6IE0yMi4yLDI4LjNoNi4ydi02LjJoLTYuMlYyOC4zeiIvPgo8L3N2Zz4K);\\n}\\n\\n#s_usersetting_top {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IuWbvuWxgl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIKCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6IzZENkQ2RDt9Cjwvc3R5bGU+CjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNS4yLDE3LjJjMC0wLjQsMC4xLTAuOCwwLjEtMS4yYzAtMC40LDAtMC44LTAuMS0xLjJsMi42LTJjMC4yLTAuMiwwLjMtMC41LDAuMS0wLjhsLTIuNS00LjMKCWMtMC4xLTAuMy0wLjUtMC40LTAuOC0wLjNsLTMuMSwxLjJjLTAuNi0wLjUtMS4zLTAuOS0yLjEtMS4ybC0wLjUtMy4zYzAtMC4zLTAuMy0wLjUtMC42LTAuNWgtNWMtMC4zLDAtMC42LDAuMi0wLjYsMC41bC0wLjUsMy4zCgljLTAuOCwwLjMtMS40LDAuNy0yLjEsMS4yTDcuMyw3LjRDNyw3LjMsNi43LDcuNCw2LjUsNy43TDQsMTEuOWMtMC4yLDAuMy0wLjEsMC42LDAuMSwwLjhsMi42LDJjMCwwLjQtMC4xLDAuOC0wLjEsMS4yCgljMCwwLjQsMCwwLjgsMC4xLDEuMmwtMi42LDJjLTAuMiwwLjItMC4zLDAuNS0wLjEsMC44bDIuNSw0LjNjMC4xLDAuMywwLjUsMC40LDAuOCwwLjNsMy4xLTEuMmMwLjYsMC41LDEuMywwLjksMi4xLDEuMmwwLjUsMy4zCgljMCwwLjMsMC4zLDAuNSwwLjYsMC41aDVjMC4zLDAsMC42LTAuMiwwLjYtMC41bDAuNS0zLjNjMC44LTAuMywxLjQtMC43LDIuMS0xLjJsMy4xLDEuMmMwLjMsMC4xLDAuNiwwLDAuOC0wLjNsMi41LTQuMwoJYzAuMS0wLjMsMC4xLTAuNi0wLjEtMC44TDI1LjIsMTcuMnogTTE2LDIwLjNjLTIuNCwwLTQuMy0xLjktNC4zLTQuM3MxLjktNC4zLDQuMy00LjNzNC4zLDEuOSw0LjMsNC4zUzE4LjQsMjAuMywxNiwyMC4zeiIvPgo8L3N2Zz4K);\\n}\\n\\n#imsg {\\n               background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4yLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0i5Zu+5bGCXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDojNkQ2RDZEO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjUuMyw0LjZoLTE5QzUsNC42LDMuOSw1LjcsMy45LDdsMCwyMS40bDQuOC00LjhoMTYuNmMxLjMsMCwyLjQtMS4xLDIuNC0yLjRWN0MyNy43LDUuNywyNi42LDQuNiwyNS4zLDQuNnoNCgkgTTIyLjksMTguOUg4LjZ2LTIuNGgxNC4zVjE4Ljl6IE0yMi45LDE1LjNIOC42di0yLjRoMTQuM1YxNS4zeiBNMjIuOSwxMS43SDguNlY5LjRoMTQuM1YxMS43eiIvPg0KPC9zdmc+DQo=);\\n}\\n\\n\\n\\n\\n/*========= Ad Block ========= */\\n\\ndiv[style*=\\\"visibility:visible\\\"] {\\n    display: none !important;\\n    visibility: hidden !important;\\n    opacity: 0;\\n    height: 0px;\\n    overflow: hidden;\\n}\\n\\nbody>div[style*='position: absolute;'],\\nbody>div[style*='position: fixed;'],\\n#contnet_left>div[id=\\\"10\\\"]~div[id=\\\"1\\\"],\\n#contnet_left>div[id=\\\"20\\\"]~div[id=\\\"1\\\"],\\n#contnet_left>div[id=\\\"40\\\"]~div[id=\\\"1\\\"],\\n#contnet_left>div[id=\\\"60\\\"]~div[id=\\\"1\\\"],\\n#contnet_left>div[id=\\\"80\\\"]~div[id=\\\"1\\\"],\\n#contnet_left>div[id=\\\"100\\\"]~div[id=\\\"1\\\"],\\n#content_left>div:not([id])\\n  {\\n    display: none!important;\\n  }\\n\\n#content_left>div[style*=\\\"display:block !important\\\"]\\n  {\\n    position: absolute!important;\\n    top: -5000px!important;\\n  }\\n\\n\\n/*Empty*/\\n/*Empty*/\\n.c-container {\\n               /*border: 1px solid #EEE;*/\\n               \\n               background: #fff;\\n               border-radius: 2px;\\n               padding: 25px;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               box-shadow: 0 1px 4px 0 rgba(0, 0, 0, 0.14);\\n               width: 549px;\\n}\\nh3 a:visited {\\n               opacity: 0.4 !important;\\n               color: #bbb !important;\\n}\\n.c-container:hover {\\n               transition: all 500ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               box-shadow: rgba(0, 0, 0, 0.117647) 0px 1px 6px, rgba(0, 0, 0, 0.117647) 0px 1px 4px;\\n}\\n.c-container:active {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n               box-shadow: rgba(0, 0, 0, 0.188235) 0px 10px 30px, rgba(0, 0, 0, 0.227451) 0px 6px 10px;\\n}\\n.t {\\n               padding-bottom: 10px;\\n}\\n.c-border {\\n               width: 559px;\\n               margin-left: -25px;\\n               box-shadow: none !important;\\n               margin-top: 17px;\\n               margin-bottom: 23px;\\n               border-top: #EEE 1px solid;\\n               border-bottom: #EEE 1px solid;\\n}\\n#help {\\n               padding-left: 107px !important;\\n}\\n.c-tools a {\\n               border: 0px !important;\\n}\\n.f13 a:hover {\\n               border: none !important;\\n}\\n.f13 .m:hover {\\n               border-bottom: solid 1px #666 !important;\\n}\\n.g .m:hover {\\n               border-bottom: solid 1px #666 !important;\\n}\\n.c-row a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\n.c-span6 a:hover {\\n               border-bottom: none;\\n}\\n.op_vd_mininewest_link:hover {\\n               opacity: 0.8;\\n}\\n.op-tieba-offical-lookmore a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\nop-tieba-general-lookmore a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\n.c-tip-menu ul li a {\\n               color: #4879BD !important;\\n}\\nh3 a:hover {\\n               border: none !important;\\n               opacity: 0.7;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\nh3 a {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.sitelink_summary a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\n.c-gray:hover {\\n               border-bottom: #666 1px solid;\\n}\\n.op_kefutable_committel:hover {\\n               border-bottom: #666 1px solid;\\n}\\n.op-soft-btnbox a:hover {\\n               border: none !important;\\n}\\n.op-soft-as-pc-downbtn {\\n               margin-left: 0px !important;\\n               color: #fff;\\n               background-color: #4879BD;\\n               padding: 3px 15px;\\n               border-radius: 2px;\\n               font-size: 14px;\\n               transition: all 0.3s ease;\\n               border: none;\\n               margin-top: -3px;\\n}\\n.op-soft-as-pc-downbtn:hover {\\n               background-color: #7098D0;\\n               transition: all 0.3s ease;\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               background-image: none;\\n}\\n.c-btn-primary {\\n               margin-left: 0px !important;\\n               color: #fff;\\n               background-color: #4879BD;\\n               padding: 3px 15px;\\n               border-radius: 2px;\\n               font-size: 14px;\\n               transition: all 0.3s ease;\\n               border: none;\\n               margin-top: -3px;\\n}\\n.c-btn-primary:hover {\\n               background-color: #7098D0;\\n               transition: all 0.3s ease;\\n               box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\\n               background-image: none;\\n}\\n.op-soft-title a:hover {\\n               border: none !important;\\n               opacity: 0.7;\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.op-soft-title a {\\n               transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\\n}\\n.nums {\\n               width: 598px;\\n}\\n.search_tool_conter {\\n               width: 598px;\\n}\\n.op_offical_weibo_other a:hover {\\n               text-decoration: none !important;\\n}\\n.op_offical_weibo_info a:hover {\\n               text-decoration: none !important;\\n}\\n.op_offical_weibo_content a:hover {\\n               text-decoration: none !important;\\n}\\n.c-btn {\\n               border: none !important;\\n}\\n.op-zx-new-mvideo-info:hover {\\n               border-bottom: none;\\n}\\n.op-zx-new-mvideo-rlt a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\n.op-zx-new-mvideo-oneline a:hover {\\n               border-bottom: #4879BD 1px solid;\\n}\\n.hint_common_restop {\\n               color: #EA4335;\\n               font-size: medium;\\n               font-weight: bold;\\n}\\n.op-tieba-general-main-col p:hover {\\n               border: none !important;\\n}\\n.c-text {\\n               background: #4879BD;\\n               color: #fff;\\n               border: #4879BD 1px solid;\\n               padding-top: 3px;\\n               border-radius: 2px;\\n}\\n.c-text:hover {\\n               background: none;\\n               color: #4879BD;\\n               border: #4879BD 1px solid !important;\\n               padding-top: 3px;\\n               border-radius: 2px;\\n}\\n/*Background Empty*/\\n\\n.container_l, .op-img-star-divide-low > a {\\n    width: auto !important;\\n}\\n\\n#content_left {\\n    width: 93%!important;\\n    padding-left: 4%!important;\\n}\\n#content_left > .c-container, #content_left > [class^=\\\"result\\\"] {\\n    display: block !important;\\n    width: 48% !important;\\n    min-width: 568px !important;\\n    min-height: 116px !important;\\n    float: left !important;\\n    margin: 0.4% !important;\\n    padding: 8px 5px 3px 5px !important;\\n    table-layout: fixed !important;\\n    border-collapse: separate !important;\\n    overflow: hidden !important;\\n}\\n\\n.s_tab, .nums, .search_tool_conter, #rs, .to_tieba, .to_zhidao_bottom {\\n    margin: 0 auto!important;\\n}\\n\\n#page, #s_tab {\\n    padding-left: 0px !important;\\n    text-align: center!important;\\n}\\n\\nbody[link='#0000cc'] .s_form {\\n    width:760px!important;\\n    margin:0 auto !important;\\n    transform:translatex(-40px);\\n}\\n\\n#content_right, .c-recommend, body > div[class=\\\"result-op xpath-log\\\"], #content_left > * {\\n    display: none !important;\\n}\\n\\n/*For Super_preloaderPlus script*/\\n#sp-fw-container {\\n    transform:translatex(-200px) translatey(13px);\\n}\",\"oldVersion\":\"22.05\"}"},"ts":1574751670226},"enabled":false,"position":11,"file_url":"https://greasyfork.org/scripts/14178-ac-baidu-%E9%87%8D%E5%AE%9A%E5%90%91%E4%BC%98%E5%8C%96%E7%99%BE%E5%BA%A6%E6%90%9C%E7%8B%97%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2-%E5%8E%BB%E5%B9%BF%E5%91%8A-favicon-%E5%8F%8C%E5%88%97/code/AC-baidu:%E9%87%8D%E5%AE%9A%E5%90%91%E4%BC%98%E5%8C%96%E7%99%BE%E5%BA%A6%E6%90%9C%E7%8B%97%E8%B0%B7%E6%AD%8C%E6%90%9C%E7%B4%A2_%E5%8E%BB%E5%B9%BF%E5%91%8A_favicon_%E5%8F%8C%E5%88%97.user.js","uuid":"5fbd978f-f25f-4323-a888-b0a8f62cd8f0","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICBBQy1iYWlkdTrph43lrprlkJHkvJjljJbnmb7luqbmkJzni5fosLfmrYzmkJzntKJf5Y675bm/5ZGKX2Zhdmljb25f5Y+M5YiXCi8vIEBuYW1lOmVuICAgICAgICAgQUMtYmFpZHU6Z29vZ2xlX3NvZ291X1JlZGlyZWN0UmVtb3ZlX2Zhdmljb25fYWRhd2F5X1R3b0xpbmUKLy8gQG5hbWU6emggICAgICAgICBBQy1iYWlkdTrph43lrprlkJHkvJjljJbnmb7luqbmkJzni5fosLfmrYzmkJzntKJf5Y675bm/5ZGKX2Zhdmljb25f5Y+M5YiXCi8vIEBuYW1lOnpoLUNOICAgICAgQUMtYmFpZHU66YeN5a6a5ZCR5LyY5YyW55m+5bqm5pCc54uX6LC35q2M5pCc57SiX+WOu+W5v+WRil9mYXZpY29uX+WPjOWIlwovLyBAbmFtZTpqYSAgICAgICAgIEFDLWJhaWR1OumHjeWumuWQkeacgOmBqeWMlkJhaWR144Gu5pCc54uXR29vZ2xl5qSc57Si57WQ5p6c44Gu44Oq44OA44Kk44Os44Kv44OI6Zmk5Y67K+OBq+W6g+WRil9mYXZpY29uCi8vIEBkZXNjcmlwdGlvbiAgICAgMS7nuZ7pgY7nmb7luqbjgIHmkJzni5fjgIHosLfmrYzjgIHlpb3mkJzmkJzntKLntZDmnpzkuK3nmoToh6rlt7HnmoTot7PovYnpj4jmjqXvvIznm7TmjqXoqKrllY/ljp/lp4vntrLpoIEt5Y+N5q2j6YO96IO955yL5oeCIDIu5paw5aKe5oum5oiq55m+5bqm55m+5a625Y+355qE5peg55So5o6o5bm/5pWw5o2uLeaUr+aMgeWFtuS7luermeeCuSAzLuWOu+mZpOeZvuW6pueahOWkmuS9meW5v+WRiiA05re75YqgRmF2aWNvbuaYvuekuiA1LumhtemdokNTUyA2Lua3u+WKoOiuoeaVsCA3LuW8gOWFs+mAieaLqeS7peS4iuWKn+iDvQovLyBAZGVzY3JpcHRpb246ZW4gIDEuYnlwYXNzIHRoZSByZWRpcmVjdCBsaW5rIGF0IGJhaWR1XHNvZ291XGdvb2dsZVxoYW9zb3U7IDIucmVtb3ZlIGFkcyBhdCBiYWlkdTsgMy5hZGQgRmF2aWNvbiBmb3IgZWFjaCB3ZWJzaXRlOyA0LnJlbmRlciB5b3VyIG93biBzdHlsZTsgNS5jb3VudGVyOyBTd2l0Y2ggdG8gaGFuZGxlIGFsbAovLyBAZGVzY3JpcHRpb246amEgIDEu6L+C5ZueQmFpZHXjgIFTb2dvdeOAgUdvb2dsZeOAgUhhb3NvdeaknOe0ouaknOe0oue1kOaenOOBruS4reOBruiHquWIhuOBrumBt+enu+ODquODs+OCrzsgMi5CYWlkdeOBruS9meWIhuOBquW6g+WRiuOCkuWPluOCiumZpOOBjzsgMy7jgrPjg6Hjg7Pjg4jjgpLov73liqA7IDQu44Oa44O844K444Gu44Kr44K544K/44OgQ1NQOyA1LuOCq+OCpuODs+ODiOOCkui/veWKoDsgNi7jgrnjgqTjg4Pjg4Hjga/ku6XkuIrjga7mqZ/og73jgpLpgbjmip7jgZfjgb7jgZnjgIIKLy8gQGljb24gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2xhbmdyZW4xMzUzL3piSW1nL21hc3Rlci9pbWcwL2ljb24uanBnCi8vIEBhdXRob3IgICAgICAgICAgQUMKLy8gQGxpY2Vuc2UgICAgICAgICBHUEwtMy4wLW9ubHkKLy8gQGNyZWF0ZSAgICAgICAgICAyMDE1LTExLTI1Ci8vIEBydW4tYXQgICAgICAgICAgZG9jdW1lbnQtc3RhcnQKLy8gQHZlcnNpb24gICAgICAgICAyMy4yOQovLyBAY29ubmVjdCAgICAgICAgIHd3dy5iYWlkdS5jb20KLy8gQGluY2x1ZGUgICAgICAgICAqOi8vaXB2Ni5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICo6Ly93d3cuYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vbS5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgICAgICo6Ly94dWVzaHUuYmFpZHUuY29tL3MqCi8vIEBpbmNsdWRlICAgICAgICAgKjovL3d3dy5zb2dvdS5jb20vd2ViKgovLyBAaW5jbHVkZSAgICAgICAgICo6Ly93d3cuc29nb3UuY29tL3NpZSoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vd3d3LnNvZ291LmNvbS9zb2dvdSoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vd3d3LnNvZ291LmNvbS90eCoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vd3d3LnNvLmNvbS9zPyoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vKi5iaW5nLmNvbS8qCi8vIEBpbmNsdWRlICAgICAgICAgKjovL2VuY3J5cHRlZC5nb29nbGUuKi9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgKjovLyouZ29vZ2xlKi9zZWFyY2gqCi8vIEBpbmNsdWRlICAgICAgICAgKjovLyouZ29vZ2xlKi93ZWJocCoKLy8gQGluY2x1ZGUgICAgICAgICAqOi8vd3d3Lmdvb2dsZSovYWMtbm90ZXhpc3QqCi8vIEBpbmNsdWRlICAgICAgICAgKjovLyouemhpaHUuY29tLyoKLy8gQGV4Y2x1ZGUgICAgICAgICAqOi8vKi5nb29nbGUqL3NvcnJ5KgovLyBAbmFtZXNwYWNlICAgICAgIDEzNTM0NjQ1MzlAcXEuY29tCi8vIEBzdXBwb3J0VVJMICAgICAgaHR0cHM6Ly9xbS5xcS5jb20vY2dpLWJpbi9xbS9xcj9rPWZPZzhpajZUdXdPQWZTOGcxNkdSWU5mNVlZRnU1Q3J3Jmp1bXBfZnJvbT0mYXV0aD0tbDA1cGFhc3JQZTV6aWd0NWFoZHpuX2R6WGlCMWpKXwovLyBAaG9tZS11cmwgICAgICAgIGh0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvemgtVFcvc2NyaXB0cy8xNDE3OAovLyBAaG9tZS11cmwyICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9sYW5ncmVuMTM1My9HTV9zY3JpcHQKLy8gQGhvbWVwYWdlVVJMICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMTQxNzgKLy8gQGNvcHlyaWdodCAgICAgICAyMDE3LCBBQwovLyBAbGFzdG1vZGlmaWVkICAgIDIwMTktMTItMTYKLy8gQGZlZWRiYWNrLXVybCAgICBodHRwczovL3FtLnFxLmNvbS9jZ2ktYmluL3FtL3FyP2s9Zk9nOGlqNlR1d09BZlM4ZzE2R1JZTmY1WVlGdTVDcncmanVtcF9mcm9tPSZhdXRoPS1sMDVwYWFzclBlNXppZ3Q1YWhkem5fZHpYaUIxakpfCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4xMi0xNi1WMjMuMjkg6Ieq5a6a5LmJ6Iux5paH5ZKM5Lit5paH55qE5pi+56S65pWI5p6cICYmIOS/ruWkjeS4iuS4queJiOacrOWvvOiHtOeahGJsb2Nr5oyJ6ZKu5Lii5aSx55qE6Zeu6aKYICYmIOS/ruWkjemDqOWIhueZvuW6puWGheWuueaXoOazleaLpuaIqueahOaDheWGtQovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMTItMTUtVjIzLjI4IOeUseS6juWfn+WQjeWkh+ahiOS4ouWkseS6hu+8jOWPquiDveaNouS4gOS4qiAmJiDkv67lpI3oh6rlt7HorqTkuLrnmoTosLfmrYxmYXZpY29u5bey5a2Y5Zyo55qE6Zeu6aKY77yM5a6e6ZmF5LiK6LC35q2MZmF2aWNvbuW5tuayoeacieaYvuekugovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMTEtMjgtVjIzLjI3IOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOafkOS6m+aooeW8j+S4i3dpbmRvd+WvueixoeaXoOazleiOt+WPluWvvOiHtOeahOW8guW4uOi/m+iAjOWvvOiHtOeahOiEmuacrOaXoOazlei/kOihjOeahGJ1ZyAmIOS8mOWMlueZvuW6puagt+W8j+WGheWuueWSjOiwt+atjOWNleWIl+eahOWBj+WPs+eahOaDheWGteS7peWPiuW/heW6lOS4reiLseaWh+eahOWBj+enu+S9jee9riDkv67lpI3lsY/olL3lip/og73lpLHmlYjnmoRidWcKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjEwLTA1LVYyMy4yNSDkv67lpI3osLfmrYzmoLflvI/jgIHlv4XlupTmoLflvI/jgIHnmb7luqbnmoTpg6jliIbmoLflvI/pl67popgu5L+u5aSN5bGP6JS95qih5byP5ZyoY2hyb21l5YaF5qC45LiK55qE5bCPYnVnIOaWsOWinuiHquWKqOWFqOiLseaWh+aooeW8jyDkv67lpI3ooqvnv7vor5Hlr7zoh7TnmoRidWcKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjA5LTEzLVYyMy4yNCDkv67lpI3osLfmrYznlLHkuo7pobXpnaLmlLnliqjlr7zoh7TnmoTmj5LlhaXkuYvlkI7nmoTmoLflvI/lj5jljJYgJiDkv67lpI3kuIrmrKHmm7TmlrDlr7zoh7TnmoTph43lrprlkJHlpLHmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjA5LTEyLVYyMy4yMyDntKfmgKXkv67lpI3osLfmrYzpobXpnaLnmoRidWcgJiDlop7liqDml7bpl7TliKTmlq3mmK/lkKbph43nva7mnIDmlrDnmoToh6rlrprmoLflvI8gJiDkv67lpI3mlbTkvZPpobXpnaLnmoTlhoXlrZjljaDnlKjku6Xlj4rph4fnlKhSQUbmnaXmm7/ku6NzZXRJbnRlcnZhbCAmIOS8mOWMluaLpuaIquWIl+ihqOW5tuS/ruWkjeWIl+ihqOaVsOaNrui/h+WkmueahOWIoOmZpOWksei0peeahOmXrumimCAmIOaWsOWinuaUr+aMgemAmumFjeespuaLpuaIquaooeW8jyAmIOWFqOmDqOS9v+eUqOWkhOeQhue7k+aenOWQjueahOmhuuW6jwovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDgtMDktVjIzLjIyIDEu56e76Zmk5omL5py655m+5bqm55qE5bm/5ZGK5YaF5a65IDIu5pu05o2i5pWw5o2u5p2l5rqQ5Zyw5Z2A5Li6aWJhaWR1Lm50YW93LmNvbemZjeS9juacjeWKoeWZqOi0n+i9vSAzLuWPmOabtDrpobXpnaLliqDovb3kuI3ovb3lhaVpZnJhbWXvvIzngrnlh7vmmL7npLrlkI7ovb3lhaVpZnJhbWUgNC7mnKrlkK/nlKjoh6rlrprkuYnmoLflvI/ml7bpl7Tov4fplb/kvJrmm7TmlrDmnIDmlrDnmoTmoLflvI/ooaggNS7kv67lpI3lkITlpKfmkJzntKLnmoTmoLflvI/pl67popgt5L6n56e7K+iDjOaZr+mAj+aYjiA2LuS/ruWkjWVkZ2XpppbpobXnmoTpl67popggNy5ibG9ja+Wxj+iUveS5i+WQjuWPr+S7peebtOaOpeWPlua2iOS6hiA4LumHh+eUqOmUmeivr+mhteaUr+aMgeWQjue7reeahGdvb2dsZeeahGlmcmFtZeW1jOWFpQovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDYuMTYtVjIzLjIxIOS/ruWkjeWcqOWxj+iUveWIl+ihqOS4reWKoOWFpeW8guW4uOaVsOaNruWvvOiHtOeahOmDqOWIhuaVsOaNruW8guW4uO+8jOWQjOaXtui/mOaXoOazleenu+mZpOeahGJ1ZyAmJiDkv67mlLlCYWlkdeWtpuacr+eahOeUn+aViOmhtemdou+8jOmBv+WFjeWvvOiHtOWFtuS7luWtpuacr+mhtemdoueahOaYvuekuuWHuumXrumimCAmJiDkv67lpI3lnKjnvKnmlL4xNTAl55qE5oOF5Ya15LiL5pCc57Si5qGG5L2N572u5byC5bi455qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4wNi4xNS1WMjMuMjAg5bC96YeP5L+u5pS55ZyoYWRndWFyZOS4iueahOmDqOWIhuWFvOWuuemXrumimC0t5aaC5p6c5pyJ6Zeu6aKY6K6w5b6X5Y+r5oiRCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4wNi4wNS1WMjMuMTkg5L+u5aSN55Sx5LqO5Y675bm/5ZGK5YW25LuW5o+S5Lu25a+86Ie055qE5pys6ISa5pys5byC5bi455qE6Zeu6aKYIOS/ruWkjeW/heW6lOS4iueahOagt+W8j+mDqOWIhuW8guW4uOmXrumimCDkv67lpI3lm77moIfnmoTlnLDlnYDlvILluLjpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjA1LjA2LVYyMy4xOCDkv67lpI1CYWlkdeWtpuacr+eahOW8guW4uO+8jOS4iuasoeS/ruaUueS6hu+8jOS9huaYr+S7o+eggeayoeacieeUn+aViCAmJiDmlrDlop5CYWlkdUxpdGXnmoTmoLflvI/mlYjmnpwtZnJvbSB5aWNsZWFyIF8gcGFuX2NhbyAmJiDkvJjljJbpobXpnaLmmL7npLrmlYjmnpzvvIzliqDlv6vmoLflvI/nmoTovb3lhaXpgJ/luqYgJiYg5qC55o2u55Sz5p2w6ICB5Y+45py655qE5o6o6I2Q5L+u5pS55LqG6K645aSa5q6L55WZ55qEYnVn5bm25LiU5LyY5YyW5LqG6aG16Z2i55qE5pWw5o2u5o+Q56S6Ci8vIEBub3RlICAgICAgICAgICAgMjAxOS4wNS4wNS1WMjMuMTcg5L+u5aSNQmFpZHXpppbpobXnmoTlm77moIflvILluLjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjA0LjI2LVYyMy4xNSDkv67lpI3miqTnnLzoibLosIPoioLvvJvmlrDlop7kuI3mmL7npLpsb2Nr5oyJ6ZKu6YCJ6aG577yb5paw5aKe6LC35q2M5Lyq6KOF55m+5bqm77yb5L+u5aSN6LC35q2M5ZKM55m+5bqm6aG16Z2i55qE5pCc57Si5qC35byP77yb5L+u5aSN55m+5bqm5a2m5pyv6aG16Z2i5byC5bi4Ci8vIEBub3RlICAgICAgICAgICAgMjAxOS4wMy4zMC1WMjMuMTQg5pu05paw5LiA5LiL6K+05piO5paH5qGjICYmIOa3u+WKoOS4gOS4qmdpdGh1YueahOi3s+i9rOaMiemSriAmJiDmlrDlop7og4zmma/oibIKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAzLjI4LVYyMy4xMyDmm7TmlrAt56e76Zmk6YOo5YiG5byC5bi455qE55m+5bqm55m95bGP6Zeu6aKYLuaWsOWfn+WQjWJhaWR1Lm145bm25LiN5piv55m+5bqm5peX5LiL55qE5Zyw5Z2A77yM5omA5Lul6Lez6L+H44CC6aG65L6/5Yi35LiA5Liq54mI5pys77yM5L+u5aSN6LC35q2M55qEcmVjYXB0dXJl55qE6Zeu6aKY77yM5oSf6LCi6ICB5Y+45py64oCcYnJlYXRoMzY14oCdCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4wMi4xNi1WMjMuMTIg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE5LiA5aCGYnVnICYg5pu05o2i6LWE5rqQ44CC44CC44CC6IW+6K6vQ0RO55yf55qE5LiN5aSf5L2g5Lus55So77yM6L+Y5piv55So55m+5bqm55qE5YWN6LS5Y2Ru5ZCnCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4wMi4xNS1WMjMuMTEg5L+u5aSN5ZKMR29vZ2xlIFNlYXJjaCBFeHRyYSBCdXR0b27nmoTlhbzlrrnpl67popjjgILkv67lpI3lnLDlnYDmnInml7blgJnkuI3og73orr/pl67nmoTpl67popjjgILkv67lpI3ml6dmZuS4iueahGZvckVhY2jlkoxpbm5lclRleHTkuI3og73nlKjnmoTpl67popjjgILliKDpmaTpg6jliIbml6fml6Xlv5cKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAyLjE0LVYyMy4xMCDlronpnZnngrnvvIzmiJHmnInlpbPmnIvkuoZpX2njgIImIOS/ruWkjeeZvuW6puWbvueJh+WkseaViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDIuMTMtVjIzLjA5IOaPkOS+m+mAiemhuS3nm7TmjqXliKDpmaTlt7LlsY/olL3nmoTlhoXlrrnvvIzpgb/lhY3nnIvliLDkuIDkupvlnoPlnL7ml6DnlKjkv6Hmga/vvJvkv67lpI3mrovnlZlidWflnKjljZXliJfml7bnm7jlhbPmkJzntKLlrr3luqblvILluLjvvJvkvJjljJbnmb7luqblm77moIfkuLrpgI/mmI7lm77moIcKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAxLjI5LVYyMy4wOCDkv67lpI3ku47pppbpobXov5vlhaXnmoTlr7zoh7TnmoRibG9ja+WKn+iDveWkseaViOeahOmXrumimO+8m+S/ruWkjeenu+WKqOmihOa1i+aMiemSruWkseaViOeahOmXrumimO+8m+aWsOWinuW5tuS/ruWkjeeZvuW6puaJi+acuueJiOeahOWFvOWuuemXrumimC3mlK/mjIHmiYvmnLrniYjph43lrprlkJHvvJvmlrDlop7ljp/lp4vlnLDlnYDlsZXnpLrvvIzlh4/lsJHnmb7luqbmm7TmlrDlr7zoh7TnmoTnnIvkuI3liLDlnLDlnYDnmoTpl67popjvvJvkvJjljJbmi6bmiKrliJfooajnmoTlsZXnpLrlkozliLfmlrDnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAxLjI1LVYyMy4wNyDkv67lpI1GYXZpb27liqDovb3lpLHotKXnmoTpl67popgt6L+Z5LiL5bCx5Y+v5Lul6Ieq5a6a5LmJZmF2aWNvbuS6hu+8jOS7peWJjemBl+eVmeS6huW+iOS5heeahGJ1Z+S6hiAmJiDnp7vpmaTpg6jliIZMT0flh4/lsI/ku6PnoIEKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAxLjI1LVYyMy4wNiDkv67lpI3nlLHkuo7ku6PnoIHkvJjljJbvvIzlr7zoh7TnmoRIdXlhbuWKn+iDveW8gOWQr+WQjuiEmuacrOWkseaViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDEuMjUtVjIzLjA1IOWBh+ijheWkp+WutuayoeWPkeeOsGJ1Z++8jOi1tue0p+abtOaWsOaQnOeLl+mhtemdoueahGJ1ZwovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDEuMjUtVjIzLjAzIOS8mOWMluaPkOekuuaViOaenDsg5L+u5aSN5pyJ5pe25YCZ6Ieq5a6a5LmJ5oyJ6ZKu5peg5rOV5pi+56S655qE5oOF5Ya177yb5paw5aKe5pCc54uX6aG16Z2i55qE5aSa5YiX5pWI5p6cCi8vIEBub3RlICAgICAgICAgICAgMjAxOS4wMS4yMy1WMjMuMDIg5L+u5aSN5Yid5aeL5YyW55qE5pe25YCZ5pWw5o2u5byC5bi45a+86Ie055qEYmxvY2vmi6bmiKrml6DmlYjnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE5LjAxLjIzLVYyMy4wMSDmlrDlop7or7TmmI4t5oSf6LCi5aSn56WeSmVmZmVyc29uIFNjaGVy55qE5oum5oiq6ISa5pysaHR0cHM6Ly9ncmVhc3lmb3JrLm9yZy96aC1DTi9zY3JpcHRzLzE2ODIuIFRoYW5rcyBmb3IgdGhlIHNjcmlwdCBvZiBKZWZmZXJzb24gU2NoZXIgV2l0aG91dCBoaXMgaGVscCBJIGNhbid0IEltcGxlbWVudCB0aGlzIEZ1bmN0aW9uLgovLyBAbm90ZSAgICAgICAgICAgIDIwMTkuMDEuMjMtVjIzLjAwIOaWsOWinuaLpuaIquaooeW8j++8jOWPr+S7peiHquWumuS5ieeahOmAieaLqeaLpuaIquafkOS4quWfn+WQje+8jOaLpuaIquaOieS9oOS4jeaDs+eci+eahOWGheWuuQovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMjUtVjIyLjA2IOenu+mZpOiwt+atjOW6lemDqOW5v+WRigovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMjItVjIyLjA1IOS/ruWkjeWwj+e7huiKgumXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMjItVjIyLjA0IOS/ruWkjeeZvuW6puaQnOe0ouKAnOWSqOivouKAneagj+ebruS4i+ayoeacieaQnOe0oue7k+aenOeahOmXrumimCAmJiDlkIzml7bkv67mlLnpg6jliIbmoLflvI8gJiYg5L+u5aSN6L6T5YWl5qGG5Y+z5L6n5peg5rOV54K55Ye76L6T5YWl55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4yMi1WMjIuMDMg5L+u5aSNZWRnZeeahOagt+W8j+mUmeS5semXrumimCAmJiDkv67lpI3osLfmrYzlj4zliJfmoLflvI/pl67popggJiYg5L+u5aSN55m+5bqm6aG26YOo5aSn56m655m955qE6Zeu6aKYICYmIOS/ruWkjeaUr+aMgURhcmtSZWFkZXIKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjEyLjIwLVYyMi4wMiDkv67lpI3moLflvI/liqDovb0gJiYg5L+u5aSN5oqk55y85qih5byP5pWI5p6cCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4yMC1WMjIuMDEg5pu05o2i5qC35byP6KGo5o+S5YWl5qih5byP77yM5bC96YeP6YG/5YWN6Zeq54OB6Zeu6aKYOyDkv67lpI1lZGdl5LiK6K+l5qih5byP55qE5YW85a656Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4xOS1WMjEuMTUg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE5oqk55y85qih5byP5aSx5pWI55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4xOS1WMjEuMTQg5L+u5aSN5ZyoZWRnZeS4iuagt+W8j+ayoeacieeUn+aViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMTktVjIxLjEzIOS/ruWkjeS4iuasoeabtOaWsOS7o+eggeW/mOiusOS/ruaUueWvvOiHtOeahGJ1Z++8jOS/ruWkjeeZvuW6puenu+WKqOmihOa1i+eahOmBl+eVmWJ1ZwovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMTgtVjIxLjEyIOe7p+e7reWKoOW/q+enu+mZpOW5v+WRiueahOWGheWuue+8jOWwvemHj+WHj+WwkemXqueDgeeahOaDheWGte+8m+WQkOanveS4gOS4i++8jOeZvuW6pueahOW5v+WRiuaYr+i2iuadpei2iueDpuS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMTgtVjIxLjExIOS/ruWkjeWcqOeJueauiuaDheWGteS4i+eahOagt+W8j+ihqOayoeacieeUn+aViOeahOmXrumimO+8jOWQjOaXtuiDveWkn+abtOW/q+mAn+eahOenu+mZpOW5v+WRiuWGheWuuQovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMTgtVjIxLjEwIOS/ruWkjeeJueauiuWFs+mUruWGheWuueaQnOe0ouS4i++8jOeUseS6juenu+mZpOW5v+WRiuWvvOiHtOeahOmhtemdoumhtumDqOeJueauiuagh+iusOaYvuekuuS4jeato+ehrueahOmXrumimOOAggovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMTgtVjIxLjkg5YaN5qyh5LyY5YyW5qC35byP6KGo5Yqg6L296YCf5bqm77yM6IO95pu05aW955qE5pu05b+r6YCf55qE5Yqg6L295qC35byP6ICM5LiN5b2x5ZON5Luj56CB6L+Q6KGMCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4wOC1WMjEuOCDkv67lpI1zcmNFbGVtZW505ZyoZmlyZWZveOaXp+eJiOacrOS4iuS4jeaUr+aMgeeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMDctVjIxLjcg5L+u5aSN5oqk55y86Imy55qE5byV5YWl77yb5L+u5aSNR03lsI/kuo40LjDniYjmnKznmoTlhbzlrrnpl67popjvvJvkvJjljJbpgInpobnnmoTkvY3nva7vvIzpgb/lhY3ov4fplb8KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjEyLjA2LVYyMS42IOaEn+iwok1vb25jYW7lr7nosLfmrYzmoLflvI/osIPmlbTnmoTlu7rorq7vvIzlt7Lnu4/ph4fnlKjkuobor6XmoLflvI/vvIzmlYjmnpznibnliKvlpb07IOWQjOaXtuS/ruWkjeS6huiwt+atjOWPs+S+p+agj+eahOS9jee9rumXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMDYtVjIxLjUgUF9Q5L+u5aSN5LiK5LiA54mI5rKh5pyJ5rWL6K+V5a+86Ie055qE5pSv5oyBVmlvbGVudE1vbmtleeS9huaYr+acieS4jeaUr+aMgUdyZWFzZU1vbmtleeeahOmXrumimO+8m+abtOaNomNzc+WcsOWdgO+8m+S/ruWkjeaKpOecvOiJsuWcqOeZvuW6puS4iueahOmDqOWIhuagt+W8j+mXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMDYtVjIxLjQg5L+u5aSNVmlvbGVudE1vbmtleeeahOaUr+aMge+8m+iHs+atpOW3sue7j+WujOWFqOaUr+aMgeS4ieWPqueMtOWtkChUYW1wZXJNb25rZXnjgIFWaW9sZW50TW9ua2V544CBR3JlYXNlTW9ua2V5KeS6hu+8m+WmguaenOi/mOaciUJVRy3nm7TmjqXliqDnvqTlj43ppogKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjEyLjA2LVYyMS4zIOS/ruWkjeWcqGVkZ2XkuIrmoLflvI/plJnkubHnmoTpl67popggJiYg5L+u5aSN5a695bqm6L+H5a6955qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMi4wNS1WMjEuMiDnp7vpmaTpu5jorqTnmoTmiqTnnLzmqKHlvI/jgILjgILjgIIKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjEyLjA1LVYyMS4xIOS/ruWkjUdyZWFzZU1vbmtleeS4jeaUr+aMgUdNX2dldFJlc291cmNlVGV4dOWvvOiHtOeahOagt+W8j+aXoOazleW8leWFpeeahOmXrumimO+8jOS9v+eUqOiHquW3seeahOacjeWKoeWZqOS4rei9rAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTIuMDUtVjIxLjAg5paw5aKe5b+F5bqU5Y2V5YiX44CB5Y+M5YiX44CB5aSa5YiX5bGV56S677yb5paw5aKe5oqk55y85qih5byP77yM5ZCE56eN6aKc6Imy6Ieq5a6a5LmJ6K6+572u77yb5L+u5aSN6LC35q2M5bey5rWP6KeI55qE572R5Z2A5pyq5Y+Y6Imy6Zeu6aKY77yb5LyY5YyW5LiA5a6a55qE6LWE5rqQ5Y2g55SoCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMC4xOC1WMjAuNSDkv67lpI3nlLHkuo7osLfmrYzmm7TmlrDlr7zoh7TnmoTmoLflvI/pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjEwLjA4LVYyMC40IOS/ruWkjeeUseS6juWOu+W5v+WRiuWvvOiHtOeahOWNoemhv+mXrumimCAmIOmHjeWGmWZhdmljb27mt7vliqDnmoTkvY3nva7lhYPntKAt5YeP5bCR6ZSZ5L2N5Lqn55SfCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4xMC4wMy1WMjAuMyDlm73luobml6Dkuoss5Yi354mI5pysOyDkv67lpI3lnKjkvqfovrnmoI/lvIDlkK/pnIDopoHlnKgxOTIw55qE5YiG6L6o546H5LiL55qE6Zeu6aKY77yM6buY6K6k5YWz6Zet5L6n6L655qCP55qE5qC35byP5pON5L2c77yM5aaC5p6c6ZyA6KaB5byA5ZCv55qE6K+d77yM5Zyo6Ieq5a6a5LmJ5qC35byP5Lit6K6+572u5byA5ZCv5Y2z5Y+v77yM5aKe5Yqg5LiJ5YiXfOWbm+WIl+aooeW8jwovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMTAuMDEtVjIwLjIg5L+u5aSN5oum5oiq5bm/5ZGK6L+H5aSa5a+86Ie055qE6aG16Z2i5pi+56S66Zeu6aKYLeacieS6m+ato+W4uOWcsOWdgOS5n+iiq+aLpuaIquS6hi0+5Ly85LmO5Y+R546w5LiN5piv6L+Z5Liq6ISa5pys55qEYnVnO+mCo+WwseWIt+S4queJiOacrOWQp++8jOato+WlveWkhOeQhuS4i+agt+W8j+e8k+WtmOmXrumimCAmIOWkp+WutuWbveW6huiKguW/q+S5kAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDkuMjEtVjIwLjEg5L+u5aSN5ZyoVmlvbGVudE1vbmtleeeahOWFvOWuuemXrumimCAmJiDmoLflvI/liqDovb3nvJPmhaLnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA5LjIxLVYyMC4wIOS/ruWkjemXqueDgemikee5geeahOmXrumimO+8m+S/ruWkjeeUseS6juaJqeWxleWSjOiEmuacrOaooeW8j+S4pOS4qkNTU+WQjOaXtuWKoOi9veWvvOiHtOeahOmXrumimO+8m+aWsOWinueCueWHu+S7u+aEj+S9jee9ruWFs+mXreiuvue9ruaMiemSru+8m+S/ruWkjeWcqGJpbmfkuIrnmoTorqHmlbDlmajkvY3nva7plJnor6/vvJvosIPmlbTpobXpnaLljZXpobXnmoTmoLflvI/vvIzov5nmrKHmmK/nnJ/nmoTlsYXkuK3kuoYKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA5LjE5LVYxOS44IOS/ruWkjVRhbXBlck1vbmtleeWSjOaJqeWxleaooeW8j+S4i+eahOWFvOWuuemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDkuMTktVjE5Ljcg5YiG56a75Y675bm/5ZGK5Yqf6IO95ZKM6Ieq5a6a5LmJ5qC35byP5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgICAgMjAxOC4wOS4xOC1WMTkuNiDkv67lpI3nlLHkuo5pbmZpbml0eeaJqeWxleeahOWcsOWdgOWvvOiHtOeahOeZvuW6puagt+W8j+ayoeaciei9veWFpeeahOmXrumimO+8m+S/ruWkjeS4h+W5tGJ1Z+S5i+aQnOe0oumihOa1i+aXoOaViOeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDkuMTgtVjE5LjUg5paw5aKe5pSv5oyB5omp5bGV5qih5byPLeaOqOiNkOS9v+eUqOaJqeWxle+8m+S/ruWkjeiwt+atjOWcsOWbvumhtemdoueahOi9veWFpemXrumimO+8m+mFjee9ruiEmuacrEdQTOWNj+iuru+8m+aUr+aMgeaXp+eJiOacrOeahGNocm9tZeS4iueahOiHquWumuS5ieaYvuekuue7k+aenOWNtOWcqOacgOW6lemDqOeahOmXrumimC3ml6Dms5Xop6PlhrPml6fniYjmnKxjaHJvbWXkuIrlj4zliJfnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA4LjMxLVYxOS40IOS/ruWkjTEuZ29vZ2xl6aG16Z2i5Lit6K6h5pWw5ZmoQ291bnRlcuWcqOi0puWPt+eZu+W9leWQjueahOaYvuekuumUmeS9jemXrumimO+8myAyLuaOkumZpOaOieeZvuW6puWPr+iDveWtmOWcqOeahGVycm9y5oOF5Ya155qE5Zyw5Z2A77ybIDMu5pu05o2iY3Nz5qC35byP5Zyw5Z2A77yM5oiR55qEQ0RO5rWB6YeP5pKR5LiN5L2P5LqGCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wOC4yNC1WMTkuMyDkv67lpI3osLfmrYzlm77niYflnKjljZXliJfmqKHlvI/kuIvnmoTplJnkvY3pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA4LjE3LVYxOS4yIOS/ruWkjeiwt+atjOWSjOeZvuW6pueahOmDqOWIhuagt+W8j+mXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDguMTYtVjE5LjEg57un57ut5L+u5aSN6LC35q2M5ZKM55m+5bqm5Y+M5YiX55qE6Zeu6aKY77yM6L+Z5qyh5bC96YeP6YeH55SoY3Nz5qC35byP6KGo5p2l6LCD5pW077yM5oSf6KeJ5pWI5p6c6L+Y5Y+v5LulCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wOC4xNC1WMTguOSDkv67lpI3osLfmrYzlj4zliJfnmoTnv7vpobXplJnkvY3nmoTpl67popg7IOeZvuW6puaQnOe0oue7k+aenOeahOmYtOW9seaooeW8jzsg6auY5YiG5bGP562J5oiR5om+5Yiw5LiA5Y+w6auY5YiG55qE5pi+56S65Zmo5YaN6K+05ZCnCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wOC4xMS1WMTguOCDntKfmgKUt5L+u5aSN5pu05paw6KeE5YiZ5a+86Ie055qE6LC35q2M5aSx5pWI55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wOC4xMC1WMTguNyDmjqjojZDljYfnuqfvvJrkv67mlLnnlJ/mlYjop4TliJnvvIzlsL3ph4/pgb/lhY3lvLnlh7rmj5DnpLrmm7TmlrDnqpflj6PvvJvkv67lpI0tY2hyb21lNHjniYjmnKznmoRidWfvvJvpooTorqHkuIvmrKHmm7TmlrDlpITnkIbpq5jliIblsY/mmL7npLrnlYzpnaLpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA4LjA4LVYxOC42IOabtOaWsOiEmuacrOWRveWQjTsg5bCd6K+V6Kej5YazaHR0cOayoeacieiHquWKqGh0dHBz55qE6Zeu6aKYLS0tLS0tLS3liLfniYjmnKzlj7cKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA4LjA0LVYxOC41IOS/ruWkjeWcqGNocm9tZeS4iuiEmuacrOWBtuWwlOayoeacieeUn+aViOeahOmXrumimO+8m+S/ruWkjeeZvuW6puaQnOe0oumhtumDqOS+p+enu+eahOaDheWGte+8m+S4gOWumuaDheWGteS4i+S/ruWkjeWPjOmhteeahOWIhuWIlwovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDcuMjUtVjE4LjQg5LuF5YGa5paH5pys6K+05piO5L+u5pS5LWVuLWpwOyDkuIvmrKHpooTorqHkv67mlLnnmb7luqbpppbpobXnmoTlub/lkYrpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA3LjI1LVYxOC4zIOWHj+WwkeS6huWBtuWwlOS7jummlumhteWKoOi9vei/m+adpeeahOaXtuWAmeagt+W8j+ihqOayoeaciei9veWFpeeahOmXrumimH7og73pgYfliLDpg6jliIbmoLflvI/ooajliqDovb3lpLHmlYjnmoTmg4XlhrXlvojlsJE75LyY5YyW5bm/5ZGK56e76ZmkCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNy4yNC1WMTguMiDkv67lpI3ku47nmb7luqbpppbpobXliqDovb3ov5vlhaXpobXpnaLml7bmoLflvI/ooajmsqHmnInovb3lhaXnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA3LjI0LVYxOC4xIOaVtOS9k+S8mOWMluagt+W8j+ihqOWKoOi9vemAn+W6pi3nmb7luqblkozosLfmrYznmoTnlYzpnaLnvo7ljJbkuIDkuIvlsLHovb3lhaXkuobnibnliKvlv6vvvJvkv67lpI3nmb7luqbmkJzntKLnmoTlsI/pk77mjqXnmoTph43lrprlkJHmsqHmnInmlLnvvJvkv67lpI3kuIvliJLnur/np7vpmaTpgInpobnnmoTkuIvliJLnur/np7vpmaTmqKHlvI8KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA3LjIxLVYxOC4wIOS/ruWkjeaQnOeLl+aQnOe0ouayoeacieiOt+WPluWIsOecn+WunumTvuaOpeeahOmXrumimO+8m+WkhOeQhueZvuW6pumHjeWumuWQkemAn+W6puWPiOW/q+WPiOWlve+8m+i/measoeabtOaWsOWwseaUr+aMgWVkZ2XkuobvvIzlkIzml7bnkIborrrkuIrmlK/mjIFzYWZhcmnvvIzluIzmnJvmtYvor5XvvJvlhbbmrKHkvJjljJbosLfmrYznmoTnlYzpnaLmoLflvI8KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA3LjEyLVYxNy45IOS/ruaUueajgOa1i+WPguaVsO+8jOWFvOWuueaUr+aMgU9wZXJh5rWP6KeI5Zmo77yb5pqC5pe26L+Y5piv5LiN5pSv5oyBRURHReeahOmTvuaOpemHjeWumuWQkeWKn+iDvQovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDcuMDctVjE3Ljgg5L+u5aSN55Sx5LqO5LiK5qyh5pu05paw5LiW55WM5p2v55WM6Z2i5pe25a+86Ie055qEc2hhZG93RE9N5YWz6Zet77yM54S25ZCO5bm/5ZGK5Ye6546w55qE6Zeu6aKY77yb5LyY5YyW5pW05L2T5Y675bm/5ZGK6KeE5YiZLS0t5pyJ5bel5YW35L2V5b+F6Ieq5bex6YCg6L2u5a2QLeacrOasoeeUqOS6hueZvuW6puiHquW4pmpxdWVyeeeahOafpeivouWHveaVsGhhcygpCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNi4yOS1WMTcuNyDkv67lpI3lj7PovrnmoI/lr7zoh7TnmoTlj7Pkvqfov4fpq5jvvIzlt6bkvqfnnIvkuI3op4HvvIzku6Xlj4roh6rlrprkuYnpobXpnaLmoLflvI/kuKLlpLHnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA2LjI3LVYxNy42IOaaguaXtuWFs+mXrVNoYWRvd0RPTeeahOenu+mZpOWKn+iDvS3lsL3ph4/kv53nlZnmkJzntKLkuJbnlYzmna/lip/og73lrozlloTjgILkv67lpI3lnKjmn5DkupvpobXpnaLkuIrohJrmnKzml6Dms5Xov5DooYznmoTmg4XlhrXjgILmlrDlop7oh6rlrprkuYnmoLflvI/nmoTovpPlhaXmoYYKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA2LjI2LVYxNy41IOm7mOiupOWFs+mXreWPs+i+ueagjy3mmKjlpKnlv5jkuoblhbPpl63kuoYKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA2LjI1LVYxNy40IDEu5L+u5aSN6LC35q2M5Y+M5YiX6Zeu6aKY77ybMi7kv67lpI3lj7PovrnmoI/lsZXnpLot5aW95Lqb5Lq66K+05Y675o6J5LmL5ZCO5LiN5aW955yL77ybMy7kvLzkuY7kuIrkuKrniYjmnKzlj4jmnInlpJrmrKHmj5LlhaXlr7zoh7TnmoTpobXpnaLljaHpob/mg4XlhrUt5YaN5qyh5L+u5aSN44CC44CC44CC5YW25LuW55qE5Ly85LmO5rKh5pyJ5LqG77yM5oOz6LW35YaN6K+0Ci8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNi4xNC1WMTcuMyDnlLHkuo5lZGdl5Lit6L+Y5piv5LiN5pSv5oyB6L+U5Zue55yf5a6e6ZO+5o6l77yM5LqO5piv5pqC5pe25bGP6JS95o6JZWRnZea1j+iniOWZqOaAu+eahOivt+axgu+8jOetieeMtOWtkOabtOaWsOS6huWGjeW8gOWQr+i/meS4quWKn+iDve+8m2Nvbm5lY3TlhYPntKDkuK3mt7vliqBiYWlkdS5jb23pgb/lhY3mir3po44KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA2LjEzLVYxNy4yIOWKoOW/q+afpeivoumAn+W6pi3lkIzml7bkuI3lho3lvLnnqpfor7TmlrDov57mjqXvvIzml6DpnIDorr7nva7nibnmrorlj4LmlbDvvJvnvLrngrnvvJpMT0fkuK3kvJrmnInorrjlpJpSZWZ1c2VkIHRvIGNvbm5lY3QgdG8gInh4eCI6IFJlcXVlc3Qgd2FzIHJlZGlyZWN0ZWQgdG8gYSBub3Qgd2hpdGVsaXN0ZWQgVVJMCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNS4yNS1WMTcuMSDmlrDlop7mlK/mjIHnmb7luqblrabmnK/nmoTph43lrprlkJHlip/og70KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA1LjI1LVYxNy4wIOaLhuWIhuWFs+mUruivjemrmOS6rui/meS4quWKn+iDve+8jOS/neivgeWKn+iDveWwvemHj+S4jeS6pOWPie+8jOWmguaenOmcgOimgei/meS4quWKn+iDveeahO+8jOivt+WuieijheaQnOe0ouWFs+mUruivjeiHquWKqOmrmOS6ruiEmuacrAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDUuMjItVjE2LjUg5bCd6K+V57yT6Kej5YaF5a2Y55qE6Zeu6aKY77yM6YG/5YWN5a+55YW25LuW55qE6L+b6KGM5bmy5omw77yM5ZCM5pe25YeP5bCR5LqGaGVhZOagh+etvuinpuWPkQovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDUuMjItVjE2LjQg5b275bqV5ouG5YiG5Y+M5Ye76auY5Lqu5ZKM6Ieq5Yqo6auY5Lqu5Yqf6IO977yM5ZCM5pe25L+d5oyB5Lik5Liq5Yqf6IO96YO95piv5YWz6Zet54q25oCBCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNS4yMi1WMTYuMyDorr7nva7mt7vliqDlj4zlh7vpq5jkuq7mjInpkq4KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA1LjIyLVYxNi4yIOS4jeWGjeS9v+eUqE1P5pa55byP77yM55m+5bqm55qE5Y6f5Zug5a+86Ie0TU/lvbvlupXml6Dms5Xkvb/nlKjvvIzkuo7mmK/lhajpg73nlKhET03mk43kvZzmnaXliKTmlq3lkKcKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA1LjIxLVYxNi4xIOS8mOWMlmFjX3JlZGlyZWN0c3RhdHVz6auY5Lqu55qE6Zeu6aKYOyDlkIzml7bkv67lpI3kuobkuIDkuKrpq5jkuq7lhbPplK7or43nmoRidWfvvJvlnKjkuIDkuKrogIHlj7jmnLrnmoTmjIfngrnkuIvvvIzmt7vliqDkuoZyZWZlcmVy5Y+C5pWwCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNS4yMS1WMTYuMCDosKLosKLmnIvlj4vku6zlhbPlv4M1LjIw5oiR6L+Y5piv5LiA5Liq5Lq66L+H55qE5b6I5aW977yb5aSn54mI5pys77ya5L+u5q2j6K6h5pWw5Zmo55qE6K6h5pWw6Zeu6aKY77yM5L+u5q2jTU/lpLHmlYjkuYvlkI7ohJrmnKznmoTop6blj5Hpl67popjvvJvmlrDlop7mkJzntKLlhbPplK7or43pq5jkuq7pgInpobnvvIzpu5jorqTlhbPpl60KLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA1LjA2LVYxNS4zIOeugOWNleenu+mZpOWlveaQnOeahOW5v+WRigovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDQuMjAtVjE1LjIg5L+u5aSNYmluZ+eahEZhdmljb27mlYjmnpzvvIzpgb/lhY3mmL7npLrlnKjkuI3lkIzooYzkuIoKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjA0LjA0LVYxNS4xIOe7p+e7reWwneivleS/ruWkjWJ1ZyzkvJjljJbmlbTkvZPpobXpnaLmlYjmnpzku6Xlj4rosLfmrYzlhbbkvZnpobXpnaLnmoTmlYjmnpzlsZXnpLo75ZCM5pe25bCG55m+5bqm5qC35byP5YaZ5YWl5YiwI3dyYXBwZXI+I2hlYWTkuK3ljrss5Yi35paw5oiW6ICF5pu05o2i6aG16Z2i5pe25bCx5LiN5Lya5byC5bi46Zeq54OB5bm25LiU5b6I5bmz5ruR5LqGCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNC4wMi1WMTQuOSDmm7TmlrDosLfmrYzmlbTkvZPmlYjmnpws5bm25bCd6K+V5L+u5aSN5Zu+54mH5paw6Ze7562J5pi+56S66Zeu6aKY55qEYnVnCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNC4wMS1WMTQuOCAtLeaXpeeLl+mXrumimO+8jOW/mOS6huaUueS7o+egge+8jOWPquaYr+abtOaWsOS6huivtOaYjuOAguOAggovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDQuMDEtVjE0Ljcg57uP6L+H6ICB5Y+45py6KOayoUlEKeaPkOS+m+eahOWPjemmiO+8jOWPkeeOsOS4iuS4gOeJiOabtOaWsOeahOS+neaXp+aciWJ1Z++8jOS/ruWkjeiwg+Wwj+inpuWPkeWPguaVsOWvvOiHtOeahOinpuWPkeayoeacieeUn+aViOeahOmXrumimC0t5YG25bCU5Y+M5YiX5aSx5pWI55qE6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNC4wMS1WMTQuNiDnu4/ov4fogIHlj7jmnLoo5rKhSUQp5o+Q5L6b55qE5Y+N6aaI77yM5o6S5p+l5Y+R546wY2hyb21l5LiK6ISa5pys6aaW5qyh6L295YWl5aSx5pWI55qE6Zeu6aKY77yM5bey57uP5L+u5aSNCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wNC4wMS1WMTQuNSDmm7TmlrDlubbmt7vliqDosLfmrYzlj4zliJfjgIHlvoXmtYvor5XvvIzlpoLmnpzmnInpl67popjvvIzlj6/ku6Xnm7TmjqXlj43ppogKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjAzLjI4LVYxNC40IOenu+mZpGpxdWVyeeeahHJlcXVpcmXvvIznlpHkvLxqcXVlcnnlvJXotbflhrLnqoHpl67popjvvIzkuo7mmK/lvbvlupXlvIPnlKhqcXVlcnnmnaXlpITnkIbpobXpnaLmlbDmja7vvIzmlLnnlKjljp/lo7BKU+WkhOeQhumhtemdogovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDMuMjctVjE0LjMg5Yi35LiA5Liq54mI5pys5Y+377yM5ZCM5pe25LyY5YyWQ1NT6L295YWl6L+H5aSa55qE6Zeu6aKY77yM5L2G5piv6L295YWl6L+H5oWi55qE6Zeu6aKY5Y+I5Ye6546w5LqG77yM5LiL5qyh5aSE55CGCi8vIEBub3RlICAgICAgICAgICAgMjAxOC4wMy4yNi1WMTQuMiDkv67lpI3nlLHkuo7kuIrmrKHmm7TmlrDov4fkuo7mtYHnlYXnmoRidWfvvIzlkIzml7bkv67mraPpppbpobXnmoTmoLflvI/mmL7npLoKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjAzLjI1LVYxNC4xIOWGjeasoeaKhOeCueS7o+egge+8jOWAn+mJtOiAgeWPuOacujrmta7nlJ9A5pyq5q2H55qE6YOo5YiG5LyY5YyW5Luj56CB5a6M5ZaE5bey5pyJ55qE77yIQHJlc291cmNl44CBR01fZ2V0UmVzb3VyY2VUZXh044CBR01fYWRkU3R5bGXvvInvvIzpgb/lhY3pobXpnaLpl6rng4HkuIDkuIvvvIzlkIzml7bop6PlhrPpg6jliIZjc3Povb3lhaXph43lpI3nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjAzLjIzLVYxNC4wIDEu5bCd6K+V5L+u5aSN5Zyo55m+5bqm6LS05ZCn5ZKM55m+5bqm55+l6YGT55qE5paH5a2X5pi+56S65byC5bi455qE6Zeu6aKYOyAyLuS/ruWkjee8luWPt+Wlh+aAqueahOW8guW4uOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDMuMTgtVjEzLjkg5pu05paw6LC35q2M55qEZmF2aWNvbuS4ouWkseeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTguMDMuMDQtVjEzLjgg5pu05paw5Zu+5bqT5Li6aHR0cHPmqKHlvI/vvIzpgb/lhY3pgqPllaXmmL7npLrkuI3lronlhagKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjAyLjE2LVYxMy43IDEu5paw5aKe5YWz6Zet55m+5bqm5pCc57Si6aKE5rWL77ybMi7mlrDlop7mnKrnn6Xlm77moIfml7bliIfmjaLvvJsgMy7np7vpmaTnmb7luqbmkJzntKLlu7rorq7nmoTpobbpg6jkuIDmnaEKLy8gQG5vdGUgICAgICAgICAgICAyMDE4LjAxLjEyLVYxMy42IDEu5paw5aKe56e76Zmk5Y+z6L655qCP55qE5oyJ6ZKu77ybMi7mlrDlop7niYjmnKzmmL7npLrmloflrZfvvJszLuS/ruato2Zhdmljb27kvY3nva7vvJs0LuS/ruWkjWZhdmljb27nmoTlm77niYfplJnor6/ml7blgJnnmoTlgLzvvIzkuIflubRCVUcKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjEyLjI3LVYxMy41IOS/ruWkjeeUseS6juS4iuS4queJiOacrOabtOaWsOWkhOeQhueZveWxj++8jOWvvOiHtOeahOm7mOiupOagh+WHhuaooeW8j+eahOWPs+S+p+agj+S4jeingeS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMTIuMjAtVjEzLjQg5oSf6LCiSUTvvJrno4Hmgqzmta7pnZLom5nnmoTlj43ppojvvIzlt7Lnu4/kv67lpI3lsI/mpoLnjofmkJzntKLkuYvlkI7ngrnlh7vnu5Pmnpznmb3lsY/nmoTpl67popgt6LKM5Ly85LmL5YmN5aSE55CG6L+H77yM5L2G5piv5rKh5pyJ5b275bqV5aSE55CG5o6J77yM6L+Z5qyh5b275bqV5LqG77yM5pS555SoQ1NT6ZqQ6JePCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4xMi4wNC1WMTMuMyDmlrDlop7orr7nva7vvIzpkojlr7nnmb7luqbns7vliJfnmoTph43lrprlkJHpl67popjvvIzkuI3luLjnlKjnmb7luqbns7vliJfnmoTmnIvlj4vlj6/ku6XlvIDlkK/ov5nkuKrlip/og70KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjExLjIzLVYxMy4yIOaEn+iwouWNoemlreWdm+WPi0BBcG9sbG84NTEx5o+Q5L6b5Y+N6aaI77yM5bey57uP5L+u5aSN6YOo5YiG55+l5LmO55qE6YeN5a6a5ZCR6Zeu6aKY77yM5pu05aSa6Zeu6aKY5Y+v5Lul55u05o6l5Y+N6aaI5oiRCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4xMS4yMi1WMTMuMSDnp7vpmaTnmb7luqbns7vnmoTph43lrprlkJHvvIzomb3nhLblpITnkIbkuobvvIzkvYbmmK/nmb7luqbns7vnm7Tov57kvJrlr7zoh7TmloflrZfml6Dms5Xnm7TmjqXmmL7npLrvvIzlhbbku5bnm7Tov57kuI3lvbHlk40KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjExLjE3LVYxMi4xMyDov5vkuIDmraXnp7vpmaTnmb7luqbnmoTlub/lkYrvvIzlj7Povrnpg6jliIblub/lkYrnmoTlpITnkIblkoznp7vpmaQKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjExLjE1LVYxMi4xMiDmkJzni5fnmoTmkJzntKLlnLDlnYDlj4jlj5jkuobvvIzliqDkuIDkuKoKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjExLjAyLVYxMi4xMSDmlrDlop7lnKjmiYvmnLptb2JpbGXmqKHlvI/kuIvnmb7luqbnmoTph43lrprlkJHlpITnkIbvvIzlhbbkvZnnvZHnq5nku6XlkI7lho3or7TlkKfvvIzkvLDorqHmsqHmnInpnIDmsYIKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjEwLjI3LVYxMi4xMCAxLuS/ruWkjemAvOatu+W8uui/q+eXh+eahOmXrumimO+8mzIu56e76Zmk5a6M5pW05qih5byPLemBv+WFjeWHuueOsOWQhOenjeaLpuaIqu+8mzMu5L+u5aSNd3d3LnNvLmNvbeeahOmHjeWumuWQkemXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTgtVjEyLjkg5pu05paw5Y6f5Zug77yaMS7li7/lv5jlm73ogLs5MTjvvJsyLuabtOaWsOeZvuW6puWBtuWwlOmHjeWumuWQkeayoeaIkOWKn+eahOmXrumimO+8mzMu5L+u5aSN6aG16Z2i55qE5bCP6Zeu6aKY77ybNC7mlrDlop7mloflrZfkuIvliJLnur/lvIDlhbMKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjE1LVYxMi44IOe0p+aApeS/ruWkjeiwt+atjOS4iumhtemdouWNoemhv+eahOmXrumimO+8jOaOkuafpeW+l+efpeS4uueZvuW6puinhOWImeeahOaJqeWxleWHuuS6humXrumimO+8jOmdnuW4uOaEn+iwouS8l+Wkmuaci+WPi+eahOaUr+aMge+8jOayoeacieS9oOS7rOeahOWPjemmiOWwseayoeaciei/meS4quiEmuacrOOAguS/ruWkjeW5tuenu+mZpOS6hueZvuW6puWumOaWuemHh+eUqOeahOaWsOaWueW8j+W5v+WRiuaooeW8j++8jOiyjOS8vOWPquWcqGNocm9tZeS4iuWHuueOsAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTMtVjEyLjcgMS7kv67lpI1O5bm05YmN5pu05paw5a+86Ie055qE6YOo5YiG572R5Z2A6YeN5a6a5ZCR5peg5pWI77yM57un57ut5L2/55SoR0VU5pa55rOV77yM5Zug5Li65aW95Lqb572R56uZ5LiN5pSv5oyBSEVBROaWueazle+8jOiOt+WPluaIkOWKn+S5i+WQjuWwseaWreW8gO+8jOWwvemHj+WHj+WwkeS6hue9kee7nOW8gOaUrzsgMi7kv67lpI3mkJzni5fnmoTpg6jliIbmkJzntKLlvILluLg7IDMu5L+u5aSN55m+5bqm5ZyoY2hyb21lNjHkuIrnmoTpk77mjqXlvILluLjpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjEzLVYxMi42IOW8gOWtpuS5i+WQjueahOesrOS6jOS4queJiOacrO+8jOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6pummlumhtemUmeS5se+8jOS/ruWkjWZpcmVmb3jkuIrnmoTop6blj5HvvIzkv67lpI1TdXBlclByZWxvYWRlcueahOe/u+mhteWxleekugovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDkuMTItVjEyLjUg5byA5a2m5LmL5ZCO55qE56ys5LiA5Liq54mI5pys77yM5L+u5aSN5Zyo55m+5bqm5LiK5YG25bCU5LiN6Kem5Y+R55qE6Zeu6aKY44CQ5LuO6aaW6aG15pCc57Si55qE5pe25YCZ6Kem5Y+R44CR77yM5YW25qyh5Zyo5YWE5byfWFhYKOaIkeS5n+W/mOS6huWTquS4qlBfUCnnmoTluK7liqnkuIvvvIzkv67lpI3kuoblgbblsJTkvJrlhajlsY/nibnmrormjqjlub/mqKHlvI/nmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA2LVYxMi40IOS/ruWkjeS4iuS4queJiOacrOabtOaWsOWvvOiHtOeahOeZvuW6puefpemBk+WGjeasoeW8guW4uOmXrumimDvmm7TmlrDnn6XkuY7kuIrnmoTph43lrprlkJHpl67popgt6Ieq5bex55qE6ISa5pysCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOS4wNi1WMTIuMyDkv67lpI3lj4zliJfnmoTmqKHlvI/nmoTmmL7npLrpl67popjvvIzlpoLmnpzmnInpl67popjluIzmnJvlj43ppojkuIDkuIvvvIzpobrkvr/liIfmjaJjc3PmnaXmupAKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA0LVYxMi4yIOeJueaEj+S/ruWkjeWcqFZpb2xlbnRNb25rZXnkuIrnmoTorr7nva7ml6DmlYjnmoTpl67popjku6Xlj4rlnKgzNjDmtY/op4jlmajkuIrnmoTorr7nva7kuI3mmL7npLrpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjA0LVYxMi4xIOeZvuW6pumhtemdouebtOaOpea3u+WKoOiuvue9ruWFpeWPo++8mzM2MOa1j+iniOWZqOiuvue9ruWPr+iDveWcqOW6lemDqOmhtemdou+8m+aUr+aMgeWNleWIl+WSjOWPjOWIl+aooeW8j++8jOeVjOmdouabtOe+juingmZyb23mta7nlJ9A5pyq5q2H77yb5Y+v6IO95piv5pyA6L+R5LiA5q615pe26Ze055qE5pyA5ZCO54mI5pys5LqG77yM6KaB5byA5a2m5LqGfn4KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjAyLVYxMS4xMCDmt7vliqDkuKTkuKrpgInpobnvvIzlj6/ku6XpgInmi6nmgKfnp7vpmaTpg6jliIborr7nva4KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA5LjAxLVYxMS45IOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6puWOu+W5v+WRiuS4jeeBteeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMzAtVjExLjgg5paw5aKe77yaMS5HTeiuvue9ruagj+ebruS4reWKoOWFpeiuvue9riAyLmJhaWR1LeS9v+eUqEhFQUTmlrnlvI/ojrflj5bvvIzlh4/lsJHmlbDmja7kvKDovpPvvIzmkJzni5fnibnmrorvvIznu6fnu61HRVTmlrnlvI8KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjI5LVYxMS43IOaWueS+v+aci+WPi+S7rC3np7vpmaTnn6XkuY7ph43lrprlkJEKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjA3LVYxMS42IOiwg+aVtO+8muenu+mZpOWwj+e7v+eCue+8jOaNouS4uueCueWHu0Zhdmljb27miJbogIXmmK/orqHmlbDlmajlvLnlh7rnqpflj6PvvIzmm7TmjaLkuLrliqDnvqTpk77mjqUKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjA2LVYxMS41IOS/ruWkje+8jOS/neWtmOW8guW4uO+8m+mihOacn+S5i+WQjuS8mua3u+WKoOeZvuW6puaQnOe0oumhtemdoueahOWkp+iwg+aVtAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDguMDUtVjExLjQg5paw5aKe77ya5Y+N6aaI5ZKM5bu66K6u5Zyw5Z2A5aKe5YqgCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wOC4wNC1WMTEuMyDkv67lpI3vvJrnlLHkuo7oi7Hor63kuI3lpb3lr7zoh7TnmoTmi7zlhpnplJnor6/vvIzmhJ/osKJzaGrlhYTlvJ/mjIflh7oKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA4LjAzLVYxMS4yIOaWsOWinu+8muiwt+atjOmTvuaOpeaWsOagh+etvuaJk+W8gDsg56e76Zmk5pCc57Si57uT5p6c6ZO+5o6l55qE5LiL5YiS57q/Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNy4yMi1WMTEuMSDmlrDlop7kuoblvIDlhbPmqKHlvI/vvIzlj6/ku6XlvIDlkK/miJbogIXlhbPpl63mn5Dkupvoh6rlt7HkuI3llpzmrKLnmoTlip/og73vvIzlvIDlhbPlnKjlj7PkuIrop5LvvIzlkoxTdXBlclByZWxvYWTlhbHnlKgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjI1LVYxMC4xIOS/ruWkjeS4iuasoeabtOaWsOWvvOiHtOeahOeZvuW6puWOu+W5v+WRiueahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjUtVjEwLjAg5L+u5aSN5LiK5qyh5pu05paw5a+86Ie055qE55m+5bqm55+l6YGT5YaN5qyh5Ye6546w6ICB6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNi4yNC1WOS45IOabtOaWsOS6hue/u+mhteeahOmXrumimO+8jOe7j+i/h+WkmuasoeeahOWwneivleW6lOivpeayoeacieWkquWkp+mXrumimOS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDYuMjQtVjkuOCDmm7TmlrDkuoZiaW5n5LiK55qE5Zu+54mHZmF2aWNvbuWcsOWdgDvlubbkuJTlsL3ph4/lh4/lsJHkuoZNT+inpuWPkeasoeaVsO+8jOmBv+WFjemhtemdouWNoemhvzvkv67lpI3mkJzni5fnmoTph43lrprlkJHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjIzLVY5Ljcg5LiK5Lyg6ZSZ5LqGfumHjeaWsOadpe+8jOmhuuW4puWkhOeQhuS6huiwt+atjGZhdmljb27pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjIzLVY5LjYg5L+u5aSN5LqG6LC35q2M6YeN5a6a5ZCR55qE6Zeu6aKYfn7miJHnmoTplIUKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA2LjExLVY5LjUg5LiN5YaN5L2/55SoRE9N5pa55byP5p2l55uR5ZCs6aG16Z2i5LqG77yM5L2/55SodGltZXIrTU/mnaXlpITnkIbvvIzmnoHlpKflh4/lsJHkuoZjcHXljaDnlKjml7bpl7Tlkoznnqzml7bnvZHpgJ/ljaDnlKgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjI2LVY5LjQg5oGi5aSNZmF2aWNvbuaooeW8j++8jOeOsOWcqOi/meS4quiEmuacrOWfuuacrOS4iuWFqOS6hu+8jOaciemcgOimgeS7peWQjuWGjeivtAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTUtVjkuMyDmmoLml7bnp7vpmaTnmb7luqblj7PovrnkvqfmoI/nmoTlub/lkYrnp7vpmaTmqKHlvI/vvIzlh4blpIfkuIvmrKHkvJjljJblpb3kuoblho3nu6fnu60KLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY5LjIg5pqC5pe256e76Zmk6LC35q2M55qE5a6J5YWo5pCc57Si5qih5byP77yM5Zug5Li65b6I5aSN5p2C55qE5Y6f5ZugCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xMi1WOS4xIOaaguaXtuenu+mZpEZhdmljb27nmoTmmL7npLrvvIzlm6DkuLrov5nmoLflsLHmnYLkuobvvIzmnInpnIDopoHnmoTkurroh6rlt7Hljrvoo4Xov5nkuKrohJrmnKzlkKfvvIzkv53nlZnnmb7luqbljrvlub/lkYoKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY5LjAg6ZuG5ZCI5LqG5Y676YeN5a6a5ZCRK+WOu+W5v+WRiitGYXZpY29u5pi+56S6Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4xMi1WOC43IOmbhuWQiOS6huWOu+W5v+WRiueahOiEmuacrO+8jOS7peWJjeeahOmCo+S4quWOu+W5v+WRiueahOiEmuacrOWwseS4jeeUqOS6hgovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMTItVjguNiDkv67lpI3osLfmrYzlronlhajmkJzntKLnmoRCVUcgVjIKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjEyLVY4LjQg5paw5aKe77ya6buY6K6k5bGP6JS96LC35q2M55qE5a6J5YWo5pCc57Si5Yqf6IO9Ci8vIEBub3RlICAgICAgICAgICAgMjAxNy4wNS4wNS1WOC4zIOS/ruWkjWluY2x1ZGXojIPlm7TlpKrlsI/lr7zoh7TnmoTnmb7luqbnn6XpgZPnmoTlsY/olL3pl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjA0LVY4LjIg57uI5LqO5L+u5aSN5LqG55m+5bqm55+l6YGT5Zu+54mH5pu/5o2i5LqG5paH5a2X55qE6L+Z5Liq5aSnQlVHOyDpobrkvr/lpITnkIbkuoZzdXBlcmFwaS56aGlkYW8uYmFpZHUuY29tOyDmlrDlop7osLfmrYzmkJzntKLnu5Pmnpzph43lrprlkJHljrvpmaQKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjA1LjA0LVY4LjEg57uI5LqO5L+u5aSN5LqG55m+5bqm55+l6YGT5Zu+54mH5pu/5o2i5LqG5paH5a2X55qE6L+Z5Liq5aSnQlVH77yM6aG65L6/5aSE55CG5LqGc3VwZXJhcGkuemhpZGFvLmJhaWR1LmNvbQovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDUuMDQtVjguMCDnu4jkuo7kv67lpI3kuobnmb7luqbnn6XpgZPlm77niYfmm7/mjaLkuobmloflrZfnmoTov5nkuKrlpKdCVUfvvIzlvoXmtYvor5UKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjI4LVY3LjYg5L+u5aSN5ZyoVmlvbGVudE1vbmtleeS4iueahOS4jeaUr+aMgeeahOmXrumimAovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDMuMjgtVjcuNSDlsJ3or5Xkv67lpI1jaHJvbWXkuIrnmoTpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjIxLVY3LjQg5bCd6K+V5aSE55CGRWRnZeS4iuS4jeaUr+aMgeeahOmXrumimO+8jOe7k+aenOWPkeeOsOaYr0VkZ2XmnKzouqvnmoRUYW1wZXJNb25rZXnmlK/mjIHmnInpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAzLjE5LVY3LjMg5L+u5aSN5omT5byA55m+5bqm5LmL5ZCO5YaN5qyh54K55Ye74oCc55m+5bqm5LiA5LiL4oCd5a+86Ie055qE5peg5rOV5pu05paw6YeN5a6a5ZCR6Zeu6aKYCi8vIEBub3RlICAgICAgICAgICAgMjAxNy4wMy4xOS1WNy4yIOacquefpeWOn+WboGNocm9tZeeahE11dGF0aW9uT2JzZXJ2ZXLml6Dms5Xkvb/nlKjkuobvvIznu6fnu63lm57lvZLku6XliY3nmoRET01Ob2RlSW5zZXJ0ZWQKLy8gQG5vdGUgICAgICAgICAgICAyMDE3LjAyLjE3LVY3LjAg5L+u5aSN5pCc54uX55qE5pCc57Si57uT5p6c6YeN5a6a5ZCR6Zeu6aKYK+aUueS4quWQjeWtlwovLyBAbm90ZSAgICAgICAgICAgIDIwMTcuMDIuMTctVjYuOSDkv67lpI3mkJzni5fnmoTmkJzntKLnu5Pmnpzph43lrprlkJHpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE2LjEyLjEwLVY2LjggKioqCi8vIEBub3RlICAgICAgICAgICAgMjAxNi4xMC4yNy1WNi43IOS/ruWkjeS6huS7peWJjeeahOmHjeWkjeivt+axgu+8jOeOsOWcqOeahOivt+axguaVsOW6lOivpeWwj+S6huW+iOWkmu+8jOe9kee7nOS5n+WwseS4jeWNoeS6hu+8jOaEn+inieiQjOiQjOWTkgovLyBAbm90ZSAgICAgICAgICAgIDIwMTYuMDQuMjQtVjYuNiDmgaLlpI3ku6XliY3nmoTniYjmnKzvvIzlm6DkuLrlhbzlrrnmgKfpl67popgKLy8gQG5vdGUgICAgICAgICAgICAyMDE1LjEyLjAxLVY1LjAg5Yqg5YWl5pCc54uX55qE5pSv5oyB77yM5L2G5piv5pSv5oyB5LiN5piv5b6I5aW9Ci8vIEBub3RlICAgICAgICAgICAgMjAxNS4xMS4yNS1WMi4wIOS8mOWMlu+8jOW3sue7j+aYr+ecn+WunuWcsOWdgOeahOS4jeWGjeWwneivleiOt+WPlgovLyBAbm90ZSAgICAgICAgICAgIDIwMTUuMTEuMjUtVjEuMCDlrozmiJDljrvmjonnmb7luqbph43lrprlkJHnmoTlip/og70KLy8gQHJlc291cmNlICAgICAgICBiYWlkdUNvbW1vblN0eWxlICAgICBodHRwOi8vaWJhaWR1Lmh0dDUuY29tL25ld2Nzcy9iYWlkdUNvbW1vblN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGJhaWR1T25lUGFnZVN0eWxlICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2JhaWR1T25lUGFnZVN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGJhaWR1VHdvUGFnZVN0eWxlICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2JhaWR1VHdvUGFnZVN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGJhaWR1TGl0ZVN0eWxlICAgICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2JhaWR1TGl0ZVN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGdvb2dsZUNvbW1vblN0eWxlICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2dvb2dsZUNvbW1vblN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGdvb2dsZU9uZVBhZ2VTdHlsZSAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2dvb2dsZU9uZVBhZ2VTdHlsZS5jc3M/dD0yMy4yNzYKLy8gQHJlc291cmNlICAgICAgICBnb29nbGVUd29QYWdlU3R5bGUgICBodHRwOi8vaWJhaWR1Lmh0dDUuY29tL25ld2Nzcy9nb29nbGVUd29QYWdlU3R5bGUuY3NzP3Q9MjMuMjc2Ci8vIEByZXNvdXJjZSAgICAgICAgYmluZ0NvbW1vblN0eWxlICAgICAgaHR0cDovL2liYWlkdS5odHQ1LmNvbS9uZXdjc3MvYmluZ0NvbW1vblN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIGJpbmdPbmVQYWdlU3R5bGUgICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL2JpbmdPbmVQYWdlU3R5bGUuY3NzP3Q9MjMuMjc2Ci8vIEByZXNvdXJjZSAgICAgICAgYmluZ1R3b1BhZ2VTdHlsZSAgICAgaHR0cDovL2liYWlkdS5odHQ1LmNvbS9uZXdjc3MvYmluZ1R3b1BhZ2VTdHlsZS5jc3M/dD0yMy4yNzYKLy8gQHJlc291cmNlICAgICAgICBzb2dvdUNvbW1vblN0eWxlICAgICBodHRwOi8vaWJhaWR1Lmh0dDUuY29tL25ld2Nzcy9zb2dvdUNvbW1vblN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIHNvZ291T25lUGFnZVN0eWxlICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL3NvZ291T25lUGFnZVN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIHNvZ291VHdvUGFnZVN0eWxlICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL3NvZ291VHdvUGFnZVN0eWxlLmNzcz90PTIzLjI3NgovLyBAcmVzb3VyY2UgICAgICAgIE1haW5IdVlhblN0eWxlICAgICAgIGh0dHA6Ly9pYmFpZHUuaHR0NS5jb20vbmV3Y3NzL0h1WWFuU3R5bGUuY3NzP3Q9MjMuMjc2Ci8vIEBncmFudCAgICAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICAgICBHTS5nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgICAgR00uc2V0VmFsdWUKLy8gQGdyYW50CQkJR01fYWRkU3R5bGUKLy8gQGdyYW50ICAgICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgICAgIEdNX2dldFJlc291cmNlVGV4dAovLyBAZ3JhbnQgICAgICAgICAgIEdNX3JlZ2lzdGVyTWVudUNvbW1hbmQKLy8gPT0vVXNlclNjcmlwdD09CiFmdW5jdGlvbiAoKSB7CiAgICBsZXQgaXNkZWJ1ZyA9IGZhbHNlOwogICAgbGV0IGlzTG9jYWxEZWJ1ZyA9IGlzZGVidWcgfHwgZmFsc2U7CiAgICBsZXQgZGVidWcgPSBpc2RlYnVnID8gY29uc29sZS5sb2cuYmluZChjb25zb2xlKSA6IGZ1bmN0aW9uICgpIHt9OwoKICAgIGxldCBpbkV4dE1vZGUgPSB0eXBlb2YoaXNFeHRlbnNpb24pICE9ICJ1bmRlZmluZWQiOwogICAgbGV0IGluR01Nb2RlID0gdHlwZW9mKEdNX2luZm8uc2NyaXB0SGFuZGxlcikgIT0gInVuZGVmaW5lZCI7IC8vID0gIkdyZWFzZW1vbmtleSIgfHwgIlRhbXBlcm1vbmtleSIgfHwgIlZpb2xlbnRNb25rZXkiCiAgICAvLyDmlrDniYjmnKznmoRHcmVhc2VNb25rZXnmmK/luKbmnIlzY3JpcHRIYW5kbGVy77yM5L2G5piv5rKh5pyJR01fZ2V0UmVzb3VyY2VUZXh077yb5pen54mI5pys5LiN5bimc2NyaXB0SGFuZGxlcu+8jOS9huaYr+aciUdNX2dldFJlc291cmNlVGV4dAogICAgbGV0IGlzTmV3R00gPSB0eXBlb2YoR01faW5mby5zY3JpcHRIYW5kbGVyKSAhPSAidW5kZWZpbmVkIiAmJiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIudG9Mb3dlckNhc2UoKSA9PSAiZ3JlYXNlbW9ua2V5IjsKICAgIGxldCB1c2VDTkxhbiA9IHRydWU7IC8vIOaaguWumu+8jOS5i+WQjumcgOimgemAu+i+keWkhOeQhgogICAgLy8gaW5FeHRNb2RlICYgaW5HTU1vZGUKICAgIC8vIHRydWUgICAgICAgIHRydWUgPeaJqeWxleS4i+eahEdN5Luj56CBIOS4jeaJp+ihjAogICAgLy8gdHJ1ZSAgICAgICAgZmFsc2U95omp5bGV5LiL5Luj56CBIOaJp+ihjAogICAgLy8gZmFsc2UgICAgICAgdHJ1ZSA95LuFR03ku6PnoIEg5omn6KGMCiAgICAvLyBmYWxzZSAgICAgICBmYWxzZT3lvILluLgg5L2G5piv6L+Y5piv6KaB5omn6KGM5Luj56CBCiAgICBkZWJ1Zygi56iL5bqP5byA5aeLIik7CiAgICBpZiAoaW5FeHRNb2RlID09IHRydWUgJiYgaW5HTU1vZGUgPT0gdHJ1ZSkgewogICAgICAgIGNvbnNvbGUubG9nKCLmianlsZXmqKHlvI8t6ISa5pys5LiN5ZCv55SoIik7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHR5cGVvZihHTSkgPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAvLyDov5nkuKrmmK9WaW9sZW50TW9ua2V555qE5pSv5oyB6YCJ6aG5CiAgICAgICAgR00gPSB7fTsKICAgICAgICBHTS5zZXRWYWx1ZSA9IEdNX3NldFZhbHVlOwogICAgICAgIEdNLmdldFZhbHVlID0gR01fZ2V0VmFsdWU7CiAgICB9CiAgICAoZnVuY3Rpb24gKCkgewogICAgICAgIGRlYnVnKCLnqIvluo/miafooYwiKTsKICAgICAgICBsZXQgbmVlZERpc3BsYXlOZXdGdW4gPSB0cnVlOyAvLyDmnKzmrKHmm7TmlrDmmK/lkKbmnInmlrDlip/og73pnIDopoHlsZXnpLoKICAgICAgICBpZiAod2luZG93Lk5vZGVMaXN0ICYmICFOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCkgewogICAgICAgICAgICBOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykgewogICAgICAgICAgICAgICAgdGhpc0FyZyA9IHRoaXNBcmcgfHwgd2luZG93OwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCB0aGlzW2ldLCBpLCB0aGlzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgaWYoIUFycmF5LnByb3RvdHlwZS5hY3B1c2gpewogICAgICAgICAgICAvKioKICAgICAgICAgICAgICog6L+b6KGM5LiN6YeN5aSN5o+S5YWl77yM5o+S5YWl5ZCO5omn6KGM5Zue6LCD5Ye95pWwCiAgICAgICAgICAgICAqIEBwYXJhbSBkYXRhIOW+heaPkuWFpeaVsOaNrgogICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sg5Zue6LCD5Ye95pWwCiAgICAgICAgICAgICAqLwogICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuYWNwdXNoID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/lnoPlnL7mlbDmja7vvIzpgqPkuYjlj6/ku6XkuKLlvIPnmoQKICAgICAgICAgICAgICAgIGlmKGRhdGEgPT0gbnVsbCkgcmV0dXJuOwogICAgICAgICAgICAgICAgLy8g5aaC5p6c5pWw5o2u5Lit5pyJ5Zue6L2m77yM6YKj5pWw5o2u5Lmf5piv5peg5pWI55qE5q2j5paH6ICM5beyCiAgICAgICAgICAgICAgICBpZihkYXRhLnJlcGxhY2UoLyh7fH18LHxcK3zvvJp844CCfFxuKS8pICE9IGRhdGEpIHJldHVybjsKICAgICAgICAgICAgICAgIGlmKHRoaXMuZmluZEluZGV4KG0gPT4gbSA9PSBkYXRhKSA8IDApewogICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaChkYXRhKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh0aGlzKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLmFjcmVtb3ZlID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgICAgICBsZXQgZGVsSWQgPSB0aGlzLmZpbmRJbmRleChtID0+IG0gPT0gZGF0YSk7CiAgICAgICAgICAgICAgICBpZihkZWxJZCA+PSAwKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNwbGljZShkZWxJZCwgMSk7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcyk7CiAgICAgICAgICAgICAgICB9IC8vIOWIoOmZpGRlbElk55qE5pWw5o2u77yM5Yig6Zmk5LiA5LiqCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGxldCBBQ0NvbmZpZyA9IHt9OwogICAgICAgIC8q5a2Y5Zyo5a+55pyq5Yid5aeL5YyW5Y+Y6YeP55qE5Yid5aeL5YyW6LWL5YC8LeaXoOmcgOaLheW/g+i/reS7o+WFvOWuuemXrumimCovCiAgICAgICAgbGV0IERlZmF1bHRDb25maWcgPSB7CiAgICAgICAgICAgIGlzUmVkaXJlY3RFbmFibGU6IHRydWUsICAvLyDmmK/lkKblvIDlkK/ph43lrprlkJHlip/og70KICAgICAgICAgICAgaXNBZHNFbmFibGU6IHRydWUsIC8vIOaYr+WQpuW8gOWQr+WOu+W5v+WRiuaooeW8jwogICAgICAgICAgICBpc0Jsb2NrRW5hYmxlOiB0cnVlLCAvLyDmmK/lkKblvIDlkK/ljrvmi6bmiKrmqKHlvI8KICAgICAgICAgICAgaXNCbG9ja0Rpc3BsYXk6IGZhbHNlLCAvLyDmmK/lkKbliKDpmaTlt7Lmi6bmiKrnmoTmnaHnm64KICAgICAgICAgICAgaXNCbG9ja0J0bkRpc3BsYXk6IHRydWUsIC8vIOaYr+WQpuaYvuekumJsb2Nr5oyJ6ZKuCiAgICAgICAgICAgIEFkc1N0eWxlRW5hYmxlOiB0cnVlLCAvLyDmmK/lkKblvIDlkK/oh6rlrprkuYnmoLflvI/mqKHlvI8KICAgICAgICAgICAgQWRzU3R5bGVNb2RlX0JhaWR1OiAyLCAvLyAwLeS4jeW4pmNzc++8mzEt5Y2V5YiX6Z2g5bem77ybMi3ljZXliJflsYXkuK3vvJszLeWPjOWIl+WxheS4rQogICAgICAgICAgICBBZHNTdHlsZU1vZGVfR29vZ2xlOiAyLCAvLyAwLeS4jeW4pmNzc++8mzEt5Y2V5YiX6Z2g5bem77ybMi3ljZXliJflsYXkuK3vvJszLeWPjOWIl+WxheS4rQogICAgICAgICAgICBBZHNTdHlsZU1vZGVfQmluZzogMywgLy8gMC3kuI3luKZjc3PvvJsxLeWNleWIl+mdoOW3pu+8mzIt5Y2V5YiX5bGF5Lit77ybMy3lj4zliJflsYXkuK0KICAgICAgICAgICAgQWRzU3R5bGVNb2RlX1NvR291OiAzLCAvLyAwLeS4jeW4pmNzc++8mzEt5Y2V5YiX6Z2g5bem77ybMi3ljZXliJflsYXkuK3vvJszLeWPjOWIl+WxheS4rQoKICAgICAgICAgICAgSHVZYW5fQmFpZHU6IGZhbHNlLCAvLyDmiqTnnLzmqKHlvI8t55m+5bqmCiAgICAgICAgICAgIEh1WWFuX0dvb2dsZTogZmFsc2UsIC8vIOaKpOecvOaooeW8jy3osLfmrYwKICAgICAgICAgICAgSHVZYW5fQmluZzogZmFsc2UsIC8vIOaKpOecvOaooeW8jy3lv4XlupQKICAgICAgICAgICAgSHVZYW5fU29Hb3U6IGZhbHNlLCAvLyDmiqTnnLzmqKHlvI8t5b+F5bqUCiAgICAgICAgICAgIFN0eWxlX0JhaWR1TGl0ZTogZmFsc2UsIC8vIEJhaWR1X0xpdGXmoLflvI/ooagKCiAgICAgICAgICAgIGRlZmF1bHRIdVlhbkNvbG9yOiAiI0RFRjFFRiIsCiAgICAgICAgICAgIGlzVXNlckNvbG9yRW5hYmxlOiB0cnVlLCAvLyDmmK/lkKblvIDlkK9mYXZpY29u5Zu+5qCH5Yqf6IO9CiAgICAgICAgICAgIGlzRmF2aWNvbkVuYWJsZTogdHJ1ZSwgLy8g5piv5ZCm5byA5ZCvZmF2aWNvbuWbvuagh+WKn+iDvQogICAgICAgICAgICBkZWZhdWx0RmF2aWNvblVybDogImh0dHBzOi8vYWUwMS5hbGljZG4uY29tL2tmL0hUQjFkUlkwWDhPRDNLVmpTWkZGcTZBbjlwWGF5LmpwZyIsIC8vIOm7mOiupOWbvuagh+WcsOWdgAogICAgICAgICAgICBkb0Rpc2FibGVTdWc6IHRydWUsIC8vIOaYr+WQpuemgeatoueZvuW6puaQnOe0oumihOa1iwogICAgICAgICAgICBpc1JpZ2h0RGlzcGxheUVuYWJsZTogZmFsc2UsIC8vIOaYr+WQpuW8gOWQr+WPs+S+p+i+ueagjwogICAgICAgICAgICBpc0NvdW50ZXJFbmFibGU6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLrorqHmlbDlmagKICAgICAgICAgICAgaXNBTGluZUVuYWJsZTogZmFsc2UsIC8vIOaYr+WQpuemgeatouS4i+WIkue6vwogICAgICAgICAgICBpc1VzZXJTdHlsZUVuYWJsZTogZmFsc2UsIC8vIOaYr+WQpuW8gOWQr+iHquWumuS5ieagt+W8jwogICAgICAgICAgICBpc0VuTGFuZzogZmFsc2UsCiAgICAgICAgICAgIGlzR29vbGVJbkJhaWR1TW9kZUVuYWJsZTogZmFsc2UsIC8vIOaYr+WQpuW8gOWQr+iwt+atjOaQnOe0oue7k+aenOmhteeahOeZvuW6puWbvuagh+aYvuekugogICAgICAgICAgICBVc2VyQmxvY2tMaXN0OiBbImJhaWppYWhhby5iYWlkdS5jb20iXSwKICAgICAgICAgICAgVXNlclN0eWxlVGV4dDoKICAgICAgICAgICAgICAgIGAvKirorqHmlbDlmajnmoTpopzoibLmoLflvI8qLwpkaXYgLkFDLUNvdW50ZXJUewogICAgYmFja2dyb3VuZDogI0ZEOTk5OTsKfQovKirlj7PkvqfmoI/nmoTmoLflvI8t5YW25a6e5LiN5byA5ZCv5pu05aW955yL5LiA5LqbKi8KI2NvbnRlbnRfcmlnaHR7CiAgICBwYWRkaW5nOiAyMHB4IDE1cHggMTVweDsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNoYWRvdzogMCAwIDIwcHggMnB4IHJnYmEoMCwgMCwgMCwgLjEpOwogICAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDAgMjBweCAycHggcmdiYSgwLCAwLCAwLCAuMSk7CiAgICAtbW96LWJveC1zaGFkb3c6IDAgMCAyMHB4IDJweCByZ2JhKDAsIDAsIDAsIC4xKTsKfQovKioqKuWPr+S7peWKoOS4gOS6m+iHquW3seeahOiDjOaZr+WbvueJhyzmm7/mjaLlvJXlj7flhoXnmoTlhoXlrrnkuLrlj6/lpJbpk77nmoTlm77niYfljbPlj68qKioqLwpib2R5ewogICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC15OwogICAgYmFja2dyb3VuZC1zaXplOiAxMDAlOwogICAgYmFja2dyb3VuZC1hdHRhY2htZW50OmZpeGVkOwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCdodHRwczovL3RpbWdzYS5iYWlkdS5jb20vdGltZz9pbWFnZSZxdWFsaXR5PTgwJnNpemU9Yjk5OTlfMTAwMDAmc2VjPTE1NjQ3NTYyNzcyNTAmZGk9ODY4YjllYWM5YmUxNGRmMWRlZGQ4YzdkNmE3MTA4NDQmaW1ndHlwZT0wJnNyYz1odHRwJTNBJTJGJTJGcGhvdG9jZG4uc29odS5jb20lMkYyMDEzMDUzMCUyRkltZzM3NzUwMjMzMy5qcGcnKTsKfQovKioqKirnqpflj6Pog4zmma/nmoTpgI/mmI7omZrljJbmlYjmnpwqKioqKi8KYm9keT4jd3JhcHBlcixib2R5Pi53cmFwLGJvZHk+I21haW4sYm9keSAjYXBwYmFyLGJvZHkgI2hkdGJTdW17CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDIyNSwyMjUsMjI1LDAuOCk7Cn0KLyoq6ZqQ6JeP6aaW6aG155qE5aSn5Zu+5qCHLeS/ruWkjeWPr+iDveWvvOiHtOWkluaPtOagt+W8j+W8guW4uCoqLwpib2R5W2JhaWR1XSAjc19sZ19pbWdfbmV3ewogICAgZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cn0KI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0LCAjd3JhcHBlciAjY29udGVudF9sZWZ0IC5jLWNvbnRhaW5lcnsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKfWAsCiAgICAgICAgICAgIG9sZFZlcnNpb246ICIiLAogICAgICAgICAgICBsYXN0U2F2ZVRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH07CiAgICAgICAgbGV0IENPTlNUID0gewogICAgICAgICAgICBoYXNOZXdGdW5jTmVlZERpc3BsYXk6IHRydWUsCiAgICAgICAgICAgIHNvcnRJbmRleDogMSwKICAgICAgICAgICAgaXNHb29nbGVJbWFnZVVybDogZmFsc2UsCiAgICAgICAgICAgIEFkc1N0eWxlTW9kZTogQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1LAogICAgICAgICAgICBrZXlTaXRlOiAiYmFpZHUiLAogICAgICAgICAgICBTdHlsZU1hbmdlcjogZnVuY3Rpb24gKCkge30sCiAgICAgICAgICAgIGN1ckhvc3RzOiBbXSwKICAgICAgICB9OwogICAgICAgIGxldCBjdXJTaXRlID0gewogICAgICAgICAgICBTaXRlVHlwZUlEOiAxLCAgICAvLyDlvZPliY3nq5nngrnnmoRJRAogICAgICAgICAgICBNYWluVHlwZToiIiwgICAgICAvLyDkuLvkvZPoioLngrnvvIzlvojlpJrkuKrnmoTniLboioLngrkKICAgICAgICAgICAgU3R5cGVfTm9ybWFsOiAiIiwgLy8g6YeN5a6a5ZCR6YCJ5oup5Zmo77yM5Y+q5pyJ55m+5bqmLeaQnOeLly3lpb3mkJwKICAgICAgICAgICAgRmF2aWNvblR5cGU6ICIiLCAgLy8gZmF2aWNvbueahOWfn+WQjeajgOafpeWZqGNpdGXvvIznlKjkuo7ojrflj5Zob3N055SoCiAgICAgICAgICAgIEZhdmljb25BZGRUbzogIiIsIC8vIGZhdmljb27pgInmi6nlmajvvIznlKjkuo7mj5LlhaXliLB0aXRsZeS5i+WJjeeahAogICAgICAgICAgICBDb3VudGVyVHlwZTogIiIsICAvLyDorqHmlbDlmajmt7vliqDnmoTkvY3nva7vvIzkuIDoiKzlkoxmYXZpY29u5L2N572u5LiA6Ie0CiAgICAgICAgICAgIEJsb2NrVHlwZTogIiIsICAgIC8vIOWxj+iUveaMiemSrueahOS9jee9ru+8jOS4gOiIrOWcqHRpdGxl5LmL5ZCOCiAgICAgICAgfTsKICAgICAgICBsZXQgREJTaXRlID0gewogICAgICAgICAgICBiYWlkdTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMSwKICAgICAgICAgICAgICAgIE1haW5UeXBlOiAiI2NvbnRlbnRfbGVmdCAuYy1jb250YWluZXIiLAogICAgICAgICAgICAgICAgU3R5cGVfTm9ybWFsOiAiaDMudD5hLCAjcmVzdWx0cyAuYy1jb250YWluZXI+LmMtYmxvY2thIiwKICAgICAgICAgICAgICAgIEZhdmljb25UeXBlOiAiLnJlc3VsdC1vcCwgLmMtc2hvd3VybCIsIC8vIGJhaWR1IOS8vOS5juimgeaUueeJiOS6hu+8nwogICAgICAgICAgICAgICAgRmF2aWNvbkFkZFRvOiAiaDMiLAogICAgICAgICAgICAgICAgQ291bnRlclR5cGU6ICIjY29udGVudF9sZWZ0PiNkb3VibGU+ZGl2W3NyY2lkXSAqW2NsYXNzfj10XSxbY2xhc3N+PW9wX2Jlc3RfYW5zd2VyX3F1ZXN0aW9uXSwjY29udGVudF9sZWZ0PmRpdltzcmNpZF0gKltjbGFzc349dF0sW2NsYXNzfj1vcF9iZXN0X2Fuc3dlcl9xdWVzdGlvbl0iLAogICAgICAgICAgICAgICAgQmxvY2tUeXBlOiAiaDMgYSIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNvZ291OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiAyLAogICAgICAgICAgICAgICAgTWFpblR5cGU6ICIjbWFpbiAucmVzdWx0cz5kaXYiLAogICAgICAgICAgICAgICAgU3R5cGVfTm9ybWFsOiAiaDMucHQ+YSwgaDMudnJUaXRsZT5hIiwKICAgICAgICAgICAgICAgIEZhdmljb25UeXBlOiAiY2l0ZVtpZCo9J2NhY2hlcmVzdWx0X2luZm9fJ10iLAogICAgICAgICAgICAgICAgRmF2aWNvbkFkZFRvOiAiaDMiLAogICAgICAgICAgICAgICAgQ291bnRlclR5cGU6ICIucmVzdWx0cz5kaXYiLAogICAgICAgICAgICAgICAgQmxvY2tUeXBlOiAiaDMgYSIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhb3NvdTogewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogMywKICAgICAgICAgICAgICAgIE1haW5UeXBlOiAiLnJlcy1saXN0IiwKICAgICAgICAgICAgICAgIFN0eXBlX05vcm1hbDogIi5yZXMtbGlzdCBoMz5hIiwKICAgICAgICAgICAgICAgIEZhdmljb25UeXBlOiAiLnJlcy1saW5raW5mbyBjaXRlIiwKICAgICAgICAgICAgICAgIEZhdmljb25BZGRUbzogImgzIiwKICAgICAgICAgICAgICAgIENvdW50ZXJUeXBlOiAiLnJlc3VsdHM+ZGl2IiwKICAgICAgICAgICAgICAgIEJsb2NrVHlwZTogImgzIGEiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBnb29nbGU6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDQsCiAgICAgICAgICAgICAgICBNYWluVHlwZTogIi5zcmc+ZGl2W2NsYXNzfj1nXSAqW2NsYXNzfj1yY10iLAogICAgICAgICAgICAgICAgRmF2aWNvblR5cGU6ICIuaVVoMzAiLAogICAgICAgICAgICAgICAgRmF2aWNvbkFkZFRvOiAiaDMiLAogICAgICAgICAgICAgICAgQ291bnRlclR5cGU6ICIuc3JnPmRpdltjbGFzc349Z10gKltjbGFzc349cl0gaDMsLl95RT5kaXZbY2xhc3N+PV9ra10gaDMiLAogICAgICAgICAgICAgICAgQmxvY2tUeXBlOiAiLnJjPi5yPmEiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBiaW5nOiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiA1LAogICAgICAgICAgICAgICAgTWFpblR5cGU6ICIjYl9yZXN1bHRzPmxpIiwKICAgICAgICAgICAgICAgIEZhdmljb25UeXBlOiAiLmJfYXR0cmlidXRpb24+Y2l0ZSIsCiAgICAgICAgICAgICAgICBGYXZpY29uQWRkVG86ICJoMiIsCiAgICAgICAgICAgICAgICBDb3VudGVyVHlwZTogIiNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYW5zXT5oMiwjYl9yZXN1bHRzPmxpW2NsYXNzfj1iX2FsZ29dPmgyLCNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYWxnb10+aDIiLAogICAgICAgICAgICAgICAgQmxvY2tUeXBlOiAiaDIgYSIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1CYWlkdTp7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiA2LAogICAgICAgICAgICAgICAgTWFpblR5cGU6ICIjYl9yZXN1bHRzPmxpIiwKICAgICAgICAgICAgICAgIEZhdmljb25UeXBlOiAiLmJfYXR0cmlidXRpb24+Y2l0ZSIsCiAgICAgICAgICAgICAgICBGYXZpY29uQWRkVG86ICJoMiIsCiAgICAgICAgICAgICAgICBDb3VudGVyVHlwZTogIiNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYW5zXT5oMiwjYl9yZXN1bHRzPmxpW2NsYXNzfj1iX2FsZ29dPmgyLCNiX3Jlc3VsdHM+bGlbY2xhc3N+PWJfYWxnb10+aDIiLAogICAgICAgICAgICAgICAgQmxvY2tUeXBlOiAiaDIgYSIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHpoaWh1OiB7CiAgICAgICAgICAgICAgICBTaXRlVHlwZUlEOiA3LAogICAgICAgICAgICB9LAogICAgICAgICAgICBiYWlkdV94dWVzaHU6ewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogOCwKICAgICAgICAgICAgICAgIE1haW5UeXBlOiAiI2NvbnRlbnRfbGVmdCAucmVzdWx0IiwKICAgICAgICAgICAgICAgIFN0eXBlX05vcm1hbDogImgzLnQ+YSwgI3Jlc3VsdHMgLmMtY29udGFpbmVyPi5jLWJsb2NrYSIsCiAgICAgICAgICAgICAgICBGYXZpY29uVHlwZTogIi5yZXN1bHQtb3AsIC5jLXNob3d1cmwiLCAvLyBiYWlkdSDkvLzkuY7opoHmlLnniYjkuobvvJ8KICAgICAgICAgICAgICAgIEZhdmljb25BZGRUbzogImgzIiwKICAgICAgICAgICAgICAgIENvdW50ZXJUeXBlOiAiI2NvbnRlbnRfbGVmdD4jZG91YmxlPmRpdltzcmNpZF0gKltjbGFzc349dF0sW2NsYXNzfj1vcF9iZXN0X2Fuc3dlcl9xdWVzdGlvbl0sI2NvbnRlbnRfbGVmdD5kaXZbc3JjaWRdICpbY2xhc3N+PXRdLFtjbGFzc349b3BfYmVzdF9hbnN3ZXJfcXVlc3Rpb25dIiwKICAgICAgICAgICAgICAgIEJsb2NrVHlwZTogImgzIGEiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBhY19nb29nbGU6ewogICAgICAgICAgICAgICAgU2l0ZVR5cGVJRDogNCwKICAgICAgICAgICAgICAgIE1haW5UeXBlOiAiLnNyZz5kaXZbY2xhc3N+PWddICpbY2xhc3N+PXJjXSIsCiAgICAgICAgICAgICAgICBGYXZpY29uVHlwZTogIi5pVWgzMCIsCiAgICAgICAgICAgICAgICBGYXZpY29uQWRkVG86ICJoMyIsCiAgICAgICAgICAgICAgICBDb3VudGVyVHlwZTogIi5zcmc+ZGl2W2NsYXNzfj1nXSAqW2NsYXNzfj1yXSBoMywuX3lFPmRpdltjbGFzc349X2trXSBoMyIsCiAgICAgICAgICAgICAgICBCbG9ja1R5cGU6ICIucmMgYSIsCiAgICAgICAgICAgICAgICBpc19hY2dvb2dsZTogdHJ1ZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3RoZXI6IHsKICAgICAgICAgICAgICAgIFNpdGVUeXBlSUQ6IDksCiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGxldCBTaXRlVHlwZSA9IHsKICAgICAgICAgICAgQkFJRFU6IERCU2l0ZS5iYWlkdS5TaXRlVHlwZUlELAogICAgICAgICAgICBNQkFJRFU6IERCU2l0ZS5tQmFpZHUuU2l0ZVR5cGVJRCwKICAgICAgICAgICAgU09HT1U6IERCU2l0ZS5zb2dvdS5TaXRlVHlwZUlELAogICAgICAgICAgICBTTzogREJTaXRlLmhhb3NvdS5TaXRlVHlwZUlELAogICAgICAgICAgICBHT09HTEU6IERCU2l0ZS5nb29nbGUuU2l0ZVR5cGVJRCwKICAgICAgICAgICAgQUNfR09PR0xFOiBEQlNpdGUuYWNfZ29vZ2xlLlNpdGVUeXBlSUQsCiAgICAgICAgICAgIEJJTkc6IERCU2l0ZS5iaW5nLlNpdGVUeXBlSUQsCiAgICAgICAgICAgIFpISUhVOiBEQlNpdGUuemhpaHUuU2l0ZVR5cGVJRCwKICAgICAgICAgICAgQkFJRFVfWFVFU0hVOiBEQlNpdGUuYmFpZHVfeHVlc2h1LlNpdGVUeXBlSUQsCiAgICAgICAgICAgIE9USEVSUzogOAogICAgICAgIH07CiAgICAgICAgLyoq5Yid5aeL5YyW5omA5pyJ55qE6K6+572uKiovCiAgICAgICAgUHJvbWlzZS5hbGwoW0dNLmdldFZhbHVlKCJDb25maWciKV0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgaWYgKGRhdGFbMF0gIT0gbnVsbCkgewogICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnID0gSlNPTi5wYXJzZShkYXRhWzBdKTsKICAgICAgICAgICAgICAgIH1jYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnID0gZGF0YVswXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIEFDQ29uZmlnID0gRGVmYXVsdENvbmZpZzsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IodmFyIGtleSBpbiBEZWZhdWx0Q29uZmlnKXsKICAgICAgICAgICAgICAgIGlmKHR5cGVvZihBQ0NvbmZpZ1trZXldKSA9PSAidW5kZWZpbmVkIil7CiAgICAgICAgICAgICAgICAgICAgQUNDb25maWdba2V5XSA9IERlZmF1bHRDb25maWdba2V5XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZihBQ0NvbmZpZy5pc1VzZXJTdHlsZUVuYWJsZSA9PSBmYWxzZSAmJiAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBBQ0NvbmZpZy5sYXN0U2F2ZVRpbWUgPiAyNTkyMDAwMDAwKSl7IC8vIOWkp+e6pjMw5aSp5pe26Ze0CiAgICAgICAgICAgICAgICAvLyDlpoLmnpznlKjmiLflj5bmtojkuoborr7nva7vvIzlubbkuJTplb/ml7bpl7QoM+WkqSnmsqHmnInov5vooYzov4flpITnkIbvvIzpgqPkuYjnm7TmjqXlsIbmlbDmja7nva7nqbogLT4g55So5LqO5Yi35paw5pWw5o2uCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiYWMtYmFpZHUgY3NzIHJlc2V0IGZvciB0aW1lIik7CiAgICAgICAgICAgICAgICBBQ0NvbmZpZy5sYXN0U2F2ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgIEFDQ29uZmlnLlVzZXJTdHlsZVRleHQgPSBEZWZhdWx0Q29uZmlnLlVzZXJTdHlsZVRleHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdXNlQ05MYW4gPSAhQUNDb25maWcuaXNFbkxhbmc7CiAgICAgICAgICAgIC8vIOWIneWni+WMluWujOaIkOS5i+WQjuaJjeiDveiwg+eUqOato+W4uOWHveaVsAogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChleGNlcHQpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXhjZXB0KTsKICAgICAgICB9KTsKICAgICAgICBmdW5jdGlvbiBSZWdfR2V0KEhUTUwsIHJlZykgewogICAgICAgICAgICBsZXQgUmVnRSA9IG5ldyBSZWdFeHAocmVnKTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIHJldHVybiBSZWdFLmV4ZWMoSFRNTClbMV07CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHsKICAgICAgICAgICAgaWYgKEFDQ29uZmlnLm9sZFZlcnNpb24gPT0gR01faW5mby5zY3JpcHQudmVyc2lvbikgewogICAgICAgICAgICAgICAgQ09OU1QuaGFzTmV3RnVuY05lZWREaXNwbGF5ID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBDT05TVC5oYXNOZXdGdW5jTmVlZERpc3BsYXkgPSBuZWVkRGlzcGxheU5ld0Z1bjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgIWZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGxldCBCYWlkdVZlcnNpb24gPSAiIFYiICsgR01faW5mby5zY3JpcHQudmVyc2lvbjsKICAgICAgICAgICAgICAgIGxldCBpbnNlcnRMb2NrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoInh1ZXNodS5iYWlkdS5jb20iKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5iYWlkdV94dWVzaHU7CiAgICAgICAgICAgICAgICB9ZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCIuYmFpZHUuY29tIikgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGlmKG5hdmlnYXRvci51c2VyQWdlbnQucmVwbGFjZSgvKGFuZHJvaWR8bW9iaWxlfGlwaG9uZSkvaWdtLCAiIikgIT0gbmF2aWdhdG9yLnVzZXJBZ2VudCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUubUJhaWR1OwogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmJhaWR1OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJ6aGlodS5jb20iKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS56aGlodTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJzb2dvdSIpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLnNvZ291OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsb2NhdGlvbi5ob3N0LmluZGV4T2YoInNvLmNvbSIpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLmhhb3NvdTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJnb29nbGUiKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgaWYobG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZigiYWMtbm90ZXhpc3QiKSA+IC0xKXsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyU2l0ZSA9IERCU2l0ZS5hY19nb29nbGU7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuZ29vZ2xlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jYXRpb24uaG9zdC5pbmRleE9mKCJiaW5nIikgPiAtMSkgewogICAgICAgICAgICAgICAgICAgIGN1clNpdGUgPSBEQlNpdGUuYmluZzsKICAgICAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgICAgICBjdXJTaXRlID0gREJTaXRlLm90aGVyOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5HT09HTEUgJiYgbG9jYXRpb24uaHJlZi5yZXBsYWNlKC90Ym09KGlzY2h8bGNsfHNob3B8ZmxtKS8sICIiKSAhPSBsb2NhdGlvbi5ocmVmKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5Zu+54mH56uZIOOAgeWcsOWbvuermeOAgei0reeJqeermQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLnibnmrornq5ks5LiN5Yqg6L295qC35byP77yM5LiN5re75YqgbWVudSIpOwogICAgICAgICAgICAgICAgICAgIENPTlNULmlzR29vZ2xlSW1hZ2VVcmwgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLkFkc1N0eWxlRW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSkgewogICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5BZHNTdHlsZU1vZGUgPSBBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmFpZHU7CiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULkh1WWFuTW9kZSA9IEFDQ29uZmlnLkh1WWFuX0JhaWR1OwogICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5rZXlTaXRlID0gImJhaWR1IjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5HT09HTEUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuQWRzU3R5bGVNb2RlID0gQUNDb25maWcuQWRzU3R5bGVNb2RlX0dvb2dsZTsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuSHVZYW5Nb2RlID0gQUNDb25maWcuSHVZYW5fR29vZ2xlOwogICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5rZXlTaXRlID0gImdvb2dsZSI7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuQklORykgewogICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5BZHNTdHlsZU1vZGUgPSBBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZzsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuSHVZYW5Nb2RlID0gQUNDb25maWcuSHVZYW5fQmluZzsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1Qua2V5U2l0ZSA9ICJiaW5nIjsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5TT0dPVSl7CiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULkFkc1N0eWxlTW9kZSA9IEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Tb0dvdTsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuSHVZYW5Nb2RlID0gQUNDb25maWcuSHVZYW5fU29Hb3U7CiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULmtleVNpdGUgPSAic29nb3UiOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuQkFJRFVfWFVFU0hVKXsKICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuQWRzU3R5bGVNb2RlID0gMjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgQ09OU1QuU3R5bGVNYW5nZXIgPSBGU0JhaWR1KCk7IC8vIOa3u+WKoOiuvue9rumhuS3ljZXlj4zliJfmmL7npLoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCIlY1tBQy1SZWRpcmVjdF0gJWNMZXQgTWUgSW50cm9kdWNlIHlvdSBhIFZlcnkgR29vZCBTZWFyY2ggRW5naW5l77yaJWMgJXMgJWNTZWFyY2ggRW5naW5lLiIsICJmb250LXdlaWdodDpib2xkO2NvbG9yOmNvcm5mbG93ZXJibHVlIiwgImNvbG9yOjAiLCAiZm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjpkYXJrb3JhbmdlIiwgQ09OU1Qua2V5U2l0ZS5yZXBsYWNlKENPTlNULmtleVNpdGVbMF0sQ09OU1Qua2V5U2l0ZVswXS50b1VwcGVyQ2FzZSgpKSwgImZvbnQtd2VpZ2h0Om5vcm1hbDtjb2xvcjowIik7CiAgICAgICAgICAgICAgICBsZXQgYm9keU5hbWVyZXNldFRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5ib2R5ICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoQ09OU1Qua2V5U2l0ZSwgIjEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSAmJiBsb2NhdGlvbi5ocmVmLmluZGV4T2YoInRuPW5ld3MiKSA+PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgibmV3cyIsICIxIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoIm5ld3MiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvLyBjbGVhckludGVydmFsKGJvZHlOYW1lcmVzZXRUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMzAwKTsKICAgICAgICAgICAgICAgIGxldCBCbG9ja0JhaWR1ID0gewogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIOWIneWni+WMlkJsb2Nr5qC35byPCiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgaW5pdFN0eWxlOiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZSgiYnV0dG9uLmdoaGlkZXIuZ2hoYlthYy11c2VyLWFsdGVyPScxJ106OmJlZm9yZXtjb250ZW50Oiflj5bmtoggLSAnO30jc3AtYWMtY29udGFpbmVyIC5hYy1ibG9jay1pdGVte2NvbG9yOiNBQUE7bWFyZ2luLWxlZnQ6NDhweDt9I3NwLWFjLWNvbnRhaW5lciAuYWMtYmxvY2staXRlbWRlbHtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDowO3BhZGRpbmc6MCAyMHB4O2N1cnNvcjpwb2ludGVyO30jc3AtYWMtY29udGFpbmVyIC5hYy1ibG9jay1pdGVtZGVsOmhvdmVye2NvbG9yOnJlZDt9I3NwLWFjLWNvbnRhaW5lciAuYWMtYmxvY2staGlnaHtjb2xvcjojMDAwO30uYWMtYmxvY2tMaXN0IGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2EzY2FmZjtjb2xvcjp3aGl0ZSAhaW1wb3J0YW50O2N1cnNvcjpwb2ludGVyO30gKlthYy1uZWVkaGlkZV0gKntkaXNwbGF5Om5vbmV9ICpbYWMtbmVlZGhpZGVdIC5ibG9ja1Nob3d7ZGlzcGxheTp1bnNldDtjdXJzb3I6cG9pbnRlcjt9ICpbYWMtbmVlZGhpZGVdIC5ibG9ja1Nob3c6aG92ZXJ7Ym9yZGVyOjFweCBzb2xpZCAjREREfWJ1dHRvbi5naGhpZGVye2NvbG9yOiM1NTU7YmFja2dyb3VuZC1jb2xvcjojZmNmY2ZjO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC1zaXplOi44NWVtO21hcmdpbjphdXRvIDJweDtib3JkZXI6MXB4IHNvbGlkICNjY2M7Ym9yZGVyLXJhZGl1czo0cHg7cGFkZGluZzoycHggM3B4fWgzPmJ1dHRvbi5naGhpZGVye2ZvbnQtc2l6ZTouNzVlbX1idXR0b24uZ2hoaWRlcjpob3Zlcntjb2xvcjojMDA2YWZmO2JhY2tncm91bmQ6I2ZmZn0iLCAiQUMtQmxvY2tTdHlsZSIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICog5Yid5aeL5YyW5bGP6JS95oyJ6ZKu5Yqg6L29CiAgICAgICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3VyU2l0ZS5NYWluVHlwZSsiOm5vdChbYWNibG9ja10pIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hlY2tOb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlID0gY2hlY2tOb2Rlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZmF2aWNvbk5vZGUgPSBjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5GYXZpY29uVHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYoY3VyTm9kZS5oYXNBdHRyaWJ1dGUoImFjYmxvY2siKSkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvc3QgPSBnZXRCYWlkdUhvc3QoZmF2aWNvbk5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKGhvc3QgPT0gbnVsbCkgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZhTm9kZSA9IGN1ck5vZGUucXVlcnlTZWxlY3RvcihjdXJTaXRlLkJsb2NrVHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vZGVTdHlsZSA9ICJkaXNwbGF5OnVuc2V0OyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIUFDQ29uZmlnLmlzQmxvY2tCdG5EaXNwbGF5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0eWxlID0gImRpc3BsYXk6bm9uZTsiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYU5vZGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCJhZnRlcmVuZCIsIGA8YnV0dG9uIHN0eWxlPScke25vZGVTdHlsZX0nIGNsYXNzPSdnaGhpZGVyIGdoaGInIGhyZWY9IiR7ZmF2aWNvbk5vZGUuaHJlZiB8fCBmYXZpY29uTm9kZS5pbm5lclRleHR9IiBtZXRhPSIke2hvc3R9IiBkYXRhLWhvc3Q9IiR7aG9zdH0iIHRpdGxlPSfngrnlh7vljbPlj6/lsY/olL0gJHtob3N0fSDmlL7lvIDvvIzpnIDopoHlnKjoh6rlrprkuYnkuK3miYvliqjphY3nva7mlL7lvIAnPmJsb2NrPC9idXR0b24+YCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck5vZGUuc2V0QXR0cmlidXRlKCJhY2Jsb2NrIiwgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnNldEF0dHJpYnV0ZSgiYWNibG9jayIsICIwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRMaXN0ZW5lcigpOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckRpc3BsYXkoKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGluaXRMaXN0ZW5lcjogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNoZWNrTm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJidXR0b24uZ2hoaWRlcjpub3QoW2FjRW52XSkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGNoZWNrTm9kZXMubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tOb2Rlc1tpXS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMuZG9IaWRlRW52KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTm9kZXNbaV0uc2V0QXR0cmlidXRlKCJhY0VudiIsICIwIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIGRvSGlkZUVudjogZnVuY3Rpb24oZW52KXsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5YWI5o+S5YWl5pWw5o2uLS0t6K6w5b6X6L+Y6KaB5YaZ5YWl5a2Y5YKoCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub2RlID0gZW52LnNvdXJjZVRhcmdldCB8fCBlbnYudGFyZ2V0OwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdCA9IG5vZGUuZGF0YXNldC5ob3N0OwogICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLmdldEF0dHJpYnV0ZSgiYWMtdXNlci1hbHRlciIpID09IDEpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5bey57uP5bGP6JS95LmL5ZCO77yM5YaN5qyh54K55Ye7YmxvY2vlupTor6XmmK/lj5bmtojnirbmgIEKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCJhYy11c2VyLWFsdGVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5Vc2VyQmxvY2tMaXN0LmFjcmVtb3ZlKGhvc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR00uc2V0VmFsdWUoIkNvbmZpZyIsIEpTT04uc3RyaW5naWZ5KEFDQ29uZmlnKSk7IC8vIOeCueWHu+S4gOasoe+8jOS/neWtmOS4gOasoQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOato+W4uOWxj+iUveaTjeS9nAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoImFjLXVzZXItYWx0ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLlVzZXJCbG9ja0xpc3QuYWNwdXNoKGhvc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgR00uc2V0VmFsdWUoIkNvbmZpZyIsIEpTT04uc3RyaW5naWZ5KEFDQ29uZmlnKSk7IC8vIOeCueWHu+S4gOasoe+8jOS/neWtmOS4gOasoQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbG9hZEJsb2NrTGlzdCgpOwogICAgICAgICAgICAgICAgICAgICAgICBCbG9ja0JhaWR1LnJlbmRlckRpc3BsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgZW52LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgLy8g5Yi35paw5pi+56S65pWI5p6cLS3ogJfml7bmk43kvZwKICAgICAgICAgICAgICAgICAgICByZW5kZXJEaXNwbGF5OiBmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY3VyU2l0ZS5NYWluVHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmbGFnID0gImFjLW5lZWRoaWRlIjsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGVja05vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ck5vZGUgPSBjaGVja05vZGVzW2ldOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJIb3N0ID0gZ2V0QmFpZHVIb3N0KGN1ck5vZGUucXVlcnlTZWxlY3RvcihjdXJTaXRlLkZhdmljb25UeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VySG9zdCA9PSBudWxsKSBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBCbG9ja0J0biA9IGN1ck5vZGUucXVlcnlTZWxlY3RvcigiLmdoaGlkZXIuZ2hoYiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCbG9ja0J0bi5kYXRhc2V0Lmhvc3QgPSBCbG9ja0J0bi5kYXRhc2V0Lm1ldGEgPSBjdXJIb3N0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoImJ1dHRvblthYy11c2VyLWFsdGVyXSIpICE9IG51bGwpIGNvbnRpbnVlOyAvLyDnlKjmiLfmiYvliqjngrnov4fmmL7npLrnmoTvvIzpgqPkuYjot7Pov4djaGVjawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFDQ29uZmlnLlVzZXJCbG9ja0xpc3QuZmluZEluZGV4KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAobS5yZXBsYWNlKCIqIiwgIi4qIikpLnRlc3QoY3VySG9zdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0gPT0gY3VySG9zdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgPj0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWPquajgOafpeWcqOWxj+iUveihqOS4reeahOaVsOaNrgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighIGN1ck5vZGUuaGFzQXR0cmlidXRlKGZsYWcpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFDQ29uZmlnLmlzQmxvY2tEaXNwbGF5KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1clRpdGxlID0gY3VyTm9kZS5xdWVyeVNlbGVjdG9yKGN1clNpdGUuQmxvY2tUeXBlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1clRpdGxlID0gY3VyVGl0bGUuaW5uZXJUZXh0IHx8IGN1clRpdGxlLnRleHRDb250ZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5pbnNlcnRBZGphY2VudEhUTUwoImFmdGVyQmVnaW4iLCBgPHNwYW4gY2xhc3M9ImJsb2NrU2hvdyIgdGl0bGU9IuWmguaenOmcgOimgeS4gOebtOaYvuekuu+8jOivt+WcqOiHquWumuS5ieS4rURJWeebruW9leenu+mZpOacrOWcsOWdgCI+JHtjdXJUaXRsZX0mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsgLWJsb2NrIGJ5ICR7Y3VySG9zdH08L3NwYW4+YCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnNldEF0dHJpYnV0ZShmbGFnLCAiMSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKHhjdXIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW3sue7j+Wxj+iUveS5i+WQjueahOWGheWuue+8jOeCueWHu+S4gOS4i+aYvuekuuWOn+Wni+WGheWuuQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhjdXIucXVlcnlTZWxlY3RvcigiLmJsb2NrU2hvdyIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGVudikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcigiYnV0dG9uLmdoaGlkZXIiKS5zZXRBdHRyaWJ1dGUoImFjLXVzZXItYWx0ZXIiLCAiMSIpOyAvLyDov5nkuKrlsZ7mgKfnlKjkuo7kv53mjIHlnKhET03mm7TmlrDml7bvvIzmjInpkq7kuI3lj5gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGN1ci5yZW1vdmVBdHRyaWJ1dGUoZmxhZyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVGdW5jdGlvbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGN1ci5xdWVyeVNlbGVjdG9yKCIuYmxvY2tTaG93IikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnYuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KShjdXJOb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnJlbW92ZUF0dHJpYnV0ZShmbGFnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FmZUZ1bmN0aW9uKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoIi5ibG9ja1Nob3ciKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgZnVuY3Rpb24gYWRkU3R5bGUoY3NzKSB7IC8v5re75YqgQ1NT55qE5Luj56CBLS1jb3B555qECiAgICAgICAgICAgICAgICAgICAgbGV0IHBpID0gZG9jdW1lbnQuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAneG1sLXN0eWxlc2hlZXQnLAogICAgICAgICAgICAgICAgICAgICAgICAndHlwZT0idGV4dC9jc3MiIG11c3Q9ImZhbHNlIiBocmVmPSJkYXRhOnRleHQvY3NzO3V0Zi04LCcgKyBlbmNvZGVVUklDb21wb25lbnQoY3NzKSArICciJwogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50Lmluc2VydEJlZm9yZShwaSwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoQUNDb25maWcuaXNBZHNFbmFibGUpIHsKICAgICAgICAgICAgICAgICAgICAvLyBkaXNwbGF55bey57uP5peg5rOV6ZqQ6JeP5LuW5Lus5LqG77yM6ZyA6KaB55So57ud5a+555qE6ZqQ6JePCiAgICAgICAgICAgICAgICAgICAgYWRkU3R5bGUoIiNib3R0b21hZHN7ZGlzcGxheTpub25lO30gI2NvbnRlbnRfbGVmdD5kaXY6bm90KFtpZF0pPmRpdltjbWF0Y2hpZF0sICNjb250ZW50X2xlZnQ+ZGl2W2lkKj0nMzAwJ106bm90KFtjbGFzcyo9J3Jlc3VsdCddKSwjY29udGVudF9yaWdodCB0ZD5kaXY6bm90KFtpZF0pLCNjb250ZW50X3JpZ2h0PmJye3Bvc2l0aW9uOmFic29sdXRlO3RvcDotNjY2NnB4O30iKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuR09PR0xFICYmIEFDQ29uZmlnLmlzR29vbGVJbkJhaWR1TW9kZUVuYWJsZSl7CiAgICAgICAgICAgICAgICAgICAgc2FmZVdhaXRGdW5jKCIjbG9nbyBpbWcsICNsb2dvY29udCBpbWciLCBmdW5jdGlvbihub2RlKXsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZhTm9kZSA9IG5vZGUucGFyZW50Tm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICBmYU5vZGUuY2xhc3NOYW1lID0gZmFOb2RlLmNsYXNzTmFtZS5yZXBsYWNlKC8oIGJhaWR1IHwgYmFpZHUkKS8sICIiKSArICIgYmFpZHUiOwogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgic3JjIik7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3JjID0gImh0dHBzOi8vcGljLnJtYi5iZHN0YXRpYy5jb20vYzg2MjU1ZTgwMjg2OTYxMzlkM2UzZTRiYjQ0YzA0N2IucG5nIjsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS53aWR0aCA9ICIxMjUiOwogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgiaGVpZ2h0Iik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgc2FmZVdhaXRGdW5jKCIjbWFpbiBpbWdbYWx0PSdHb29nbGUnXSIsIGZ1bmN0aW9uKG5vZGUpewogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZSgic3Jjc2V0Iik7CiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3JjID0gImh0dHBzOi8vd3d3LmJhaWR1LmNvbS9pbWcvYmRfbG9nbzEucG5nP3doZXJlPXN1cGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsICIxMjkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZSA9ICJwYWRkaW5nLXRvcDogNTlweDsiOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gZG9jdW1lbnQudGl0bGUucmVwbGFjZSgvXkdvb2dsZS8sICLnmb7luqbkuIDkuIvvvIzkvaDlsLHnn6XpgZMiKS5yZXBsYWNlKC8gLSBHb29nbGUg5pCc57SiLywgIl/nmb7luqbmkJzntKIiKTsKICAgICAgICAgICAgICAgICAgICBsZXQgbGlua1RhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxpbmtbdHlwZT0naW1hZ2UveC1pY29uJ10iKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyk7CiAgICAgICAgICAgICAgICAgICAgbGlua1RhcmdldC50eXBlID0gJ2ltYWdlL3gtaWNvbic7CiAgICAgICAgICAgICAgICAgICAgbGlua1RhcmdldC5yZWwgPSAnc2hvcnRjdXQgaWNvbic7CiAgICAgICAgICAgICAgICAgICAgbGlua1RhcmdldC5ocmVmID0gJ2h0dHBzOi8vd3d3LmJhaWR1LmNvbS9mYXZpY29uLmljbyc7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rVGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIO+8geayoeWVpeeUqOS6hu+8gQogICAgICAgICAgICAgICAgLy8gaWYod2luZG93LnRvcCAhPSB3aW5kb3cpewogICAgICAgICAgICAgICAgLy8gICAgIC8vIOWPquacieW9k+WJjemhtemdouaYr+WkhOS6jmlmcmFtZeeKtuaAgeS4i+aJjeS8muWPkemAgea2iOaBry3lkJHniLbnqpfkvZPkvKDpgJLlvZPliY3mkJzntKLnmoTkuLLvvIzkvr/kuo7niLbnqpfkvZPmlLnlj5jnm7jlupTnmoTlhoXlrrkKICAgICAgICAgICAgICAgIC8vICAgICAvLyDnlKjkuo5zaGVpZ2FuLmNvbS9zZWFyY2jnmoTmkJzntKLlhoXlrrnlj5jljJYKICAgICAgICAgICAgICAgIC8vICAgICAvLyDnlKjkuo7lhbzlrrnmkJzntKLmqKHlvI/vvIzkuI3lrZjlnKjmlbDmja7ms4TpnLIKICAgICAgICAgICAgICAgIC8vICAgICB3aW5kb3cudG9wLnBvc3RNZXNzYWdlKHthY3Y6Z2V0U2VhcmNoVmFsdWUoKX0sICIqIik7CiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5HT09HTEUgJiYgY3VyU2l0ZS5pc19hY2dvb2dsZSA9PSB0cnVlKXsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgLy8g5Zyw5Z2A6Lez6L2s5YiwZ29vZ2xl5pCc57SiCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvY3VtZW50LmhlYWQuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gIiI7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIEdNX3htbGh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHVybDogImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9IitnZXRTZWFyY2hWYWx1ZSgpLAogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbWV0aG9kOiAiR0VUIiwKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAsCiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBvbmxvYWQ6IGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gcmVzcG9uc2UucmVzcG9uc2VUZXh0OwogICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTsKICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLyB9CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgIT0gU2l0ZVR5cGUuT1RIRVJTKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIE1haW5DYWxsYmFjaywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIE1haW5DYWxsYmFjaywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICBSQUZGdW5jdGlvbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFwaWREZWFsKCk7IC8vIOWumuacn+iwg+eUqO+8jOmBv+WFjeacieaXtuWAmURPTeaPkuWFpeayoeacieaJp+ihjOWvvOiHtOeahOmXrumimAogICAgICAgICAgICAgICAgICAgICAgICB9LCA4MDApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYWluQ2FsbGJhY2soZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPSBudWxsICYmIHR5cGVvZihlLnRhcmdldC5jbGFzc05hbWUpID09ICJzdHJpbmciICYmIGUudGFyZ2V0LmNsYXNzTmFtZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoIkFDLSIpID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIH0gLy/lsY/olL3mjonlm6DkuLrlop7liqBjc3Plr7zoh7TnmoTop6blj5FpbnNlcnTliqjkvZwKICAgICAgICAgICAgICAgICAgICByYXBpZERlYWwoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTaG93U2VhcmNoQm94KCl7CiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyDlvoXlrozmiJAKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBBdXRvUmVmcmVzaCgpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIUFDQ29uZmlnLmlzUmlnaHREaXNwbGF5RW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOenu+mZpOWPs+i+ueagjyAt5rOo5oSP5ZyoI3dyYXBwZXI+I2Nvbi1hdD4jcmVzdWx0LW9wIHhwYXRoLWxvZ+acieaXtuWAmeW+iOmHjeimge+8jOS4jeiDvemakOiXjwogICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZSgiI2NvbnRlbnRfcmlnaHR7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fSNjb250ZW50X3JpZ2h0IHRkPmRpdjpub3QoW2lkXSl7ZGlzcGxheTpub25lO30jY29udGVudF9yaWdodCAucmVzdWx0LW9wOm5vdChbaWRdKXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50O30jcmhze2Rpc3BsYXk6bm9uZTt9IiwgIkFDLVJpZ2h0UmVtb3ZlIik7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENPTlNULkFkc1N0eWxlTW9kZSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDpnZ7lj4zliJfmqKHlvI/kuIvlsL3lj6/og73nmoTmmL7npLrlj7PkvqfmoI8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKCJAbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAxMjUwcHgpIHsjY29udGFpbmVye3dpZHRoOiA4MCUgIWltcG9ydGFudDt9LmNvbnRhaW5lcl9sICNjb250ZW50X3JpZ2h0e21hcmdpbi1yaWdodDogY2FsYygxOCUgLSAyMTBweCk7cG9zaXRpb246IGFic29sdXRlO3JpZ2h0OiAtMjAwcHg7ZGlzcGxheTpibG9jayAhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbjt3aWR0aDogMjJ2dyAhaW1wb3J0YW50O30iLCAiQUMtUmlnaHRSZW1vdmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZiAoIUFDQ29uZmlnLmlzQUxpbmVFbmFibGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgQUNfYWRkU3R5bGUoImEsYSBlbXt0ZXh0LWRlY29yYXRpb246bm9uZX0iLCAiQUMtTm9MaW5lIik7Ly8g56e76Zmk6L+Z5Lqb5Liq5LiL5YiS57q/CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChBQ0NvbmZpZy5pc1VzZXJTdHlsZUVuYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZShBQ0NvbmZpZy5Vc2VyU3R5bGVUZXh0LCAiQUMtdXNlclN0eWxlIik7Ly8g55So5oi36Ieq5a6a5LmJ55qE5qC35byP6KGoCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKAogICAgICAgICAgICAgICAgICAgICAgICAiLm9wci1yZWNvbW1lbmRzLW1lcmdlLWltZ3RleHR7ZGlzcGxheTpub25lIWltcG9ydGFudDt9IiArIC8vIOenu+mZpOeZvuW6pua1j+iniOWZqOaOqOW5vwogICAgICAgICAgICAgICAgICAgICAgICAiLnJlc190b3BfYmFubmVye2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnQ7fSIgKyAvLyDnp7vpmaTlj6/og73nmoTnmb7luqZIVFRQU+WKq+aMgeaYvuekuumXrumimAogICAgICAgICAgICAgICAgICAgICAgICAiLmhlYWRCbG9jaywgYm9keT5kaXYucmVzdWx0LW9we2Rpc3BsYXk6bm9uZTt9IiAvLyDnp7vpmaTnmb7luqbnmoTmkJzntKLnu5Pmnpzpobbpg6jkuIDmnaHnmoTlu7rorq7mloflrZcgJiDnp7vpmaTlj6/og73lh7rnjrDnmoTnmb3lsY/njrDosaEKICAgICAgICAgICAgICAgICAgICAgICAgLCAiQUMtc3BlY2lhbC1CQUlEVSIKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIC8qIuiHquWumuS5iSLmjInpkq7mlYjmnpwqLwogICAgICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKCIubmV3RnVuY0hpZ2hMaWdodHtjb2xvcjpyZWQ7Zm9udC13ZWlnaHQ6IDEwMDtiYWNrZ3JvdW5kLWNvbG9yOiB5ZWxsb3c7Zm9udC13ZWlnaHQ6IDYwMDt9I3NwLWFjLWNvbnRhaW5lciBsYWJlbHtkaXNwbGF5OmlubGluZTt9I3V7d2lkdGg6MzE5cHh9I3UgI215dXNlcntkaXNwbGF5OmlubGluZX0jbXl1c2VyLCNteXVzZXIgLm15dXNlcmNvbmZpZ3twYWRkaW5nOjA7bWFyZ2luOjB9I215dXNlcntkaXNwbGF5OmlubGluZS1ibG9jazt9I215dXNlciAubXl1c2VyY29uZmlne2Rpc3BsYXk6aW5saW5lLWJsb2NrO2xpbmUtaGVpZ2h0OjEuNTtiYWNrZ3JvdW5kOiMyODY2YmQ7Y29sb3I6I2ZmZjtmb250LXdlaWdodDo3MDA7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo2cHg7Ym9yZGVyOjJweCBzb2xpZCAjRTVFNUU1O30jbXl1c2VyIC5teXVzZXJjb25maWd7Ym94LXNoYWRvdzowIDAgMTBweCAzcHggcmdiYSgwLDAsMCwuMSl9I215dXNlciAubXl1c2VyY29uZmlnOmhvdmVye2JhY2tncm91bmQ6IzI5NzBkNCAhaW1wb3J0YW50O2NvbG9yOiNmZmY7Y3Vyc29yOnBvaW50ZXI7Ym9yZGVyOjJweCBzb2xpZCAjNzNBNkY4O30iLCAiQUMtTUVOVV9CdG4iKTsKICAgICAgICAgICAgICAgICAgICAvKuiHquWumuS5iemhtemdouWGheWuueaViOaenCovCiAgICAgICAgICAgICAgICAgICAgQUNfYWRkU3R5bGUoJ2JvZHlbYmFpZHVdICAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWw6bm90KFtjbGFzcyo9ImJhaWR1Il0pPmxhYmVsLFxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICcgICBib2R5W2dvb2dsZV0gI3NwLWFjLWNvbnRhaW5lciAuY29udGFpbmVyLWxhYmVsOm5vdChbY2xhc3MqPSJnb29nbGUiXSk+bGFiZWwsXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJyAgIGJvZHlbYmluZ10gICAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWw6bm90KFtjbGFzcyo9ImJpbmciXSk+bGFiZWwsXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJyAgIGJvZHlbc29nb3VdICAgI3NwLWFjLWNvbnRhaW5lciAuY29udGFpbmVyLWxhYmVsOm5vdChbY2xhc3MqPSJzb2dvdSJdKT5sYWJlbCxcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAnICAgYm9keVtiYWlkdV0gICNzcC1hYy1jb250YWluZXIgLmNvbnRhaW5lci1sYWJlbDpub3QoW2NsYXNzKj0iYmFpZHUiXSk+YnIsXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJyAgIGJvZHlbZ29vZ2xlXSAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWw6bm90KFtjbGFzcyo9Imdvb2dsZSJdKT5icixcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAnICAgYm9keVtiaW5nXSAgICNzcC1hYy1jb250YWluZXIgLmNvbnRhaW5lci1sYWJlbDpub3QoW2NsYXNzKj0iYmluZyJdKT5icixcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAnICAgYm9keVtzb2dvdV0gICAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWw6bm90KFtjbGFzcyo9InNvZ291Il0pPmJyLFxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICcgICBib2R5W2JhaWR1XSAgI3NwLWFjLWNvbnRhaW5lciAuY29udGFpbmVyLWxhYmVsW2NsYXNzKj0iYmFpZHUiXT5sYWJlbGhpZGUsXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJyAgIGJvZHlbZ29vZ2xlXSAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWxbY2xhc3MqPSJnb29nbGUiXT5sYWJlbGhpZGUsXG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJyAgIGJvZHlbYmluZ10gI3NwLWFjLWNvbnRhaW5lciAuY29udGFpbmVyLWxhYmVsW2NsYXNzKj0iYmluZyJdPmxhYmVsaGlkZSxcbicgKwogICAgICAgICAgICAgICAgICAgICAgICAnICAgYm9keVtzb2dvdV0gICAjc3AtYWMtY29udGFpbmVyIC5jb250YWluZXItbGFiZWxbY2xhc3MqPSJzb2dvdSJdPmxhYmVsaGlkZVxuJyArCiAgICAgICAgICAgICAgICAgICAgICAgICd7JyArCiAgICAgICAgICAgICAgICAgICAgICAgICdkaXNwbGF5Om5vbmU7XG4nICsKICAgICAgICAgICAgICAgICAgICAgICAgJ30jc3AtYWMtY29udGFpbmVyIGxhYmVsSGlkZXtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDo4JTtjb2xvcjpibHVlfSNzcC1hYy1jb250YWluZXIgLmxpbmtocmVmLCNzcC1hYy1jb250YWluZXIgbGFiZWxIaWRlOmhvdmVye2NvbG9yOnJlZH0jc3AtYWMtY29udGFpbmVyIC5saW5raHJlZjpob3Zlcntmb250LXdlaWdodDpib2xkfSNzcC1hYy1jb250YWluZXIgbGFiZWwubWVudS1ib3gtc21hbGx7bWF4LXdpZHRoOjE2cHg7bWF4LWhlaWdodDoxNnB4O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5BQy1Db3VudGVyVHtiYWNrZ3JvdW5kOiNGRDk5OTl9Ym9keSA+ICNzcC1hYy1jb250YWluZXJ7cG9zaXRpb246Zml4ZWQ7dG9wOjMuOXZ3O3JpZ2h0OjguOHZ3fSNzcC1hYy1jb250YWluZXJ7ei1pbmRleDo5OTk5OTk7dGV4dC1hbGlnbjpsZWZ0O2JhY2tncm91bmQtY29sb3I6d2hpdGV9I3NwLWFjLWNvbnRhaW5lciAqe2ZvbnQtc2l6ZToxM3B4O2NvbG9yOmJsYWNrO2Zsb2F0Om5vbmV9I3NwLWFjLW1haW4taGVhZHtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6MDtsZWZ0OjB9I3NwLWFjLXNwYW4taW5mb3twb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxcHg7dG9wOjA7Zm9udC1zaXplOjEwcHg7bGluZS1oZWlnaHQ6MTBweDtiYWNrZ3JvdW5kOm5vbmU7Zm9udC1zdHlsZTppdGFsaWM7Y29sb3I6IzVhNWE1YTt0ZXh0LXNoYWRvdzp3aGl0ZSAwcHggMXB4IDFweH0jc3AtYWMtY29udGFpbmVyIGlucHV0e3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtkaXNwbGF5OmlubGluZS1ibG9jaztvdXRsaW5lOm5vbmU7aGVpZ2h0OmF1dG87cGFkZGluZzowcHg7bWFyZ2luLWJvdHRvbTowcHg7bWFyZ2luLXRvcDowcHh9I3NwLWFjLWNvbnRhaW5lciBpbnB1dFt0eXBlPSJudW1iZXIiXXt3aWR0aDo1MHB4O3RleHQtYWxpZ246bGVmdH0jc3AtYWMtY29udGFpbmVyIGlucHV0W3R5cGU9ImNoZWNrYm94Il17Ym9yZGVyOjFweCBzb2xpZCAjQjRCNEI0O3BhZGRpbmc6MXB4O21hcmdpbjozcHg7d2lkdGg6MTNweDtoZWlnaHQ6MTNweDtiYWNrZ3JvdW5kOm5vbmU7Y3Vyc29yOnBvaW50ZXI7dmlzaWJpbGl0eTp2aXNpYmxlO3Bvc2l0aW9uOnN0YXRpY30jc3AtYWMtY29udGFpbmVyIGlucHV0W3R5cGU9ImJ1dHRvbiJde2JvcmRlcjoxcHggc29saWQgI2NjYztjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kOm5vbmU7d2lkdGg6YXV0bztoZWlnaHQ6YXV0b30jc3AtYWMtY29udGFpbmVyIGxpe2xpc3Qtc3R5bGU6bm9uZTttYXJnaW46M3B4IDA7Ym9yZGVyOm5vbmU7ZmxvYXQ6bm9uZTtjdXJzb3I6ZGVmYXVsdDt9I3NwLWFjLWNvbnRhaW5lciBmaWVsZHNldHtib3JkZXI6MnB4IGdyb292ZSAjY2NjOy1tb3otYm9yZGVyLXJhZGl1czozcHg7Ym9yZGVyLXJhZGl1czozcHg7cGFkZGluZzo0cHggOXB4IDZweCA5cHg7bWFyZ2luOjJweDtkaXNwbGF5OmJsb2NrO3dpZHRoOmF1dG87aGVpZ2h0OmF1dG99I3NwLWFjLWNvbnRhaW5lciBsZWdlbmR7bGluZS1oZWlnaHQ6MjBweDttYXJnaW4tYm90dG9tOjBweH0jc3AtYWMtY29udGFpbmVyIGZpZWxkc2V0ID4gdWx7cGFkZGluZzowO21hcmdpbjowfSNzcC1hYy1jb250YWluZXIgdWwjc3AtYWMtYV91c2VpZnJhbWUtZXh0ZW5ke3BhZGRpbmctbGVmdDo0MHB4fSNzcC1hYy1yZWN0e3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDowO2xlZnQ6MDtmbG9hdDpyaWdodDtoZWlnaHQ6MTBweDt3aWR0aDoxMHB4O3BhZGRpbmc6MDttYXJnaW46MDstbW96LWJvcmRlci1yYWRpdXM6M3B4O2JvcmRlci1yYWRpdXM6M3B4O2JvcmRlcjoxcHggc29saWQgd2hpdGU7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDAgMCAzcHggcmdiYSgwLDAsMCwwLjgpOy1tb3otYm94LXNoYWRvdzppbnNldCAwIDVweCAwIHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwIDAgM3B4IHJnYmEoMCwwLDAsMC44KTtib3gtc2hhZG93Omluc2V0IDAgNXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwwLjMpLDAgMCAzcHggcmdiYSgwLDAsMCwwLjgpO29wYWNpdHk6MC44fSNzcC1hYy1kb3QsI3NwLWFjLWN1ci1tb2Rle3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6OTk5OTt3aWR0aDo1cHg7aGVpZ2h0OjVweDtwYWRkaW5nOjA7LW1vei1ib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6MXB4IHNvbGlkIHdoaXRlO29wYWNpdHk6MTstd2Via2l0LWJveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuOSk7LW1vei1ib3gtc2hhZG93Omluc2V0IDAgLTJweCAxcHggcmdiYSgwLDAsMCwwLjMpLGluc2V0IDAgMnB4IDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMyksMHB4IDFweCAycHggcmdiYSgwLDAsMCwwLjkpO2JveC1zaGFkb3c6aW5zZXQgMCAtMnB4IDFweCByZ2JhKDAsMCwwLDAuMyksaW5zZXQgMCAycHggMXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4zKSwwcHggMXB4IDJweCByZ2JhKDAsMCwwLDAuOSl9I3NwLWFjLWRvdHtyaWdodDotM3B4O3RvcDotM3B4fSNzcC1hYy1jdXItbW9kZXtsZWZ0Oi0zcHg7dG9wOi0zcHg7d2lkdGg6NnB4O2hlaWdodDo2cHh9I3NwLWFjLWNvbnRlbnR7cGFkZGluZzowO21hcmdpbjowcHg7LW1vei1ib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweDtib3JkZXI6MXB4IHNvbGlkICNBMEEwQTA7LXdlYmtpdC1ib3gtc2hhZG93Oi0ycHggMnB4IDVweCByZ2JhKDAsMCwwLDAuMyk7LW1vei1ib3gtc2hhZG93Oi0ycHggMnB4IDVweCByZ2JhKDAsMCwwLDAuMyk7Ym94LXNoYWRvdzotMnB4IDJweCA1cHggcmdiYSgwLDAsMCwwLjMpfSNzcC1hYy1tYWlue3BhZGRpbmc6NXB4O2JvcmRlcjoxcHggc29saWQgd2hpdGU7LW1vei1ib3JkZXItcmFkaXVzOjNweDtib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOiNGMkYyRjc7YmFja2dyb3VuZDotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI0ZDRkNGQywjRjJGMkY3IDEwMCUpO2JhY2tncm91bmQ6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsMCAwLDAgMTAwJSxmcm9tKCNGQ0ZDRkMpLHRvKCNGMkYyRjcpKX0jc3AtYWMtZm9vdHtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OjA7cmlnaHQ6MDttaW4taGVpZ2h0OjIwcHh9I3NwLWFjLXNhdmVidXR0b257cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MnB4fSNzcC1hYy1jb250YWluZXIgLmVuZGJ1dHRvbnttYXJnaW4tdG9wOjhweH0jc3AtYWMtY29udGFpbmVyIC5zcC1hYy1zcGFuYnV0dG9ue2JvcmRlcjoxcHggc29saWQgI2NjYzstbW96LWJvcmRlci1yYWRpdXM6M3B4O2JvcmRlci1yYWRpdXM6M3B4O3BhZGRpbmc6MnB4IDNweDtjdXJzb3I6cG9pbnRlcjtiYWNrZ3JvdW5kLWNvbG9yOiNGOUY5Rjk7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMTBweCA1cHggd2hpdGU7LW1vei1ib3gtc2hhZG93Omluc2V0IDAgMTBweCA1cHggd2hpdGU7Ym94LXNoYWRvdzppbnNldCAwIDEwcHggNXB4IHdoaXRlfSNzcC1hYy1jb250YWluZXIgLnNwLWFjLXNwYW5idXR0b246aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojREREfWxhYmVsW2NsYXNzPSJuZXdGdW5jIl17Y29sb3I6Ymx1ZX0nLCAiQUMtTUVOVV9QYWdlIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBBdXRvUmVmcmVzaCgpOwogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kKCdBQy3ph43lrprlkJHohJrmnKzorr7nva4nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0U2VhcmNoVmFsdWUoKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGt2bCA9IGxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkuc3BsaXQoIiYiKTsKICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoViA9ICIiOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBrdmwubGVuZ3RoOyBpKyspewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBrdmxbaV0ucmVwbGFjZSgvXih3ZHxxdWVyeXxxKT0vLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHZhbHVlICE9IGt2bFtpXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2hWID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8gICcrJyDnmb7luqbjgIHmkJzni5fjgIHlv4XlupTjgIHosLfmrYzjgIHlpb3mkJwKICAgICAgICAgICAgICAgICAgICBzZWFyY2hWID0gc2VhcmNoVi5yZXBsYWNlKCIrIiwgIiAiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VhcmNoVjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJhcGlkRGVhbCgpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0TG9ja2VkID09IGZhbHNlICYmIGN1clNpdGUuU2l0ZVR5cGVJRCAhPSBTaXRlVHlwZS5PVEhFUlMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExvY2tlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnNlcnRTZXR0aW5nTWVudSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2hvd1NldHRpbmcoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDSGFuZGxlKCk7IC8vIOWkhOeQhuS4u+mHjeWumuWQkQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0b1JlZnJlc2goKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBQ0NvbmZpZy5pc0Fkc0VuYWJsZSkgeyAvLyDmlL7ov5vmnaXvvIzlh4/lsJHljaHpob8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBRF9iYWlkdV9zb2dvdSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLkFkc1N0eWxlRW5hYmxlKSB7IC8vIOWNleeLrOS4jemcgOimgeWumuaXtuWZqC3poLvnuYHop6blj5Et6L295YWlY3NzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRlNCYWlkdSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLmlzRmF2aWNvbkVuYWJsZSkgeyAvLyDmmL7npLpmYXZpY29u5Zu+5qCHCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkRmF2aWNvbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGN1clNpdGUuRmF2aWNvblR5cGUpKTsgLy8g5re75YqgRmF2aWNvbuaYvuekugogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLmRvRGlzYWJsZVN1ZykgeyAvLyDkuI3lkK/nlKjnp7vliqjpooTmtYtb6buY6K6kXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjU2V0Q29va2llKCJPUklHSU4iLCAyLCAid3d3LmJhaWR1LmNvbSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjU2V0Q29va2llKCJJU1NXIiwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNTZXRDb29raWUoIklTU1ciLCAxLCAid3d3LmJhaWR1LmNvbSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlkK/nlKjnp7vliqjpooTmtYst5LiN55+l6YGT5Li65LuA5LmI6KaB6K6+572u5Lik5LiqLeeZvuW6puiHquW3seS8muWPmO+8n++8jOWPjeato+acieaViOaenAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjU2V0Q29va2llKCJPUklHSU4iLCAxLCAid3d3LmJhaWR1LmNvbSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjU2V0Q29va2llKCJJU1NXIiwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNTZXRDb29raWUoIklTU1ciLCAxLCAid3d3LmJhaWR1LmNvbSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLmlzQWRzRW5hYmxlKSB7IC8vIOenu+mZpOeZvuW6puW5v+WRigogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUFEX2JhaWR1X3NvZ291KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQUNDb25maWcuaXNDb3VudGVyRW5hYmxlKSB7IC8vIOaYvuekuuiuoeaVsOWZqAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZENvdW50ZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjdXJTaXRlLkNvdW50ZXJUeXBlKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihBQ0NvbmZpZy5pc0Jsb2NrRW5hYmxlKXsgLy8g5ZCv55So5bGP6JS95Yqf6IO9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQmxvY2tCYWlkdS5pbml0U3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBCbG9ja0JhaWR1LmluaXQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExvY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFjU2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGRvbWFpbiwgZXhkYXlzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4ZGF5cyA9IGV4ZGF5cyB8fCAzMDsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkb21haW4gPSAoZG9tYWluID8gImRvbWFpbj0iICsgZG9tYWluIDogIiIpICsgIjsiOwogICAgICAgICAgICAgICAgICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXhwaXJlcyA9ICJleHBpcmVzPSIgKyBkLnRvVVRDU3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNuYW1lICsgIj0iICsgY3ZhbHVlICsgIjsgIiArIGRvbWFpbiArIGV4cGlyZXMgKyAiO3BhdGg9LyI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJhaWR1SG9zdChzaXRldHBOb2RlKXsKICAgICAgICAgICAgICAgICAgICBpZihjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuQkFJRFUpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHJlZiA9IG51bGw7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNpdGV0cE5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gc2l0ZXRwTm9kZS5nZXRBdHRyaWJ1dGUoImhyZWYiKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGhyZWYgIT0gbnVsbCAmJiBocmVmLmluZGV4T2YoImJhaWR1LmNvbS9saW5rIikgPCAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOW3sue7j+ino+aekOWHuuadpeS6hgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEhvc3QoaHJlZik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEhvc3Qoc2l0ZXRwTm9kZS5pbm5lclRleHQgfHwgc2l0ZXRwTm9kZS50ZXh0Q29udGVudCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gQUNIYW5kbGUoKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g5aSE55CG5Li76YeN5a6a5ZCRCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5PVEhFUlMpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICBpZiAoQUNDb25maWcuaXNSZWRpcmVjdEVuYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TdHlwZV9Ob3JtYWwgIT0gbnVsbCAmJiBjdXJTaXRlLlN0eXBlX05vcm1hbCAhPSAiIil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnmb7luqbmkJzni5fljrvph43lrprlkJEt5pmu6YCa5qih5byP44CQ5rOo5oSP5LiN6IO95Li6ZG9jdW1lbnQucXVlcnkuLuOAkQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRVUkxOb3JtYWwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjdXJTaXRlLlN0eXBlX05vcm1hbCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2hlY2tJU0JhaWR1TWFpbigpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuc19mb3JtIC5pbmRleC1sb2dvLXNyY1tzcmMqPSdnaWYnXSwgLnNfZm9ybSAuaW5kZXgtbG9nby1zcmNuZXdbc3JjKj0nZ2lmJ10iKS5mb3JFYWNoKGZ1bmN0aW9uIChwZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyLnNyYyA9ICJodHRwczovL3BpYy5ybWIuYmRzdGF0aWMuY29tL2M4NjI1NWU4MDI4Njk2MTM5ZDNlM2U0YmI0NGMwNDdiLnBuZyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOelnuWlh+eahOeZvuW6pueZvuWutuWPtwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2ltZ3NhLmJhaWR1LmNvbS9mZXgvcGljL2l0ZW0vODcxODM2N2FkYWI0NGFlZGNjOTFhYjJiYmUxYzg3MDFhMDhiZmIyNi5qcGcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9iYWlkdS5udGFvdy5jb20vbmV3Y3NzL2JhaWR1LnBuZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuR09PR0xFKSByZW1vdmVPbk1vdXNlRG93bkZ1bmMoKTsgLy8g56e76Zmkb25Nb3VzZURvd27kuovku7bvvIzosLfmrYzljrvph43lrprlkJEKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5NQkFJRFUpIHJlbW92ZU1vYmlsZUJhaWR1RGlyZWN0TGluaygpOyAvLyDlpITnkIbnmb7luqbmiYvmnLrniYjmnKznmoTph43lrprlkJHlnLDlnYAKICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlUmVkaXJlY3RMaW5rVGFyZ2V0KCk7IC8vIOWPquenu+mZpOefpeS5jueahOmHjeWumuWQkemXrumimCAmIOeZvuW6puWtpuacr+mHjeWumuWQkemXrumimAogICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKCIucmVzX3RvcF9iYW5uZXIiKTsgLy8g56e76Zmk55m+5bqm5Y+v6IO95pi+56S655qE5Yqr5oyBCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0cnl7IC8vIOaUvuWFpeW8guW4uOaNleiOt++8jOmYsuatoueUseS6jmh0bWzmj5LlhaXov4fmhaLlr7zoh7TnmoRqc+e7iOatogogICAgICAgICAgICAgICAgICAgICAgICBpZighIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1zdHlsZSIpLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiaW5wdXRbbmFtZSo9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfJ10iICkuZm9yRWFjaChwZXIgPT4ge3Blci5zZXRBdHRyaWJ1dGUoImRpc2FibGVkIiwgImRpc2FibGVkIik7cGVyLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsICLor7flvIDlkK/oh6rlrprkuYnmoLflvI8iKX0pOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWUqPSdzcC1hYy1hX2ZvcmNlX3N0eWxlXyddIiApLmZvckVhY2gocGVyID0+IHtwZXIucmVtb3ZlQXR0cmlidXRlKCJkaXNhYmxlZCIpO3Blci5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgidGl0bGUiLCAiQUMt6Ieq5a6a5LmJ5qC35byP5YaF5a65Iil9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZighIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1ibG9jayIpLmNoZWNrZWQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiI3NwLWFjLXJlbW92ZUJsb2NrLCAjc3AtYWMtYmxvY2tCdG5EaXNwbGF5IiApLmZvckVhY2gocGVyID0+IHtwZXIuc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsICJkaXNhYmxlZCIpO3Blci5wYXJlbnROb2RlLnNldEF0dHJpYnV0ZSgidGl0bGUiLCAi6K+35byA5ZCv6Ieq5a6a5LmJ5qC35byPIil9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjc3AtYWMtcmVtb3ZlQmxvY2ssICNzcC1hYy1ibG9ja0J0bkRpc3BsYXkiICkuZm9yRWFjaChwZXIgPT4ge3Blci5yZW1vdmVBdHRyaWJ1dGUoImRpc2FibGVkIik7cGVyLnBhcmVudE5vZGUuc2V0QXR0cmlidXRlKCJ0aXRsZSIsICJBQy3oh6rkuLvmi6bmiKrlip/og70iKX0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIEFDdG9nZ2xlU2V0dGluZ0Rpc3BsYXkoZSkgewogICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgLy8g5pi+56S677yf6ZqQ6JeP6K6+572u55WM6Z2iCiAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmlmcmFtZS1mYXRoZXIgaWZyYW1lIikgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5pZnJhbWUtZmF0aGVyIikuaW5zZXJ0QWRqYWNlbnRIVE1MKCJiZWZvcmVlbmQiLCAiPGlmcmFtZSBzcmM9J2h0dHBzOi8vZ2hidG5zLmNvbS9naXRodWItYnRuLmh0bWw/dXNlcj1sYW5ncmVuMTM1MyZyZXBvPUdNX3NjcmlwdCZ0eXBlPXN0YXImY291bnQ9dHJ1ZScgZnJhbWVib3JkZXI9JzAnIHNjcm9sbGluZz0nMCcgc3R5bGU9J2hlaWdodDogMjBweDttYXgtd2lkdGg6IDEwOHB4O3BhZGRpbmctbGVmdDo1cHg7Ym94LXNpemluZzogYm9yZGVyLWJveDttYXJnaW4tYm90dG9tOiAtNXB4O2Rpc3BsYXk6dW5zZXQgIWltcG9ydGFudDsnPjwvaWZyYW1lPiIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9PSAnYmxvY2snKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGVudCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5vbGRWZXJzaW9uID0gR01faW5mby5zY3JpcHQudmVyc2lvbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdNLnNldFZhbHVlKCJDb25maWciLCBKU09OLnN0cmluZ2lmeShBQ0NvbmZpZykpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmFjLW5ld3ZlcnNpb25EaXNwbGF5Iikuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb250ZW50Iikuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCAxMDApOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRCbG9ja0xpc3QoKXsgLy8g5ZCM5pe25aSE55CG6auY5LquCiAgICAgICAgICAgICAgICAgICAgbGV0IGluc0hUTUwgPSAiIjsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgQUNDb25maWcuVXNlckJsb2NrTGlzdC5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnNDbGFzcyA9IENPTlNULmN1ckhvc3RzLmZpbmRJbmRleChtID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoQUNDb25maWcuVXNlckJsb2NrTGlzdFtpXS5yZXBsYWNlKCIqIiwgIi4qIikpLnRlc3QobSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0gPT0gQUNDb25maWcuVXNlckJsb2NrTGlzdFtpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkgPj0gMCA/ICIgYWMtYmxvY2staGlnaCI6IiI7IC8vIOWmguaenOW9k+WJjemhtemdouWtmOWcqO+8jOWImemrmOS6rgogICAgICAgICAgICAgICAgICAgICAgICBpbnNIVE1MICs9IGA8bGk+PGxhYmVsIGNsYXNzPSJhYy1ibG9jay1pdGVtJHtpbnNDbGFzc30iIGRhdGEtaG9zdD0iJHtBQ0NvbmZpZy5Vc2VyQmxvY2tMaXN0W2ldfSI+JHtBQ0NvbmZpZy5Vc2VyQmxvY2tMaXN0W2ldfTwvbGFiZWw+PGxhYmVsIGNsYXNzPSJhYy1ibG9jay1pdGVtIGFjLWJsb2NrLWl0ZW1kZWwiIGRhdGEtaG9zdD0iJHtBQ0NvbmZpZy5Vc2VyQmxvY2tMaXN0W2ldfSI+eDwvbGFiZWw+PC9saT5cbmA7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnNIVE1MOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbG9hZEJsb2NrTGlzdCgpewogICAgICAgICAgICAgICAgICAgIC8vIOWIneWni+WMluihqOagvOWGheWuueW5tue7keWumuaMiemSruS6i+S7tgogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hYy1ibG9ja0xpc3QgdWwiKS5pbm5lckhUTUwgPSBnZXRCbG9ja0xpc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbml0QmxvY2tQYWdlKCl7CiAgICAgICAgICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgICAgICAgICBpZih1c2VDTkxhbil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2V0dGluZy1zZWNvbmQiKS5pbm5lckhUTUwgPSBgPGxpIHN0eWxlPSdtYXJnaW4tYm90dG9tOiA4cHggIWltcG9ydGFudDsnPjxsYWJlbD48c3BhbiBpZD0nc3AtYWMtYmxvY2tkaXlidXR0b24tYmFjaycgY2xhc3M9J3NwLWFjLXNwYW5idXR0b24nIHRpdGxlPSfov5Tlm54nPjwt6L+U5ZuePC9zcGFuPjwvbGFiZWw+Jm5ic3A75oum5oiq5YiX6KGoJm5ic3A7Jm5ic3A75oOz6KaB55Sf5pWI55qE6K+d6ZyA6KaB5omL5Yqo5L+d5a2YPC9saT48bGkgY2xhc3M9J2FjLWJsb2NrTGlzdCcgc3R5bGU9J21heC1oZWlnaHQ6NjB2aDtvdmVyZmxvdy15OiBzY3JvbGw7Jz48dWw+JHtnZXRCbG9ja0xpc3QoKX08L3VsPjwvbGk+PGxpPuWFqOWMuemFjeaLpuaIqu+8mjxpbnB1dCBjbGFzcz0ic3AtYWMtYWRkUnVsZU9uZSIgc3R5bGU9J3dpZHRoOjU1JTsnPjxzcGFuIGlkPSdzcC1hYy1hZGRSdWxlYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbiBlbmRidXR0b24nIHRpdGxlPSfmlrDlop4nIHN0eWxlPSdwb3NpdGlvbjogcmVsYXRpdmUgIWltcG9ydGFudDtsaW5lLWhlaWdodDogMTdweDsnPuaWsOWinjwvc3Bhbj48L2xpPmA7CiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNldHRpbmctc2Vjb25kIikuaW5uZXJIVE1MID0gYDxsaSBzdHlsZT0nbWFyZ2luLWJvdHRvbTogOHB4ICFpbXBvcnRhbnQ7Jz48bGFiZWw+PHNwYW4gaWQ9J3NwLWFjLWJsb2NrZGl5YnV0dG9uLWJhY2snIGNsYXNzPSdzcC1hYy1zcGFuYnV0dG9uJyB0aXRsZT0nQmFjayc+PC1CYWNrPC9zcGFuPjwvbGFiZWw+Jm5ic3A7QmxvY2sgTGlzdCZuYnNwOyZuYnNwO0NsaWNrIFNhdmUgQnV0dG9uIGlmIHlvdSB3YW50IHdvIHNhdmUgdGhlIGxpc3Q8L2xpPjxsaSBjbGFzcz0nYWMtYmxvY2tMaXN0JyBzdHlsZT0nbWF4LWhlaWdodDo2MHZoO292ZXJmbG93LXk6IHNjcm9sbDsnPjx1bD4ke2dldEJsb2NrTGlzdCgpfTwvdWw+PC9saT48bGk+U2FtZSBob3N0IEluc2VydCDvvJo8aW5wdXQgY2xhc3M9InNwLWFjLWFkZFJ1bGVPbmUiIHN0eWxlPSd3aWR0aDo1NSU7Jz48c3BhbiBpZD0nc3AtYWMtYWRkUnVsZWJ1dHRvbicgY2xhc3M9J3NwLWFjLXNwYW5idXR0b24gZW5kYnV0dG9uJyB0aXRsZT0nSW5zZXJ0JyBzdHlsZT0ncG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6IDE3cHg7Jz5JbnNlcnQ8L3NwYW4+PC9saT5gOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1ibG9ja2RpeWJ1dHRvbi1iYWNrIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2V0dGluZy1tYWluIikuc3R5bGUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zZXR0aW5nLXNlY29uZCIpLnN0eWxlID0gImRpc3BsYXk6bm9uZTsiOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmFjLWJsb2NrTGlzdCIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeCueWHu+enu+mZpOafkOS4qmhvc3TmlbDmja7ml7YKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZS50YXJnZXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICJsYWJlbCIpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3N0ID0gdGFyZ2V0LmRhdGFzZXQuaG9zdDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5Vc2VyQmxvY2tMaXN0LmFjcmVtb3ZlKGhvc3QsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImJ1dHRvblthYy11c2VyLWFsdGVyXSIpLmZvckVhY2goZnVuY3Rpb24gKHBlck5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOenu+mZpOeUqOaIt2RpeeS5i+WQjueahOWxnuaApwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyTm9kZS5yZW1vdmVBdHRyaWJ1dGUoImFjLXVzZXItYWx0ZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEJsb2NrQmFpZHUucmVuZGVyRGlzcGxheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxvYWRCbG9ja0xpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNrQWRkUnVsZSgpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5omL5Yqo5aKe5Yqg56e76Zmk6KeE5YiZCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXROID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNwLWFjLWFkZFJ1bGVPbmUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLlVzZXJCbG9ja0xpc3QuYWNwdXNoKGlucHV0Ti52YWx1ZSwgcmVsb2FkQmxvY2tMaXN0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0Ti52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1hZGRSdWxlYnV0dG9uIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBja0FkZFJ1bGUpOwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc3AtYWMtYWRkUnVsZU9uZSIpLmFkZEV2ZW50TGlzdGVuZXIoImtleXByZXNzIiwgZnVuY3Rpb24oZXZ0KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gZXZ0IHx8IHdpbmRvdy5ldmVudDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUua2V5Q29kZSA9PSAxMykgY2tBZGRSdWxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH1jYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBTaG93U2V0dGluZygpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLk9USEVSUykgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOS4jeWtmOWcqOeahOivne+8jOmCo+S5iOiHquW3seWIm+W7uuS4gOS4qi1jb3B5IGZyb20gc3VwZXJQcmVsb2FkCiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmJvZHkgIT0gbnVsbCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGFpbmVyIikgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgIENvbnRhaW5lci5pZCA9ICJzcC1hYy1jb250YWluZXIiOwogICAgICAgICAgICAgICAgICAgICAgICBpZih1c2VDTkxhbil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb250YWluZXIuaW5uZXJIVE1MID0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgIDxkaXYgaWQ9J3NwLWFjLWNvbnRlbnQnIHN0eWxlPSdkaXNwbGF5OiBub25lOyc+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICA8ZGl2IGlkPSdzcC1hYy1tYWluJz5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIDxmaWVsZHNldCBpZD0nc3AtYWMtYXV0b3BhZ2VyLWZpZWxkJyBzdHlsZT0nZGlzcGxheTpibG9jazsnPlxuIiArCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8bGVnZW5kIGNsYXNzPSdpZnJhbWUtZmF0aGVyJyB0aXRsZT0nQUPph43lrprlkJHlip/og73nm7jlhbPorr7nva4nPjxhIGNsYXNzPSdsaW5raHJlZicgaHJlZj0naHR0cHM6Ly93d3cubnRhb3cuY29tL2Fib3V0c2NyaXB0Lmh0bWwnIHRhcmdldD0nX2JsYW5rJz5BQy3ph43lrprlkJHorr7nva4iICsgQmFpZHVWZXJzaW9uICsgIjwvYT48L2xlZ2VuZD5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8dWwgY2xhc3M9J3NldHRpbmctbWFpbic+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWwgdGl0bGU9J+mHjeWumuWQkeWKn+iDveeahOW8gOWQr+S4juWQpic+PGlucHV0IGlkPSdzcC1hYy1yZWRpcmVjdCcgbmFtZT0nc3AtYWMtYV9zZXBhcmF0b3InIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzUmVkaXJlY3RFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuS4u+WKn+iDvS3ph43lrprlkJHlip/og708L2xhYmVsPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J1VzaW5nIEVuZ2xpc2ggbGFuZ3VhZ2UgdG8gZGlzcGxheSc+PGlucHV0IGlkPSdzcC1hYy1pc0VuTGFuZycgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNFbkxhbmcgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkVuLUxhbmd1YWdlPC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsIHRpdGxlPSfljrvpmaTpg6jliIbpobXpnaLnmoTlub/lkYrkv6Hmga/vvIzov5jkvaDkuIDkuKrlubLlh4DmlbTmtIHnmoTpobXpnaInID48aW5wdXQgaWQ9J3NwLWFjLWFkcycgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNBZHNFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumZhOWKoDEt5Y675bm/5ZGK5Yqf6IO9PC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsIHRpdGxlPSfngrnlh7vpobXpnaJibG9ja+aMiemSrua3u+WKoOS9oOaDs+imgemakOiXj+eahOWcsOWdgO+8jOiEmuacrOWwhuiHquWKqOmakOiXj+mDqOWIhue7k+aenOS4uuWwj+aoquW5he+8jERJWeaMiemSruS4reeCueWHu+ihqOagvOWGheWuueWPr+S7peWPlua2iOmakOiXjycgY2xhc3M9JyIrKENPTlNULmhhc05ld0Z1bmNOZWVkRGlzcGxheSA/ICJuZXdGdW5jSGlnaExpZ2h0IiA6ICIiKSsiJyA+PGlucHV0IGlkPSdzcC1hYy1ibG9jaycgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNCbG9ja0VuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgMi3oh6rkuLvmi6bmiKrln5/lkI08L2xhYmVsPiA8c3BhbiBpZD0nc3AtYWMtYmxvY2tkaXlidXR0b24nIGNsYXNzPSdzcC1hYy1zcGFuYnV0dG9uJyB0aXRsZT0n6Ieq5a6a5LmJQkxPQ0snIHN0eWxlPSdtYXJnaW4tbGVmdDogNXB4O2NvbG9yOiAjODg4ODg4Oyc+RElZPC9zcGFuPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdGl0bGU9J+iHquWKqOenu+mZpOW3sue7j+Wxj+iUveeahOWfn+WQjScgaWQ9J3NwLWFjLXJlbW92ZUJsb2NrJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc0Jsb2NrRGlzcGxheSA/ICdjaGVja2VkJyA6ICcnKSArICI+6Ieq5Yqo56e76ZmkPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHRpdGxlPSfpmpDol4/mjolibG9ja+aMiemSrueahOaYvuekuicgaWQ9J3NwLWFjLWJsb2NrQnRuRGlzcGxheScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNCbG9ja0J0bkRpc3BsYXkgPyAnJyA6ICdjaGVja2VkJykgKyAiPumakOiXj+aMiemSrjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsIHRpdGxlPSdBQy3oh6rlrprkuYnmoLflvI8nPjxpbnB1dCBpZD0nc3AtYWMtc3R5bGUnIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7pmYTliqAzLeiHquWumuS5ieagt+W8jzwvbGFiZWw+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsYWJlbD48L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3nmb7luqbmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8bGFiZWxNYWluIGNsYXNzPSdjb250YWluZXItbGFiZWwgYmFpZHUnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbEhpZGU+5bGV5byA55m+5bqm6K6+572uJmd0OyZndDs8L2xhYmVsSGlkZT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+eZvuW6pi3ljp/lp4vmqKHlvI8nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iYWlkdScgdmFsdWU9JzAnIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CYWlkdSA9PSAwID8gJ2NoZWNrZWQnIDogJycpICsgIj7nmb7luqYt5Y6f5aeL5qih5byPPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+eZvuW6pi3miqTnnLzmqKHlvI8nPjxpbnB1dCAgbmFtZT0nc3AtYWMtaHV5YW5fc3R5bGVfYmFpZHUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkh1WWFuX0JhaWR1ID09IHRydWUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPueZvuW6pi3miqTnnLzmqKHlvI88L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n55m+5bqmTGl0Zeagt+W8jycgY2xhc3M9JyIrKENPTlNULmhhc05ld0Z1bmNOZWVkRGlzcGxheSA/ICJuZXdGdW5jSGlnaExpZ2h0IiA6ICIiKSsiJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHVsaXRlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5TdHlsZV9CYWlkdUxpdGUgPT0gdHJ1ZSA/ICdjaGVja2VkJyA6ICcnKSArICI+55m+5bqmTGl0Zeagt+W8jzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPEJSLz48bGFiZWwgdGl0bGU9J+eZvuW6pi3ljZXliJfmma7pgJrmqKHlvI8nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgdGl0bGU9J+eZvuW6pi3ljZXliJfmma7pgJrmqKHlvI8nIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUnIHZhbHVlPScxJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDEgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWNleWIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfnmb7luqYt5Y2V5YiX5bGF5LitJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDIgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWNleWIl+WxheS4rTwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSflj4zliJcnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JhaWR1JyB2YWx1ZT0nMycgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CYWlkdSA9PSAzID8gJ2NoZWNrZWQnIDogJycpICsgIj7lj4zliJc8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5LiJ5YiXJz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iYWlkdScgdmFsdWU9JzQnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmFpZHUgPT0gNCA/ICdjaGVja2VkJyA6ICcnKSArICI+5LiJ5YiXPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+Wbm+WIlyc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUnIHZhbHVlPSc1JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWbm+WIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8QlIvPjwvbGFiZWxNYWluPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqLeeZvuW6puagt+W8jy0qKioqKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSdoZWlnaHQ6IDFweDt3aWR0aDoyNjdweDttYXJnaW4tbGVmdDoyNXB4O2JhY2tncm91bmQtY29sb3I6I2Q4ZDhkODttYXJnaW4tdG9wOjFweDsnPjwvZGl2PiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqLeiwt+atjOagt+W8jy0qKioqKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxsYWJlbE1haW4gY2xhc3M9J2NvbnRhaW5lci1sYWJlbCBnb29nbGUnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbEhpZGU+5bGV5byA6LC35q2M6K6+572uJmd0OyZndDs8L2xhYmVsSGlkZT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+iwt+atjC3ljp/lp4vmqKHlvI8nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9nb29nbGUnIHZhbHVlPScwJyB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfR29vZ2xlID09IDAgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuiwt+atjC3ljp/lp4vmqKHlvI88L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n6LC35q2MLeaKpOecvOaooeW8jyc+PGlucHV0ICBuYW1lPSdzcC1hYy1odXlhbl9zdHlsZV9nb29nbGUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkh1WWFuX0dvb2dsZSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj7osLfmrYwt5oqk55y85qih5byPPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+iwt+atjC3kvKroo4Xnmb7luqYnIHN0eWxlPSciKyhDT05TVC5oYXNOZXdGdW5jTmVlZERpc3BsYXkgPyAiY29sb3I6cmVkO2ZvbnQtd2VpZ2h0OiAxMDA7YmFja2dyb3VuZC1jb2xvcjogeWVsbG93O2ZvbnQtd2VpZ2h0OiA2MDA7IiA6ICIiKSsiJz48aW5wdXQgIG5hbWU9J3NwLWFjLWdvb2dsZV9pbl9iYWlkdW1vZGUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzR29vbGVJbkJhaWR1TW9kZUVuYWJsZSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj7osLfmrYwt5Lyq6KOF55m+5bqmPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8QlIvPjxsYWJlbCB0aXRsZT0n5Y2V5YiX5pmu6YCa5qih5byPJyBzdHlsZT0nbWFyZ2luLWxlZnQ6MjBweCc+PGlucHV0IHRpdGxlPSfosLfmrYwt5Y2V5YiX5pmu6YCa5qih5byPJyBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2dvb2dsZScgdmFsdWU9JzEnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfR29vZ2xlID09IDEgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWNleWIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfosLfmrYwt5Y2V5YiX5bGF5LitJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfZ29vZ2xlJyB2YWx1ZT0nMicgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Hb29nbGUgPT0gMiA/ICdjaGVja2VkJyA6ICcnKSArICI+5Y2V5YiX5bGF5LitPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+WPjOWIlyc+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2dvb2dsZScgdmFsdWU9JzMnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfR29vZ2xlID09IDMgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWPjOWIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfkuInliJcnPjxpbnB1dCAgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9nb29nbGUnIHZhbHVlPSc0JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0dvb2dsZSA9PSA0ID8gJ2NoZWNrZWQnIDogJycpICsgIj7kuInliJc8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5Zub5YiXJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfZ29vZ2xlJyB2YWx1ZT0nNScgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Hb29nbGUgPT0gNSA/ICdjaGVja2VkJyA6ICcnKSArICI+5Zub5YiXPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxCUi8+PC9sYWJlbE1haW4+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqKiot6LC35q2M5qC35byPLSoqKioqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0naGVpZ2h0OiAxcHg7d2lkdGg6MjY3cHg7bWFyZ2luLWxlZnQ6MjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNkOGQ4ZDg7bWFyZ2luLXRvcDoxcHg7Jz48L2Rpdj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3lv4XlupTmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8bGFiZWxNYWluIGNsYXNzPSdjb250YWluZXItbGFiZWwgYmluZyc+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsSGlkZT7lsZXlvIDlv4XlupTorr7nva4mZ3Q7Jmd0OzwvbGFiZWxIaWRlPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5b+F5bqULeWOn+Wni+aooeW8jycgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHgnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JpbmcnIHZhbHVlPScwJyB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZyA9PSAwID8gJ2NoZWNrZWQnIDogJycpICsgIj7lv4XlupQt5Y6f5aeL5qih5byPPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+W/heW6lC3miqTnnLzmqKHlvI8nPjxpbnB1dCBuYW1lPSdzcC1hYy1odXlhbl9zdHlsZV9iaW5nJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5IdVlhbl9CaW5nID09IHRydWUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuW/heW6lC3miqTnnLzmqKHlvI88L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxCUi8+PGxhYmVsIHRpdGxlPSfljZXliJfmma7pgJrmqKHlvI8nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgdGl0bGU9J+W/heW6lC3ljZXliJfmma7pgJrmqKHlvI8nIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmluZycgdmFsdWU9JzEnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZyA9PSAxID8gJ2NoZWNrZWQnIDogJycpICsgIj7ljZXliJc8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5b+F5bqULeWNleWIl+WxheS4rSc+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JpbmcnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JpbmcgPT0gMiA/ICdjaGVja2VkJyA6ICcnKSArICI+5Y2V5YiX5bGF5LitPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+WPjOWIlyc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmluZycgdmFsdWU9JzMnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZyA9PSAzID8gJ2NoZWNrZWQnIDogJycpICsgIj7lj4zliJc8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5LiJ5YiXJz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iaW5nJyB2YWx1ZT0nNCcgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CaW5nID09IDQgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuS4ieWIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSflm5vliJcnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JpbmcnIHZhbHVlPSc1JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JpbmcgPT0gNSA/ICdjaGVja2VkJyA6ICcnKSArICI+5Zub5YiXPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDwvbGFiZWxNYWluPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqLeW/heW6lOagt+W8jy0qKioqKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9J2hlaWdodDogMXB4O3dpZHRoOjI2N3B4O21hcmdpbi1sZWZ0OjI1cHg7YmFja2dyb3VuZC1jb2xvcjojZDhkOGQ4O21hcmdpbi10b3A6MXB4Oyc+PC9kaXY+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqKiot5pCc54uX5qC35byPLSoqKioqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgPGxhYmVsTWFpbiBjbGFzcz0nY29udGFpbmVyLWxhYmVsIHNvZ291Jz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxIaWRlPuWxleW8gOaQnOeLl+iuvue9riZndDsmZ3Q7PC9sYWJlbEhpZGU+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfmkJzni5ct5Y6f5aeL5qih5byPJyBzdHlsZT0nbWFyZ2luLWxlZnQ6MjBweCc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPScwJyB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfU29Hb3UgPT0gMCA/ICdjaGVja2VkJyA6ICcnKSArICI+5pCc54uXLeWOn+Wni+aooeW8jzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfmkJzni5ct5oqk55y85qih5byPJz48aW5wdXQgbmFtZT0nc3AtYWMtaHV5YW5fc3R5bGVfc29nb3UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkh1WWFuX1NvR291ID09IHRydWUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuaQnOeLly3miqTnnLzmqKHlvI88L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxCUi8+PGxhYmVsIHRpdGxlPSfljZXliJfmma7pgJrmqKHlvI8nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgdGl0bGU9J+aQnOeLly3ljZXliJfmma7pgJrmqKHlvI8nIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPScxJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX1NvR291ID09IDEgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWNleWIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSfmkJzni5ct5Y2V5YiX5bGF5LitJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX1NvR291ID09IDIgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWNleWIl+WxheS4rTwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSflj4zliJcnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX3NvZ291JyB2YWx1ZT0nMycgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Tb0dvdSA9PSAzID8gJ2NoZWNrZWQnIDogJycpICsgIj7lj4zliJc8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5LiJ5YiXJz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9zb2dvdScgdmFsdWU9JzQnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfU29Hb3UgPT0gNCA/ICdjaGVja2VkJyA6ICcnKSArICI+5LiJ5YiXPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J+Wbm+WIlyc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPSc1JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX1NvR291ID09IDUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPuWbm+WIlzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8L2xhYmVsTWFpbj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3mkJzni5fmoLflvI8tKioqKiovCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbCB0aXRsZT0n77yB6ZyA6KaB5Zyo6Ieq5a6a5LmJ5qC35byP5Lit5ZCv55So5oqk55y85qih5byPJz48aW5wdXQgdGl0bGU9J0FDLeiHquWumuS5ieaKpOecvCcgaWQ9J3NwLWFjLXVzZXJjb2xvcicgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNVc2VyQ29sb3JFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumZhOWKoDQt5oqk55y86aKc6Imy6YWN572uLeiHquWumuS5iTPkuK3pnIDlr7nlupTlvIDlkK88L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWwgY2xhc3M9J21lbnUtYm94LWNvbnRhaW5lcicgdGl0bGU9J++8gemcgOimgeWcqOiHquWumuS5ieagt+W8j+S4reWQr+eUqOaKpOecvOaooeW8jyc+PGxhYmVsIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Oyc+6buY6K6k5oqk55y86aKc6Imy77yaPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9J3NwLWFjLW1lbnVodXlhbkNvbG9yJyB0eXBlPSdjb2xvcicgdGl0bGU9J+iHquWumuS5ieeahOaKpOecvOminOiJsicgc3R5bGU9J2N1cnNvcjogcG9pbnRlcjttYXJnaW4tdG9wOi0wLjA1cmVtO2hlaWdodDoyM3B4OycgdmFsdWU9JyIgKyBBQ0NvbmZpZy5kZWZhdWx0SHVZYW5Db2xvciArICInPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0nbWVudS1ib3gtc21hbGwnIGRhdGEtY29sb3I9JyNERUYxRUYnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiNERUYxRUY7Jz4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0nbWVudS1ib3gtc21hbGwnIGRhdGEtY29sb3I9JyNGM0YyRUUnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiNGM0YyRUU7Jz4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0nbWVudS1ib3gtc21hbGwnIGRhdGEtY29sb3I9JyNFNUU1RTUnIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiNFNUU1RTU7Jz4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0nbGlua2hyZWYnIGRhdGEtaHJlZj0naHR0cHM6Ly93d3cubnRhb3cuY29tL2NvbG9ycGlja2VyLmh0bWwnICBzdHlsZT0nY3Vyc29yOnBvaW50ZXI7bWFyZ2luLXJpZ2h0OiAxMHB4Oycgb25jbGljaz0nd2luZG93Lm9wZW4odGhpcy5kYXRhc2V0LmhyZWYpJz7mm7TlpJrpopzoibLpgInmi6k8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMt5re75YqgRmF2aWNvbicgaWQ9J3NwLWFjLWZhdmljb24nIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzRmF2aWNvbkVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgNS1GYXZpY29u5Yqf6IO9PC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxsYWJlbCBzdHlsZT0nbWFyZ2luLWxlZnQ6MjBweDsnPkZhdmljb27pu5jorqTlm77moIfvvJo8L2xhYmVsPjxpbnB1dCBpZD0nc3AtYWMtZmF2aWNvblVybCcgbmFtZT0nc3AtYWMtYV9mb3JjZScgdmFsdWU9JyIgKyBBQ0NvbmZpZy5kZWZhdWx0RmF2aWNvblVybCArICInIHN0eWxlPSd3aWR0aDo1NSU7bWFyZ2luLXRvcDotMC4zZW07JyB0eXBlPSdpbnB1dCcgIiArIChBQ0NvbmZpZy5pc0Zhdmljb25FbmFibGUgPyAnJyA6ICdkaXNhYmxlZD10cnVlJykgKyAiPjwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbD48aW5wdXQgdGl0bGU9J0FDLeenu+mZpOaQnOe0oumihOa1iycgaWQ9J3NwLWFjLXN1Z19vcmlnaW4nIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmRvRGlzYWJsZVN1ZyA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgNi3np7vpmaTnmb7luqbmkJzntKLpooTmtYso5paH5a2X6Ieq5Yqo5pCc57SiKTwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieabtOaWsC3pq5jkuq4gPGxhYmVsIHN0eWxlPScnPiB8fCAgc3R5bGU9JyIrKENPTlNULmhhc05ld0Z1bmNOZWVkRGlzcGxheT8iY29sb3I6cmVkO2ZvbnQtd2VpZ2h0OiAxMDA7YmFja2dyb3VuZC1jb2xvcjogeWVsbG93O2ZvbnQtd2VpZ2h0OiA2MDA7IjoiIikrIicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mmL7npLrlj7PkvqfmoI8nIGlkPSdzcC1hYy1yaWdodCcgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNSaWdodERpc3BsYXlFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumZhOWKoDct5pi+56S65Y+z5L6n5qCPPC9sYWJlbD48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mt7vliqDnvJblj7cnIGlkPSdzcC1hYy1jb3VudGVyJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc0NvdW50ZXJFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPumZhOWKoDgt57yW5Y+35Yqf6IO9PC9sYWJlbD48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3mloflrZfkuIvliJLnur8nIGlkPSdzcC1hYy1hbGluZScgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNBTGluZUVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+6ZmE5YqgOS3mloflrZfkuIvliJLnur88L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy3oh6rlrprkuYnmoLflvI8nIGlkPSdzcC1hYy11c2Vyc3R5bGUnIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzVXNlclN0eWxlRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj7pmYTliqAxMC3oh6rlrprkuYnmoLflvI88L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48dGV4dGFyZWEgIGlkPSdzcC1hYy11c2Vyc3R5bGVURVhUJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB2YWx1ZT0n6L+Z5Liq5piv55So5oi36Ieq5a6a5LmJ5qC35byPJyBzdHlsZT0nd2lkdGg6ODUlO2hlaWdodDogNjZweDttYXJnaW4tbGVmdDozMHB4OycgdHlwZT0naW5wdXQnPiIgKyBBQ0NvbmZpZy5Vc2VyU3R5bGVUZXh0ICsgIjwvdGV4dGFyZWE+PC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGEgY2xhc3M9J2xpbmtocmVmJyB0YXJnZXQ9J19ibGFuaycgaHJlZj0naHR0cHM6Ly9xbS5xcS5jb20vY2dpLWJpbi9xbS9xcj9rPWZPZzhpajZUdXdPQWZTOGcxNkdSWU5mNVlZRnU1Q3J3Jmp1bXBfZnJvbT0mYXV0aD0tbDA1cGFhc3JQZTV6aWd0NWFoZHpuX2R6WGlCMWpKXycgPuiBlOezu+S9nOiAhSzmj5Dlu7rorq4s5a+75rGC5biu5YqpLOiHquWumuS5ieagt+W8jyzohJrmnKzlrprliLbngrnmiJE8L2E+PC9saT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPC91bD4iICsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDx1bCBjbGFzcz0nc2V0dGluZy1zZWNvbmQnIHN0eWxlPSdkaXNwbGF5Om5vbmUnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8L3VsPiIrCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8c3BhbiBpZD0nc3AtYWMtY2FuY2VsYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbiBlbmRidXR0b24nIHRpdGxlPSflj5bmtognIHN0eWxlPSdwb3NpdGlvbjogcmVsYXRpdmU7ZmxvYXQ6IGxlZnQ7Jz7lj5bmtog8L3NwYW4+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPHNwYW4gaWQ9J3NwLWFjLXNhdmVidXR0b24nIGNsYXNzPSdzcC1hYy1zcGFuYnV0dG9uIGVuZGJ1dHRvbicgdGl0bGU9J+S/neWtmOiuvue9ricgc3R5bGU9J3Bvc2l0aW9uOiByZWxhdGl2ZTtmbG9hdDogcmlnaHQ7Jz7kv53lrZg8L3NwYW4+XG4iICsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgPC9maWVsZHNldD5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICA8L2Rpdj4iOwogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnRhaW5lci5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgPGRpdiBpZD0nc3AtYWMtY29udGVudCcgc3R5bGU9J2Rpc3BsYXk6IG5vbmU7Jz5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIDxkaXYgaWQ9J3NwLWFjLW1haW4nPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgPGZpZWxkc2V0IGlkPSdzcC1hYy1hdXRvcGFnZXItZmllbGQnIHN0eWxlPSdkaXNwbGF5OmJsb2NrOyc+XG4iICsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDxsZWdlbmQgY2xhc3M9J2lmcmFtZS1mYXRoZXInIHRpdGxlPSdBQyBSZWRpcmVjdCBTZXR0aW5ncyc+PGEgY2xhc3M9J2xpbmtocmVmJyBocmVmPSdodHRwczovL3d3dy5udGFvdy5jb20vYWJvdXRzY3JpcHQuaHRtbCcgdGFyZ2V0PSdfYmxhbmsnPkFDLVJlZGlyZWN0IFNldHRpbmdzIiArIEJhaWR1VmVyc2lvbiArICI8L2E+PC9sZWdlbmQ+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPHVsIGNsYXNzPSdzZXR0aW5nLW1haW4nPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsIHRpdGxlPSdUdXJuIG9uIG9yIG9mZiByZWRpcmVjdCc+PGlucHV0IGlkPSdzcC1hYy1yZWRpcmVjdCcgbmFtZT0nc3AtYWMtYV9zZXBhcmF0b3InIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzUmVkaXJlY3RFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPk1haW4tUmVkaXJlY3QgRnVuYzwvbGFiZWw+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0n5L2/55So6Iux5paH5pi+56S66aG16Z2iJz48aW5wdXQgaWQ9J3NwLWFjLWlzRW5MYW5nJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc0VuTGFuZyA/ICdjaGVja2VkJyA6ICcnKSArICI+5L2/55So6Iux5paHPC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsIHRpdGxlPSdSZW1vdmUgdGhlIGFkcyBvbiB0aGUgcGFnZSwgYW5kIHJldHVybiB5b3UgYSBjbGVhbiBwYWdlJyA+PGlucHV0IGlkPSdzcC1hYy1hZHMnIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzQWRzRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj5BZGQxLVJlbW92ZSBBZHM8L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWwgdGl0bGU9J0NsaWNrIHRoZSBcJ0Jsb2NrXCcgYnV0dG9uIHRvIGFkZCB0aGUgYWRkcmVzcyB3aGljaCB5b3Ugd2FudCB0byBoaWRlLiBUaGUgc2NyaXB0IHdpbGwgaGlkZSBpdCB3aXRoIHNtYWxsIGJhbm5lciBhdXRvbWF0aWNhbGx5LiBcJ0RJWVwnIGJ1dHRvbiBmb3IgZWRpdHRpbmcgdGhlIGhpZGluZyBsaXN0JyBjbGFzcz0nIisoQ09OU1QuaGFzTmV3RnVuY05lZWREaXNwbGF5ID8gIm5ld0Z1bmNIaWdoTGlnaHQiIDogIiIpKyInID48aW5wdXQgaWQ9J3NwLWFjLWJsb2NrJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc0Jsb2NrRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj5BZGQyLUJsb2NrIGhvc3Q8L2xhYmVsPiA8c3BhbiBpZD0nc3AtYWMtYmxvY2tkaXlidXR0b24nIGNsYXNzPSdzcC1hYy1zcGFuYnV0dG9uJyB0aXRsZT0nRWRpdCBCTE9DSycgc3R5bGU9J21hcmdpbi1sZWZ0OiA1cHg7Y29sb3I6ICM4ODg4ODg7Jz5ESVk8L3NwYW4+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0aXRsZT0ncmVtb3ZlIHRoZSBibG9jayByZXN1bHRzIGF1dG9tYXRpY2FsbHknIGlkPSdzcC1hYy1yZW1vdmVCbG9jaycgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNCbG9ja0Rpc3BsYXkgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkF1dG8gcmVtb3ZlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHRpdGxlPSdoaWRlIHRoZSBcJ0Jsb2NrXCcgYnV0dG9uJyBpZD0nc3AtYWMtYmxvY2tCdG5EaXNwbGF5JyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc0Jsb2NrQnRuRGlzcGxheSA/ICcnIDogJ2NoZWNrZWQnKSArICI+SGlkZSBcJ0Jsb2NrXCcgYnV0dG9uPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWwgdGl0bGU9J0FDLUN1c3RvbVN0eWxlJz48aW5wdXQgaWQ9J3NwLWFjLXN0eWxlJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5BZHNTdHlsZUVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+QWRkMy1DdXN0b21TdHlsZTwvbGFiZWw+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsYWJlbD48L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3nmb7luqbmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8bGFiZWxNYWluIGNsYXNzPSdjb250YWluZXItbGFiZWwgYmFpZHUnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbEhpZGU+RXhwYW5kIEJhaWR1IFNldHRpbmdzJmd0OyZndDs8L2xhYmVsSGlkZT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JhaWR1LU9yaWdpbicgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHgnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JhaWR1JyB2YWx1ZT0nMCcgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDAgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkJhaWR1LU9yaWdpbjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdCYWlkdS1FeWVTYXZlJz48aW5wdXQgIG5hbWU9J3NwLWFjLWh1eWFuX3N0eWxlX2JhaWR1JyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5IdVlhbl9CYWlkdSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj5CYWlkdS1FeWVTYXZlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JhaWR1TGl0ZVN0eWxlJyBjbGFzcz0nIisoQ09OU1QuaGFzTmV3RnVuY05lZWREaXNwbGF5ID8gIm5ld0Z1bmNIaWdoTGlnaHQiIDogIiIpKyInPjxpbnB1dCAgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iYWlkdWxpdGUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLlN0eWxlX0JhaWR1TGl0ZSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj5CYWlkdUxpdGVTdHlsZTwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPEJSLz48bGFiZWwgdGl0bGU9J0JhaWR1LVNpbmdsZVJvdycgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHgnPjxpbnB1dCB0aXRsZT0nQmFpZHUtU2luZ2xlUm93TW9kZScgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iYWlkdScgdmFsdWU9JzEnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmFpZHUgPT0gMSA/ICdjaGVja2VkJyA6ICcnKSArICI+U2luZ2xlUm93PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JhaWR1LVNpbmdsZUNlbnRlcic+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JhaWR1JyB2YWx1ZT0nMicgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CYWlkdSA9PSAyID8gJ2NoZWNrZWQnIDogJycpICsgIj5TaW5nbGVDZW50ZXI8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nQmFpZHUtVHdvUm93c0NlbnRlcic+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUnIHZhbHVlPSczJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDMgPyAnY2hlY2tlZCcgOiAnJykgKyAiPlR3bzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdCYWlkdS1UaHJlZVJvd3NDZW50ZXInPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JhaWR1JyB2YWx1ZT0nNCcgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CYWlkdSA9PSA0ID8gJ2NoZWNrZWQnIDogJycpICsgIj5UaHJlZTwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdCYWlkdS1Gb3VyUm93c0NlbnRlcic+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUnIHZhbHVlPSc1JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JhaWR1ID09IDUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkZvdXI8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgPEJSLz48L2xhYmVsTWFpbj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3nmb7luqbmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT0naGVpZ2h0OiAxcHg7d2lkdGg6MjY3cHg7bWFyZ2luLWxlZnQ6MjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNkOGQ4ZDg7bWFyZ2luLXRvcDoxcHg7Jz48L2Rpdj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3osLfmrYzmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8bGFiZWxNYWluIGNsYXNzPSdjb250YWluZXItbGFiZWwgZ29vZ2xlJz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxIaWRlPkV4cGFuZCBHb29nbGUgU2V0dGluZ3MmZ3Q7Jmd0OzwvbGFiZWxIaWRlPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nR29vZ2xlLU9yaWdpbicgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHgnPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2dvb2dsZScgdmFsdWU9JzAnIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Hb29nbGUgPT0gMCA/ICdjaGVja2VkJyA6ICcnKSArICI+R29vZ2xlLU9yaWdpbjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdHb29nbGUtRXllU2F2ZSc+PGlucHV0ICBuYW1lPSdzcC1hYy1odXlhbl9zdHlsZV9nb29nbGUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkh1WWFuX0dvb2dsZSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj5Hb29nbGUtRXllU2F2ZTwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdHb29nbGUtYXMgQmFpZHUnIHN0eWxlPSciKyhDT05TVC5oYXNOZXdGdW5jTmVlZERpc3BsYXkgPyAiY29sb3I6cmVkO2ZvbnQtd2VpZ2h0OiAxMDA7YmFja2dyb3VuZC1jb2xvcjogeWVsbG93O2ZvbnQtd2VpZ2h0OiA2MDA7IiA6ICIiKSsiJz48aW5wdXQgIG5hbWU9J3NwLWFjLWdvb2dsZV9pbl9iYWlkdW1vZGUnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLmlzR29vbGVJbkJhaWR1TW9kZUVuYWJsZSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj5GYWtlIEJhaWR1PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8QlIvPjxsYWJlbCB0aXRsZT0nR29vZ2xlLVNpbmdsZVJvdycgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHgnPjxpbnB1dCB0aXRsZT0nR29vZ2xlLVNpbmdsZVJvd01vZGUnIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfZ29vZ2xlJyB2YWx1ZT0nMScgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Hb29nbGUgPT0gMSA/ICdjaGVja2VkJyA6ICcnKSArICI+U2luZ2xlUm93PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0dvb2dsZS1TaW5nbGVDZW50ZXInPjxpbnB1dCAgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9nb29nbGUnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0dvb2dsZSA9PSAyID8gJ2NoZWNrZWQnIDogJycpICsgIj5TaW5nbGVDZW50ZXI8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nR29vZ2xlLVR3b1Jvd3NDZW50ZXInPjxpbnB1dCAgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9nb29nbGUnIHZhbHVlPSczJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0dvb2dsZSA9PSAzID8gJ2NoZWNrZWQnIDogJycpICsgIj5Ud288L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nR29vZ2xlLVRocmVlUm93c0NlbnRlcic+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2dvb2dsZScgdmFsdWU9JzQnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfR29vZ2xlID09IDQgPyAnY2hlY2tlZCcgOiAnJykgKyAiPlRocmVlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0dvb2dsZS1Gb3VyUm93c0NlbnRlcic+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2dvb2dsZScgdmFsdWU9JzUnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfR29vZ2xlID09IDUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkZvdXI8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgPEJSLz48L2xhYmVsTWFpbj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3osLfmrYzmoLflvI8tKioqKiovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPSdoZWlnaHQ6IDFweDt3aWR0aDoyNjdweDttYXJnaW4tbGVmdDoyNXB4O2JhY2tncm91bmQtY29sb3I6I2Q4ZDhkODttYXJnaW4tdG9wOjFweDsnPjwvZGl2PiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqLeW/heW6lOagt+W8jy0qKioqKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxsYWJlbE1haW4gY2xhc3M9J2NvbnRhaW5lci1sYWJlbCBiaW5nJz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxIaWRlPkV4cGFuZCBCaW5nIFNldHRpbmdzJmd0OyZndDs8L2xhYmVsSGlkZT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JpbmctT3JpZ2luJyBzdHlsZT0nbWFyZ2luLWxlZnQ6MjBweCc+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmluZycgdmFsdWU9JzAnIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CaW5nID09IDAgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkJpbmctT3JpZ2luPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JpbmctRXllU2F2ZSc+PGlucHV0IG5hbWU9J3NwLWFjLWh1eWFuX3N0eWxlX2JpbmcnIHR5cGU9J2NoZWNrYm94JyAiICsgKEFDQ29uZmlnLkh1WWFuX0JpbmcgPT0gdHJ1ZSA/ICdjaGVja2VkJyA6ICcnKSArICI+QmluZy1FeWVTYXZlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8QlIvPjxsYWJlbCB0aXRsZT0nQmluZy1TaW5nbGVSb3cnIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgdGl0bGU9J0JpbmctU2luZ2xlUm93TW9kZScgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9iaW5nJyB2YWx1ZT0nMScgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CaW5nID09IDEgPyAnY2hlY2tlZCcgOiAnJykgKyAiPlNpbmdsZVJvdzwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdCaW5nLVNpbmdsZUNlbnRlcic+PGlucHV0ICBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JpbmcnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JpbmcgPT0gMiA/ICdjaGVja2VkJyA6ICcnKSArICI+U2luZ2xlQ2VudGVyPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J0JpbmctVHdvUm93c0NlbnRlcic+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmluZycgdmFsdWU9JzMnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZyA9PSAzID8gJ2NoZWNrZWQnIDogJycpICsgIj5Ud288L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nQmluZy1UaHJlZVJvd3NDZW50ZXInPjxpbnB1dCBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX2JpbmcnIHZhbHVlPSc0JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX0JpbmcgPT0gNCA/ICdjaGVja2VkJyA6ICcnKSArICI+VGhyZWU8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nQmluZy1Gb3VyUm93c0NlbnRlcic+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfYmluZycgdmFsdWU9JzUnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfQmluZyA9PSA1ID8gJ2NoZWNrZWQnIDogJycpICsgIj5Gb3VyPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDwvbGFiZWxNYWluPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqLeW/heW6lOagt+W8jy0qKioqKi8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9J2hlaWdodDogMXB4O3dpZHRoOjI2N3B4O21hcmdpbi1sZWZ0OjI1cHg7YmFja2dyb3VuZC1jb2xvcjojZDhkOGQ4O21hcmdpbi10b3A6MXB4Oyc+PC9kaXY+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyoqKiot5pCc54uX5qC35byPLSoqKioqLwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgPGxhYmVsTWFpbiBjbGFzcz0nY29udGFpbmVyLWxhYmVsIHNvZ291Jz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxIaWRlPkV4cGFuZCBTb2dvdSBTZXR0aW5ncyZndDsmZ3Q7PC9sYWJlbEhpZGU+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdTb2dvdS1PcmlnaW4nIHN0eWxlPSdtYXJnaW4tbGVmdDoyMHB4Jz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9zb2dvdScgdmFsdWU9JzAnIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Tb0dvdSA9PSAwID8gJ2NoZWNrZWQnIDogJycpICsgIj5Tb2dvdS1PcmlnaW48L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nU29nb3UtRXllU2F2ZSc+PGlucHV0IG5hbWU9J3NwLWFjLWh1eWFuX3N0eWxlX3NvZ291JyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5IdVlhbl9Tb0dvdSA9PSB0cnVlID8gJ2NoZWNrZWQnIDogJycpICsgIj5Tb2dvdS1FeWVTYXZlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8QlIvPjxsYWJlbCB0aXRsZT0nU29nb3UtU2luZ2xlUm93JyBzdHlsZT0nbWFyZ2luLWxlZnQ6MjBweCc+PGlucHV0IHRpdGxlPSdTb2dvdS1TaW5nbGVSb3dNb2RlJyBuYW1lPSdzcC1hYy1hX2ZvcmNlX3N0eWxlX3NvZ291JyB2YWx1ZT0nMScgIHR5cGU9J3JhZGlvJyAiICsgKEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Tb0dvdSA9PSAxID8gJ2NoZWNrZWQnIDogJycpICsgIj5TaW5nbGVSb3c8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCB0aXRsZT0nU29nb3UtU2luZ2xlQ2VudGVyJz48aW5wdXQgIG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPScyJyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX1NvR291ID09IDIgPyAnY2hlY2tlZCcgOiAnJykgKyAiPlNpbmdsZUNlbnRlcjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIHRpdGxlPSdTb2dvdS1Ud29Sb3dzQ2VudGVyJz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9zb2dvdScgdmFsdWU9JzMnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfU29Hb3UgPT0gMyA/ICdjaGVja2VkJyA6ICcnKSArICI+VHdvPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J1NvZ291LVRocmVlUm93c0NlbnRlcic+PGlucHV0IG5hbWU9J3NwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UnIHZhbHVlPSc0JyAgdHlwZT0ncmFkaW8nICIgKyAoQUNDb25maWcuQWRzU3R5bGVNb2RlX1NvR291ID09IDQgPyAnY2hlY2tlZCcgOiAnJykgKyAiPlRocmVlPC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgdGl0bGU9J1NvZ291LUZvdXJSb3dzQ2VudGVyJz48aW5wdXQgbmFtZT0nc3AtYWMtYV9mb3JjZV9zdHlsZV9zb2dvdScgdmFsdWU9JzUnICB0eXBlPSdyYWRpbycgIiArIChBQ0NvbmZpZy5BZHNTdHlsZU1vZGVfU29Hb3UgPT0gNSA/ICdjaGVja2VkJyA6ICcnKSArICI+Rm91cjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICAgICA8L2xhYmVsTWFpbj4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKi3mkJzni5fmoLflvI8tKioqKiovCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbCB0aXRsZT0n77yBT3BlbiBFeWVTYXZlIE1vZGUgaW4gQ3VzdG9tU3R5bGUgaXMgTXVzdCc+PGlucHV0IHRpdGxlPSdBQy1DdXN0b21FeWVTYXZlJyBpZD0nc3AtYWMtdXNlcmNvbG9yJyBuYW1lPSdzcC1hYy1hX2ZvcmNlJyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc1VzZXJDb2xvckVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+QWRkNC1FeWVTYXZlIENvbG9yIFNldHRpbmctTmVlZCBvcGVuZWQgaW4gQWRkMzwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbCBjbGFzcz0nbWVudS1ib3gtY29udGFpbmVyJyB0aXRsZT0n77yBTmVlZCBPcGVuZCBpbiBBZGQzJz48bGFiZWwgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHg7Jz5EZWZhdWx0IEV5ZVNhdmUgQ29sb3LvvJo8L2xhYmVsPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz0nc3AtYWMtbWVudWh1eWFuQ29sb3InIHR5cGU9J2NvbG9yJyB0aXRsZT0nVGhlIGNvbG9yIG9mIEV5ZVNhdmUnIHN0eWxlPSdjdXJzb3I6IHBvaW50ZXI7bWFyZ2luLXRvcDotMC4wNXJlbTtoZWlnaHQ6MjNweDsnIHZhbHVlPSciICsgQUNDb25maWcuZGVmYXVsdEh1WWFuQ29sb3IgKyAiJz4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9J21lbnUtYm94LXNtYWxsJyBkYXRhLWNvbG9yPScjREVGMUVGJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojREVGMUVGOyc+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9J21lbnUtYm94LXNtYWxsJyBkYXRhLWNvbG9yPScjRjNGMkVFJyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojRjNGMkVFOyc+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9J21lbnUtYm94LXNtYWxsJyBkYXRhLWNvbG9yPScjRTVFNUU1JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojRTVFNUU1Oyc+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PC9sYWJlbD4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9J2xpbmtocmVmJyBkYXRhLWhyZWY9J2h0dHBzOi8vd3d3Lm50YW93LmNvbS9jb2xvcnBpY2tlci5odG1sJyAgc3R5bGU9J2N1cnNvcjpwb2ludGVyO21hcmdpbi1yaWdodDogMTBweDsnIG9uY2xpY2s9J3dpbmRvdy5vcGVuKHRoaXMuZGF0YXNldC5ocmVmKSc+TW9yZSBDb2xvcjwvbGFiZWw+IiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy1BZGRGYXZpY29uJyBpZD0nc3AtYWMtZmF2aWNvbicgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNGYXZpY29uRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj5BZGQ1LUZhdmljb24uRnVuYzwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICAgICAgPGxpPjxsYWJlbD48bGFiZWwgc3R5bGU9J21hcmdpbi1sZWZ0OjIwcHg7Jz5GYXZpY29uRmFpbGVkSW1n77yaPC9sYWJlbD48aW5wdXQgaWQ9J3NwLWFjLWZhdmljb25VcmwnIG5hbWU9J3NwLWFjLWFfZm9yY2UnIHZhbHVlPSciICsgQUNDb25maWcuZGVmYXVsdEZhdmljb25VcmwgKyAiJyBzdHlsZT0nd2lkdGg6NTUlO21hcmdpbi10b3A6LTAuM3JlbTsnIHR5cGU9J2lucHV0JyAiICsgKEFDQ29uZmlnLmlzRmF2aWNvbkVuYWJsZSA/ICcnIDogJ2Rpc2FibGVkPXRydWUnKSArICI+PC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMtUmVtb3ZlIEJhaWR1IEF1dG9QcmVkaWN0IGluIHRleHQgc2VhcmNoJyBpZD0nc3AtYWMtc3VnX29yaWdpbicgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuZG9EaXNhYmxlU3VnID8gJ2NoZWNrZWQnIDogJycpICsgIj5BZGQ2LVJlbW92ZSBCYWlkdSBBdXRvUHJlZGljdCBpbiB0ZXh0IHNlYXJjaDwvbGFiZWw+PC9saT5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOacieabtOaWsC3pq5jkuq4gPGxhYmVsIHN0eWxlPScnPiB8fCAgc3R5bGU9JyIrKENPTlNULmhhc05ld0Z1bmNOZWVkRGlzcGxheT8iY29sb3I6cmVkO2ZvbnQtd2VpZ2h0OiAxMDA7YmFja2dyb3VuZC1jb2xvcjogeWVsbG93O2ZvbnQtd2VpZ2h0OiA2MDA7IjoiIikrIicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48bGFiZWw+PGlucHV0IHRpdGxlPSdBQy1EaXNwbGF5IHRoZSBSaWdodCBTaWRlIENvbHVtbicgaWQ9J3NwLWFjLXJpZ2h0JyB0eXBlPSdjaGVja2JveCcgIiArIChBQ0NvbmZpZy5pc1JpZ2h0RGlzcGxheUVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+QWRkNy1SaWdodCBTaWRlIENvbHVtbjwvbGFiZWw+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMtQWRkTnVtYmVyJyBpZD0nc3AtYWMtY291bnRlcicgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNDb3VudGVyRW5hYmxlID8gJ2NoZWNrZWQnIDogJycpICsgIj5BZGQ4LU51bUZ1bmM8L2xhYmVsPjxsYWJlbD48aW5wdXQgdGl0bGU9J0FDLVRleHRVbmRlckxpbmUnIGlkPSdzcC1hYy1hbGluZScgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNBTGluZUVuYWJsZSA/ICdjaGVja2VkJyA6ICcnKSArICI+QWRkOS1UZXh0VW5kZXJMaW5lPC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PGxhYmVsPjxpbnB1dCB0aXRsZT0nQUMtRWRpdCB5b3VyIG93biBzdHlsZScgaWQ9J3NwLWFjLXVzZXJzdHlsZScgbmFtZT0nc3AtYWMtYV9mb3JjZScgdHlwZT0nY2hlY2tib3gnICIgKyAoQUNDb25maWcuaXNVc2VyU3R5bGVFbmFibGUgPyAnY2hlY2tlZCcgOiAnJykgKyAiPkFkZDEwLVlvdXIgb3duIFN0eWxlPC9sYWJlbD48L2xpPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgICAgICA8bGk+PHRleHRhcmVhICBpZD0nc3AtYWMtdXNlcnN0eWxlVEVYVCcgbmFtZT0nc3AtYWMtYV9mb3JjZScgdmFsdWU9J3RoaXMgaXMgdXNlciBvd24gc3R5bGUnIHN0eWxlPSd3aWR0aDo4NSU7aGVpZ2h0OiA2NnB4O21hcmdpbi1sZWZ0OjMwcHg7JyB0eXBlPSdpbnB1dCc+IiArIEFDQ29uZmlnLlVzZXJTdHlsZVRleHQgKyAiPC90ZXh0YXJlYT48L2xhYmVsPjwvbGk+XG4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgICAgIDxsaT48YSBjbGFzcz0nbGlua2hyZWYnIHRhcmdldD0nX2JsYW5rJyBocmVmPSdodHRwczovL2dpdGh1Yi5jb20vbGFuZ3JlbjEzNTMvR01fc2NyaXB0LycgPkZvciBjb250YWN0IHRoZSB3cml0dGVyLCBzdWdnZXN0cywgYXNrIGZvciBoZWxwIHRoZW4gY2xpY2sgbWU8L2E+PC9saT4iICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgICAgICAgPC91bD4iICsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDx1bCBjbGFzcz0nc2V0dGluZy1zZWNvbmQnIHN0eWxlPSdkaXNwbGF5Om5vbmUnPiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8L3VsPiIrCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgICAgICA8c3BhbiBpZD0nc3AtYWMtY2FuY2VsYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbiBlbmRidXR0b24nIHRpdGxlPSdjbG9zZScgc3R5bGU9J3Bvc2l0aW9uOiByZWxhdGl2ZTtmbG9hdDogbGVmdDsnPmNsb3NlPC9zcGFuPlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgICAgIDxzcGFuIGlkPSdzcC1hYy1zYXZlYnV0dG9uJyBjbGFzcz0nc3AtYWMtc3BhbmJ1dHRvbiBlbmRidXR0b24nIHRpdGxlPSdzYXZlJyBzdHlsZT0ncG9zaXRpb246IHJlbGF0aXZlO2Zsb2F0OiByaWdodDsnPnNhdmU8L3NwYW4+XG4iICsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICAgICAgPC9maWVsZHNldD5cbiIgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICIgICAgICAgIDwvZGl2PlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIiAgICA8L2Rpdj4iOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKENvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtc2F2ZWJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeCueWHu+S5i+WQjueahOS/neWtmOWKn+iDvQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLmlzUmVkaXJlY3RFbmFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtcmVkaXJlY3QiKS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLmlzRW5MYW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWlzRW5MYW5nIikuY2hlY2tlZDsgLy8g5piv5ZCm6YCJ5oup5Li65a+556uL6K+t6KiACiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuaXNBZHNFbmFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtYWRzIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5pc0Jsb2NrRW5hYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWJsb2NrIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5pc0Jsb2NrRGlzcGxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1yZW1vdmVCbG9jayIpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuaXNCbG9ja0J0bkRpc3BsYXkgPSAhZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWJsb2NrQnRuRGlzcGxheSIpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuQWRzU3R5bGVFbmFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtc3R5bGUiKS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CYWlkdSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwLWFjLWFfZm9yY2Vfc3R5bGVfYmFpZHUiXTpjaGVja2VkJykudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuQWRzU3R5bGVNb2RlX0dvb2dsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwLWFjLWFfZm9yY2Vfc3R5bGVfZ29vZ2xlIl06Y2hlY2tlZCcpLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9CaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3AtYWMtYV9mb3JjZV9zdHlsZV9iaW5nIl06Y2hlY2tlZCcpLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLkFkc1N0eWxlTW9kZV9Tb0dvdSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwLWFjLWFfZm9yY2Vfc3R5bGVfc29nb3UiXTpjaGVja2VkJykudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuSHVZYW5fQmFpZHUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJzcC1hYy1odXlhbl9zdHlsZV9iYWlkdSJdJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5TdHlsZV9CYWlkdUxpdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJzcC1hYy1hX2ZvcmNlX3N0eWxlX2JhaWR1bGl0ZSJdJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5IdVlhbl9Hb29nbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJzcC1hYy1odXlhbl9zdHlsZV9nb29nbGUiXScpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuaXNHb29sZUluQmFpZHVNb2RlRW5hYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3AtYWMtZ29vZ2xlX2luX2JhaWR1bW9kZSJdJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5IdVlhbl9CaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT0ic3AtYWMtaHV5YW5fc3R5bGVfYmluZyJdJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5IdVlhbl9Tb0dvdSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9InNwLWFjLWh1eWFuX3N0eWxlX3NvZ291Il0nKS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWd1cmwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtZmF2aWNvblVybCIpLnZhbHVlLnRyaW0oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWd1cmwgPSAoaW1ndXJsID09ICJodHRwczovL3dzMS5zaW5haW1nLmNuL2xhcmdlLzZhMTU1Nzk0bHkxZm9panRkemh4aGoyMDB3MDB3anI1LmpwZyIpID8gIiIgOiBpbWd1cmw7IC8vIOWmguaenOaYr+aXp+eahOaWsOa1quWcsOWdgO+8jOmCo+S5iOmHjee9rgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZ3VybCA9IChpbWd1cmwgPT0gIiIgfHwgaW1ndXJsID09IG51bGwpID8gImh0dHBzOi8vYWUwMS5hbGljZG4uY29tL2tmL0hUQjFkUlkwWDhPRDNLVmpTWkZGcTZBbjlwWGF5LmpwZyIgOiBpbWd1cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuaXNVc2VyQ29sb3JFbmFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtdXNlcmNvbG9yIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5kZWZhdWx0SHVZYW5Db2xvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zcC1hYy1tZW51aHV5YW5Db2xvciIpLnZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLmlzRmF2aWNvbkVuYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1mYXZpY29uIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5kZWZhdWx0RmF2aWNvblVybCA9IGltZ3VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5kb0Rpc2FibGVTdWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtc3VnX29yaWdpbiIpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuaXNSaWdodERpc3BsYXlFbmFibGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtcmlnaHQiKS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDQ29uZmlnLmlzQ291bnRlckVuYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy1jb3VudGVyIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5pc0FMaW5lRW5hYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWFsaW5lIikuY2hlY2tlZDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5pc1VzZXJTdHlsZUVuYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy11c2Vyc3R5bGUiKS5jaGVja2VkOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKEFDQ29uZmlnLmlzVXNlclN0eWxlRW5hYmxlKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQUNDb25maWcuVXNlclN0eWxlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNzcC1hYy11c2Vyc3R5bGVURVhUIikudmFsdWUudHJpbSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ0NvbmZpZy5sYXN0U2F2ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTS5zZXRWYWx1ZSgiQ29uZmlnIiwgSlNPTi5zdHJpbmdpZnkoQUNDb25maWcpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDQwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0QmxvY2tQYWdlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtYmxvY2tkaXlidXR0b24iKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc2V0dGluZy1tYWluIikuc3R5bGUgPSAiZGlzcGxheTpub25lOyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnNldHRpbmctc2Vjb25kIikuc3R5bGUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5tZW51LWJveC1jb250YWluZXIiKS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ciA9IGUuc3JjRWxlbWVudCB8fCBlLnRhcmdldDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGN1ci5kYXRhc2V0LmNvbG9yKSAhPSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc3AtYWMtbWVudWh1eWFuQ29sb3IiKS52YWx1ZSA9IGN1ci5kYXRhc2V0LmNvbG9yOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkSHVZYW5TdHlsZShjdXIuZGF0YXNldC5jb2xvcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5zcC1hYy1tZW51aHV5YW5Db2xvciIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkSHVZYW5TdHlsZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuc3AtYWMtbWVudWh1eWFuQ29sb3IiKS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibGFiZWxIaWRlIikuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ciA9IGUuc3JjRWxlbWVudCB8fCBlLnRhcmdldDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNsYXNzTmFtZSA9IGN1ci5wYXJlbnROb2RlLmNsYXNzTmFtZS5yZXBsYWNlKCJjb250YWluZXItbGFiZWwgIiwgIiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZSgiLlhYPmxhYmVsLC5YWD5icntkaXNwbGF5OnVuc2V0ICFpbXBvcnRhbnQ7fS5YWD5sYWJlbGhpZGV7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fSIucmVwbGFjZSgvWFgvZ20sIGNsYXNzTmFtZSksICJBQy1TaG93SGlkZUl0ZW0tIiArIGNsYXNzTmFtZSwgImJvZHkiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbGV0IGFsbE5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLkFDLWZhdmljb25ULCAuQUMtQ291bnRlclQiKTsKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGxOb2Rlc1tpXS5nZXRBdHRyaWJ1dGUoJ2FjQ2xpY2snKSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb2Rlc1tpXS5zZXRBdHRyaWJ1dGUoJ2FjQ2xpY2snLCAnMScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxOb2Rlc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBQ3RvZ2dsZVNldHRpbmdEaXNwbGF5KGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHk+I3NwLWFjLWNvbnRhaW5lciIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIOmYu+atoueCueWHu+iHqui6q+eahOaXtuWAmeWFs+mXrQogICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNvbnRlbnQiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3NwLWFjLWNhbmNlbGJ1dHRvbiIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVSZW1vdmUoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3AtYWMtY29udGVudCIpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVNb2JpbGVCYWlkdURpcmVjdExpbmsoKXsKICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIjcGFnZSAjcGFnZS1iZCAjcmVzdWx0cyAucmVzdWx0Om5vdChbYWNfcmVkaXJlY3RTdGF0dXNdKSIpOwogICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlID0gbm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmVGdW5jdGlvbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1ckRhdGEgPSBKU09OLnBhcnNlKGN1ck5vZGUuZGF0YXNldC5sb2cucmVwbGFjZSgvJy9nbSwgIlwiIikpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRydWVMaW5rID0gY3VyRGF0YS5tdTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck5vZGUucXVlcnlTZWxlY3RvcigiYXJ0aWNsZSIpLnNldEF0dHJpYnV0ZSgicmwtbGluay1ocmVmIiwgdHJ1ZUxpbmspOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCJhIikuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHRydWVMaW5rKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5zZXRBdHRyaWJ1dGUoImFjX3JlZGlyZWN0U3RhdHVzIiwgIjEiKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlT25Nb3VzZURvd25GdW5jKCkgewogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHROb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5nIC5yYyAuciBhIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Tm9kZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvbmUgPSByZXN1bHROb2Rlc1tpXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zZXRBdHRyaWJ1dGUoIm9ubW91c2Vkb3duIiwgIiIpOyAvLyDosLfmrYzljrvph43lrprlkJHlubLmibAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zZXRBdHRyaWJ1dGUoInRhcmdldCIsICJfYmxhbmsiKTsgLy8g6LC35q2M6ZO+5o6l5paw5qCH562+5omT5byACiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVSZWRpcmVjdExpbmtUYXJnZXQoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5aSElIVSkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm9kZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuUmljaFRleHQgYVtocmVmKj0nLy9saW5rLnpoaWh1LmNvbS8/dGFyZ2V0J10iKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGRlY29kZVVSSUNvbXBvbmVudChub2Rlc1tpXS5ocmVmLnJlcGxhY2UoL2h0dHBzPzpcL1wvbGlua1wuemhpaHVcLmNvbVwvXD90YXJnZXQ9LywgIiIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzW2ldLmhyZWYgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVV9YVUVTSFUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhub2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImFbaHJlZio9J3NjX3Z1cmw9aHR0cCddIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBpIDwgeG5vZGVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeHVybCA9IGdldFVybEF0dHJpYnV0ZSh4bm9kZXNbal0uaHJlZiwgInNjX3Z1cmwiLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhub2Rlc1tqXS5ocmVmID0geHVybDsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDmj5Dlj5Z1cmzlhYPntKDnmoTlj4LmlbDlgLwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldFVybEF0dHJpYnV0ZSh1cmwsIGF0dHJpYnV0ZSwgbmVlZERlY29kZSkgewogICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hWYWx1ZVMgPSAodXJsLnN1YnN0cigxKSArICIiKS5zcGxpdCgiJiIpOwogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoVmFsdWVTLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBrZXlfdmFsdWUgPSBzZWFyY2hWYWx1ZVNbaV0uc3BsaXQoIj0iKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZyA9IG5ldyBSZWdFeHAoIl4iICsgYXR0cmlidXRlICsgIiQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZy50ZXN0KGtleV92YWx1ZVswXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2hXb3JkcyA9IGtleV92YWx1ZVsxXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZWVkRGVjb2RlID8gZGVjb2RlVVJJQ29tcG9uZW50KHNlYXJjaFdvcmRzKSA6IHNlYXJjaFdvcmRzOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlc2V0VVJMTm9ybWFsKGxpc3QpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5q2k5pa55rOV5piv5byC5q2l77yM5pWF5Zyo57uT5p2f55qE5pe25YCZ5L2/55SoaeS8muWHuumXrumimC3kuKXph40hCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOmHh+eUqOmXreWMheeahOaWueazleadpei/m+ihjOaVsOaNrueahOS8oOmAkgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTm9kZSA9IGxpc3RbaV07CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJocmVmID0gY3VyTm9kZS5ocmVmOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtpXSAhPSBudWxsICYmIGxpc3RbaV0uZ2V0QXR0cmlidXRlKCJhY19yZWRpcmVjdFN0YXR1cyIpID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbaV0uc2V0QXR0cmlidXRlKCJhY19yZWRpcmVjdFN0YXR1cyIsICIwIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyaHJlZi5pbmRleE9mKCJ3d3cuYmFpZHUuY29tL2xpbmsiKSA+IC0xIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyaHJlZi5pbmRleE9mKCJtLmJhaWR1LmNvbS9mcm9tIikgPiAtMSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cmhyZWYuaW5kZXhPZigid3d3LnNvZ291LmNvbS9saW5rIikgPiAtMSB8fAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cmhyZWYuaW5kZXhPZigic28uY29tL2xpbmsiKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChjX2N1cm5vZGUsIGNfY3VyaHJlZikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gY19jdXJocmVmLnJlcGxhY2UoL15odHRwOi8sICJodHRwczoiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSAmJiB1cmwuaW5kZXhPZigiZXFpZCIpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv55m+5bqm77yM5bm25LiU5rKh5pyJ5bim5pyJ6Kej5p6Q5Y+C5pWw77yM6YKj5LmI5omL5Yqo5bim5LiKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSB1cmwgKyAiJndkPSZlcWlkPSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdtUmVxdWVzdE5vZGUgPSBHTV94bWxodHRwUmVxdWVzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tOiAiYWN4aHIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0RGF0YTogY19jdXJocmVmLCAvLyDnlKjkuo7mianlsZUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyJBY2NlcHQiOiAiKi8qIiwgIlJlZmVyZXIiOiBjX2N1cmhyZWYucmVwbGFjZSgvXmh0dHA6LywgImh0dHBzOiIpfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogIkdFVCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiA1MDAwLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25yZWFkeXN0YXRlY2hhbmdlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDnlLHkuo7mmK/nibnmrorov5Tlm54t5bm25LiU5aW95pCcLeaQnOeLly3nmb7luqbpg73mmK/ov5nkuKrmoLzlvI/vvIzmlYXmj5Dlh7oKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWFsUmVkaXJlY3QoZ21SZXF1ZXN0Tm9kZSwgY19jdXJocmVmLCByZXNwb25zZS5yZXNwb25zZVRleHQsICJVUkw9JyhbXiddKyknIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDov5nkuKrmmK/lnKjkuIrpnaLml6Dms5XlpITnkIbnmoTmg4XlhrXkuIvvvIzlpIfnlKjnmoQgdG0tZmluYWx1cmxkaGRnICB0bS1maW5hbHVybG1mZGgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2VIZWFkZXJzLmluZGV4T2YoInRtLWZpbmFsdXJsIikgPj0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVsVVJMID0gUmVnX0dldChyZXNwb25zZS5yZXNwb25zZUhlYWRlcnMsICJ0bS1maW5hbHVybFxcdys6IChbXlxcc10rKSIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsVVJMID09IG51bGwgfHwgcmVsVVJMID09ICIiIHx8IHJlbFVSTC5pbmRleE9mKCJ3d3cuYmFpZHUuY29tL3NlYXJjaC9lcnJvciIpID4gMCkgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWFsUmVkaXJlY3QoZ21SZXF1ZXN0Tm9kZSwgY19jdXJocmVmLCByZWxVUkwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoY3VyTm9kZSwgY3VyaHJlZik7IC8v5Lyg6YCS5pen55qE572R5Z2A6L+H5Y6777yM6K+75L2cY19jdXJocmVmCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbGV0IERlYWxSZWRpcmVjdCA9IGZ1bmN0aW9uIChyZXF1ZXN0LCBjdXJOb2RlSHJlZiwgcmVzcFRleHQsIFJlZ1RleHQpIHsKICAgICAgICAgICAgICAgICAgICBpZiAocmVzcFRleHQgPT0gbnVsbCB8fCB0eXBlb2YocmVzcFRleHQpID09ICJ1bmRlZmluZWQiKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdFJlc3BvbnNlVXJsID0gIiI7CiAgICAgICAgICAgICAgICAgICAgaWYgKFJlZ1RleHQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRSZXNwb25zZVVybCA9IFJlZ19HZXQocmVzcFRleHQsIFJlZ1RleHQpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFJlc3BvbnNlVXJsID0gcmVzcFRleHQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRSZXNwb25zZVVybCAhPSBudWxsICYmIHJlc3VsdFJlc3BvbnNlVXJsICE9ICIiICYmIHJlc3VsdFJlc3BvbnNlVXJsLmluZGV4T2YoInd3dy5iYWlkdS5jb20vbGluayIpIDwgMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5TT0dPVSkgY3VyTm9kZUhyZWYgPSBjdXJOb2RlSHJlZi5yZXBsYWNlKC9eaHR0cHM6XC9cL3d3dy5zb2dvdS5jb20vLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdCA9IGdldEhvc3QocmVzdWx0UmVzcG9uc2VVcmwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiKltocmVmKj0nIiArIGN1ck5vZGVIcmVmICsgIiddIikuZm9yRWFjaChmdW5jdGlvbiAocGVyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGVyLnF1ZXJ5U2VsZWN0b3IoInNwYW4iKSAhPSBudWxsKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyLmxhc3RDaGlsZC5pbnNlcnRBZGphY2VudEhUTUwoImJlZm9yZUVuZCIsICImbmJzcDstJm5ic3A7IiArIGhvc3QpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXIuc2V0QXR0cmlidXRlKCJhY19yZWRpcmVjdFN0YXR1cyIsICIyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyLnNldEF0dHJpYnV0ZSgiaHJlZiIsIHJlc3VsdFJlc3BvbnNlVXJsKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwZXIuaGFzQXR0cmlidXRlKCJtZXRhIikpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXIuc2V0QXR0cmlidXRlKCJtZXRhIiwgaG9zdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlci5kYXRhc2V0Lmhvc3QgPSBob3N0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuY3VySG9zdHMuYWNwdXNoKGhvc3QsIHJlbG9hZEJsb2NrTGlzdCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0LmFib3J0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVBRF9iYWlkdV9zb2dvdSgpIHsgLy8g56e76Zmk55m+5bqm6Ieq5pyJ5bm/5ZGKCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBzYWZlUmVtb3ZlKCIuYy1jb250YWluZXIgL2RlZXAvIC5jLWNvbnRhaW5lciIpOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDnp7vpmaRzaGFkb3dET03lub/lkYrvvJvmkJzntKLlhbPplK7lrZfvvJrmt5jlrp3vvJvnhLblkI7ngrnlh7vmkJzntKLmoYbvvIzlub/lkYrkvJrlpJrmrKHph43njrBzaGFkb3dkb20KICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuYy1jb250YWluZXIgL2RlZXAvIC5jLWNvbnRhaW5lcicpLmhhcygnLmYxMz5zcGFuOmNvbnRhaW5zKCLlub/lkYoiKScpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY29udGVudF9yaWdodD5kaXYnKS5oYXMoJ2E6Y29udGFpbnMoIuW5v+WRiiIpJykucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDnp7vpmaTmoIflh4blub/lkYoKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY29udGVudF9sZWZ0PmRpdicpLmhhcygnc3Bhbjpjb250YWlucygi5bm/5ZGKIiknKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOenu+mZpOWPs+S+p+agj+mhtumDqC3lupXpg6jml6DnlKjlub/lkYoKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCIjY29udGVudF9yaWdodCB0ZD5kaXY6bm90KFtpZF0pLCNjb250ZW50X3JpZ2h0PmJyIikucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuTUJBSURVKXsKICAgICAgICAgICAgICAgICAgICAgICAgLyoqKirnp7vpmaTmiYvmnLrmqKHlvI/kuIrnmoTpg6jliIblub/lkYoqKioqLwogICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjcGFnZS1iZCAjcmVzdWx0cz5kaXY6bm90KFtjbGFzcyo9InJlc3VsdCJdKScpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3BhZ2UtYmQgI3Jlc3VsdHM+ZGl2Om5vdChbY2xhc3NdKScpLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5TT0dPVSkgewogICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKCIjcHJvbW90aW9uX2Fkdl9jb250YWluZXIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiI2ttYXBfYnVzaW5lc3NfdGl0bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiI2ttYXBfYnVzaW5lc3NfdWwiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiLnNwb25zb3JlZCIpOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnJ2ci1tb2RlbFtzdHlsZT0nd2lkdGg6MjUwcHg7J10iKS5zdHlsZSA9ICJkaXNwbGF5Om5vbmUiOwogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5TTykgewogICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKCIjc29fa3ctYWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiI20tc3ByZWFkLWxlZnQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiI20tc3ByZWFkLWJvdHRvbSIpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkJJTkcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiLmJfYWQiKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5HT09HTEUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2FmZVJlbW92ZSgiI2JvdHRvbWFkcyIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBJc051bWJlcih2YWwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSAiIiB8fCB2YWwgPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFkZENvdW50ZXIoY2l0ZUxpc3QpIHsKICAgICAgICAgICAgICAgICAgICBsZXQgY3NzVGV4dCA9ICJwb3NpdGlvbjpyZWxhdGl2ZTt6LWluZGV4OjE7bWFyZ2luLXJpZ2h0OjRweDtkaXNwbGF5OmlubGluZS1ibG9jaztjb2xvcjp3aGl0ZTtmb250LWZhbWlseTon5b6u6L2v6ZuF6buRJztmb250LXNpemU6MTZweDt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoyMnB4O2xpbmUtaGVpZ2h0OjIycHg7Ym9yZGVyLXJhZGl1czo1MCU7IjsKICAgICAgICAgICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaXRlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBjaXRlTGlzdFtpXS5nZXRBdHRyaWJ1dGUoJ1NvcnRJbmRleCcpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXg9PW51bGwgfHwgdHlwZW9mKGluZGV4KSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0ZUxpc3RbaV0uc2V0QXR0cmlidXRlKCdTb3J0SW5kZXgnLCBDT05TVC5zb3J0SW5kZXgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0ZUxpc3RbaV0uaW5uZXIgPSBjaXRlTGlzdFtpXS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gIjxlbSBjbGFzcz0nQUMtQ291bnRlclQnIHN0eWxlPSIgKyBjc3NUZXh0ICsgIj4iICsgQ09OU1Quc29ydEluZGV4ICsgIjwvZW0+IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdGVMaXN0W2ldLmlubmVySFRNTCA9IGRpdi5pbm5lckhUTUwgKyBjaXRlTGlzdFtpXS5pbm5lcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULnNvcnRJbmRleCsrOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaW5kZXggIT0gKGkgKyAxKSAlIDEwMCl7IC8vIOaMiemcgOabtOaWsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpdGVMaXN0W2ldLnF1ZXJ5U2VsZWN0b3IoIi5BQy1Db3VudGVyVCIpLmlubmVyVGV4dCA9IChpICsgMSkgJSAxMDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SG9zdChzYmVmb3JlKSB7CiAgICAgICAgICAgICAgICAgICAgc2JlZm9yZSA9IChzYmVmb3JlICYmIHNiZWZvcmUudHJpbSgpKSB8fCAiIjsKICAgICAgICAgICAgICAgICAgICBsZXQgc2VuZDsKICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gc2JlZm9yZS5zcGxpdCgnLScpOwogICAgICAgICAgICAgICAgICAgIC8vIC0t5pCc54uX55m+5bqm5LiT55So77yb5aaC5p6c56ys5LiA5Liq5piv5Lit5paH55qE6K+d77yM5Zyw5Z2A5bCx5piv56ys5LqM5LiqCiAgICAgICAgICAgICAgICAgICAgaWYoKHJlc3VsdC5sZW5ndGggPiAxICYmIG5ldyBSZWdFeHAoIltcXHU0RTAwLVxcdTlGRkZdKyIsImciKS50ZXN0KHNiZWZvcmUpKSAmJiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVIHx8IGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5TT0dPVSkpewogICAgICAgICAgICAgICAgICAgICAgICBzYmVmb3JlID0gcmVzdWx0WzFdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBzZW5kID0gc2JlZm9yZS5yZXBsYWNlKC8oXC9bXi9dKnxccyopLywgIiIpLnJlcGxhY2UoLzxbXj5dKj4vZywgIiIpLnJlcGxhY2UoL2h0dHBzPzpcL1wvL2csICIiKS5yZXBsYWNlKC88XC8/c3Ryb25nPi9nLCAiIikucmVwbGFjZSgvPFwvP2I+L2csICIiKS5yZXBsYWNlKC88Pz4/L2csICIiKS5yZXBsYWNlKC8oIHxcLykuKi9nLCAiIikucmVwbGFjZSgvXC5cLi4qLywgIiIpOwogICAgICAgICAgICAgICAgICAgIGlmKHNlbmQuaW5kZXhPZigiLiIpIDwgMCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgICAgICAgICAgaWYoc2VuZC5pbmRleE9mKCLihrUiKT49MCkgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5kLnRyaW0oKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhZGRGYXZpY29uKGNpdGVMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNpdGVMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSBjaXRlTGlzdFtpbmRleF0uZ2V0QXR0cmlidXRlKCJhY19mYXZpY29uU3RhdHVzIikpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjdXJOb2RlID0gY2l0ZUxpc3RbaW5kZXhdOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRhcmdldE5vZGUgPSBjdXJOb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGdldEJhaWR1SG9zdCh0YXJnZXROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVybCA9PSBudWxsKXsgLy8g6Lez6L+HYmFpZHUuY2xpY2sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULmN1ckhvc3RzLmFjcHVzaCh1cmwpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZhdmljb25VcmwgPSB1cmw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgSUkgPSAwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IElJIDw9IDU7IElJKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXROb2RlID0gdGFyZ2V0Tm9kZS5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXROb2RlICE9IG51bGwgJiYgdGFyZ2V0Tm9kZS5xdWVyeVNlbGVjdG9yKGN1clNpdGUuRmF2aWNvbkFkZFRvKSAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaW5kZXgrIi4iK2Zhdmljb25VcmwrIi0tIitJSSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSUkgPD0gNSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOWFiOeUqOeItuiKgueCueWIpOaWreS4gOS4i+aYr+WQpuWtmOWcqGltZwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0bXBIVE1MID0gdGFyZ2V0Tm9kZS5pbm5lckhUTUw7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvcyA9IHRtcEhUTUwuaW5kZXhPZigiZmF2LXVybCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJmYXZ1cmwiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmIHRtcEhUTUwuaW5kZXhPZigidGl0LWljbyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJpbWdfZmF2IHJtc19pbWciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmIHRtcEhUTUwuaW5kZXhPZigiYy10b29sLSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYgdG1wSFRNTC5pbmRleE9mKCJzcGFuIGNsYXNzPVwiYy1pY29uIGMtaWNvbi0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmIHRtcEhUTUwuaW5kZXhPZigiaW1nIGNsYXNzPVwieEEzM0djIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ku5boh6rlt7Hlt7Lnu4/lgZrkuoZmYXZpY29u5LqGCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvcyA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCLlt7LmnInlm77niYfvvJoiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyTm9kZS5zZXRBdHRyaWJ1dGUoImFjX2Zhdmljb25TdGF0dXMiLCAiLTIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGUgPSB0YXJnZXROb2RlLnF1ZXJ5U2VsZWN0b3IoY3VyU2l0ZS5GYXZpY29uQWRkVG8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOeJueauiuWkhOeQhkJJTkcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkJJTkcpIGN1ck5vZGUgPSBjdXJOb2RlLnF1ZXJ5U2VsZWN0b3IoImgyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwczovL2FwaS5ieWkucHcvZmF2aWNvbi8/dXJsPT8/Pz8g5LiN56iz5a6aCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9odHRwOi8vIitmYXZpY29uVXJsKyIvY2RuLmljbz9kZWZhdWx0aWNvbj1odHRwOi8vc296LmltL2Zhdmljb24uaWNvIOS4jeeos+WumgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaHR0cHM6Ly93d3cueHR3aW5kLmNvbS9hcGkvaW5kZXgucGhwP3VybD0/Pz8/IOaMguS6huOAguOAguOAggogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaHR0cHM6Ly9zdGF0aWNzLmRuc3BvZC5jbi9wcm94eV9mYXZpY29uL18vZmF2aWNvbj9kb21haW49c2luYS5jbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vd3d3Lmdvb2dsZS5jb20vczIvZmF2aWNvbnM/ZG9tYWluPTc2NDM1MDE3Ny5sb2Z0ZXIuY29tCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlnLDlnYDkuI3mraPnoa7vvIzpgqPkuYjkuKLlvIMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdCA9IGZhdmljb25VcmwucmVwbGFjZSgvW14uXStcLihbXi5dKylcLihbXi5dKykvLCAiJDEuJDIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Tm9kZS5xdWVyeVNlbGVjdG9yKCIuQUMtZmF2aWNvblQiKSA9PSBudWxsICYmIGhvc3QubGVuZ3RoID4gMykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5zTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJOb2RlID0gY3VyTm9kZS5jaGlsZHJlblswXSB8fCBjdXJOb2RlLmZpcnN0Q2hpbGQgOyAvLyBmaXJzdENoaWxk5a655piT6YGH5YiwdGV4dOWvueixoQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLnNldEF0dHJpYnV0ZSgiYWNfZmF2aWNvblN0YXR1cyIsICIxIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1ck5vZGUuaW5zZXJ0QmVmb3JlKGluc05vZGUsIGN1ck5vZGUuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc05vZGUuY2xhc3NOYW1lID0gIkFDLWZhdmljb25UIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zTm9kZS5zZXRBdHRyaWJ1dGUoInJlZmVycmVycG9saWN5IiwgIm5vLXJlZmVycmVyIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc05vZGUuc3R5bGUgPSAicG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDoxO3ZlcnRpY2FsLWFsaWduOnN1YjtoZWlnaHQ6MTZweDt3aWR0aDoxNnB4O21hcmdpbi1yaWdodDo1cHg7bWFyZ2luLWJvdHRvbTogMnB4OyI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNyYyA9ICJodHRwczovL2Zhdmljb24ueWFuZGV4Lm5ldC9mYXZpY29uLyIgKyBob3N0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLnNldEF0dHJpYnV0ZSgiZmF2aWNvbklEIiwgIjAiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VyTm9kZS5pbm5lckhUTUwgPSBpbnNOb2RlLm91dGVySFRNTCArIGN1ck5vZGUuaW5uZXJIVE1MOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJOb2RlLmluc2VydEFkamFjZW50SFRNTCgiYWZ0ZXJFbmQiLCBpbnNOb2RlLmlubmVySFRNTCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiZWZvcmVJbmRleCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldE5vZGUuY2hpbGROb2Rlc1tiZWZvcmVJbmRleF0uY2xhc3NOYW1lID09ICJBQy1Db3VudGVyVCIpe2JlZm9yZUluZGV4ID0gMTt9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldE5vZGUuaW5zZXJ0QmVmb3JlKGluc05vZGUsIHRhcmdldE5vZGUuY2hpbGROb2Rlc1tiZWZvcmVJbmRleF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24oeGN1cil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNOb2RlLm9ubG9hZCA9IGZ1bmN0aW9uKGVudil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZ05vZGUgPSB4Y3VyLnF1ZXJ5U2VsZWN0b3IoIi5BQy1mYXZpY29uVCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGltZ05vZGUubmF0dXJhbFdpZHRoIDwgMTApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWdOb2RlLnNldEF0dHJpYnV0ZSgib2xkLXNyYyIsIGltZ05vZGUuc3JjKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nTm9kZS5zcmMgPSBBQ0NvbmZpZy5kZWZhdWx0RmF2aWNvblVybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nTm9kZS5vbmxvYWQgPSAiamF2YXNjcmlwdDp2b2lkKDApOyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSh0YXJnZXROb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZnVuY3Rpb24gSW5zZXJ0U2V0dGluZ01lbnUoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJTaXRlLlNpdGVUeXBlSUQgIT0gU2l0ZVR5cGUuT1RIRVJTKSAmJiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI215dXNlciIpID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdSwgI2diPmRpdj5kaXY+ZGl2LCAjYl9oZWFkZXI+I2lkX2gsIC50b3AtYmFyIC5zb2dvdS1zZXQtYm94Iik7IC8vYmFpZHU7IGdvb2dsZTsgYmluZzsg5pCc54uXCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc3R5bGUgPSAid2lkdGg6IGF1dG87IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1c2VyQWRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckFkaXYuaWQgPSAibXl1c2VyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVzZUNOTGFuKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQWRpdi5pbm5lckhUTUwgPSAiPGlucHV0IHR5cGU9J3N1Ym1pdCcgY2xhc3M9J215dXNlcmNvbmZpZycgdmFsdWU9J+iHquWumuS5iScvPjxzcGFuIGNsYXNzPSdhYy1uZXd2ZXJzaW9uRGlzcGxheScgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IHJlZDtmbG9hdDogbGVmdDtoZWlnaHQ6IDhweDt3aWR0aDogOHB4O2JvcmRlci1yYWRpdXM6IDRweDtkaXNwbGF5OiIgKyAoQ09OU1QuaGFzTmV3RnVuY05lZWREaXNwbGF5ID8gInVuc2V0IiA6ICJub25lIikgKyAiJz4mbmJzcDs8L3NwYW4+IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJBZGl2LmlubmVySFRNTCA9ICI8aW5wdXQgdHlwZT0nc3VibWl0JyBjbGFzcz0nbXl1c2VyY29uZmlnJyB2YWx1ZT0nQ1VTVE9NJy8+PHNwYW4gY2xhc3M9J2FjLW5ld3ZlcnNpb25EaXNwbGF5JyBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjogcmVkO2Zsb2F0OiBsZWZ0O2hlaWdodDogOHB4O3dpZHRoOiA4cHg7Ym9yZGVyLXJhZGl1czogNHB4O2Rpc3BsYXk6IiArIChDT05TVC5oYXNOZXdGdW5jTmVlZERpc3BsYXkgPyAidW5zZXQiIDogIm5vbmUiKSArICInPiZuYnNwOzwvc3Bhbj4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh1c2VyQWRpdiwgcGFyZW50LmNoaWxkTm9kZXNbMF0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI215dXNlciAubXl1c2VyY29uZmlnIikuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBQ3RvZ2dsZVNldHRpbmdEaXNwbGF5KGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSgpOyAvLyDor7vlj5bkuKrkurrorr7nva7kv6Hmga8KICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayDlm57osIPlh73mlbDvvIzpnIDopoHov5Tlm57mmK/lkKbnu5PmnZ9UcnVl44CBRmFsc2XjgIHlkKbliJnnm7jlvZPkuo7lrprml7blmagKICAgICAgICAgICAgICogQHBhcmFtIHBlcmlvZCDlkajmnJ/vvIzlpoI6MjAwbXMKICAgICAgICAgICAgICovCiAgICAgICAgICAgIGZ1bmN0aW9uIFJBRkZ1bmN0aW9uKGNhbGxiYWNrLCBwZXJpb2QpewogICAgICAgICAgICAgICAgLy8g5LiA56eSNjDmrKHvvIzlr7nlupQx56eSMTAwMG1zCiAgICAgICAgICAgICAgICBsZXQgbmVlZENvdW50ID0gcGVyaW9kIC8gMTAwMCAqIDYwOwogICAgICAgICAgICAgICAgbGV0IHRpbWVzID0gMDsKICAgICAgICAgICAgICAgIGxldCBoYXNGaW5pc2ggPSBmYWxzZTsKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAoKXsKICAgICAgICAgICAgICAgICAgICBpZighaGFzRmluaXNoKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7CiAgICAgICAgICAgICAgICAgICAgaWYodGltZXMgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzID0gbmVlZENvdW50OwogICAgICAgICAgICAgICAgICAgICAgICBoYXNGaW5pc2ggPSBjYWxsYmFjaygpOyAvLyDlj6rmnInov5Tlm550cnVl5omN5Lya57uI5q2i77yM5LiN6L+U5Zue5Lmf5Lya57un57utCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHRpbWVzLS07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gc2FmZUZ1bmN0aW9uKGZ1bmMpewogICAgICAgICAgICAgICAgc2FmZVJlbW92ZShmdW5jKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmdW5jdGlvbiBzYWZlV2FpdEZ1bmMoc2VsZWN0b3IsIGNhbGxiYWNrRnVuYywgdGltZSwgbm90Q2xlYXIpewogICAgICAgICAgICAgICAgdGltZSA9IHRpbWUgfHwgNTA7CiAgICAgICAgICAgICAgICBub3RDbGVhciA9IG5vdENsZWFyIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgbGV0IGRvQ2xlYXIgPSAhbm90Q2xlYXI7CiAgICAgICAgICAgICAgICBSQUZGdW5jdGlvbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYoKHR5cGVvZiAoc2VsZWN0b3IpID09ICJzdHJpbmciICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvQ2xlYXIpIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCh0eXBlb2Yoc2VsZWN0b3IpID09ICJmdW5jdGlvbiIgJiYgc2VsZWN0b3IoKS5sZW5ndGggPiAwKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrRnVuYyhzZWxlY3RvcigpWzBdKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9DbGVhcikgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIHRpbWUpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIEFDX2FkZFN0eWxlKGNzcywgY2xhc3NOYW1lLCBhZGRUb1RhcmdldCwgaXNSZWxvYWQsIGluaXRUeXBlKSB7IC8vIOa3u+WKoENTU+S7o+egge+8jOS4jeiAg+iZkeaWh+acrOi9veWFpeaXtumXtO+8jOW4puaciWNsYXNzTmFtZQogICAgICAgICAgICAgICAgUkFGRnVuY3Rpb24oZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICAgICAgICogYWRkVG9UYXJnZXTov5nph4zkuI3opoHkvb/nlKhoZWFk5qCH562+LGhlYWTmoIfnrb7nmoRjc3PkvJrlnKhodG1s6L295YWl5pe25Yqg6L2977yMCiAgICAgICAgICAgICAgICAgICAgICogaHRtbOWKoOi9veWQjuS8vOS5juS4jeS8muWGjeasoeWKoOi9ve+8jGJvZHnkvJroh6rliqjliqDovb0KICAgICAgICAgICAgICAgICAgICAgKiAqKi8KICAgICAgICAgICAgICAgICAgICBsZXQgYWRkVG8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGFkZFRvVGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKGFkZFRvVGFyZ2V0KSA9PSAidW5kZWZpbmVkIikKICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG8gPSAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgaXNSZWxvYWQgPSBpc1JlbG9hZCB8fCBmYWxzZTsgLy8g6buY6K6k5piv6Z2e5Yqg6L295Z6LCiAgICAgICAgICAgICAgICAgICAgaW5pdFR5cGUgPSBpbml0VHlwZSB8fCAidGV4dC9jc3MiOwogICAgICAgICAgICAgICAgICAgIC8vIOWmguaenOayoeacieebruagh+iKgueCuSjliJnnm7TmjqXliqApIHx8IOacieebruagh+iKgueCueS4lOaJvuWIsOS6huiKgueCuSjov5vooYzmlrDlop4pCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZihhZGRUb1RhcmdldCkgPT0gInVuZGVmaW5lZCIgfHwgKHR5cGVvZihhZGRUb1RhcmdldCkgIT0gInVuZGVmaW5lZCIgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhZGRUb1RhcmdldCkgIT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXJJbnRlcnZhbCh0b3V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6cdHJ1ZSDlvLrooYzopobnm5bvvIzkuI3nrqHmnInmsqHmnIktLeWFiOWIoOmZpAogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpxmYWxzZe+8jOS4jeimhueblu+8jOS9huaYr+WmguaenOacieeahOivne+8jOimgemAgOWHuu+8jOS4jeWtmOWcqOWImeaWsOWini0t5peg6ZyA5Yig6ZmkCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1JlbG9hZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZlUmVtb3ZlKCIuIiArIGNsYXNzTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNSZWxvYWQgPT0gZmFsc2UgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLiIgKyBjbGFzc05hbWUpICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOiKgueCueWtmOWcqCAmJiDkuI3lh4blpIfopobnm5YKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSAhPSBudWxsKSBjc3NOb2RlLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgY3NzTm9kZS5zZXRBdHRyaWJ1dGUoInR5cGUiLCBpbml0VHlwZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNzc05vZGUuaW5uZXJIVE1MID0gY3NzOwogICAgICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG8uYXBwZW5kQ2hpbGQoY3NzTm9kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgMjApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIHNhZmVSZW1vdmUoY3NzU2VsZWN0b3JfT1JfTkVXZnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YoY3NzU2VsZWN0b3JfT1JfTkVXZnVuY3Rpb24pID09ICJzdHJpbmciKSB7CiAgICAgICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZU5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjc3NTZWxlY3Rvcl9PUl9ORVdmdW5jdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlTm9kZXMubGVuZ3RoOyBpKyspCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVOb2Rlc1tpXS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoY3NzU2VsZWN0b3JfT1JfTkVXZnVuY3Rpb24pID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgICAgICBjc3NTZWxlY3Rvcl9PUl9ORVdmdW5jdGlvbigpOwogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLmnKrnn6Xlkb3ku6TvvJoiICsgY3NzU2VsZWN0b3IpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrSVNCYWlkdU1haW4oKXsKICAgICAgICAgICAgICAgIC8vIOWmguaenOaYr+eZvuW6piAmJiAg5rKh5pyJKOeZvuW6puaQnOe0oue7k+aenOeahOagh+W/ly1b5a2Y5ZyoXeeZvuW6pueahOWGheWuuSkgcmV0dXJuOwogICAgICAgICAgICAgICAgcmV0dXJuICEoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVICYmICEobG9jYXRpb24uaHJlZi5yZXBsYWNlKC8oJnxcPykod2R8d29yZCk9LywgIiIpICE9IGxvY2F0aW9uLmhyZWYgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NvbnRlbnRfbGVmdCIpIHx8CiAgICAgICAgICAgICAgICAgICAgICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2t3IikgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2t3IikuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpKSB8fCAiIikgIT0gIiIpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZnVuY3Rpb24gRlNCYWlkdSgpIHsgLy8gdGhhbmtzIGZvciBjb2RlIGZyb20g5rWu55SfQOacquathyBAcGFnZSBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLVRXL3NjcmlwdHMvMzE2NDIKICAgICAgICAgICAgICAgIGRlYnVnKCLliJ3lp4vljJZGU0JBSURVIik7CiAgICAgICAgICAgICAgICAvKioKICAgICAgICAgICAgICAgICAqIOajgOafpWRvY3VtZW5055qE5a2Q6IqC54K55piv5ZCm5ZCr5pyJ5YWD57SgCiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gbm9kZUNsYXNzIOW+heajgOafpeWFg+e0oAogICAgICAgICAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFR8RgogICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVja0RvY21lbnRIYXNOb2RlKG5vZGVDbGFzcykgewogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9jdW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuY2hpbGROb2Rlc1tpXS5kYXRhICYmIGRvY3VtZW50LmNoaWxkTm9kZXNbaV0uZGF0YS5pbmRleE9mKG5vZGVDbGFzcykgPiAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyID0gewogICAgICAgICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAgICAgICAqIOWvvOWFpWNzc+WGheWuueS4uuOAkOaWh+acrOagvOW8j+OAke+8ge+8ge+8gQogICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSBkYXRhIGNzc+WGheWuuQogICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB0b0NsYXNzTmFtZSDpooTmnJ/nmoTnsbvlkI0KICAgICAgICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgICAgICBpbXBvcnRTdHlsZTogZnVuY3Rpb24gKGRhdGEsIHRvQ2xhc3NOYW1lLCB1c2VOb3JtYWxDU1MsIG11c3RMb2FkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZihkYXRhKSA9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6L+Z5Liq5bGF54S25ZyoVk3kuIrlh7rpl67popjkuobvvIzlvojlpYfmgKoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIkdNX2dldFJlc291cmNlVGV4dOiOt+WPluWGheWuueaVsOaNruW8guW4uCIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlTm9ybWFsQ1NTID0gdXNlTm9ybWFsQ1NTIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBtdXN0TG9hZCA9IG11c3RMb2FkIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICAvLyDmma7pgJrmtY/op4jlmajmqKHlvI8tLeS9huaYr+S8vOS5juagt+W8j+WKoOi9veeahOS8mOWFiOe6p+S9juS6jmhlYWTkuK3nmoRzdHlsZeS8mOWFiOe6pwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVzZU5vcm1hbENTUykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g6YCa6L+HbXVzdOWPguaVsOadpeWIpOWumnN0eWxl5piv5ZCm5Yqg6L29CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkYXRhID0gZGF0YS5yZXBsYWNlKC9iYWlkdS5jb20jXCQjL2lnbSwgJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhPZigiaHR0cCIpICE9IDApIGRhdGEgPSAiZGF0YTp0ZXh0L2Nzczt1dGYtOCwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja0RvY21lbnRIYXNOb2RlKHRvQ2xhc3NOYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwaSA9IGRvY3VtZW50LmNyZWF0ZVByb2Nlc3NpbmdJbnN0cnVjdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInhtbC1zdHlsZXNoZWV0IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHR5cGU9InRleHQvY3NzIiBtdXN0PSIke211c3RMb2FkfSIgY2xhc3M9IiR7dG9DbGFzc05hbWV9IiBocmVmPSIke2RhdGF9ImAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOyAvLyDms6jmhI/lv4XpobvopoHlj4zlvJXlj7cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5pbnNlcnRCZWZvcmUocGksIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAqKioqKioqKioq5aSa6YeN5qC35byPLeWFvOWuuWVkZ2UgJiYg6buR5aSc6ISa5pysKioqKioqKioqKioqICovCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZShkYXRhLCB0b0NsYXNzTmFtZSwgImhlYWQiLCBmYWxzZSwgInRleHQvY3NzIik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiAqKioqKioqKioq5aSa6YeN5qC35byPLeWFvOWuuWVkZ2UgJiYg6buR5aSc6ISa5pysKioqKioqKioqKioqICovCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIC8v5Yqg6L295pmu6YCa5qC35byPCiAgICAgICAgICAgICAgICAgICAgbG9hZENvbW1vblN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFN0eWxlKENPTlNULmtleVNpdGUgKyAiQ29tbW9uU3R5bGUiLCBDT05TVC5rZXlTaXRlICsgIkNvbW1vblN0eWxlIik7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBsb2FkQmFpZHVMaXRlU3R5bGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRTdHlsZSgiYmFpZHVMaXRlU3R5bGUiLCAiYmFpZHVMaXRlU3R5bGUiLCBudWxsLCBmYWxzZSwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRQbGFpblRvQ1NTKCJiYWlkdUxpdGVTdHlsZSIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgbG9hZFN0eWxlOiBmdW5jdGlvbiAoc3R5bGVOYW1lLCBpbnNDbGFzc05hbWUsIHNldFVybCwgdXNlTm9ybWFsQ1NTLCBtdXN0TG9hZCkgewogICAgICAgICAgICAgICAgICAgICAgICAvLyDlhajpg6jph4fnlKh0ZXh0L2Nzc+eahOWGheWuueadpei9veWFpQogICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK9kZWJ1Z+aooeW8j+OAguaIluiAheaYr2dt5qih5byPCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0xvY2FsRGVidWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCLmnKzlnLAt5Yqg6L295qC35byP77yaIiArIGluc0NsYXNzTmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVcmwgPSBzZXRVcmwgfHwgImh0dHA6Ly8xMjcuMC4wLjEvIiArIHN0eWxlTmFtZSArICIuY3NzIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW1wb3J0U3R5bGUoc2V0VXJsLCAiQUMtIiArIGluc0NsYXNzTmFtZSwgdXNlTm9ybWFsQ1NTLCBtdXN0TG9hZCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNOZXdHTSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDku4XnlKjkuo5HcmVhc2VNb25rZXk0LjArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1Zygi54m55q6K5qih5byPLeWKoOi9veagt+W8j++8miIgKyBpbnNDbGFzc05hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VXJsID0gc2V0VXJsIHx8ICJodHRwczovL2JhaWR1Lmh0dDUuY29tL25ld2Nzcy8iICsgc3R5bGVOYW1lICsgIi5jc3MiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRTdHlsZShzZXRVcmwsICJBQy0iICsgaW5zQ2xhc3NOYW1lLCB1c2VOb3JtYWxDU1MsIG11c3RMb2FkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCLliqDovb3moLflvI/vvJoiICsgaW5zQ2xhc3NOYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhbXBlck1vbmtleSArIEdyZWFzZU1vbmtleSA8IDQuMCArIFZpb2xlbnRNb25rZXkgKDQuMEdyZWFzZU1vbmtleeS4jeaUr+aMgUdldFJlc291cmNl5pa55rOVKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbXBvcnRTdHlsZShHTV9nZXRSZXNvdXJjZVRleHQoc3R5bGVOYW1lKSwgIkFDLSIgKyBpbnNDbGFzc05hbWUsIHVzZU5vcm1hbENTUywgbXVzdExvYWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAvL+WKoOi9veaKpOecvOaooeW8j+agt+W8jwogICAgICAgICAgICAgICAgICAgIGxvYWRIdVlhblN0eWxlOiBmdW5jdGlvbiAoY29sb3IpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gImJvZHlbYmFpZHVdLCN3cmFwcGVyICNoZWFkLCN3cmFwcGVyICNzX3RhYixmb3JtLmZtIC5zX2lwdF93ci5iZ3tiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9I2NvbnRhaW5lciAjY29udGVudF9sZWZ0IC5yZXN1bHQtb3AsI2NvbnRhaW5lciAjY29udGVudF9sZWZ0IC5yZXN1bHQsI2NvbnRhaW5lciAjcnMsI2NvbnRhaW5lciAjY29udGVudF9yaWdodHtiYWNrZ3JvdW5kLWNvbG9yOiNhYWE7Ym9yZGVyOjFweCBkb3VibGUgI2EyZDdkNDtib3JkZXItcmFkaXVzOjB9I2NvbnRhaW5lciAjY29udGVudF9sZWZ0IC5yZXN1bHQtb3A6aG92ZXIsI2NvbnRhaW5lciAjY29udGVudF9sZWZ0IC5yZXN1bHQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjIWltcG9ydGFudH0jY29udGFpbmVyICNjb250ZW50X2xlZnQgLnJlc3VsdC1vcCBoMywjY29udGFpbmVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyIGgzLCNjb250YWluZXIgI3JzIC50dHtiYWNrZ3JvdW5kLWNvbG9yOiNiYmJ9Lm5hX2NudCAubndzX2l0bSwubndzX2l0bWIsI2JfY29udGVudCAjYl9yZXN1bHRzIGxpLGJvZHkgI2JfaGVhZGVye2JhY2tncm91bmQtY29sb3I6I2FhYTtib3JkZXI6MXB4IGRvdWJsZSAjYTJkN2Q0O2JvcmRlci1yYWRpdXM6MH0jYl9jb250ZW50ICNiX3Jlc3VsdHMgbGk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjIWltcG9ydGFudH0jYl9jb250ZW50ICNiX3Jlc3VsdHMgbGkgaDJ7YmFja2dyb3VuZC1jb2xvcjojYmJifS5zcmcgLmcsLmJrV01nZD4uZywuYmtXTWdkIGctaW5uZXItY2FyZCwjcmhzY29sICNyaHMsI3Joc2NvbCAjcmhzIC5nPmRpdiwuYzJ4elRiIC5nLC5ydVRjSWQgLmcsLmZtMDZJZiAuZywuY1VuUUtlIC5nLC5IYW5RbWYgLmd7YmFja2dyb3VuZC1jb2xvcjojYWFhO2JvcmRlcjoxcHggZG91YmxlICNhMmQ3ZDQ7Ym9yZGVyLXJhZGl1czowfS5zcmcgLmc6aG92ZXIsLmJrV01nZD4uZzpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2MhaW1wb3J0YW50fS5ia1dNZ2QgLmcgZGl2LnIsLnNyZyAuZyBoM3tiYWNrZ3JvdW5kLWNvbG9yOiNiYmJ9IjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFDQ29uZmlnLmlzVXNlckNvbG9yRW5hYmxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvciA9IGNvbG9yIHx8IEFDQ29uZmlnLmRlZmF1bHRIdVlhbkNvbG9yIHx8ICIjRkZGRkZGIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yID0gY29sb3IgfHwgIiNGRkZGRkYiOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xvci5pbmRleE9mKCIjIikgIT0gMCB8fCBjb2xvci5sZW5ndGggPCA3KSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05ld0dNID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IEdNX2dldFJlc291cmNlVGV4dCgiTWFpbkh1WWFuU3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZSA9IHN0eWxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvI2FhYShhKikvaWdtLCBjb2xvcikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8jYmJiKGIqKS9pZ20sIHRoaXMuTGlnaHRlcihjb2xvciwgLTQwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8jY2NjKGMqKS9pZ20sIHRoaXMuTGlnaHRlcihjb2xvciwgNDUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgQUNfYWRkU3R5bGUoc3R5bGUsICJBQy0iICsgQ09OU1Qua2V5U2l0ZSArICJIdVlhblN0eWxlIiArIChpc05ld0dNID8gIiIgOiAiLUZpbGUiKSwgImhlYWQiLCB0cnVlLCAidGV4dC9jc3MiKTsgLy8g6ZyA6KaB5L+u5pS555qE77yM5omA5Lul5Li6dHJ1ZQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgY2xpcDI1NTogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDI1NSkgcmV0dXJuIDI1NTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCkgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIExpZ2h0ZXI6ZnVuY3Rpb24gKG9yaVJHQiwgZGVsdGFZKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaMieavlOS+i+e8qeaUviArIDEvZGVsdGFZCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhFWCAyIFJHQgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmdiID0gb3JpUkdCLnJlcGxhY2UoIiMiLCAiIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBSID0gcGFyc2VJbnQoIjB4IiArIHJnYi5zdWJzdHIoMCwgMikpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgRyA9IHBhcnNlSW50KCIweCIgKyByZ2Iuc3Vic3RyKDIsIDIpKTsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IEIgPSBwYXJzZUludCgiMHgiICsgcmdiLnN1YnN0cig0LCAyKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJHQiAyIFlVVgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgWSA9ICgoNjYgKiBSICsgMTI5ICogRyArIDI1ICogQiArIDEyOCkgPj4gOCkgKyAxNjsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFUgPSAoKC0zOCAqIFIgLSA3NCAqIEcgKyAxMTIgKiBCICsgMTI4KSA+PiA4KSArIDEyODsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IFYgPSAoKDExMiAqIFIgLSA5NCAqIEcgLSAxOCAqIEIgKyAxMjgpID4+IDgpICsgMTI4OwogICAgICAgICAgICAgICAgICAgICAgICBZID0gWSAqICgxICsgMS4wIC8gZGVsdGFZKTsvLyDmj5Dpq5jkuq7luqYKICAgICAgICAgICAgICAgICAgICAgICAgLy8gWVVWIDIgUkdCCiAgICAgICAgICAgICAgICAgICAgICAgIFIgPSB0aGlzLmNsaXAyNTUoKDI5OCAqIChZIC0gMTYpICsgNDA5ICogKFYgLSAxMjgpICsgMTI4KSA+PiA4KTsKICAgICAgICAgICAgICAgICAgICAgICAgRyA9IHRoaXMuY2xpcDI1NSgoMjk4ICogKFkgLSAxNikgLSAxMDAgKiAoVSAtIDEyOCkgLSAyMDggKiAoViAtIDEyOCkgKyAxMjgpID4+IDgpOwogICAgICAgICAgICAgICAgICAgICAgICBCID0gdGhpcy5jbGlwMjU1KCgyOTggKiAoWSAtIDE2KSArIDUxNiAqIChVIC0gMTI4KSArIDEyOCkgPj4gOCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAiIyIgKyAoKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCKS50b1N0cmluZygxNik7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAvL+WKoOi9veWNlemhteagt+W8jwogICAgICAgICAgICAgICAgICAgIGxvYWRPbmVQYWdlU3R5bGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkU3R5bGUoQ09OU1Qua2V5U2l0ZSArICJPbmVQYWdlU3R5bGUiLCBDT05TVC5rZXlTaXRlICsgIk9uZVBhZ2VTdHlsZSIpOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgLy/liqDovb3lj4zpobXmoLflvI8KICAgICAgICAgICAgICAgICAgICBsb2FkVHdvUGFnZVN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFN0eWxlKENPTlNULmtleVNpdGUgKyAiVHdvUGFnZVN0eWxlIiwgQ09OU1Qua2V5U2l0ZSArICJUd29QYWdlU3R5bGUiKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIC8vIOWKoOi9veS4ieWIl+agt+W8jwogICAgICAgICAgICAgICAgICAgIGxvYWRUaHJlZVBhZ2VTdHlsZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3NzSGVhZCA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkJBSURVKSBjc3NIZWFkID0gIiNjb250YWluZXIgI2NvbnRlbnRfbGVmdCwgYm9keVtuZXdzXSAjY29udGFpbmVyICNjb250ZW50X2xlZnQ+ZGl2Om5vdChbY2xhc3NdKTpub3QoW2lkXSkiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkdPT0dMRSkgY3NzSGVhZCA9ICIuc3JnLCNhY2lkX3NyYyI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuQklORykgY3NzSGVhZCA9ICIjYl9jb250ZW50ICNiX3Jlc3VsdHMiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLlNPR09VKSBjc3NIZWFkID0gIiNtYWluIC5yZXN1bHRzIjsKICAgICAgICAgICAgICAgICAgICAgICAgQUNfYWRkU3R5bGUoY3NzSGVhZCArICJ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maXQsbWlubWF4KDMzJSwxZnIpKTt9ICNjb250YWluZXIgI2NvbnRlbnRfbGVmdD4qOm5vdChbY2xhc3MqPSdyZXN1bHQnXSksI2FjaWRfc3JjIGRpdjpsYXN0LWNoaWxke2dyaWQtY29sdW1uLWVuZDogNDt9IiwgIkFDLVRocmVlUGFnZVN0eWxlIiwgImhlYWQiKTsKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIC8vIOWKoOi9veWbm+WIl+agt+W8jwogICAgICAgICAgICAgICAgICAgIGxvYWRGb3VyUGFnZVN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjc3NIZWFkID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuQkFJRFUpIGNzc0hlYWQgPSAiI2NvbnRhaW5lciAjY29udGVudF9sZWZ0LCBib2R5W25ld3NdICNjb250YWluZXIgI2NvbnRlbnRfbGVmdD5kaXY6bm90KFtjbGFzc10pOm5vdChbaWRdKSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuR09PR0xFKSBjc3NIZWFkID0gIi5zcmcsI2FjaWRfc3JjIjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CSU5HKSBjc3NIZWFkID0gIiNiX2NvbnRlbnQgI2JfcmVzdWx0cyI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJTaXRlLlNpdGVUeXBlSUQgPT0gU2l0ZVR5cGUuU09HT1UpIGNzc0hlYWQgPSAiI21haW4gLnJlc3VsdHMiOwogICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZShjc3NIZWFkICsgIntncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCxtaW5tYXgoMjUlLDFmcikpO30gI2NvbnRhaW5lciAjY29udGVudF9sZWZ0Pio6bm90KFtjbGFzcyo9J3Jlc3VsdCddKSwjYWNpZF9zcmMgZGl2Omxhc3QtY2hpbGR7Z3JpZC1jb2x1bW4tZW5kOiA1O30iLCAiQUMtRm91clBhZ2VTdHlsZSIsICJoZWFkIik7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBsb2FkUGxhaW5Ub0NTUzogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTm9kZSA9IGRvY3VtZW50LmNoaWxkTm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJOb2RlLmRlbCkgY3VyTm9kZS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJzdHlsZVtjbGFzcyo9J0FDJ11bZGVsPScxJ10iKS5mb3JFYWNoKGZ1bmN0aW9uIChwZXIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlci5yZW1vdmUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAvLyDnpoHmraLni6znq4vnmoTmoLflvI/liqDovb0KICAgICAgICAgICAgICAgICAgICBsb2FkQ1NTVG9QbGFpbjogZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2N1bWVudC5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyTm9kZSA9IGRvY3VtZW50LmNoaWxkTm9kZXNbaV07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDlpoLmnpzmmK/lrZjlnKhjc3PvvIwg5LiU6Z2e5b+F6aG75pWw5o2uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyTm9kZS50YXJnZXQgPT0gInhtbC1zdHlsZXNoZWV0IiAmJiBjdXJOb2RlLmRhdGEuaW5kZXhPZigibXVzdD1cInRydWUiKSA8IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLmRhdGEgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJOb2RlLmRlbCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImVkZ2UiKSA+IDApewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlZGdl5LiL54m55q6K5aSE55CGCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck5vZGUucmVtb3ZlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGxldCBDb250cm9sTWFuYWdlciA9IHsKICAgICAgICAgICAgICAgICAgICAvL+WxheS4reaYvuekuiAtLS0g5b+F6aG75piv55m+5bqm5ZKM6LC35q2M55qE5pCc57Si57uT5p6c6aG16Z2i77yM5YW25LuW6aG16Z2i5LiN6IO95Yqg6L2955qELS3lt7Lnu4/pgJrov4fohJrmnKxpbmNsdWRl5qCH562+6ZmQ5Yi25LqG5LiA6YOo5YiGCiAgICAgICAgICAgICAgICAgICAgY2VudGVyRGlzcGxheTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBBQ19hZGRTdHlsZSgiYm9keVtnb29nbGVdIC5iYWlkdXt0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtMTBweCwgLTFyZW0pO3RyYW5zaXRpb246YWxsIDAuM3MgZWFzZX0ubWluaWRpdiAjbG9nbyBpbWd7d2lkdGg6IDEwMHB4O2hlaWdodDogdW5zZXQ7bWFyZ2luLXRvcDogMC4zcmVtO30iLCAiQUMtc3R5bGUtbG9nbyIsICJoZWFkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSBDT05TVC5BZHNTdHlsZU1vZGUgfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5hY0Nzc0xvYWRGbGFnIikgPT0gbnVsbCAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIuQUNFeHRlbnNpb24iKSA9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygiaW7moLflvI/ljbPlsIbliqDovb06IityZXN1bHQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGV4cGFuZFN0eWxlID0gIiNjb250ZW50X2xlZnQgLnJlc3VsdC1vcDpob3ZlciwjY29udGVudF9sZWZ0IC5yZXN1bHQ6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMnB4IGdyYXk7YmFja2dyb3VuZDpyZ2JhKDIzMCwyMzAsMjMwLDAuMSkhaW1wb3J0YW50O30jd3JhcHBlciAjcnMsICN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCwgI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuYy1jb250YWluZXJ7bWluLXdpZHRoOjY3MHB4O21hcmdpbi1ib3R0b206MTRweCFpbXBvcnRhbnQ7fS5jLXNwYW4xOHt3aWR0aDo3OCUhaW1wb3J0YW50O21pbi13aWR0aDo1NTBweDt9LmMtc3BhbjI0e3dpZHRoOiBhdXRvIWltcG9ydGFudDt9IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKGV4cGFuZFN0eWxlLCAiQUMtU3R5bGUtZXhwYW5kIiwgImhlYWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkQ29tbW9uU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0ID09IDIpIHsvL+WNlemhteWxheS4rQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFDX2FkZFN0eWxlKGV4cGFuZFN0eWxlLCAiQUMtU3R5bGUtZXhwYW5kIiwgImhlYWQiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkQ29tbW9uU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkT25lUGFnZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSAzKSB7IC8v5Y+M6aG15bGF5LitCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuU3R5bGVNYW5nZXIubG9hZENvbW1vblN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuU3R5bGVNYW5nZXIubG9hZFR3b1BhZ2VTdHlsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQgPT0gNCkgeyAvLyDkuInliJcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkQ29tbW9uU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkVHdvUGFnZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ09OU1QuU3R5bGVNYW5nZXIubG9hZFRocmVlUGFnZVN0eWxlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PSA1KSB7IC8vIOWbm+WIlwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRDb21tb25TdHlsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRUd29QYWdlU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkRm91clBhZ2VTdHlsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhmbGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZmxhZy5jbGFzc05hbWUgPSAiYWNDc3NMb2FkRmxhZyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHhmbGFnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCJpbuagt+W8j+i/kOihjOe7k+adnyIpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1clNpdGUuU2l0ZVR5cGVJRCA9PSBTaXRlVHlwZS5CQUlEVSAmJiBBQ0NvbmZpZy5TdHlsZV9CYWlkdUxpdGUgPT0gdHJ1ZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT05TVC5TdHlsZU1hbmdlci5sb2FkQmFpZHVMaXRlU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEICE9IFNpdGVUeXBlLkJBSURVICYmIGN1clNpdGUuU2l0ZVR5cGVJRCAhPSBTaXRlVHlwZS5CQUlEVV9YVUVTSFUgJiYgY3VyU2l0ZS5TaXRlVHlwZUlEICE9IFNpdGVUeXBlLkdPT0dMRSAmJiBjdXJTaXRlLlNpdGVUeXBlSUQgIT0gU2l0ZVR5cGUuQklORyAmJiBjdXJTaXRlLlNpdGVUeXBlSUQgIT0gU2l0ZVR5cGUuU09HT1UpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv55m+5bqmICYmICAoKOWcsOWdgOabv+aNoi0+5YyF5ZCrd2TlhbPplK7or41b5pu/5o2i5LmL5ZCO5LiN562JLeaYr+eZvuW6pue7k+aenOmhtemdol0pIHx8IOacieWPs+i+ueagjy3ogq/lrprmmK/nmb7luqbmkJzntKLnu5PmnpzpobUgfHwgdmFsdWXkuK3lrZjlnKjmkJzntKLlhoXlrrkpIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVja0lTQmFpZHVNYWluKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRDU1NUb1BsYWluKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLy8g5aaC5p6c5piv6LC35q2MICYmICjlnLDlnYDmm7/mjaItPuaYr+iwt+atjOWbvuWDj+mhtemdoiB8fCDmmK/lnLDlm77pobXpnaIpW+abv+aNouimgeWPmF0gcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyU2l0ZS5TaXRlVHlwZUlEID09IFNpdGVUeXBlLkdPT0dMRSAmJiBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoL3RibT0oaXNjaHxsY2x8c2hvcHxmbG0pLywgIiIpICE9IGxvY2F0aW9uLmhyZWYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRDU1NUb1BsYWluKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgLyoq5oqk55y8U3R5bGXmnIDlkI7ovb3lhaUqKi8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKENPTlNULkh1WWFuTW9kZSA9PSB0cnVlIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInN0eWxlW2NsYXNzKj0nZGFya3JlYWRlciddIikgIT0gbnVsbCkgQ09OU1QuU3R5bGVNYW5nZXIubG9hZEh1WWFuU3R5bGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgLy8g5ZCv55So5omA5pyJ5qC35byP6KGoCiAgICAgICAgICAgICAgICAgICAgICAgIENPTlNULlN0eWxlTWFuZ2VyLmxvYWRQbGFpblRvQ1NTKCk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDT05TVC5pc0dvb2dsZUltYWdlVXJsKSByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2VudGVyRGlzcGxheSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBkZWJ1Zygi6LCD55So5Yqg6L296Ieq5a6a5LmJY3NzIik7CiAgICAgICAgICAgICAgICBDb250cm9sTWFuYWdlci5pbml0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gQ09OU1QuU3R5bGVNYW5nZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KSgpOwp9KCk7","resources":[{"meta":{"name":"baiduCommonStyle.css","url":"http://ibaidu.htt5.com/newcss/baiduCommonStyle.css?t=23.276","ts":1576516241645,"mimetype":"text/css"},"source":"aWZyYW1lLC5yZXNfdG9wX2Jhbm5lciAjZm9vdCwjcGFnZSAuZmssI2hlYWQgLmhlYWRCbG9jaywjcnNfdG9wX25ldywjd3JhcHBlciAjY29udGVudF9sZWZ0PnRhYmxlLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtcmVjb21tZW5kLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmxlZnRCbG9jaywjd3JhcHBlciAjY29udGVudF9sZWZ0IC5ycmVjb20tYnRuLXBhcmVudCwjZGVtbywjd3JhcHBlciAjZ290b1BhZ2UsYm9keT5kaXYucmVzdWx0LW9wLC5ycmVjb20tY29udGFpbmVyLC5jaHVud2FuLXdyYXBwZXJ7ZGlzcGxheTpub25lIWltcG9ydGFudH0jd3JhcHBlciAjY29udGVudF9yaWdodHttYXJnaW4tcmlnaHQ6LTYlfWJvZHlbYmFpZHVde2JhY2tncm91bmQtY29sb3I6I2Y1ZjVmNX1mb3JtLmZtIC5iZHN1Z3t3aWR0aDo3NiV9I2FsYV9pbWdfcmVzdWx0c3tvdmVyZmxvdzpoaWRkZW59Ym9keSBhLGJvZHkgYSBlbXt0ZXh0LWRlY29yYXRpb246bm9uZX0jd3JhcHBlciAjc190YWJ7Ym9yZGVyLWJvdHRvbTojZTBlMGUwIDFweCBzb2xpZDtiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjh9Ym9keSAjaGVhZHtiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjg7Ym9yZGVyLWJvdHRvbTpub25lfWZvcm0uZm17YmFja2dyb3VuZC1jb2xvcjp1bnNldH1mb3JtLmZtIC5iZHN1ZyBsaXt3aWR0aDphdXRvO2NvbG9yOiMwMDA7Zm9udDoxNXB4IGFyaWFsO2xpbmUtaGVpZ2h0OjI2cHh9Zm9ybS5mbSAuc19pcHRfd3IuYmd7YmFja2dyb3VuZDojZmZmO3dpZHRoOjc2JX1mb3JtLmZtIC5zX2J0bntiYWNrZ3JvdW5kOiMyODY2YmQ7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzQ4NzliZH1mb3JtLmZtIC5zX2J0bjpob3ZlcntiYWNrZ3JvdW5kOiM0ZjdmYmY7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzI4NjZiZH0jd3JhcHBlciAjc190YWIgYntjb2xvcjojMjg2NmJkO2JvcmRlci1ib3R0b206M3B4ICMyODY2YmQgc29saWR9I3UgYXt0ZXh0LWRlY29yYXRpb246bm9uZX0jd3JhcHBlciAuaGVhZF9udW1zX2NvbnRfb3V0ZXIgLnNlYXJjaF90b29sX2NvbnRlciwjd3JhcHBlciAuaGVhZF9udW1zX2NvbnRfb3V0ZXIgLm51bXN7d2lkdGg6NjMwcHh9I3dyYXBwZXIgI2NvbnRlbnRfbGVmdHthbmltYXRpb24tbmFtZTpsZWZ0X2xvZ29SOy13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4xczstd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246ZWFzZX0jd3JhcHBlciAjcnMsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0LCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVye3dpZHRoOjY3MHB4O3BhZGRpbmc6MCAyMHB4IDE1cHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206NDBweDtib3JkZXItcmFkaXVzOjA7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKTstd2Via2l0LWJveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy1tb3otYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7dHJhbnNpdGlvbjphbGwgLjI1cyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdC1vcDpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQ6aG92ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0LW9wIGFydGljbGU6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMnB4IGdyYXkhaW1wb3J0YW50O2JhY2tncm91bmQ6I2YzZjNmMyFpbXBvcnRhbnR9I3dyYXBwZXIgI3JzW2FjLW5lZWRoaWRlXSwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHRbYWMtbmVlZGhpZGVdLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyW2FjLW5lZWRoaWRlXXtwYWRkaW5nOjVweDtwYWRkaW5nLWxlZnQ6MTVweH0jd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHRbdHBsPXNvZnRdIC5vcC1zb2Z0LXRpdGxlLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMywjd3JhcHBlciAjY29udGVudF9sZWZ0IC5jLWNvbnRhaW5lciBoM3tiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjg7bWFyZ2luOjAgLTIwcHggMTBweDtwYWRkaW5nOjhweCAyMHB4IDVweDtib3JkZXItcmFkaXVzOjVweCA1cHggMCAwfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLmYxMyBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmYxMyBlbSwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5jLXNwYW4xOCBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnN1YkxpbmtfZmFjdG9yeSBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtdGFicy1jb250ZW50IGEsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3Bfb2ZmaWNhbF93ZWlib19jb250ZW50IGEsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3Bfb2ZmaWNhbF93ZWlib19weiBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wX3RpZWJhMl90YWJsaW5rc19jb250YWluZXIgYSwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcC10aWViYS1nZW5lcmFsLXJpZ2h0LCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wX2RxMDFfdGl0bGUsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3BfZHEwMV90YWJsZSBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wX2RxMDFfbW9yZWxpbmsgYSwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcC10aWViYS1nZW5lcmFsLW1haW5wbCBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNlLWxpc3Rlbi1yZWNvbW1lbmQsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuYy1vZmZzZXQ+ZGl2IGF7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6IzI4NjZiZH0jd3JhcHBlciAjY29udGVudF9sZWZ0IC5mMTMgYTpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5mMTMgZW06aG92ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuc3ViTGlua19mYWN0b3J5IGE6aG92ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuYy10YWJzLWNvbnRlbnQgYTpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcF90aWViYTJfdGFibGlua3NfY29udGFpbmVyIGE6aG92ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3AtdGllYmEtZ2VuZXJhbC1yaWdodDpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcF9kcTAxX3RpdGxlOmhvdmVyLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wX2RxMDFfdGFibGUgYTpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcF9kcTAxX21vcmVsaW5rIGE6aG92ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3AtdGllYmEtZ2VuZXJhbC1tYWlucGwgYTpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcC1zZS1saXN0ZW4tcmVjb21tZW5kOmhvdmVyLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtb2Zmc2V0PmRpdiBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUhaW1wb3J0YW50fSN3cmFwcGVyICNjb250ZW50X2xlZnQgLmYxMyBhe2NvbG9yOmdyZWVufSN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtc3BhbjE4LCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtc3BhbjI0e3dpZHRoOjEwMCU7bWluLXdpZHRoOnVuc2V0fSN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtYm9yZGVye3dpZHRoOmF1dG87Ym9yZGVyOm5vbmU7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDAgMCB0cmFuc3BhcmVudDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnQ7LW1vei1ib3gtc2hhZG93OjAgMCAwIHRyYW5zcGFyZW50Oy1vLWJveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnR9I3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuc2VfY29tX2lycmVndWxhcl9nYWxsZXJ5IHVsIGxpLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wX2ppbmd5YW5fbGlzdCwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQgLm9wLWltZy1hZGRyZXNzLWxpbmstdHlwZXtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tbGVmdDoxMHB4fSN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyW3RwbD1zb2Z0XSAub3Atc29mdC10aXRsZSBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyW3RwbD1zb2Z0XSAub3Atc29mdC10aXRsZSBhIGVtLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyIGgzIGEsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0IGgzIGEgZW17Y29sb3I6IzI4NjZiZDtmb250LXdlaWdodDo3MDB9I3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3Atc29mdC10aXRsZSBhLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMyBhe3Bvc2l0aW9uOnJlbGF0aXZlfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYSBlbSwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQgaDMgYSBlbXt0ZXh0LWRlY29yYXRpb246bm9uZX0jd3JhcHBlciAjY29udGVudF9sZWZ0IC5vcC1zb2Z0LXRpdGxlIGE6aG92ZXI6YWZ0ZXIsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0IGgzIGE6aG92ZXI6YWZ0ZXJ7bGVmdDowO3dpZHRoOjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zOy1tb3otdHJhbnNpdGlvbjp3aWR0aCAzNTBtczt0cmFuc2l0aW9uOndpZHRoIDM1MG1zfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYTphZnRlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQgaDMgYTphZnRlcntjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1ib3R0b206MnB4IHNvbGlkICMyODY2YmQ7Ym90dG9tOi0ycHg7bGVmdDoxMDAlO3dpZHRoOjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7dHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMywjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQtb3AgaDN7Zm9udC13ZWlnaHQ6NzAwO2ZvbnQtc2l6ZTptZWRpdW19I3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAub3Atc29mdC10aXRsZSBhICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMyBhe3Bvc2l0aW9uOnJlbGF0aXZlfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYTp2aXNpdGVkLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYTp2aXNpdGVkIGVtLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMyBhOnZpc2l0ZWQsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0IGgzIGE6dmlzaXRlZCBlbXtjb2xvcjojNjA5fSN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYTp2aXNpdGVkOmhvdmVyOmFmdGVyLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMyBhOnZpc2l0ZWQ6aG92ZXI6YWZ0ZXJ7bGVmdDowO3dpZHRoOjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zOy1tb3otdHJhbnNpdGlvbjp3aWR0aCAzNTBtczt0cmFuc2l0aW9uOndpZHRoIDM1MG1zfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLm9wLXNvZnQtdGl0bGUgYTp2aXNpdGVkOmFmdGVyLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCBoMyBhOnZpc2l0ZWQ6YWZ0ZXJ7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItYm90dG9tOjJweCBzb2xpZCAjNjA5O2JvdHRvbTotMnB4O2xlZnQ6MTAwJTt3aWR0aDowOy13ZWJraXQtdHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zOy1tb3otdHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXMsbGVmdCAzNTBtc30jd3JhcHBlciAjcnMsI3dyYXBwZXIgI3Jze21hcmdpbi10b3A6MDtwYWRkaW5nOjAgMjBweCAxNXB4O2JvcmRlci1yYWRpdXM6NXB4fSN3cmFwcGVyICNycyAudHR7bWFyZ2luOjAgLTIwcHggNXB4O3BhZGRpbmc6NXB4IDIwcHg7YmFja2dyb3VuZC1jb2xvcjojZjhmOGY4O2JvcmRlci1yYWRpdXM6NXB4IDVweCAwIDB9I3dyYXBwZXIgI3JzIHRhYmxle3dpZHRoOjYzMHB4O3BhZGRpbmc6NXB4IDE1cHh9I3dyYXBwZXIgI3JzIHRhYmxlIHRyIGF7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWJvdHRvbTo1cHg7Y29sb3I6IzI4NjZiZH0jd3JhcHBlciAjcnMgdGFibGUgdHIgYTpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfSN3cmFwcGVyICNwYWdle21pbi13aWR0aDo3MTBweDtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3BhZGRpbmctdG9wOjVweDttYXJnaW46MCAwIDUwcHggODBweH0ub3AtaW1nLWFkZHJlc3MtZGVza3RvcC1jb250e292ZXJmbG93OmhpZGRlbn0jd3JhcHBlciAjcGFnZSBhLCN3cmFwcGVyICNwYWdlIHN0cm9uZ3tjb2xvcjojMjg2NmJkO2hlaWdodDphdXRvO2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKX0jd3JhcHBlciAjcGFnZSAubjpob3Zlciwjd3JhcHBlciAjcGFnZSBhOmhvdmVyIC5wY3tib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O2JhY2tncm91bmQ6I2Q4ZDhkODtjb2xvcjojMDA1N2RhfSN3cmFwcGVyICNwYWdlIHN0cm9uZyAucGN7YmFja2dyb3VuZDojNDg3OWJkO2NvbG9yOiNmZmZ9Lm9wLWltZy1hZGRyZXNzLWRpdmlkZS1oaWdoe292ZXJmbG93OmhpZGRlbn1ALXdlYmtpdC1rZXlmcmFtZXMgbGVmdF9sb2dvUnswJXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDY0cHgpO29wYWNpdHk6MH01MCV7b3BhY2l0eTowfTEwMCV7b3BhY2l0eToxfX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjE5NDBweCl7I2hlYWQgLmhlYWRfd3JhcHBlcnt3aWR0aDp1bnNldH19LnJlc3VsdC1vcC5jLWNvbnRhaW5lciAuYy1yZXN1bHQtY29udGVudHtwYWRkaW5nLXRvcDoyMHB4fSN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdC1vcCBhcnRpY2xle3BhZGRpbmctdG9wOjE1cHh9"},{"meta":{"name":"baiduOnePageStyle.css","url":"http://ibaidu.htt5.com/newcss/baiduOnePageStyle.css?t=23.276","ts":1576516241632,"mimetype":"text/css"},"source":"I3dyYXBwZXJfd3JhcHBlciAjY29udGFpbmVye3dpZHRoOjEwMCV9Zm9ybS5mbXtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0OmNhbGMoNDQlIC0gMzY1cHgpO2JhY2tncm91bmQtY29sb3I6dW5zZXQ7d2lkdGg6NTAlfSN3cmFwcGVyIGZvcm0uZm0gI2t3e3dpZHRoOjk0JX1ib2R5W2JhaWR1XSAucGFnZWZvb3QuZ2p7bWFyZ2luLXRvcDoxMDBweH0jcmVzdWx0X2xvZ297cG9zaXRpb246cmVsYXRpdmU7bGVmdDpjYWxjKDQ0JSAtIDM2NXB4KTttYXJnaW46MTBweCAwIDB9I3NfdGFiIGIsI3NfdGFiIGF7cG9zaXRpb246cmVsYXRpdmU7bGVmdDpjYWxjKDUwJSAtIDQ0NXB4KX0jd3JhcHBlciAuaGVhZF9udW1zX2NvbnRfb3V0ZXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDpjYWxjKDQ1dncgLSA1MDBweCl9I3dyYXBwZXIgI2NvbnRlbnRfbGVmdCwjd3JhcHBlciAjcnMsI3dyYXBwZXIgI3BhZ2V7dG9wOjM1cHg7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1sZWZ0OjA7d2lkdGg6NTAlIWltcG9ydGFudDttaW4td2lkdGg6NjcwcHg7ZmxvYXQ6dW5zZXQ7bWFyZ2luLWxlZnQ6dW5zZXQ7bWFyZ2luOjAgYXV0b30jd3JhcHBlciAjcGFnZXtiYWNrZ3JvdW5kOnVuc2V0fSN3cmFwcGVyICNycyAudHR7bWFyZ2luOjAgLTIwcHggMXB4IDB9I3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAuYy1jb250YWluZXJ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7bWluLXdpZHRoOjY1MHB4O21hcmdpbjowIGF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDoxMDAwcHgpeyN3cmFwcGVyICNjb250ZW50X2xlZnQsI3dyYXBwZXIgI3Jze21pbi13aWR0aDo4NTBweH19I3dyYXBwZXIgI2NvbnRlbnRfcmlnaHR7bWFyZ2luLXJpZ2h0OmNhbGMoMTV2dyAtIDIxMHB4KTtkaXNwbGF5Om5vbmV9QG1lZGlhIHNjcmVlbiBhbmQgKG1pbi13aWR0aDoxODAwcHgpeyN3cmFwcGVyICNjb250ZW50X3JpZ2h0e2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6dW5zZXQ7cG9zaXRpb246YWJzb2x1dGV9fSN3cmFwcGVyICNwYWdlIGEsI3dyYXBwZXIgI3BhZ2Ugc3Ryb25ne21hcmdpbi1yaWdodDoyMnB4IWltcG9ydGFudH0uc190YWJfaW5uZXJ7ZGlzcGxheTpibG9jayFpbXBvcnRhbnR9I2NvbnRhaW5lciAuaGludF9jb21tb25fcmVzdG9we3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6Y2FsYyg0NXZ3IC0gNTAwcHgpO21hcmdpbi10b3A6MjVweH0jc2VqLWNvbnRhaW5lcntwYWRkaW5nLWxlZnQ6Y2FsYyg0NCUgLSA0NzhweCkhaW1wb3J0YW50fQ=="},{"meta":{"name":"baiduTwoPageStyle.css","url":"http://ibaidu.htt5.com/newcss/baiduTwoPageStyle.css?t=23.276","ts":1576516241632,"mimetype":"text/css"},"source":"I3dyYXBwZXJfd3JhcHBlciAjY29udGFpbmVye3dpZHRoOmF1dG99Zm9ybS5mbXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDo1MCU7bGVmdDpjYWxjKDEyJSk7YmFja2dyb3VuZC1jb2xvcjp1bnNldH0jd3JhcHBlciBmb3JtLmZtICNrd3t3aWR0aDo5NCV9I3dyYXBwZXIgLnNfdGFiX2lubmVyLCNzX3RhYiAudGFiLXdyYXBwZXJ7bWFyZ2luLWxlZnQ6MTIlfSNzX3RhYiBiLCNzX3RhYiBhe3Bvc2l0aW9uOnJlbGF0aXZlfSNyZXN1bHRfbG9nbywuc19sb2dve3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6Y2FsYygxMiUpfSN3cmFwcGVyIC5oZWFkX251bXNfY29udF9vdXRlciAuc2VhcmNoX3Rvb2xfY29udGVyLCN3cmFwcGVyIC5oZWFkX251bXNfY29udF9vdXRlciAubnVtc3t3aWR0aDo4MCV9I3dyYXBwZXIgLmhlYWRfbnVtc19jb250X291dGVyLC5oaW50X2NvbW1vbl9yZXN0b3AsI2hlYWRlcl90b3BfYmFye3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6MTAlO3dpZHRoOjgwJX0jd3JhcHBlciAjaGVhZGVyX3RvcF9iYXJ7bWFyZ2luLWJvdHRvbTowfSN3cmFwcGVyICNjb250ZW50X2xlZnR7ZGlzcGxheTppbmxpbmUtZ3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6NTAlIDUwJTttYXJnaW46MCBhdXRvO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmctbGVmdDo1JTtmbG9hdDp1bnNldDt3aWR0aDo4MCU7bWFyZ2luLWxlZnQ6NyU7bWFyZ2luLWJvdHRvbTozMHB4fWJvZHlbbmV3c10gI3dyYXBwZXIgI2NvbnRlbnRfbGVmdD5kaXY6bm90KFtjbGFzc10pOm5vdChbaWRdKXtkaXNwbGF5OmlubGluZS1ncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczo1MCUgNTAlfSN3cmFwcGVyICNjb250ZW50X3JpZ2h0e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9I3dyYXBwZXIgI3Jze3Bvc2l0aW9uOnJlbGF0aXZlO21hcmdpbjowIGF1dG99I3dyYXBwZXIgI3BhZ2V7bWluLXdpZHRoOjcxMHB4O2hlaWdodDo0MHB4O2xpbmUtaGVpZ2h0OjQwcHg7cGFkZGluZzo1cHggMTBweDttYXJnaW46MCBhdXRvO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOnJlbGF0aXZlfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdCwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5jLWNvbnRhaW5lcnt3aWR0aDp1bnNldCFpbXBvcnRhbnQ7bWF4LXdpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbTozMHB4O21hcmdpbi1sZWZ0OjVweDttYXJnaW4tcmlnaHQ6MTVweH0jd3JhcHBlciAjY29udGVudF9sZWZ0Pio6bm90KFtjbGFzcyo9cmVzdWx0XSl7Z3JpZC1jb2x1bW4tc3RhcnQ6MTtncmlkLWNvbHVtbi1lbmQ6M30uYy1jb250YWluZXIgaDMgYXt6LWluZGV4OjF9I3Nlai1jb250YWluZXJ7cGFkZGluZy1sZWZ0OmNhbGMoMTIlIC0gMTEzcHgpIWltcG9ydGFudH0="},{"meta":{"name":"baiduLiteStyle.css","url":"http://ibaidu.htt5.com/newcss/baiduLiteStyle.css?t=23.276","ts":1576516241643,"mimetype":"text/css"},"source":"Kntmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLGhlbHZldGljYSBuZXVlLEhlbHZldGljYSxuaW1idXMgc2FucyBsLEFyaWFsLGxpYmVyYXRpb24gc2FucyxwaW5nZmFuZyBzYyxoaXJhZ2lubyBzYW5zIGdiLHNvdXJjZSBoYW4gc2FucyBjbixzb3VyY2UgaGFuIHNhbnMgc2MsbWljcm9zb2Z0IHlhaGVpLHdlbnF1YW55aSBtaWNybyBoZWksd2VucXVhbnlpIHplbiBoZWksc3QgaGVpdGksU2ltSGVpLHdlbnF1YW55aSB6ZW4gaGVpIHNoYXJwLHNhbnMtc2VyaWZ9Ojotd2Via2l0LXNjcm9sbGJhcnt3aWR0aDo2cHg7aGVpZ2h0OjEwcHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH06Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNre2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuMSl9Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYntib3JkZXItcmFkaXVzOjNweDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjIpO3RyYW5zaXRpb246YWxsIC40cyBlYXNlOy1tb3otdHJhbnNpdGlvbjphbGwgLjRzIGVhc2U7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNHMgZWFzZTstby10cmFuc2l0aW9uOmFsbCAuNHMgZWFzZX06Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVye2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwuNCk7dHJhbnNpdGlvbjphbGwgLjRzIGVhc2U7LW1vei10cmFuc2l0aW9uOmFsbCAuNHMgZWFzZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC40cyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC40cyBlYXNlfS5hbmltYXRlZHstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjoxczthbmltYXRpb24tZHVyYXRpb246MXM7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RofUAtd2Via2l0LWtleWZyYW1lcyBmYWRlSW5VcHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBmYWRlSW5VcHtmcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX10b3tvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19LmZhZGVJblVwey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZUluVXA7YW5pbWF0aW9uLW5hbWU6ZmFkZUluVXB9QC13ZWJraXQta2V5ZnJhbWVzIGJvdW5jZUluUmlnaHR7NjAlLDc1JSw5MCUsZnJvbSx0b3std2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSk7YW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpjdWJpYy1iZXppZXIoLjIxNSwuNjEsLjM1NSwxKX1mcm9te29wYWNpdHk6MDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgzMDAwcHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMzAwMHB4LDAsMCl9NjAle29wYWNpdHk6MTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjVweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtMjVweCwwLDApfTc1JXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDEwcHgsMCwwKX05MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTVweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgtNXB4LDAsMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06bm9uZTt0cmFuc2Zvcm06bm9uZX19QGtleWZyYW1lcyBib3VuY2VJblJpZ2h0ezYwJSw3NSUsOTAlLGZyb20sdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMzAwMHB4LDAsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDMwMDBweCwwLDApfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTI1cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTI1cHgsMCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMTBweCwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgxMHB4LDAsMCl9OTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKC01cHgsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoLTVweCwwLDApfXRvey13ZWJraXQtdHJhbnNmb3JtOm5vbmU7dHJhbnNmb3JtOm5vbmV9fS5ib3VuY2VJblJpZ2h0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6Ym91bmNlSW5SaWdodDthbmltYXRpb24tbmFtZTpib3VuY2VJblJpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBib3VuY2VJblVwezYwJSw3NSUsOTAlLGZyb20sdG97LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllciguMjE1LC42MSwuMzU1LDEpO2FuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246Y3ViaWMtYmV6aWVyKC4yMTUsLjYxLC4zNTUsMSl9ZnJvbXtvcGFjaXR5OjA7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwzMDAwcHgsMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMzAwMHB4LDApfTYwJXtvcGFjaXR5OjE7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtMjBweCwwKX03NSV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwxMHB4LDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwcHgsMCl9OTAley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsLTVweCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwtNXB4LDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMCwwKTt0cmFuc2Zvcm06dHJhbnNsYXRlM2QoMCwwLDApfX1he3RleHQtZGVjb3JhdGlvbjpub25lO21hcmdpbi1ib3R0b206MnB4fS5jLXNob3d1cmw6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmU7b3BhY2l0eTouODt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30ucmVzLWdhcC1yaWdodDE2OmhvdmVye2JvcmRlci1ib3R0b206IzQ4NzliZCAxLjJweCBzb2xpZH0uYy1zaG93dXJse3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5jLXRpcC1hcnJvdzpob3Zlcnt0ZXh0LWRlY29yYXRpb246bm9uZTtib3JkZXI6bm9uZX0uYy1kZWZhdWx0IGF7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Ym9yZGVyOm5vbmV9LmMtZ2FwLWJvdHRvbSBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9Lm9wX2RpY3QzX21vcmVsaW5rIGE6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX0uYy1idG46aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fXRkIGE6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZX1lbXt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9I3Nfd3JhcHtkaXNwbGF5Om5vbmV9LnMtdG9wLW5hdntkaXNwbGF5Om5vbmV9I3NfY3RuZXJfbWVudXN7ZGlzcGxheTpub25lfSNzX21lbnVfZ3VyZHtkaXNwbGF5Om5vbmV9I3Nfc3RycHhfc3BhbjF7ZGlzcGxheTpub25lfSNmdENvbntkaXNwbGF5Om5vbmV9I2JvdHRvbV9jb250YWluZXJ7ZGlzcGxheTpub25lfSNsZ3tiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7aGVpZ2h0OjcwcHg7cGFkZGluZy10b3A6MTUwcHh9I2xnIGltZ3tkaXNwbGF5Om5vbmV9I2xnIGF7ZGlzcGxheTpub25lfSNoZWFkX3dyYXBwZXJ7cGFkZGluZy1ib3R0b206MH0jc19mb3JtX3dyYXBwZXJ7bWFyZ2luLXRvcDphdXRvfSNzX2xnX2ltZywjc19sZ19pbWdfbmV3e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9I2Zvcm0gLnNfaXB0X3dye2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6M3B4O3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzO2JhY2tncm91bmQtcG9zaXRpb246MTAwJSFpbXBvcnRhbnQ7d2lkdGg6Y2FsYygxMDAlIC0gMTEwcHgpO2hlaWdodDozOXB4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0saGVsdmV0aWNhIG5ldWUsSGVsdmV0aWNhLG5pbWJ1cyBzYW5zIGwsQXJpYWwsbGliZXJhdGlvbiBzYW5zLHBpbmdmYW5nIHNjLGhpcmFnaW5vIHNhbnMgZ2Isc291cmNlIGhhbiBzYW5zIGNuLHNvdXJjZSBoYW4gc2FucyBzYyxtaWNyb3NvZnQgeWFoZWksd2VucXVhbnlpIG1pY3JvIGhlaSx3ZW5xdWFueWkgemVuIGhlaSxzdCBoZWl0aSxTaW1IZWksd2VucXVhbnlpIHplbiBoZWkgc2hhcnAsc2Fucy1zZXJpZjtwYWRkaW5nLXRvcDo0cHh9LnNfaXB0e2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0saGVsdmV0aWNhIG5ldWUsSGVsdmV0aWNhLG5pbWJ1cyBzYW5zIGwsQXJpYWwsbGliZXJhdGlvbiBzYW5zLHBpbmdmYW5nIHNjLGhpcmFnaW5vIHNhbnMgZ2Isc291cmNlIGhhbiBzYW5zIGNuLHNvdXJjZSBoYW4gc2FucyBzYyxtaWNyb3NvZnQgeWFoZWksd2VucXVhbnlpIG1pY3JvIGhlaSx3ZW5xdWFueWkgemVuIGhlaSxzdCBoZWl0aSxTaW1IZWksd2VucXVhbnlpIHplbiBoZWkgc2hhcnAsc2Fucy1zZXJpZn0jZm9ybSAuc19pcHRfd3I6aG92ZXJ7Ym9yZGVyOm5vbmU7Ym9yZGVyLXJhZGl1czoycHg7dHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1vLXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9LmlwdGhvdmVye3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5pcHRmb2N1c3tib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpfSNmb3JtIC5zX2J0bnt3aWR0aDozMnB4O2hlaWdodDozMnB4O2JvcmRlci1yYWRpdXM6NTAlO2ZvbnQtc2l6ZTowO2JvcmRlcjpub25lO2JveC1zaGFkb3c6bm9uZTttYXJnaW4tbGVmdDowO3otaW5kZXg6MTAwO3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzO21hcmdpbi10b3A6MDtvcGFjaXR5OjB9I2Zvcm0gLnNfYnRuOmhvdmVye29wYWNpdHk6LjU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6bm9uZTtib3gtc2hhZG93Om5vbmU7dHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1vLXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9I2Zvcm0gLnNfYnRuX3dye3dpZHRoOjMycHg7aGVpZ2h0OjMycHg7Ym9yZGVyLXJhZGl1czo1MCU7Zm9udC1zaXplOjA7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtib3JkZXI6bm9uZTtib3gtc2hhZG93Om5vbmU7bWFyZ2luLWxlZnQ6NXB4O3otaW5kZXg6MTAwO3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzO21hcmdpbi10b3A6NnB4fSNmb3JtIC5zX2J0bl93cjpob3ZlcntvcGFjaXR5Oi41O2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7Ym9yZGVyOm5vbmU7Ym94LXNoYWRvdzpub25lO3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5zZWxmLWJ0bntkaXNwbGF5Om5vbmV9I3dyYXBwZXIgZm9ybS5mbSAja3d7d2lkdGg6OTQlfS5idG5ob3ZlcntvcGFjaXR5Oi41O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50O2JvcmRlcjpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmU7dHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1vLXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9LmhpbnRfdG9wcnFfdGlwc3ttYXJnaW4tYm90dG9tOjEycHh9LnNfZm9ybXtoZWlnaHQ6NzVweDtwYWRkaW5nLXRvcDoxMHB4fSNzX3RhYntwYWRkaW5nOjg3cHggMCAwIDEyMXB4fSNoZWFkLnNfZG93bntib3gtc2hhZG93OjAgMCA1cHggIzY2NjtwYWRkaW5nLWJvdHRvbTo4cHh9LmJkc3Vne3RvcDo0MnB4IWltcG9ydGFudDtib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpO2JvcmRlcjpub25lO2JvcmRlci1yYWRpdXM6MCAwIDJweCAycHg7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxoZWx2ZXRpY2EgbmV1ZSxIZWx2ZXRpY2EsbmltYnVzIHNhbnMgbCxBcmlhbCxsaWJlcmF0aW9uIHNhbnMscGluZ2Zhbmcgc2MsaGlyYWdpbm8gc2FucyBnYixzb3VyY2UgaGFuIHNhbnMgY24sc291cmNlIGhhbiBzYW5zIHNjLG1pY3Jvc29mdCB5YWhlaSx3ZW5xdWFueWkgbWljcm8gaGVpLHdlbnF1YW55aSB6ZW4gaGVpLHN0IGhlaXRpLFNpbUhlaSx3ZW5xdWFueWkgemVuIGhlaSBzaGFycCxzYW5zLXNlcmlmO3dpZHRoOjU5OHB4IWltcG9ydGFudH0uYmdzdWcgbGl7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLG1pY3Jvc29mdCB5YWhlaSB1aSFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MzZweCFpbXBvcnRhbnR9LmJnc3VnIHVsIGxpe2xpbmUtaGVpZ2h0OjMycHghaW1wb3J0YW50fS5iZHN1Zy1vdmVyZmxvd3tmb250LWZhbWlseTpIZWx2ZXRpY2EsbWljcm9zb2Z0IHlhaGVpIHVpIWltcG9ydGFudDt3aWR0aDo1ODNweCFpbXBvcnRhbnR9I3F1aWNrZGVsZXRle3RvcDo1cHghaW1wb3J0YW50O29wYWNpdHk6LjV9I2t3X3RpcHtmb250LWZhbWlseTpIZWx2ZXRpY2EsbWljcm9zb2Z0IHlhaGVpIHVpIGxpZ2h0fSNyZXN1bHRfbG9nb3tiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlERTVMakl1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJdVdidnVXeGdsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTVRBeElETXpJaUJ6ZEhsc1pUMGlaVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzSURBZ01DQXhNREVnTXpNN0lpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajRLUEhOMGVXeGxJSFI1Y0dVOUluUmxlSFF2WTNOeklqNEtDUzV6ZERCN1ptbHNiRG9qTkRnM09VSkVPMzBLQ1M1emRERjdabWxzYkRvalJFUTBORE0yTzMwS0NTNXpkREo3Wm1sc2JEb2pSa1pHUmtaR08zMEtQQzl6ZEhsc1pUNEtQSEJoZEdnZ1kyeGhjM005SW5OME1DSWdaRDBpVFRVd0xqUXNNVFV1TTJNdE15NDRMREF1TXkwMExESXVOaTAxTGpjc05DNDNZeTB4TGpnc01pNHlMVFV1TlN3MExqRXROaXcyTGpkakxUQXVOaXd6TGpNc01TNHpMRFV1TVN3ekxEVXVOMk14TGprc01DNDJMRFl1TWkwd0xqVXNPQzQwTFRBdU5XZ3dMaklLQ1dnd0xqSmpNaTR5TERBc05pNDBMREV1TVN3NExqUXNNQzQxWXpFdU9DMHdMallzTXk0MUxUTXVNaXd6TFRVdU4yTXRNQzQwTFRJdU1TMDBMalF0TkM0MUxUWXVNaTAyTGpkRE5UUXVNaXd4T0N3MU5DNHpMREUxTGpZc05UQXVOQ3d4TlM0emVpQk5NemNzTVRRdU9Bb0pZekFzTWk0MExERXVOaXcwTGpNc015NDBMRFF1TTJNeExqa3NNQ3d6TGpRdE1TNDVMRE11TkMwMExqTmpNQzB5TGpRdE1TNDJMVFF1TXkwekxqUXROQzR6VXpNM0xERXlMalVzTXpjc01UUXVPSG9nVFRRekxqa3NPQzQyWXpBc01pNDFMREV1TlN3MExqVXNNeTR6TERRdU5Rb0pZekV1T0N3d0xETXVNeTB5TGpFc015NHpMVFF1TlZNME9TdzBMakVzTkRjdU1TdzBMakZETkRVdU15dzBMRFF6TGprc05pdzBNeTQ1TERndU5ub2dUVFV5TGpJc09DNDFZekFzTWk0ekxERXVOQ3cwTGpNc015NHlMRFF1TTNNekxqSXRNUzQ1TERNdU1pMDBMak56TFRFdU5DMDBMak10TXk0eUxUUXVNd29KVXpVeUxqSXNOaTR5TERVeUxqSXNPQzQxZWlCTk5UY3VOU3d4TlM0NVl6QXNNaTR6TERFdU5TdzBMak1zTXk0ekxEUXVNMk14TGpnc01Dd3pMak10TVM0NUxETXVNeTAwTGpOekxURXVOUzAwTGpNdE15NHpMVFF1TTBNMU9DNDVMREV4TGpZc05UY3VOU3d4TXk0MkxEVTNMalVzTVRVdU9Yb2lMejRLUEhCaGRHZ2dZMnhoYzNNOUluTjBNU0lnWkQwaVRUUXNNekF1TkhZdE5TNHhhRFl1TkdNeExqWXNNQ3d4TGpZc01DNHpMREV1Tml3eWRqRXVOR013TERFdU5pMHlMak1zTVM0NExUTXVPU3d4TGpoTU5Dd3pNQzQwVERRc016QXVOSG9nVFRRc01qTjJMVFF1T0dnMExqRUtDV014TGpZc01Dd3pMamtzTUN3ekxqa3NNaTR4ZGpBdU1XTXdMREV1TkMwd0xqVXNNaTQyTFRFdU9Dd3lMalpETVRBdU15d3lNeXcwTERJekxEUXNNak42SUUweExqY3NNVFoyTVRZdU0yZzJMalJqTXl3d0xEWXVNaXd3TERZdU1pMHpMaloyTFRFdU1XTXdMVEV1Tmkwd0xqRXRNaTQzTFRFdU1TMHpMalVLQ1dNeExUQXVPQ3d4TGpFdE1pNHpMREV1TVMwekxqWnNNQ3d3WXpBdE5DNDFMVE11TWkwMExqVXROaTR5TFRRdU5Vd3hMamNzTVRaTU1TNDNMREUyZWlJdlBnbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOTWpVc01qZ3VPV010TVM0eExERXVNUzB6TGpNc01TNHpMVE11TlN3eExqTmpMVEV1TXl3d0xUSXVOeTB3TGpVdE1pNDNMVEl1TVdNd0xURXVOQ3d3TGpVdE1pNHpMREl1TVMweUxqTmpNUzR6TERBc01pNDRMREF1TVN3MExqRXNNQzQyVmpJNExqbDZDZ2tnVFRJeExqUXNNekl1TTJNd0xqUXNNQ3d5TGpNdE1DNHhMRE11Tnkwd0xqbHNNQzR5TERBdU4yZ3lMakYyTFRndU9XTXdMVE11TmkweUxqTXROUzAxTGpjdE5XTXRNUzQ0TERBdE5DNHpMREF1TnkwMExqY3NNQzQ1YkRBdU5Dd3lMak5qTVM0MkxUQXVOaXd6TFRBdU5pdzBMakl0TUM0MkNnbGpNUzQ0TERBc015NHpMREF1Tml3ekxqTXNNaTQyVmpJMFl5MHhMVEF1TkMweUxqUXRNQzQyTFRRdU1TMHdMalpqTFRNc01DMDBMalVzTVM0MkxUUXVOU3cwTGpkRE1UWXVOQ3d6TVM0NExERTVMallzTXpJdU15d3lNUzQwTERNeUxqTjZJaTgrQ2p4d1lYUm9JR05zWVhOelBTSnpkREVpSUdROUlrMHpNQzR5TERFMkxqRmpNQ3d3TGpZc01DNDJMREV1TWl3eExqTXNNUzR5WXpBdU9Dd3dMREV1TXkwd0xqWXNNUzR6TFRFdU1tTXdMVEF1Tnkwd0xqWXRNUzR6TFRFdU15MHhMak5ETXpBdU9Dd3hOQzQ0TERNd0xqSXNNVFV1TXl3ek1DNHlMREUyTGpGNkNna2dUVE13TGpNc016SXVNV2d5TGpSV01UZ3VOV2d0TWk0MFZqTXlMakY2SWk4K0NqeHdZWFJvSUdOc1lYTnpQU0p6ZERFaUlHUTlJazAzTVM0eUxESXlMakZvT0M0MFl6QXVOQ3d3TGpFc01DNDJMREF1TXl3d0xqWXNNQzQzZGpJdU5tZ3RPUzQzZGkweUxqWkROekF1Tml3eU1pNDBMRGN3TGpnc01qSXVNaXczTVM0eUxESXlMakY2SUUwM01TNHlMRE13TGpVS0NXTXRNQzQwTERBdE1DNDJMVEF1TXkwd0xqY3RNQzQ0ZGkweUxqWm9PUzQzZGpJdU5tTXdMREF1TkMwd0xqSXNNQzQzTFRBdU5pd3dMamRJTnpFdU1ub2dUVGN6TGpZc01UaGpMVEF1TVN3d0xqUXRNQzR4TERBdU9TMHdMalFzTVM0M1l5MHdMakVzTUM0ekxUQXVNU3d3TGpVdE1DNHhMREF1TndvSmFDMHlMalpqTFRFdU15d3dMakV0TVM0NUxEQXVPQzB5TERKMk55NDVZekF1TVN3eExqRXNNQzQ0TERFdU9Dd3lMREV1T1dneE1HTXhMakl0TUM0eExERXVPQzB3TGpjc01TNDVMVEV1T0hZdE55NDVZeTB3TGpFdE1TNHpMVEF1TnkweExqa3RNUzQ1TFRJdU1XZ3ROUW9KWXpBdU1TMHdMak1zTUM0eExUQXVPQ3d3TGpNdE1TNDBZekF1TVMwd0xqUXNNQzR4TFRBdU55d3dMakV0TUM0NWFEY3VNbll0TVM0NFNEWTNMalJXTVRoTU56TXVOaXd4T0V3M015NDJMREU0ZWlJdlBnbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOT1RNdU55d3lNaTQzWXkwd0xqUXRNQzR4TFRBdU5TMHdMakl0TUM0MUxUQXVOWFl0TUM0MmFETXVNbll3TGpaakxUQXVNU3d3TGpNdE1DNHlMREF1TkMwd0xqVXNNQzQxU0RrekxqZDZJRTA1Tmk0MkxESTBMakVLQ1dNeExqRXRNQzR4TERFdU5pMHdMalVzTVM0MkxURXVOSFl0TVdneUxqTjJMVEV1TldndE1pNHpkaTB4TGpGb0xURXVPSFl4TGpGb0xUTXVNbll0TVM0eGFDMHhMamgyTVM0eGFDMHlMak4yTVM0MWFESXVNM1l4WXpBdU1Td3dMamtzTUM0MkxERXVOQ3d4TGpZc01TNDBTRGsyTGpaNkNna2dUVGswTGpnc016QXVOR014TGpZc01DNDRMRE11TkN3eExqTXNOUzQwTERFdU9Hd3dMamt0TVM0M1l5MHhMalF0TUM0eUxUSXVPUzB3TGpZdE5DNDBMVEV1TVdNeExqRXRNQzQ0TERJdE1TNDJMREl1TnkweUxqVmpNQzR6TFRBdU5Dd3dMalF0TUM0NUxEQXVNaTB4TGpNS0NXTXRNQzR6TFRBdU5pMHdMamd0TUM0NUxURXVOQzB3TGpsb0xUbDJNUzQxYURjdU4yTXdMaklzTUN3d0xqUXNNQzR4TERBdU5Dd3dMakZ6TUN3d0xqRXRNQzR4TERBdU0yTXRNQzQyTERBdU5pMHhMalFzTVM0ekxUSXVNeXd4TGpoakxURXVNaTB3TGpjdE1pNHhMVEV1TXkweUxqUXRNUzQ0YUMweUxqSUtDV013TGprc01Td3hMamdzTVM0NUxESXVPU3d5TGpkakxURXVOaXd3TGpZdE15NHpMREV1TVMwMExqa3NNUzR6YkRBdU9Td3hMalpET1RFdU15d3pNUzQ0TERrekxqSXNNekV1TVN3NU5DNDRMRE13TGpSNklFMDRPQzR6TERJMUxqSjJMVFpqTUM0eExUQXVOaXd3TGpNdE1DNDVMREF1T0Mwd0xqa0tDV2d4TVM0NGRpMHhMalpJT1RWakxUQXVNUzB3TGpFdE1pNHlMVEF1TVMweUxqSXNNR2d0TkM0M1l5MHhMakVzTUM0eExURXVOeXd3TGprdE1TNDRMREl1TWxZeU5XTXdMakVzTWk0eExUQXVOQ3cwTGpRdE1TNHhMRFl1TjJ3eExqa3NNQzQyQ2dsRE9EY3VPU3d5T1M0NUxEZzRMak1zTWpjdU5pdzRPQzR6TERJMUxqSjZJaTgrQ2p4d1lYUm9JR05zWVhOelBTSnpkRElpSUdROUlrMDBOaTR6TERJMExqSmpNQzQyTERBc01TNHlMREF1TVN3eExqY3NNQzQwZGpNdU5HTXdMREF1TXkwd0xqWXNNUzB4TGprc01XTXRNUzQxTERBdE1TNDRMVEF1TmkweExqZ3RNaTR4ZGkwd0xqWUtDVU0wTkM0eUxESTBMamdzTkRRdU55d3lOQzR5TERRMkxqTXNNalF1TW5vZ1RUUTVMaklzTWpBdU4wZzBPSFl5TGpWRE5EY3VOaXd5TXk0eExEUTNMREl6TERRMkxqTXNNak5qTFRJdU55d3dMVE11TXl3eExUTXVNeXd6TGpWMk1DNHpZekFzTWk0MExEQXVPU3d6TGpNc015NHlMRE11TXdvSll6QXVPQ3d3TERFdU15MHdMakVzTVM0NExUQXVOV3d3TGpFc01DNDJhREV1TVV3ME9TNHlMREl3TGpkTU5Ea3VNaXd5TUM0M2VpSXZQZ284Y0dGMGFDQmpiR0Z6Y3owaWMzUXlJaUJrUFNKTk5UWXVOeXd5TTJndE1TNHlkalV1TW1NdE1DNDJMREF1TkMweExqY3NNQzQyTFRJdU5Dd3dMalpqTFRBdU9Dd3dMVEV0TUM0MExURXRNUzR6ZGkwMExqWm9MVEV1TVhZMExqaGpNQ3d4TGpZc01DNDFMREl1TXl3eUxqRXNNaTR6Q2dsak1Td3dMREl1TVMwd0xqTXNNaTQyTFRBdU5td3dMakVzTUM0MmFERXVNVll5TTNvaUx6NEtQSEJoZEdnZ1kyeGhjM005SW5OME1TSWdaRDBpVFRreUxqY3NNVFV1TjJNd0xUQXVOeXd3TGpZdE1TNHpMREV1TWkweExqTmpNQzQyTERBc01TNHlMREF1Tml3eExqSXNNUzR6VXprMExqVXNNVGNzT1RNdU9Td3hOME01TXk0ekxERTJMamtzT1RJdU55d3hOaTR6TERreUxqY3NNVFV1TjNvaUx6NEtQQzl6ZG1jK0NnPT0pO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjt3aWR0aDoxMDFweDtoZWlnaHQ6MzNweDttYXJnaW4tdG9wOjlweH0jcmVzdWx0X2xvZ28gaW1ne2Rpc3BsYXk6bm9uZTt2aXNpYmlsaXR5OmhpZGRlbn0jcmVzdWx0X2xvZ28gYSBpbWd7ZGlzcGxheTpub25lO3Zpc2liaWxpdHk6aGlkZGVufS5jLWNvbnRhaW5lcntsaW5lLWhlaWdodDoxLjY1fSNyc3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50IWltcG9ydGFudH0uYy1ib3JkZXJ7LXdlYmtpdC1ib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpO2JveC1zaGFkb3c6MCAycHggNXB4IDAgcmdiYSgwLDAsMCwuMTYpLDAgMnB4IDEwcHggMCByZ2JhKDAsMCwwLC4xMik7Ym9yZGVyLXJhZGl1czoycHg7Ym9yZGVyOm5vbmU7cGFkZGluZzoyMHB4O3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5jLWJvcmRlcjpob3Zlcntib3gtc2hhZG93OjAgM3B4IDEwcHggcmdiYSgwLDAsMCwuMTYpLDAgM3B4IDEwcHggcmdiYSgwLDAsMCwuMjMpO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uYy10YWJzLW5hdntib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjJweCAycHggMCAwO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uYy10YWJzLW5hdi1tb3ZldG9we21hcmdpbi1sZWZ0Oi0yMHB4O21hcmdpbi1yaWdodDotMjBweDttYXJnaW4tdG9wOi0yMHB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uYy10YWJzLW5hdi1zZWxlY3RlZHtib3JkZXItdG9wOm5vbmUhaW1wb3J0YW50O2JvcmRlci1sZWZ0Om5vbmUhaW1wb3J0YW50O2JvcmRlci1yaWdodDpub25lIWltcG9ydGFudDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9LmMtdGFicy1uYXYtc2Vwe2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9I3BhZ2UgYXtoZWlnaHQ6MzRweDtib3JkZXItcmFkaXVzOjJweDtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9I3BhZ2UgYTpob3Zlcnt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9I3BhZ2UgYSAucGM6aG92ZXJ7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1vLXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfSNwYWdlIHN0cm9uZ3toZWlnaHQ6MzRweDtib3JkZXItcmFkaXVzOjJweDtwb3NpdGlvbjpyZWxhdGl2ZTt0b3A6LTJweDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstbW96LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9I3BhZ2Ugc3Ryb25nIC5wY3tsaW5lLWhlaWdodDozNHB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uZmt7ZGlzcGxheTpub25lIWltcG9ydGFudH0ucGN7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2hlaWdodDozNXB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LXdlYmtpdC10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30ucGM6aG92ZXJ7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1vLXRyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfSNzX3RhYiBhe3dpZHRoOjU5cHg7bGluZS1oZWlnaHQ6NDRweH0jc190YWIgYnt3aWR0aDo1OXB4O2xpbmUtaGVpZ2h0OjQ0cHh9I3NfdGFie3BhZGRpbmctYm90dG9tOjhweDtwYWRkaW5nLXRvcDo4OXB4fS5jLWljb24tdGllYmF7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyfS50b2luZGV4e2Rpc3BsYXk6bm9uZX0jdSAucGZ7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2ZvbnQtc2l6ZTowO3BhZGRpbmc6MTRweDtvcGFjaXR5Oi44Oy1tb3otdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstby10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTtwYWRkaW5nLXRvcDoxOHB4O3BhZGRpbmctYm90dG9tOjEwcHh9I3UgLnBmOmhvdmVye29wYWNpdHk6MTstbW96LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LW8tdHJhbnNpdGlvbjphbGwgLjNzIGVhc2V9LnBmIC5jLWljb257ZGlzcGxheTpub25lIWltcG9ydGFudH0uYy1pY29uLXRyaWFuZ2xlLWRvd257ZGlzcGxheTpub25lfS5iZHBmbWVudXtib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpO2JvcmRlci1yYWRpdXM6MnB4IWltcG9ydGFudDtib3JkZXI6bm9uZTt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczttYXJnaW4tbGVmdDotMTBweDttYXJnaW4tdG9wOjMwcHg7ei1pbmRleDo4ODg4IWltcG9ydGFudH0uYmRwZm1lbnUgYTpob3Zlcnt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uYmRudWFycm93e2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnNldHByZWZ7Ym9yZGVyLXJhZGl1czoycHggMnB4IDAgMDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30uc2V0cHJlZjpob3Zlcnt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30jdSAubGJ7cGFkZGluZzoyM3B4O2JvcmRlci1yYWRpdXM6NTBweDtmb250LXNpemU6MDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo1MHB4O3RvcDozODAwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xNTY4NjMpIDAgM3B4IDEwcHgscmdiYSgwLDAsMCwuMjI3NDUxKSAwIDNweCAxMHB4O3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfSN1IC5sYjpob3Zlcnt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30jdSAubGI6YWN0aXZle2JveC1zaGFkb3c6MCAxMHB4IDMwcHggcmdiYSgwLDAsMCwuMTkpLDAgNnB4IDEwcHggcmdiYSgwLDAsMCwuMjMpO3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS50YW5nLWZvcmVncm91bmR7Ym9yZGVyLXJhZGl1czoycHg7Ym94LXNoYWRvdzowIDE5cHggNjBweCByZ2JhKDAsMCwwLC4zKSwwIDE1cHggMjBweCByZ2JhKDAsMCwwLC4yMil9I3NfdXBmdW5jX21lbnVze2Rpc3BsYXk6bm9uZX0jYmd7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDtib3JkZXI6bm9uZTtib3JkZXItcmFkaXVzOjNweDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwcztiYWNrZ3JvdW5kLXBvc2l0aW9uOjEwMCUhaW1wb3J0YW50O3otaW5kZXg6LTE7d2lkdGg6NjAwcHg7aGVpZ2h0OjM5cHg7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxoZWx2ZXRpY2EgbmV1ZSxIZWx2ZXRpY2EsbmltYnVzIHNhbnMgbCxBcmlhbCxsaWJlcmF0aW9uIHNhbnMscGluZ2Zhbmcgc2MsaGlyYWdpbm8gc2FucyBnYixzb3VyY2UgaGFuIHNhbnMgY24sc291cmNlIGhhbiBzYW5zIHNjLG1pY3Jvc29mdCB5YWhlaSx3ZW5xdWFueWkgbWljcm8gaGVpLHdlbnF1YW55aSB6ZW4gaGVpLHN0IGhlaXRpLFNpbUhlaSx3ZW5xdWFueWkgemVuIGhlaSBzaGFycCxzYW5zLXNlcmlmO3BhZGRpbmctdG9wOjVweCFpbXBvcnRhbnR9I2hlYWRfd3JhcHBlciAuc19pcHR7Ym9yZGVyOjAhaW1wb3J0YW50O2hlaWdodDoyMHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjJweDt3aWR0aDo1ODZweCFpbXBvcnRhbnR9I2hlYWRfd3JhcHBlciAubm9iZ19zX2ZtX2hvdmVye2JvcmRlcjowIWltcG9ydGFudH0jaGVhZF93cmFwcGVyIC5ub2JnX3NfZm1fZm9jdXN7Ym9yZGVyOjAhaW1wb3J0YW50O2JvcmRlci10b3A6MCBzb2xpZCAjZmZmIWltcG9ydGFudDtib3JkZXItYm90dG9tOjAgc29saWQgI2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6MCBzb2xpZCAjZmZmIWltcG9ydGFudDtib3JkZXItcmlnaHQ6MXB4IHNvbGlkICMzOGZ9LnMtdGl0bGUtaW1hZ2V7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JvcmRlci10b3A6MCBzb2xpZCAjZmZmIWltcG9ydGFudDtib3JkZXItYm90dG9tOjAgc29saWQgI2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6MCBzb2xpZCAjZmZmIWltcG9ydGFudDtib3JkZXItcmlnaHQ6MCBzb2xpZCAjZmZmIWltcG9ydGFudH0jc19sZ19pbWd7ZGlzcGxheTpub25lfSNmb3Jtey13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOi4yczthbmltYXRpb24tZHVyYXRpb246LjJzOy13ZWJraXQtYW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1maWxsLW1vZGU6Ym90aDthbmltYXRpb24tbmFtZTpmYWRlSW5VcDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVJblVwO2FuaW1hdGlvbi1kZWxheTouM3M7LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LjNzfWJvZHk6bm90KFtuZXdzXSkgI2Zvcm0uZm17bWluLXdpZHRoOjUwJX0ucy1wLXRvcHt0cmFuc2Zvcm06c2NhbGUoLjgpO2JvdHRvbTo5cHghaW1wb3J0YW50fS5tbmF2e2Rpc3BsYXk6bm9uZX0jdV9zcCAubW5hdntkaXNwbGF5Om5vbmV9I3UxIGEubGJ7cGFkZGluZzoyM3B4O2JvcmRlci1yYWRpdXM6NTAlO2ZvbnQtc2l6ZTowO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjQ0cHg7dG9wOjEwNDAlO2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0S1BDRXRMU0JIWlc1bGNtRjBiM0k2SUVGa2IySmxJRWxzYkhWemRISmhkRzl5SURFNUxqSXVNU3dnVTFaSElFVjRjRzl5ZENCUWJIVm5MVWx1SUM0Z1UxWkhJRlpsY25OcGIyNDZJRFl1TURBZ1FuVnBiR1FnTUNrZ0lDMHRQZ284YzNabklIWmxjbk5wYjI0OUlqRXVNU0lnYVdROUl1V2J2dVd4Z2w4eElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIaHRiRzV6T25oc2FXNXJQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUwzaHNhVzVySWlCNFBTSXdjSGdpSUhrOUlqQndlQ0lLQ1NCMmFXVjNRbTk0UFNJd0lEQWdORFlnTkRZaUlITjBlV3hsUFNKbGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYY2dNQ0F3SURRMklEUTJPeUlnZUcxc09uTndZV05sUFNKd2NtVnpaWEoyWlNJK0NqeHpkSGxzWlNCMGVYQmxQU0owWlhoMEwyTnpjeUkrQ2drdWMzUXdlMlpwYkd3NkkwWkdSa1pHUmp0OUNqd3ZjM1I1YkdVK0NqeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlHUTlJazB5TXl3eU0yTXlMamtzTUN3MUxqSXRNaTR6TERVdU1pMDFMakp6TFRJdU15MDFMakl0TlM0eUxUVXVNbk10TlM0eUxESXVNeTAxTGpJc05TNHlVekl3TGpFc01qTXNNak1zTWpONklFMHlNeXd5TlM0MkNnbGpMVE11TlN3d0xURXdMalFzTVM0M0xURXdMalFzTlM0eWRqSXVObWd5TUM0M2RpMHlMalpETXpNdU5Dd3lOeTR6TERJMkxqVXNNalV1Tml3eU15d3lOUzQyZWlJdlBnbzhMM04yWno0Syk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JveC1zaGFkb3c6cmdiYSgwLDAsMCwuMTU2ODYzKSAwIDNweCAxMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCAzcHggMTBweDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwcztsaW5lLWhlaWdodDowO3otaW5kZXg6MTAwfSN1MSBhLmxiOmhvdmVye3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW1vei10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstby10cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfSN1MSBhLmxiOmFjdGl2ZXtib3gtc2hhZG93OjAgMTBweCAzMHB4IHJnYmEoMCwwLDAsLjE5KSwwIDZweCAxMHB4IHJnYmEoMCwwLDAsLjIzKTt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30jdTEgYS5wZntiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7Zm9udC1zaXplOjA7cGFkZGluZzoxNHB4O29wYWNpdHk6Ljg7LW1vei10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC4zcyBlYXNlO3otaW5kZXg6MH0jdTEgYS5icml7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7Zm9udC1zaXplOjA7cGFkZGluZzoycHg7b3BhY2l0eTouODstbW96LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LW8tdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7Ym9yZGVyOm5vbmU7bWFyZ2luLXRvcDoxMnB4fSN3cmFwcGVyIC5iZGJyaWltZ3RpdGxle3BhZGRpbmctdG9wOjIzcHh9I3dyYXBwZXIgLmJkYnJpLmJkYnJpaW1nIC5iZG1haW5saW5rIGF7Ym9yZGVyOm5vbmV9I3dyYXBwZXIgLmJkYnJpe3otaW5kZXg6Mn0jd3JhcHBlciAjdV9zcCAuc19icml7cGFkZGluZzo1cHg7Ym9yZGVyLXJhZGl1czo1MCU7Zm9udC1zaXplOjA7d2lkdGg6MzJweDtoZWlnaHQ6MzJweDtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NE5DandoTFMwZ1IyVnVaWEpoZEc5eU9pQkJaRzlpWlNCSmJHeDFjM1J5WVhSdmNpQXhPUzR5TGpFc0lGTldSeUJGZUhCdmNuUWdVR3gxWnkxSmJpQXVJRk5XUnlCV1pYSnphVzl1T2lBMkxqQXdJRUoxYVd4a0lEQXBJQ0F0TFQ0TkNqeHpkbWNnZG1WeWMybHZiajBpTVM0eElpQnBaRDBpNVp1KzViR0NYekVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lJSGc5SWpCd2VDSWdlVDBpTUhCNElnMEtDU0IyYVdWM1FtOTRQU0l3SURBZ016SWdNeklpSUhOMGVXeGxQU0psYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjZ01DQXdJRE15SURNeU95SWdlRzFzT25Od1lXTmxQU0p3Y21WelpYSjJaU0krRFFvOGMzUjViR1VnZEhsd1pUMGlkR1Y0ZEM5amMzTWlQZzBLQ1M1emREQjdabWxzYkRvalJrWkdSa1pHTzMwTkNqd3ZjM1I1YkdVK0RRbzhjR0YwYUNCamJHRnpjejBpYzNRd0lpQmtQU0pOTVRBc01UTm9NM1l0TTJndE0xWXhNM29nVFRFMExqVXNNakpvTTNZdE0yZ3RNME14TkM0MUxERTVMREUwTGpVc01qSXNNVFF1TlN3eU1ub2dUVEV3TERJeWFETjJMVE5vTFROV01qSjZJRTB4TUN3eE55NDFhRE4yTFROb0xUTldNVGN1TlhvTkNna2dUVEUwTGpVc01UY3VOV2d6ZGkwemFDMHpRekUwTGpVc01UUXVOU3d4TkM0MUxERTNMalVzTVRRdU5Td3hOeTQxZWlCTk1Ua3NNVEIyTTJnemRpMHpTREU1ZWlCTk1UUXVOU3d4TTJnemRpMHphQzB6UXpFMExqVXNNVEFzTVRRdU5Td3hNeXd4TkM0MUxERXplaUJOTVRrc01UY3VOV2d6ZGkwemFDMHpEUW9KVmpFM0xqVjZJRTB4T1N3eU1tZ3pkaTB6YUMwelZqSXllaUl2UGcwS1BDOXpkbWMrRFFvPSk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2JveC1zaGFkb3c6cmdiYSgwLDAsMCwuMTU2ODYzKSAwIDNweCAxMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCAzcHggMTBweDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzOy1tb3otdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwczstd2Via2l0LXRyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7LW8tdHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwcztsaW5lLWhlaWdodDowO3otaW5kZXg6MTAwO21hcmdpbi1yaWdodDoyMnB4O21hcmdpbi10b3A6MXB4fSN1X3NwIC5zX2JkYnJpaW1ndGl0bGV7cGFkZGluZy10b3A6NzNweH0jc191c2Vyc2V0dGluZ190b3B7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyO2ZvbnQtc2l6ZTowO3BhZGRpbmc6MTRweDtvcGFjaXR5Oi44Oy1tb3otdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstby10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTttYXJnaW4tdG9wOjEycHg7bWFyZ2luLXJpZ2h0OjRweDt6LWluZGV4Oi0xMDB9I3NfdG9wX3dyYXB7ei1pbmRleDotMTA7Ym9yZGVyLWJvdHRvbTp1bnNldH0jdSAudG9pbmRleHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSNzX3VzZXJuYW1lX3RvcHt0ZXh0LWRlY29yYXRpb246bm9uZTttYXJnaW4tdG9wOjI2cHg7bWFyZ2luLWxlZnQ6NXB4O2JvcmRlcjpub25lO3BhZGRpbmctbGVmdDoxMHB4O3BhZGRpbmctcmlnaHQ6MTBweDtib3JkZXItcmFkaXVzOjE2cHg7bWFyZ2luLXJpZ2h0Oi0zcHh9LnVzZXItbmFtZXt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9Lm1lbnUtYXJyb3d7ZGlzcGxheTpub25lIWltcG9ydGFudH0uc191c2VyX25hbWVfbWVudXt0ZXh0LWFsaWduOmNlbnRlciFpbXBvcnRhbnR9LnMtdXNlci1zZXQtbWVudS5tZW51LXRvcHt3aWR0aDoxMDBweH0ucy11c2VyLXNldC1tZW51IGRpdntib3JkZXI6bm9uZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xNTY4NjMpIDAgM3B4IDEwcHgscmdiYSgwLDAsMCwuMjI3NDUxKSAwIDNweCAxMHB4fS5zLXVzZXItc2V0LW1lbnV7cGFkZGluZy10b3A6MDttYXJnaW4tdG9wOjM2cHg7Ym9yZGVyLXJhZGl1czoycHghaW1wb3J0YW50fS5zLXVzZXItc2V0LW1lbnUgYXtwYWRkaW5nLWxlZnQ6MjVweDstbW96LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy13ZWJraXQtdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LW8tdHJhbnNpdGlvbjphbGwgLjNzIGVhc2V9LnMtdXNlci1zZXQtbWVudSBhOmhvdmVyey1tb3otdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstby10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZX0jdXNlcnt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnQ7bWFyZ2luLXRvcDozMHB4O21hcmdpbi1sZWZ0OjVweDtib3JkZXI6bm9uZTtwYWRkaW5nLWxlZnQ6MTBweDtwYWRkaW5nLXJpZ2h0OjEwcHg7Ym9yZGVyLXJhZGl1czoxNnB4O21hcmdpbi1yaWdodDotM3B4O2hlaWdodDoyM3B4O3BhZGRpbmctdG9wOjhweDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjoxczthbmltYXRpb24tZHVyYXRpb246MXM7LXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOmJvdGg7YW5pbWF0aW9uLWZpbGwtbW9kZTpib3RoO2FuaW1hdGlvbi1uYW1lOmJvdW5jZUluUmlnaHQ7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpib3VuY2VJblJpZ2h0fS51c2VybWVudXtib3JkZXI6bm9uZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xNTY4NjMpIDAgM3B4IDEwcHgscmdiYSgwLDAsMCwuMjI3NDUxKSAwIDNweCAxMHB4IWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6cmdiYSgwLDAsMCwuMTU2ODYzKSAwIDNweCAxMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCAzcHggMTBweCFpbXBvcnRhbnQ7d2lkdGg6ODNweDtib3JkZXItcmFkaXVzOjJweCFpbXBvcnRhbnQ7dG9wOjM1cHghaW1wb3J0YW50O21hcmdpbjowIGF1dG99LnVzZXJuYW1lIGF7LW1vei10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC4zcyBlYXNlO2JvcmRlci1yYWRpdXM6MnB4fS51c2VybmFtZSBhOmhvdmVye2JhY2tncm91bmQ6IzQ4NzliZCFpbXBvcnRhbnQ7LW1vei10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC4zcyBlYXNlfS51c2VybmFtZSBhOmFjdGl2ZXtiYWNrZ3JvdW5kOiM0ODc5YmQhaW1wb3J0YW50Oy1tb3otdHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstby10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZX0jdXNlciAuYy1pY29ue2Rpc3BsYXk6bm9uZX0jaW1zZ3tiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjpjZW50ZXI7Zm9udC1zaXplOjA7cGFkZGluZzoxNHB4O29wYWNpdHk6Ljg7LW1vei10cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTstd2Via2l0LXRyYW5zaXRpb246YWxsIC4zcyBlYXNlOy1vLXRyYW5zaXRpb246YWxsIC4zcyBlYXNlO3otaW5kZXg6MDtwYWRkaW5nLXRvcDoyNXB4O3BhZGRpbmctYm90dG9tOjIxcHh9I2ltc2c6aG92ZXJ7b3BhY2l0eToxfS5oZWFkX3dyYXBwZXIgI2Jkcy1tZXNzYWdlLXdyYXBwZXJ7dG9wOjY0cHh9LnMtbW9kLW1zZ3tib3gtc2hhZG93OnJnYmEoMCwwLDAsLjE1Njg2MykgMCAzcHggMTBweCxyZ2JhKDAsMCwwLC4yMjc0NTEpIDAgM3B4IDEwcHghaW1wb3J0YW50Oy13ZWJraXQtYm94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xNTY4NjMpIDAgM3B4IDEwcHgscmdiYSgwLDAsMCwuMjI3NDUxKSAwIDNweCAxMHB4IWltcG9ydGFudDtib3JkZXItcmFkaXVzOjNweH0ubXNnLWJ0bntib3JkZXItcmFkaXVzOjJweDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5tc2ctYnRuOmhvdmVye2JvcmRlci1yYWRpdXM6MnB4O2JveC1zaGFkb3c6MCAxcHggNnB4IHJnYmEoMCwwLDAsLjEyKSwwIDFweCA0cHggcmdiYSgwLDAsMCwuMTIpO3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9Lm1zZy1idG46YWN0aXZle2JvcmRlci1yYWRpdXM6MnB4O2JveC1zaGFkb3c6cmdiYSgwLDAsMCwuMTU2ODYzKSAwIDNweCAxMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCAzcHggMTBweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93OnJnYmEoMCwwLDAsLjE1Njg2MykgMCAzcHggMTBweCxyZ2JhKDAsMCwwLC4yMjc0NTEpIDAgM3B4IDEwcHghaW1wb3J0YW50O3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9Lm5vLXVzZTpob3Zlcntib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS50b3AtbG9nbyBpbWd7ZGlzcGxheTpub25lfS50b3AtbG9nb3tiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlERTVMakl1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJdVdidnVXeGdsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTVRBeElETXpJaUJ6ZEhsc1pUMGlaVzVoWW14bExXSmhZMnRuY205MWJtUTZibVYzSURBZ01DQXhNREVnTXpNN0lpQjRiV3c2YzNCaFkyVTlJbkJ5WlhObGNuWmxJajRLUEhOMGVXeGxJSFI1Y0dVOUluUmxlSFF2WTNOeklqNEtDUzV6ZERCN1ptbHNiRG9qTkRnM09VSkVPMzBLQ1M1emRERjdabWxzYkRvalJFUTBORE0yTzMwS0NTNXpkREo3Wm1sc2JEb2pSa1pHUmtaR08zMEtQQzl6ZEhsc1pUNEtQSEJoZEdnZ1kyeGhjM005SW5OME1DSWdaRDBpVFRVd0xqUXNNVFV1TTJNdE15NDRMREF1TXkwMExESXVOaTAxTGpjc05DNDNZeTB4TGpnc01pNHlMVFV1TlN3MExqRXROaXcyTGpkakxUQXVOaXd6TGpNc01TNHpMRFV1TVN3ekxEVXVOMk14TGprc01DNDJMRFl1TWkwd0xqVXNPQzQwTFRBdU5XZ3dMaklLQ1dnd0xqSmpNaTR5TERBc05pNDBMREV1TVN3NExqUXNNQzQxWXpFdU9DMHdMallzTXk0MUxUTXVNaXd6TFRVdU4yTXRNQzQwTFRJdU1TMDBMalF0TkM0MUxUWXVNaTAyTGpkRE5UUXVNaXd4T0N3MU5DNHpMREUxTGpZc05UQXVOQ3d4TlM0emVpQk5NemNzTVRRdU9Bb0pZekFzTWk0MExERXVOaXcwTGpNc015NDBMRFF1TTJNeExqa3NNQ3d6TGpRdE1TNDVMRE11TkMwMExqTmpNQzB5TGpRdE1TNDJMVFF1TXkwekxqUXROQzR6VXpNM0xERXlMalVzTXpjc01UUXVPSG9nVFRRekxqa3NPQzQyWXpBc01pNDFMREV1TlN3MExqVXNNeTR6TERRdU5Rb0pZekV1T0N3d0xETXVNeTB5TGpFc015NHpMVFF1TlZNME9TdzBMakVzTkRjdU1TdzBMakZETkRVdU15dzBMRFF6TGprc05pdzBNeTQ1TERndU5ub2dUVFV5TGpJc09DNDFZekFzTWk0ekxERXVOQ3cwTGpNc015NHlMRFF1TTNNekxqSXRNUzQ1TERNdU1pMDBMak56TFRFdU5DMDBMak10TXk0eUxUUXVNd29KVXpVeUxqSXNOaTR5TERVeUxqSXNPQzQxZWlCTk5UY3VOU3d4TlM0NVl6QXNNaTR6TERFdU5TdzBMak1zTXk0ekxEUXVNMk14TGpnc01Dd3pMak10TVM0NUxETXVNeTAwTGpOekxURXVOUzAwTGpNdE15NHpMVFF1TTBNMU9DNDVMREV4TGpZc05UY3VOU3d4TXk0MkxEVTNMalVzTVRVdU9Yb2lMejRLUEhCaGRHZ2dZMnhoYzNNOUluTjBNU0lnWkQwaVRUUXNNekF1TkhZdE5TNHhhRFl1TkdNeExqWXNNQ3d4TGpZc01DNHpMREV1Tml3eWRqRXVOR013TERFdU5pMHlMak1zTVM0NExUTXVPU3d4TGpoTU5Dd3pNQzQwVERRc016QXVOSG9nVFRRc01qTjJMVFF1T0dnMExqRUtDV014TGpZc01Dd3pMamtzTUN3ekxqa3NNaTR4ZGpBdU1XTXdMREV1TkMwd0xqVXNNaTQyTFRFdU9Dd3lMalpETVRBdU15d3lNeXcwTERJekxEUXNNak42SUUweExqY3NNVFoyTVRZdU0yZzJMalJqTXl3d0xEWXVNaXd3TERZdU1pMHpMaloyTFRFdU1XTXdMVEV1Tmkwd0xqRXRNaTQzTFRFdU1TMHpMalVLQ1dNeExUQXVPQ3d4TGpFdE1pNHpMREV1TVMwekxqWnNNQ3d3WXpBdE5DNDFMVE11TWkwMExqVXROaTR5TFRRdU5Vd3hMamNzTVRaTU1TNDNMREUyZWlJdlBnbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOTWpVc01qZ3VPV010TVM0eExERXVNUzB6TGpNc01TNHpMVE11TlN3eExqTmpMVEV1TXl3d0xUSXVOeTB3TGpVdE1pNDNMVEl1TVdNd0xURXVOQ3d3TGpVdE1pNHpMREl1TVMweUxqTmpNUzR6TERBc01pNDRMREF1TVN3MExqRXNNQzQyVmpJNExqbDZDZ2tnVFRJeExqUXNNekl1TTJNd0xqUXNNQ3d5TGpNdE1DNHhMRE11Tnkwd0xqbHNNQzR5TERBdU4yZ3lMakYyTFRndU9XTXdMVE11TmkweUxqTXROUzAxTGpjdE5XTXRNUzQ0TERBdE5DNHpMREF1TnkwMExqY3NNQzQ1YkRBdU5Dd3lMak5qTVM0MkxUQXVOaXd6TFRBdU5pdzBMakl0TUM0MkNnbGpNUzQ0TERBc015NHpMREF1Tml3ekxqTXNNaTQyVmpJMFl5MHhMVEF1TkMweUxqUXRNQzQyTFRRdU1TMHdMalpqTFRNc01DMDBMalVzTVM0MkxUUXVOU3cwTGpkRE1UWXVOQ3d6TVM0NExERTVMallzTXpJdU15d3lNUzQwTERNeUxqTjZJaTgrQ2p4d1lYUm9JR05zWVhOelBTSnpkREVpSUdROUlrMHpNQzR5TERFMkxqRmpNQ3d3TGpZc01DNDJMREV1TWl3eExqTXNNUzR5WXpBdU9Dd3dMREV1TXkwd0xqWXNNUzR6TFRFdU1tTXdMVEF1Tnkwd0xqWXRNUzR6TFRFdU15MHhMak5ETXpBdU9Dd3hOQzQ0TERNd0xqSXNNVFV1TXl3ek1DNHlMREUyTGpGNkNna2dUVE13TGpNc016SXVNV2d5TGpSV01UZ3VOV2d0TWk0MFZqTXlMakY2SWk4K0NqeHdZWFJvSUdOc1lYTnpQU0p6ZERFaUlHUTlJazAzTVM0eUxESXlMakZvT0M0MFl6QXVOQ3d3TGpFc01DNDJMREF1TXl3d0xqWXNNQzQzZGpJdU5tZ3RPUzQzZGkweUxqWkROekF1Tml3eU1pNDBMRGN3TGpnc01qSXVNaXczTVM0eUxESXlMakY2SUUwM01TNHlMRE13TGpVS0NXTXRNQzQwTERBdE1DNDJMVEF1TXkwd0xqY3RNQzQ0ZGkweUxqWm9PUzQzZGpJdU5tTXdMREF1TkMwd0xqSXNNQzQzTFRBdU5pd3dMamRJTnpFdU1ub2dUVGN6TGpZc01UaGpMVEF1TVN3d0xqUXRNQzR4TERBdU9TMHdMalFzTVM0M1l5MHdMakVzTUM0ekxUQXVNU3d3TGpVdE1DNHhMREF1TndvSmFDMHlMalpqTFRFdU15d3dMakV0TVM0NUxEQXVPQzB5TERKMk55NDVZekF1TVN3eExqRXNNQzQ0TERFdU9Dd3lMREV1T1dneE1HTXhMakl0TUM0eExERXVPQzB3TGpjc01TNDVMVEV1T0hZdE55NDVZeTB3TGpFdE1TNHpMVEF1TnkweExqa3RNUzQ1TFRJdU1XZ3ROUW9KWXpBdU1TMHdMak1zTUM0eExUQXVPQ3d3TGpNdE1TNDBZekF1TVMwd0xqUXNNQzR4TFRBdU55d3dMakV0TUM0NWFEY3VNbll0TVM0NFNEWTNMalJXTVRoTU56TXVOaXd4T0V3M015NDJMREU0ZWlJdlBnbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOT1RNdU55d3lNaTQzWXkwd0xqUXRNQzR4TFRBdU5TMHdMakl0TUM0MUxUQXVOWFl0TUM0MmFETXVNbll3TGpaakxUQXVNU3d3TGpNdE1DNHlMREF1TkMwd0xqVXNNQzQxU0RrekxqZDZJRTA1Tmk0MkxESTBMakVLQ1dNeExqRXRNQzR4TERFdU5pMHdMalVzTVM0MkxURXVOSFl0TVdneUxqTjJMVEV1TldndE1pNHpkaTB4TGpGb0xURXVPSFl4TGpGb0xUTXVNbll0TVM0eGFDMHhMamgyTVM0eGFDMHlMak4yTVM0MWFESXVNM1l4WXpBdU1Td3dMamtzTUM0MkxERXVOQ3d4TGpZc01TNDBTRGsyTGpaNkNna2dUVGswTGpnc016QXVOR014TGpZc01DNDRMRE11TkN3eExqTXNOUzQwTERFdU9Hd3dMamt0TVM0M1l5MHhMalF0TUM0eUxUSXVPUzB3TGpZdE5DNDBMVEV1TVdNeExqRXRNQzQ0TERJdE1TNDJMREl1TnkweUxqVmpNQzR6TFRBdU5Dd3dMalF0TUM0NUxEQXVNaTB4TGpNS0NXTXRNQzR6TFRBdU5pMHdMamd0TUM0NUxURXVOQzB3TGpsb0xUbDJNUzQxYURjdU4yTXdMaklzTUN3d0xqUXNNQzR4TERBdU5Dd3dMakZ6TUN3d0xqRXRNQzR4TERBdU0yTXRNQzQyTERBdU5pMHhMalFzTVM0ekxUSXVNeXd4TGpoakxURXVNaTB3TGpjdE1pNHhMVEV1TXkweUxqUXRNUzQ0YUMweUxqSUtDV013TGprc01Td3hMamdzTVM0NUxESXVPU3d5TGpkakxURXVOaXd3TGpZdE15NHpMREV1TVMwMExqa3NNUzR6YkRBdU9Td3hMalpET1RFdU15d3pNUzQ0TERrekxqSXNNekV1TVN3NU5DNDRMRE13TGpSNklFMDRPQzR6TERJMUxqSjJMVFpqTUM0eExUQXVOaXd3TGpNdE1DNDVMREF1T0Mwd0xqa0tDV2d4TVM0NGRpMHhMalpJT1RWakxUQXVNUzB3TGpFdE1pNHlMVEF1TVMweUxqSXNNR2d0TkM0M1l5MHhMakVzTUM0eExURXVOeXd3TGprdE1TNDRMREl1TWxZeU5XTXdMakVzTWk0eExUQXVOQ3cwTGpRdE1TNHhMRFl1TjJ3eExqa3NNQzQyQ2dsRE9EY3VPU3d5T1M0NUxEZzRMak1zTWpjdU5pdzRPQzR6TERJMUxqSjZJaTgrQ2p4d1lYUm9JR05zWVhOelBTSnpkRElpSUdROUlrMDBOaTR6TERJMExqSmpNQzQyTERBc01TNHlMREF1TVN3eExqY3NNQzQwZGpNdU5HTXdMREF1TXkwd0xqWXNNUzB4TGprc01XTXRNUzQxTERBdE1TNDRMVEF1TmkweExqZ3RNaTR4ZGkwd0xqWUtDVU0wTkM0eUxESTBMamdzTkRRdU55d3lOQzR5TERRMkxqTXNNalF1TW5vZ1RUUTVMaklzTWpBdU4wZzBPSFl5TGpWRE5EY3VOaXd5TXk0eExEUTNMREl6TERRMkxqTXNNak5qTFRJdU55d3dMVE11TXl3eExUTXVNeXd6TGpWMk1DNHpZekFzTWk0MExEQXVPU3d6TGpNc015NHlMRE11TXdvSll6QXVPQ3d3TERFdU15MHdMakVzTVM0NExUQXVOV3d3TGpFc01DNDJhREV1TVV3ME9TNHlMREl3TGpkTU5Ea3VNaXd5TUM0M2VpSXZQZ284Y0dGMGFDQmpiR0Z6Y3owaWMzUXlJaUJrUFNKTk5UWXVOeXd5TTJndE1TNHlkalV1TW1NdE1DNDJMREF1TkMweExqY3NNQzQyTFRJdU5Dd3dMalpqTFRBdU9Dd3dMVEV0TUM0MExURXRNUzR6ZGkwMExqWm9MVEV1TVhZMExqaGpNQ3d4TGpZc01DNDFMREl1TXl3eUxqRXNNaTR6Q2dsak1Td3dMREl1TVMwd0xqTXNNaTQyTFRBdU5td3dMakVzTUM0MmFERXVNVll5TTNvaUx6NEtQSEJoZEdnZ1kyeGhjM005SW5OME1TSWdaRDBpVFRreUxqY3NNVFV1TjJNd0xUQXVOeXd3TGpZdE1TNHpMREV1TWkweExqTmpNQzQyTERBc01TNHlMREF1Tml3eExqSXNNUzR6VXprMExqVXNNVGNzT1RNdU9Td3hOME01TXk0ekxERTJMamtzT1RJdU55d3hOaTR6TERreUxqY3NNVFV1TjNvaUx6NEtQQzl6ZG1jK0NnPT0pO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtiYWNrZ3JvdW5kLXBvc2l0aW9uOmNlbnRlcjtoZWlnaHQ6MTAwcHg7d2lkdGg6MjAwcHh9I3Vfc3AgLnNfYnJpe2JvcmRlcjowIWltcG9ydGFudH0ucGFzcy10ZXh0LWlucHV0e2JhY2tncm91bmQtaW1hZ2U6bm9uZSFpbXBvcnRhbnR9LnBhc3MtdGV4dC1pbnB1dC1mb2N1c3tiYWNrZ3JvdW5kLWltYWdlOm5vbmUhaW1wb3J0YW50fSNwYXNzcG9ydC1sb2dpbi1wb3B7Zm9udC1mYW1pbHk6LWFwcGxlLXN5c3RlbSxoZWx2ZXRpY2EgbmV1ZSxIZWx2ZXRpY2EsbmltYnVzIHNhbnMgbCxBcmlhbCxsaWJlcmF0aW9uIHNhbnMscGluZ2Zhbmcgc2MsaGlyYWdpbm8gc2FucyBnYixzb3VyY2UgaGFuIHNhbnMgY24sc291cmNlIGhhbiBzYW5zIHNjLG1pY3Jvc29mdCB5YWhlaSx3ZW5xdWFueWkgbWljcm8gaGVpLHdlbnF1YW55aSB6ZW4gaGVpLHN0IGhlaXRpLFNpbUhlaSx3ZW5xdWFueWkgemVuIGhlaSBzaGFycCxzYW5zLXNlcmlmO2JvcmRlci1yYWRpdXM6MnB4fSNUQU5HUkFNX19QU1BfMl9fdGl0bGVUZXh0e2ZvbnQtZmFtaWx5OkhlbHZldGljYSxtaWNyb3NvZnQgeWFoZWkgdWkgbGlnaHR9LnBhc3MtZmd0cHdke2ZvbnQtZmFtaWx5OkhlbHZldGljYSxtaWNyb3NvZnQgeWFoZWkgdWkhaW1wb3J0YW50fS5wYXNzLXNtcy1idG57Zm9udC1mYW1pbHk6SGVsdmV0aWNhLG1pY3Jvc29mdCB5YWhlaSB1aSFpbXBvcnRhbnR9LnBhc3MtcmVnbGlua3tmb250LWZhbWlseTpIZWx2ZXRpY2EsbWljcm9zb2Z0IHlhaGVpIHVpIWltcG9ydGFudH0udGFuZy1mb3JlZ3JvdW5ke2JvcmRlci1yYWRpdXM6MnB4IWltcG9ydGFudDtib3JkZXI6MCFpbXBvcnRhbnR9LnRhbmctdGl0bGV7Ym9yZGVyLXJhZGl1czoycHggMnB4IDAgMCFpbXBvcnRhbnR9LnRhbmctcGFzcy1wb3AtbG9naW4gZGl2LnRhbmctdGl0bGV7Ym9yZGVyLXJhZGl1czoycHggMnB4IDAgMCFpbXBvcnRhbnR9LnBhc3MtY2hlY2tib3gtaW5wdXR7d2lkdGg6MTdweDtoZWlnaHQ6MTdweDtib3JkZXI6I2UwZTBlMCAzcHggc29saWQhaW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpub25lfS50YW5nLXBhc3MtcG9wLWxvZ2luLWNvbG9yLWJsdWUgLnBhc3MtYnV0dG9uOmZvY3Vze2JveC1zaGFkb3c6cmdiYSgwLDAsMCwuMTU2ODYzKSAwIDNweCAxMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCAzcHggMTBweCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3gtc2hhZG93OnJnYmEoMCwwLDAsLjE1Njg2MykgMCAzcHggMTBweCxyZ2JhKDAsMCwwLC4yMjc0NTEpIDAgM3B4IDEwcHghaW1wb3J0YW50fS5ycmVjb20tYnRuLXBhcmVudHtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5zLXAtdG9we2JvdHRvbTotOHB4IWltcG9ydGFudH1pbnB1dFt0eXBlPXRleHRdOmZvY3Vze2JvcmRlcjpub25lIWltcG9ydGFudDtib3JkZXItdG9wOjAgc29saWQgI2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbTowIHNvbGlkICNmZmYhaW1wb3J0YW50O2JvcmRlci1sZWZ0OjAgc29saWQgI2ZmZiFpbXBvcnRhbnQ7Ym9yZGVyLXJpZ2h0OjAgc29saWQgI2ZmZiFpbXBvcnRhbnR9YVtzb2Z0X2lkXXtkaXNwbGF5Om5vbmV9Lm9wLXNvZnQtYnRuYm94IC5jLWdhcC1sZWZ0LXNtYWxse21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkO3BhZGRpbmc6N3B4IDE1cHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjE0cHg7dHJhbnNpdGlvbjphbGwgLjNzIGVhc2V9Lm9wLXNvZnQtYnRuYm94IC5jLWdhcC1sZWZ0LXNtYWxsOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzcwOThkMDt0cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTtib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpfS5zb3V0dS1pbnB1dC1pbWFnZXt0b3A6NnB4O2xlZnQ6NXB4fSNrd3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS5zLXNraW4taGFzYmcgI2t3e2JveC1zaGFkb3c6MCAwIDAgcmdiYSgwLDAsMCwuMil9LnMtc2tpbi1oYXNiZyAuYnRuX3dye3dpZHRoOjM1cHh9I3NfdXNlcnNldHRpbmdfdG9we21hcmdpbi10b3A6LTdweH0jc191c2VybmFtZV90b3B7bWFyZ2luLXRvcDo3cHh9I3Vfc3B7cGFkZGluZy10b3A6MTZweH0uaXB0X3JlY3tiYWNrZ3JvdW5kOjAgMDtiYWNrZ3JvdW5kLWltYWdlOm5vbmV9LmlwdF9yZWM6aG92ZXJ7YmFja2dyb3VuZDowIDA7YmFja2dyb3VuZC1pbWFnZTpub25lfS5pcHRfcmVjOmFmdGVye2Rpc3BsYXk6bm9uZTttYXJnaW4tdG9wOjUwcHh9LmJkcGZtZW51LC51c2VybWVudXtib3JkZXI6bm9uZTtib3gtc2hhZG93Om5vbmU7LXdlYmtpdC1ib3gtc2hhZG93Om5vbmU7LW1vei1ib3gtc2hhZG93Om5vbmU7LW8tYm94LXNoYWRvdzpub25lfS5xcmNvZGVDb257dmlzaWJpbGl0eTpoaWRkZW59I2hlYWQgLmhlYWRCbG9ja3ttYXJnaW46MTJweCAwIDZweCAxMjFweH1he2NvbG9yOiM0ODc5YmR9aDMgYTpob3Zlcntib3JkZXItYm90dG9tOiM0ODc5YmQgMS4ycHggc29saWR9LmMtc2hvd3VybHtjb2xvcjojNGNhZjUwfS5vcC1zZS1saXN0ZW4tcmVjb21tZW5kOmhvdmVye2JvcmRlci1ib3R0b206IzQ4NzliZCAxLjJweCBzb2xpZH0uYy1nYXAtYm90dG9tLXNtYWxsIGE6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDEuMnB4IHNvbGlkfS5jLXJvdyBhOmhvdmVye2JvcmRlci1ib3R0b206IzQ4NzliZCAxLjJweCBzb2xpZH0jcnMgYTpob3Zlcntib3JkZXItYm90dG9tOiM0ODc5YmQgMS4ycHggc29saWR9LmhpbnRfdG9wcnFfdGlwc19pdGVtcyBhOmhvdmVye2JvcmRlci1ib3R0b206IzQ4NzliZCAxLjJweCBzb2xpZH0uYzpob3Zlcntib3JkZXItYm90dG9tOiM0ODc5YmQgMS4ycHggc29saWR9ZW17Y29sb3I6I2VhNDMzNX0ub3AtdmlkZW8tdmFzdC11bCBsaSBhe21hcmdpbi1ib3R0b206dW5zZXR9Ym9keXtiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjd9I2Zvcm0gLnNfaXB0X3dye2JhY2tncm91bmQtY29sb3I6I2ZmZiFpbXBvcnRhbnQ7YmFja2dyb3VuZDojZmZmfSNmb3JtIC5zX2lwdF93cjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O2JhY2tncm91bmQ6I2ZmZn0uaXB0aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudH0uaXB0Zm9jdXN7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudH0jZm9ybSAuc19idG57YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0jd3JhcHBlciAjaGVhZHtiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjh9LmMtYm9yZGVye2JhY2tncm91bmQtY29sb3I6I2ZmZn0uYy10YWJzLW5hdntiYWNrZ3JvdW5kLWNvbG9yOiNlZWV9LmMtdGFicy1uYXYtc2VsZWN0ZWR7Ym9yZGVyLWJvdHRvbTojZjQ0MzM2IDJweCBzb2xpZCFpbXBvcnRhbnQ7YmFja2dyb3VuZC1jb2xvcjojMjE5NmYzIWltcG9ydGFudDtjb2xvcjojZmZmIWltcG9ydGFudH0jcGFnZSBhe2JhY2tncm91bmQ6I2ZmZjtjb2xvcjojNDI0MjQyfSNwYWdlIGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojZTBlMGUwIWltcG9ydGFudH0jcGFnZSBhIC5wYzpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTB9I3BhZ2Ugc3Ryb25ne2JhY2tncm91bmQtY29sb3I6IzQyODVmNCFpbXBvcnRhbnQ7Y29sb3I6I2ZmZn0jcGFnZSBzdHJvbmcgLnBje2JhY2tncm91bmQtY29sb3I6IzQyODVmNCFpbXBvcnRhbnR9LnBjOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2UwZTBlMH0jc190YWIgYntib3JkZXItYm90dG9tOjNweCAjNDg3OWJkIHNvbGlkO2NvbG9yOiM0ODc5YmR9I3NfdGFie2JvcmRlci1ib3R0b206I2UwZTBlMCAxcHggc29saWR9LmJkcGZtZW51IGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkIWltcG9ydGFudH0uc2V0cHJlZjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM0ODc5YmQhaW1wb3J0YW50fSN1IC5sYntiYWNrZ3JvdW5kLWNvbG9yOiM0ODc5YmR9I3UgLmxiOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzYxOGNjN30jdSAubGI6YWN0aXZle2JhY2tncm91bmQtY29sb3I6IzdkYTBkMH0jYmd7YmFja2dyb3VuZC1jb2xvcjojZmZmIWltcG9ydGFudDtiYWNrZ3JvdW5kOiNmZmZ9I3UxIGEubGJ7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkfSN1MSBhLmxiOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzYxOGNjN30jdTEgYS5sYjphY3RpdmV7YmFja2dyb3VuZC1jb2xvcjojN2RhMGQwfSN1X3NwIC5zX2JyaXtiYWNrZ3JvdW5kLWNvbG9yOiNmNDQzMzZ9I3NfdXNlcm5hbWVfdG9we2JhY2tncm91bmQtY29sb3I6I2UwZTBlMH0ucy11c2VyLXNldC1tZW51IGE6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkIWltcG9ydGFudH0jdXNlcntiYWNrZ3JvdW5kLWNvbG9yOiNlMGUwZTB9Lm1zZy1zZXR0aW5nLWJ0bntiYWNrZ3JvdW5kLWNvbG9yOiM0ODc5YmQhaW1wb3J0YW50fS5uby11c2V7YmFja2dyb3VuZC1jb2xvcjojZTVlNWU1IWltcG9ydGFudH0ucGFzcy10ZXh0LWlucHV0e2JvcmRlci1ib3R0b206I2UwZTBlMCAycHggc29saWQhaW1wb3J0YW50O2JvcmRlci1sZWZ0OiNmZmYgMCBzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLXJpZ2h0OiNmZmYgMCBzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLXRvcDojZmZmIDAgc29saWQhaW1wb3J0YW50fS5wYXNzLXRleHQtaW5wdXQtZm9jdXN7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDJweCBzb2xpZCFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6I2ZmZiAwIHNvbGlkIWltcG9ydGFudDtib3JkZXItcmlnaHQ6I2ZmZiAwIHNvbGlkIWltcG9ydGFudDtib3JkZXItdG9wOiNmZmYgMCBzb2xpZCFpbXBvcnRhbnR9LnRhbmctcGFzcy1wb3AtbG9naW4tY29sb3ItYmx1ZSAucGFzcy1idXR0b257YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkfS50YW5nLXBhc3MtcG9wLWxvZ2luLWNvbG9yLWJsdWUgLnBhc3MtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzYxOGNjN30jbGd7bWFyZ2luLWxlZnQ6LTNyZW07YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejROQ2p3aExTMGdSMlZ1WlhKaGRHOXlPaUJCWkc5aVpTQkpiR3gxYzNSeVlYUnZjaUF4T1M0eUxqRXNJRk5XUnlCRmVIQnZjblFnVUd4MVp5MUpiaUF1SUZOV1J5QldaWEp6YVc5dU9pQTJMakF3SUVKMWFXeGtJREFwSUNBdExUNE5Danh6ZG1jZ2RtVnljMmx2YmowaU1TNHhJaUJwWkQwaTViR0NYekVpSUhodGJHNXpQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh5TURBd0wzTjJaeUlnZUcxc2JuTTZlR3hwYm1zOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6RTVPVGt2ZUd4cGJtc2lJSGc5SWpCd2VDSWdlVDBpTUhCNElnMEtDU0IyYVdWM1FtOTRQU0l3SURBZ01qVTVJREV4TmlJZ2MzUjViR1U5SW1WdVlXSnNaUzFpWVdOclozSnZkVzVrT201bGR5QXdJREFnTWpVNUlERXhOanNpSUhodGJEcHpjR0ZqWlQwaWNISmxjMlZ5ZG1VaVBnMEtQSE4wZVd4bElIUjVjR1U5SW5SbGVIUXZZM056SWo0TkNna3VjM1F3ZTJacGJHdzZJelF5T0RWR05EdDlEUW9KTG5OME1YdG1hV3hzT2lORlFUUXpNelU3ZlEwS0NTNXpkREo3Wm1sc2JEb2pSa1pHUmtaR08zME5Dand2YzNSNWJHVStEUW84Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJrUFNKTk1USTRMaklzTnpkakxUVXVOQ3d3TGpRdE5TNDJMRE11TnkwNExqRXNOaTQzWXkweUxqVXNNeTR4TFRjdU55dzFMamd0T0M0MExEa3VOV010TUM0NExEUXVOeXd4TGpnc055NHlMRFF1TXl3NFl6SXVOeXd3TGprc09DNDRMVEF1Tnl3eE1TNDVMVEF1TncwS0NXZ3dMak5vTUM0ell6TXVNU3d3TERrdU1Td3hMallzTVRFdU9Td3dMamRqTWk0MUxUQXVPU3cwTGprdE5DNDFMRFF1TXkwNFl5MHdMalV0TXkwMkxqSXROaTQwTFRndU55MDVMalZETVRNekxqWXNPREF1Tnl3eE16TXVOeXczTnk0MExERXlPQzR5TERjM2VpQk5NVEE1TGpNc056WXVNdzBLQ1dNd0xETXVOQ3d5TGpJc05pNHhMRFF1T0N3MkxqRmpNaTQzTERBc05DNDRMVEl1Tnl3MExqZ3ROaTR4Y3kweUxqSXROaTR4TFRRdU9DMDJMakZUTVRBNUxqTXNOek1zTVRBNUxqTXNOell1TTNvZ1RURXhPU3cyTnk0MVl6QXNNeTQxTERJdU1TdzJMalFzTkM0MkxEWXVOQTBLQ1dNeUxqWXNNQ3cwTGpjdE1pNDVMRFF1TnkwMkxqUnpMVEl1TVMwMkxqUXROQzQzTFRZdU5FTXhNakVzTmpFc01URTVMRFl6TGprc01URTVMRFkzTGpWNklFMHhNekF1Tnl3Mk55NDBZekFzTXk0ekxESXNOaXcwTGpVc05uTTBMalV0TWk0M0xEUXVOUzAyWXpBdE15NHpMVEl0TmkwMExqVXROZzBLQ1ZNeE16QXVOeXcyTkM0eExERXpNQzQzTERZM0xqUjZJRTB4TXpndU1pdzNOeTQ0WXpBc015NHpMREl1TVN3MkxEUXVOaXcyWXpJdU5pd3dMRFF1TnkweUxqY3NOQzQzTFRaak1DMHpMak10TWk0eExUWXROQzQzTFRaRE1UUXdMaklzTnpFdU9Dd3hNemd1TWl3M05DNDFMREV6T0M0eUxEYzNMamg2SWcwS0NTOCtEUW84Y0dGMGFDQmpiR0Z6Y3owaWMzUXhJaUJrUFNKTk5qSXVPQ3c1T0M0eVZqa3hhRGxqTWk0eUxEQXNNaTR6TERBdU5Dd3lMak1zTWk0NGRqSmpNQ3d5TGpNdE15NHlMREl1TlMwMUxqVXNNaTQxYUMwMUxqaFdPVGd1TW5vZ1RUWXlMamdzT0RjdU9GWTRNV2cxTGpnTkNnbGpNaTR6TERBc05TNDFMREFzTlM0MUxETjJNQzR4WXpBc01pMHdMamNzTXk0M0xUSXVOU3d6TGpkRE56RXVOaXc0Tnk0NExEWXlMamdzT0RjdU9DdzJNaTQ0TERnM0xqaDZJRTAxT1M0MUxEYzNMamwyTWpOb09TNHhZelF1TXl3d0xEZ3VOeXd3TERndU55MDFMakYyTFRFdU5RMEtDV013TFRJdU15MHdMakl0TXk0NExURXVOUzAwTGpsak1TNDBMVEV1TVN3eExqVXRNeTR5TERFdU5TMDFMakZzTUN3d1l6QXROaTR6TFRRdU5TMDJMak10T0M0M0xUWXVNMHcxT1M0MUxEYzNMamxNTlRrdU5TdzNOeTQ1ZWlJdlBnMEtQSEJoZEdnZ1kyeGhjM005SW5OME1TSWdaRDBpVFRreUxqUXNPVFl1TVdNdE1TNDFMREV1TmkwMExqWXNNUzQ0TFRRdU9Td3hMamhqTFRFdU9Td3dMVE11T0Mwd0xqY3RNeTQ0TFRJdU9XTXdMVElzTUM0M0xUTXVNeXd5TGprdE15NHpZekV1T0N3d0xEUXNNQzR5TERVdU9Dd3dMamhXT1RZdU1Yb05DZ2tnVFRnM0xqTXNNVEF3TGpsak1DNDFMREFzTXk0ekxUQXVNaXcxTGpJdE1TNHpiREF1TXl3eGFESXVPVlk0T0dNd0xUVXVNUzB6TGpJdE55NHhMVGd0Tnk0eFl5MHlMalVzTUMwMkxqRXNNUzAyTGpZc01TNHliREF1Tml3ekxqSmpNaTR5TFRBdU9DdzBMakl0TUM0NUxEVXVPUzB3TGprTkNnbGpNaTQyTERBc05DNDJMREF1T1N3MExqWXNNeTQzZGpFdU1XTXRNUzQwTFRBdU5TMHpMalF0TUM0NUxUVXVPQzB3TGpsakxUUXVNaXd3TFRZdU15d3lMak10Tmk0ekxEWXVOa000TUM0ekxERXdNQzR6TERnMExqY3NNVEF3TGprc09EY3VNeXd4TURBdU9Yb2lMejROQ2p4d1lYUm9JR05zWVhOelBTSnpkREVpSUdROUlrMDVPUzQzTERjNExqRmpNQ3d3TGprc01DNDVMREV1Tnl3eExqZ3NNUzQzWXpFdU1Td3dMREV1T1Mwd0xqZ3NNUzQ1TFRFdU4yTXdMVEV0TUM0NExURXVPQzB4TGprdE1TNDRRekV3TUM0MkxEYzJMak1zT1RrdU55dzNOeXc1T1M0M0xEYzRMakY2RFFvSklFMDVPUzQ1TERFd01DNDJhRE11TkZZNE1TNDFhQzB6TGpSV01UQXdMalo2SWk4K0RRbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOTVRVM0xqWXNPRFl1Tm1neE1TNDRZekF1TlN3d0xqRXNNQzQ0TERBdU5Dd3dMamtzTVhZekxqWm9MVEV6TGpkMkxUTXVOa014TlRZdU55dzROeXd4TlRjc09EWXVOeXd4TlRjdU5pdzROaTQyZWlCTk1UVTNMallzT1RndU5BMEtDV010TUM0MkxEQXRNQzQ1TFRBdU5DMHhMVEV1TVhZdE15NDJhREV6TGpkMk15NDNZekFzTUM0MkxUQXVNeXd4TFRBdU9Td3hTREUxTnk0MmVpQk5NVFl3TGprc09EQXVOMk10TUM0eExEQXVOUzB3TGpJc01TNHpMVEF1TlN3eUxqUmpMVEF1TVN3d0xqUXRNQzR4TERBdU55MHdMaklzTVdndE15NDNEUW9KWXkweExqZ3NNQzR4TFRJdU55d3hMakV0TWk0NExESXVPRlk1T0dNd0xqRXNNUzQyTERFdU1Td3lMalVzTWk0NExESXVOMmd4TkM0eFl6RXVOeTB3TGpFc01pNDJMVEVzTWk0M0xUSXVOVlk0TjJNdE1DNHhMVEV1T0MweExUSXVOeTB5TGpjdE1pNDVhQzAzRFFvSll6QXVNUzB3TGpRc01DNHlMVEV1TVN3d0xqUXRNbU13TGpFdE1DNDJMREF1TVMweExEQXVNaTB4TGpOb01UQXVNbll0TWk0MmFDMHlNaTR5ZGpJdU5rd3hOakF1T1N3NE1DNDNUREUyTUM0NUxEZ3dMamQ2SWk4K0RRbzhjR0YwYUNCamJHRnpjejBpYzNReElpQmtQU0pOTVRnNUxqUXNPRGN1TkdNdE1DNDFMVEF1TVMwd0xqY3RNQzR6TFRBdU55MHdMamQyTFRBdU9XZzBMalYyTUM0NVl5MHdMakVzTUM0MExUQXVNeXd3TGpZdE1DNDNMREF1TjBneE9Ea3VOSG9nVFRFNU15NDBMRGc1TGpRTkNnbGpNUzQxTFRBdU1Td3lMakl0TUM0M0xESXVNeTB5VmpnMmFETXVNbll0TWk0eGFDMHpMakoyTFRFdU5tZ3RNaTQxZGpFdU5tZ3ROQzQxZGkweExqWm9MVEl1Tm5ZeExqWm9MVE11TWxZNE5tZ3pMakoyTVM0MFl6QXVNU3d4TGpNc01DNDRMRElzTWk0eUxESklNVGt6TGpSNklFMHhPVEF1T1N3NU9DNHpEUW9KWXpJdU15d3hMakVzTkM0NExERXVPU3czTGpZc01pNDJiREV1TWkweUxqUmpMVEl0TUM0ekxUUXVNUzB3TGpndE5pNHlMVEV1Tm1NeExqVXRNUzR4TERJdU9DMHlMaklzTXk0NExUTXVOV013TGpRdE1DNDJMREF1TlMweExqSXNNQzR6TFRFdU9XTXRNQzQwTFRBdU9DMHhMakV0TVM0eUxUSXRNUzR5RFFvSmFDMHhNaTQzZGpJdU1XZ3hNQzQ0WXpBdU15d3dMREF1TlN3d0xqRXNNQzQyTERBdU1uTXdMREF1TWkwd0xqSXNNQzQwWXkwd0xqa3NNQzQ1TFRJc01TNDRMVE11TXl3eUxqWmpMVEV1TnkweExUSXVPUzB4TGprdE15NDBMVEl1Tm1ndE15NHhZekV1TWl3eExqUXNNaTQyTERJdU55dzBMakVzTXk0NERRb0pZeTB5TGpNc01DNDVMVFF1Tml3eExqVXROaTQ1TERFdU9Hd3hMak1zTWk0eVF6RTROUzQ1TERFd01DNHlMREU0T0M0MkxEazVMak1zTVRrd0xqa3NPVGd1TTNvZ1RURTRNUzQzTERrd0xqbDJMVGd1TldNd0xqRXRNQzQ0TERBdU5DMHhMaklzTVM0eExURXVNMmd4Tmk0M2RpMHlMak5vTFRndU13MEtDV010TUM0eExUQXVNaTB6TGpFdE1DNHhMVE11TVN3d2FDMDJMamRqTFRFdU5Td3dMakl0TWk0MExERXVNeTB5TGpVc015NHhkamd1TjJNd0xqRXNNeTB3TGpVc05pNHlMVEV1Tml3NUxqUnNNaTQzTERBdU9FTXhPREV1TVN3NU55NDJMREU0TVM0M0xEazBMak1zTVRneExqY3NPVEF1T1hvaUx6NE5Danh3WVhSb0lHTnNZWE56UFNKemRESWlJR1E5SWsweE1qSXVOU3c0T1M0MVl6QXVPQ3d3TERFdU55d3dMaklzTWk0MExEQXVOWFkwTGpoak1Dd3dMalF0TUM0NUxERXVOQzB5TGpjc01TNDBZeTB5TGpFc01DMHlMall0TUM0NUxUSXVOaTB5TGpsMkxUQXVPQTBLQ1VNeE1Ua3VOU3c1TUM0MExERXlNQzR5TERnNUxqVXNNVEl5TGpVc09Ea3VOWG9nVFRFeU5pNDJMRGcwTGpab0xURXVOM1l6TGpWakxUQXVOaTB3TGpJdE1TNDFMVEF1TXkweUxqUXRNQzR6WXkwekxqZ3NNQzAwTGpZc01TNDBMVFF1Tml3MExqbDJNQzQwRFFvSll6QXNNeTQwTERFdU15dzBMallzTkM0MUxEUXVObU14TGpFc01Dd3hMamt0TUM0eUxESXVOaTB3TGpkc01DNHlMREF1T0dneExqVk1NVEkyTGpZc09EUXVOa3d4TWpZdU5pdzROQzQyZWlJdlBnMEtQSEJoZEdnZ1kyeGhjM005SW5OME1pSWdaRDBpVFRFek55NHhMRGczTGpob0xURXVOM1kzTGpSakxUQXVPU3d3TGpVdE1pNDBMREF1T0MwekxqUXNNQzQ0WXkweExqRXNNQzB4TGpRdE1DNDJMVEV1TkMweExqbDJMVFl1TlVneE1qbDJOaTQ0WXpBc01pNHpMREF1Tnl3ekxqSXNNaTQ1TERNdU1nMEtDV014TGpRc01Dd3lMamt0TUM0MExETXVOaTB3TGpoc01DNHhMREF1T0dneExqVldPRGN1T0hvaUx6NE5Danh3WVhSb0lHTnNZWE56UFNKemRERWlJR1E5SWsweE9EY3VPU3czTnk0MVl6QXRNU3d3TGpndE1TNDRMREV1TnkweExqaHpNUzQzTERBdU9Dd3hMamNzTVM0NGN5MHdMamdzTVM0NExURXVOeXd4TGpoRE1UZzRMamNzTnprdU1pd3hPRGN1T1N3M09DNDBMREU0Tnk0NUxEYzNMalY2SWk4K0RRbzhMM04yWno0TkNnPT0pfSNmb3JtIC5zX2J0bntiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlERTVMakl1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJdVdidnVXeGdsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTXpJZ016SWlJSE4wZVd4bFBTSmxibUZpYkdVdFltRmphMmR5YjNWdVpEcHVaWGNnTUNBd0lETXlJRE15T3lJZ2VHMXNPbk53WVdObFBTSndjbVZ6WlhKMlpTSStDanh6ZEhsc1pTQjBlWEJsUFNKMFpYaDBMMk56Y3lJK0Nna3VjM1F3ZTJacGJHdzZJelEzTnpsQ1JEdDlDand2YzNSNWJHVStDanh3WVhSb0lHTnNZWE56UFNKemREQWlJR1E5SWsweE5DNDRMREl4TGpWakxUQXVOQ3d3TFRBdU55d3dMVEV1TVMwd0xqRmpMVEl1TVMwd0xqTXRNeTQ1TFRFdU5DMDFMakl0TTJNdE1TNHpMVEV1TnkweExqZ3RNeTQzTFRFdU5pMDFMamhqTUM0ekxUSXVNU3d4TGpRdE15NDVMRE10TlM0eUNnbGpNUzQzTFRFdU15d3pMamd0TVM0NExEVXVPQzB4TGpaak1pNHhMREF1TXl3ekxqa3NNUzQwTERVdU1pd3pZekV1TXl3eExqY3NNUzQ0TERNdU9Dd3hMallzTlM0NFl5MHdMak1zTWk0eExURXVOQ3d6TGprdE15dzFMakpETVRndU1pd3lNU3d4Tmk0MUxESXhMalVzTVRRdU9Dd3lNUzQxZWdvSklFMHhOQzQ0TERndU1XTXRNUzR5TERBdE1pNDBMREF1TkMwekxqTXNNUzR4WXkweUxqUXNNUzQ0TFRJdU9TdzFMak10TVN3M0xqZGpNUzQ0TERJdU5DdzFMak1zTWk0NUxEY3VOeXd4WXpFdU1pMHdMamtzTVM0NUxUSXVNaXd5TGpFdE15NDJZekF1TWkweExqVXRNQzR5TFRJdU9TMHhMakV0TkM0eENnbFRNVGNzT0M0MExERTFMalVzT0M0eVF6RTFMak1zT0M0eUxERTFMRGd1TVN3eE5DNDRMRGd1TVhvaUx6NEtQR2MrQ2drOFp6NEtDUWs4Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJrUFNKTk1qVXVNeXd5Tnk0MVRESTFMak1zTWpjdU5XTXRNQzQyTERBdU5DMHhMalFzTUM0ekxURXVPQzB3TGpKc0xUVXVNUzAyTGpkakxUQXVOQzB3TGpZdE1DNHpMVEV1TkN3d0xqSXRNUzQ0YkRBc01Bb0pDUWxqTUM0MkxUQXVOQ3d4TGpRdE1DNHpMREV1T0N3d0xqSnNOUzR4TERZdU4wTXlOaXd5Tmk0ekxESTFMamtzTWpjdU1Td3lOUzR6TERJM0xqVjZJaTgrQ2drOEwyYytDand2Wno0S1BDOXpkbWMrQ2c9PSkhaW1wb3J0YW50fSNmb3JtIC5zX2J0bl93cntiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlERTVMakl1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJdVdidnVXeGdsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTXpJZ016SWlJSE4wZVd4bFBTSmxibUZpYkdVdFltRmphMmR5YjNWdVpEcHVaWGNnTUNBd0lETXlJRE15T3lJZ2VHMXNPbk53WVdObFBTSndjbVZ6WlhKMlpTSStDanh6ZEhsc1pTQjBlWEJsUFNKMFpYaDBMMk56Y3lJK0Nna3VjM1F3ZTJacGJHdzZJelEzTnpsQ1JEdDlDand2YzNSNWJHVStDanh3WVhSb0lHTnNZWE56UFNKemREQWlJR1E5SWsweE5DNDRMREl4TGpWakxUQXVOQ3d3TFRBdU55d3dMVEV1TVMwd0xqRmpMVEl1TVMwd0xqTXRNeTQ1TFRFdU5DMDFMakl0TTJNdE1TNHpMVEV1TnkweExqZ3RNeTQzTFRFdU5pMDFMamhqTUM0ekxUSXVNU3d4TGpRdE15NDVMRE10TlM0eUNnbGpNUzQzTFRFdU15d3pMamd0TVM0NExEVXVPQzB4TGpaak1pNHhMREF1TXl3ekxqa3NNUzQwTERVdU1pd3pZekV1TXl3eExqY3NNUzQ0TERNdU9Dd3hMallzTlM0NFl5MHdMak1zTWk0eExURXVOQ3d6TGprdE15dzFMakpETVRndU1pd3lNU3d4Tmk0MUxESXhMalVzTVRRdU9Dd3lNUzQxZWdvSklFMHhOQzQ0TERndU1XTXRNUzR5TERBdE1pNDBMREF1TkMwekxqTXNNUzR4WXkweUxqUXNNUzQ0TFRJdU9TdzFMak10TVN3M0xqZGpNUzQ0TERJdU5DdzFMak1zTWk0NUxEY3VOeXd4WXpFdU1pMHdMamtzTVM0NUxUSXVNaXd5TGpFdE15NDJZekF1TWkweExqVXRNQzR5TFRJdU9TMHhMakV0TkM0eENnbFRNVGNzT0M0MExERTFMalVzT0M0eVF6RTFMak1zT0M0eUxERTFMRGd1TVN3eE5DNDRMRGd1TVhvaUx6NEtQR2MrQ2drOFp6NEtDUWs4Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJrUFNKTk1qVXVNeXd5Tnk0MVRESTFMak1zTWpjdU5XTXRNQzQyTERBdU5DMHhMalFzTUM0ekxURXVPQzB3TGpKc0xUVXVNUzAyTGpkakxUQXVOQzB3TGpZdE1DNHpMVEV1TkN3d0xqSXRNUzQ0YkRBc01Bb0pDUWxqTUM0MkxUQXVOQ3d4TGpRdE1DNHpMREV1T0N3d0xqSnNOUzR4TERZdU4wTXlOaXd5Tmk0ekxESTFMamtzTWpjdU1Td3lOUzR6TERJM0xqVjZJaTgrQ2drOEwyYytDand2Wno0S1BDOXpkbWMrQ2c9PSkhaW1wb3J0YW50fS5jLWljb24tdGllYmF7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMGIzSTZJRUZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJREU1TGpJdU1Td2dVMVpISUVWNGNHOXlkQ0JRYkhWbkxVbHVJQzRnVTFaSElGWmxjbk5wYjI0NklEWXVNREFnUW5WcGJHUWdNQ2tnSUMwdFBnbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SXVXYnZ1V3hnbDh4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUI0UFNJd2NIZ2lJSGs5SWpCd2VDSUtDU0IyYVdWM1FtOTRQU0l3SURBZ01qUWdNalFpSUhOMGVXeGxQU0psYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjZ01DQXdJREkwSURJME95SWdlRzFzT25Od1lXTmxQU0p3Y21WelpYSjJaU0krQ2p4emRIbHNaU0IwZVhCbFBTSjBaWGgwTDJOemN5SStDZ2t1YzNRd2UyWnBiR3c2SXpNM1FVSkZNenQ5Q2drdWMzUXhlMlpwYkd3NkkwWkdSa1pHUmp0OUNqd3ZjM1I1YkdVK0NqeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlHUTlJazB5TUM0NUxESXpMak5JTXk0eFl5MHhMakVzTUMweUxUQXVPUzB5TFRKV01pNDRZekF0TVM0eExEQXVPUzB5TERJdE1tZ3hOeTQ0WXpFdU1Td3dMRElzTUM0NUxESXNNbll4T0M0MVF6SXlMamtzTWpJdU5Dd3lNaXd5TXk0ekxESXdMamtzTWpNdU0zb2lDZ2t2UGdvOFp6NEtDVHh3WVhSb0lHTnNZWE56UFNKemRERWlJR1E5SWswMUxqSXNNVGt1T1V3MExERTVMakpqTVM0MUxURXVPU3d5TGpNdE15NDVMREl1TkMwMUxqaGpNQzB4TERBdU1TMHpMakVzTUM0eExUWXVNMGc0WXpBc01pNHlMREFzTkM0ekxUQXVNU3cyTGpSak1Dd3dMall0TUM0eExERXVNaTB3TGpNc01TNDRDZ2tKYURFdU1XTXdMalVzTUM0NExERXVNaXd5TGpRc01pNHlMRFF1TmtnNVl5MHdMall0TVM0MUxURXVNaTB5TGpndE1TNDJMVE11T1VNM0xERTNMaklzTmk0ekxERTRMallzTlM0eUxERTVMamw2SUUwMExqRXNNVFF1T0ZZMkxqRmpNQzB4TGpJc01DNDFMVEV1T0N3eExqWXRNUzQ0YURNS0NRbGpNU3d3TERFdU5pd3dMamNzTVM0MkxERXVPSFk0TGpaSU9DNDVWall1TTJNd0xUQXVOQzB3TGpNdE1DNDJMVEF1Tmkwd0xqWm9MVEpqTFRBdU5Dd3dMVEF1Tml3d0xqSXRNQzQyTERBdU5uWTRMalZJTkM0eGVpQk5NVEl1T1N3eE9TNDFZeTB4TGpFc01DMHhMamN0TUM0MkxURXVPQzB4TGpaV01UTUtDUWxqTUMweExqRXNNQzQzTFRFdU55d3hMamd0TVM0NGFERldOQzR4YURFdU4zWXlMalZJTWpCV09HZ3ROQzR6ZGpNdU1tZ3hMamhqTVM0eExEQXNNUzQzTERBdU55d3hMamdzTVM0NGRqUXVPR013TERFdU1TMHdMallzTVM0MkxURXVPQ3d4TGpkSU1USXVPWG9nVFRFeUxqZ3NNVE11TTNZMExqTUtDUWxqTUN3d0xqUXNNQzR6TERBdU55d3dMamNzTUM0M2FETXVNbU13TGpVc01Dd3dMamN0TUM0ekxEQXVPQzB3TGpkMkxUUXVOR013TFRBdU5DMHdMak10TUM0M0xUQXVOeTB3TGpkb0xUTXVNME14TXk0eExERXlMallzTVRJdU9Td3hNaTQ0TERFeUxqZ3NNVE11TTNvaUx6NEtQQzluUGdvOEwzTjJaejRLKX0jdSAucGZ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMGIzSTZJRUZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJREU1TGpJdU1Td2dVMVpISUVWNGNHOXlkQ0JRYkhWbkxVbHVJQzRnVTFaSElGWmxjbk5wYjI0NklEWXVNREFnUW5WcGJHUWdNQ2tnSUMwdFBnbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SXVXYnZ1V3hnbDh4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUI0UFNJd2NIZ2lJSGs5SWpCd2VDSUtDU0IyYVdWM1FtOTRQU0l3SURBZ016SWdNeklpSUhOMGVXeGxQU0psYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjZ01DQXdJRE15SURNeU95SWdlRzFzT25Od1lXTmxQU0p3Y21WelpYSjJaU0krQ2p4emRIbHNaU0IwZVhCbFBTSjBaWGgwTDJOemN5SStDZ2t1YzNRd2UyWnBiR3c2SXpaRU5rUTJSRHQ5Q2p3dmMzUjViR1UrQ2p4d1lYUm9JR05zWVhOelBTSnpkREFpSUdROUlrMHlOUzR5TERFM0xqSmpNQzB3TGpRc01DNHhMVEF1T0N3d0xqRXRNUzR5WXpBdE1DNDBMREF0TUM0NExUQXVNUzB4TGpKc01pNDJMVEpqTUM0eUxUQXVNaXd3TGpNdE1DNDFMREF1TVMwd0xqaHNMVEl1TlMwMExqTUtDV010TUM0eExUQXVNeTB3TGpVdE1DNDBMVEF1T0Mwd0xqTnNMVE11TVN3eExqSmpMVEF1Tmkwd0xqVXRNUzR6TFRBdU9TMHlMakV0TVM0eWJDMHdMalV0TXk0ell6QXRNQzR6TFRBdU15MHdMalV0TUM0MkxUQXVOV2d0TldNdE1DNHpMREF0TUM0MkxEQXVNaTB3TGpZc01DNDFiQzB3TGpVc015NHpDZ2xqTFRBdU9Dd3dMak10TVM0MExEQXVOeTB5TGpFc01TNHlURGN1TXl3M0xqUkROeXczTGpNc05pNDNMRGN1TkN3MkxqVXNOeTQzVERRc01URXVPV010TUM0eUxEQXVNeTB3TGpFc01DNDJMREF1TVN3d0xqaHNNaTQyTERKak1Dd3dMalF0TUM0eExEQXVPQzB3TGpFc01TNHlDZ2xqTUN3d0xqUXNNQ3d3TGpnc01DNHhMREV1TW13dE1pNDJMREpqTFRBdU1pd3dMakl0TUM0ekxEQXVOUzB3TGpFc01DNDRiREl1TlN3MExqTmpNQzR4TERBdU15d3dMalVzTUM0MExEQXVPQ3d3TGpOc015NHhMVEV1TW1Nd0xqWXNNQzQxTERFdU15d3dMamtzTWk0eExERXVNbXd3TGpVc015NHpDZ2xqTUN3d0xqTXNNQzR6TERBdU5Td3dMallzTUM0MWFEVmpNQzR6TERBc01DNDJMVEF1TWl3d0xqWXRNQzQxYkRBdU5TMHpMak5qTUM0NExUQXVNeXd4TGpRdE1DNDNMREl1TVMweExqSnNNeTR4TERFdU1tTXdMak1zTUM0eExEQXVOaXd3TERBdU9DMHdMak5zTWk0MUxUUXVNd29KWXpBdU1TMHdMak1zTUM0eExUQXVOaTB3TGpFdE1DNDRUREkxTGpJc01UY3VNbm9nVFRFMkxESXdMak5qTFRJdU5Dd3dMVFF1TXkweExqa3ROQzR6TFRRdU0zTXhMamt0TkM0ekxEUXVNeTAwTGpOek5DNHpMREV1T1N3MExqTXNOQzR6VXpFNExqUXNNakF1TXl3eE5pd3lNQzR6ZWlJdlBnbzhMM04yWno0Syl9I3UgLmxie2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEQ5NGJXd2dkbVZ5YzJsdmJqMGlNUzR3SWlCbGJtTnZaR2x1WnowaWRYUm1MVGdpUHo0S1BDRXRMU0JIWlc1bGNtRjBiM0k2SUVGa2IySmxJRWxzYkhWemRISmhkRzl5SURFNUxqSXVNU3dnVTFaSElFVjRjRzl5ZENCUWJIVm5MVWx1SUM0Z1UxWkhJRlpsY25OcGIyNDZJRFl1TURBZ1FuVnBiR1FnTUNrZ0lDMHRQZ284YzNabklIWmxjbk5wYjI0OUlqRXVNU0lnYVdROUl1V2J2dVd4Z2w4eElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIaHRiRzV6T25oc2FXNXJQU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUwzaHNhVzVySWlCNFBTSXdjSGdpSUhrOUlqQndlQ0lLQ1NCMmFXVjNRbTk0UFNJd0lEQWdORFlnTkRZaUlITjBlV3hsUFNKbGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYY2dNQ0F3SURRMklEUTJPeUlnZUcxc09uTndZV05sUFNKd2NtVnpaWEoyWlNJK0NqeHpkSGxzWlNCMGVYQmxQU0owWlhoMEwyTnpjeUkrQ2drdWMzUXdlMlpwYkd3NkkwWkdSa1pHUmp0OUNqd3ZjM1I1YkdVK0NqeHdZWFJvSUdOc1lYTnpQU0p6ZERBaUlHUTlJazB5TXl3eU0yTXlMamtzTUN3MUxqSXRNaTR6TERVdU1pMDFMakp6TFRJdU15MDFMakl0TlM0eUxUVXVNbk10TlM0eUxESXVNeTAxTGpJc05TNHlVekl3TGpFc01qTXNNak1zTWpONklFMHlNeXd5TlM0MkNnbGpMVE11TlN3d0xURXdMalFzTVM0M0xURXdMalFzTlM0eWRqSXVObWd5TUM0M2RpMHlMalpETXpNdU5Dd3lOeTR6TERJMkxqVXNNalV1Tml3eU15d3lOUzQyZWlJdlBnbzhMM04yWno0Syl9I3UxIGEucGZ7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMGIzSTZJRUZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJREU1TGpJdU1Td2dVMVpISUVWNGNHOXlkQ0JRYkhWbkxVbHVJQzRnVTFaSElGWmxjbk5wYjI0NklEWXVNREFnUW5WcGJHUWdNQ2tnSUMwdFBnbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SXVXYnZ1V3hnbDh4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUI0UFNJd2NIZ2lJSGs5SWpCd2VDSUtDU0IyYVdWM1FtOTRQU0l3SURBZ016SWdNeklpSUhOMGVXeGxQU0psYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjZ01DQXdJRE15SURNeU95SWdlRzFzT25Od1lXTmxQU0p3Y21WelpYSjJaU0krQ2p4emRIbHNaU0IwZVhCbFBTSjBaWGgwTDJOemN5SStDZ2t1YzNRd2UyWnBiR3c2SXpaRU5rUTJSRHQ5Q2p3dmMzUjViR1UrQ2p4d1lYUm9JR05zWVhOelBTSnpkREFpSUdROUlrMHlOUzR5TERFM0xqSmpNQzB3TGpRc01DNHhMVEF1T0N3d0xqRXRNUzR5WXpBdE1DNDBMREF0TUM0NExUQXVNUzB4TGpKc01pNDJMVEpqTUM0eUxUQXVNaXd3TGpNdE1DNDFMREF1TVMwd0xqaHNMVEl1TlMwMExqTUtDV010TUM0eExUQXVNeTB3TGpVdE1DNDBMVEF1T0Mwd0xqTnNMVE11TVN3eExqSmpMVEF1Tmkwd0xqVXRNUzR6TFRBdU9TMHlMakV0TVM0eWJDMHdMalV0TXk0ell6QXRNQzR6TFRBdU15MHdMalV0TUM0MkxUQXVOV2d0TldNdE1DNHpMREF0TUM0MkxEQXVNaTB3TGpZc01DNDFiQzB3TGpVc015NHpDZ2xqTFRBdU9Dd3dMak10TVM0MExEQXVOeTB5TGpFc01TNHlURGN1TXl3M0xqUkROeXczTGpNc05pNDNMRGN1TkN3MkxqVXNOeTQzVERRc01URXVPV010TUM0eUxEQXVNeTB3TGpFc01DNDJMREF1TVN3d0xqaHNNaTQyTERKak1Dd3dMalF0TUM0eExEQXVPQzB3TGpFc01TNHlDZ2xqTUN3d0xqUXNNQ3d3TGpnc01DNHhMREV1TW13dE1pNDJMREpqTFRBdU1pd3dMakl0TUM0ekxEQXVOUzB3TGpFc01DNDRiREl1TlN3MExqTmpNQzR4TERBdU15d3dMalVzTUM0MExEQXVPQ3d3TGpOc015NHhMVEV1TW1Nd0xqWXNNQzQxTERFdU15d3dMamtzTWk0eExERXVNbXd3TGpVc015NHpDZ2xqTUN3d0xqTXNNQzR6TERBdU5Td3dMallzTUM0MWFEVmpNQzR6TERBc01DNDJMVEF1TWl3d0xqWXRNQzQxYkRBdU5TMHpMak5qTUM0NExUQXVNeXd4TGpRdE1DNDNMREl1TVMweExqSnNNeTR4TERFdU1tTXdMak1zTUM0eExEQXVOaXd3TERBdU9DMHdMak5zTWk0MUxUUXVNd29KWXpBdU1TMHdMak1zTUM0eExUQXVOaTB3TGpFdE1DNDRUREkxTGpJc01UY3VNbm9nVFRFMkxESXdMak5qTFRJdU5Dd3dMVFF1TXkweExqa3ROQzR6TFRRdU0zTXhMamt0TkM0ekxEUXVNeTAwTGpOek5DNHpMREV1T1N3MExqTXNOQzR6VXpFNExqUXNNakF1TXl3eE5pd3lNQzR6ZWlJdlBnbzhMM04yWno0Syl9I3UxIGEucGYsI3UxIGEubGJ7Y29sb3I6dHJhbnNwYXJlbnQhaW1wb3J0YW50fSN1MSBhLmJyaXtiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwYjNJNklFRmtiMkpsSUVsc2JIVnpkSEpoZEc5eUlERTVMakl1TVN3Z1UxWkhJRVY0Y0c5eWRDQlFiSFZuTFVsdUlDNGdVMVpISUZabGNuTnBiMjQ2SURZdU1EQWdRblZwYkdRZ01Da2dJQzB0UGdvOGMzWm5JSFpsY25OcGIyNDlJakV1TVNJZ2FXUTlJdVdidnVXeGdsOHhJaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGh0Ykc1ek9uaHNhVzVyUFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eE9UazVMM2hzYVc1cklpQjRQU0l3Y0hnaUlIazlJakJ3ZUNJS0NTQjJhV1YzUW05NFBTSXdJREFnTXpJZ016SWlJSE4wZVd4bFBTSmxibUZpYkdVdFltRmphMmR5YjNWdVpEcHVaWGNnTUNBd0lETXlJRE15T3lJZ2VHMXNPbk53WVdObFBTSndjbVZ6WlhKMlpTSStDanh6ZEhsc1pTQjBlWEJsUFNKMFpYaDBMMk56Y3lJK0Nna3VjM1F3ZTJacGJHdzZJelpFTmtRMlJEdDlDand2YzNSNWJHVStDanh3WVhSb0lHTnNZWE56UFNKemREQWlJR1E5SWswekxqY3NPUzQ0YURZdU1sWXpMamRJTXk0M1Zqa3VPSG9nVFRFeUxqa3NNamd1TTJnMkxqSjJMVFl1TW1ndE5pNHlWakk0TGpONklFMHpMamNzTWpndU0yZzJMakoyTFRZdU1rZ3pMamRXTWpndU0zb2dUVE11Tnl3eE9TNHhhRFl1TW5ZdE5pNHlDZ2xJTXk0M1ZqRTVMakY2SUUweE1pNDVMREU1TGpGb05pNHlkaTAyTGpKb0xUWXVNbFl4T1M0eGVpQk5Nakl1TWl3ekxqZDJOaTR5YURZdU1sWXpMamRJTWpJdU1ub2dUVEV5TGprc09TNDRhRFl1TWxZekxqZG9MVFl1TWxZNUxqaDZJRTB5TWk0eUxERTVMakZvTmk0eWRpMDJMakpvTFRZdU1sWXhPUzR4Q2dsNklFMHlNaTR5TERJNExqTm9OaTR5ZGkwMkxqSm9MVFl1TWxZeU9DNHplaUl2UGdvOEwzTjJaejRLKX0jc191c2Vyc2V0dGluZ190b3B7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejRLUENFdExTQkhaVzVsY21GMGIzSTZJRUZrYjJKbElFbHNiSFZ6ZEhKaGRHOXlJREU1TGpJdU1Td2dVMVpISUVWNGNHOXlkQ0JRYkhWbkxVbHVJQzRnVTFaSElGWmxjbk5wYjI0NklEWXVNREFnUW5WcGJHUWdNQ2tnSUMwdFBnbzhjM1puSUhabGNuTnBiMjQ5SWpFdU1TSWdhV1E5SXVXYnZ1V3hnbDh4SWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhodGJHNXpPbmhzYVc1clBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1TDNoc2FXNXJJaUI0UFNJd2NIZ2lJSGs5SWpCd2VDSUtDU0IyYVdWM1FtOTRQU0l3SURBZ016SWdNeklpSUhOMGVXeGxQU0psYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHB1WlhjZ01DQXdJRE15SURNeU95SWdlRzFzT25Od1lXTmxQU0p3Y21WelpYSjJaU0krQ2p4emRIbHNaU0IwZVhCbFBTSjBaWGgwTDJOemN5SStDZ2t1YzNRd2UyWnBiR3c2SXpaRU5rUTJSRHQ5Q2p3dmMzUjViR1UrQ2p4d1lYUm9JR05zWVhOelBTSnpkREFpSUdROUlrMHlOUzR5TERFM0xqSmpNQzB3TGpRc01DNHhMVEF1T0N3d0xqRXRNUzR5WXpBdE1DNDBMREF0TUM0NExUQXVNUzB4TGpKc01pNDJMVEpqTUM0eUxUQXVNaXd3TGpNdE1DNDFMREF1TVMwd0xqaHNMVEl1TlMwMExqTUtDV010TUM0eExUQXVNeTB3TGpVdE1DNDBMVEF1T0Mwd0xqTnNMVE11TVN3eExqSmpMVEF1Tmkwd0xqVXRNUzR6TFRBdU9TMHlMakV0TVM0eWJDMHdMalV0TXk0ell6QXRNQzR6TFRBdU15MHdMalV0TUM0MkxUQXVOV2d0TldNdE1DNHpMREF0TUM0MkxEQXVNaTB3TGpZc01DNDFiQzB3TGpVc015NHpDZ2xqTFRBdU9Dd3dMak10TVM0MExEQXVOeTB5TGpFc01TNHlURGN1TXl3M0xqUkROeXczTGpNc05pNDNMRGN1TkN3MkxqVXNOeTQzVERRc01URXVPV010TUM0eUxEQXVNeTB3TGpFc01DNDJMREF1TVN3d0xqaHNNaTQyTERKak1Dd3dMalF0TUM0eExEQXVPQzB3TGpFc01TNHlDZ2xqTUN3d0xqUXNNQ3d3TGpnc01DNHhMREV1TW13dE1pNDJMREpqTFRBdU1pd3dMakl0TUM0ekxEQXVOUzB3TGpFc01DNDRiREl1TlN3MExqTmpNQzR4TERBdU15d3dMalVzTUM0MExEQXVPQ3d3TGpOc015NHhMVEV1TW1Nd0xqWXNNQzQxTERFdU15d3dMamtzTWk0eExERXVNbXd3TGpVc015NHpDZ2xqTUN3d0xqTXNNQzR6TERBdU5Td3dMallzTUM0MWFEVmpNQzR6TERBc01DNDJMVEF1TWl3d0xqWXRNQzQxYkRBdU5TMHpMak5qTUM0NExUQXVNeXd4TGpRdE1DNDNMREl1TVMweExqSnNNeTR4TERFdU1tTXdMak1zTUM0eExEQXVOaXd3TERBdU9DMHdMak5zTWk0MUxUUXVNd29KWXpBdU1TMHdMak1zTUM0eExUQXVOaTB3TGpFdE1DNDRUREkxTGpJc01UY3VNbm9nVFRFMkxESXdMak5qTFRJdU5Dd3dMVFF1TXkweExqa3ROQzR6TFRRdU0zTXhMamt0TkM0ekxEUXVNeTAwTGpOek5DNHpMREV1T1N3MExqTXNOQzR6VXpFNExqUXNNakF1TXl3eE5pd3lNQzR6ZWlJdlBnbzhMM04yWno0Syl9I2ltc2d7YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQRDk0Yld3Z2RtVnljMmx2YmowaU1TNHdJaUJsYm1OdlpHbHVaejBpZFhSbUxUZ2lQejROQ2p3aExTMGdSMlZ1WlhKaGRHOXlPaUJCWkc5aVpTQkpiR3gxYzNSeVlYUnZjaUF4T1M0eUxqRXNJRk5XUnlCRmVIQnZjblFnVUd4MVp5MUpiaUF1SUZOV1J5QldaWEp6YVc5dU9pQTJMakF3SUVKMWFXeGtJREFwSUNBdExUNE5Danh6ZG1jZ2RtVnljMmx2YmowaU1TNHhJaUJwWkQwaTVadSs1YkdDWHpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhnOUlqQndlQ0lnZVQwaU1IQjRJZzBLQ1NCMmFXVjNRbTk0UFNJd0lEQWdNeklnTXpJaUlITjBlV3hsUFNKbGJtRmliR1V0WW1GamEyZHliM1Z1WkRwdVpYY2dNQ0F3SURNeUlETXlPeUlnZUcxc09uTndZV05sUFNKd2NtVnpaWEoyWlNJK0RRbzhjM1I1YkdVZ2RIbHdaVDBpZEdWNGRDOWpjM01pUGcwS0NTNXpkREI3Wm1sc2JEb2pOa1EyUkRaRU8zME5Dand2YzNSNWJHVStEUW84Y0dGMGFDQmpiR0Z6Y3owaWMzUXdJaUJrUFNKTk1qVXVNeXcwTGpab0xURTVRelVzTkM0MkxETXVPU3cxTGpjc015NDVMRGRzTUN3eU1TNDBiRFF1T0MwMExqaG9NVFl1Tm1NeExqTXNNQ3d5TGpRdE1TNHhMREl1TkMweUxqUldOME15Tnk0M0xEVXVOeXd5Tmk0MkxEUXVOaXd5TlM0ekxEUXVObm9OQ2drZ1RUSXlMamtzTVRndU9VZzRMaloyTFRJdU5HZ3hOQzR6VmpFNExqbDZJRTB5TWk0NUxERTFMak5JT0M0MmRpMHlMalJvTVRRdU0xWXhOUzR6ZWlCTk1qSXVPU3d4TVM0M1NEZ3VObFk1TGpSb01UUXVNMVl4TVM0M2VpSXZQZzBLUEM5emRtYytEUW89KX0uYy1jb250YWluZXJ7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6MnB4O3BhZGRpbmc6MjVweDt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzO2JveC1zaGFkb3c6MCAxcHggNHB4IDAgcmdiYSgwLDAsMCwuMTQpO3dpZHRoOjU0OXB4fWgzIGE6dmlzaXRlZHtvcGFjaXR5Oi40IWltcG9ydGFudDtjb2xvcjojYmJiIWltcG9ydGFudH0uYy1jb250YWluZXI6aG92ZXJ7dHJhbnNpdGlvbjphbGwgLjVzIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xMTc2NDcpIDAgMXB4IDZweCxyZ2JhKDAsMCwwLC4xMTc2NDcpIDAgMXB4IDRweH0uYy1jb250YWluZXI6YWN0aXZle3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHM7Ym94LXNoYWRvdzpyZ2JhKDAsMCwwLC4xODgyMzUpIDAgMTBweCAzMHB4LHJnYmEoMCwwLDAsLjIyNzQ1MSkgMCA2cHggMTBweH0udHtwYWRkaW5nLWJvdHRvbToxMHB4fS5jLWJvcmRlcnt3aWR0aDo1NTlweDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50O21hcmdpbi10b3A6MTdweDttYXJnaW4tYm90dG9tOjIzcHg7Ym9yZGVyLXRvcDojZWVlIDFweCBzb2xpZDtib3JkZXItYm90dG9tOiNlZWUgMXB4IHNvbGlkfSNoZWxwe3BhZGRpbmctbGVmdDoxMDdweCFpbXBvcnRhbnR9LmMtdG9vbHMgYXtib3JkZXI6MCFpbXBvcnRhbnR9LmYxMyBhOmhvdmVye2JvcmRlcjpub25lIWltcG9ydGFudH0uZjEzIC5tOmhvdmVye2JvcmRlci1ib3R0b206c29saWQgMXB4ICM2NjYhaW1wb3J0YW50fS5nIC5tOmhvdmVye2JvcmRlci1ib3R0b206c29saWQgMXB4ICM2NjYhaW1wb3J0YW50fS5jLXJvdyBhOmhvdmVye2JvcmRlci1ib3R0b206IzQ4NzliZCAxcHggc29saWR9LmMtc3BhbjYgYTpob3Zlcntib3JkZXItYm90dG9tOm5vbmV9Lm9wX3ZkX21pbmluZXdlc3RfbGluazpob3ZlcntvcGFjaXR5Oi44fS5vcC10aWViYS1vZmZpY2FsLWxvb2ttb3JlIGE6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDFweCBzb2xpZH1vcC10aWViYS1nZW5lcmFsLWxvb2ttb3JlIGE6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDFweCBzb2xpZH0uYy10aXAtbWVudSB1bCBsaSBhe2NvbG9yOiM0ODc5YmQhaW1wb3J0YW50fWgzIGE6aG92ZXJ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O29wYWNpdHk6Ljc7dHJhbnNpdGlvbjphbGwgNDUwbXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc31oMyBhe3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9LnNpdGVsaW5rX3N1bW1hcnkgYTpob3Zlcntib3JkZXItYm90dG9tOiM0ODc5YmQgMXB4IHNvbGlkfS5jLWdyYXk6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNjY2IDFweCBzb2xpZH0ub3Bfa2VmdXRhYmxlX2NvbW1pdHRlbDpob3Zlcntib3JkZXItYm90dG9tOiM2NjYgMXB4IHNvbGlkfS5vcC1zb2Z0LWJ0bmJveCBhOmhvdmVye2JvcmRlcjpub25lIWltcG9ydGFudH0ub3Atc29mdC1hcy1wYy1kb3duYnRue21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkO3BhZGRpbmc6M3B4IDE1cHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjE0cHg7dHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7Ym9yZGVyOm5vbmU7bWFyZ2luLXRvcDotM3B4fS5vcC1zb2Z0LWFzLXBjLWRvd25idG46aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojNzA5OGQwO3RyYW5zaXRpb246YWxsIC4zcyBlYXNlO2JveC1zaGFkb3c6MCAycHggNXB4IDAgcmdiYSgwLDAsMCwuMTYpLDAgMnB4IDEwcHggMCByZ2JhKDAsMCwwLC4xMik7YmFja2dyb3VuZC1pbWFnZTpub25lfS5jLWJ0bi1wcmltYXJ5e21hcmdpbi1sZWZ0OjAhaW1wb3J0YW50O2NvbG9yOiNmZmY7YmFja2dyb3VuZC1jb2xvcjojNDg3OWJkO3BhZGRpbmc6M3B4IDE1cHg7Ym9yZGVyLXJhZGl1czoycHg7Zm9udC1zaXplOjE0cHg7dHJhbnNpdGlvbjphbGwgLjNzIGVhc2U7Ym9yZGVyOm5vbmU7bWFyZ2luLXRvcDotM3B4fS5jLWJ0bi1wcmltYXJ5OmhvdmVye2JhY2tncm91bmQtY29sb3I6IzcwOThkMDt0cmFuc2l0aW9uOmFsbCAuM3MgZWFzZTtib3gtc2hhZG93OjAgMnB4IDVweCAwIHJnYmEoMCwwLDAsLjE2KSwwIDJweCAxMHB4IDAgcmdiYSgwLDAsMCwuMTIpO2JhY2tncm91bmQtaW1hZ2U6bm9uZX0ub3Atc29mdC10aXRsZSBhOmhvdmVye2JvcmRlcjpub25lIWltcG9ydGFudDtvcGFjaXR5Oi43O3RyYW5zaXRpb246YWxsIDQ1MG1zIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9Lm9wLXNvZnQtdGl0bGUgYXt0cmFuc2l0aW9uOmFsbCA0NTBtcyBjdWJpYy1iZXppZXIoLjIzLDEsLjMyLDEpIDBzfS5udW1ze3dpZHRoOjU5OHB4fS5zZWFyY2hfdG9vbF9jb250ZXJ7d2lkdGg6NTk4cHh9Lm9wX29mZmljYWxfd2VpYm9fb3RoZXIgYTpob3Zlcnt0ZXh0LWRlY29yYXRpb246bm9uZSFpbXBvcnRhbnR9Lm9wX29mZmljYWxfd2VpYm9faW5mbyBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudH0ub3Bfb2ZmaWNhbF93ZWlib19jb250ZW50IGE6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fS5jLWJ0bntib3JkZXI6bm9uZSFpbXBvcnRhbnR9Lm9wLXp4LW5ldy1tdmlkZW8taW5mbzpob3Zlcntib3JkZXItYm90dG9tOm5vbmV9Lm9wLXp4LW5ldy1tdmlkZW8tcmx0IGE6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDFweCBzb2xpZH0ub3AtengtbmV3LW12aWRlby1vbmVsaW5lIGE6aG92ZXJ7Ym9yZGVyLWJvdHRvbTojNDg3OWJkIDFweCBzb2xpZH0uaGludF9jb21tb25fcmVzdG9we2NvbG9yOiNlYTQzMzU7Zm9udC1zaXplOm1lZGl1bTtmb250LXdlaWdodDo3MDB9Lm9wLXRpZWJhLWdlbmVyYWwtbWFpbi1jb2wgcDpob3Zlcntib3JkZXI6bm9uZSFpbXBvcnRhbnR9LmMtdGV4dHtiYWNrZ3JvdW5kOiM0ODc5YmQ7Y29sb3I6I2ZmZjtib3JkZXI6IzQ4NzliZCAxcHggc29saWQ7cGFkZGluZy10b3A6M3B4O2JvcmRlci1yYWRpdXM6MnB4fS5jLXRleHQ6aG92ZXJ7YmFja2dyb3VuZDowIDA7Y29sb3I6IzQ4NzliZDtib3JkZXI6IzQ4NzliZCAxcHggc29saWQhaW1wb3J0YW50O3BhZGRpbmctdG9wOjNweDtib3JkZXItcmFkaXVzOjJweH0="},{"meta":{"name":"googleCommonStyle.css","url":"http://ibaidu.htt5.com/newcss/googleCommonStyle.css?t=23.276","ts":1576516241637,"mimetype":"text/css"},"source":"ZGl2LnJlc190b3BfYmFubmVyICNmb290LCNwYWdlIC5maywjaGVhZCAuaGVhZEJsb2NrLCNyc190b3BfbmV3LCNjb250ZW50X3JpZ2h0LC5zcmc+dGFibGUsLnNyZz5kaXZbaWQqPSIzMCJdLC5zcmcgLmMtcmVjb21tZW5kLC5zcmcgLmxlZnRCbG9jaywuc3JnIC5oaXRfdG9wX25ldywuc3JnICNmbGQsLnNyZyBkaXYucnJlY29tLWJ0bi1wYXJlbnQsI2NvbnRlbnRfcmlnaHQsI2NlbnRlcl9jb2w+I3RhdywjZGVtb3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fWJvZHlbZ29vZ2xlXXtiYWNrZ3JvdW5kLWNvbG9yOiNmZGZkZmR9I2NudCAjaGR0YlN1bSwjY250PiNhcHBiYXJ7YmFja2dyb3VuZDojZmRmZGZkfSNmb3JtIC5iZHN1Z3t3aWR0aDo3NiV9I2FsYV9pbWdfcmVzdWx0c3tvdmVyZmxvdzpoaWRkZW59YSxhIGVte3RleHQtZGVjb3JhdGlvbjpub25lfSNoZWFkLCNzX3RhYntiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjh9I2hlYWR7Ym9yZGVyLWJvdHRvbTpub25lfSNmb3Jte2JhY2tncm91bmQtY29sb3I6dW5zZXR9I2Zvcm0gLmJkc3VnIGxpe3dpZHRoOmF1dG87Y29sb3I6IzAwMDtmb250OjE1cHggYXJpYWw7bGluZS1oZWlnaHQ6MjZweH0jZm9ybSAuc19pcHRfd3IuYmd7YmFja2dyb3VuZDojZmZmO3dpZHRoOjc2JX0jZm9ybSAuc19idG57YmFja2dyb3VuZDojMjg2NmJkO2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM0ODc5YmR9I2Zvcm0gLnNfYnRuOmhvdmVye2JhY2tncm91bmQ6IzQ4NzliZDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMjg2NmJkfSNzX3RhYiBie2NvbG9yOiMyODY2YmQ7Ym9yZGVyLWJvdHRvbTozcHggIzI4NjZiZCBzb2xpZH0jc190YWJ7Ym9yZGVyLWJvdHRvbTojZTBlMGUwIDFweCBzb2xpZH0jdSBhe3RleHQtZGVjb3JhdGlvbjpub25lfSNjb250YWluZXIgLmhlYWRfbnVtc19jb250X291dGVyIC5zZWFyY2hfdG9vbF9jb250ZXIsI2NvbnRhaW5lciAuaGVhZF9udW1zX2NvbnRfb3V0ZXIgLm51bXN7d2lkdGg6NjMwcHh9I3NlYXJjaCAuc3JnLC5tZWQ+I2lyZXMgLmJrV01nZD4uc3Jne2FuaW1hdGlvbi1uYW1lOmxlZnRfbG9nb1I7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246LjFzOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlfS5ia1dNZ2QgLmpVbWtGYjpob3ZlcnttYXJnaW46MCBhdXRvO2JvcmRlci1sZWZ0OnVuc2V0O3BhZGRpbmc6MCAyMHB4IDE1cHg7bWFyZ2luLWJvdHRvbTo0MHB4fSNycywuYmtXTWdkIC5ne3dpZHRoOjc2MHB4O3BhZGRpbmc6MCAyMHB4IDE1cHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206NDBweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNpemluZzpib3JkZXItYm94O2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKTt0cmFuc2l0aW9uOmFsbCAuMjVzIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9I3JzLC5ia1dNZ2QgLmcgZGl2LnJjIC5ze21heC13aWR0aDp1bnNldH0uYmtXTWdkIC5nOmhvdmVye2JveC1zaGFkb3c6MCAwIDJweCBncmF5O2JhY2tncm91bmQ6I2ZhZmFmYSFpbXBvcnRhbnR9LmJrV01nZCAuZ1t0cGw9c29mdF0gLm9wLXNvZnQtdGl0bGUsLmJrV01nZCAuZyBkaXYucntiYWNrZ3JvdW5kLWNvbG9yOiNmOGY4Zjg7bWFyZ2luOjAgLTIwcHggMTBweDtwYWRkaW5nOjhweCAyMHB4IDVweDtib3JkZXItcmFkaXVzOjVweCA1cHggMCAwfS5zcmcgLmYxMyBhLC5zcmcgLmYxMyBlbSwuc3JnIC5jLXNwYW4xOCBhLC5zcmcgLnN1YkxpbmtfZmFjdG9yeSBhLC5zcmcgLmMtdGFicy1jb250ZW50IGEsLnNyZyAub3Bfb2ZmaWNhbF93ZWlib19jb250ZW50IGEsLnNyZyAub3Bfb2ZmaWNhbF93ZWlib19weiBhLC5zcmcgLm9wX3RpZWJhMl90YWJsaW5rc19jb250YWluZXIgYSwuc3JnIC5vcC10aWViYS1nZW5lcmFsLXJpZ2h0LC5zcmcgLm9wX2RxMDFfdGl0bGUsLnNyZyAub3BfZHEwMV90YWJsZSBhLC5zcmcgLm9wX2RxMDFfbW9yZWxpbmsgYSwuc3JnIC5vcC10aWViYS1nZW5lcmFsLW1haW5wbCBhLC5zcmcgLm9wLXNlLWxpc3Rlbi1yZWNvbW1lbmQsLnNyZyAuYy1vZmZzZXQ+ZGl2IGF7dGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6IzI4NjZiZH0uc3JnIC5mMTMgYTpob3Zlciwuc3JnIC5mMTMgZW06aG92ZXIsLnNyZyAuc3ViTGlua19mYWN0b3J5IGE6aG92ZXIsLnNyZyAuYy10YWJzLWNvbnRlbnQgYTpob3Zlciwuc3JnIC5vcF90aWViYTJfdGFibGlua3NfY29udGFpbmVyIGE6aG92ZXIsLnNyZyAub3AtdGllYmEtZ2VuZXJhbC1yaWdodDpob3Zlciwuc3JnIC5vcF9kcTAxX3RpdGxlOmhvdmVyLC5zcmcgLm9wX2RxMDFfdGFibGUgYTpob3Zlciwuc3JnIC5vcF9kcTAxX21vcmVsaW5rIGE6aG92ZXIsLnNyZyAub3AtdGllYmEtZ2VuZXJhbC1tYWlucGwgYTpob3Zlciwuc3JnIC5vcC1zZS1saXN0ZW4tcmVjb21tZW5kOmhvdmVyLC5zcmcgLmMtb2Zmc2V0PmRpdiBhOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmUhaW1wb3J0YW50fS5zcmcgLmYxMyBhe2NvbG9yOmdyZWVufS5zcmcgLmMtc3BhbjE4LC5zcmcgLmMtc3BhbjI0e3dpZHRoOjEwMCU7bWluLXdpZHRoOnVuc2V0fS5zcmcgLmMtYm9yZGVye3dpZHRoOmF1dG87Ym9yZGVyOm5vbmU7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7Ym94LXNoYWRvdzowIDAgMCB0cmFuc3BhcmVudDstd2Via2l0LWJveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnQ7LW1vei1ib3gtc2hhZG93OjAgMCAwIHRyYW5zcGFyZW50Oy1vLWJveC1zaGFkb3c6MCAwIDAgdHJhbnNwYXJlbnR9LnNyZyAuc2VfY29tX2lycmVndWxhcl9nYWxsZXJ5IHVsIGxpLC5zcmcgLm9wX2ppbmd5YW5fbGlzdCwuYmtXTWdkIC5nIC5vcC1pbWctYWRkcmVzcy1saW5rLXR5cGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLWxlZnQ6MTBweH0uYmtXTWdkIC5nW3RwbD1zb2Z0XSAub3Atc29mdC10aXRsZSBhLC5ia1dNZ2QgLmdbdHBsPXNvZnRdIC5vcC1zb2Z0LXRpdGxlIGEgZW0sLmJrV01nZCAuZyBkaXYucj5hLC5ia1dNZ2QgLmcgYSBoMywuYmtXTWdkIC5nIGRpdi5yPmEgZW17Y29sb3I6IzI4NjZiZDtmb250LXdlaWdodDo3MDB9LnNyZyAub3Atc29mdC10aXRsZSBhOnZpc2l0ZWQsLnNyZyAub3Atc29mdC10aXRsZSBhOnZpc2l0ZWQgZW0sLmJrV01nZCAuZyBkaXYucj5hOnZpc2l0ZWQsLmJrV01nZCAuZyBkaXYucj5hOnZpc2l0ZWQgZW0sLmJrV01nZCAuZyBhOnZpc2l0ZWQgaDN7Y29sb3I6IzYwOX0uc3JnIC5vcC1zb2Z0LXRpdGxlIGEsLmJrV01nZCAuZyBkaXYucj5he3Bvc2l0aW9uOnJlbGF0aXZlfS5zcmcgLm9wLXNvZnQtdGl0bGUgYSBlbSwuYmtXTWdkIC5nIGRpdi5yPmEgZW17dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnNyZyAub3Atc29mdC10aXRsZSBhOmhvdmVyOmFmdGVyLC5ia1dNZ2QgLmcgZGl2LnI+YTpob3ZlcjphZnRlcntsZWZ0OjA7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXN9LnNyZyAub3Atc29mdC10aXRsZSBhOmFmdGVyLC5ia1dNZ2QgLmcgZGl2LnI+YTphZnRlcntjb250ZW50OiIiO3Bvc2l0aW9uOmFic29sdXRlO2JvcmRlci1ib3R0b206MnB4IHNvbGlkICMyODY2YmQ7Ym90dG9tOi0ycHg7bGVmdDoxMDAlO3dpZHRoOjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7dHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zfS5zcmcgLm9wLXNvZnQtdGl0bGUgYSAuYmtXTWdkIC5nIGRpdi5yPmF7cG9zaXRpb246cmVsYXRpdmV9LnNyZyAub3Atc29mdC10aXRsZSBhOnZpc2l0ZWQ6aG92ZXI6YWZ0ZXIsLmJrV01nZCAuZyBkaXYucj5hOnZpc2l0ZWQ6aG92ZXI6YWZ0ZXJ7bGVmdDowO3dpZHRoOjEwMCU7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zOy1tb3otdHJhbnNpdGlvbjp3aWR0aCAzNTBtczt0cmFuc2l0aW9uOndpZHRoIDM1MG1zfS5zcmcgLm9wLXNvZnQtdGl0bGUgYTp2aXNpdGVkOmFmdGVyLC5ia1dNZ2QgLmcgZGl2LnI+YTp2aXNpdGVkOmFmdGVye2NvbnRlbnQ6IiI7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLWJvdHRvbToycHggc29saWQgIzYwOTtib3R0b206LTJweDtsZWZ0OjEwMCU7d2lkdGg6MDstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXMsbGVmdCAzNTBtczstbW96LXRyYW5zaXRpb246d2lkdGggMzUwbXMsbGVmdCAzNTBtczt0cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXN9I3Jze21hcmdpbi10b3A6MDtwYWRkaW5nOjAgMjBweCAxNXB4O2JvcmRlci1yYWRpdXM6NXB4fSNycyAudHR7bWFyZ2luOjAgLTIwcHggNXB4O3BhZGRpbmc6NXB4IDIwcHg7YmFja2dyb3VuZC1jb2xvcjojZjhmOGY4O2JvcmRlci1yYWRpdXM6NXB4IDVweCAwIDB9I3JzIHRhYmxle3dpZHRoOjYzMHB4O3BhZGRpbmc6NXB4IDE1cHh9I3JzIHRhYmxlIHRyIGF7bWFyZ2luLXRvcDo1cHg7bWFyZ2luLWJvdHRvbTo1cHg7Y29sb3I6IzI4NjZiZH0jcnMgdGFibGUgdHIgYTpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfSNwYWdle21pbi13aWR0aDo3MTBweDtoZWlnaHQ6NDBweDtsaW5lLWhlaWdodDo0MHB4O3BhZGRpbmctdG9wOjVweDttYXJnaW46MCAwIDUwcHggODBweH0ub3AtaW1nLWFkZHJlc3MtZGVza3RvcC1jb250e292ZXJmbG93OmhpZGRlbn0jcGFnZSBhLCNwYWdlIHN0cm9uZ3tjb2xvcjojMjg2NmJkO2hlaWdodDphdXRvO2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKX0jcGFnZSAubjpob3ZlciwjcGFnZSBhOmhvdmVyIC5wY3tib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O2JhY2tncm91bmQ6I2Q4ZDhkODtjb2xvcjojMDA1N2RhfSNwYWdlIHN0cm9uZyAucGN7YmFja2dyb3VuZDojNDg3OWJkO2NvbG9yOiNmZmZ9QC13ZWJraXQta2V5ZnJhbWVzIGxlZnRfbG9nb1J7MCV7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSg2NHB4KTtvcGFjaXR5OjB9NTAle29wYWNpdHk6MH0xMDAle29wYWNpdHk6MX19LmJrV01nZD5kaXY6bm90KFtjbGFzc10pe30uYmtXTWdkPmRpdjpub3QoW2NsYXNzXSl7bWFyZ2luLWxlZnQ6MThweDttYXJnaW4tcmlnaHQ6MThweH0uYmtXTWdkIC5nIC5leHAtb3V0bGluZXtkaXNwbGF5Om5vbmV9I21haW4gLm13ICNyaHN7bWFyZ2luLWxlZnQ6MTAyMHB4fSNyZXMgLmcgLnRze21heC13aWR0aDp1bnNldH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjE0MDBweCl7Lm13ICNyaHN7ZGlzcGxheTpub25lfX1jaXRle2ZvbnQtd2VpZ2h0OjQwMH0jcmVzIC5ye2xpbmUtaGVpZ2h0OjEuM30jcmVze3BhZGRpbmc6MH0jcnMsLmJrV01nZCAuZ3ttYXJnaW4tYm90dG9tOjIwcHg7Ym9yZGVyLXJhZGl1czoxMHB4fS5ia1dNZ2QgLmcgZGl2LnJ7Ym9yZGVyLXJhZGl1czoxMHB4IDEwcHggMCAwfS5jMnh6VGIgLmcsLnJ1VGNJZCAuZywuZm0wNklmIC5nLC5jVW5RS2UgLmcsLkhhblFtZiAuZ3t3aWR0aDo3NThweDtwYWRkaW5nLWxlZnQ6MjBweCFpbXBvcnRhbnQ7cGFkZGluZy1yaWdodDoyMHB4IWltcG9ydGFudDtib3gtc2hhZG93OjAgMCAwIDAgIzAwMH1kaXYgLnhmeHg1ZHttYXJnaW4tYm90dG9tOi0xOHB4IWltcG9ydGFudDttYXJnaW4tdG9wOi0yNXB4IWltcG9ydGFudH1kaXYgLnhhcUp6Zi54Znh4NWQgLmtuby1mdHJ7bWFyZ2luLXRvcDoxMHB4IWltcG9ydGFudH1kaXYgLmtuby1mdHIgYXtwb3NpdGlvbjpzdGlja3l9Lm13ICNyZXMgaDMsLm13ICNleHRyYXJlcyBoM3tmb250LXNpemU6MThweH0="},{"meta":{"name":"googleOnePageStyle.css","url":"http://ibaidu.htt5.com/newcss/googleOnePageStyle.css?t=23.276","ts":1576516241639,"mimetype":"text/css"},"source":"LnNyZ3twb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDp1bnNldH0uYmtXTWdkIC5qVW1rRmI6aG92ZXJ7bWFyZ2luLWJvdHRvbTozMHB4O21hcmdpbi1sZWZ0OjIwcHh9LnNyZz4uZywuYmtXTWdkPi5ne3dpZHRoOnVuc2V0O21hcmdpbi1sZWZ0OjIwcHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCAyMHB4IDE1cHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MzBweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNpemluZzpib3JkZXItYm94O2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKX0uc2VhcmNoPiNpcmVzIC5zcmc+Lmd7bWF4LXdpZHRoOnVuc2V0fSNtYWluIC5tdyAjcmhze2Rpc3BsYXk6bm9uZX0jbWFpbiAubXd7bWF4LXdpZHRoOnVuc2V0fSNtYWluICNjbnR7d2lkdGg6NTB2dzttYXJnaW46MCBhdXRvfSNhY2lkX3NyYz5kaXZ7d2lkdGg6dW5zZXQ7bWFyZ2luLWxlZnQ6MjBweDtncmlkLWNvbHVtbi1zdGFydDoxO2dyaWQtY29sdW1uLWVuZDo2fS5ia1dNZ2QgLkNPRW9pZHttYXJnaW46dW5zZXR9LmNvbHt3aWR0aDoxMDAlIWltcG9ydGFudH0uY29sICNjZW50ZXJfY29se3dpZHRoOjEwMCUhaW1wb3J0YW50O21hcmdpbi1sZWZ0OnVuc2V0IWltcG9ydGFudH0jYWNpZF9zcmMsLnNyZ3tkaXNwbGF5OmdyaWQ7bWFyZ2luOjAgYXV0b30jYWNpZF9zcmMgZGl2Omxhc3QtY2hpbGR7Z3JpZC1jb2x1bW4tZW5kOjN9LmpzcnAuYmlnICN0c2Z7d2lkdGg6ODMzcHh9LmpzcnA+Zm9ybXttYXJnaW4tbGVmdDpjYWxjKDUwdncgLSAzOTVweCl9I3RvcF9uYXZ7bWluLXdpZHRoOnVuc2V0fQ=="},{"meta":{"name":"googleTwoPageStyle.css","url":"http://ibaidu.htt5.com/newcss/googleTwoPageStyle.css?t=23.276","ts":1576516241681,"mimetype":"text/css"},"source":"LnNyZ3twb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDp1bnNldH0uYmtXTWdkIC5qVW1rRmI6aG92ZXJ7bWFyZ2luLWJvdHRvbTozMHB4O21hcmdpbi1sZWZ0OjIwcHh9LnNyZz4uZywuYmtXTWdkPi5ne3dpZHRoOnVuc2V0O21hcmdpbi1sZWZ0OjIwcHg7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MCAyMHB4IDE1cHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MzBweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNpemluZzpib3JkZXItYm94O2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKX0uc2VhcmNoPiNpcmVzIC5zcmc+Lmd7bWF4LXdpZHRoOnVuc2V0fSNtYWluIC5tdyAjcmhze2Rpc3BsYXk6bm9uZX0jbWFpbiAubXd7bWF4LXdpZHRoOnVuc2V0fSNtYWluICNjbnR7d2lkdGg6ODB2dzttYXJnaW46MCBhdXRvfSNhY2lkX3NyYz5kaXZ7d2lkdGg6dW5zZXQ7bWFyZ2luLWxlZnQ6MjBweDtncmlkLWNvbHVtbi1zdGFydDoxO2dyaWQtY29sdW1uLWVuZDo2fS5ia1dNZ2QgLkNPRW9pZHttYXJnaW46dW5zZXR9LmNvbHt3aWR0aDoxMDAlIWltcG9ydGFudH0uY29sICNjZW50ZXJfY29se3dpZHRoOjEwMCUhaW1wb3J0YW50O21hcmdpbi1sZWZ0OnVuc2V0IWltcG9ydGFudH0jYWNpZF9zcmN7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczpyZXBlYXQoYXV0by1maXQsbWlubWF4KDUwJSwxZnIpKX0uc3Jne2Rpc3BsYXk6Z3JpZDtncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZml0LG1pbm1heCg1MCUsMWZyKSl9I2FjaWRfc3JjIGRpdjpsYXN0LWNoaWxke2dyaWQtY29sdW1uLWVuZDozfS5qc3JwPmZvcm17bWFyZ2luOjAgYXV0b30="},{"meta":{"name":"bingCommonStyle.css","url":"http://ibaidu.htt5.com/newcss/bingCommonStyle.css?t=23.276","ts":1576516241683,"mimetype":"text/css"},"source":"Ym9keXtiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjV9I2JfY29udGVudCAjYl9yZXN1bHRzPmxpe3dpZHRoOjY3MHB4O3BhZGRpbmc6MTJweCAyMHB4IWltcG9ydGFudDttYXJnaW4tdG9wOjA7bWFyZ2luLWJvdHRvbToyNXB4O2JvcmRlci1yYWRpdXM6NXB4O2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKTstbW96LWJveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpO3RyYW5zaXRpb246YWxsIC4yNXMgY3ViaWMtYmV6aWVyKC4yMywxLC4zMiwxKSAwc30jYl9jb250ZW50ICNiX3Jlc3VsdHMgYSwjYl9jb250ZW50ICNiX3Jlc3VsdHMgaDIgYXtwb3NpdGlvbjpyZWxhdGl2ZX0jYl9jb250ZW50ICNiX3Jlc3VsdHMgaDIgYSwjYl9yZXN1bHRzIGgyIHN0cm9uZ3tmb250LXdlaWdodDo3MDA7Zm9udC1zaXplOm1lZGl1bX0jYl9jb250ZW50ICNiX3Jlc3VsdHM+bGk6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMnB4IGdyYXkhaW1wb3J0YW50O2JhY2tncm91bmQ6I2YzZjNmMyFpbXBvcnRhbnR9I2JfY29udGVudD4jYl9yZXN1bHRzIGxpIGgye2JhY2tncm91bmQtY29sb3I6I2Y4ZjhmODttYXJnaW46LTEycHggLTIwcHggMTBweDtwYWRkaW5nOjhweCAyMHB4IDVweDtib3JkZXItcmFkaXVzOjVweCA1cHggMCAwfWEsYSBzdHJvbmd7dGV4dC1kZWNvcmF0aW9uOm5vbmV9I2JfY29udGVudCAjYl9yZXN1bHRzIGEgc3Ryb25nLCNiX2NvbnRlbnQgI2JfcmVzdWx0cyBoMiBhIHN0cm9uZ3t0ZXh0LWRlY29yYXRpb246bm9uZX0jYl9jb250ZW50ICNiX3Jlc3VsdHMgYTpob3ZlcjphZnRlciwjYl9jb250ZW50ICNiX3Jlc3VsdHMgaDIgYTpob3ZlcjphZnRlcntsZWZ0OjA7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXN9I2JfY29udGVudCAjYl9yZXN1bHRzIGE6YWZ0ZXIsI2JfY29udGVudCAjYl9yZXN1bHRzIGgyIGE6YWZ0ZXJ7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItYm90dG9tOjJweCBzb2xpZCAjMjg2NmJkO2JvdHRvbToxcHg7bGVmdDoxMDAlO3dpZHRoOjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7dHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zfSNiX2NvbnRlbnQgI2JfcmVzdWx0cyBoMiBhOnZpc2l0ZWQsI2JfY29udGVudCAjYl9yZXN1bHRzIGgyIGE6dmlzaXRlZCBzdHJvbmcsI2JfY29udGVudCAjYl9yZXN1bHRzIGgyIGgyIGE6dmlzaXRlZCwjYl9jb250ZW50ICNiX3Jlc3VsdHMgaDIgaDIgYTp2aXNpdGVkIHN0cm9uZ3tjb2xvcjojNjA5fSNiX2NvbnRlbnQgI2JfcmVzdWx0cyBoMiBhOnZpc2l0ZWQ6aG92ZXI6YWZ0ZXIsI2JfY29udGVudCAjYl9yZXN1bHRzIGgyIGgyIGE6dmlzaXRlZDpob3ZlcjphZnRlcntsZWZ0OjA7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXN9I2JfY29udGVudD5vbCNiX2NvbnRleHR7ZGlzcGxheTpub25lfWJvZHkgI2JfaGVhZGVye2JhY2tncm91bmQtY29sb3I6I2Y1ZjVmNX0jYl9jb250ZW50IC5iX3VuZGVyU2VhcmNoYm94e21hcmdpbi10b3A6MTBweH0jYl9oZWFkZXIgLmJfc2NvcGViYXJ7bWFyZ2luOnVuc2V0fS50c2YtcD4ubG9nb2NvbnQsI3Nlai1jb250YWluZXJ7bWFyZ2luLXJpZ2h0OjM1MHB4O3RleHQtYWxpZ246Y2VudGVyfS50c2YtcD4uc2ZpYmJiY3ttYXJnaW4tcmlnaHQ6MzUwcHg7dGV4dC1hbGlnbjpjZW50ZXJ9LmJfc2VhcmNoYm94Rm9ybSAuc2FfdG17dGV4dC1hbGlnbjpsZWZ0fWJvZHkgI2JfaGVhZGVyICNlc3Rfc3dpdGNoe21hcmdpbjowIGF1dG99I2VzdF9jbi5lc3Rfc2VsZWN0ZWR7bWFyZ2luLWxlZnQ6LTQ0LjJlbX0jZXN0X2NuLmVzdF91bnNlbGVjdGVke21hcmdpbi1sZWZ0Oi0zOS4yZW19QG1lZGlhKG1heC13aWR0aDoxMTAwcHgpe2JvZHkgI2JfaGVhZGVyICNlc3Rfc3dpdGNoe3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEuMnJlbSl9fQ=="},{"meta":{"name":"bingOnePageStyle.css","url":"http://ibaidu.htt5.com/newcss/bingOnePageStyle.css?t=23.276","ts":1576516241705,"mimetype":"text/css"},"source":"I2JfY29udGVudCBhc2lkZXtkaXNwbGF5Om5vbmV9I2JfY29udGVudCAjYl9yZXN1bHRze3dpZHRoOjczdnd9Ym9keSAjYl9oZWFkZXJ7d2lkdGg6NzJ2dztiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOjAgYXV0b30jYl9jb250ZW50e21hcmdpbi1sZWZ0Ojh2d30jYl9jb250ZW50ICNiX3Jlc3VsdHM+bGl7d2lkdGg6OTglfQ=="},{"meta":{"name":"bingTwoPageStyle.css","url":"http://ibaidu.htt5.com/newcss/bingTwoPageStyle.css?t=23.276","ts":1576516241707,"mimetype":"text/css"},"source":"I2NvbnRhaW5lciAjY29udGVudF9sZWZ0IC5oaXRfdG9wX25ldywjYl9jb250ZW50IGFzaWRlLCNiX3Jlc3VsdHMgI21mYV9yb290e2Rpc3BsYXk6bm9uZX0jYl9jb250ZW50ICNiX3Jlc3VsdHN7d2lkdGg6NzN2dztncmlkLXRlbXBsYXRlLWNvbHVtbnM6cmVwZWF0KGF1dG8tZml0LG1pbm1heCg1MCUsMWZyKSk7ZGlzcGxheTppbmxpbmUtZ3JpZH0jYl9jb250ZW50ICNiX3Jlc3VsdHM+bGl7d2lkdGg6OTglfSNiX3Jlc3VsdHMgLmJfYWxnbyAuYl9kZWVwIHVse3dpZHRoOjUwJX0jYl9tc2csI2JfcGFne2dyaWQtY29sdW1uLWVuZDozO2dyaWQtY29sdW1uLXN0YXJ0OjE7YmFja2dyb3VuZC1jb2xvcjojZmZmfWJvZHkgI2JfY29udGVudHttYXJnaW4tbGVmdDo4dnd9Ym9keSAjYl9oZWFkZXJ7d2lkdGg6NzJ2dztiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOjAgYXV0b30="},{"meta":{"name":"sogouCommonStyle.css","url":"http://ibaidu.htt5.com/newcss/sogouCommonStyle.css?t=23.276","ts":1576516241731,"mimetype":"text/css"},"source":"Ym9keXtiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjV9I2Jpel90aXBfYm94X3R1aWd1YW5nX2Zsb2F0e2Rpc3BsYXk6bm9uZX0udG9wLWJhciBsaXtsaW5lLWhlaWdodDozNXB4fS50b3AtYmFyIC5zb2dvdS1zZXQtYm94IGF7ZGlzcGxheTppbmxpbmUtYmxvY2t9I21haW4gLnJlc3VsdHN7d2lkdGg6MTAwJSFpbXBvcnRhbnR9I21haW4gLnJlc3VsdHM+ZGl2e3dpZHRoOjEwMCUhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbjtwYWRkaW5nOjEycHggMjBweCFpbXBvcnRhbnQ7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MjVweDtib3JkZXItcmFkaXVzOjVweDtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym94LXNpemluZzpib3JkZXItYm94O2JveC1zaGFkb3c6MCAwIDIwcHggMnB4IHJnYmEoMCwwLDAsLjEpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMjBweCAycHggcmdiYSgwLDAsMCwuMSk7LW1vei1ib3gtc2hhZG93OjAgMCAyMHB4IDJweCByZ2JhKDAsMCwwLC4xKTt0cmFuc2l0aW9uOmFsbCAuMjVzIGN1YmljLWJlemllciguMjMsMSwuMzIsMSkgMHN9LnJlc3VsdHMgLnJiIGEsLnJlc3VsdHMgLnZyd3JhcCBhLC5yZXN1bHRzIC5yYiBoMyBhLC5yZXN1bHRzIC52cndyYXAgaDMgYXtwb3NpdGlvbjpyZWxhdGl2ZX0jbWFpbiAucmVzdWx0cz5kaXY6aG92ZXJ7Ym94LXNoYWRvdzowIDAgMnB4IGdyYXkhaW1wb3J0YW50O2JhY2tncm91bmQ6I2YzZjNmMyFpbXBvcnRhbnR9I21haW4gLnJlc3VsdHM+ZGl2IGgze2JhY2tncm91bmQtY29sb3I6I2Y4ZjhmODttYXJnaW46LTEycHggLTIwcHggMTBweDtwYWRkaW5nOjhweCAyMHB4IDVweDtib3JkZXItcmFkaXVzOjVweCA1cHggMCAwfWEsYSBzdHJvbmd7dGV4dC1kZWNvcmF0aW9uOm5vbmV9I21haW4gLnJlc3VsdHM+ZGl2IGEgc3Ryb25nLCNtYWluIC5yZXN1bHRzPmRpdiBoMyBhIHN0cm9uZ3t0ZXh0LWRlY29yYXRpb246bm9uZX0jbWFpbiAucmVzdWx0cz5kaXYgYTpob3ZlcjphZnRlciwjbWFpbiAucmVzdWx0cz5kaXYgaDMgYTpob3ZlcjphZnRlcntsZWZ0OjA7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXN9I21haW4gLnJlc3VsdHM+ZGl2IGE6YWZ0ZXIsI21haW4gLnJlc3VsdHM+ZGl2IGgzIGE6YWZ0ZXJ7Y29udGVudDoiIjtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItYm90dG9tOjJweCBzb2xpZCAjMjg2NmJkO2JvdHRvbToxcHg7bGVmdDoxMDAlO3dpZHRoOjA7LXdlYmtpdC10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zLGxlZnQgMzUwbXM7dHJhbnNpdGlvbjp3aWR0aCAzNTBtcyxsZWZ0IDM1MG1zfSNtYWluIC5yZXN1bHRzPmRpdiBoMyBhOnZpc2l0ZWQsI21haW4gLnJlc3VsdHM+ZGl2IGgzIGE6dmlzaXRlZCBzdHJvbmcsI21haW4gLnJlc3VsdHM+ZGl2IGgzIGgzIGE6dmlzaXRlZCwjbWFpbiAucmVzdWx0cz5kaXYgaDMgaDMgYTp2aXNpdGVkIHN0cm9uZ3tjb2xvcjojNjA5fSNtYWluIC5yZXN1bHRzPmRpdiBoMyBhOnZpc2l0ZWQ6aG92ZXI6YWZ0ZXIsI21haW4gLnJlc3VsdHM+ZGl2IGgzIGgzIGE6dmlzaXRlZDpob3ZlcjphZnRlcntsZWZ0OjA7d2lkdGg6MTAwJTstd2Via2l0LXRyYW5zaXRpb246d2lkdGggMzUwbXM7LW1vei10cmFuc2l0aW9uOndpZHRoIDM1MG1zO3RyYW5zaXRpb246d2lkdGggMzUwbXN9Ym9keSAjcGFnZWJhcl9jb250YWluZXIgYXtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9"},{"meta":{"name":"sogouOnePageStyle.css","url":"http://ibaidu.htt5.com/newcss/sogouOnePageStyle.css?t=23.276","ts":1576516241708,"mimetype":"text/css"},"source":"LndyYXAgLndyYXBwZXIgLnJpZ2h0e2Rpc3BsYXk6bm9uZX0ud3JhcCAud3JhcHBlcntwYWRkaW5nLWxlZnQ6dW5zZXR9LndyYXA+LndyYXBwZXIgI21haW4sLndyYXA+LmhpbnRCb3gsLndyYXA+LnB7d2lkdGg6NTV2dzttYXgtd2lkdGg6NTV2dzttaW4td2lkdGg6ODUwcHg7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bztmbG9hdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0O3BhZGRpbmctbGVmdDp1bnNldH0jbWFpbiAucmVzdWx0cz5kaXZ7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LndyYXAgLmhlYWRlciAuaGVhZGVyLWJveHttaW4td2lkdGg6ODUwcHg7d2lkdGg6NTB2dzttYXJnaW46MCBhdXRvfS53cmFwIC5oZWFkZXIgLmhlYWRlci1ib3ggYS5sb2dve2xlZnQ6dW5zZXR9Ym9keSAjc2VqLWNvbnRhaW5lcntwYWRkaW5nLWxlZnQ6Y2FsYygxMiUgLSAxMTNweCkhaW1wb3J0YW50fQ=="},{"meta":{"name":"sogouTwoPageStyle.css","url":"http://ibaidu.htt5.com/newcss/sogouTwoPageStyle.css?t=23.276","ts":1576516241741,"mimetype":"text/css"},"source":"LndyYXAgLndyYXBwZXIgLnJpZ2h0e2Rpc3BsYXk6bm9uZX0ud3JhcCAud3JhcHBlcntwYWRkaW5nLWxlZnQ6dW5zZXR9LndyYXA+LndyYXBwZXIgI21haW4sLndyYXA+LmhpbnRCb3gsLndyYXA+LnB7d2lkdGg6NzV2dzttYXgtd2lkdGg6dW5zZXQ7cG9zaXRpb246cmVsYXRpdmU7bWFyZ2luOjAgYXV0bztmbG9hdDp1bnNldDtwYWRkaW5nLXJpZ2h0OnVuc2V0O3BhZGRpbmctbGVmdDp1bnNldH0jbWFpbiAucmVzdWx0c3t3aWR0aDoxMDAlO2Rpc3BsYXk6aW5saW5lLWdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdChhdXRvLWZpdCxtaW5tYXgoNTAlLDFmcikpfSNtYWluIC5yZXN1bHRzPmRpdnttYXJnaW4tbGVmdDo1cHg7bWFyZ2luLXJpZ2h0OjE1cHg7d2lkdGg6dW5zZXQhaW1wb3J0YW50fS53cmFwIC5oZWFkZXIgLmhlYWRlci1ib3h7bWluLXdpZHRoOjg1MHB4O3dpZHRoOjUwdnc7bWFyZ2luOjAgYXV0b30ud3JhcCAuaGVhZGVyIC5oZWFkZXItYm94IGEubG9nb3tsZWZ0OnVuc2V0fWJvZHkgI3Nlai1jb250YWluZXJ7cGFkZGluZy1sZWZ0OmNhbGMoMTIlIC0gMTEzcHgpIWltcG9ydGFudH0="},{"meta":{"name":"HuYanStyle.css","url":"http://ibaidu.htt5.com/newcss/HuYanStyle.css?t=23.276","ts":1576516241743,"mimetype":"text/css"},"source":"Ym9keVtiYWlkdV0sI3dyYXBwZXIgI2hlYWQsI3dyYXBwZXIgI3NfdGFiLGZvcm0uZm0gLnNfaXB0X3dyLmJne2JhY2tncm91bmQtY29sb3I6I2ZmZn0jd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQtb3AsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0LCN3cmFwcGVyICNycywjd3JhcHBlciAjcnMsI3dyYXBwZXIgI2NvbnRlbnRfcmlnaHR7YmFja2dyb3VuZC1jb2xvcjojYWFhO2JvcmRlcjoxcHggZG91YmxlICNhMmQ3ZDQ7Ym9yZGVyLXJhZGl1czowfSN3cmFwcGVyICNjb250ZW50X2xlZnQgLnJlc3VsdC1vcDpob3Zlciwjd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQ6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjojY2NjIWltcG9ydGFudH0jd3JhcHBlciAjY29udGVudF9sZWZ0IC5yZXN1bHQgaDMsI3dyYXBwZXIgI2NvbnRlbnRfbGVmdCAucmVzdWx0LW9wIGgzLCN3cmFwcGVyICNjb250ZW50X2xlZnQgLmMtY29udGFpbmVyIGgzLCN3cmFwcGVyICNycyAudHR7YmFja2dyb3VuZC1jb2xvcjojYmJifS5uYV9jbnQgLm53c19pdG0sLm53c19pdG1iLCNiX2NvbnRlbnQgI2JfcmVzdWx0cyBsaSxib2R5ICNiX2hlYWRlcntiYWNrZ3JvdW5kLWNvbG9yOiNhYWE7Ym9yZGVyOjFweCBkb3VibGUgI2EyZDdkNDtib3JkZXItcmFkaXVzOjB9I2JfY29udGVudCAjYl9yZXN1bHRzIGxpOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2NjYyFpbXBvcnRhbnR9I2JfY29udGVudCAjYl9yZXN1bHRzIGxpIGgye2JhY2tncm91bmQtY29sb3I6I2JiYn1ib2R5W2dvb2dsZV17YmFja2dyb3VuZC1jb2xvcjojZmRmZGZkfS5zcmcgLmcsLmJrV01nZD4uZywuYmtXTWdkIGctaW5uZXItY2FyZCwjcmhzY29sICNyaHMsI3Joc2NvbCAjcmhzIC5nPmRpdiwuYzJ4elRiIC5nLC5ydVRjSWQgLmcsLmZtMDZJZiAuZywuY1VuUUtlIC5nLC5IYW5RbWYgLmd7YmFja2dyb3VuZC1jb2xvcjojYWFhO2JvcmRlcjoxcHggZG91YmxlICNhMmQ3ZDQ7Ym9yZGVyLXJhZGl1czowfS5zcmcgLmc6aG92ZXIsLmJrV01nZD4uZzpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNjY2MhaW1wb3J0YW50fS5ia1dNZ2QgLmcgZGl2LnIsLnNyZyAuZyBoM3tiYWNrZ3JvdW5kLWNvbG9yOiNiYmJ9"}]},{"name":"知网维普免费入口","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*cnki.net*","*cqvip.com*","*210.47.0.21/~root/search*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"data":{},"ts":1574751670231},"enabled":false,"position":12,"file_url":"https://greasyfork.org/scripts/50738-%E7%9F%A5%E7%BD%91%E7%BB%B4%E6%99%AE%E5%85%8D%E8%B4%B9%E5%85%A5%E5%8F%A3/code/%E7%9F%A5%E7%BD%91%E7%BB%B4%E6%99%AE%E5%85%8D%E8%B4%B9%E5%85%A5%E5%8F%A3.user.js","uuid":"725063ee-38ac-4609-8087-f68ceded9474","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KCi8vIEBpbmNsdWRlICAgICAgKmNua2kubmV0KgovLyBAaW5jbHVkZSAgICAgICpjcXZpcC5jb20qCi8vIEBpbmNsdWRlICAgICAgKjIxMC40Ny4wLjIxL35yb290L3NlYXJjaCoKCi8vIEBuYW1lICAgICAgICAg55+l572R57u05pmu5YWN6LS55YWl5Y+jCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RhbXBlcm1vbmtleS5uZXQvCi8vIEB2ZXJzaW9uICAgICAgMS4wMgovLyBAZGVzY3JpcHRpb24gIOaJk+W8gOefpee9keaIluiAhee7tOaZruWumOe9keS8muiHquWKqOi3s+i9rOWIsOKAnOS4iuS4muaYk+S6q+KAneeZu+mZhueql+WPo++8jOWAn+WKqeelnuenmOWKm+mHj+eZu+mZhuWQjuS8muiHquWKqOi3s+i9rOWIsOS4gOS4quaWsOeql+WPo++8jOWcqOaWsOeql+WPo+W3puS4i+inkuaciVvnn6XnvZFd5ZKMW+e7tOaZrl3nmoTlhY3otLnlhaXlj6PvvIzlpb3lpb3kuqvlj5flkKfjgILlpoLpgYfml6Dms5Xoh6rliqjot7PovazlsIbmtY/op4jlmajorr7nva7kuLrigJzlhYHorrjlvLnnqpfigJ0KLy8gQGF1dGhvciAgICAgICBHaW5uCi8vIEBncmFudCAgICAgICAgbm9uZQovLyBAbm90ZSAgICAgICAgIOi3s+i9rOWcsOWdgO+8mmh0dHA6Ly8yMTAuNDcuMC4yMQovLyBAbm90ZSAgICAgICAgIOi0puWPt++8mmNjbGdsaWIKLy8gQG5vdGUgICAgICAgICDlr4bnoIHvvJpjY2xnbGliCi8vIEBub3RlICAgICAgICAgdjEuMDHmm7TmlrDkuIrpg6jkv6Hmga/moYbvvIzngrnlh7vnoa7lrprot7PovazvvIzlj5bmtojkuI3ot7PovawKLy8gQG5vdGUgICAgICAgICB2MS4wMuabtOaWsOWMheWQq2Nua2kubmV077yMY3F2aXAuY29tCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgJ3VzZSBzdHJpY3QnOwogICAgdmFyIHVzZXJuYW1lID0gImNjbGdsaWIiOwogICAgdmFyIHBhc3N3b3JkID0gImNjbGdsaWIiOwogICAgaWYgKGxvY2F0aW9uLmhvc3QgPT0gImNua2kubmV0IiB8fCBsb2NhdGlvbi5ob3N0ID09ICJ3d3cuY25raS5uZXQiIHx8IGxvY2F0aW9uLmhvc3QgPT0gImNxdmlwLmNvbSIgfHwgbG9jYXRpb24uaG9zdCA9PSAid3d3LmNxdmlwLmNvbSIpIHsKICAgICAgICB2YXIgbWVzc2FnZSA9IGNvbmZpcm0oIuivt+iusOS9j+S7peS4i+S/oeaBryIgKyAiXG4iICsgIui0puWPt++8miIgKyB1c2VybmFtZSArICIgICDlr4bnoIHvvJoiICsgcGFzc3dvcmQpOwoKICAgICAgICAvL+eCueWHu+ehruWumui3s+i9rO+8jOWPlua2iOS4jei3s+i9rAogICAgICAgIGlmKG1lc3NhZ2UgPT09IHRydWUpIHsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiaHR0cDovLzIxMC40Ny4wLjIxL35yb290L3VzZXIiOwogICAgICAgIH0KICAgIH1lbHNlIGlmKGxvY2F0aW9uLmhvc3QuaW5kZXhPZigiMjEwLjQ3LjAuMjEiKSA+IC0xKSB7CiAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICAgIGEudHlwZT0iYnV0dG9uIjsKICAgICAgICBhLnZhbHVlPSLnn6XnvZEiOwogICAgICAgIGEuc3R5bGUucG9zaXRpb249ImZpeGVkIjsKICAgICAgICBhLnN0eWxlLmxlZnQ9IjBweCI7CiAgICAgICAgYS5zdHlsZS5ib3R0b209IjE4MHB4IjsKICAgICAgICBhLnN0eWxlLmZvbnRTaXplPSIyMHB4IjsKICAgICAgICBhLnN0eWxlLnRleHREZWNvcmF0aW9uPSJub25lIjsKICAgICAgICBhLnN0eWxlLnpJbmRleD05OTk7CiAgICAgICAgYS5zdHlsZS5kaXNwbGF5PSJub25lIjsKICAgICAgICBhLnN0eWxlLmJhY2tncm91bmRDb2xvcj0icmVkIjsKICAgICAgICBhLnN0eWxlLmNvbG9yPSJ3aGl0ZSI7CiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYm9keSIpLmFwcGVuZENoaWxkKGEpOwogICAgICAgIGEuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgYS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwOi8vMjEwLjQ3LjAuMjEvaHR0cC9jbmtpLm5ldC93d3cvODAvJyk7CiAgICAgICAgfSk7CgogICAgICAgIHZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsKICAgICAgICBiLnR5cGU9ImJ1dHRvbiI7CiAgICAgICAgYi52YWx1ZT0i57u05pmuIjsKICAgICAgICBiLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCI7CiAgICAgICAgYi5zdHlsZS5sZWZ0PSIwcHgiOwogICAgICAgIGIuc3R5bGUuYm90dG9tPSIxNTBweCI7CiAgICAgICAgYi5zdHlsZS5mb250U2l6ZT0iMjBweCI7CiAgICAgICAgYi5zdHlsZS50ZXh0RGVjb3JhdGlvbj0ibm9uZSI7CiAgICAgICAgYi5zdHlsZS56SW5kZXg9OTk5OwogICAgICAgIGIuc3R5bGUuZGlzcGxheT0ibm9uZSI7CiAgICAgICAgYi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InJlZCI7CiAgICAgICAgYi5zdHlsZS5jb2xvcj0id2hpdGUiOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImJvZHkiKS5hcHBlbmRDaGlsZChiKTsKICAgICAgICBiLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIGIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBmdW5jdGlvbigpewogICAgICAgICAgICB3aW5kb3cub3BlbignaHR0cDovLzIxMC40Ny4wLjIxL2h0dHAvY3F2aXAuY29tL2xpYi84MC8nKTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyBZb3VyIGNvZGUgaGVyZS4uLgp9KSgpOw=="},{"name":"双栏显示搜索结果","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*://www.baidu.com/*","*://www.sogou.com/*","*://www.so.com/*","*://www.google.*/*","*://*.bing.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":["/(^[^:\\/#\\?]*:\\/\\/([^#\\?\\/]*\\.)?www\\.baidu\\.com(:[0-9]{1,5})?\\/.*$)/","/(^[^:\\/#\\?]*:\\/\\/([^#\\?\\/]*\\.)?www\\.bing\\.com(:[0-9]{1,5})?\\/.*$)/"],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":[]}},"storage":{"data":{},"ts":1574751670232},"enabled":false,"position":13,"file_url":"https://greasyfork.org/scripts/27825-%E5%8F%8C%E6%A0%8F%E6%98%BE%E7%A4%BA%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C/code/%E5%8F%8C%E6%A0%8F%E6%98%BE%E7%A4%BA%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C.user.js","uuid":"3de53579-d4d0-40bb-9396-a015894be0ac","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgIOWPjOagj+aYvuekuuaQnOe0oue7k+aenAovLyBAbmFtZXNwYWNlICAgbm9uZQovLyBAZGVzY3JpcHRpb24g5Y+M5qCP5pi+56S6YmFpZHUsIHNvZ291LCBzbywgZ29vZ2xlLCBiaW5n55qE5pCc57Si57uT5p6cCi8vIEB2ZXJzaW9uICAgICAxLjkuOAovLyBAaW5jbHVkZSAgICAgKjovL3d3dy5iYWlkdS5jb20vKgovLyBAaW5jbHVkZSAgICAgKjovL3d3dy5zb2dvdS5jb20vKgovLyBAaW5jbHVkZSAgICAgKjovL3d3dy5zby5jb20vKgovLyBAaW5jbHVkZSAgICAgKjovL3d3dy5nb29nbGUuKi8qCi8vIEBpbmNsdWRlICAgICAqOi8vKi5iaW5nLmNvbS8qCi8vIEBncmFudCAgICAgICBub25lCi8vIEBydW4tYXQgICAgICBkb2N1bWVudC1zdGFydAovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAoKSB7CiAgICAndXNlIHN0cmljdCc7CiAgICB2YXIgZG9tVVJMID0gZG9jdW1lbnQuVVJMOwogICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogICAgaWYgKGRvbVVSTC5pbmRleE9mKCdiYWlkdS5jb20nKSAhPT0gLSAxKSB7CiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnI2NvbnRlbnRfcmlnaHR7ZGlzcGxheTpub25lfS5jb250YWluZXJfbHt3aWR0aDo5OXZ3ICFpbXBvcnRhbnR9I2NvbnRlbnRfbGVmdHt3aWR0aDo5MHZ3ICFpbXBvcnRhbnQ7ZGlzcGxheTogZmxleDtmbGV4LXdyYXA6IHdyYXB9LmMtY29udGFpbmVye3dpZHRoOjQ3JTttYXJnaW4tcmlnaHQ6MjVweDt9I3JzX3RvcF9uZXd7d2lkdGg6MTAwJSAhaW1wb3J0YW50fSc7CiAgICB9CiAgICBpZiAoZG9tVVJMLmluZGV4T2YoJ3NvZ291LmNvbScpICE9PSAtIDEpIHsKICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcjcmlnaHR7ZGlzcGxheTpub25lfSNtYWluLC5yZXN1bHRze21pbi13aWR0aDo5MHZ3ICFpbXBvcnRhbnQ7bWF4LXdpZHRoOjkwdncgIWltcG9ydGFudDtwYWRkaW5nLXJpZ2h0OjAgIWltcG9ydGFudDtkaXNwbGF5OiBmbGV4O2ZsZXgtd3JhcDogd3JhcH0ucmVzdWx0cz5kaXZ7d2lkdGg6NDclICFpbXBvcnRhbnQ7bWFyZ2luLXJpZ2h0OjI1cHg7fS5iaW5nLXNuYnt3aWR0aDoxMDAlfSc7CiAgICB9CiAgICBpZiAoZG9tVVJMLmluZGV4T2YoJ3NvLmNvbScpICE9PSAtIDEpIHsKICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcjc2lkZXtkaXNwbGF5Om5vbmV9I21haW4sLnJlc3VsdHt3aWR0aDo5MHZ3ICFpbXBvcnRhbnR9LnJlc3VsdHtkaXNwbGF5OiBmbGV4O2ZsZXgtd3JhcDogd3JhcH0ucmVzLWxpc3R7d2lkdGg6NDclO21hcmdpbi1yaWdodDoyNXB4O30nCiAgICB9CiAgICBpZiAoZG9tVVJMLmluZGV4T2YoJ2dvb2dsZScpICE9PSAtIDEpIHsKICAgICAgICBlbGVtZW50LmlubmVySFRNTCA9ICcjcmhzY29sLC5yaHNjb2x7ZGlzcGxheTpub25lICFpbXBvcnRhbnQ7fSNjbnQgI2NlbnRlcl9jb2x7d2lkdGg6IDkwdncgIWltcG9ydGFudDt9I1RFUEQwYntmbG9hdDogbm9uZSAhaW1wb3J0YW50OyBtYXJnaW4tYm90dG9tOiAwICFpbXBvcnRhbnR9LnNyZywuYmtXTWdke2Rpc3BsYXk6IGZsZXg7ZmxleC13cmFwOiB3cmFwfS5nLGctc2VjdGlvbi13aXRoLWhlYWRlciwueEVSb2Jke3dpZHRoOiA0NyUgIWltcG9ydGFudDt9Lm1SMmdPZHt3aWR0aDo5NSV9LkNPRW9pZHttYXJnaW46IC00cHggMCAhaW1wb3J0YW50O30uazJPZW9kLmVTcTNDe3JpZ2h0OjE4cHggIWltcG9ydGFudDt9Lmc+ZGl2LC5nPmctc2VjdGlvbi13aXRoLWhlYWRlcnt3aWR0aDo5NSU7fS5QMXVzYmN7ZGlzcGxheTpub25lICFpbXBvcnRhbnR9I3R3LWNvbnRhaW5lciwjdHctY29udGFpbmVyIH4gLmRpOGcze3dpZHRoOjkwJX0jYnJzIC5tZWR7d2lkdGg6MjAwcHh9I2NudCAjZm9vdHt3aWR0aDoxcHggIWltcG9ydGFudH0udmtfY3tib3JkZXI6IDBweCBzb2xpZCAjZGZlMWU1ICFpbXBvcnRhbnQ7fScKICAgIH0KICAgIGlmIChkb21VUkwuaW5kZXhPZignYmluZy5jb20nKSAhPT0gLSAxKSB7CiAgICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSAnI2JfY29udGV4dHtkaXNwbGF5Om5vbmV9I2JfY29udGVudHtwYWRkaW5nOiA0MXB4IDEwMHB4IDIwcHg7fSNiX3Jlc3VsdHN7d2lkdGg6MTAwJTtkaXNwbGF5OiBmbGV4O2ZsZXgtd3JhcDogd3JhcH0jYl9yZXN1bHRzPmxpe3dpZHRoOjQ3JTt9LmJfcGFnLC5iX2Fuc3t3aWR0aDoxMDAlICFpbXBvcnRhbnR9I2JfcmVzdWx0cz4uYl9hbGdve3BhZGRpbmc6IDIwcHh9I2JfcmVzdWx0cz5saTpmaXJzdC1jaGlsZHtwYWRkaW5nLXRvcDoyMHB4fSNiX3Jlc3VsdHM+LmJfcGFne3BhZGRpbmc6IDIwcHggMH0nCiAgICB9CiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7Cn0pICgpOwo="},{"name":"再见了百家号搜索结果","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["http://www.baidu.com/*","https://www.baidu.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-end","orig_noframes":null}},"storage":{"data":{},"ts":1574751670233},"enabled":false,"position":14,"file_url":"https://greasyfork.org/scripts/41037-%E5%86%8D%E8%A7%81%E4%BA%86%E7%99%BE%E5%AE%B6%E5%8F%B7%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C/code/%E5%86%8D%E8%A7%81%E4%BA%86%E7%99%BE%E5%AE%B6%E5%8F%B7%E6%90%9C%E7%B4%A2%E7%BB%93%E6%9E%9C.user.js","uuid":"0e38f1eb-2145-4ade-9cb3-732b79240073","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICDlho3op4Hkuobnmb7lrrblj7fmkJzntKLnu5PmnpwKLy8gQG5hbWVzcGFjZSAgICBodHRwOi8vdGFtcGVybW9ua2V5Lm5ldC8KLy8gQGhvbWUtdXJsICAgICBodHRwczovL2dyZWFzeWZvcmsub3JnL3poLUNOL3NjcmlwdHMvNDEwMzcKLy8gQGRlc2NyaXB0aW9uICDliKDpmaTnmb7luqbmkJzntKLnu5PmnpznmoTnmb7lrrblj7fnmoTnu5PmnpwKLy8gQHZlcnNpb24gICAgICAxLjIuMwovLyBAaW5jbHVkZSAgICAgIGh0dHA6Ly93d3cuYmFpZHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICBodHRwczovL3d3dy5iYWlkdS5jb20vKgovLyBAYXV0aG9yICAgICAgIOS+neeEtuiPnOWIgAovLyBAZ3JhbnQgICAgICAgIG5vbmUKLy8gQHJ1bi1hdCAgICAgICBkb2N1bWVudC1lbmQKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbiAoKSB7CiAgU3RyaW5nLnByb3RvdHlwZS5lbmRXaXRoID0gZnVuY3Rpb24gKHMpIHsKICAgIGlmIChzID09IG51bGwgfHwgcyA9PT0gIiIgfHwgdGhpcy5sZW5ndGggPT09IDAgfHwgcy5sZW5ndGggPiB0aGlzLmxlbmd0aCkKICAgICAgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRoaXMuc3Vic3RyaW5nKHRoaXMubGVuZ3RoIC0gcy5sZW5ndGgpID09PSBzOwogIH07CgogIFN0cmluZy5wcm90b3R5cGUuc3RhcnRXaXRoID0gZnVuY3Rpb24gKHMpIHsKICAgIGlmIChzID09IG51bGwgfHwgcyA9PT0gIiIgfHwgdGhpcy5sZW5ndGggPT09IDAgfHwgcy5sZW5ndGggPiB0aGlzLmxlbmd0aCkKICAgICAgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRoaXMuc3Vic3RyKDAsIHMubGVuZ3RoKSA9PT0gczsKICB9OwoKICB2YXIgSU5TID0gJyAtYmFpamlhaGFvJzsKCiAgZnVuY3Rpb24gYWRkSU5TKCkgewogICAgdmFyIGt3ID0gJCgiI2t3IikudmFsKCk7CiAgICBpZiAoa3cudHJpbSgpLmxlbmd0aCA+IDAgJiYgIWt3LmVuZFdpdGgoSU5TKSkgewogICAgICAkKCIja3ciKS52YWwoa3cgKyBJTlMpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVtb3ZlSU5TKCkgewogICAgdmFyIGt3ID0gJCgiI2t3IikudmFsKCk7CiAgICBpZiAoa3cuZW5kV2l0aChJTlMpKSB7CiAgICAgICQoIiNrdyIpLnZhbChrdy5zdWJzdHIoMCwga3cubGVuZ3RoIC0gSU5TLmxlbmd0aCkpOwogICAgfQogIH0KCiAgdmFyIHNVcmwgPSAnL3M/JzsKCiAgZnVuY3Rpb24gZW5jb2RlKHBhcmFtLCB1cmwpIHsKICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQocGFyYW0pOwogIH0KCiAgZnVuY3Rpb24gZGVjb2RlKHBhcmFtLCB1cmwpIHsKICAgIGlmIChwYXJhbS5pbmRleE9mKCcrJykpIHsKICAgICAgcGFyYW0gPSBwYXJhbS5yZXBsYWNlKCcrJywgJyUyMCcpOwogICAgfQogICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChwYXJhbSk7CiAgfQoKICAvKioKICAgKiDlpITnkIZ1cmzvvIzlop7liqDmiJbogIXliKDpmaRJTlMKICAgKiBAcGFyYW0gdXJsIOWOn+Wni3VybAogICAqIEBwYXJhbSB0b1JlbW92ZSDmmK/lkKbmmK/np7vpmaTvvIx1bmRlZmluZWTooajnpLrmt7vliqAKICAgKiBAcmV0dXJucyB7Kn0KICAgKi8KICBmdW5jdGlvbiBwcm9jZXNzVXJsSU5TKHVybCwgdG9SZW1vdmUpIHsKICAgIHZhciBvcmlnaW5VcmwgPSB1cmw7CiAgICB2YXIgdG9BZGQgPSAhdG9SZW1vdmU7CiAgICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZihzVXJsKTsKICAgIGlmIChpbmRleCA9PT0gLTEpIHsKICAgICAgcmV0dXJuIHVybDsKICAgIH0KICAgIHZhciBwcmVmaXggPSB1cmwuc3Vic3RyKDAsIGluZGV4ICsgc1VybC5sZW5ndGgpOwogICAgdXJsID0gdXJsLnN1YnN0cihpbmRleCArIHNVcmwubGVuZ3RoKTsKICAgIHZhciBwYXJhbXMgPSB1cmwuc3BsaXQoJyYnKTsKICAgIHZhciBuZXdVcmxBcnIgPSBbXTsKCiAgICAkLmVhY2gocGFyYW1zLCBmdW5jdGlvbiAoaSwgaXRlbSkgewogICAgICB2YXIga3YgPSBpdGVtLnNwbGl0KCc9Jyk7CiAgICAgIGlmIChrdlswXSA9PT0gJ3dkJyB8fCBrdlswXSA9PT0gJ3dvcmQnKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciB2ID0gZGVjb2RlKGt2WzFdLCBvcmlnaW5VcmwpOwogICAgICAgICAgaWYgKHRvQWRkKSB7CiAgICAgICAgICAgIC8vIOWinuWKoElOUwogICAgICAgICAgICBpZiAoIXYuZW5kV2l0aChJTlMpKSB7CiAgICAgICAgICAgICAgdiA9IHYgKyBJTlM7CiAgICAgICAgICAgICAga3ZbMV0gPSBlbmNvZGUodiwgb3JpZ2luVXJsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g56e76ZmkSU5T77yM55So5LqO6I635Y+W55u45YWz5pCc57SiCiAgICAgICAgICAgIGlmICh2LmVuZFdpdGgoSU5TKSkgewogICAgICAgICAgICAgIHYgPSB2LnN1YnN0cigwLCB2Lmxlbmd0aCAtIElOUy5sZW5ndGgpOwogICAgICAgICAgICAgIGt2WzFdID0gZW5jb2RlKHYsIG9yaWdpblVybCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIGl0ZW0pOwogICAgICAgIH0KICAgICAgfQogICAgICBuZXdVcmxBcnIucHVzaChrdlswXSArICc9JyArIGt2WzFdKTsKICAgIH0pOwogICAgcmV0dXJuIHByZWZpeCArIG5ld1VybEFyci5qb2luKCcmJyk7CiAgfQoKICBmdW5jdGlvbiBkZWxlZ2F0ZUFqYXgoKSB7CiAgICB2YXIgYWpheCA9ICQuYWpheDsKICAgICQuYWpheCA9IGZ1bmN0aW9uIChzZXR0aW5ncykgewogICAgICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3MudXJsICYmIHNldHRpbmdzLnVybC5zdGFydFdpdGgoJy9zPycpKSB7CiAgICAgICAgc2V0dGluZ3MudXJsID0gcHJvY2Vzc1VybElOUyhzZXR0aW5ncy51cmwpOwogICAgICB9CiAgICAgIHJldHVybiBhamF4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0KCiAgZGVsZWdhdGVBamF4KCk7CiAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lOwogIC8vIOenu+mZpOeZvuWutuWPt+eahOaQnOe0oue7k+aenAogIGlmIChob3N0bmFtZSA9PT0gJ3d3dy5iYWlkdS5jb20nKSB7CiAgICBwcm9jZXNzKCk7CiAgICB0YWJzVXJsUHJvY2VzcygpOwogICAgLy8g55u45YWz5pCc57Si5pu/5o2iCiAgICByc1Byb2Nlc3MoKTsKICAgIC8vZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NU3VidHJlZU1vZGlmaWVkIiwgcHJvY2Vzcyk7CiAgICAvL2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIHRhYnNVcmxwcm9jZXNzKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTVN1YnRyZWVNb2RpZmllZCIsIHJzUHJvY2Vzcyk7CiAgfQoKICBmdW5jdGlvbiB0YWJzVXJsUHJvY2VzcygpIHsKICAgICQoZG9jdW1lbnQpLm9mZignY2xpY2snKS5vbignY2xpY2snLCAnYScsIGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5ocmVmID0gcHJvY2Vzc1VybElOUyh0aGlzLmhyZWYpOwogICAgfSk7CiAgfQoKICB2YXIgcnNIYW5kbGVyOwogIGZ1bmN0aW9uIHJzUHJvY2VzcyhldmVudCkgewogICAgaWYgKHJzSGFuZGxlcikgewogICAgICBjbGVhclRpbWVvdXQocnNIYW5kbGVyKTsKICAgIH0KICAgIC8vIOmBv+WFjemAkuW9kgogICAgaWYgKGV2ZW50ICYmIGV2ZW50LnRhcmdldCA9PT0gJCgiI3JzIilbMF0pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCcvcz8nKSA9PT0gLTEpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHJzSGFuZGxlciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBpZiAoJC50cmltKCQoIiNrdyIpLnZhbCgpKS5sZW5ndGggPiAwICYmICQoIiNycyIpLmxlbmd0aCA+IDApIHsKICAgICAgICB2YXIgb3JpZ2luVXJsID0gcHJvY2Vzc1VybElOUyh3aW5kb3cubG9jYXRpb24uaHJlZiwgdHJ1ZSk7CiAgICAgICAgJC5nZXQob3JpZ2luVXJsLCBmdW5jdGlvbiAoaHRtbCkgewogICAgICAgICAgdmFyICRycyA9ICQoaHRtbCkuZmluZCgnI3JzJyk7CiAgICAgICAgICBpZiAoJHJzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgJHJzLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uIChpLCBpdGVtKSB7CiAgICAgICAgICAgICAgdmFyIGhyZWYgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTsKICAgICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2hyZWYnLCBwcm9jZXNzVXJsSU5TKGhyZWYpKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICQoIiNycyIpLmh0bWwoJHJzLmh0bWwoKSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcnNIYW5kbGVyID0gdW5kZWZpbmVkOwogICAgfSwgNTAwKTsKICB9CgogIGZ1bmN0aW9uIHByb2Nlc3MoKSB7CiAgICAkKCIjZm9ybSIpLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoKSB7CiAgICAgIGFkZElOUygpOwogICAgfSk7CiAgICAkKCIjc3UiKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIGFkZElOUygpOwogICAgfSk7CgogICAgJCgiI2t3Iikub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkgewogICAgICByZW1vdmVJTlMoKTsKICAgIH0pLm9uKCdibHVyJywgZnVuY3Rpb24gKCkgewogICAgICBhZGRJTlMoKTsKICAgIH0pOwogIH0KfSkoKTs="},{"name":"[timerd][囧妈] 腾讯、爱奇艺、芒果、优酷、乐视、B站、土豆、搜狐、1905等 VIP视频免费看(2020.02.01)更新","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":["*://v.youku.com/v_*","*://m.youku.com/v*","*://m.youku.com/a*","*://*.iqiyi.com/v_*","*://*.iqiyi.com/w_*","*://*.iqiyi.com/a_*","*://*.iqiyi.com/dianying/*","*://*.le.com/ptv/vplay/*","*://*v.qq.com/x/cover/*","*://*v.qq.com/x/page/*","*://*v.qq.com/play*","*://*v.qq.com/cover*","*://*.tudou.com/listplay/*","*://*.tudou.com/albumplay/*","*://*.tudou.com/programs/view/*","*://*.tudou.com/v*","*://*.mgtv.com/b/*","*://film.sohu.com/album/*","*://tv.sohu.com/*","*://*.bilibili.com/video/*","*://*.bilibili.com/anime/*","*://*.bilibili.com/bangumi/play/*","*://*.pptv.com/show/*","*://*.wasu.cn/Play/show*","*://*.1905.com/play/*","*://chinese-elements.com/*"],"merge_includes":true,"use_matches":[],"orig_matches":[],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1581006291462,"data":{}},"enabled":false,"position":15,"file_url":"https://greasyfork.org/scripts/394492-timerd-%E5%9B%A7%E5%A6%88-%E8%85%BE%E8%AE%AF-%E7%88%B1%E5%A5%87%E8%89%BA-%E8%8A%92%E6%9E%9C-%E4%BC%98%E9%85%B7-%E4%B9%90%E8%A7%86-b%E7%AB%99-%E5%9C%9F%E8%B1%86-%E6%90%9C%E7%8B%90-1905%E7%AD%89-vip%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%9C%8B-2020-02-01-%E6%9B%B4%E6%96%B0/code/%5Btimerd%5D%5B%E5%9B%A7%E5%A6%88%5D%20%E8%85%BE%E8%AE%AF%E3%80%81%E7%88%B1%E5%A5%87%E8%89%BA%E3%80%81%E8%8A%92%E6%9E%9C%E3%80%81%E4%BC%98%E9%85%B7%E3%80%81%E4%B9%90%E8%A7%86%E3%80%81B%E7%AB%99%E3%80%81%E5%9C%9F%E8%B1%86%E3%80%81%E6%90%9C%E7%8B%90%E3%80%811905%E7%AD%89%20VIP%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%9C%8B(20200201)%E6%9B%B4%E6%96%B0.user.js","uuid":"92134164-1a62-434c-9e49-f9c389422867","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBbdGltZXJkXVvlm6flpohdIOiFvuiur+OAgeeIseWlh+iJuuOAgeiKkuaenOOAgeS8mOmFt+OAgeS5kOinhuOAgULnq5njgIHlnJ/osYbjgIHmkJzni5DjgIExOTA1562JIFZJUOinhumikeWFjei0ueeciygyMDIwLjAyLjAxKeabtOaWsAovLyBAbmFtZTplbiAgICAgIFt0aW1lcmRdW0xvc3QgaW4gUnVzc2lhXSBWSVAgVmlkZW8gdGVuY2VudCwgaXFpeWksIG1ndHYsIHlvdWt1LCBCbGliaWxpLCBzb2h1LCB0dWRvdSAoMjAyMC4wMi4wMSkKLy8gQG5hbWU6emgtQ04gICBbdGltZXJkXVvlm6flpohd6IW+6K6v44CB54ix5aWH6Im644CB6IqS5p6c44CB5LyY6YW344CB5LmQ6KeG44CBQuermeOAgeWcn+ixhuOAgeaQnOeLkOOAgTE5MDXnrYkgVklQ6KeG6aKR5YWN6LS555yLKDIwMjAuMDIuMDEp5pu05pawCi8vIEBuYW1lc3BhY2UgICAgaHR0cDovL3RpbWVyZC5tbAovLyBAdmVyc2lvbiAgICAgIDIwMjAuMDIuMDEKLy8gQGRlc2NyaXB0aW9uICDohb7orq/jgIHniLHlpYfoibrjgIHoipLmnpzjgIHkvJjphbfjgIHkuZDop4bjgIFC56uZ44CB5Zyf6LGG44CB5pCc54uQ44CBMTkwNeetieWQhOWkp+inhumikee9keermeinhumikeino+aekOacjeWKoSjmnInosLfmrYxhZHMpCi8vIEBkZXNjcmlwdGlvbjplbiAgdGVuY2VudCwgaXFpeWksIG1ndHYsIHlvdWt1LCBsZXR2LCBCaWxpYmlsaSwgc29odSwgdHVkb3UsIDE5MDUoQ29udGFpbmluZyBnb29nbGUgYWRzKQovLyBAZGVzY3JpcHRpb246emgtQ04gIOiFvuiur+OAgeeIseWlh+iJuuOAgeiKkuaenOOAgeS8mOmFt+OAgeS5kOinhuOAgULnq5njgIHlnJ/osYbjgIHmkJzni5DjgIHmmrTpo47jgIExOTA1562J5ZCE5aSn6KeG6aKR572R56uZ6KeG6aKR6Kej5p6Q5pyN5YqhKOacieiwt+atjGFkcykKLy8gQGF1dGhvciAgICAgICB0aW1lcmQKLy8gQGluY2x1ZGUgICAgICAqOi8vdi55b3VrdS5jb20vdl8qCi8vIEBpbmNsdWRlICAgICAgKjovL20ueW91a3UuY29tL3YqCi8vIEBpbmNsdWRlICAgICAgKjovL20ueW91a3UuY29tL2EqCi8vIEBpbmNsdWRlICAgICAgKjovLyouaXFpeWkuY29tL3ZfKgovLyBAaW5jbHVkZSAgICAgICo6Ly8qLmlxaXlpLmNvbS93XyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKi5pcWl5aS5jb20vYV8qCi8vIEBpbmNsdWRlICAgICAgKjovLyouaXFpeWkuY29tL2RpYW55aW5nLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKi5sZS5jb20vcHR2L3ZwbGF5LyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKnYucXEuY29tL3gvY292ZXIvKgovLyBAaW5jbHVkZSAgICAgICo6Ly8qdi5xcS5jb20veC9wYWdlLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKnYucXEuY29tL3BsYXkqCi8vIEBpbmNsdWRlICAgICAgKjovLyp2LnFxLmNvbS9jb3ZlcioKLy8gQGluY2x1ZGUgICAgICAqOi8vKi50dWRvdS5jb20vbGlzdHBsYXkvKgovLyBAaW5jbHVkZSAgICAgICo6Ly8qLnR1ZG91LmNvbS9hbGJ1bXBsYXkvKgovLyBAaW5jbHVkZSAgICAgICo6Ly8qLnR1ZG91LmNvbS9wcm9ncmFtcy92aWV3LyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKi50dWRvdS5jb20vdioKLy8gQGluY2x1ZGUgICAgICAqOi8vKi5tZ3R2LmNvbS9iLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vZmlsbS5zb2h1LmNvbS9hbGJ1bS8qCi8vIEBpbmNsdWRlICAgICAgKjovL3R2LnNvaHUuY29tLyoKLy8gQGluY2x1ZGUgICAgICAqOi8vKi5iaWxpYmlsaS5jb20vdmlkZW8vKgovLyBAaW5jbHVkZSAgICAgICo6Ly8qLmJpbGliaWxpLmNvbS9hbmltZS8qCi8vIEBpbmNsdWRlICAgICAgKjovLyouYmlsaWJpbGkuY29tL2Jhbmd1bWkvcGxheS8qCi8vIEBpbmNsdWRlICAgICAgKjovLyoucHB0di5jb20vc2hvdy8qCi8vIEBpbmNsdWRlICAgICAgKjovLyoud2FzdS5jbi9QbGF5L3Nob3cqCi8vIEBpbmNsdWRlICAgICAgKjovLyouMTkwNS5jb20vcGxheS8qCi8vIEBpbmNsdWRlICAgICAgKjovL2NoaW5lc2UtZWxlbWVudHMuY29tLyoKLy8gQHJlcXVpcmUgICAgICBodHRwOi8vY2RuLmJvb3Rjc3MuY29tL2pxdWVyeS8xLjEyLjQvanF1ZXJ5Lm1pbi5qcwovLyBAZ3JhbnQgICAgICAgIEdNX29wZW5JblRhYgovLyBAZ3JhbnQgICAgICAgIEdNX3NldFZhbHVlCi8vIEBncmFudCAgICAgICAgR01fZ2V0VmFsdWUKLy8gQGdyYW50ICAgICAgICBHTV94bWxodHRwUmVxdWVzdAovLyBAZ3JhbnQgICAgICAgIEdNX2FkZFN0eWxlCi8vIEBncmFudCAgICAgICAgdW5zYWZlV2luZG93Ci8vIEBncmFudCAgICAgICAgR01fZ2V0UmVzb3VyY2VVUkwKLy8gQGdyYW50ICAgICAgICBHTV9nZXRSZXNvdXJjZVRleHQKLy8gQGxpY2Vuc2UgICAgICBNSVQyLjAKLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKCiAgICAndXNlIHN0cmljdCcKICAgIC8vIERlZmluZSByZWdpb24KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZnVuY3Rpb24gYWRkSW5mcmFzdHJ1Y3R1cmUoKSB7CiAgICAgICAgbGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTsKCiAgICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYAogICAgICAgICNteXdpZGdldCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgYW5pbWF0aW9uOiBteXdpZGdldF9hbmkgMnMgMTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICB9CgogICAgICAgICNteXdpZGdldCBhIHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICBsZWZ0OiAtNzVweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4zczsKICAgICAgICAgICAgcGFkZGluZzogMTVweCAzMHB4IDE1cHggMTVweDsKICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgICAgICAgICBjb2xvcjogd2hpdGUgIWltcG9ydGFudDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICAgICAgICBmb250OiAyMHB4ICJNaWNyb3NvZnQgWWFIZWkiLCBTaW1IZWksIGhlbHZldGljYSwgYXJpYWwsIHZlcmRhbmEsIHRhaG9tYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgbWluLXdpZHRoOiA4MHB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICB9CgoKICAgICAgICAjbXl3aWRnZXQgYTpob3ZlciB7CiAgICAgICAgICAgIGxlZnQ6IC04cHg7CiAgICAgICAgfQoKICAgICAgICAjdnBhcnNlIHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y0NDMzNjsKICAgICAgICB9CgogICAgICAgICNteXBsYXlidXR0b24gewogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgICAgIHJpZ2h0OiAtOHB4OwogICAgICAgICAgICB0b3A6IDE0cHg7CiAgICAgICAgICAgIHdpZHRoOiAwcHg7CiAgICAgICAgICAgIGhlaWdodDogMHB4OwogICAgICAgICAgICBtYXJnaW46IDBweDsKICAgICAgICAgICAgYm9yZGVyLXdpZHRoOiAxNnB4OwogICAgICAgICAgICBib3JkZXItc3R5bGU6IHNvbGlkOwogICAgICAgICAgICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHRyYW5zcGFyZW50IHdoaXRlOwogICAgICAgIH0KCgogICAgICAgIEBrZXlmcmFtZXMgbXl3aWRnZXRfYW5pIHsKICAgICAgICAgICAgMCUgewogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7CiAgICAgICAgICAgICAgICBsZWZ0OiAyMHB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICA1MCUgewogICAgICAgICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoOGRlZyk7CiAgICAgICAgICAgICAgICBsZWZ0OiA1MDBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgMTAwJSB7CiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtMzYwZGVnKTsKICAgICAgICAgICAgICAgIGxlZnQ6IDBweDsKICAgICAgICAgICAgfQogICAgICAgIH1gKSk7CgogICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpOwogICAgfQoKICAgIGZ1bmN0aW9uIHRyaWNrcygpIHsKICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uKGV2ZW50KSB7CiAgICAgICAgICAgIGlmICh+ZXZlbnQub3JpZ2luLmluZGV4T2YoJ2NoaW5lc2UtZWxlbWVudHMuY29tJykpIHsKICAgICAgICAgICAgICAgIHZhciBpbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICQoIiNhc2lkZS1uYXYiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCkKICAgICAgICAgICAgICAgIH0sIDEwMDAgKiAyKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGNvbnN0IGltID0gL2NoaW5lc2UtZWxlbWVudHMuY29tL2k7CiAgICAgICAgaWYgKGltLnRlc3Qoc2VsZi5sb2NhdGlvbi5ocmVmKSkgewogICAgICAgICAgICB2YXIgaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICQoIiNhc2lkZS1uYXYiKS5oaWRlKCk7CiAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBsYXllciIpOwogICAgICAgICAgICAgICAgICAgIGlmIChmcmFtZSAmJiBmcmFtZS5oYXNPd25Qcm9wZXJ0eSgnY29udGVudFdpbmRvdycpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZnJhbWVXaW5kb3cgPSBmcmFtZS5jb250ZW50V2luZG93OwogICAgICAgICAgICAgICAgICAgICAgICBpZnJhbWVXaW5kb3cucG9zdE1lc3NhZ2UoInRyaWNrcyIsICIqIik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgMTAwMCAqIDIpOwogICAgICAgIH0KICAgIH0KCiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGxldCBwbGF5dXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICBsZXQgckFycmF5ID0gcGxheXVybC5zcGxpdCgnPycpOwogICAgbGV0IGNXZWIgPSByQXJyYXlbMF07CiAgICBjb25zdCB2U2l0ZSA9IC9tMTkwNy5jbi9pOwogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy8gTGl0dGxlIHRyaWNrcwogICAgdHJpY2tzKCk7CiAgICBpZiAodlNpdGUudGVzdChjV2ViKSkgewogICAgICAgIHdpbmRvd1siYWxlcnQiXSA9IGZ1bmN0aW9uKGUpIHt9OwogICAgICAgIHJldHVybjsKICAgIH0KICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgLy9hZGQgYSBidXR0b24gdG8gY3VycmVudCB3ZWJzaXRlLgogICAgY29uc3QgdldlYnNpdGVzID0gbmV3IEFycmF5KCk7CiAgICB2V2Vic2l0ZXNbMF0gPSAveW91a3UuY29tL2k7CiAgICB2V2Vic2l0ZXNbMV0gPSAvaXFpeWkuY29tL2k7CiAgICB2V2Vic2l0ZXNbMl0gPSAvbGUuY29tL2k7CiAgICB2V2Vic2l0ZXNbM10gPSAvcXEuY29tL2k7CiAgICB2V2Vic2l0ZXNbNF0gPSAvdHVkb3UuY29tL2k7CiAgICB2V2Vic2l0ZXNbNV0gPSAvbWd0di5jb20vaTsKICAgIHZXZWJzaXRlc1s2XSA9IC9zb2h1LmNvbS9pOwogICAgdldlYnNpdGVzWzddID0gLzE5MDUuY29tL2k7CiAgICB2V2Vic2l0ZXNbOF0gPSAvYmlsaWJpbGkuY29tL2k7CiAgICB2V2Vic2l0ZXNbOV0gPSAvcHB0di5jb20vaTsKICAgIHZXZWJzaXRlc1sxMF0gPSAveWlueXVldGFpLmNvbS9pOwogICAgdldlYnNpdGVzWzExXSA9IC93YXN1LmNuL2k7CiAgICB2V2Vic2l0ZXMuZXZlcnkoKGl0ZW0pID0+IHsKICAgICAgICBpZiAoaXRlbS50ZXN0KGNXZWIpKSB7CiAgICAgICAgICAgIGFkZEluZnJhc3RydWN0dXJlKCk7CiAgICAgICAgICAgIHZhciBqdW1wQnV0dG9uID0gJChgCiAgICAgICAgICAgIDxkaXYgaWQ9Im15d2lkZ2V0IiBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCknIHRhcmdldD0nX2JsYW5rJyBzdHlsZT0iei1pbmRleDo5OTk5OyBwb3NpdGlvbjpmaXhlZDtsZWZ0OjBweDt0b3A6MjgwcHg7Ij4KICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGlkPSJ2cGFyc2UiPuKdgOinhumikeino+aekDxkaXYgaWQ9Im15cGxheWJ1dHRvbiI+PC9kaXY+PC9hPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgYCk7CgogICAgICAgICAgICAkKCJib2R5IikuYXBwZW5kKGp1bXBCdXR0b24pOwoKICAgICAgICAgICAgLy8gYmluZCBvbmNsaWNrIGV2ZW50CiAgICAgICAgICAgICQoIiNteXdpZGdldCIpLmNsaWNrKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgdmFyIG9wZW5VcmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL3RpbWVyZC5tZS9zdGF0aWMvY3YuaHRtbD96d3g9JyArIG9wZW5VcmwpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwoKfSkoKTsK","requires":[{"meta":{"name":"jquery.min.js","url":"http://cdn.bootcss.com/jquery/1.12.4/jquery.min.js","ts":1581006291980,"mimetype":"text/javascript"},"source":"LyohIGpRdWVyeSB2MS4xMi40IHwgKGMpIGpRdWVyeSBGb3VuZGF0aW9uIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCiFmdW5jdGlvbihhLGIpeyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPWEuZG9jdW1lbnQ/YihhLCEwKTpmdW5jdGlvbihhKXtpZighYS5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gYihhKX06YihhKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24oYSxiKXt2YXIgYz1bXSxkPWEuZG9jdW1lbnQsZT1jLnNsaWNlLGY9Yy5jb25jYXQsZz1jLnB1c2gsaD1jLmluZGV4T2YsaT17fSxqPWkudG9TdHJpbmcsaz1pLmhhc093blByb3BlcnR5LGw9e30sbT0iMS4xMi40IixuPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBuLmZuLmluaXQoYSxiKX0sbz0vXltcc1x1RkVGRlx4QTBdK3xbXHNcdUZFRkZceEEwXSskL2cscD0vXi1tcy0vLHE9Ly0oW1xkYS16XSkvZ2kscj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O24uZm49bi5wcm90b3R5cGU9e2pxdWVyeTptLGNvbnN0cnVjdG9yOm4sc2VsZWN0b3I6IiIsbGVuZ3RoOjAsdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodGhpcyl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YT8wPmE/dGhpc1thK3RoaXMubGVuZ3RoXTp0aGlzW2FdOmUuY2FsbCh0aGlzKX0scHVzaFN0YWNrOmZ1bmN0aW9uKGEpe3ZhciBiPW4ubWVyZ2UodGhpcy5jb25zdHJ1Y3RvcigpLGEpO3JldHVybiBiLnByZXZPYmplY3Q9dGhpcyxiLmNvbnRleHQ9dGhpcy5jb250ZXh0LGJ9LGVhY2g6ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZWFjaCh0aGlzLGEpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKG4ubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmxlbmd0aCxjPSthKygwPmE/YjowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soYz49MCYmYj5jP1t0aGlzW2NdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpnLHNvcnQ6Yy5zb3J0LHNwbGljZTpjLnNwbGljZX0sbi5leHRlbmQ9bi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGYsZz1hcmd1bWVudHNbMF18fHt9LGg9MSxpPWFyZ3VtZW50cy5sZW5ndGgsaj0hMTtmb3IoImJvb2xlYW4iPT10eXBlb2YgZyYmKGo9ZyxnPWFyZ3VtZW50c1toXXx8e30saCsrKSwib2JqZWN0Ij09dHlwZW9mIGd8fG4uaXNGdW5jdGlvbihnKXx8KGc9e30pLGg9PT1pJiYoZz10aGlzLGgtLSk7aT5oO2grKylpZihudWxsIT0oZT1hcmd1bWVudHNbaF0pKWZvcihkIGluIGUpYT1nW2RdLGM9ZVtkXSxnIT09YyYmKGomJmMmJihuLmlzUGxhaW5PYmplY3QoYyl8fChiPW4uaXNBcnJheShjKSkpPyhiPyhiPSExLGY9YSYmbi5pc0FycmF5KGEpP2E6W10pOmY9YSYmbi5pc1BsYWluT2JqZWN0KGEpP2E6e30sZ1tkXT1uLmV4dGVuZChqLGYsYykpOnZvaWQgMCE9PWMmJihnW2RdPWMpKTtyZXR1cm4gZ30sbi5leHRlbmQoe2V4cGFuZG86ImpRdWVyeSIrKG0rTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksaXNSZWFkeTohMCxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBuZXcgRXJyb3IoYSl9LG5vb3A6ZnVuY3Rpb24oKXt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuImZ1bmN0aW9uIj09PW4udHlwZShhKX0saXNBcnJheTpBcnJheS5pc0FycmF5fHxmdW5jdGlvbihhKXtyZXR1cm4iYXJyYXkiPT09bi50eXBlKGEpfSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YSYmYT09YS53aW5kb3d9LGlzTnVtZXJpYzpmdW5jdGlvbihhKXt2YXIgYj1hJiZhLnRvU3RyaW5nKCk7cmV0dXJuIW4uaXNBcnJheShhKSYmYi1wYXJzZUZsb2F0KGIpKzE+PTB9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihhKXt2YXIgYjtpZighYXx8Im9iamVjdCIhPT1uLnR5cGUoYSl8fGEubm9kZVR5cGV8fG4uaXNXaW5kb3coYSkpcmV0dXJuITE7dHJ5e2lmKGEuY29uc3RydWN0b3ImJiFrLmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIWsuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExfWNhdGNoKGMpe3JldHVybiExfWlmKCFsLm93bkZpcnN0KWZvcihiIGluIGEpcmV0dXJuIGsuY2FsbChhLGIpO2ZvcihiIGluIGEpO3JldHVybiB2b2lkIDA9PT1ifHxrLmNhbGwoYSxiKX0sdHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT9hKyIiOiJvYmplY3QiPT10eXBlb2YgYXx8ImZ1bmN0aW9uIj09dHlwZW9mIGE/aVtqLmNhbGwoYSldfHwib2JqZWN0Ijp0eXBlb2YgYX0sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZuLnRyaW0oYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sY2FtZWxDYXNlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UocCwibXMtIikucmVwbGFjZShxLHIpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iLnRvTG93ZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTA7aWYocyhhKSl7Zm9yKGM9YS5sZW5ndGg7Yz5kO2QrKylpZihiLmNhbGwoYVtkXSxkLGFbZF0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoZCBpbiBhKWlmKGIuY2FsbChhW2RdLGQsYVtkXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpmdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09YT8iIjooYSsiIikucmVwbGFjZShvLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107cmV0dXJuIG51bGwhPWEmJihzKE9iamVjdChhKSk/bi5tZXJnZShjLCJzdHJpbmciPT10eXBlb2YgYT9bYV06YSk6Zy5jYWxsKGMsYSkpLGN9LGluQXJyYXk6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIpe2lmKGgpcmV0dXJuIGguY2FsbChiLGEsYyk7Zm9yKGQ9Yi5sZW5ndGgsYz1jPzA+Yz9NYXRoLm1heCgwLGQrYyk6YzowO2Q+YztjKyspaWYoYyBpbiBiJiZiW2NdPT09YSlyZXR1cm4gY31yZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz0rYi5sZW5ndGgsZD0wLGU9YS5sZW5ndGg7d2hpbGUoYz5kKWFbZSsrXT1iW2QrK107aWYoYyE9PWMpd2hpbGUodm9pZCAwIT09YltkXSlhW2UrK109YltkKytdO3JldHVybiBhLmxlbmd0aD1lLGF9LGdyZXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZCxlPVtdLGY9MCxnPWEubGVuZ3RoLGg9IWM7Zz5mO2YrKylkPSFiKGFbZl0sZiksZCE9PWgmJmUucHVzaChhW2ZdKTtyZXR1cm4gZX0sbWFwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGc9MCxoPVtdO2lmKHMoYSkpZm9yKGQ9YS5sZW5ndGg7ZD5nO2crKyllPWIoYVtnXSxnLGMpLG51bGwhPWUmJmgucHVzaChlKTtlbHNlIGZvcihnIGluIGEpZT1iKGFbZ10sZyxjKSxudWxsIT1lJiZoLnB1c2goZSk7cmV0dXJuIGYuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGImJihmPWFbYl0sYj1hLGE9Ziksbi5pc0Z1bmN0aW9uKGEpPyhjPWUuY2FsbChhcmd1bWVudHMsMiksZD1mdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGJ8fHRoaXMsYy5jb25jYXQoZS5jYWxsKGFyZ3VtZW50cykpKX0sZC5ndWlkPWEuZ3VpZD1hLmd1aWR8fG4uZ3VpZCsrLGQpOnZvaWQgMH0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfSxzdXBwb3J0Omx9KSwiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYobi5mbltTeW1ib2wuaXRlcmF0b3JdPWNbU3ltYm9sLml0ZXJhdG9yXSksbi5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2lbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSk7ZnVuY3Rpb24gcyhhKXt2YXIgYj0hIWEmJiJsZW5ndGgiaW4gYSYmYS5sZW5ndGgsYz1uLnR5cGUoYSk7cmV0dXJuImZ1bmN0aW9uIj09PWN8fG4uaXNXaW5kb3coYSk/ITE6ImFycmF5Ij09PWN8fDA9PT1ifHwibnVtYmVyIj09dHlwZW9mIGImJmI+MCYmYi0xIGluIGF9dmFyIHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdT0ic2l6emxlIisxKm5ldyBEYXRlLHY9YS5kb2N1bWVudCx3PTAseD0wLHk9Z2EoKSx6PWdhKCksQT1nYSgpLEI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09PWImJihsPSEwKSwwfSxDPTE8PDMxLEQ9e30uaGFzT3duUHJvcGVydHksRT1bXSxGPUUucG9wLEc9RS5wdXNoLEg9RS5wdXNoLEk9RS5zbGljZSxKPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1hLmxlbmd0aDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfSxLPSJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCIsTD0iW1xceDIwXFx0XFxyXFxuXFxmXSIsTT0iKD86XFxcXC58W1xcdy1dfFteXFx4MDAtXFx4YTBdKSsiLE49IlxcWyIrTCsiKigiK00rIikoPzoiK0wrIiooWypeJHwhfl0/PSkiK0wrIiooPzonKCg/OlxcXFwufFteXFxcXCddKSopJ3xcIigoPzpcXFxcLnxbXlxcXFxcIl0pKilcInwoIitNKyIpKXwpIitMKyIqXFxdIixPPSI6KCIrTSsiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIrTisiKSopfC4qKVxcKXwpIixQPW5ldyBSZWdFeHAoTCsiKyIsImciKSxRPW5ldyBSZWdFeHAoIl4iK0wrIit8KCg/Ol58W15cXFxcXSkoPzpcXFxcLikqKSIrTCsiKyQiLCJnIiksUj1uZXcgUmVnRXhwKCJeIitMKyIqLCIrTCsiKiIpLFM9bmV3IFJlZ0V4cCgiXiIrTCsiKihbPit+XXwiK0wrIikiK0wrIioiKSxUPW5ldyBSZWdFeHAoIj0iK0wrIiooW15cXF0nXCJdKj8pIitMKyIqXFxdIiwiZyIpLFU9bmV3IFJlZ0V4cChPKSxWPW5ldyBSZWdFeHAoIl4iK00rIiQiKSxXPXtJRDpuZXcgUmVnRXhwKCJeIygiK00rIikiKSxDTEFTUzpuZXcgUmVnRXhwKCJeXFwuKCIrTSsiKSIpLFRBRzpuZXcgUmVnRXhwKCJeKCIrTSsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK04pLFBTRVVETzpuZXcgUmVnRXhwKCJeIitPKSxDSElMRDpuZXcgUmVnRXhwKCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXCgiK0wrIiooZXZlbnxvZGR8KChbKy1dfCkoXFxkKilufCkiK0wrIiooPzooWystXXwpIitMKyIqKFxcZCspfCkpIitMKyIqXFwpfCkiLCJpIiksYm9vbDpuZXcgUmVnRXhwKCJeKD86IitLKyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrTCsiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIitMKyIqKCg/Oi1cXGQpP1xcZCopIitMKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxYPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksWT0vXmhcZCQvaSxaPS9eW157XStce1xzKlxbbmF0aXZlIFx3LywkPS9eKD86IyhbXHctXSspfChcdyspfFwuKFtcdy1dKykpJC8sXz0vWyt+XS8sYWE9Lyd8XFwvZyxiYT1uZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iK0wrIj98KCIrTCsiKXwuKSIsImlnIiksY2E9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIweCIrYi02NTUzNjtyZXR1cm4gZCE9PWR8fGM/YjowPmQ/U3RyaW5nLmZyb21DaGFyQ29kZShkKzY1NTM2KTpTdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEwfDU1Mjk2LDEwMjMmZHw1NjMyMCl9LGRhPWZ1bmN0aW9uKCl7bSgpfTt0cnl7SC5hcHBseShFPUkuY2FsbCh2LmNoaWxkTm9kZXMpLHYuY2hpbGROb2RlcyksRVt2LmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZX1jYXRjaChlYSl7SD17YXBwbHk6RS5sZW5ndGg/ZnVuY3Rpb24oYSxiKXtHLmFwcGx5KGEsSS5jYWxsKGIpKX06ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmxlbmd0aCxkPTA7d2hpbGUoYVtjKytdPWJbZCsrXSk7YS5sZW5ndGg9Yy0xfX19ZnVuY3Rpb24gZmEoYSxiLGQsZSl7dmFyIGYsaCxqLGssbCxvLHIscyx3PWImJmIub3duZXJEb2N1bWVudCx4PWI/Yi5ub2RlVHlwZTo5O2lmKGQ9ZHx8W10sInN0cmluZyIhPXR5cGVvZiBhfHwhYXx8MSE9PXgmJjkhPT14JiYxMSE9PXgpcmV0dXJuIGQ7aWYoIWUmJigoYj9iLm93bmVyRG9jdW1lbnR8fGI6dikhPT1uJiZtKGIpLGI9Ynx8bixwKSl7aWYoMTEhPT14JiYobz0kLmV4ZWMoYSkpKWlmKGY9b1sxXSl7aWYoOT09PXgpe2lmKCEoaj1iLmdldEVsZW1lbnRCeUlkKGYpKSlyZXR1cm4gZDtpZihqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZSBpZih3JiYoaj13LmdldEVsZW1lbnRCeUlkKGYpKSYmdChiLGopJiZqLmlkPT09ZilyZXR1cm4gZC5wdXNoKGopLGR9ZWxzZXtpZihvWzJdKXJldHVybiBILmFwcGx5KGQsYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhKSksZDtpZigoZj1vWzNdKSYmYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIEguYXBwbHkoZCxiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZikpLGR9aWYoYy5xc2EmJiFBW2ErIiAiXSYmKCFxfHwhcS50ZXN0KGEpKSl7aWYoMSE9PXgpdz1iLHM9YTtlbHNlIGlmKCJvYmplY3QiIT09Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXsoaz1iLmdldEF0dHJpYnV0ZSgiaWQiKSk/az1rLnJlcGxhY2UoYWEsIlxcJCYiKTpiLnNldEF0dHJpYnV0ZSgiaWQiLGs9dSkscj1nKGEpLGg9ci5sZW5ndGgsbD1WLnRlc3Qoayk/IiMiK2s6IltpZD0nIitrKyInXSI7d2hpbGUoaC0tKXJbaF09bCsiICIrcWEocltoXSk7cz1yLmpvaW4oIiwiKSx3PV8udGVzdChhKSYmb2EoYi5wYXJlbnROb2RlKXx8Yn1pZihzKXRyeXtyZXR1cm4gSC5hcHBseShkLHcucXVlcnlTZWxlY3RvckFsbChzKSksZH1jYXRjaCh5KXt9ZmluYWxseXtrPT09dSYmYi5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gaShhLnJlcGxhY2UoUSwiJDEiKSxiLGQsZSl9ZnVuY3Rpb24gZ2EoKXt2YXIgYT1bXTtmdW5jdGlvbiBiKGMsZSl7cmV0dXJuIGEucHVzaChjKyIgIik+ZC5jYWNoZUxlbmd0aCYmZGVsZXRlIGJbYS5zaGlmdCgpXSxiW2MrIiAiXT1lfXJldHVybiBifWZ1bmN0aW9uIGhhKGEpe3JldHVybiBhW3VdPSEwLGF9ZnVuY3Rpb24gaWEoYSl7dmFyIGI9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTt0cnl7cmV0dXJuISFhKGIpfWNhdGNoKGMpe3JldHVybiExfWZpbmFsbHl7Yi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksYj1udWxsfX1mdW5jdGlvbiBqYShhLGIpe3ZhciBjPWEuc3BsaXQoInwiKSxlPWMubGVuZ3RoO3doaWxlKGUtLSlkLmF0dHJIYW5kbGVbY1tlXV09Yn1mdW5jdGlvbiBrYShhLGIpe3ZhciBjPWImJmEsZD1jJiYxPT09YS5ub2RlVHlwZSYmMT09PWIubm9kZVR5cGUmJih+Yi5zb3VyY2VJbmRleHx8QyktKH5hLnNvdXJjZUluZGV4fHxDKTtpZihkKXJldHVybiBkO2lmKGMpd2hpbGUoYz1jLm5leHRTaWJsaW5nKWlmKGM9PT1iKXJldHVybi0xO3JldHVybiBhPzE6LTF9ZnVuY3Rpb24gbGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YyYmYi50eXBlPT09YX19ZnVuY3Rpb24gbWEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oImlucHV0Ij09PWN8fCJidXR0b24iPT09YykmJmIudHlwZT09PWF9fWZ1bmN0aW9uIG5hKGEpe3JldHVybiBoYShmdW5jdGlvbihiKXtyZXR1cm4gYj0rYixoYShmdW5jdGlvbihjLGQpe3ZhciBlLGY9YShbXSxjLmxlbmd0aCxiKSxnPWYubGVuZ3RoO3doaWxlKGctLSljW2U9ZltnXV0mJihjW2VdPSEoZFtlXT1jW2VdKSl9KX0pfWZ1bmN0aW9uIG9hKGEpe3JldHVybiBhJiYidW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmF9Yz1mYS5zdXBwb3J0PXt9LGY9ZmEuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmKGEub3duZXJEb2N1bWVudHx8YSkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiPyJIVE1MIiE9PWIubm9kZU5hbWU6ITF9LG09ZmEuc2V0RG9jdW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsZSxnPWE/YS5vd25lckRvY3VtZW50fHxhOnY7cmV0dXJuIGchPT1uJiY5PT09Zy5ub2RlVHlwZSYmZy5kb2N1bWVudEVsZW1lbnQ/KG49ZyxvPW4uZG9jdW1lbnRFbGVtZW50LHA9IWYobiksKGU9bi5kZWZhdWx0VmlldykmJmUudG9wIT09ZSYmKGUuYWRkRXZlbnRMaXN0ZW5lcj9lLmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIsZGEsITEpOmUuYXR0YWNoRXZlbnQmJmUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixkYSkpLGMuYXR0cmlidXRlcz1pYShmdW5jdGlvbihhKXtyZXR1cm4gYS5jbGFzc05hbWU9ImkiLCFhLmdldEF0dHJpYnV0ZSgiY2xhc3NOYW1lIil9KSxjLmdldEVsZW1lbnRzQnlUYWdOYW1lPWlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmFwcGVuZENoaWxkKG4uY3JlYXRlQ29tbWVudCgiIikpLCFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikubGVuZ3RofSksYy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lPVoudGVzdChuLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLGMuZ2V0QnlJZD1pYShmdW5jdGlvbihhKXtyZXR1cm4gby5hcHBlbmRDaGlsZChhKS5pZD11LCFuLmdldEVsZW1lbnRzQnlOYW1lfHwhbi5nZXRFbGVtZW50c0J5TmFtZSh1KS5sZW5ndGh9KSxjLmdldEJ5SWQ/KGQuZmluZC5JRD1mdW5jdGlvbihhLGIpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50QnlJZCYmcCl7dmFyIGM9Yi5nZXRFbGVtZW50QnlJZChhKTtyZXR1cm4gYz9bY106W119fSxkLmZpbHRlci5JRD1mdW5jdGlvbihhKXt2YXIgYj1hLnJlcGxhY2UoYmEsY2EpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImlkIik9PT1ifX0pOihkZWxldGUgZC5maW5kLklELGQuZmlsdGVyLklEPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPSJ1bmRlZmluZWQiIT10eXBlb2YgYS5nZXRBdHRyaWJ1dGVOb2RlJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGMmJmMudmFsdWU9PT1ifX0pLGQuZmluZC5UQUc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZT9mdW5jdGlvbihhLGIpe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZT9iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpOmMucXNhP2IucXVlcnlTZWxlY3RvckFsbChhKTp2b2lkIDB9OmZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPTAsZj1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGEpO2lmKCIqIj09PWEpe3doaWxlKGM9ZltlKytdKTE9PT1jLm5vZGVUeXBlJiZkLnB1c2goYyk7cmV0dXJuIGR9cmV0dXJuIGZ9LGQuZmluZC5DTEFTUz1jLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJmZ1bmN0aW9uKGEsYil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUmJnA/Yi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpOnZvaWQgMH0scj1bXSxxPVtdLChjLnFzYT1aLnRlc3Qobi5xdWVyeVNlbGVjdG9yQWxsKSkmJihpYShmdW5jdGlvbihhKXtvLmFwcGVuZENoaWxkKGEpLmlubmVySFRNTD0iPGEgaWQ9JyIrdSsiJz48L2E+PHNlbGVjdCBpZD0nIit1KyItXHJcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+PG9wdGlvbiBzZWxlY3RlZD0nJz48L29wdGlvbj48L3NlbGVjdD4iLGEucXVlcnlTZWxlY3RvckFsbCgiW21zYWxsb3djYXB0dXJlXj0nJ10iKS5sZW5ndGgmJnEucHVzaCgiWypeJF09IitMKyIqKD86Jyd8XCJcIikiKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIltzZWxlY3RlZF0iKS5sZW5ndGh8fHEucHVzaCgiXFxbIitMKyIqKD86dmFsdWV8IitLKyIpIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJbaWR+PSIrdSsiLV0iKS5sZW5ndGh8fHEucHVzaCgifj0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjpjaGVja2VkIikubGVuZ3RofHxxLnB1c2goIjpjaGVja2VkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCJhIyIrdSsiKyoiKS5sZW5ndGh8fHEucHVzaCgiLiMuK1srfl0iKX0pLGlhKGZ1bmN0aW9uKGEpe3ZhciBiPW4uY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtiLnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpLGEuYXBwZW5kQ2hpbGQoYikuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpLGEucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJnEucHVzaCgibmFtZSIrTCsiKlsqXiR8IX5dPz0iKSxhLnF1ZXJ5U2VsZWN0b3JBbGwoIjplbmFibGVkIikubGVuZ3RofHxxLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIiksYS5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4IikscS5wdXNoKCIsLio6Iil9KSksKGMubWF0Y2hlc1NlbGVjdG9yPVoudGVzdChzPW8ubWF0Y2hlc3x8by53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fG8ubW96TWF0Y2hlc1NlbGVjdG9yfHxvLm9NYXRjaGVzU2VsZWN0b3J8fG8ubXNNYXRjaGVzU2VsZWN0b3IpKSYmaWEoZnVuY3Rpb24oYSl7Yy5kaXNjb25uZWN0ZWRNYXRjaD1zLmNhbGwoYSwiZGl2Iikscy5jYWxsKGEsIltzIT0nJ106eCIpLHIucHVzaCgiIT0iLE8pfSkscT1xLmxlbmd0aCYmbmV3IFJlZ0V4cChxLmpvaW4oInwiKSkscj1yLmxlbmd0aCYmbmV3IFJlZ0V4cChyLmpvaW4oInwiKSksYj1aLnRlc3Qoby5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksdD1ifHxaLnRlc3Qoby5jb250YWlucyk/ZnVuY3Rpb24oYSxiKXt2YXIgYz05PT09YS5ub2RlVHlwZT9hLmRvY3VtZW50RWxlbWVudDphLGQ9YiYmYi5wYXJlbnROb2RlO3JldHVybiBhPT09ZHx8ISghZHx8MSE9PWQubm9kZVR5cGV8fCEoYy5jb250YWlucz9jLmNvbnRhaW5zKGQpOmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJjE2JmEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZCkpKX06ZnVuY3Rpb24oYSxiKXtpZihiKXdoaWxlKGI9Yi5wYXJlbnROb2RlKWlmKGI9PT1hKXJldHVybiEwO3JldHVybiExfSxCPWI/ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBkPSFhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLSFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uO3JldHVybiBkP2Q6KGQ9KGEub3duZXJEb2N1bWVudHx8YSk9PT0oYi5vd25lckRvY3VtZW50fHxiKT9hLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpOjEsMSZkfHwhYy5zb3J0RGV0YWNoZWQmJmIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSk9PT1kP2E9PT1ufHxhLm93bmVyRG9jdW1lbnQ9PT12JiZ0KHYsYSk/LTE6Yj09PW58fGIub3duZXJEb2N1bWVudD09PXYmJnQodixiKT8xOms/SihrLGEpLUooayxiKTowOjQmZD8tMToxKX06ZnVuY3Rpb24oYSxiKXtpZihhPT09YilyZXR1cm4gbD0hMCwwO3ZhciBjLGQ9MCxlPWEucGFyZW50Tm9kZSxmPWIucGFyZW50Tm9kZSxnPVthXSxoPVtiXTtpZighZXx8IWYpcmV0dXJuIGE9PT1uPy0xOmI9PT1uPzE6ZT8tMTpmPzE6az9KKGssYSktSihrLGIpOjA7aWYoZT09PWYpcmV0dXJuIGthKGEsYik7Yz1hO3doaWxlKGM9Yy5wYXJlbnROb2RlKWcudW5zaGlmdChjKTtjPWI7d2hpbGUoYz1jLnBhcmVudE5vZGUpaC51bnNoaWZ0KGMpO3doaWxlKGdbZF09PT1oW2RdKWQrKztyZXR1cm4gZD9rYShnW2RdLGhbZF0pOmdbZF09PT12Py0xOmhbZF09PT12PzE6MH0sbik6bn0sZmEubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBmYShhLG51bGwsbnVsbCxiKX0sZmEubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7aWYoKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLGI9Yi5yZXBsYWNlKFQsIj0nJDEnXSIpLGMubWF0Y2hlc1NlbGVjdG9yJiZwJiYhQVtiKyIgIl0mJighcnx8IXIudGVzdChiKSkmJighcXx8IXEudGVzdChiKSkpdHJ5e3ZhciBkPXMuY2FsbChhLGIpO2lmKGR8fGMuZGlzY29ubmVjdGVkTWF0Y2h8fGEuZG9jdW1lbnQmJjExIT09YS5kb2N1bWVudC5ub2RlVHlwZSlyZXR1cm4gZH1jYXRjaChlKXt9cmV0dXJuIGZhKGIsbixudWxsLFthXSkubGVuZ3RoPjB9LGZhLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuKGEub3duZXJEb2N1bWVudHx8YSkhPT1uJiZtKGEpLHQoYSxiKX0sZmEuYXR0cj1mdW5jdGlvbihhLGIpeyhhLm93bmVyRG9jdW1lbnR8fGEpIT09biYmbShhKTt2YXIgZT1kLmF0dHJIYW5kbGVbYi50b0xvd2VyQ2FzZSgpXSxmPWUmJkQuY2FsbChkLmF0dHJIYW5kbGUsYi50b0xvd2VyQ2FzZSgpKT9lKGEsYiwhcCk6dm9pZCAwO3JldHVybiB2b2lkIDAhPT1mP2Y6Yy5hdHRyaWJ1dGVzfHwhcD9hLmdldEF0dHJpYnV0ZShiKTooZj1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZmLnNwZWNpZmllZD9mLnZhbHVlOm51bGx9LGZhLmVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IG5ldyBFcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithKX0sZmEudW5pcXVlU29ydD1mdW5jdGlvbihhKXt2YXIgYixkPVtdLGU9MCxmPTA7aWYobD0hYy5kZXRlY3REdXBsaWNhdGVzLGs9IWMuc29ydFN0YWJsZSYmYS5zbGljZSgwKSxhLnNvcnQoQiksbCl7d2hpbGUoYj1hW2YrK10pYj09PWFbZl0mJihlPWQucHVzaChmKSk7d2hpbGUoZS0tKWEuc3BsaWNlKGRbZV0sMSl9cmV0dXJuIGs9bnVsbCxhfSxlPWZhLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGIsYz0iIixkPTAsZj1hLm5vZGVUeXBlO2lmKGYpe2lmKDE9PT1mfHw5PT09Znx8MTE9PT1mKXtpZigic3RyaW5nIj09dHlwZW9mIGEudGV4dENvbnRlbnQpcmV0dXJuIGEudGV4dENvbnRlbnQ7Zm9yKGE9YS5maXJzdENoaWxkO2E7YT1hLm5leHRTaWJsaW5nKWMrPWUoYSl9ZWxzZSBpZigzPT09Znx8ND09PWYpcmV0dXJuIGEubm9kZVZhbHVlfWVsc2Ugd2hpbGUoYj1hW2QrK10pYys9ZShiKTtyZXR1cm4gY30sZD1mYS5zZWxlY3RvcnM9e2NhY2hlTGVuZ3RoOjUwLGNyZWF0ZVBzZXVkbzpoYSxtYXRjaDpXLGF0dHJIYW5kbGU6e30sZmluZDp7fSxyZWxhdGl2ZTp7Ij4iOntkaXI6InBhcmVudE5vZGUiLGZpcnN0OiEwfSwiICI6e2RpcjoicGFyZW50Tm9kZSJ9LCIrIjp7ZGlyOiJwcmV2aW91c1NpYmxpbmciLGZpcnN0OiEwfSwifiI6e2RpcjoicHJldmlvdXNTaWJsaW5nIn19LHByZUZpbHRlcjp7QVRUUjpmdW5jdGlvbihhKXtyZXR1cm4gYVsxXT1hWzFdLnJlcGxhY2UoYmEsY2EpLGFbM109KGFbM118fGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGJhLGNhKSwifj0iPT09YVsyXSYmKGFbM109IiAiK2FbM10rIiAiKSxhLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdPWFbMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PWFbMV0uc2xpY2UoMCwzKT8oYVszXXx8ZmEuZXJyb3IoYVswXSksYVs0XT0rKGFbNF0/YVs1XSsoYVs2XXx8MSk6MiooImV2ZW4iPT09YVszXXx8Im9kZCI9PT1hWzNdKSksYVs1XT0rKGFbN10rYVs4XXx8Im9kZCI9PT1hWzNdKSk6YVszXSYmZmEuZXJyb3IoYVswXSksYX0sUFNFVURPOmZ1bmN0aW9uKGEpe3ZhciBiLGM9IWFbNl0mJmFbMl07cmV0dXJuIFcuQ0hJTEQudGVzdChhWzBdKT9udWxsOihhWzNdP2FbMl09YVs0XXx8YVs1XXx8IiI6YyYmVS50ZXN0KGMpJiYoYj1nKGMsITApKSYmKGI9Yy5pbmRleE9mKCIpIixjLmxlbmd0aC1iKS1jLmxlbmd0aCkmJihhWzBdPWFbMF0uc2xpY2UoMCxiKSxhWzJdPWMuc2xpY2UoMCxiKSksYS5zbGljZSgwLDMpKX19LGZpbHRlcjp7VEFHOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKTtyZXR1cm4iKiI9PT1hP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1ifX0sQ0xBU1M6ZnVuY3Rpb24oYSl7dmFyIGI9eVthKyIgIl07cmV0dXJuIGJ8fChiPW5ldyBSZWdFeHAoIihefCIrTCsiKSIrYSsiKCIrTCsifCQpIikpJiZ5KGEsZnVuY3Rpb24oYSl7cmV0dXJuIGIudGVzdCgic3RyaW5nIj09dHlwZW9mIGEuY2xhc3NOYW1lJiZhLmNsYXNzTmFtZXx8InVuZGVmaW5lZCIhPXR5cGVvZiBhLmdldEF0dHJpYnV0ZSYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKX0pfSxBVFRSOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZmEuYXR0cihkLGEpO3JldHVybiBudWxsPT1lPyIhPSI9PT1iOmI/KGUrPSIiLCI9Ij09PWI/ZT09PWM6IiE9Ij09PWI/ZSE9PWM6Il49Ij09PWI/YyYmMD09PWUuaW5kZXhPZihjKToiKj0iPT09Yj9jJiZlLmluZGV4T2YoYyk+LTE6IiQ9Ij09PWI/YyYmZS5zbGljZSgtYy5sZW5ndGgpPT09Yzoifj0iPT09Yj8oIiAiK2UucmVwbGFjZShQLCIgIikrIiAiKS5pbmRleE9mKGMpPi0xOiJ8PSI9PT1iP2U9PT1jfHxlLnNsaWNlKDAsYy5sZW5ndGgrMSk9PT1jKyItIjohMSk6ITB9fSxDSElMRDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPSJudGgiIT09YS5zbGljZSgwLDMpLGc9Imxhc3QiIT09YS5zbGljZSgtNCksaD0ib2YtdHlwZSI9PT1iO3JldHVybiAxPT09ZCYmMD09PWU/ZnVuY3Rpb24oYSl7cmV0dXJuISFhLnBhcmVudE5vZGV9OmZ1bmN0aW9uKGIsYyxpKXt2YXIgaixrLGwsbSxuLG8scD1mIT09Zz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLHE9Yi5wYXJlbnROb2RlLHI9aCYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLHM9IWkmJiFoLHQ9ITE7aWYocSl7aWYoZil7d2hpbGUocCl7bT1iO3doaWxlKG09bVtwXSlpZihoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpcmV0dXJuITE7bz1wPSJvbmx5Ij09PWEmJiFvJiYibmV4dFNpYmxpbmcifXJldHVybiEwfWlmKG89W2c/cS5maXJzdENoaWxkOnEubGFzdENoaWxkXSxnJiZzKXttPXEsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biYmalsyXSxtPW4mJnEuY2hpbGROb2Rlc1tuXTt3aGlsZShtPSsrbiYmbSYmbVtwXXx8KHQ9bj0wKXx8by5wb3AoKSlpZigxPT09bS5ub2RlVHlwZSYmKyt0JiZtPT09Yil7a1thXT1bdyxuLHRdO2JyZWFrfX1lbHNlIGlmKHMmJihtPWIsbD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksaj1rW2FdfHxbXSxuPWpbMF09PT13JiZqWzFdLHQ9biksdD09PSExKXdoaWxlKG09KytuJiZtJiZtW3BdfHwodD1uPTApfHxvLnBvcCgpKWlmKChoP20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXI6MT09PW0ubm9kZVR5cGUpJiYrK3QmJihzJiYobD1tW3VdfHwobVt1XT17fSksaz1sW20udW5pcXVlSURdfHwobFttLnVuaXF1ZUlEXT17fSksa1thXT1bdyx0XSksbT09PWIpKWJyZWFrO3JldHVybiB0LT1lLHQ9PT1kfHx0JWQ9PT0wJiZ0L2Q+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKGEsYil7dmFyIGMsZT1kLnBzZXVkb3NbYV18fGQuc2V0RmlsdGVyc1thLnRvTG93ZXJDYXNlKCldfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgcHNldWRvOiAiK2EpO3JldHVybiBlW3VdP2UoYik6ZS5sZW5ndGg+MT8oYz1bYSxhLCIiLGJdLGQuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShhLnRvTG93ZXJDYXNlKCkpP2hhKGZ1bmN0aW9uKGEsYyl7dmFyIGQsZj1lKGEsYiksZz1mLmxlbmd0aDt3aGlsZShnLS0pZD1KKGEsZltnXSksYVtkXT0hKGNbZF09ZltnXSl9KTpmdW5jdGlvbihhKXtyZXR1cm4gZShhLDAsYyl9KTplfX0scHNldWRvczp7bm90OmhhKGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZD1oKGEucmVwbGFjZShRLCIkMSIpKTtyZXR1cm4gZFt1XT9oYShmdW5jdGlvbihhLGIsYyxlKXt2YXIgZixnPWQoYSxudWxsLGUsW10pLGg9YS5sZW5ndGg7d2hpbGUoaC0tKShmPWdbaF0pJiYoYVtoXT0hKGJbaF09ZikpfSk6ZnVuY3Rpb24oYSxlLGYpe3JldHVybiBiWzBdPWEsZChiLG51bGwsZixjKSxiWzBdPW51bGwsIWMucG9wKCl9fSksaGFzOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gZmEoYSxiKS5sZW5ndGg+MH19KSxjb250YWluczpoYShmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UoYmEsY2EpLGZ1bmN0aW9uKGIpe3JldHVybihiLnRleHRDb250ZW50fHxiLmlubmVyVGV4dHx8ZShiKSkuaW5kZXhPZihhKT4tMX19KSxsYW5nOmhhKGZ1bmN0aW9uKGEpe3JldHVybiBWLnRlc3QoYXx8IiIpfHxmYS5lcnJvcigidW5zdXBwb3J0ZWQgbGFuZzogIithKSxhPWEucmVwbGFjZShiYSxjYSkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbihiKXt2YXIgYztkbyBpZihjPXA/Yi5sYW5nOmIuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHxiLmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybiBjPWMudG9Mb3dlckNhc2UoKSxjPT09YXx8MD09PWMuaW5kZXhPZihhKyItIik7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmMT09PWIubm9kZVR5cGUpO3JldHVybiExfX0pLHRhcmdldDpmdW5jdGlvbihiKXt2YXIgYz1hLmxvY2F0aW9uJiZhLmxvY2F0aW9uLmhhc2g7cmV0dXJuIGMmJmMuc2xpY2UoMSk9PT1iLmlkfSxyb290OmZ1bmN0aW9uKGEpe3JldHVybiBhPT09b30sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1uLmFjdGl2ZUVsZW1lbnQmJighbi5oYXNGb2N1c3x8bi5oYXNGb2N1cygpKSYmISEoYS50eXBlfHxhLmhyZWZ8fH5hLnRhYkluZGV4KX0sZW5hYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSExfSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmISFhLmNoZWNrZWR8fCJvcHRpb24iPT09YiYmISFhLnNlbGVjdGVkfSxzZWxlY3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxhLnNlbGVjdGVkPT09ITB9LGVtcHR5OmZ1bmN0aW9uKGEpe2ZvcihhPWEuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylpZihhLm5vZGVUeXBlPDYpcmV0dXJuITE7cmV0dXJuITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hZC5wc2V1ZG9zLmVtcHR5KGEpfSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIFkudGVzdChhLm5vZGVOYW1lKX0saW5wdXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFgudGVzdChhLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09YiYmImJ1dHRvbiI9PT1hLnR5cGV8fCJidXR0b24iPT09Yn0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4iaW5wdXQiPT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1hLnR5cGUmJihudWxsPT0oYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09Yi50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6bmEoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Om5hKGZ1bmN0aW9uKGEsYil7cmV0dXJuW2ItMV19KSxlcTpuYShmdW5jdGlvbihhLGIsYyl7cmV0dXJuWzA+Yz9jK2I6Y119KSxldmVuOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksb2RkOm5hKGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yj5jO2MrPTIpYS5wdXNoKGMpO3JldHVybiBhfSksbHQ6bmEoZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD0wPmM/YytiOmM7LS1kPj0wOylhLnB1c2goZCk7cmV0dXJuIGF9KSxndDpuYShmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA+Yz9jK2I6YzsrK2Q8YjspYS5wdXNoKGQpO3JldHVybiBhfSl9fSxkLnBzZXVkb3MubnRoPWQucHNldWRvcy5lcTtmb3IoYiBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSlkLnBzZXVkb3NbYl09bGEoYik7Zm9yKGIgaW57c3VibWl0OiEwLHJlc2V0OiEwfSlkLnBzZXVkb3NbYl09bWEoYik7ZnVuY3Rpb24gcGEoKXt9cGEucHJvdG90eXBlPWQuZmlsdGVycz1kLnBzZXVkb3MsZC5zZXRGaWx0ZXJzPW5ldyBwYSxnPWZhLnRva2VuaXplPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGcsaCxpLGosaz16W2ErIiAiXTtpZihrKXJldHVybiBiPzA6ay5zbGljZSgwKTtoPWEsaT1bXSxqPWQucHJlRmlsdGVyO3doaWxlKGgpe2MmJiEoZT1SLmV4ZWMoaCkpfHwoZSYmKGg9aC5zbGljZShlWzBdLmxlbmd0aCl8fGgpLGkucHVzaChmPVtdKSksYz0hMSwoZT1TLmV4ZWMoaCkpJiYoYz1lLnNoaWZ0KCksZi5wdXNoKHt2YWx1ZTpjLHR5cGU6ZVswXS5yZXBsYWNlKFEsIiAiKX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2ZvcihnIGluIGQuZmlsdGVyKSEoZT1XW2ddLmV4ZWMoaCkpfHxqW2ddJiYhKGU9altnXShlKSl8fChjPWUuc2hpZnQoKSxmLnB1c2goe3ZhbHVlOmMsdHlwZTpnLG1hdGNoZXM6ZX0pLGg9aC5zbGljZShjLmxlbmd0aCkpO2lmKCFjKWJyZWFrfXJldHVybiBiP2gubGVuZ3RoOmg/ZmEuZXJyb3IoYSk6eihhLGkpLnNsaWNlKDApfTtmdW5jdGlvbiBxYShhKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoLGQ9IiI7Yz5iO2IrKylkKz1hW2JdLnZhbHVlO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixjKXt2YXIgZD1iLmRpcixlPWMmJiJwYXJlbnROb2RlIj09PWQsZj14Kys7cmV0dXJuIGIuZmlyc3Q/ZnVuY3Rpb24oYixjLGYpe3doaWxlKGI9YltkXSlpZigxPT09Yi5ub2RlVHlwZXx8ZSlyZXR1cm4gYShiLGMsZil9OmZ1bmN0aW9uKGIsYyxnKXt2YXIgaCxpLGosaz1bdyxmXTtpZihnKXt3aGlsZShiPWJbZF0paWYoKDE9PT1iLm5vZGVUeXBlfHxlKSYmYShiLGMsZykpcmV0dXJuITB9ZWxzZSB3aGlsZShiPWJbZF0paWYoMT09PWIubm9kZVR5cGV8fGUpe2lmKGo9Ylt1XXx8KGJbdV09e30pLGk9altiLnVuaXF1ZUlEXXx8KGpbYi51bmlxdWVJRF09e30pLChoPWlbZF0pJiZoWzBdPT09dyYmaFsxXT09PWYpcmV0dXJuIGtbMl09aFsyXTtpZihpW2RdPWssa1syXT1hKGIsYyxnKSlyZXR1cm4hMH19fWZ1bmN0aW9uIHNhKGEpe3JldHVybiBhLmxlbmd0aD4xP2Z1bmN0aW9uKGIsYyxkKXt2YXIgZT1hLmxlbmd0aDt3aGlsZShlLS0paWYoIWFbZV0oYixjLGQpKXJldHVybiExO3JldHVybiEwfTphWzBdfWZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQ9MCxlPWIubGVuZ3RoO2U+ZDtkKyspZmEoYSxiW2RdLGMpO3JldHVybiBjfWZ1bmN0aW9uIHVhKGEsYixjLGQsZSl7Zm9yKHZhciBmLGc9W10saD0wLGk9YS5sZW5ndGgsaj1udWxsIT1iO2k+aDtoKyspKGY9YVtoXSkmJihjJiYhYyhmLGQsZSl8fChnLnB1c2goZiksaiYmYi5wdXNoKGgpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gdmEoYSxiLGMsZCxlLGYpe3JldHVybiBkJiYhZFt1XSYmKGQ9dmEoZCkpLGUmJiFlW3VdJiYoZT12YShlLGYpKSxoYShmdW5jdGlvbihmLGcsaCxpKXt2YXIgaixrLGwsbT1bXSxuPVtdLG89Zy5sZW5ndGgscD1mfHx0YShifHwiKiIsaC5ub2RlVHlwZT9baF06aCxbXSkscT0hYXx8IWYmJmI/cDp1YShwLG0sYSxoLGkpLHI9Yz9lfHwoZj9hOm98fGQpP1tdOmc6cTtpZihjJiZjKHEscixoLGkpLGQpe2o9dWEocixuKSxkKGosW10saCxpKSxrPWoubGVuZ3RoO3doaWxlKGstLSkobD1qW2tdKSYmKHJbbltrXV09IShxW25ba11dPWwpKX1pZihmKXtpZihlfHxhKXtpZihlKXtqPVtdLGs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiZqLnB1c2gocVtrXT1sKTtlKG51bGwscj1bXSxqLGkpfWs9ci5sZW5ndGg7d2hpbGUoay0tKShsPXJba10pJiYoaj1lP0ooZixsKTptW2tdKT4tMSYmKGZbal09IShnW2pdPWwpKX19ZWxzZSByPXVhKHI9PT1nP3Iuc3BsaWNlKG8sci5sZW5ndGgpOnIpLGU/ZShudWxsLGcscixpKTpILmFwcGx5KGcscil9KX1mdW5jdGlvbiB3YShhKXtmb3IodmFyIGIsYyxlLGY9YS5sZW5ndGgsZz1kLnJlbGF0aXZlW2FbMF0udHlwZV0saD1nfHxkLnJlbGF0aXZlWyIgIl0saT1nPzE6MCxrPXJhKGZ1bmN0aW9uKGEpe3JldHVybiBhPT09Yn0saCwhMCksbD1yYShmdW5jdGlvbihhKXtyZXR1cm4gSihiLGEpPi0xfSxoLCEwKSxtPVtmdW5jdGlvbihhLGMsZCl7dmFyIGU9IWcmJihkfHxjIT09ail8fCgoYj1jKS5ub2RlVHlwZT9rKGEsYyxkKTpsKGEsYyxkKSk7cmV0dXJuIGI9bnVsbCxlfV07Zj5pO2krKylpZihjPWQucmVsYXRpdmVbYVtpXS50eXBlXSltPVtyYShzYShtKSxjKV07ZWxzZXtpZihjPWQuZmlsdGVyW2FbaV0udHlwZV0uYXBwbHkobnVsbCxhW2ldLm1hdGNoZXMpLGNbdV0pe2ZvcihlPSsraTtmPmU7ZSsrKWlmKGQucmVsYXRpdmVbYVtlXS50eXBlXSlicmVhaztyZXR1cm4gdmEoaT4xJiZzYShtKSxpPjEmJnFhKGEuc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09YVtpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoUSwiJDEiKSxjLGU+aSYmd2EoYS5zbGljZShpLGUpKSxmPmUmJndhKGE9YS5zbGljZShlKSksZj5lJiZxYShhKSl9bS5wdXNoKGMpfXJldHVybiBzYShtKX1mdW5jdGlvbiB4YShhLGIpe3ZhciBjPWIubGVuZ3RoPjAsZT1hLmxlbmd0aD4wLGY9ZnVuY3Rpb24oZixnLGgsaSxrKXt2YXIgbCxvLHEscj0wLHM9IjAiLHQ9ZiYmW10sdT1bXSx2PWoseD1mfHxlJiZkLmZpbmQuVEFHKCIqIixrKSx5PXcrPW51bGw9PXY/MTpNYXRoLnJhbmRvbSgpfHwuMSx6PXgubGVuZ3RoO2ZvcihrJiYoaj1nPT09bnx8Z3x8ayk7cyE9PXomJm51bGwhPShsPXhbc10pO3MrKyl7aWYoZSYmbCl7bz0wLGd8fGwub3duZXJEb2N1bWVudD09PW58fChtKGwpLGg9IXApO3doaWxlKHE9YVtvKytdKWlmKHEobCxnfHxuLGgpKXtpLnB1c2gobCk7YnJlYWt9ayYmKHc9eSl9YyYmKChsPSFxJiZsKSYmci0tLGYmJnQucHVzaChsKSl9aWYocis9cyxjJiZzIT09cil7bz0wO3doaWxlKHE9YltvKytdKXEodCx1LGcsaCk7aWYoZil7aWYocj4wKXdoaWxlKHMtLSl0W3NdfHx1W3NdfHwodVtzXT1GLmNhbGwoaSkpO3U9dWEodSl9SC5hcHBseShpLHUpLGsmJiFmJiZ1Lmxlbmd0aD4wJiZyK2IubGVuZ3RoPjEmJmZhLnVuaXF1ZVNvcnQoaSl9cmV0dXJuIGsmJih3PXksaj12KSx0fTtyZXR1cm4gYz9oYShmKTpmfXJldHVybiBoPWZhLmNvbXBpbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9W10sZj1BW2ErIiAiXTtpZighZil7Ynx8KGI9ZyhhKSksYz1iLmxlbmd0aDt3aGlsZShjLS0pZj13YShiW2NdKSxmW3VdP2QucHVzaChmKTplLnB1c2goZik7Zj1BKGEseGEoZSxkKSksZi5zZWxlY3Rvcj1hfXJldHVybiBmfSxpPWZhLnNlbGVjdD1mdW5jdGlvbihhLGIsZSxmKXt2YXIgaSxqLGssbCxtLG49ImZ1bmN0aW9uIj09dHlwZW9mIGEmJmEsbz0hZiYmZyhhPW4uc2VsZWN0b3J8fGEpO2lmKGU9ZXx8W10sMT09PW8ubGVuZ3RoKXtpZihqPW9bMF09b1swXS5zbGljZSgwKSxqLmxlbmd0aD4yJiYiSUQiPT09KGs9alswXSkudHlwZSYmYy5nZXRCeUlkJiY5PT09Yi5ub2RlVHlwZSYmcCYmZC5yZWxhdGl2ZVtqWzFdLnR5cGVdKXtpZihiPShkLmZpbmQuSUQoay5tYXRjaGVzWzBdLnJlcGxhY2UoYmEsY2EpLGIpfHxbXSlbMF0sIWIpcmV0dXJuIGU7biYmKGI9Yi5wYXJlbnROb2RlKSxhPWEuc2xpY2Uoai5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9aT1XLm5lZWRzQ29udGV4dC50ZXN0KGEpPzA6ai5sZW5ndGg7d2hpbGUoaS0tKXtpZihrPWpbaV0sZC5yZWxhdGl2ZVtsPWsudHlwZV0pYnJlYWs7aWYoKG09ZC5maW5kW2xdKSYmKGY9bShrLm1hdGNoZXNbMF0ucmVwbGFjZShiYSxjYSksXy50ZXN0KGpbMF0udHlwZSkmJm9hKGIucGFyZW50Tm9kZSl8fGIpKSl7aWYoai5zcGxpY2UoaSwxKSxhPWYubGVuZ3RoJiZxYShqKSwhYSlyZXR1cm4gSC5hcHBseShlLGYpLGU7YnJlYWt9fX1yZXR1cm4obnx8aChhLG8pKShmLGIsIXAsZSwhYnx8Xy50ZXN0KGEpJiZvYShiLnBhcmVudE5vZGUpfHxiKSxlfSxjLnNvcnRTdGFibGU9dS5zcGxpdCgiIikuc29ydChCKS5qb2luKCIiKT09PXUsYy5kZXRlY3REdXBsaWNhdGVzPSEhbCxtKCksYy5zb3J0RGV0YWNoZWQ9aWEoZnVuY3Rpb24oYSl7cmV0dXJuIDEmYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuLmNyZWF0ZUVsZW1lbnQoImRpdiIpKX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsIiMiPT09YS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSl8fGphKCJ0eXBlfGhyZWZ8aGVpZ2h0fHdpZHRoIixmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGM/dm9pZCAwOmEuZ2V0QXR0cmlidXRlKGIsInR5cGUiPT09Yi50b0xvd2VyQ2FzZSgpPzE6Mil9KSxjLmF0dHJpYnV0ZXMmJmlhKGZ1bmN0aW9uKGEpe3JldHVybiBhLmlubmVySFRNTD0iPGlucHV0Lz4iLGEuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1hLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGphKCJ2YWx1ZSIsZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjfHwiaW5wdXQiIT09YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpP3ZvaWQgMDphLmRlZmF1bHRWYWx1ZX0pLGlhKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKX0pfHxqYShLLGZ1bmN0aW9uKGEsYixjKXt2YXIgZDtyZXR1cm4gYz92b2lkIDA6YVtiXT09PSEwP2IudG9Mb3dlckNhc2UoKTooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiZkLnNwZWNpZmllZD9kLnZhbHVlOm51bGx9KSxmYX0oYSk7bi5maW5kPXQsbi5leHByPXQuc2VsZWN0b3JzLG4uZXhwclsiOiJdPW4uZXhwci5wc2V1ZG9zLG4udW5pcXVlU29ydD1uLnVuaXF1ZT10LnVuaXF1ZVNvcnQsbi50ZXh0PXQuZ2V0VGV4dCxuLmlzWE1MRG9jPXQuaXNYTUwsbi5jb250YWlucz10LmNvbnRhaW5zO3ZhciB1PWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlPXZvaWQgMCE9PWM7d2hpbGUoKGE9YVtiXSkmJjkhPT1hLm5vZGVUeXBlKWlmKDE9PT1hLm5vZGVUeXBlKXtpZihlJiZuKGEpLmlzKGMpKWJyZWFrO2QucHVzaChhKX1yZXR1cm4gZH0sdj1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1bXTthO2E9YS5uZXh0U2libGluZykxPT09YS5ub2RlVHlwZSYmYSE9PWImJmMucHVzaChhKTtyZXR1cm4gY30sdz1uLmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LHg9L148KFtcdy1dKylccypcLz8+KD86PFwvXDE+fCkkLyx5PS9eLlteOiNcW1wuLF0qJC87ZnVuY3Rpb24geihhLGIsYyl7aWYobi5pc0Z1bmN0aW9uKGIpKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiEhYi5jYWxsKGEsZCxhKSE9PWN9KTtpZihiLm5vZGVUeXBlKXJldHVybiBuLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWIhPT1jfSk7aWYoInN0cmluZyI9PXR5cGVvZiBiKXtpZih5LnRlc3QoYikpcmV0dXJuIG4uZmlsdGVyKGIsYSxjKTtiPW4uZmlsdGVyKGIsYSl9cmV0dXJuIG4uZ3JlcChhLGZ1bmN0aW9uKGEpe3JldHVybiBuLmluQXJyYXkoYSxiKT4tMSE9PWN9KX1uLmZpbHRlcj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YlswXTtyZXR1cm4gYyYmKGE9Ijpub3QoIithKyIpIiksMT09PWIubGVuZ3RoJiYxPT09ZC5ub2RlVHlwZT9uLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGQsYSk/W2RdOltdOm4uZmluZC5tYXRjaGVzKGEsbi5ncmVwKGIsZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlfSkpfSxuLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYixjPVtdLGQ9dGhpcyxlPWQubGVuZ3RoO2lmKCJzdHJpbmciIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5wdXNoU3RhY2sobihhKS5maWx0ZXIoZnVuY3Rpb24oKXtmb3IoYj0wO2U+YjtiKyspaWYobi5jb250YWlucyhkW2JdLHRoaXMpKXJldHVybiEwfSkpO2ZvcihiPTA7ZT5iO2IrKyluLmZpbmQoYSxkW2JdLGMpO3JldHVybiBjPXRoaXMucHVzaFN0YWNrKGU+MT9uLnVuaXF1ZShjKTpjKSxjLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3I/dGhpcy5zZWxlY3RvcisiICIrYTphLGN9LGZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCExKSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soeih0aGlzLGF8fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEheih0aGlzLCJzdHJpbmciPT10eXBlb2YgYSYmdy50ZXN0KGEpP24oYSk6YXx8W10sITEpLmxlbmd0aH19KTt2YXIgQSxCPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKikpJC8sQz1uLmZuLmluaXQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYz1jfHxBLCJzdHJpbmciPT10eXBlb2YgYSl7aWYoZT0iPCI9PT1hLmNoYXJBdCgwKSYmIj4iPT09YS5jaGFyQXQoYS5sZW5ndGgtMSkmJmEubGVuZ3RoPj0zP1tudWxsLGEsbnVsbF06Qi5leGVjKGEpLCFlfHwhZVsxXSYmYilyZXR1cm4hYnx8Yi5qcXVlcnk/KGJ8fGMpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihiKS5maW5kKGEpO2lmKGVbMV0pe2lmKGI9YiBpbnN0YW5jZW9mIG4/YlswXTpiLG4ubWVyZ2UodGhpcyxuLnBhcnNlSFRNTChlWzFdLGImJmIubm9kZVR5cGU/Yi5vd25lckRvY3VtZW50fHxiOmQsITApKSx4LnRlc3QoZVsxXSkmJm4uaXNQbGFpbk9iamVjdChiKSlmb3IoZSBpbiBiKW4uaXNGdW5jdGlvbih0aGlzW2VdKT90aGlzW2VdKGJbZV0pOnRoaXMuYXR0cihlLGJbZV0pO3JldHVybiB0aGlzfWlmKGY9ZC5nZXRFbGVtZW50QnlJZChlWzJdKSxmJiZmLnBhcmVudE5vZGUpe2lmKGYuaWQhPT1lWzJdKXJldHVybiBBLmZpbmQoYSk7dGhpcy5sZW5ndGg9MSx0aGlzWzBdPWZ9cmV0dXJuIHRoaXMuY29udGV4dD1kLHRoaXMuc2VsZWN0b3I9YSx0aGlzfXJldHVybiBhLm5vZGVUeXBlPyh0aGlzLmNvbnRleHQ9dGhpc1swXT1hLHRoaXMubGVuZ3RoPTEsdGhpcyk6bi5pc0Z1bmN0aW9uKGEpPyJ1bmRlZmluZWQiIT10eXBlb2YgYy5yZWFkeT9jLnJlYWR5KGEpOmEobik6KHZvaWQgMCE9PWEuc2VsZWN0b3ImJih0aGlzLnNlbGVjdG9yPWEuc2VsZWN0b3IsdGhpcy5jb250ZXh0PWEuY29udGV4dCksbi5tYWtlQXJyYXkoYSx0aGlzKSl9O0MucHJvdG90eXBlPW4uZm4sQT1uKGQpO3ZhciBEPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLEU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07bi5mbi5leHRlbmQoe2hhczpmdW5jdGlvbihhKXt2YXIgYixjPW4oYSx0aGlzKSxkPWMubGVuZ3RoO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2ZvcihiPTA7ZD5iO2IrKylpZihuLmNvbnRhaW5zKHRoaXMsY1tiXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT10aGlzLmxlbmd0aCxmPVtdLGc9dy50ZXN0KGEpfHwic3RyaW5nIiE9dHlwZW9mIGE/bihhLGJ8fHRoaXMuY29udGV4dCk6MDtlPmQ7ZCsrKWZvcihjPXRoaXNbZF07YyYmYyE9PWI7Yz1jLnBhcmVudE5vZGUpaWYoYy5ub2RlVHlwZTwxMSYmKGc/Zy5pbmRleChjKT4tMToxPT09Yy5ub2RlVHlwZSYmbi5maW5kLm1hdGNoZXNTZWxlY3RvcihjLGEpKSl7Zi5wdXNoKGMpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayhmLmxlbmd0aD4xP24udW5pcXVlU29ydChmKTpmKX0saW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/InN0cmluZyI9PXR5cGVvZiBhP24uaW5BcnJheSh0aGlzWzBdLG4oYSkpOm4uaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyk6dGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlP3RoaXMuZmlyc3QoKS5wcmV2QWxsKCkubGVuZ3RoOi0xfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobi51bmlxdWVTb3J0KG4ubWVyZ2UodGhpcy5nZXQoKSxuKGEsYikpKSl9LGFkZEJhY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWRkKG51bGw9PWE/dGhpcy5wcmV2T2JqZWN0OnRoaXMucHJldk9iamVjdC5maWx0ZXIoYSkpfX0pO2Z1bmN0aW9uIEYoYSxiKXtkbyBhPWFbYl07d2hpbGUoYSYmMSE9PWEubm9kZVR5cGUpO3JldHVybiBhfW4uZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmMTEhPT1iLm5vZGVUeXBlP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHUoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gRihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gdShhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiB1KGEsInByZXZpb3VzU2libGluZyIpfSxuZXh0VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB1KGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdShhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gdigoYS5wYXJlbnROb2RlfHx7fSkuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIHYoYS5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIG4ubm9kZU5hbWUoYSwiaWZyYW1lIik/YS5jb250ZW50RG9jdW1lbnR8fGEuY29udGVudFdpbmRvdy5kb2N1bWVudDpuLm1lcmdlKFtdLGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe24uZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1uLm1hcCh0aGlzLGIsYyk7cmV0dXJuIlVudGlsIiE9PWEuc2xpY2UoLTUpJiYoZD1jKSxkJiYic3RyaW5nIj09dHlwZW9mIGQmJihlPW4uZmlsdGVyKGQsZSkpLHRoaXMubGVuZ3RoPjEmJihFW2FdfHwoZT1uLnVuaXF1ZVNvcnQoZSkpLEQudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpKSx0aGlzLnB1c2hTdGFjayhlKX19KTt2YXIgRz0vXFMrL2c7ZnVuY3Rpb24gSChhKXt2YXIgYj17fTtyZXR1cm4gbi5lYWNoKGEubWF0Y2goRyl8fFtdLGZ1bmN0aW9uKGEsYyl7YltjXT0hMH0pLGJ9bi5DYWxsYmFja3M9ZnVuY3Rpb24oYSl7YT0ic3RyaW5nIj09dHlwZW9mIGE/SChhKTpuLmV4dGVuZCh7fSxhKTt2YXIgYixjLGQsZSxmPVtdLGc9W10saD0tMSxpPWZ1bmN0aW9uKCl7Zm9yKGU9YS5vbmNlLGQ9Yj0hMDtnLmxlbmd0aDtoPS0xKXtjPWcuc2hpZnQoKTt3aGlsZSgrK2g8Zi5sZW5ndGgpZltoXS5hcHBseShjWzBdLGNbMV0pPT09ITEmJmEuc3RvcE9uRmFsc2UmJihoPWYubGVuZ3RoLGM9ITEpfWEubWVtb3J5fHwoYz0hMSksYj0hMSxlJiYoZj1jP1tdOiIiKX0saj17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIGYmJihjJiYhYiYmKGg9Zi5sZW5ndGgtMSxnLnB1c2goYykpLGZ1bmN0aW9uIGQoYil7bi5lYWNoKGIsZnVuY3Rpb24oYixjKXtuLmlzRnVuY3Rpb24oYyk/YS51bmlxdWUmJmouaGFzKGMpfHxmLnB1c2goYyk6YyYmYy5sZW5ndGgmJiJzdHJpbmciIT09bi50eXBlKGMpJiZkKGMpfSl9KGFyZ3VtZW50cyksYyYmIWImJmkoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZWFjaChhcmd1bWVudHMsZnVuY3Rpb24oYSxiKXt2YXIgYzt3aGlsZSgoYz1uLmluQXJyYXkoYixmLGMpKT4tMSlmLnNwbGljZShjLDEpLGg+PWMmJmgtLX0pLHRoaXN9LGhhczpmdW5jdGlvbihhKXtyZXR1cm4gYT9uLmluQXJyYXkoYSxmKT4tMTpmLmxlbmd0aD4wfSxlbXB0eTpmdW5jdGlvbigpe3JldHVybiBmJiYoZj1bXSksdGhpc30sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiBlPWc9W10sZj1jPSIiLHRoaXN9LGRpc2FibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIWZ9LGxvY2s6ZnVuY3Rpb24oKXtyZXR1cm4gZT0hMCxjfHxqLmRpc2FibGUoKSx0aGlzfSxsb2NrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWV9LGZpcmVXaXRoOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGV8fChjPWN8fFtdLGM9W2EsYy5zbGljZT9jLnNsaWNlKCk6Y10sZy5wdXNoKGMpLGJ8fGkoKSksdGhpc30sZmlyZTpmdW5jdGlvbigpe3JldHVybiBqLmZpcmVXaXRoKHRoaXMsYXJndW1lbnRzKSx0aGlzfSxmaXJlZDpmdW5jdGlvbigpe3JldHVybiEhZH19O3JldHVybiBqfSxuLmV4dGVuZCh7RGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9W1sicmVzb2x2ZSIsImRvbmUiLG4uQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLCJyZXNvbHZlZCJdLFsicmVqZWN0IiwiZmFpbCIsbi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IiksInJlamVjdGVkIl0sWyJub3RpZnkiLCJwcm9ncmVzcyIsbi5DYWxsYmFja3MoIm1lbW9yeSIpXV0sYz0icGVuZGluZyIsZD17c3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gY30sYWx3YXlzOmZ1bmN0aW9uKCl7cmV0dXJuIGUuZG9uZShhcmd1bWVudHMpLmZhaWwoYXJndW1lbnRzKSx0aGlzfSx0aGVuOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBuLkRlZmVycmVkKGZ1bmN0aW9uKGMpe24uZWFjaChiLGZ1bmN0aW9uKGIsZil7dmFyIGc9bi5pc0Z1bmN0aW9uKGFbYl0pJiZhW2JdO2VbZlsxXV0oZnVuY3Rpb24oKXt2YXIgYT1nJiZnLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthJiZuLmlzRnVuY3Rpb24oYS5wcm9taXNlKT9hLnByb21pc2UoKS5wcm9ncmVzcyhjLm5vdGlmeSkuZG9uZShjLnJlc29sdmUpLmZhaWwoYy5yZWplY3QpOmNbZlswXSsiV2l0aCJdKHRoaXM9PT1kP2MucHJvbWlzZSgpOnRoaXMsZz9bYV06YXJndW1lbnRzKX0pfSksYT1udWxsfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hP24uZXh0ZW5kKGEsZCk6ZH19LGU9e307cmV0dXJuIGQucGlwZT1kLnRoZW4sbi5lYWNoKGIsZnVuY3Rpb24oYSxmKXt2YXIgZz1mWzJdLGg9ZlszXTtkW2ZbMV1dPWcuYWRkLGgmJmcuYWRkKGZ1bmN0aW9uKCl7Yz1ofSxiWzFeYV1bMl0uZGlzYWJsZSxiWzJdWzJdLmxvY2spLGVbZlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gZVtmWzBdKyJXaXRoIl0odGhpcz09PWU/ZDp0aGlzLGFyZ3VtZW50cyksdGhpc30sZVtmWzBdKyJXaXRoIl09Zy5maXJlV2l0aH0pLGQucHJvbWlzZShlKSxhJiZhLmNhbGwoZSxlKSxlfSx3aGVuOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz1lLmNhbGwoYXJndW1lbnRzKSxkPWMubGVuZ3RoLGY9MSE9PWR8fGEmJm4uaXNGdW5jdGlvbihhLnByb21pc2UpP2Q6MCxnPTE9PT1mP2E6bi5EZWZlcnJlZCgpLGg9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmdW5jdGlvbihkKXtiW2FdPXRoaXMsY1thXT1hcmd1bWVudHMubGVuZ3RoPjE/ZS5jYWxsKGFyZ3VtZW50cyk6ZCxjPT09aT9nLm5vdGlmeVdpdGgoYixjKTotLWZ8fGcucmVzb2x2ZVdpdGgoYixjKX19LGksaixrO2lmKGQ+MSlmb3IoaT1uZXcgQXJyYXkoZCksaj1uZXcgQXJyYXkoZCksaz1uZXcgQXJyYXkoZCk7ZD5iO2IrKyljW2JdJiZuLmlzRnVuY3Rpb24oY1tiXS5wcm9taXNlKT9jW2JdLnByb21pc2UoKS5wcm9ncmVzcyhoKGIsaixpKSkuZG9uZShoKGIsayxjKSkuZmFpbChnLnJlamVjdCk6LS1mO3JldHVybiBmfHxnLnJlc29sdmVXaXRoKGssYyksZy5wcm9taXNlKCl9fSk7dmFyIEk7bi5mbi5yZWFkeT1mdW5jdGlvbihhKXtyZXR1cm4gbi5yZWFkeS5wcm9taXNlKCkuZG9uZShhKSx0aGlzfSxuLmV4dGVuZCh7aXNSZWFkeTohMSxyZWFkeVdhaXQ6MSxob2xkUmVhZHk6ZnVuY3Rpb24oYSl7YT9uLnJlYWR5V2FpdCsrOm4ucmVhZHkoITApfSxyZWFkeTpmdW5jdGlvbihhKXsoYT09PSEwPy0tbi5yZWFkeVdhaXQ6bi5pc1JlYWR5KXx8KG4uaXNSZWFkeT0hMCxhIT09ITAmJi0tbi5yZWFkeVdhaXQ+MHx8KEkucmVzb2x2ZVdpdGgoZCxbbl0pLG4uZm4udHJpZ2dlckhhbmRsZXImJihuKGQpLnRyaWdnZXJIYW5kbGVyKCJyZWFkeSIpLG4oZCkub2ZmKCJyZWFkeSIpKSkpfX0pO2Z1bmN0aW9uIEooKXtkLmFkZEV2ZW50TGlzdGVuZXI/KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixLKSk6KGQuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5kZXRhY2hFdmVudCgib25sb2FkIixLKSl9ZnVuY3Rpb24gSygpeyhkLmFkZEV2ZW50TGlzdGVuZXJ8fCJsb2FkIj09PWEuZXZlbnQudHlwZXx8ImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZSkmJihKKCksbi5yZWFkeSgpKX1uLnJlYWR5LnByb21pc2U9ZnVuY3Rpb24oYil7aWYoIUkpaWYoST1uLkRlZmVycmVkKCksImNvbXBsZXRlIj09PWQucmVhZHlTdGF0ZXx8ImxvYWRpbmciIT09ZC5yZWFkeVN0YXRlJiYhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpYS5zZXRUaW1lb3V0KG4ucmVhZHkpO2Vsc2UgaWYoZC5hZGRFdmVudExpc3RlbmVyKWQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsSyksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixLKTtlbHNle2QuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsSyksYS5hdHRhY2hFdmVudCgib25sb2FkIixLKTt2YXIgYz0hMTt0cnl7Yz1udWxsPT1hLmZyYW1lRWxlbWVudCYmZC5kb2N1bWVudEVsZW1lbnR9Y2F0Y2goZSl7fWMmJmMuZG9TY3JvbGwmJiFmdW5jdGlvbiBmKCl7aWYoIW4uaXNSZWFkeSl7dHJ5e2MuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChiKXtyZXR1cm4gYS5zZXRUaW1lb3V0KGYsNTApfUooKSxuLnJlYWR5KCl9fSgpfXJldHVybiBJLnByb21pc2UoYil9LG4ucmVhZHkucHJvbWlzZSgpO3ZhciBMO2ZvcihMIGluIG4obCkpYnJlYWs7bC5vd25GaXJzdD0iMCI9PT1MLGwuaW5saW5lQmxvY2tOZWVkc0xheW91dD0hMSxuKGZ1bmN0aW9uKCl7dmFyIGEsYixjLGU7Yz1kLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sYyYmYy5zdHlsZSYmKGI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZS5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MDt3aWR0aDowO2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweCIsYy5hcHBlbmRDaGlsZChlKS5hcHBlbmRDaGlsZChiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGIuc3R5bGUuem9vbSYmKGIuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTppbmxpbmU7bWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzoxcHg7d2lkdGg6MXB4O3pvb206MSIsbC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWE9Mz09PWIub2Zmc2V0V2lkdGgsYSYmKGMuc3R5bGUuem9vbT0xKSksYy5yZW1vdmVDaGlsZChlKSl9KSxmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bC5kZWxldGVFeHBhbmRvPSEwO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKGIpe2wuZGVsZXRlRXhwYW5kbz0hMX1hPW51bGx9KCk7dmFyIE09ZnVuY3Rpb24oYSl7dmFyIGI9bi5ub0RhdGFbKGEubm9kZU5hbWUrIiAiKS50b0xvd2VyQ2FzZSgpXSxjPSthLm5vZGVUeXBlfHwxO3JldHVybiAxIT09YyYmOSE9PWM/ITE6IWJ8fGIhPT0hMCYmYS5nZXRBdHRyaWJ1dGUoImNsYXNzaWQiKT09PWJ9LE49L14oPzpce1tcd1xXXSpcfXxcW1tcd1xXXSpcXSkkLyxPPS8oW0EtWl0pL2c7ZnVuY3Rpb24gUChhLGIsYyl7aWYodm9pZCAwPT09YyYmMT09PWEubm9kZVR5cGUpe3ZhciBkPSJkYXRhLSIrYi5yZXBsYWNlKE8sIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoYz1hLmdldEF0dHJpYnV0ZShkKSwic3RyaW5nIj09dHlwZW9mIGMpe3RyeXtjPSJ0cnVlIj09PWM/ITA6ImZhbHNlIj09PWM/ITE6Im51bGwiPT09Yz9udWxsOitjKyIiPT09Yz8rYzpOLnRlc3QoYyk/bi5wYXJzZUpTT04oYyk6Y31jYXRjaChlKXt9bi5kYXRhKGEsYixjKX1lbHNlIGM9dm9pZCAwOwp9cmV0dXJuIGN9ZnVuY3Rpb24gUShhKXt2YXIgYjtmb3IoYiBpbiBhKWlmKCgiZGF0YSIhPT1ifHwhbi5pc0VtcHR5T2JqZWN0KGFbYl0pKSYmInRvSlNPTiIhPT1iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFIoYSxiLGQsZSl7aWYoTShhKSl7dmFyIGYsZyxoPW4uZXhwYW5kbyxpPWEubm9kZVR5cGUsaj1pP24uY2FjaGU6YSxrPWk/YVtoXTphW2hdJiZoO2lmKGsmJmpba10mJihlfHxqW2tdLmRhdGEpfHx2b2lkIDAhPT1kfHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIGt8fChrPWk/YVtoXT1jLnBvcCgpfHxuLmd1aWQrKzpoKSxqW2tdfHwoaltrXT1pP3t9Ont0b0pTT046bi5ub29wfSksIm9iamVjdCIhPXR5cGVvZiBiJiYiZnVuY3Rpb24iIT10eXBlb2YgYnx8KGU/altrXT1uLmV4dGVuZChqW2tdLGIpOmpba10uZGF0YT1uLmV4dGVuZChqW2tdLmRhdGEsYikpLGc9altrXSxlfHwoZy5kYXRhfHwoZy5kYXRhPXt9KSxnPWcuZGF0YSksdm9pZCAwIT09ZCYmKGdbbi5jYW1lbENhc2UoYildPWQpLCJzdHJpbmciPT10eXBlb2YgYj8oZj1nW2JdLG51bGw9PWYmJihmPWdbbi5jYW1lbENhc2UoYildKSk6Zj1nLGZ9fWZ1bmN0aW9uIFMoYSxiLGMpe2lmKE0oYSkpe3ZhciBkLGUsZj1hLm5vZGVUeXBlLGc9Zj9uLmNhY2hlOmEsaD1mP2Fbbi5leHBhbmRvXTpuLmV4cGFuZG87aWYoZ1toXSl7aWYoYiYmKGQ9Yz9nW2hdOmdbaF0uZGF0YSkpe24uaXNBcnJheShiKT9iPWIuY29uY2F0KG4ubWFwKGIsbi5jYW1lbENhc2UpKTpiIGluIGQ/Yj1bYl06KGI9bi5jYW1lbENhc2UoYiksYj1iIGluIGQ/W2JdOmIuc3BsaXQoIiAiKSksZT1iLmxlbmd0aDt3aGlsZShlLS0pZGVsZXRlIGRbYltlXV07aWYoYz8hUShkKTohbi5pc0VtcHR5T2JqZWN0KGQpKXJldHVybn0oY3x8KGRlbGV0ZSBnW2hdLmRhdGEsUShnW2hdKSkpJiYoZj9uLmNsZWFuRGF0YShbYV0sITApOmwuZGVsZXRlRXhwYW5kb3x8ZyE9Zy53aW5kb3c/ZGVsZXRlIGdbaF06Z1toXT12b2lkIDApfX19bi5leHRlbmQoe2NhY2hlOnt9LG5vRGF0YTp7ImFwcGxldCAiOiEwLCJlbWJlZCAiOiEwLCJvYmplY3QgIjoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIn0saGFzRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLm5vZGVUeXBlP24uY2FjaGVbYVtuLmV4cGFuZG9dXTphW24uZXhwYW5kb10sISFhJiYhUShhKX0sZGF0YTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIFIoYSxiLGMpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFMoYSxiKX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBSKGEsYixjLCEwKX0sX3JlbW92ZURhdGE6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gUyhhLGIsITApfX0pLG4uZm4uZXh0ZW5kKHtkYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGY9dGhpc1swXSxnPWYmJmYuYXR0cmlidXRlcztpZih2b2lkIDA9PT1hKXtpZih0aGlzLmxlbmd0aCYmKGU9bi5kYXRhKGYpLDE9PT1mLm5vZGVUeXBlJiYhbi5fZGF0YShmLCJwYXJzZWRBdHRycyIpKSl7Yz1nLmxlbmd0aDt3aGlsZShjLS0pZ1tjXSYmKGQ9Z1tjXS5uYW1lLDA9PT1kLmluZGV4T2YoImRhdGEtIikmJihkPW4uY2FtZWxDYXNlKGQuc2xpY2UoNSkpLFAoZixkLGVbZF0pKSk7bi5fZGF0YShmLCJwYXJzZWRBdHRycyIsITApfXJldHVybiBlfXJldHVybiJvYmplY3QiPT10eXBlb2YgYT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhKX0pOmFyZ3VtZW50cy5sZW5ndGg+MT90aGlzLmVhY2goZnVuY3Rpb24oKXtuLmRhdGEodGhpcyxhLGIpfSk6Zj9QKGYsYSxuLmRhdGEoZixhKSk6dm9pZCAwfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ7cmV0dXJuIGE/KGI9KGJ8fCJmeCIpKyJxdWV1ZSIsZD1uLl9kYXRhKGEsYiksYyYmKCFkfHxuLmlzQXJyYXkoYyk/ZD1uLl9kYXRhKGEsYixuLm1ha2VBcnJheShjKSk6ZC5wdXNoKGMpKSxkfHxbXSk6dm9pZCAwfSxkZXF1ZXVlOmZ1bmN0aW9uKGEsYil7Yj1ifHwiZngiO3ZhciBjPW4ucXVldWUoYSxiKSxkPWMubGVuZ3RoLGU9Yy5zaGlmdCgpLGY9bi5fcXVldWVIb29rcyhhLGIpLGc9ZnVuY3Rpb24oKXtuLmRlcXVldWUoYSxiKX07ImlucHJvZ3Jlc3MiPT09ZSYmKGU9Yy5zaGlmdCgpLGQtLSksZSYmKCJmeCI9PT1iJiZjLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLGUuY2FsbChhLGcsZikpLCFkJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iKyJxdWV1ZUhvb2tzIjtyZXR1cm4gbi5fZGF0YShhLGMpfHxuLl9kYXRhKGEsYyx7ZW1wdHk6bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5IikuYWRkKGZ1bmN0aW9uKCl7bi5fcmVtb3ZlRGF0YShhLGIrInF1ZXVlIiksbi5fcmVtb3ZlRGF0YShhLGMpfSl9KX19KSxuLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24oYSxiKXt2YXIgYz0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPSJmeCIsYy0tKSxhcmd1bWVudHMubGVuZ3RoPGM/bi5xdWV1ZSh0aGlzWzBdLGEpOnZvaWQgMD09PWI/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1uLnF1ZXVlKHRoaXMsYSxiKTtuLl9xdWV1ZUhvb2tzKHRoaXMsYSksImZ4Ij09PWEmJiJpbnByb2dyZXNzIiE9PWNbMF0mJm4uZGVxdWV1ZSh0aGlzLGEpfSl9LGRlcXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24uZGVxdWV1ZSh0aGlzLGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTEsZT1uLkRlZmVycmVkKCksZj10aGlzLGc9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZHx8ZS5yZXNvbHZlV2l0aChmLFtmXSl9OyJzdHJpbmciIT10eXBlb2YgYSYmKGI9YSxhPXZvaWQgMCksYT1hfHwiZngiO3doaWxlKGctLSljPW4uX2RhdGEoZltnXSxhKyJxdWV1ZUhvb2tzIiksYyYmYy5lbXB0eSYmKGQrKyxjLmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxlLnByb21pc2UoYil9fSksZnVuY3Rpb24oKXt2YXIgYTtsLnNocmlua1dyYXBCbG9ja3M9ZnVuY3Rpb24oKXtpZihudWxsIT1hKXJldHVybiBhO2E9ITE7dmFyIGIsYyxlO3JldHVybiBjPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXSxjJiZjLnN0eWxlPyhiPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGUuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjA7d2lkdGg6MDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHgiLGMuYXBwZW5kQ2hpbGQoZSkuYXBwZW5kQ2hpbGQoYiksInVuZGVmaW5lZCIhPXR5cGVvZiBiLnN0eWxlLnpvb20mJihiLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MXB4O3dpZHRoOjFweDt6b29tOjEiLGIuYXBwZW5kQ2hpbGQoZC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuc3R5bGUud2lkdGg9IjVweCIsYT0zIT09Yi5vZmZzZXRXaWR0aCksYy5yZW1vdmVDaGlsZChlKSxhKTp2b2lkIDB9fSgpO3ZhciBUPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLFU9bmV3IFJlZ0V4cCgiXig/OihbKy1dKT18KSgiK1QrIikoW2EteiVdKikkIiwiaSIpLFY9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXSxXPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9Ynx8YSwibm9uZSI9PT1uLmNzcyhhLCJkaXNwbGF5Iil8fCFuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKX07ZnVuY3Rpb24gWChhLGIsYyxkKXt2YXIgZSxmPTEsZz0yMCxoPWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZC5jdXIoKX06ZnVuY3Rpb24oKXtyZXR1cm4gbi5jc3MoYSxiLCIiKX0saT1oKCksaj1jJiZjWzNdfHwobi5jc3NOdW1iZXJbYl0/IiI6InB4Iiksaz0obi5jc3NOdW1iZXJbYl18fCJweCIhPT1qJiYraSkmJlUuZXhlYyhuLmNzcyhhLGIpKTtpZihrJiZrWzNdIT09ail7aj1qfHxrWzNdLGM9Y3x8W10saz0raXx8MTtkbyBmPWZ8fCIuNSIsay89ZixuLnN0eWxlKGEsYixrK2opO3doaWxlKGYhPT0oZj1oKCkvaSkmJjEhPT1mJiYtLWcpfXJldHVybiBjJiYoaz0ra3x8K2l8fDAsZT1jWzFdP2srKGNbMV0rMSkqY1syXTorY1syXSxkJiYoZC51bml0PWosZC5zdGFydD1rLGQuZW5kPWUpKSxlfXZhciBZPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPTAsaT1hLmxlbmd0aCxqPW51bGw9PWM7aWYoIm9iamVjdCI9PT1uLnR5cGUoYykpe2U9ITA7Zm9yKGggaW4gYylZKGEsYixoLGNbaF0sITAsZixnKX1lbHNlIGlmKHZvaWQgMCE9PWQmJihlPSEwLG4uaXNGdW5jdGlvbihkKXx8KGc9ITApLGomJihnPyhiLmNhbGwoYSxkKSxiPW51bGwpOihqPWIsYj1mdW5jdGlvbihhLGIsYyl7cmV0dXJuIGouY2FsbChuKGEpLGMpfSkpLGIpKWZvcig7aT5oO2grKyliKGFbaF0sYyxnP2Q6ZC5jYWxsKGFbaF0saCxiKGFbaF0sYykpKTtyZXR1cm4gZT9hOmo/Yi5jYWxsKGEpOmk/YihhWzBdLGMpOmZ9LFo9L14oPzpjaGVja2JveHxyYWRpbykkL2ksJD0vPChbXHc6LV0rKS8sXz0vXiR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYWE9L15ccysvLGJhPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98YmRpfGNhbnZhc3xkYXRhfGRhdGFsaXN0fGRldGFpbHN8ZGlhbG9nfGZpZ2NhcHRpb258ZmlndXJlfGZvb3RlcnxoZWFkZXJ8aGdyb3VwfG1haW58bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHBpY3R1cmV8cHJvZ3Jlc3N8c2VjdGlvbnxzdW1tYXJ5fHRlbXBsYXRlfHRpbWV8dmlkZW8iO2Z1bmN0aW9uIGNhKGEpe3ZhciBiPWJhLnNwbGl0KCJ8IiksYz1hLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihjLmNyZWF0ZUVsZW1lbnQpd2hpbGUoYi5sZW5ndGgpYy5jcmVhdGVFbGVtZW50KGIucG9wKCkpO3JldHVybiBjfSFmdW5jdGlvbigpe3ZhciBhPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTthLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixsLmxlYWRpbmdXaGl0ZXNwYWNlPTM9PT1hLmZpcnN0Q2hpbGQubm9kZVR5cGUsbC50Ym9keT0hYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKS5sZW5ndGgsbC5odG1sU2VyaWFsaXplPSEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxsLmh0bWw1Q2xvbmU9Ijw6bmF2PjwvOm5hdj4iIT09ZC5jcmVhdGVFbGVtZW50KCJuYXYiKS5jbG9uZU5vZGUoITApLm91dGVySFRNTCxjLnR5cGU9ImNoZWNrYm94IixjLmNoZWNrZWQ9ITAsYi5hcHBlbmRDaGlsZChjKSxsLmFwcGVuZENoZWNrZWQ9Yy5jaGVja2VkLGEuaW5uZXJIVE1MPSI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+IixsLm5vQ2xvbmVDaGVja2VkPSEhYS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWUsYi5hcHBlbmRDaGlsZChhKSxjPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjLnNldEF0dHJpYnV0ZSgidHlwZSIsInJhZGlvIiksYy5zZXRBdHRyaWJ1dGUoImNoZWNrZWQiLCJjaGVja2VkIiksYy5zZXRBdHRyaWJ1dGUoIm5hbWUiLCJ0IiksYS5hcHBlbmRDaGlsZChjKSxsLmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUoITApLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmNoZWNrZWQsbC5ub0Nsb25lRXZlbnQ9ISFhLmFkZEV2ZW50TGlzdGVuZXIsYVtuLmV4cGFuZG9dPTEsbC5hdHRyaWJ1dGVzPSFhLmdldEF0dHJpYnV0ZShuLmV4cGFuZG8pfSgpO3ZhciBkYT17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPC9zZWxlY3Q+Il0sbGVnZW5kOlsxLCI8ZmllbGRzZXQ+IiwiPC9maWVsZHNldD4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLHBhcmFtOlsxLCI8b2JqZWN0PiIsIjwvb2JqZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sX2RlZmF1bHQ6bC5odG1sU2VyaWFsaXplP1swLCIiLCIiXTpbMSwiWDxkaXY+IiwiPC9kaXY+Il19O2RhLm9wdGdyb3VwPWRhLm9wdGlvbixkYS50Ym9keT1kYS50Zm9vdD1kYS5jb2xncm91cD1kYS5jYXB0aW9uPWRhLnRoZWFkLGRhLnRoPWRhLnRkO2Z1bmN0aW9uIGVhKGEsYil7dmFyIGMsZCxlPTAsZj0idW5kZWZpbmVkIiE9dHlwZW9mIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShifHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2YgYS5xdWVyeVNlbGVjdG9yQWxsP2EucXVlcnlTZWxlY3RvckFsbChifHwiKiIpOnZvaWQgMDtpZighZilmb3IoZj1bXSxjPWEuY2hpbGROb2Rlc3x8YTtudWxsIT0oZD1jW2VdKTtlKyspIWJ8fG4ubm9kZU5hbWUoZCxiKT9mLnB1c2goZCk6bi5tZXJnZShmLGVhKGQsYikpO3JldHVybiB2b2lkIDA9PT1ifHxiJiZuLm5vZGVOYW1lKGEsYik/bi5tZXJnZShbYV0sZik6Zn1mdW5jdGlvbiBmYShhLGIpe2Zvcih2YXIgYyxkPTA7bnVsbCE9KGM9YVtkXSk7ZCsrKW4uX2RhdGEoYywiZ2xvYmFsRXZhbCIsIWJ8fG4uX2RhdGEoYltkXSwiZ2xvYmFsRXZhbCIpKX12YXIgZ2E9Lzx8JiM/XHcrOy8saGE9Lzx0Ym9keS9pO2Z1bmN0aW9uIGlhKGEpe1oudGVzdChhLnR5cGUpJiYoYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWQpfWZ1bmN0aW9uIGphKGEsYixjLGQsZSl7Zm9yKHZhciBmLGcsaCxpLGosayxtLG89YS5sZW5ndGgscD1jYShiKSxxPVtdLHI9MDtvPnI7cisrKWlmKGc9YVtyXSxnfHwwPT09ZylpZigib2JqZWN0Ij09PW4udHlwZShnKSluLm1lcmdlKHEsZy5ub2RlVHlwZT9bZ106Zyk7ZWxzZSBpZihnYS50ZXN0KGcpKXtpPWl8fHAuYXBwZW5kQ2hpbGQoYi5jcmVhdGVFbGVtZW50KCJkaXYiKSksaj0oJC5leGVjKGcpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09ZGFbal18fGRhLl9kZWZhdWx0LGkuaW5uZXJIVE1MPW1bMV0rbi5odG1sUHJlZmlsdGVyKGcpK21bMl0sZj1tWzBdO3doaWxlKGYtLSlpPWkubGFzdENoaWxkO2lmKCFsLmxlYWRpbmdXaGl0ZXNwYWNlJiZhYS50ZXN0KGcpJiZxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhYS5leGVjKGcpWzBdKSksIWwudGJvZHkpe2c9InRhYmxlIiE9PWp8fGhhLnRlc3QoZyk/Ijx0YWJsZT4iIT09bVsxXXx8aGEudGVzdChnKT8wOmk6aS5maXJzdENoaWxkLGY9ZyYmZy5jaGlsZE5vZGVzLmxlbmd0aDt3aGlsZShmLS0pbi5ub2RlTmFtZShrPWcuY2hpbGROb2Rlc1tmXSwidGJvZHkiKSYmIWsuY2hpbGROb2Rlcy5sZW5ndGgmJmcucmVtb3ZlQ2hpbGQoayl9bi5tZXJnZShxLGkuY2hpbGROb2RlcyksaS50ZXh0Q29udGVudD0iIjt3aGlsZShpLmZpcnN0Q2hpbGQpaS5yZW1vdmVDaGlsZChpLmZpcnN0Q2hpbGQpO2k9cC5sYXN0Q2hpbGR9ZWxzZSBxLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShnKSk7aSYmcC5yZW1vdmVDaGlsZChpKSxsLmFwcGVuZENoZWNrZWR8fG4uZ3JlcChlYShxLCJpbnB1dCIpLGlhKSxyPTA7d2hpbGUoZz1xW3IrK10paWYoZCYmbi5pbkFycmF5KGcsZCk+LTEpZSYmZS5wdXNoKGcpO2Vsc2UgaWYoaD1uLmNvbnRhaW5zKGcub3duZXJEb2N1bWVudCxnKSxpPWVhKHAuYXBwZW5kQ2hpbGQoZyksInNjcmlwdCIpLGgmJmZhKGkpLGMpe2Y9MDt3aGlsZShnPWlbZisrXSlfLnRlc3QoZy50eXBlfHwiIikmJmMucHVzaChnKX1yZXR1cm4gaT1udWxsLHB9IWZ1bmN0aW9uKCl7dmFyIGIsYyxlPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKGIgaW57c3VibWl0OiEwLGNoYW5nZTohMCxmb2N1c2luOiEwfSljPSJvbiIrYiwobFtiXT1jIGluIGEpfHwoZS5zZXRBdHRyaWJ1dGUoYywidCIpLGxbYl09ZS5hdHRyaWJ1dGVzW2NdLmV4cGFuZG89PT0hMSk7ZT1udWxsfSgpO3ZhciBrYT0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYSkkL2ksbGE9L15rZXkvLG1hPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxuYT0vXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC8sb2E9L14oW14uXSopKD86XC4oLispfCkvO2Z1bmN0aW9uIHBhKCl7cmV0dXJuITB9ZnVuY3Rpb24gcWEoKXtyZXR1cm4hMX1mdW5jdGlvbiByYSgpe3RyeXtyZXR1cm4gZC5hY3RpdmVFbGVtZW50fWNhdGNoKGEpe319ZnVuY3Rpb24gc2EoYSxiLGMsZCxlLGYpe3ZhciBnLGg7aWYoIm9iamVjdCI9PXR5cGVvZiBiKXsic3RyaW5nIiE9dHlwZW9mIGMmJihkPWR8fGMsYz12b2lkIDApO2ZvcihoIGluIGIpc2EoYSxoLGMsZCxiW2hdLGYpO3JldHVybiBhfWlmKG51bGw9PWQmJm51bGw9PWU/KGU9YyxkPWM9dm9pZCAwKTpudWxsPT1lJiYoInN0cmluZyI9PXR5cGVvZiBjPyhlPWQsZD12b2lkIDApOihlPWQsZD1jLGM9dm9pZCAwKSksZT09PSExKWU9cWE7ZWxzZSBpZighZSlyZXR1cm4gYTtyZXR1cm4gMT09PWYmJihnPWUsZT1mdW5jdGlvbihhKXtyZXR1cm4gbigpLm9mZihhKSxnLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZS5ndWlkPWcuZ3VpZHx8KGcuZ3VpZD1uLmd1aWQrKykpLGEuZWFjaChmdW5jdGlvbigpe24uZXZlbnQuYWRkKHRoaXMsYixlLGQsYyl9KX1uLmV2ZW50PXtnbG9iYWw6e30sYWRkOmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaixrLGwsbSxvLHAscSxyPW4uX2RhdGEoYSk7aWYocil7Yy5oYW5kbGVyJiYoaT1jLGM9aS5oYW5kbGVyLGU9aS5zZWxlY3RvciksYy5ndWlkfHwoYy5ndWlkPW4uZ3VpZCsrKSwoZz1yLmV2ZW50cyl8fChnPXIuZXZlbnRzPXt9KSwoaz1yLmhhbmRsZSl8fChrPXIuaGFuZGxlPWZ1bmN0aW9uKGEpe3JldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8YSYmbi5ldmVudC50cmlnZ2VyZWQ9PT1hLnR5cGU/dm9pZCAwOm4uZXZlbnQuZGlzcGF0Y2guYXBwbHkoay5lbGVtLGFyZ3VtZW50cyl9LGsuZWxlbT1hKSxiPShifHwiIikubWF0Y2goRyl8fFsiIl0saD1iLmxlbmd0aDt3aGlsZShoLS0pZj1vYS5leGVjKGJbaF0pfHxbXSxvPXE9ZlsxXSxwPShmWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP2ouZGVsZWdhdGVUeXBlOmouYmluZFR5cGUpfHxvLGo9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxsPW4uZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6cSxkYXRhOmQsaGFuZGxlcjpjLGd1aWQ6Yy5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJm4uZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6cC5qb2luKCIuIil9LGkpLChtPWdbb10pfHwobT1nW29dPVtdLG0uZGVsZWdhdGVDb3VudD0wLGouc2V0dXAmJmouc2V0dXAuY2FsbChhLGQscCxrKSE9PSExfHwoYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihvLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitvLGspKSksai5hZGQmJihqLmFkZC5jYWxsKGEsbCksbC5oYW5kbGVyLmd1aWR8fChsLmhhbmRsZXIuZ3VpZD1jLmd1aWQpKSxlP20uc3BsaWNlKG0uZGVsZWdhdGVDb3VudCsrLDAsbCk6bS5wdXNoKGwpLG4uZXZlbnQuZ2xvYmFsW29dPSEwKTthPW51bGx9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZixnLGgsaSxqLGssbCxtLG8scCxxLHI9bi5oYXNEYXRhKGEpJiZuLl9kYXRhKGEpO2lmKHImJihrPXIuZXZlbnRzKSl7Yj0oYnx8IiIpLm1hdGNoKEcpfHxbIiJdLGo9Yi5sZW5ndGg7d2hpbGUoai0tKWlmKGg9b2EuZXhlYyhiW2pdKXx8W10sbz1xPWhbMV0scD0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2w9bi5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShkP2wuZGVsZWdhdGVUeXBlOmwuYmluZFR5cGUpfHxvLG09a1tvXXx8W10saD1oWzJdJiZuZXcgUmVnRXhwKCIoXnxcXC4pIitwLmpvaW4oIlxcLig/Oi4qXFwufCkiKSsiKFxcLnwkKSIpLGk9Zj1tLmxlbmd0aDt3aGlsZShmLS0pZz1tW2ZdLCFlJiZxIT09Zy5vcmlnVHlwZXx8YyYmYy5ndWlkIT09Zy5ndWlkfHxoJiYhaC50ZXN0KGcubmFtZXNwYWNlKXx8ZCYmZCE9PWcuc2VsZWN0b3ImJigiKioiIT09ZHx8IWcuc2VsZWN0b3IpfHwobS5zcGxpY2UoZiwxKSxnLnNlbGVjdG9yJiZtLmRlbGVnYXRlQ291bnQtLSxsLnJlbW92ZSYmbC5yZW1vdmUuY2FsbChhLGcpKTtpJiYhbS5sZW5ndGgmJihsLnRlYXJkb3duJiZsLnRlYXJkb3duLmNhbGwoYSxwLHIuaGFuZGxlKSE9PSExfHxuLnJlbW92ZUV2ZW50KGEsbyxyLmhhbmRsZSksZGVsZXRlIGtbb10pfWVsc2UgZm9yKG8gaW4gayluLmV2ZW50LnJlbW92ZShhLG8rYltqXSxjLGQsITApO24uaXNFbXB0eU9iamVjdChrKSYmKGRlbGV0ZSByLmhhbmRsZSxuLl9yZW1vdmVEYXRhKGEsImV2ZW50cyIpKX19LHRyaWdnZXI6ZnVuY3Rpb24oYixjLGUsZil7dmFyIGcsaCxpLGosbCxtLG8scD1bZXx8ZF0scT1rLmNhbGwoYiwidHlwZSIpP2IudHlwZTpiLHI9ay5jYWxsKGIsIm5hbWVzcGFjZSIpP2IubmFtZXNwYWNlLnNwbGl0KCIuIik6W107aWYoaT1tPWU9ZXx8ZCwzIT09ZS5ub2RlVHlwZSYmOCE9PWUubm9kZVR5cGUmJiFuYS50ZXN0KHErbi5ldmVudC50cmlnZ2VyZWQpJiYocS5pbmRleE9mKCIuIik+LTEmJihyPXEuc3BsaXQoIi4iKSxxPXIuc2hpZnQoKSxyLnNvcnQoKSksaD1xLmluZGV4T2YoIjoiKTwwJiYib24iK3EsYj1iW24uZXhwYW5kb10/YjpuZXcgbi5FdmVudChxLCJvYmplY3QiPT10eXBlb2YgYiYmYiksYi5pc1RyaWdnZXI9Zj8yOjMsYi5uYW1lc3BhY2U9ci5qb2luKCIuIiksYi5ybmFtZXNwYWNlPWIubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK3Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCxiLnJlc3VsdD12b2lkIDAsYi50YXJnZXR8fChiLnRhcmdldD1lKSxjPW51bGw9PWM/W2JdOm4ubWFrZUFycmF5KGMsW2JdKSxsPW4uZXZlbnQuc3BlY2lhbFtxXXx8e30sZnx8IWwudHJpZ2dlcnx8bC50cmlnZ2VyLmFwcGx5KGUsYykhPT0hMSkpe2lmKCFmJiYhbC5ub0J1YmJsZSYmIW4uaXNXaW5kb3coZSkpe2ZvcihqPWwuZGVsZWdhdGVUeXBlfHxxLG5hLnRlc3QoaitxKXx8KGk9aS5wYXJlbnROb2RlKTtpO2k9aS5wYXJlbnROb2RlKXAucHVzaChpKSxtPWk7bT09PShlLm93bmVyRG9jdW1lbnR8fGQpJiZwLnB1c2gobS5kZWZhdWx0Vmlld3x8bS5wYXJlbnRXaW5kb3d8fGEpfW89MDt3aGlsZSgoaT1wW28rK10pJiYhYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKWIudHlwZT1vPjE/ajpsLmJpbmRUeXBlfHxxLGc9KG4uX2RhdGEoaSwiZXZlbnRzIil8fHt9KVtiLnR5cGVdJiZuLl9kYXRhKGksImhhbmRsZSIpLGcmJmcuYXBwbHkoaSxjKSxnPWgmJmlbaF0sZyYmZy5hcHBseSYmTShpKSYmKGIucmVzdWx0PWcuYXBwbHkoaSxjKSxiLnJlc3VsdD09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO2lmKGIudHlwZT1xLCFmJiYhYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmKCFsLl9kZWZhdWx0fHxsLl9kZWZhdWx0LmFwcGx5KHAucG9wKCksYyk9PT0hMSkmJk0oZSkmJmgmJmVbcV0mJiFuLmlzV2luZG93KGUpKXttPWVbaF0sbSYmKGVbaF09bnVsbCksbi5ldmVudC50cmlnZ2VyZWQ9cTt0cnl7ZVtxXSgpfWNhdGNoKHMpe31uLmV2ZW50LnRyaWdnZXJlZD12b2lkIDAsbSYmKGVbaF09bSl9cmV0dXJuIGIucmVzdWx0fX0sZGlzcGF0Y2g6ZnVuY3Rpb24oYSl7YT1uLmV2ZW50LmZpeChhKTt2YXIgYixjLGQsZixnLGg9W10saT1lLmNhbGwoYXJndW1lbnRzKSxqPShuLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYS50eXBlXXx8W10saz1uLmV2ZW50LnNwZWNpYWxbYS50eXBlXXx8e307aWYoaVswXT1hLGEuZGVsZWdhdGVUYXJnZXQ9dGhpcywhay5wcmVEaXNwYXRjaHx8ay5wcmVEaXNwYXRjaC5jYWxsKHRoaXMsYSkhPT0hMSl7aD1uLmV2ZW50LmhhbmRsZXJzLmNhbGwodGhpcyxhLGopLGI9MDt3aGlsZSgoZj1oW2IrK10pJiYhYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtLGM9MDt3aGlsZSgoZz1mLmhhbmRsZXJzW2MrK10pJiYhYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWEucm5hbWVzcGFjZSYmIWEucm5hbWVzcGFjZS50ZXN0KGcubmFtZXNwYWNlKXx8KGEuaGFuZGxlT2JqPWcsYS5kYXRhPWcuZGF0YSxkPSgobi5ldmVudC5zcGVjaWFsW2cub3JpZ1R5cGVdfHx7fSkuaGFuZGxlfHxnLmhhbmRsZXIpLmFwcGx5KGYuZWxlbSxpKSx2b2lkIDAhPT1kJiYoYS5yZXN1bHQ9ZCk9PT0hMSYmKGEucHJldmVudERlZmF1bHQoKSxhLnN0b3BQcm9wYWdhdGlvbigpKSl9cmV0dXJuIGsucG9zdERpc3BhdGNoJiZrLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsYSksYS5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc9W10saD1iLmRlbGVnYXRlQ291bnQsaT1hLnRhcmdldDtpZihoJiZpLm5vZGVUeXBlJiYoImNsaWNrIiE9PWEudHlwZXx8aXNOYU4oYS5idXR0b24pfHxhLmJ1dHRvbjwxKSlmb3IoO2khPXRoaXM7aT1pLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PWkubm9kZVR5cGUmJihpLmRpc2FibGVkIT09ITB8fCJjbGljayIhPT1hLnR5cGUpKXtmb3IoZD1bXSxjPTA7aD5jO2MrKylmPWJbY10sZT1mLnNlbGVjdG9yKyIgIix2b2lkIDA9PT1kW2VdJiYoZFtlXT1mLm5lZWRzQ29udGV4dD9uKGUsdGhpcykuaW5kZXgoaSk+LTE6bi5maW5kKGUsdGhpcyxudWxsLFtpXSkubGVuZ3RoKSxkW2VdJiZkLnB1c2goZik7ZC5sZW5ndGgmJmcucHVzaCh7ZWxlbTppLGhhbmRsZXJzOmR9KX1yZXR1cm4gaDxiLmxlbmd0aCYmZy5wdXNoKHtlbGVtOnRoaXMsaGFuZGxlcnM6Yi5zbGljZShoKX0pLGd9LGZpeDpmdW5jdGlvbihhKXtpZihhW24uZXhwYW5kb10pcmV0dXJuIGE7dmFyIGIsYyxlLGY9YS50eXBlLGc9YSxoPXRoaXMuZml4SG9va3NbZl07aHx8KHRoaXMuZml4SG9va3NbZl09aD1tYS50ZXN0KGYpP3RoaXMubW91c2VIb29rczpsYS50ZXN0KGYpP3RoaXMua2V5SG9va3M6e30pLGU9aC5wcm9wcz90aGlzLnByb3BzLmNvbmNhdChoLnByb3BzKTp0aGlzLnByb3BzLGE9bmV3IG4uRXZlbnQoZyksYj1lLmxlbmd0aDt3aGlsZShiLS0pYz1lW2JdLGFbY109Z1tjXTtyZXR1cm4gYS50YXJnZXR8fChhLnRhcmdldD1nLnNyY0VsZW1lbnR8fGQpLDM9PT1hLnRhcmdldC5ub2RlVHlwZSYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLGEubWV0YUtleT0hIWEubWV0YUtleSxoLmZpbHRlcj9oLmZpbHRlcihhLGcpOmF9LHByb3BzOiJhbHRLZXkgYnViYmxlcyBjYW5jZWxhYmxlIGN0cmxLZXkgY3VycmVudFRhcmdldCBkZXRhaWwgZXZlbnRQaGFzZSBtZXRhS2V5IHJlbGF0ZWRUYXJnZXQgc2hpZnRLZXkgdGFyZ2V0IHRpbWVTdGFtcCB2aWV3IHdoaWNoIi5zcGxpdCgiICIpLGZpeEhvb2tzOnt9LGtleUhvb2tzOntwcm9wczoiY2hhciBjaGFyQ29kZSBrZXkga2V5Q29kZSIuc3BsaXQoIiAiKSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbnVsbD09YS53aGljaCYmKGEud2hpY2g9bnVsbCE9Yi5jaGFyQ29kZT9iLmNoYXJDb2RlOmIua2V5Q29kZSksYX19LG1vdXNlSG9va3M6e3Byb3BzOiJidXR0b24gYnV0dG9ucyBjbGllbnRYIGNsaWVudFkgZnJvbUVsZW1lbnQgb2Zmc2V0WCBvZmZzZXRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSB0b0VsZW1lbnQiLnNwbGl0KCIgIiksZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGc9Yi5idXR0b24saD1iLmZyb21FbGVtZW50O3JldHVybiBudWxsPT1hLnBhZ2VYJiZudWxsIT1iLmNsaWVudFgmJihlPWEudGFyZ2V0Lm93bmVyRG9jdW1lbnR8fGQsZj1lLmRvY3VtZW50RWxlbWVudCxjPWUuYm9keSxhLnBhZ2VYPWIuY2xpZW50WCsoZiYmZi5zY3JvbGxMZWZ0fHxjJiZjLnNjcm9sbExlZnR8fDApLShmJiZmLmNsaWVudExlZnR8fGMmJmMuY2xpZW50TGVmdHx8MCksYS5wYWdlWT1iLmNsaWVudFkrKGYmJmYuc2Nyb2xsVG9wfHxjJiZjLnNjcm9sbFRvcHx8MCktKGYmJmYuY2xpZW50VG9wfHxjJiZjLmNsaWVudFRvcHx8MCkpLCFhLnJlbGF0ZWRUYXJnZXQmJmgmJihhLnJlbGF0ZWRUYXJnZXQ9aD09PWEudGFyZ2V0P2IudG9FbGVtZW50OmgpLGEud2hpY2h8fHZvaWQgMD09PWd8fChhLndoaWNoPTEmZz8xOjImZz8zOjQmZz8yOjApLGF9fSxzcGVjaWFsOntsb2FkOntub0J1YmJsZTohMH0sZm9jdXM6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzIT09cmEoKSYmdGhpcy5mb2N1cyl0cnl7cmV0dXJuIHRoaXMuZm9jdXMoKSwhMX1jYXRjaChhKXt9fSxkZWxlZ2F0ZVR5cGU6ImZvY3VzaW4ifSxibHVyOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT1yYSgpJiZ0aGlzLmJsdXI/KHRoaXMuYmx1cigpLCExKTp2b2lkIDB9LGRlbGVnYXRlVHlwZToiZm9jdXNvdXQifSxjbGljazp7dHJpZ2dlcjpmdW5jdGlvbigpe3JldHVybiBuLm5vZGVOYW1lKHRoaXMsImlucHV0IikmJiJjaGVja2JveCI9PT10aGlzLnR5cGUmJnRoaXMuY2xpY2s/KHRoaXMuY2xpY2soKSwhMSk6dm9pZCAwfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtyZXR1cm4gbi5ub2RlTmFtZShhLnRhcmdldCwiYSIpfX0sYmVmb3JldW5sb2FkOntwb3N0RGlzcGF0Y2g6ZnVuY3Rpb24oYSl7dm9pZCAwIT09YS5yZXN1bHQmJmEub3JpZ2luYWxFdmVudCYmKGEub3JpZ2luYWxFdmVudC5yZXR1cm5WYWx1ZT1hLnJlc3VsdCl9fX0sc2ltdWxhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW4uZXh0ZW5kKG5ldyBuLkV2ZW50LGMse3R5cGU6YSxpc1NpbXVsYXRlZDohMH0pO24uZXZlbnQudHJpZ2dlcihkLG51bGwsYiksZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYy5wcmV2ZW50RGVmYXVsdCgpfX0sbi5yZW1vdmVFdmVudD1kLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYyl9OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0ib24iK2I7YS5kZXRhY2hFdmVudCYmKCJ1bmRlZmluZWQiPT10eXBlb2YgYVtkXSYmKGFbZF09bnVsbCksYS5kZXRhY2hFdmVudChkLGMpKX0sbi5FdmVudD1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzIGluc3RhbmNlb2Ygbi5FdmVudD8oYSYmYS50eXBlPyh0aGlzLm9yaWdpbmFsRXZlbnQ9YSx0aGlzLnR5cGU9YS50eXBlLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPWEuZGVmYXVsdFByZXZlbnRlZHx8dm9pZCAwPT09YS5kZWZhdWx0UHJldmVudGVkJiZhLnJldHVyblZhbHVlPT09ITE/cGE6cWEpOnRoaXMudHlwZT1hLGImJm4uZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9YSYmYS50aW1lU3RhbXB8fG4ubm93KCksdm9pZCh0aGlzW24uZXhwYW5kb109ITApKTpuZXcgbi5FdmVudChhLGIpfSxuLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6bi5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6cWEsaXNQcm9wYWdhdGlvblN0b3BwZWQ6cWEsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6cWEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cGEsYSYmKGEucHJldmVudERlZmF1bHQ/YS5wcmV2ZW50RGVmYXVsdCgpOmEucmV0dXJuVmFsdWU9ITEpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1wYSxhJiYhdGhpcy5pc1NpbXVsYXRlZCYmKGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9cGEsYSYmYS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24mJmEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCksdGhpcy5zdG9wUHJvcGFnYXRpb24oKX19LG4uZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24oYSxiKXtuLmV2ZW50LnNwZWNpYWxbYV09e2RlbGVnYXRlVHlwZTpiLGJpbmRUeXBlOmIsaGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBjLGQ9dGhpcyxlPWEucmVsYXRlZFRhcmdldCxmPWEuaGFuZGxlT2JqO3JldHVybiBlJiYoZT09PWR8fG4uY29udGFpbnMoZCxlKSl8fChhLnR5cGU9Zi5vcmlnVHlwZSxjPWYuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWIpLGN9fX0pLGwuc3VibWl0fHwobi5ldmVudC5zcGVjaWFsLnN1Ym1pdD17c2V0dXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5ub2RlTmFtZSh0aGlzLCJmb3JtIik/ITE6dm9pZCBuLmV2ZW50LmFkZCh0aGlzLCJjbGljay5fc3VibWl0IGtleXByZXNzLl9zdWJtaXQiLGZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9bi5ub2RlTmFtZShiLCJpbnB1dCIpfHxuLm5vZGVOYW1lKGIsImJ1dHRvbiIpP24ucHJvcChiLCJmb3JtIik6dm9pZCAwO2MmJiFuLl9kYXRhKGMsInN1Ym1pdCIpJiYobi5ldmVudC5hZGQoYywic3VibWl0Ll9zdWJtaXQiLGZ1bmN0aW9uKGEpe2EuX3N1Ym1pdEJ1YmJsZT0hMH0pLG4uX2RhdGEoYywic3VibWl0IiwhMCkpfSl9LHBvc3REaXNwYXRjaDpmdW5jdGlvbihhKXthLl9zdWJtaXRCdWJibGUmJihkZWxldGUgYS5fc3VibWl0QnViYmxlLHRoaXMucGFyZW50Tm9kZSYmIWEuaXNUcmlnZ2VyJiZuLmV2ZW50LnNpbXVsYXRlKCJzdWJtaXQiLHRoaXMucGFyZW50Tm9kZSxhKSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7cmV0dXJuIG4ubm9kZU5hbWUodGhpcywiZm9ybSIpPyExOnZvaWQgbi5ldmVudC5yZW1vdmUodGhpcywiLl9zdWJtaXQiKX19KSxsLmNoYW5nZXx8KG4uZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e3NldHVwOmZ1bmN0aW9uKCl7cmV0dXJuIGthLnRlc3QodGhpcy5ub2RlTmFtZSk/KCJjaGVja2JveCIhPT10aGlzLnR5cGUmJiJyYWRpbyIhPT10aGlzLnR5cGV8fChuLmV2ZW50LmFkZCh0aGlzLCJwcm9wZXJ0eWNoYW5nZS5fY2hhbmdlIixmdW5jdGlvbihhKXsiY2hlY2tlZCI9PT1hLm9yaWdpbmFsRXZlbnQucHJvcGVydHlOYW1lJiYodGhpcy5fanVzdENoYW5nZWQ9ITApfSksbi5ldmVudC5hZGQodGhpcywiY2xpY2suX2NoYW5nZSIsZnVuY3Rpb24oYSl7dGhpcy5fanVzdENoYW5nZWQmJiFhLmlzVHJpZ2dlciYmKHRoaXMuX2p1c3RDaGFuZ2VkPSExKSxuLmV2ZW50LnNpbXVsYXRlKCJjaGFuZ2UiLHRoaXMsYSl9KSksITEpOnZvaWQgbi5ldmVudC5hZGQodGhpcywiYmVmb3JlYWN0aXZhdGUuX2NoYW5nZSIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7a2EudGVzdChiLm5vZGVOYW1lKSYmIW4uX2RhdGEoYiwiY2hhbmdlIikmJihuLmV2ZW50LmFkZChiLCJjaGFuZ2UuX2NoYW5nZSIsZnVuY3Rpb24oYSl7IXRoaXMucGFyZW50Tm9kZXx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fG4uZXZlbnQuc2ltdWxhdGUoImNoYW5nZSIsdGhpcy5wYXJlbnROb2RlLGEpfSksbi5fZGF0YShiLCJjaGFuZ2UiLCEwKSl9KX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O3JldHVybiB0aGlzIT09Ynx8YS5pc1NpbXVsYXRlZHx8YS5pc1RyaWdnZXJ8fCJyYWRpbyIhPT1iLnR5cGUmJiJjaGVja2JveCIhPT1iLnR5cGU/YS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk6dm9pZCAwfSx0ZWFyZG93bjpmdW5jdGlvbigpe3JldHVybiBuLmV2ZW50LnJlbW92ZSh0aGlzLCIuX2NoYW5nZSIpLCFrYS50ZXN0KHRoaXMubm9kZU5hbWUpfX0pLGwuZm9jdXNpbnx8bi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPWZ1bmN0aW9uKGEpe24uZXZlbnQuc2ltdWxhdGUoYixhLnRhcmdldCxuLmV2ZW50LmZpeChhKSl9O24uZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZT1uLl9kYXRhKGQsYik7ZXx8ZC5hZGRFdmVudExpc3RlbmVyKGEsYywhMCksbi5fZGF0YShkLGIsKGV8fDApKzEpfSx0ZWFyZG93bjpmdW5jdGlvbigpe3ZhciBkPXRoaXMub3duZXJEb2N1bWVudHx8dGhpcyxlPW4uX2RhdGEoZCxiKS0xO2U/bi5fZGF0YShkLGIsZSk6KGQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITApLG4uX3JlbW92ZURhdGEoZCxiKSl9fX0pLG4uZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gc2EodGhpcyxhLGIsYyxkKX0sb25lOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBzYSh0aGlzLGEsYixjLGQsMSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhJiZhLnByZXZlbnREZWZhdWx0JiZhLmhhbmRsZU9iailyZXR1cm4gZD1hLmhhbmRsZU9iaixuKGEuZGVsZWdhdGVUYXJnZXQpLm9mZihkLm5hbWVzcGFjZT9kLm9yaWdUeXBlKyIuIitkLm5hbWVzcGFjZTpkLm9yaWdUeXBlLGQuc2VsZWN0b3IsZC5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2YgYSl7Zm9yKGUgaW4gYSl0aGlzLm9mZihlLGIsYVtlXSk7cmV0dXJuIHRoaXN9cmV0dXJuIGIhPT0hMSYmImZ1bmN0aW9uIiE9dHlwZW9mIGJ8fChjPWIsYj12b2lkIDApLGM9PT0hMSYmKGM9cWEpLHRoaXMuZWFjaChmdW5jdGlvbigpe24uZXZlbnQucmVtb3ZlKHRoaXMsYSxjLGIpfSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7bi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXNbMF07cmV0dXJuIGM/bi5ldmVudC50cmlnZ2VyKGEsYixjLCEwKTp2b2lkIDB9fSk7dmFyIHRhPS8galF1ZXJ5XGQrPSIoPzpudWxsfFxkKykiL2csdWE9bmV3IFJlZ0V4cCgiPCg/OiIrYmErIilbXFxzLz5dIiwiaSIpLHZhPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzotXSspW14+XSopXC8+L2dpLHdhPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLHhhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHlhPS9edHJ1ZVwvKC4qKS8semE9L15ccyo8ISg/OlxbQ0RBVEFcW3wtLSl8KD86XF1cXXwtLSk+XHMqJC9nLEFhPWNhKGQpLEJhPUFhLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpO2Z1bmN0aW9uIENhKGEsYil7cmV0dXJuIG4ubm9kZU5hbWUoYSwidGFibGUiKSYmbi5ub2RlTmFtZSgxMSE9PWIubm9kZVR5cGU/YjpiLmZpcnN0Q2hpbGQsInRyIik/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXXx8YS5hcHBlbmRDaGlsZChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSk6YX1mdW5jdGlvbiBEYShhKXtyZXR1cm4gYS50eXBlPShudWxsIT09bi5maW5kLmF0dHIoYSwidHlwZSIpKSsiLyIrYS50eXBlLGF9ZnVuY3Rpb24gRWEoYSl7dmFyIGI9eWEuZXhlYyhhLnR5cGUpO3JldHVybiBiP2EudHlwZT1iWzFdOmEucmVtb3ZlQXR0cmlidXRlKCJ0eXBlIiksYX1mdW5jdGlvbiBGYShhLGIpe2lmKDE9PT1iLm5vZGVUeXBlJiZuLmhhc0RhdGEoYSkpe3ZhciBjLGQsZSxmPW4uX2RhdGEoYSksZz1uLl9kYXRhKGIsZiksaD1mLmV2ZW50cztpZihoKXtkZWxldGUgZy5oYW5kbGUsZy5ldmVudHM9e307Zm9yKGMgaW4gaClmb3IoZD0wLGU9aFtjXS5sZW5ndGg7ZT5kO2QrKyluLmV2ZW50LmFkZChiLGMsaFtjXVtkXSl9Zy5kYXRhJiYoZy5kYXRhPW4uZXh0ZW5kKHt9LGcuZGF0YSkpfX1mdW5jdGlvbiBHYShhLGIpe3ZhciBjLGQsZTtpZigxPT09Yi5ub2RlVHlwZSl7aWYoYz1iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIWwubm9DbG9uZUV2ZW50JiZiW24uZXhwYW5kb10pe2U9bi5fZGF0YShiKTtmb3IoZCBpbiBlLmV2ZW50cyluLnJlbW92ZUV2ZW50KGIsZCxlLmhhbmRsZSk7Yi5yZW1vdmVBdHRyaWJ1dGUobi5leHBhbmRvKX0ic2NyaXB0Ij09PWMmJmIudGV4dCE9PWEudGV4dD8oRGEoYikudGV4dD1hLnRleHQsRWEoYikpOiJvYmplY3QiPT09Yz8oYi5wYXJlbnROb2RlJiYoYi5vdXRlckhUTUw9YS5vdXRlckhUTUwpLGwuaHRtbDVDbG9uZSYmYS5pbm5lckhUTUwmJiFuLnRyaW0oYi5pbm5lckhUTUwpJiYoYi5pbm5lckhUTUw9YS5pbm5lckhUTUwpKToiaW5wdXQiPT09YyYmWi50ZXN0KGEudHlwZSk/KGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCxiLnZhbHVlIT09YS52YWx1ZSYmKGIudmFsdWU9YS52YWx1ZSkpOiJvcHRpb24iPT09Yz9iLmRlZmF1bHRTZWxlY3RlZD1iLnNlbGVjdGVkPWEuZGVmYXVsdFNlbGVjdGVkOiJpbnB1dCIhPT1jJiYidGV4dGFyZWEiIT09Y3x8KGIuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlKX19ZnVuY3Rpb24gSGEoYSxiLGMsZCl7Yj1mLmFwcGx5KFtdLGIpO3ZhciBlLGcsaCxpLGosayxtPTAsbz1hLmxlbmd0aCxwPW8tMSxxPWJbMF0scj1uLmlzRnVuY3Rpb24ocSk7aWYocnx8bz4xJiYic3RyaW5nIj09dHlwZW9mIHEmJiFsLmNoZWNrQ2xvbmUmJnhhLnRlc3QocSkpcmV0dXJuIGEuZWFjaChmdW5jdGlvbihlKXt2YXIgZj1hLmVxKGUpO3ImJihiWzBdPXEuY2FsbCh0aGlzLGUsZi5odG1sKCkpKSxIYShmLGIsYyxkKX0pO2lmKG8mJihrPWphKGIsYVswXS5vd25lckRvY3VtZW50LCExLGEsZCksZT1rLmZpcnN0Q2hpbGQsMT09PWsuY2hpbGROb2Rlcy5sZW5ndGgmJihrPWUpLGV8fGQpKXtmb3IoaT1uLm1hcChlYShrLCJzY3JpcHQiKSxEYSksaD1pLmxlbmd0aDtvPm07bSsrKWc9ayxtIT09cCYmKGc9bi5jbG9uZShnLCEwLCEwKSxoJiZuLm1lcmdlKGksZWEoZywic2NyaXB0IikpKSxjLmNhbGwoYVttXSxnLG0pO2lmKGgpZm9yKGo9aVtpLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LG4ubWFwKGksRWEpLG09MDtoPm07bSsrKWc9aVttXSxfLnRlc3QoZy50eXBlfHwiIikmJiFuLl9kYXRhKGcsImdsb2JhbEV2YWwiKSYmbi5jb250YWlucyhqLGcpJiYoZy5zcmM/bi5fZXZhbFVybCYmbi5fZXZhbFVybChnLnNyYyk6bi5nbG9iYWxFdmFsKChnLnRleHR8fGcudGV4dENvbnRlbnR8fGcuaW5uZXJIVE1MfHwiIikucmVwbGFjZSh6YSwiIikpKTtrPWU9bnVsbH1yZXR1cm4gYX1mdW5jdGlvbiBJYShhLGIsYyl7Zm9yKHZhciBkLGU9Yj9uLmZpbHRlcihiLGEpOmEsZj0wO251bGwhPShkPWVbZl0pO2YrKyljfHwxIT09ZC5ub2RlVHlwZXx8bi5jbGVhbkRhdGEoZWEoZCkpLGQucGFyZW50Tm9kZSYmKGMmJm4uY29udGFpbnMoZC5vd25lckRvY3VtZW50LGQpJiZmYShlYShkLCJzY3JpcHQiKSksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpKTtyZXR1cm4gYX1uLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHZhLCI8JDE+PC8kMj4iKX0sY2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaT1uLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKTtpZihsLmh0bWw1Q2xvbmV8fG4uaXNYTUxEb2MoYSl8fCF1YS50ZXN0KCI8IithLm5vZGVOYW1lKyI+Iik/Zj1hLmNsb25lTm9kZSghMCk6KEJhLmlubmVySFRNTD1hLm91dGVySFRNTCxCYS5yZW1vdmVDaGlsZChmPUJhLmZpcnN0Q2hpbGQpKSwhKGwubm9DbG9uZUV2ZW50JiZsLm5vQ2xvbmVDaGVja2VkfHwxIT09YS5ub2RlVHlwZSYmMTEhPT1hLm5vZGVUeXBlfHxuLmlzWE1MRG9jKGEpKSlmb3IoZD1lYShmKSxoPWVhKGEpLGc9MDtudWxsIT0oZT1oW2ddKTsrK2cpZFtnXSYmR2EoZSxkW2ddKTtpZihiKWlmKGMpZm9yKGg9aHx8ZWEoYSksZD1kfHxlYShmKSxnPTA7bnVsbCE9KGU9aFtnXSk7ZysrKUZhKGUsZFtnXSk7ZWxzZSBGYShhLGYpO3JldHVybiBkPWVhKGYsInNjcmlwdCIpLGQubGVuZ3RoPjAmJmZhKGQsIWkmJmVhKGEsInNjcmlwdCIpKSxkPWg9ZT1udWxsLGZ9LGNsZWFuRGF0YTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZCxlLGYsZyxoPTAsaT1uLmV4cGFuZG8saj1uLmNhY2hlLGs9bC5hdHRyaWJ1dGVzLG09bi5ldmVudC5zcGVjaWFsO251bGwhPShkPWFbaF0pO2grKylpZigoYnx8TShkKSkmJihmPWRbaV0sZz1mJiZqW2ZdKSl7aWYoZy5ldmVudHMpZm9yKGUgaW4gZy5ldmVudHMpbVtlXT9uLmV2ZW50LnJlbW92ZShkLGUpOm4ucmVtb3ZlRXZlbnQoZCxlLGcuaGFuZGxlKTtqW2ZdJiYoZGVsZXRlIGpbZl0sa3x8InVuZGVmaW5lZCI9PXR5cGVvZiBkLnJlbW92ZUF0dHJpYnV0ZT9kW2ldPXZvaWQgMDpkLnJlbW92ZUF0dHJpYnV0ZShpKSxjLnB1c2goZikpfX19KSxuLmZuLmV4dGVuZCh7ZG9tTWFuaXA6SGEsZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiBJYSh0aGlzLGEsITApfSxyZW1vdmU6ZnVuY3Rpb24oYSl7cmV0dXJuIElhKHRoaXMsYSl9LHRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwPT09YT9uLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxkKS5jcmVhdGVUZXh0Tm9kZShhKSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEhhKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2lmKDE9PT10aGlzLm5vZGVUeXBlfHwxMT09PXRoaXMubm9kZVR5cGV8fDk9PT10aGlzLm5vZGVUeXBlKXt2YXIgYj1DYSh0aGlzLGEpO2IuYXBwZW5kQ2hpbGQoYSl9fSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7aWYoMT09PXRoaXMubm9kZVR5cGV8fDExPT09dGhpcy5ub2RlVHlwZXx8OT09PXRoaXMubm9kZVR5cGUpe3ZhciBiPUNhKHRoaXMsYSk7Yi5pbnNlcnRCZWZvcmUoYSxiLmZpcnN0Q2hpbGQpfX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KX0sYWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlJiZ0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KX0sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGEsYj0wO251bGwhPShhPXRoaXNbYl0pO2IrKyl7MT09PWEubm9kZVR5cGUmJm4uY2xlYW5EYXRhKGVhKGEsITEpKTt3aGlsZShhLmZpcnN0Q2hpbGQpYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpO2Eub3B0aW9ucyYmbi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGEub3B0aW9ucy5sZW5ndGg9MCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9bnVsbD09YT8hMTphLGI9bnVsbD09Yj9hOmIsdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gbi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtyZXR1cm4gWSh0aGlzLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF18fHt9LGM9MCxkPXRoaXMubGVuZ3RoO2lmKHZvaWQgMD09PWEpcmV0dXJuIDE9PT1iLm5vZGVUeXBlP2IuaW5uZXJIVE1MLnJlcGxhY2UodGEsIiIpOnZvaWQgMDtpZigic3RyaW5nIj09dHlwZW9mIGEmJiF3YS50ZXN0KGEpJiYobC5odG1sU2VyaWFsaXplfHwhdWEudGVzdChhKSkmJihsLmxlYWRpbmdXaGl0ZXNwYWNlfHwhYWEudGVzdChhKSkmJiFkYVsoJC5leGVjKGEpfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpXSl7YT1uLmh0bWxQcmVmaWx0ZXIoYSk7dHJ5e2Zvcig7ZD5jO2MrKyliPXRoaXNbY118fHt9LDE9PT1iLm5vZGVUeXBlJiYobi5jbGVhbkRhdGEoZWEoYiwhMSkpLGIuaW5uZXJIVE1MPWEpO2I9MH1jYXRjaChlKXt9fWImJnRoaXMuZW1wdHkoKS5hcHBlbmQoYSl9LG51bGwsYSxhcmd1bWVudHMubGVuZ3RoKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oKXt2YXIgYT1bXTtyZXR1cm4gSGEodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5wYXJlbnROb2RlO24uaW5BcnJheSh0aGlzLGEpPDAmJihuLmNsZWFuRGF0YShlYSh0aGlzKSksYyYmYy5yZXBsYWNlQ2hpbGQoYix0aGlzKSl9LGEpfX0pLG4uZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhKXtmb3IodmFyIGMsZD0wLGU9W10sZj1uKGEpLGg9Zi5sZW5ndGgtMTtoPj1kO2QrKyljPWQ9PT1oP3RoaXM6dGhpcy5jbG9uZSghMCksbihmW2RdKVtiXShjKSxnLmFwcGx5KGUsYy5nZXQoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUpfX0pO3ZhciBKYSxLYT17SFRNTDoiYmxvY2siLEJPRFk6ImJsb2NrIn07ZnVuY3Rpb24gTGEoYSxiKXt2YXIgYz1uKGIuY3JlYXRlRWxlbWVudChhKSkuYXBwZW5kVG8oYi5ib2R5KSxkPW4uY3NzKGNbMF0sImRpc3BsYXkiKTtyZXR1cm4gYy5kZXRhY2goKSxkfWZ1bmN0aW9uIE1hKGEpe3ZhciBiPWQsYz1LYVthXTtyZXR1cm4gY3x8KGM9TGEoYSxiKSwibm9uZSIhPT1jJiZjfHwoSmE9KEphfHxuKCI8aWZyYW1lIGZyYW1lYm9yZGVyPScwJyB3aWR0aD0nMCcgaGVpZ2h0PScwJy8+IikpLmFwcGVuZFRvKGIuZG9jdW1lbnRFbGVtZW50KSxiPShKYVswXS5jb250ZW50V2luZG93fHxKYVswXS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGIud3JpdGUoKSxiLmNsb3NlKCksYz1MYShhLGIpLEphLmRldGFjaCgpKSxLYVthXT1jKSxjfXZhciBOYT0vXm1hcmdpbi8sT2E9bmV3IFJlZ0V4cCgiXigiK1QrIikoPyFweClbYS16JV0rJCIsImkiKSxQYT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZSxmLGc9e307Zm9yKGYgaW4gYilnW2ZdPWEuc3R5bGVbZl0sYS5zdHlsZVtmXT1iW2ZdO2U9Yy5hcHBseShhLGR8fFtdKTtmb3IoZiBpbiBiKWEuc3R5bGVbZl09Z1tmXTtyZXR1cm4gZX0sUWE9ZC5kb2N1bWVudEVsZW1lbnQ7IWZ1bmN0aW9uKCl7dmFyIGIsYyxlLGYsZyxoLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxqPWQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYoai5zdHlsZSl7ai5zdHlsZS5jc3NUZXh0PSJmbG9hdDpsZWZ0O29wYWNpdHk6LjUiLGwub3BhY2l0eT0iMC41Ij09PWouc3R5bGUub3BhY2l0eSxsLmNzc0Zsb2F0PSEhai5zdHlsZS5jc3NGbG9hdCxqLnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsai5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGwuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT1qLnN0eWxlLmJhY2tncm91bmRDbGlwLGk9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3dpZHRoOjhweDtoZWlnaHQ6MDt0b3A6MDtsZWZ0Oi05OTk5cHg7cGFkZGluZzowO21hcmdpbi10b3A6MXB4O3Bvc2l0aW9uOmFic29sdXRlIixqLmlubmVySFRNTD0iIixpLmFwcGVuZENoaWxkKGopLGwuYm94U2l6aW5nPSIiPT09ai5zdHlsZS5ib3hTaXppbmd8fCIiPT09ai5zdHlsZS5Nb3pCb3hTaXppbmd8fCIiPT09ai5zdHlsZS5XZWJraXRCb3hTaXppbmcsbi5leHRlbmQobCx7cmVsaWFibGVIaWRkZW5PZmZzZXRzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxmfSxib3hTaXppbmdSZWxpYWJsZTpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZX0scGl4ZWxNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksY30scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksYn0scmVsaWFibGVNYXJnaW5SaWdodDpmdW5jdGlvbigpe3JldHVybiBudWxsPT1iJiZrKCksZ30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PWImJmsoKSxofX0pO2Z1bmN0aW9uIGsoKXt2YXIgayxsLG09ZC5kb2N1bWVudEVsZW1lbnQ7bS5hcHBlbmRDaGlsZChpKSxqLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O2JveC1zaXppbmc6Ym9yZGVyLWJveDtwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO21hcmdpbjphdXRvO2JvcmRlcjoxcHg7cGFkZGluZzoxcHg7dG9wOjElO3dpZHRoOjUwJSIsYj1lPWg9ITEsYz1nPSEwLGEuZ2V0Q29tcHV0ZWRTdHlsZSYmKGw9YS5nZXRDb21wdXRlZFN0eWxlKGopLGI9IjElIiE9PShsfHx7fSkudG9wLGg9IjJweCI9PT0obHx8e30pLm1hcmdpbkxlZnQsZT0iNHB4Ij09PShsfHx7d2lkdGg6IjRweCJ9KS53aWR0aCxqLnN0eWxlLm1hcmdpblJpZ2h0PSI1MCUiLGM9IjRweCI9PT0obHx8e21hcmdpblJpZ2h0OiI0cHgifSkubWFyZ2luUmlnaHQsaz1qLmFwcGVuZENoaWxkKGQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGsuc3R5bGUuY3NzVGV4dD1qLnN0eWxlLmNzc1RleHQ9Ii13ZWJraXQtYm94LXNpemluZzpjb250ZW50LWJveDstbW96LWJveC1zaXppbmc6Y29udGVudC1ib3g7Ym94LXNpemluZzpjb250ZW50LWJveDtkaXNwbGF5OmJsb2NrO21hcmdpbjowO2JvcmRlcjowO3BhZGRpbmc6MCIsay5zdHlsZS5tYXJnaW5SaWdodD1rLnN0eWxlLndpZHRoPSIwIixqLnN0eWxlLndpZHRoPSIxcHgiLGc9IXBhcnNlRmxvYXQoKGEuZ2V0Q29tcHV0ZWRTdHlsZShrKXx8e30pLm1hcmdpblJpZ2h0KSxqLnJlbW92ZUNoaWxkKGspKSxqLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWouZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgsZiYmKGouc3R5bGUuZGlzcGxheT0iIixqLmlubmVySFRNTD0iPHRhYmxlPjx0cj48dGQ+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIsai5jaGlsZE5vZGVzWzBdLnN0eWxlLmJvcmRlckNvbGxhcHNlPSJzZXBhcmF0ZSIsaz1qLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLGtbMF0uc3R5bGUuY3NzVGV4dD0ibWFyZ2luOjA7Ym9yZGVyOjA7cGFkZGluZzowO2Rpc3BsYXk6bm9uZSIsZj0wPT09a1swXS5vZmZzZXRIZWlnaHQsZiYmKGtbMF0uc3R5bGUuZGlzcGxheT0iIixrWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGY9MD09PWtbMF0ub2Zmc2V0SGVpZ2h0KSksbS5yZW1vdmVDaGlsZChpKX19fSgpO3ZhciBSYSxTYSxUYT0vXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC87YS5nZXRDb21wdXRlZFN0eWxlPyhSYT1mdW5jdGlvbihiKXt2YXIgYz1iLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7cmV0dXJuIGMmJmMub3BlbmVyfHwoYz1hKSxjLmdldENvbXB1dGVkU3R5bGUoYil9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2MuZ2V0UHJvcGVydHlWYWx1ZShiKXx8Y1tiXTp2b2lkIDAsIiIhPT1nJiZ2b2lkIDAhPT1nfHxuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKXx8KGc9bi5zdHlsZShhLGIpKSxjJiYhbC5waXhlbE1hcmdpblJpZ2h0KCkmJk9hLnRlc3QoZykmJk5hLnRlc3QoYikmJihkPWgud2lkdGgsZT1oLm1pbldpZHRoLGY9aC5tYXhXaWR0aCxoLm1pbldpZHRoPWgubWF4V2lkdGg9aC53aWR0aD1nLGc9Yy53aWR0aCxoLndpZHRoPWQsaC5taW5XaWR0aD1lLGgubWF4V2lkdGg9Ziksdm9pZCAwPT09Zz9nOmcrIiJ9KTpRYS5jdXJyZW50U3R5bGUmJihSYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5jdXJyZW50U3R5bGV9LFNhPWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoPWEuc3R5bGU7cmV0dXJuIGM9Y3x8UmEoYSksZz1jP2NbYl06dm9pZCAwLG51bGw9PWcmJmgmJmhbYl0mJihnPWhbYl0pLE9hLnRlc3QoZykmJiFUYS50ZXN0KGIpJiYoZD1oLmxlZnQsZT1hLnJ1bnRpbWVTdHlsZSxmPWUmJmUubGVmdCxmJiYoZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGgubGVmdD0iZm9udFNpemUiPT09Yj8iMWVtIjpnLGc9aC5waXhlbExlZnQrInB4IixoLmxlZnQ9ZCxmJiYoZS5sZWZ0PWYpKSx2b2lkIDA9PT1nP2c6ZysiInx8ImF1dG8ifSk7ZnVuY3Rpb24gVWEoYSxiKXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGEoKT92b2lkIGRlbGV0ZSB0aGlzLmdldDoodGhpcy5nZXQ9YikuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19dmFyIFZhPS9hbHBoYVwoW14pXSpcKS9pLFdhPS9vcGFjaXR5XHMqPVxzKihbXildKikvaSxYYT0vXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sWWE9bmV3IFJlZ0V4cCgiXigiK1QrIikoLiopJCIsImkiKSxaYT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sJGE9e2xldHRlclNwYWNpbmc6IjAiLGZvbnRXZWlnaHQ6IjQwMCJ9LF9hPVsiV2Via2l0IiwiTyIsIk1veiIsIm1zIl0sYWI9ZC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZTtmdW5jdGlvbiBiYihhKXtpZihhIGluIGFiKXJldHVybiBhO3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zbGljZSgxKSxjPV9hLmxlbmd0aDt3aGlsZShjLS0paWYoYT1fYVtjXStiLGEgaW4gYWIpcmV0dXJuIGF9ZnVuY3Rpb24gY2IoYSxiKXtmb3IodmFyIGMsZCxlLGY9W10sZz0wLGg9YS5sZW5ndGg7aD5nO2crKylkPWFbZ10sZC5zdHlsZSYmKGZbZ109bi5fZGF0YShkLCJvbGRkaXNwbGF5IiksYz1kLnN0eWxlLmRpc3BsYXksYj8oZltnXXx8Im5vbmUiIT09Y3x8KGQuc3R5bGUuZGlzcGxheT0iIiksIiI9PT1kLnN0eWxlLmRpc3BsYXkmJlcoZCkmJihmW2ddPW4uX2RhdGEoZCwib2xkZGlzcGxheSIsTWEoZC5ub2RlTmFtZSkpKSk6KGU9VyhkKSwoYyYmIm5vbmUiIT09Y3x8IWUpJiZuLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGU/YzpuLmNzcyhkLCJkaXNwbGF5IikpKSk7Zm9yKGc9MDtoPmc7ZysrKWQ9YVtnXSxkLnN0eWxlJiYoYiYmIm5vbmUiIT09ZC5zdHlsZS5kaXNwbGF5JiYiIiE9PWQuc3R5bGUuZGlzcGxheXx8KGQuc3R5bGUuZGlzcGxheT1iP2ZbZ118fCIiOiJub25lIikpO3JldHVybiBhfWZ1bmN0aW9uIGRiKGEsYixjKXt2YXIgZD1ZYS5leGVjKGIpO3JldHVybiBkP01hdGgubWF4KDAsZFsxXS0oY3x8MCkpKyhkWzJdfHwicHgiKTpifWZ1bmN0aW9uIGViKGEsYixjLGQsZSl7Zm9yKHZhciBmPWM9PT0oZD8iYm9yZGVyIjoiY29udGVudCIpPzQ6IndpZHRoIj09PWI/MTowLGc9MDs0PmY7Zis9MikibWFyZ2luIj09PWMmJihnKz1uLmNzcyhhLGMrVltmXSwhMCxlKSksZD8oImNvbnRlbnQiPT09YyYmKGctPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSkpLCJtYXJnaW4iIT09YyYmKGctPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk6KGcrPW4uY3NzKGEsInBhZGRpbmciK1ZbZl0sITAsZSksInBhZGRpbmciIT09YyYmKGcrPW4uY3NzKGEsImJvcmRlciIrVltmXSsiV2lkdGgiLCEwLGUpKSk7cmV0dXJuIGd9ZnVuY3Rpb24gZmIoYSxiLGMpe3ZhciBkPSEwLGU9IndpZHRoIj09PWI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodCxmPVJhKGEpLGc9bC5ib3hTaXppbmcmJiJib3JkZXItYm94Ij09PW4uY3NzKGEsImJveFNpemluZyIsITEsZik7aWYoMD49ZXx8bnVsbD09ZSl7aWYoZT1TYShhLGIsZiksKDA+ZXx8bnVsbD09ZSkmJihlPWEuc3R5bGVbYl0pLE9hLnRlc3QoZSkpcmV0dXJuIGU7ZD1nJiYobC5ib3hTaXppbmdSZWxpYWJsZSgpfHxlPT09YS5zdHlsZVtiXSksZT1wYXJzZUZsb2F0KGUpfHwwfXJldHVybiBlK2ViKGEsYixjfHwoZz8iYm9yZGVyIjoiY29udGVudCIpLGQsZikrInB4In1uLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPVNhKGEsIm9wYWNpdHkiKTtyZXR1cm4iIj09PWM/IjEiOmN9fX19LGNzc051bWJlcjp7YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsY29sdW1uQ291bnQ6ITAsZmlsbE9wYWNpdHk6ITAsZmxleEdyb3c6ITAsZmxleFNocmluazohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcmRlcjohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6bC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYSYmMyE9PWEubm9kZVR5cGUmJjghPT1hLm5vZGVUeXBlJiZhLnN0eWxlKXt2YXIgZSxmLGcsaD1uLmNhbWVsQ2FzZShiKSxpPWEuc3R5bGU7aWYoYj1uLmNzc1Byb3BzW2hdfHwobi5jc3NQcm9wc1toXT1iYihoKXx8aCksZz1uLmNzc0hvb2tzW2JdfHxuLmNzc0hvb2tzW2hdLHZvaWQgMD09PWMpcmV0dXJuIGcmJiJnZXQiaW4gZyYmdm9pZCAwIT09KGU9Zy5nZXQoYSwhMSxkKSk/ZTppW2JdO2lmKGY9dHlwZW9mIGMsInN0cmluZyI9PT1mJiYoZT1VLmV4ZWMoYykpJiZlWzFdJiYoYz1YKGEsYixlKSxmPSJudW1iZXIiKSxudWxsIT1jJiZjPT09YyYmKCJudW1iZXIiPT09ZiYmKGMrPWUmJmVbM118fChuLmNzc051bWJlcltoXT8iIjoicHgiKSksbC5jbGVhckNsb25lU3R5bGV8fCIiIT09Y3x8MCE9PWIuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoaVtiXT0iaW5oZXJpdCIpLCEoZyYmInNldCJpbiBnJiZ2b2lkIDA9PT0oYz1nLnNldChhLGMsZCkpKSkpdHJ5e2lbYl09Y31jYXRjaChqKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlLGYsZyxoPW4uY2FtZWxDYXNlKGIpO3JldHVybiBiPW4uY3NzUHJvcHNbaF18fChuLmNzc1Byb3BzW2hdPWJiKGgpfHxoKSxnPW4uY3NzSG9va3NbYl18fG4uY3NzSG9va3NbaF0sZyYmImdldCJpbiBnJiYoZj1nLmdldChhLCEwLGMpKSx2b2lkIDA9PT1mJiYoZj1TYShhLGIsZCkpLCJub3JtYWwiPT09ZiYmYiBpbiAkYSYmKGY9JGFbYl0pLCIiPT09Y3x8Yz8oZT1wYXJzZUZsb2F0KGYpLGM9PT0hMHx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pLG4uZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2JdPXtnZXQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiBjP1hhLnRlc3Qobi5jc3MoYSwiZGlzcGxheSIpKSYmMD09PWEub2Zmc2V0V2lkdGg/UGEoYSxaYSxmdW5jdGlvbigpe3JldHVybiBmYihhLGIsZCl9KTpmYihhLGIsZCk6dm9pZCAwfSxzZXQ6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPWQmJlJhKGEpO3JldHVybiBkYihhLGMsZD9lYihhLGIsZCxsLmJveFNpemluZyYmImJvcmRlci1ib3giPT09bi5jc3MoYSwiYm94U2l6aW5nIiwhMSxlKSxlKTowKX19fSksbC5vcGFjaXR5fHwobi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gV2EudGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpPy4wMSpwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZSxlPW4uaXNOdW1lcmljKGIpPyJhbHBoYShvcGFjaXR5PSIrMTAwKmIrIikiOiIiLGY9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLnpvb209MSwoYj49MXx8IiI9PT1iKSYmIiI9PT1uLnRyaW0oZi5yZXBsYWNlKFZhLCIiKSkmJmMucmVtb3ZlQXR0cmlidXRlJiYoYy5yZW1vdmVBdHRyaWJ1dGUoImZpbHRlciIpLCIiPT09Ynx8ZCYmIWQuZmlsdGVyKXx8KGMuZmlsdGVyPVZhLnRlc3QoZik/Zi5yZXBsYWNlKFZhLGUpOmYrIiAiK2UpfX0pLG4uY3NzSG9va3MubWFyZ2luUmlnaHQ9VWEobC5yZWxpYWJsZU1hcmdpblJpZ2h0LGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/UGEoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sU2EsW2EsIm1hcmdpblJpZ2h0Il0pOnZvaWQgMH0pLG4uY3NzSG9va3MubWFyZ2luTGVmdD1VYShsLnJlbGlhYmxlTWFyZ2luTGVmdCxmdW5jdGlvbihhLGIpe3JldHVybiBiPyhwYXJzZUZsb2F0KFNhKGEsIm1hcmdpbkxlZnQiKSl8fChuLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudCxhKT9hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQtUGEoYSx7Cm1hcmdpbkxlZnQ6MH0sZnVuY3Rpb24oKXtyZXR1cm4gYS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0fSk6MCkpKyJweCI6dm9pZCAwfSksbi5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24oYSxiKXtuLmNzc0hvb2tzW2ErYl09e2V4cGFuZDpmdW5jdGlvbihjKXtmb3IodmFyIGQ9MCxlPXt9LGY9InN0cmluZyI9PXR5cGVvZiBjP2Muc3BsaXQoIiAiKTpbY107ND5kO2QrKyllW2ErVltkXStiXT1mW2RdfHxmW2QtMl18fGZbMF07cmV0dXJuIGV9fSxOYS50ZXN0KGEpfHwobi5jc3NIb29rc1thK2JdLnNldD1kYil9KSxuLmZuLmV4dGVuZCh7Y3NzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmPXt9LGc9MDtpZihuLmlzQXJyYXkoYikpe2ZvcihkPVJhKGEpLGU9Yi5sZW5ndGg7ZT5nO2crKylmW2JbZ11dPW4uY3NzKGEsYltnXSwhMSxkKTtyZXR1cm4gZn1yZXR1cm4gdm9pZCAwIT09Yz9uLnN0eWxlKGEsYixjKTpuLmNzcyhhLGIpfSxhLGIsYXJndW1lbnRzLmxlbmd0aD4xKX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBjYih0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3JldHVybiJib29sZWFuIj09dHlwZW9mIGE/YT90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXtXKHRoaXMpP24odGhpcykuc2hvdygpOm4odGhpcykuaGlkZSgpfSl9fSk7ZnVuY3Rpb24gZ2IoYSxiLGMsZCxlKXtyZXR1cm4gbmV3IGdiLnByb3RvdHlwZS5pbml0KGEsYixjLGQsZSl9bi5Ud2Vlbj1nYixnYi5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmdiLGluaXQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3RoaXMuZWxlbT1hLHRoaXMucHJvcD1jLHRoaXMuZWFzaW5nPWV8fG4uZWFzaW5nLl9kZWZhdWx0LHRoaXMub3B0aW9ucz1iLHRoaXMuc3RhcnQ9dGhpcy5ub3c9dGhpcy5jdXIoKSx0aGlzLmVuZD1kLHRoaXMudW5pdD1mfHwobi5jc3NOdW1iZXJbY10/IiI6InB4Iil9LGN1cjpmdW5jdGlvbigpe3ZhciBhPWdiLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiBhJiZhLmdldD9hLmdldCh0aGlzKTpnYi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24oYSl7dmFyIGIsYz1nYi5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gdGhpcy5vcHRpb25zLmR1cmF0aW9uP3RoaXMucG9zPWI9bi5lYXNpbmdbdGhpcy5lYXNpbmddKGEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKmEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik6dGhpcy5wb3M9Yj1hLHRoaXMubm93PSh0aGlzLmVuZC10aGlzLnN0YXJ0KSpiK3RoaXMuc3RhcnQsdGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpLGMmJmMuc2V0P2Muc2V0KHRoaXMpOmdiLnByb3BIb29rcy5fZGVmYXVsdC5zZXQodGhpcyksdGhpc319LGdiLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1nYi5wcm90b3R5cGUsZ2IucHJvcEhvb2tzPXtfZGVmYXVsdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiO3JldHVybiAxIT09YS5lbGVtLm5vZGVUeXBlfHxudWxsIT1hLmVsZW1bYS5wcm9wXSYmbnVsbD09YS5lbGVtLnN0eWxlW2EucHJvcF0/YS5lbGVtW2EucHJvcF06KGI9bi5jc3MoYS5lbGVtLGEucHJvcCwiIiksYiYmImF1dG8iIT09Yj9iOjApfSxzZXQ6ZnVuY3Rpb24oYSl7bi5meC5zdGVwW2EucHJvcF0/bi5meC5zdGVwW2EucHJvcF0oYSk6MSE9PWEuZWxlbS5ub2RlVHlwZXx8bnVsbD09YS5lbGVtLnN0eWxlW24uY3NzUHJvcHNbYS5wcm9wXV0mJiFuLmNzc0hvb2tzW2EucHJvcF0/YS5lbGVtW2EucHJvcF09YS5ub3c6bi5zdHlsZShhLmVsZW0sYS5wcm9wLGEubm93K2EudW5pdCl9fX0sZ2IucHJvcEhvb2tzLnNjcm9sbFRvcD1nYi5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKGEpe2EuZWxlbS5ub2RlVHlwZSYmYS5lbGVtLnBhcmVudE5vZGUmJihhLmVsZW1bYS5wcm9wXT1hLm5vdyl9fSxuLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzd2luZzpmdW5jdGlvbihhKXtyZXR1cm4uNS1NYXRoLmNvcyhhKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9LG4uZng9Z2IucHJvdG90eXBlLmluaXQsbi5meC5zdGVwPXt9O3ZhciBoYixpYixqYj0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sa2I9L3F1ZXVlSG9va3MkLztmdW5jdGlvbiBsYigpe3JldHVybiBhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtoYj12b2lkIDB9KSxoYj1uLm5vdygpfWZ1bmN0aW9uIG1iKGEsYil7dmFyIGMsZD17aGVpZ2h0OmF9LGU9MDtmb3IoYj1iPzE6MDs0PmU7ZSs9Mi1iKWM9VltlXSxkWyJtYXJnaW4iK2NdPWRbInBhZGRpbmciK2NdPWE7cmV0dXJuIGImJihkLm9wYWNpdHk9ZC53aWR0aD1hKSxkfWZ1bmN0aW9uIG5iKGEsYixjKXtmb3IodmFyIGQsZT0ocWIudHdlZW5lcnNbYl18fFtdKS5jb25jYXQocWIudHdlZW5lcnNbIioiXSksZj0wLGc9ZS5sZW5ndGg7Zz5mO2YrKylpZihkPWVbZl0uY2FsbChjLGIsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gb2IoYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGssbT10aGlzLG89e30scD1hLnN0eWxlLHE9YS5ub2RlVHlwZSYmVyhhKSxyPW4uX2RhdGEoYSwiZnhzaG93Iik7Yy5xdWV1ZXx8KGg9bi5fcXVldWVIb29rcyhhLCJmeCIpLG51bGw9PWgudW5xdWV1ZWQmJihoLnVucXVldWVkPTAsaT1oLmVtcHR5LmZpcmUsaC5lbXB0eS5maXJlPWZ1bmN0aW9uKCl7aC51bnF1ZXVlZHx8aSgpfSksaC51bnF1ZXVlZCsrLG0uYWx3YXlzKGZ1bmN0aW9uKCl7bS5hbHdheXMoZnVuY3Rpb24oKXtoLnVucXVldWVkLS0sbi5xdWV1ZShhLCJmeCIpLmxlbmd0aHx8aC5lbXB0eS5maXJlKCl9KX0pKSwxPT09YS5ub2RlVHlwZSYmKCJoZWlnaHQiaW4gYnx8IndpZHRoImluIGIpJiYoYy5vdmVyZmxvdz1bcC5vdmVyZmxvdyxwLm92ZXJmbG93WCxwLm92ZXJmbG93WV0saj1uLmNzcyhhLCJkaXNwbGF5Iiksaz0ibm9uZSI9PT1qP24uX2RhdGEoYSwib2xkZGlzcGxheSIpfHxNYShhLm5vZGVOYW1lKTpqLCJpbmxpbmUiPT09ayYmIm5vbmUiPT09bi5jc3MoYSwiZmxvYXQiKSYmKGwuaW5saW5lQmxvY2tOZWVkc0xheW91dCYmImlubGluZSIhPT1NYShhLm5vZGVOYW1lKT9wLnpvb209MTpwLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxjLm92ZXJmbG93JiYocC5vdmVyZmxvdz0iaGlkZGVuIixsLnNocmlua1dyYXBCbG9ja3MoKXx8bS5hbHdheXMoZnVuY3Rpb24oKXtwLm92ZXJmbG93PWMub3ZlcmZsb3dbMF0scC5vdmVyZmxvd1g9Yy5vdmVyZmxvd1sxXSxwLm92ZXJmbG93WT1jLm92ZXJmbG93WzJdfSkpO2ZvcihkIGluIGIpaWYoZT1iW2RdLGpiLmV4ZWMoZSkpe2lmKGRlbGV0ZSBiW2RdLGY9Znx8InRvZ2dsZSI9PT1lLGU9PT0ocT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09ZXx8IXJ8fHZvaWQgMD09PXJbZF0pY29udGludWU7cT0hMH1vW2RdPXImJnJbZF18fG4uc3R5bGUoYSxkKX1lbHNlIGo9dm9pZCAwO2lmKG4uaXNFbXB0eU9iamVjdChvKSkiaW5saW5lIj09PSgibm9uZSI9PT1qP01hKGEubm9kZU5hbWUpOmopJiYocC5kaXNwbGF5PWopO2Vsc2V7cj8iaGlkZGVuImluIHImJihxPXIuaGlkZGVuKTpyPW4uX2RhdGEoYSwiZnhzaG93Iix7fSksZiYmKHIuaGlkZGVuPSFxKSxxP24oYSkuc2hvdygpOm0uZG9uZShmdW5jdGlvbigpe24oYSkuaGlkZSgpfSksbS5kb25lKGZ1bmN0aW9uKCl7dmFyIGI7bi5fcmVtb3ZlRGF0YShhLCJmeHNob3ciKTtmb3IoYiBpbiBvKW4uc3R5bGUoYSxiLG9bYl0pfSk7Zm9yKGQgaW4gbylnPW5iKHE/cltkXTowLGQsbSksZCBpbiByfHwocltkXT1nLnN0YXJ0LHEmJihnLmVuZD1nLnN0YXJ0LGcuc3RhcnQ9IndpZHRoIj09PWR8fCJoZWlnaHQiPT09ZD8xOjApKX19ZnVuY3Rpb24gcGIoYSxiKXt2YXIgYyxkLGUsZixnO2ZvcihjIGluIGEpaWYoZD1uLmNhbWVsQ2FzZShjKSxlPWJbZF0sZj1hW2NdLG4uaXNBcnJheShmKSYmKGU9ZlsxXSxmPWFbY109ZlswXSksYyE9PWQmJihhW2RdPWYsZGVsZXRlIGFbY10pLGc9bi5jc3NIb29rc1tkXSxnJiYiZXhwYW5kImluIGcpe2Y9Zy5leHBhbmQoZiksZGVsZXRlIGFbZF07Zm9yKGMgaW4gZiljIGluIGF8fChhW2NdPWZbY10sYltjXT1lKX1lbHNlIGJbZF09ZX1mdW5jdGlvbiBxYihhLGIsYyl7dmFyIGQsZSxmPTAsZz1xYi5wcmVmaWx0ZXJzLmxlbmd0aCxoPW4uRGVmZXJyZWQoKS5hbHdheXMoZnVuY3Rpb24oKXtkZWxldGUgaS5lbGVtfSksaT1mdW5jdGlvbigpe2lmKGUpcmV0dXJuITE7Zm9yKHZhciBiPWhifHxsYigpLGM9TWF0aC5tYXgoMCxqLnN0YXJ0VGltZStqLmR1cmF0aW9uLWIpLGQ9Yy9qLmR1cmF0aW9ufHwwLGY9MS1kLGc9MCxpPWoudHdlZW5zLmxlbmd0aDtpPmc7ZysrKWoudHdlZW5zW2ddLnJ1bihmKTtyZXR1cm4gaC5ub3RpZnlXaXRoKGEsW2osZixjXSksMT5mJiZpP2M6KGgucmVzb2x2ZVdpdGgoYSxbal0pLCExKX0saj1oLnByb21pc2Uoe2VsZW06YSxwcm9wczpuLmV4dGVuZCh7fSxiKSxvcHRzOm4uZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzpuLmVhc2luZy5fZGVmYXVsdH0sYyksb3JpZ2luYWxQcm9wZXJ0aWVzOmIsb3JpZ2luYWxPcHRpb25zOmMsc3RhcnRUaW1lOmhifHxsYigpLGR1cmF0aW9uOmMuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9bi5Ud2VlbihhLGoub3B0cyxiLGMsai5vcHRzLnNwZWNpYWxFYXNpbmdbYl18fGoub3B0cy5lYXNpbmcpO3JldHVybiBqLnR3ZWVucy5wdXNoKGQpLGR9LHN0b3A6ZnVuY3Rpb24oYil7dmFyIGM9MCxkPWI/ai50d2VlbnMubGVuZ3RoOjA7aWYoZSlyZXR1cm4gdGhpcztmb3IoZT0hMDtkPmM7YysrKWoudHdlZW5zW2NdLnJ1bigxKTtyZXR1cm4gYj8oaC5ub3RpZnlXaXRoKGEsW2osMSwwXSksaC5yZXNvbHZlV2l0aChhLFtqLGJdKSk6aC5yZWplY3RXaXRoKGEsW2osYl0pLHRoaXN9fSksaz1qLnByb3BzO2ZvcihwYihrLGoub3B0cy5zcGVjaWFsRWFzaW5nKTtnPmY7ZisrKWlmKGQ9cWIucHJlZmlsdGVyc1tmXS5jYWxsKGosYSxrLGoub3B0cykpcmV0dXJuIG4uaXNGdW5jdGlvbihkLnN0b3ApJiYobi5fcXVldWVIb29rcyhqLmVsZW0sai5vcHRzLnF1ZXVlKS5zdG9wPW4ucHJveHkoZC5zdG9wLGQpKSxkO3JldHVybiBuLm1hcChrLG5iLGopLG4uaXNGdW5jdGlvbihqLm9wdHMuc3RhcnQpJiZqLm9wdHMuc3RhcnQuY2FsbChhLGopLG4uZngudGltZXIobi5leHRlbmQoaSx7ZWxlbTphLGFuaW06aixxdWV1ZTpqLm9wdHMucXVldWV9KSksai5wcm9ncmVzcyhqLm9wdHMucHJvZ3Jlc3MpLmRvbmUoai5vcHRzLmRvbmUsai5vcHRzLmNvbXBsZXRlKS5mYWlsKGoub3B0cy5mYWlsKS5hbHdheXMoai5vcHRzLmFsd2F5cyl9bi5BbmltYXRpb249bi5leHRlbmQocWIse3R3ZWVuZXJzOnsiKiI6W2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVUd2VlbihhLGIpO3JldHVybiBYKGMuZWxlbSxhLFUuZXhlYyhiKSxjKSxjfV19LHR3ZWVuZXI6ZnVuY3Rpb24oYSxiKXtuLmlzRnVuY3Rpb24oYSk/KGI9YSxhPVsiKiJdKTphPWEubWF0Y2goRyk7Zm9yKHZhciBjLGQ9MCxlPWEubGVuZ3RoO2U+ZDtkKyspYz1hW2RdLHFiLnR3ZWVuZXJzW2NdPXFiLnR3ZWVuZXJzW2NdfHxbXSxxYi50d2VlbmVyc1tjXS51bnNoaWZ0KGIpfSxwcmVmaWx0ZXJzOltvYl0scHJlZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj9xYi5wcmVmaWx0ZXJzLnVuc2hpZnQoYSk6cWIucHJlZmlsdGVycy5wdXNoKGEpfX0pLG4uc3BlZWQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEmJiJvYmplY3QiPT10eXBlb2YgYT9uLmV4dGVuZCh7fSxhKTp7Y29tcGxldGU6Y3x8IWMmJmJ8fG4uaXNGdW5jdGlvbihhKSYmYSxkdXJhdGlvbjphLGVhc2luZzpjJiZifHxiJiYhbi5pc0Z1bmN0aW9uKGIpJiZifTtyZXR1cm4gZC5kdXJhdGlvbj1uLmZ4Lm9mZj8wOiJudW1iZXIiPT10eXBlb2YgZC5kdXJhdGlvbj9kLmR1cmF0aW9uOmQuZHVyYXRpb24gaW4gbi5meC5zcGVlZHM/bi5meC5zcGVlZHNbZC5kdXJhdGlvbl06bi5meC5zcGVlZHMuX2RlZmF1bHQsbnVsbCE9ZC5xdWV1ZSYmZC5xdWV1ZSE9PSEwfHwoZC5xdWV1ZT0iZngiKSxkLm9sZD1kLmNvbXBsZXRlLGQuY29tcGxldGU9ZnVuY3Rpb24oKXtuLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUmJm4uZGVxdWV1ZSh0aGlzLGQucXVldWUpfSxkfSxuLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmZpbHRlcihXKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uLmlzRW1wdHlPYmplY3QoYSksZj1uLnNwZWVkKGIsYyxkKSxnPWZ1bmN0aW9uKCl7dmFyIGI9cWIodGhpcyxuLmV4dGVuZCh7fSxhKSxmKTsoZXx8bi5fZGF0YSh0aGlzLCJmaW5pc2giKSkmJmIuc3RvcCghMCl9O3JldHVybiBnLmZpbmlzaD1nLGV8fGYucXVldWU9PT0hMT90aGlzLmVhY2goZyk6dGhpcy5xdWV1ZShmLnF1ZXVlLGcpfSxzdG9wOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mdW5jdGlvbihhKXt2YXIgYj1hLnN0b3A7ZGVsZXRlIGEuc3RvcCxiKGMpfTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGEmJihjPWIsYj1hLGE9dm9pZCAwKSxiJiZhIT09ITEmJnRoaXMucXVldWUoYXx8ImZ4IixbXSksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ITAsZT1udWxsIT1hJiZhKyJxdWV1ZUhvb2tzIixmPW4udGltZXJzLGc9bi5fZGF0YSh0aGlzKTtpZihlKWdbZV0mJmdbZV0uc3RvcCYmZChnW2VdKTtlbHNlIGZvcihlIGluIGcpZ1tlXSYmZ1tlXS5zdG9wJiZrYi50ZXN0KGUpJiZkKGdbZV0pO2ZvcihlPWYubGVuZ3RoO2UtLTspZltlXS5lbGVtIT09dGhpc3x8bnVsbCE9YSYmZltlXS5xdWV1ZSE9PWF8fChmW2VdLmFuaW0uc3RvcChjKSxiPSExLGYuc3BsaWNlKGUsMSkpOyFiJiZjfHxuLmRlcXVldWUodGhpcyxhKX0pfSxmaW5pc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT0hMSYmKGE9YXx8ImZ4IiksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGIsYz1uLl9kYXRhKHRoaXMpLGQ9Y1thKyJxdWV1ZSJdLGU9Y1thKyJxdWV1ZUhvb2tzIl0sZj1uLnRpbWVycyxnPWQ/ZC5sZW5ndGg6MDtmb3IoYy5maW5pc2g9ITAsbi5xdWV1ZSh0aGlzLGEsW10pLGUmJmUuc3RvcCYmZS5zdG9wLmNhbGwodGhpcywhMCksYj1mLmxlbmd0aDtiLS07KWZbYl0uZWxlbT09PXRoaXMmJmZbYl0ucXVldWU9PT1hJiYoZltiXS5hbmltLnN0b3AoITApLGYuc3BsaWNlKGIsMSkpO2ZvcihiPTA7Zz5iO2IrKylkW2JdJiZkW2JdLmZpbmlzaCYmZFtiXS5maW5pc2guY2FsbCh0aGlzKTtkZWxldGUgYy5maW5pc2h9KX19KSxuLmVhY2goWyJ0b2dnbGUiLCJzaG93IiwiaGlkZSJdLGZ1bmN0aW9uKGEsYil7dmFyIGM9bi5mbltiXTtuLmZuW2JdPWZ1bmN0aW9uKGEsZCxlKXtyZXR1cm4gbnVsbD09YXx8ImJvb2xlYW4iPT10eXBlb2YgYT9jLmFwcGx5KHRoaXMsYXJndW1lbnRzKTp0aGlzLmFuaW1hdGUobWIoYiwhMCksYSxkLGUpfX0pLG4uZWFjaCh7c2xpZGVEb3duOm1iKCJzaG93Iiksc2xpZGVVcDptYigiaGlkZSIpLHNsaWRlVG9nZ2xlOm1iKCJ0b2dnbGUiKSxmYWRlSW46e29wYWNpdHk6InNob3cifSxmYWRlT3V0OntvcGFjaXR5OiJoaWRlIn0sZmFkZVRvZ2dsZTp7b3BhY2l0eToidG9nZ2xlIn19LGZ1bmN0aW9uKGEsYil7bi5mblthXT1mdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuYW5pbWF0ZShiLGEsYyxkKX19KSxuLnRpbWVycz1bXSxuLmZ4LnRpY2s9ZnVuY3Rpb24oKXt2YXIgYSxiPW4udGltZXJzLGM9MDtmb3IoaGI9bi5ub3coKTtjPGIubGVuZ3RoO2MrKylhPWJbY10sYSgpfHxiW2NdIT09YXx8Yi5zcGxpY2UoYy0tLDEpO2IubGVuZ3RofHxuLmZ4LnN0b3AoKSxoYj12b2lkIDB9LG4uZngudGltZXI9ZnVuY3Rpb24oYSl7bi50aW1lcnMucHVzaChhKSxhKCk/bi5meC5zdGFydCgpOm4udGltZXJzLnBvcCgpfSxuLmZ4LmludGVydmFsPTEzLG4uZnguc3RhcnQ9ZnVuY3Rpb24oKXtpYnx8KGliPWEuc2V0SW50ZXJ2YWwobi5meC50aWNrLG4uZnguaW50ZXJ2YWwpKX0sbi5meC5zdG9wPWZ1bmN0aW9uKCl7YS5jbGVhckludGVydmFsKGliKSxpYj1udWxsfSxuLmZ4LnNwZWVkcz17c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxuLmZuLmRlbGF5PWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9bi5meD9uLmZ4LnNwZWVkc1tiXXx8YjpiLGM9Y3x8ImZ4Iix0aGlzLnF1ZXVlKGMsZnVuY3Rpb24oYyxkKXt2YXIgZT1hLnNldFRpbWVvdXQoYyxiKTtkLnN0b3A9ZnVuY3Rpb24oKXthLmNsZWFyVGltZW91dChlKX19KX0sZnVuY3Rpb24oKXt2YXIgYSxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksZT1kLmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpLGY9ZS5hcHBlbmRDaGlsZChkLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtjPWQuY3JlYXRlRWxlbWVudCgiZGl2IiksYy5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxjLmlubmVySFRNTD0iICA8bGluay8+PHRhYmxlPjwvdGFibGU+PGEgaHJlZj0nL2EnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxiLnNldEF0dHJpYnV0ZSgidHlwZSIsImNoZWNrYm94IiksYy5hcHBlbmRDaGlsZChiKSxhPWMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXSxhLnN0eWxlLmNzc1RleHQ9InRvcDoxcHgiLGwuZ2V0U2V0QXR0cmlidXRlPSJ0IiE9PWMuY2xhc3NOYW1lLGwuc3R5bGU9L3RvcC8udGVzdChhLmdldEF0dHJpYnV0ZSgic3R5bGUiKSksbC5ocmVmTm9ybWFsaXplZD0iL2EiPT09YS5nZXRBdHRyaWJ1dGUoImhyZWYiKSxsLmNoZWNrT249ISFiLnZhbHVlLGwub3B0U2VsZWN0ZWQ9Zi5zZWxlY3RlZCxsLmVuY3R5cGU9ISFkLmNyZWF0ZUVsZW1lbnQoImZvcm0iKS5lbmN0eXBlLGUuZGlzYWJsZWQ9ITAsbC5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZCxiPWQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKSxiLnNldEF0dHJpYnV0ZSgidmFsdWUiLCIiKSxsLmlucHV0PSIiPT09Yi5nZXRBdHRyaWJ1dGUoInZhbHVlIiksYi52YWx1ZT0idCIsYi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGwucmFkaW9WYWx1ZT0idCI9PT1iLnZhbHVlfSgpO3ZhciByYj0vXHIvZyxzYj0vW1x4MjBcdFxyXG5cZl0rL2c7bi5mbi5leHRlbmQoe3ZhbDpmdW5jdGlvbihhKXt2YXIgYixjLGQsZT10aGlzWzBdO3tpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBkPW4uaXNGdW5jdGlvbihhKSx0aGlzLmVhY2goZnVuY3Rpb24oYyl7dmFyIGU7MT09PXRoaXMubm9kZVR5cGUmJihlPWQ/YS5jYWxsKHRoaXMsYyxuKHRoaXMpLnZhbCgpKTphLG51bGw9PWU/ZT0iIjoibnVtYmVyIj09dHlwZW9mIGU/ZSs9IiI6bi5pc0FycmF5KGUpJiYoZT1uLm1hcChlLGZ1bmN0aW9uKGEpe3JldHVybiBudWxsPT1hPyIiOmErIiJ9KSksYj1uLnZhbEhvb2tzW3RoaXMudHlwZV18fG4udmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYic2V0ImluIGImJnZvaWQgMCE9PWIuc2V0KHRoaXMsZSwidmFsdWUiKXx8KHRoaXMudmFsdWU9ZSkpfSk7aWYoZSlyZXR1cm4gYj1uLnZhbEhvb2tzW2UudHlwZV18fG4udmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSxiJiYiZ2V0ImluIGImJnZvaWQgMCE9PShjPWIuZ2V0KGUsInZhbHVlIikpP2M6KGM9ZS52YWx1ZSwic3RyaW5nIj09dHlwZW9mIGM/Yy5yZXBsYWNlKHJiLCIiKTpudWxsPT1jPyIiOmMpfX19KSxuLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPW4uZmluZC5hdHRyKGEsInZhbHVlIik7cmV0dXJuIG51bGwhPWI/YjpuLnRyaW0obi50ZXh0KGEpKS5yZXBsYWNlKHNiLCIgIil9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihhKXtmb3IodmFyIGIsYyxkPWEub3B0aW9ucyxlPWEuc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PWEudHlwZXx8MD5lLGc9Zj9udWxsOltdLGg9Zj9lKzE6ZC5sZW5ndGgsaT0wPmU/aDpmP2U6MDtoPmk7aSsrKWlmKGM9ZFtpXSwoYy5zZWxlY3RlZHx8aT09PWUpJiYobC5vcHREaXNhYmxlZD8hYy5kaXNhYmxlZDpudWxsPT09Yy5nZXRBdHRyaWJ1dGUoImRpc2FibGVkIikpJiYoIWMucGFyZW50Tm9kZS5kaXNhYmxlZHx8IW4ubm9kZU5hbWUoYy5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7aWYoYj1uKGMpLnZhbCgpLGYpcmV0dXJuIGI7Zy5wdXNoKGIpfXJldHVybiBnfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9YS5vcHRpb25zLGY9bi5tYWtlQXJyYXkoYiksZz1lLmxlbmd0aDt3aGlsZShnLS0paWYoZD1lW2ddLG4uaW5BcnJheShuLnZhbEhvb2tzLm9wdGlvbi5nZXQoZCksZik+LTEpdHJ5e2Quc2VsZWN0ZWQ9Yz0hMH1jYXRjaChoKXtkLnNjcm9sbEhlaWdodH1lbHNlIGQuc2VsZWN0ZWQ9ITE7cmV0dXJuIGN8fChhLnNlbGVjdGVkSW5kZXg9LTEpLGV9fX19KSxuLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtuLnZhbEhvb2tzW3RoaXNdPXtzZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbi5pc0FycmF5KGIpP2EuY2hlY2tlZD1uLmluQXJyYXkobihhKS52YWwoKSxiKT4tMTp2b2lkIDB9fSxsLmNoZWNrT258fChuLnZhbEhvb2tzW3RoaXNdLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gbnVsbD09PWEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPyJvbiI6YS52YWx1ZX0pfSk7dmFyIHRiLHViLHZiPW4uZXhwci5hdHRySGFuZGxlLHdiPS9eKD86Y2hlY2tlZHxzZWxlY3RlZCkkL2kseGI9bC5nZXRTZXRBdHRyaWJ1dGUseWI9bC5pbnB1dDtuLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihhLGIpe3JldHVybiBZKHRoaXMsbi5hdHRyLGEsYixhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtuLnJlbW92ZUF0dHIodGhpcyxhKX0pfX0pLG4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY9YS5ub2RlVHlwZTtpZigzIT09ZiYmOCE9PWYmJjIhPT1mKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2YgYS5nZXRBdHRyaWJ1dGU/bi5wcm9wKGEsYixjKTooMT09PWYmJm4uaXNYTUxEb2MoYSl8fChiPWIudG9Mb3dlckNhc2UoKSxlPW4uYXR0ckhvb2tzW2JdfHwobi5leHByLm1hdGNoLmJvb2wudGVzdChiKT91Yjp0YikpLHZvaWQgMCE9PWM/bnVsbD09PWM/dm9pZCBuLnJlbW92ZUF0dHIoYSxiKTplJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDooYS5zZXRBdHRyaWJ1dGUoYixjKyIiKSxjKTplJiYiZ2V0ImluIGUmJm51bGwhPT0oZD1lLmdldChhLGIpKT9kOihkPW4uZmluZC5hdHRyKGEsYiksbnVsbD09ZD92b2lkIDA6ZCkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKCFsLnJhZGlvVmFsdWUmJiJyYWRpbyI9PT1iJiZuLm5vZGVOYW1lKGEsImlucHV0Iikpe3ZhciBjPWEudmFsdWU7cmV0dXJuIGEuc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKSxifX19fSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPTAsZj1iJiZiLm1hdGNoKEcpO2lmKGYmJjE9PT1hLm5vZGVUeXBlKXdoaWxlKGM9ZltlKytdKWQ9bi5wcm9wRml4W2NdfHxjLG4uZXhwci5tYXRjaC5ib29sLnRlc3QoYyk/eWImJnhifHwhd2IudGVzdChjKT9hW2RdPSExOmFbbi5jYW1lbENhc2UoImRlZmF1bHQtIitjKV09YVtkXT0hMTpuLmF0dHIoYSxjLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZSh4Yj9jOmQpfX0pLHViPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09ITE/bi5yZW1vdmVBdHRyKGEsYyk6eWImJnhifHwhd2IudGVzdChjKT9hLnNldEF0dHJpYnV0ZSgheGImJm4ucHJvcEZpeFtjXXx8YyxjKTphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYyldPWFbY109ITAsY319LG4uZWFjaChuLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihhLGIpe3ZhciBjPXZiW2JdfHxuLmZpbmQuYXR0cjt5YiYmeGJ8fCF3Yi50ZXN0KGIpP3ZiW2JdPWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxmO3JldHVybiBkfHwoZj12YltiXSx2YltiXT1lLGU9bnVsbCE9YyhhLGIsZCk/Yi50b0xvd2VyQ2FzZSgpOm51bGwsdmJbYl09ZiksZX06dmJbYl09ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjP3ZvaWQgMDphW24uY2FtZWxDYXNlKCJkZWZhdWx0LSIrYildP2IudG9Mb3dlckNhc2UoKTpudWxsfX0pLHliJiZ4Ynx8KG4uYXR0ckhvb2tzLnZhbHVlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuLm5vZGVOYW1lKGEsImlucHV0Iik/dm9pZChhLmRlZmF1bHRWYWx1ZT1iKTp0YiYmdGIuc2V0KGEsYixjKX19KSx4Ynx8KHRiPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZHx8YS5zZXRBdHRyaWJ1dGVOb2RlKGQ9YS5vd25lckRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShjKSksZC52YWx1ZT1iKz0iIiwidmFsdWUiPT09Y3x8Yj09PWEuZ2V0QXR0cmlidXRlKGMpP2I6dm9pZCAwfX0sdmIuaWQ9dmIubmFtZT12Yi5jb29yZHM9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO3JldHVybiBjP3ZvaWQgMDooZD1hLmdldEF0dHJpYnV0ZU5vZGUoYikpJiYiIiE9PWQudmFsdWU/ZC52YWx1ZTpudWxsfSxuLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5nZXRBdHRyaWJ1dGVOb2RlKGIpO3JldHVybiBjJiZjLnNwZWNpZmllZD9jLnZhbHVlOnZvaWQgMH0sc2V0OnRiLnNldH0sbi5hdHRySG9va3MuY29udGVudGVkaXRhYmxlPXtzZXQ6ZnVuY3Rpb24oYSxiLGMpe3RiLnNldChhLCIiPT09Yj8hMTpiLGMpfX0sbi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe24uYXR0ckhvb2tzW2JdPXtzZXQ6ZnVuY3Rpb24oYSxjKXtyZXR1cm4iIj09PWM/KGEuc2V0QXR0cmlidXRlKGIsImF1dG8iKSxjKTp2b2lkIDB9fX0pKSxsLnN0eWxlfHwobi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0fHx2b2lkIDB9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9YisiIn19KTt2YXIgemI9L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkL2ksQWI9L14oPzphfGFyZWEpJC9pO24uZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKGEsYil7cmV0dXJuIFkodGhpcyxuLnByb3AsYSxiLGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9bi5wcm9wRml4W2FdfHxhLHRoaXMuZWFjaChmdW5jdGlvbigpe3RyeXt0aGlzW2FdPXZvaWQgMCxkZWxldGUgdGhpc1thXX1jYXRjaChiKXt9fSl9fSksbi5leHRlbmQoe3Byb3A6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZj1hLm5vZGVUeXBlO2lmKDMhPT1mJiY4IT09ZiYmMiE9PWYpcmV0dXJuIDE9PT1mJiZuLmlzWE1MRG9jKGEpfHwoYj1uLnByb3BGaXhbYl18fGIsZT1uLnByb3BIb29rc1tiXSksdm9pZCAwIT09Yz9lJiYic2V0ImluIGUmJnZvaWQgMCE9PShkPWUuc2V0KGEsYyxiKSk/ZDphW2JdPWM6ZSYmImdldCJpbiBlJiZudWxsIT09KGQ9ZS5nZXQoYSxiKSk/ZDphW2JdfSxwcm9wSG9va3M6e3RhYkluZGV4OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9bi5maW5kLmF0dHIoYSwidGFiaW5kZXgiKTtyZXR1cm4gYj9wYXJzZUludChiLDEwKTp6Yi50ZXN0KGEubm9kZU5hbWUpfHxBYi50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDotMX19fSxwcm9wRml4OnsiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIn19KSxsLmhyZWZOb3JtYWxpemVkfHxuLmVhY2goWyJocmVmIiwic3JjIl0sZnVuY3Rpb24oYSxiKXtuLnByb3BIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZShiLDQpfX19KSxsLm9wdFNlbGVjdGVkfHwobi5wcm9wSG9va3Muc2VsZWN0ZWQ9e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCksbnVsbH0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pLG4uZWFjaChbInRhYkluZGV4IiwicmVhZE9ubHkiLCJtYXhMZW5ndGgiLCJjZWxsU3BhY2luZyIsImNlbGxQYWRkaW5nIiwicm93U3BhbiIsImNvbFNwYW4iLCJ1c2VNYXAiLCJmcmFtZUJvcmRlciIsImNvbnRlbnRFZGl0YWJsZSJdLGZ1bmN0aW9uKCl7bi5wcm9wRml4W3RoaXMudG9Mb3dlckNhc2UoKV09dGhpc30pLGwuZW5jdHlwZXx8KG4ucHJvcEZpeC5lbmN0eXBlPSJlbmNvZGluZyIpO3ZhciBCYj0vW1x0XHJcblxmXS9nO2Z1bmN0aW9uIENiKGEpe3JldHVybiBuLmF0dHIoYSwiY2xhc3MiKXx8IiJ9bi5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGk9MDtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsQ2IodGhpcykpKX0pO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKWQuaW5kZXhPZigiICIrZisiICIpPDAmJihkKz1mKyIgIik7aD1uLnRyaW0oZCksZSE9PWgmJm4uYXR0cihjLCJjbGFzcyIsaCl9fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpPTA7aWYobi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7bih0aGlzKS5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxiLENiKHRoaXMpKSl9KTtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5hdHRyKCJjbGFzcyIsIiIpO2lmKCJzdHJpbmciPT10eXBlb2YgYSYmYSl7Yj1hLm1hdGNoKEcpfHxbXTt3aGlsZShjPXRoaXNbaSsrXSlpZihlPUNiKGMpLGQ9MT09PWMubm9kZVR5cGUmJigiICIrZSsiICIpLnJlcGxhY2UoQmIsIiAiKSl7Zz0wO3doaWxlKGY9YltnKytdKXdoaWxlKGQuaW5kZXhPZigiICIrZisiICIpPi0xKWQ9ZC5yZXBsYWNlKCIgIitmKyIgIiwiICIpO2g9bi50cmltKGQpLGUhPT1oJiZuLmF0dHIoYywiY2xhc3MiLGgpfX1yZXR1cm4gdGhpc30sdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz10eXBlb2YgYTtyZXR1cm4iYm9vbGVhbiI9PXR5cGVvZiBiJiYic3RyaW5nIj09PWM/Yj90aGlzLmFkZENsYXNzKGEpOnRoaXMucmVtb3ZlQ2xhc3MoYSk6bi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihjKXtuKHRoaXMpLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGMsQ2IodGhpcyksYiksYil9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYixkLGUsZjtpZigic3RyaW5nIj09PWMpe2Q9MCxlPW4odGhpcyksZj1hLm1hdGNoKEcpfHxbXTt3aGlsZShiPWZbZCsrXSllLmhhc0NsYXNzKGIpP2UucmVtb3ZlQ2xhc3MoYik6ZS5hZGRDbGFzcyhiKX1lbHNlIHZvaWQgMCE9PWEmJiJib29sZWFuIiE9PWN8fChiPUNiKHRoaXMpLGImJm4uX2RhdGEodGhpcywiX19jbGFzc05hbWVfXyIsYiksbi5hdHRyKHRoaXMsImNsYXNzIixifHxhPT09ITE/IiI6bi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPTA7Yj0iICIrYSsiICI7d2hpbGUoYz10aGlzW2QrK10paWYoMT09PWMubm9kZVR5cGUmJigiICIrQ2IoYykrIiAiKS5yZXBsYWNlKEJiLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX19KSxuLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKGIsbnVsbCxhLGMpOnRoaXMudHJpZ2dlcihiKX19KSxuLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIERiPWEubG9jYXRpb24sRWI9bi5ub3coKSxGYj0vXD8vLEdiPS8oLCl8KFxbfHspfCh9fF0pfCIoPzpbXiJcXFxyXG5dfFxcWyJcXFwvYmZucnRdfFxcdVtcZGEtZkEtRl17NH0pKiJccyo6P3x0cnVlfGZhbHNlfG51bGx8LT8oPyEwXGQpXGQrKD86XC5cZCt8KSg/OltlRV1bKy1dP1xkK3wpL2c7bi5wYXJzZUpTT049ZnVuY3Rpb24oYil7aWYoYS5KU09OJiZhLkpTT04ucGFyc2UpcmV0dXJuIGEuSlNPTi5wYXJzZShiKyIiKTt2YXIgYyxkPW51bGwsZT1uLnRyaW0oYisiIik7cmV0dXJuIGUmJiFuLnRyaW0oZS5yZXBsYWNlKEdiLGZ1bmN0aW9uKGEsYixlLGYpe3JldHVybiBjJiZiJiYoZD0wKSwwPT09ZD9hOihjPWV8fGIsZCs9IWYtIWUsIiIpfSkpP0Z1bmN0aW9uKCJyZXR1cm4gIitlKSgpOm4uZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0sbi5wYXJzZVhNTD1mdW5jdGlvbihiKXt2YXIgYyxkO2lmKCFifHwic3RyaW5nIiE9dHlwZW9mIGIpcmV0dXJuIG51bGw7dHJ5e2EuRE9NUGFyc2VyPyhkPW5ldyBhLkRPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKSxjLmFzeW5jPSJmYWxzZSIsYy5sb2FkWE1MKGIpKX1jYXRjaChlKXtjPXZvaWQgMH1yZXR1cm4gYyYmYy5kb2N1bWVudEVsZW1lbnQmJiFjLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJwYXJzZXJlcnJvciIpLmxlbmd0aHx8bi5lcnJvcigiSW52YWxpZCBYTUw6ICIrYiksY307dmFyIEhiPS8jLiokLyxJYj0vKFs/Jl0pXz1bXiZdKi8sSmI9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9nbSxLYj0vXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxMYj0vXig/OkdFVHxIRUFEKSQvLE1iPS9eXC9cLy8sTmI9L14oW1x3ListXSs6KSg/OlwvXC8oPzpbXlwvPyNdKkB8KShbXlwvPyM6XSopKD86OihcZCspfCl8KS8sT2I9e30sUGI9e30sUWI9IiovIi5jb25jYXQoIioiKSxSYj1EYi5ocmVmLFNiPU5iLmV4ZWMoUmIudG9Mb3dlckNhc2UoKSl8fFtdO2Z1bmN0aW9uIFRiKGEpe3JldHVybiBmdW5jdGlvbihiLGMpeyJzdHJpbmciIT10eXBlb2YgYiYmKGM9YixiPSIqIik7dmFyIGQsZT0wLGY9Yi50b0xvd2VyQ2FzZSgpLm1hdGNoKEcpfHxbXTtpZihuLmlzRnVuY3Rpb24oYykpd2hpbGUoZD1mW2UrK10pIisiPT09ZC5jaGFyQXQoMCk/KGQ9ZC5zbGljZSgxKXx8IioiLChhW2RdPWFbZF18fFtdKS51bnNoaWZ0KGMpKTooYVtkXT1hW2RdfHxbXSkucHVzaChjKX19ZnVuY3Rpb24gVWIoYSxiLGMsZCl7dmFyIGU9e30sZj1hPT09UGI7ZnVuY3Rpb24gZyhoKXt2YXIgaTtyZXR1cm4gZVtoXT0hMCxuLmVhY2goYVtoXXx8W10sZnVuY3Rpb24oYSxoKXt2YXIgaj1oKGIsYyxkKTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGp8fGZ8fGVbal0/Zj8hKGk9aik6dm9pZCAwOihiLmRhdGFUeXBlcy51bnNoaWZ0KGopLGcoaiksITEpfSksaX1yZXR1cm4gZyhiLmRhdGFUeXBlc1swXSl8fCFlWyIqIl0mJmcoIioiKX1mdW5jdGlvbiBWYihhLGIpe3ZhciBjLGQsZT1uLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKGQgaW4gYil2b2lkIDAhPT1iW2RdJiYoKGVbZF0/YTpjfHwoYz17fSkpW2RdPWJbZF0pO3JldHVybiBjJiZuLmV4dGVuZCghMCxhLGMpLGF9ZnVuY3Rpb24gV2IoYSxiLGMpe3ZhciBkLGUsZixnLGg9YS5jb250ZW50cyxpPWEuZGF0YVR5cGVzO3doaWxlKCIqIj09PWlbMF0paS5zaGlmdCgpLHZvaWQgMD09PWUmJihlPWEubWltZVR5cGV8fGIuZ2V0UmVzcG9uc2VIZWFkZXIoIkNvbnRlbnQtVHlwZSIpKTtpZihlKWZvcihnIGluIGgpaWYoaFtnXSYmaFtnXS50ZXN0KGUpKXtpLnVuc2hpZnQoZyk7YnJlYWt9aWYoaVswXWluIGMpZj1pWzBdO2Vsc2V7Zm9yKGcgaW4gYyl7aWYoIWlbMF18fGEuY29udmVydGVyc1tnKyIgIitpWzBdXSl7Zj1nO2JyZWFrfWR8fChkPWcpfWY9Znx8ZH1yZXR1cm4gZj8oZiE9PWlbMF0mJmkudW5zaGlmdChmKSxjW2ZdKTp2b2lkIDB9ZnVuY3Rpb24gWGIoYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPXt9LGs9YS5kYXRhVHlwZXMuc2xpY2UoKTtpZihrWzFdKWZvcihnIGluIGEuY29udmVydGVycylqW2cudG9Mb3dlckNhc2UoKV09YS5jb252ZXJ0ZXJzW2ddO2Y9ay5zaGlmdCgpO3doaWxlKGYpaWYoYS5yZXNwb25zZUZpZWxkc1tmXSYmKGNbYS5yZXNwb25zZUZpZWxkc1tmXV09YiksIWkmJmQmJmEuZGF0YUZpbHRlciYmKGI9YS5kYXRhRmlsdGVyKGIsYS5kYXRhVHlwZSkpLGk9ZixmPWsuc2hpZnQoKSlpZigiKiI9PT1mKWY9aTtlbHNlIGlmKCIqIiE9PWkmJmkhPT1mKXtpZihnPWpbaSsiICIrZl18fGpbIiogIitmXSwhZylmb3IoZSBpbiBqKWlmKGg9ZS5zcGxpdCgiICIpLGhbMV09PT1mJiYoZz1qW2krIiAiK2hbMF1dfHxqWyIqICIraFswXV0pKXtnPT09ITA/Zz1qW2VdOmpbZV0hPT0hMCYmKGY9aFswXSxrLnVuc2hpZnQoaFsxXSkpO2JyZWFrfWlmKGchPT0hMClpZihnJiZhWyJ0aHJvd3MiXSliPWcoYik7ZWxzZSB0cnl7Yj1nKGIpfWNhdGNoKGwpe3JldHVybntzdGF0ZToicGFyc2VyZXJyb3IiLGVycm9yOmc/bDoiTm8gY29udmVyc2lvbiBmcm9tICIraSsiIHRvICIrZn19fXJldHVybntzdGF0ZToic3VjY2VzcyIsZGF0YTpifX1uLmV4dGVuZCh7YWN0aXZlOjAsbGFzdE1vZGlmaWVkOnt9LGV0YWc6e30sYWpheFNldHRpbmdzOnt1cmw6UmIsdHlwZToiR0VUIixpc0xvY2FsOktiLnRlc3QoU2JbMV0pLGdsb2JhbDohMCxwcm9jZXNzRGF0YTohMCxhc3luYzohMCxjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04IixhY2NlcHRzOnsiKiI6UWIsdGV4dDoidGV4dC9wbGFpbiIsaHRtbDoidGV4dC9odG1sIix4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGpzb246ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCJ9LGNvbnRlbnRzOnt4bWw6L1xieG1sXGIvLGh0bWw6L1xiaHRtbC8sanNvbjovXGJqc29uXGIvfSxyZXNwb25zZUZpZWxkczp7eG1sOiJyZXNwb25zZVhNTCIsdGV4dDoicmVzcG9uc2VUZXh0Iixqc29uOiJyZXNwb25zZUpTT04ifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjpTdHJpbmcsInRleHQgaHRtbCI6ITAsInRleHQganNvbiI6bi5wYXJzZUpTT04sInRleHQgeG1sIjpuLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9WYihWYihhLG4uYWpheFNldHRpbmdzKSxiKTpWYihuLmFqYXhTZXR0aW5ncyxhKX0sYWpheFByZWZpbHRlcjpUYihPYiksYWpheFRyYW5zcG9ydDpUYihQYiksYWpheDpmdW5jdGlvbihiLGMpeyJvYmplY3QiPT10eXBlb2YgYiYmKGM9YixiPXZvaWQgMCksYz1jfHx7fTt2YXIgZCxlLGYsZyxoLGksaixrLGw9bi5hamF4U2V0dXAoe30sYyksbT1sLmNvbnRleHR8fGwsbz1sLmNvbnRleHQmJihtLm5vZGVUeXBlfHxtLmpxdWVyeSk/bihtKTpuLmV2ZW50LHA9bi5EZWZlcnJlZCgpLHE9bi5DYWxsYmFja3MoIm9uY2UgbWVtb3J5Iikscj1sLnN0YXR1c0NvZGV8fHt9LHM9e30sdD17fSx1PTAsdj0iY2FuY2VsZWQiLHc9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYjtpZigyPT09dSl7aWYoIWspe2s9e307d2hpbGUoYj1KYi5leGVjKGcpKWtbYlsxXS50b0xvd2VyQ2FzZSgpXT1iWzJdfWI9a1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT1iP251bGw6Yn0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIDI9PT11P2c6bnVsbH0sc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTtyZXR1cm4gdXx8KGE9dFtjXT10W2NdfHxhLHNbYV09YiksdGhpc30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdXx8KGwubWltZVR5cGU9YSksdGhpc30sc3RhdHVzQ29kZTpmdW5jdGlvbihhKXt2YXIgYjtpZihhKWlmKDI+dSlmb3IoYiBpbiBhKXJbYl09W3JbYl0sYVtiXV07ZWxzZSB3LmFsd2F5cyhhW3cuc3RhdHVzXSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe3ZhciBiPWF8fHY7cmV0dXJuIGomJmouYWJvcnQoYikseSgwLGIpLHRoaXN9fTtpZihwLnByb21pc2UodykuY29tcGxldGU9cS5hZGQsdy5zdWNjZXNzPXcuZG9uZSx3LmVycm9yPXcuZmFpbCxsLnVybD0oKGJ8fGwudXJsfHxSYikrIiIpLnJlcGxhY2UoSGIsIiIpLnJlcGxhY2UoTWIsU2JbMV0rIi8vIiksbC50eXBlPWMubWV0aG9kfHxjLnR5cGV8fGwubWV0aG9kfHxsLnR5cGUsbC5kYXRhVHlwZXM9bi50cmltKGwuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5tYXRjaChHKXx8WyIiXSxudWxsPT1sLmNyb3NzRG9tYWluJiYoZD1OYi5leGVjKGwudXJsLnRvTG93ZXJDYXNlKCkpLGwuY3Jvc3NEb21haW49ISghZHx8ZFsxXT09PVNiWzFdJiZkWzJdPT09U2JbMl0mJihkWzNdfHwoImh0dHA6Ij09PWRbMV0/IjgwIjoiNDQzIikpPT09KFNiWzNdfHwoImh0dHA6Ij09PVNiWzFdPyI4MCI6IjQ0MyIpKSkpLGwuZGF0YSYmbC5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiBsLmRhdGEmJihsLmRhdGE9bi5wYXJhbShsLmRhdGEsbC50cmFkaXRpb25hbCkpLFViKE9iLGwsYyx3KSwyPT09dSlyZXR1cm4gdztpPW4uZXZlbnQmJmwuZ2xvYmFsLGkmJjA9PT1uLmFjdGl2ZSsrJiZuLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpLGwudHlwZT1sLnR5cGUudG9VcHBlckNhc2UoKSxsLmhhc0NvbnRlbnQ9IUxiLnRlc3QobC50eXBlKSxmPWwudXJsLGwuaGFzQ29udGVudHx8KGwuZGF0YSYmKGY9bC51cmwrPShGYi50ZXN0KGYpPyImIjoiPyIpK2wuZGF0YSxkZWxldGUgbC5kYXRhKSxsLmNhY2hlPT09ITEmJihsLnVybD1JYi50ZXN0KGYpP2YucmVwbGFjZShJYiwiJDFfPSIrRWIrKyk6ZisoRmIudGVzdChmKT8iJiI6Ij8iKSsiXz0iK0ViKyspKSxsLmlmTW9kaWZpZWQmJihuLmxhc3RNb2RpZmllZFtmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsbi5sYXN0TW9kaWZpZWRbZl0pLG4uZXRhZ1tmXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixuLmV0YWdbZl0pKSwobC5kYXRhJiZsLmhhc0NvbnRlbnQmJmwuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJncuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixsLmNvbnRlbnRUeXBlKSx3LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsbC5kYXRhVHlwZXNbMF0mJmwuYWNjZXB0c1tsLmRhdGFUeXBlc1swXV0/bC5hY2NlcHRzW2wuZGF0YVR5cGVzWzBdXSsoIioiIT09bC5kYXRhVHlwZXNbMF0/IiwgIitRYisiOyBxPTAuMDEiOiIiKTpsLmFjY2VwdHNbIioiXSk7Zm9yKGUgaW4gbC5oZWFkZXJzKXcuc2V0UmVxdWVzdEhlYWRlcihlLGwuaGVhZGVyc1tlXSk7aWYobC5iZWZvcmVTZW5kJiYobC5iZWZvcmVTZW5kLmNhbGwobSx3LGwpPT09ITF8fDI9PT11KSlyZXR1cm4gdy5hYm9ydCgpO3Y9ImFib3J0Ijtmb3IoZSBpbntzdWNjZXNzOjEsZXJyb3I6MSxjb21wbGV0ZToxfSl3W2VdKGxbZV0pO2lmKGo9VWIoUGIsbCxjLHcpKXtpZih3LnJlYWR5U3RhdGU9MSxpJiZvLnRyaWdnZXIoImFqYXhTZW5kIixbdyxsXSksMj09PXUpcmV0dXJuIHc7bC5hc3luYyYmbC50aW1lb3V0PjAmJihoPWEuc2V0VGltZW91dChmdW5jdGlvbigpe3cuYWJvcnQoInRpbWVvdXQiKX0sbC50aW1lb3V0KSk7dHJ5e3U9MSxqLnNlbmQocyx5KX1jYXRjaCh4KXtpZighKDI+dSkpdGhyb3cgeDt5KC0xLHgpfX1lbHNlIHkoLTEsIk5vIFRyYW5zcG9ydCIpO2Z1bmN0aW9uIHkoYixjLGQsZSl7dmFyIGsscyx0LHYseCx5PWM7MiE9PXUmJih1PTIsaCYmYS5jbGVhclRpbWVvdXQoaCksaj12b2lkIDAsZz1lfHwiIix3LnJlYWR5U3RhdGU9Yj4wPzQ6MCxrPWI+PTIwMCYmMzAwPmJ8fDMwND09PWIsZCYmKHY9V2IobCx3LGQpKSx2PVhiKGwsdix3LGspLGs/KGwuaWZNb2RpZmllZCYmKHg9dy5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpLHgmJihuLmxhc3RNb2RpZmllZFtmXT14KSx4PXcuZ2V0UmVzcG9uc2VIZWFkZXIoImV0YWciKSx4JiYobi5ldGFnW2ZdPXgpKSwyMDQ9PT1ifHwiSEVBRCI9PT1sLnR5cGU/eT0ibm9jb250ZW50IjozMDQ9PT1iP3k9Im5vdG1vZGlmaWVkIjooeT12LnN0YXRlLHM9di5kYXRhLHQ9di5lcnJvcixrPSF0KSk6KHQ9eSwhYiYmeXx8KHk9ImVycm9yIiwwPmImJihiPTApKSksdy5zdGF0dXM9Yix3LnN0YXR1c1RleHQ9KGN8fHkpKyIiLGs/cC5yZXNvbHZlV2l0aChtLFtzLHksd10pOnAucmVqZWN0V2l0aChtLFt3LHksdF0pLHcuc3RhdHVzQ29kZShyKSxyPXZvaWQgMCxpJiZvLnRyaWdnZXIoaz8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFt3LGwsaz9zOnRdKSxxLmZpcmVXaXRoKG0sW3cseV0pLGkmJihvLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3csbF0pLC0tbi5hY3RpdmV8fG4uZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfXJldHVybiB3fSxnZXRKU09OOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbi5nZXQoYSxiLGMsImpzb24iKX0sZ2V0U2NyaXB0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIG4uZ2V0KGEsdm9pZCAwLGIsInNjcmlwdCIpfX0pLG4uZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGIpe25bYl09ZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbihjKSYmKGU9ZXx8ZCxkPWMsYz12b2lkIDApLG4uYWpheChuLmV4dGVuZCh7dXJsOmEsdHlwZTpiLGRhdGFUeXBlOmUsZGF0YTpjLHN1Y2Nlc3M6ZH0sbi5pc1BsYWluT2JqZWN0KGEpJiZhKSl9fSksbi5fZXZhbFVybD1mdW5jdGlvbihhKXtyZXR1cm4gbi5hamF4KHt1cmw6YSx0eXBlOiJHRVQiLGRhdGFUeXBlOiJzY3JpcHQiLGNhY2hlOiEwLGFzeW5jOiExLGdsb2JhbDohMSwidGhyb3dzIjohMH0pfSxuLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihhKXtpZihuLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtuKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9bihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmMT09PWEuZmlyc3RDaGlsZC5ub2RlVHlwZSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe3JldHVybiBuLmlzRnVuY3Rpb24oYSk/dGhpcy5lYWNoKGZ1bmN0aW9uKGIpe24odGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPW4odGhpcyksYz1iLmNvbnRlbnRzKCk7Yy5sZW5ndGg/Yy53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7dmFyIGI9bi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYyl7bih0aGlzKS53cmFwQWxsKGI/YS5jYWxsKHRoaXMsYyk6YSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe24ubm9kZU5hbWUodGhpcywiYm9keSIpfHxuKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX19KTtmdW5jdGlvbiBZYihhKXtyZXR1cm4gYS5zdHlsZSYmYS5zdHlsZS5kaXNwbGF5fHxuLmNzcyhhLCJkaXNwbGF5Iil9ZnVuY3Rpb24gWmIoYSl7aWYoIW4uY29udGFpbnMoYS5vd25lckRvY3VtZW50fHxkLGEpKXJldHVybiEwO3doaWxlKGEmJjE9PT1hLm5vZGVUeXBlKXtpZigibm9uZSI9PT1ZYihhKXx8ImhpZGRlbiI9PT1hLnR5cGUpcmV0dXJuITA7YT1hLnBhcmVudE5vZGV9cmV0dXJuITF9bi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3JldHVybiBsLnJlbGlhYmxlSGlkZGVuT2Zmc2V0cygpP2Eub2Zmc2V0V2lkdGg8PTAmJmEub2Zmc2V0SGVpZ2h0PD0wJiYhYS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDpaYihhKX0sbi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hbi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfTt2YXIgJGI9LyUyMC9nLF9iPS9cW1xdJC8sYWM9L1xyP1xuL2csYmM9L14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLGNjPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtmdW5jdGlvbiBkYyhhLGIsYyxkKXt2YXIgZTtpZihuLmlzQXJyYXkoYikpbi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxfYi50ZXN0KGEpP2QoYSxlKTpkYyhhKyJbIisoIm9iamVjdCI9PXR5cGVvZiBlJiZudWxsIT1lP2I6IiIpKyJdIixlLGMsZCl9KTtlbHNlIGlmKGN8fCJvYmplY3QiIT09bi50eXBlKGIpKWQoYSxiKTtlbHNlIGZvcihlIGluIGIpZGMoYSsiWyIrZSsiXSIsYltlXSxjLGQpfW4ucGFyYW09ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPW4uaXNGdW5jdGlvbihiKT9iKCk6bnVsbD09Yj8iIjpiLGRbZC5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChhKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGIpfTtpZih2b2lkIDA9PT1iJiYoYj1uLmFqYXhTZXR0aW5ncyYmbi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLG4uaXNBcnJheShhKXx8YS5qcXVlcnkmJiFuLmlzUGxhaW5PYmplY3QoYSkpbi5lYWNoKGEsZnVuY3Rpb24oKXtlKHRoaXMubmFtZSx0aGlzLnZhbHVlKX0pO2Vsc2UgZm9yKGMgaW4gYSlkYyhjLGFbY10sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSgkYiwiKyIpfSxuLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIG4ucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT1uLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gYT9uLm1ha2VBcnJheShhKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFuKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmY2MudGVzdCh0aGlzLm5vZGVOYW1lKSYmIWJjLnRlc3QoYSkmJih0aGlzLmNoZWNrZWR8fCFaLnRlc3QoYSkpfSkubWFwKGZ1bmN0aW9uKGEsYil7dmFyIGM9bih0aGlzKS52YWwoKTtyZXR1cm4gbnVsbD09Yz9udWxsOm4uaXNBcnJheShjKT9uLm1hcChjLGZ1bmN0aW9uKGEpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYWMsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGFjLCJcclxuIil9fSkuZ2V0KCl9fSksbi5hamF4U2V0dGluZ3MueGhyPXZvaWQgMCE9PWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTG9jYWw/aWMoKTpkLmRvY3VtZW50TW9kZT44P2hjKCk6L14oZ2V0fHBvc3R8aGVhZHxwdXR8ZGVsZXRlfG9wdGlvbnMpJC9pLnRlc3QodGhpcy50eXBlKSYmaGMoKXx8aWMoKX06aGM7dmFyIGVjPTAsZmM9e30sZ2M9bi5hamF4U2V0dGluZ3MueGhyKCk7YS5hdHRhY2hFdmVudCYmYS5hdHRhY2hFdmVudCgib251bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGZjKWZjW2FdKHZvaWQgMCwhMCl9KSxsLmNvcnM9ISFnYyYmIndpdGhDcmVkZW50aWFscyJpbiBnYyxnYz1sLmFqYXg9ISFnYyxnYyYmbi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGIpe2lmKCFiLmNyb3NzRG9tYWlufHxsLmNvcnMpe3ZhciBjO3JldHVybntzZW5kOmZ1bmN0aW9uKGQsZSl7dmFyIGYsZz1iLnhocigpLGg9KytlYztpZihnLm9wZW4oYi50eXBlLGIudXJsLGIuYXN5bmMsYi51c2VybmFtZSxiLnBhc3N3b3JkKSxiLnhockZpZWxkcylmb3IoZiBpbiBiLnhockZpZWxkcylnW2ZdPWIueGhyRmllbGRzW2ZdO2IubWltZVR5cGUmJmcub3ZlcnJpZGVNaW1lVHlwZSYmZy5vdmVycmlkZU1pbWVUeXBlKGIubWltZVR5cGUpLGIuY3Jvc3NEb21haW58fGRbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KGRbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IoZiBpbiBkKXZvaWQgMCE9PWRbZl0mJmcuc2V0UmVxdWVzdEhlYWRlcihmLGRbZl0rIiIpO2cuc2VuZChiLmhhc0NvbnRlbnQmJmIuZGF0YXx8bnVsbCksYz1mdW5jdGlvbihhLGQpe3ZhciBmLGksajtpZihjJiYoZHx8ND09PWcucmVhZHlTdGF0ZSkpaWYoZGVsZXRlIGZjW2hdLGM9dm9pZCAwLGcub25yZWFkeXN0YXRlY2hhbmdlPW4ubm9vcCxkKTQhPT1nLnJlYWR5U3RhdGUmJmcuYWJvcnQoKTtlbHNle2o9e30sZj1nLnN0YXR1cywic3RyaW5nIj09dHlwZW9mIGcucmVzcG9uc2VUZXh0JiYoai50ZXh0PWcucmVzcG9uc2VUZXh0KTt0cnl7aT1nLnN0YXR1c1RleHR9Y2F0Y2goayl7aT0iIn1mfHwhYi5pc0xvY2FsfHxiLmNyb3NzRG9tYWluPzEyMjM9PT1mJiYoZj0yMDQpOmY9ai50ZXh0PzIwMDo0MDR9aiYmZShmLGksaixnLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKX0sYi5hc3luYz80PT09Zy5yZWFkeVN0YXRlP2Euc2V0VGltZW91dChjKTpnLm9ucmVhZHlzdGF0ZWNoYW5nZT1mY1toXT1jOmMoKX0sYWJvcnQ6ZnVuY3Rpb24oKXtjJiZjKHZvaWQgMCwhMCl9fX19KTtmdW5jdGlvbiBoYygpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBpYygpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fW4uYWpheFNldHVwKHthY2NlcHRzOntzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgYXBwbGljYXRpb24vZWNtYXNjcmlwdCwgYXBwbGljYXRpb24veC1lY21hc2NyaXB0In0sY29udGVudHM6e3NjcmlwdDovXGIoPzpqYXZhfGVjbWEpc2NyaXB0XGIvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe3JldHVybiBuLmdsb2JhbEV2YWwoYSksYX19fSksbi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe3ZvaWQgMD09PWEuY2FjaGUmJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLG4uYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgYixjPWQuaGVhZHx8bigiaGVhZCIpWzBdfHxkLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGYpe2I9ZC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxiLmFzeW5jPSEwLGEuc2NyaXB0Q2hhcnNldCYmKGIuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGIuc3JjPWEudXJsLGIub25sb2FkPWIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7KGN8fCFiLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QoYi5yZWFkeVN0YXRlKSkmJihiLm9ubG9hZD1iLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpLGI9bnVsbCxjfHxmKDIwMCwic3VjY2VzcyIpKX0sYy5pbnNlcnRCZWZvcmUoYixjLmZpcnN0Q2hpbGQpfSxhYm9ydDpmdW5jdGlvbigpe2ImJmIub25sb2FkKHZvaWQgMCwhMCl9fX19KTt2YXIgamM9W10sa2M9Lyg9KVw/KD89JnwkKXxcP1w/LztuLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGE9amMucG9wKCl8fG4uZXhwYW5kbysiXyIrRWIrKztyZXR1cm4gdGhpc1thXT0hMCxhfX0pLG4uYWpheFByZWZpbHRlcigianNvbiBqc29ucCIsZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoPWIuanNvbnAhPT0hMSYmKGtjLnRlc3QoYi51cmwpPyJ1cmwiOiJzdHJpbmciPT10eXBlb2YgYi5kYXRhJiYwPT09KGIuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYma2MudGVzdChiLmRhdGEpJiYiZGF0YSIpO3JldHVybiBofHwianNvbnAiPT09Yi5kYXRhVHlwZXNbMF0/KGU9Yi5qc29ucENhbGxiYWNrPW4uaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxoP2JbaF09YltoXS5yZXBsYWNlKGtjLCIkMSIrZSk6Yi5qc29ucCE9PSExJiYoYi51cmwrPShGYi50ZXN0KGIudXJsKT8iJiI6Ij8iKStiLmpzb25wKyI9IitlKSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtyZXR1cm4gZ3x8bi5lcnJvcihlKyIgd2FzIG5vdCBjYWxsZWQiKSxnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiIsZj1hW2VdLGFbZV09ZnVuY3Rpb24oKXtnPWFyZ3VtZW50c30sZC5hbHdheXMoZnVuY3Rpb24oKXt2b2lkIDA9PT1mP24oYSkucmVtb3ZlUHJvcChlKTphW2VdPWYsYltlXSYmKGIuanNvbnBDYWxsYmFjaz1jLmpzb25wQ2FsbGJhY2ssamMucHVzaChlKSksZyYmbi5pc0Z1bmN0aW9uKGYpJiZmKGdbMF0pLGc9Zj12b2lkIDB9KSwic2NyaXB0Iik6dm9pZCAwfSksbi5wYXJzZUhUTUw9ZnVuY3Rpb24oYSxiLGMpe2lmKCFhfHwic3RyaW5nIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7ImJvb2xlYW4iPT10eXBlb2YgYiYmKGM9YixiPSExKSxiPWJ8fGQ7dmFyIGU9eC5leGVjKGEpLGY9IWMmJltdO3JldHVybiBlP1tiLmNyZWF0ZUVsZW1lbnQoZVsxXSldOihlPWphKFthXSxiLGYpLGYmJmYubGVuZ3RoJiZuKGYpLnJlbW92ZSgpLG4ubWVyZ2UoW10sZS5jaGlsZE5vZGVzKSl9O3ZhciBsYz1uLmZuLmxvYWQ7bi5mbi5sb2FkPWZ1bmN0aW9uKGEsYixjKXtpZigic3RyaW5nIiE9dHlwZW9mIGEmJmxjKXJldHVybiBsYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIGQsZSxmLGc9dGhpcyxoPWEuaW5kZXhPZigiICIpO3JldHVybiBoPi0xJiYoZD1uLnRyaW0oYS5zbGljZShoLGEubGVuZ3RoKSksYT1hLnNsaWNlKDAsaCkpLG4uaXNGdW5jdGlvbihiKT8oYz1iLGI9dm9pZCAwKTpiJiYib2JqZWN0Ij09dHlwZW9mIGImJihlPSJQT1NUIiksZy5sZW5ndGg+MCYmbi5hamF4KHt1cmw6YSx0eXBlOmV8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOmJ9KS5kb25lKGZ1bmN0aW9uKGEpe2Y9YXJndW1lbnRzLGcuaHRtbChkP24oIjxkaXY+IikuYXBwZW5kKG4ucGFyc2VIVE1MKGEpKS5maW5kKGQpOmEpfSkuYWx3YXlzKGMmJmZ1bmN0aW9uKGEsYil7Zy5lYWNoKGZ1bmN0aW9uKCl7Yy5hcHBseSh0aGlzLGZ8fFthLnJlc3BvbnNlVGV4dCxiLGFdKX0pfSksdGhpc30sbi5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24oYSxiKXtuLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9uKGIsYSl9fSksbi5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4uZ3JlcChuLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PWIuZWxlbX0pLmxlbmd0aH07ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIG4uaXNXaW5kb3coYSk/YTo5PT09YS5ub2RlVHlwZT9hLmRlZmF1bHRWaWV3fHxhLnBhcmVudFdpbmRvdzohMX1uLm9mZnNldD17c2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGYsZyxoLGksaixrPW4uY3NzKGEsInBvc2l0aW9uIiksbD1uKGEpLG09e307InN0YXRpYyI9PT1rJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKSxoPWwub2Zmc2V0KCksZj1uLmNzcyhhLCJ0b3AiKSxpPW4uY3NzKGEsImxlZnQiKSxqPSgiYWJzb2x1dGUiPT09a3x8ImZpeGVkIj09PWspJiZuLmluQXJyYXkoImF1dG8iLFtmLGldKT4tMSxqPyhkPWwucG9zaXRpb24oKSxnPWQudG9wLGU9ZC5sZWZ0KTooZz1wYXJzZUZsb2F0KGYpfHwwLGU9cGFyc2VGbG9hdChpKXx8MCksbi5pc0Z1bmN0aW9uKGIpJiYoYj1iLmNhbGwoYSxjLG4uZXh0ZW5kKHt9LGgpKSksbnVsbCE9Yi50b3AmJihtLnRvcD1iLnRvcC1oLnRvcCtnKSxudWxsIT1iLmxlZnQmJihtLmxlZnQ9Yi5sZWZ0LWgubGVmdCtlKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxtKTpsLmNzcyhtKX19LG4uZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24oYSl7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09YT90aGlzOnRoaXMuZWFjaChmdW5jdGlvbihiKXtuLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGIpfSk7dmFyIGIsYyxkPXt0b3A6MCxsZWZ0OjB9LGU9dGhpc1swXSxmPWUmJmUub3duZXJEb2N1bWVudDtpZihmKXJldHVybiBiPWYuZG9jdW1lbnRFbGVtZW50LG4uY29udGFpbnMoYixlKT8oInVuZGVmaW5lZCIhPXR5cGVvZiBlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKGQ9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSksYz1tYyhmKSx7dG9wOmQudG9wKyhjLnBhZ2VZT2Zmc2V0fHxiLnNjcm9sbFRvcCktKGIuY2xpZW50VG9wfHwwKSxsZWZ0OmQubGVmdCsoYy5wYWdlWE9mZnNldHx8Yi5zY3JvbGxMZWZ0KS0oYi5jbGllbnRMZWZ0fHwwKX0pOmR9LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIGEsYixjPXt0b3A6MCxsZWZ0OjB9LGQ9dGhpc1swXTtyZXR1cm4iZml4ZWQiPT09bi5jc3MoZCwicG9zaXRpb24iKT9iPWQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk6KGE9dGhpcy5vZmZzZXRQYXJlbnQoKSxiPXRoaXMub2Zmc2V0KCksbi5ub2RlTmFtZShhWzBdLCJodG1sIil8fChjPWEub2Zmc2V0KCkpLGMudG9wKz1uLmNzcyhhWzBdLCJib3JkZXJUb3BXaWR0aCIsITApLGMubGVmdCs9bi5jc3MoYVswXSwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpLHt0b3A6Yi50b3AtYy50b3Atbi5jc3MoZCwibWFyZ2luVG9wIiwhMCksbGVmdDpiLmxlZnQtYy5sZWZ0LW4uY3NzKGQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudDt3aGlsZShhJiYhbi5ub2RlTmFtZShhLCJodG1sIikmJiJzdGF0aWMiPT09bi5jc3MoYSwicG9zaXRpb24iKSlhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfHxRYX0pfX0pLG4uZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihhLGIpe3ZhciBjPS9ZLy50ZXN0KGIpO24uZm5bYV09ZnVuY3Rpb24oZCl7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihhLGQsZSl7dmFyIGY9bWMoYSk7cmV0dXJuIHZvaWQgMD09PWU/Zj9iIGluIGY/ZltiXTpmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXTphW2RdOnZvaWQoZj9mLnNjcm9sbFRvKGM/bihmKS5zY3JvbGxMZWZ0KCk6ZSxjP2U6bihmKS5zY3JvbGxUb3AoKSk6YVtkXT1lKX0sYSxkLGFyZ3VtZW50cy5sZW5ndGgsbnVsbCl9fSksbi5lYWNoKFsidG9wIiwibGVmdCJdLGZ1bmN0aW9uKGEsYil7bi5jc3NIb29rc1tiXT1VYShsLnBpeGVsUG9zaXRpb24sZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz8oYz1TYShhLGIpLE9hLnRlc3QoYyk/bihhKS5wb3NpdGlvbigpW2JdKyJweCI6Yyk6dm9pZCAwfSl9KSxuLmVhY2goe0hlaWdodDoiaGVpZ2h0IixXaWR0aDoid2lkdGgifSxmdW5jdGlvbihhLGIpe24uZWFjaCh7CnBhZGRpbmc6ImlubmVyIithLGNvbnRlbnQ6YiwiIjoib3V0ZXIiK2F9LGZ1bmN0aW9uKGMsZCl7bi5mbltkXT1mdW5jdGlvbihkLGUpe3ZhciBmPWFyZ3VtZW50cy5sZW5ndGgmJihjfHwiYm9vbGVhbiIhPXR5cGVvZiBkKSxnPWN8fChkPT09ITB8fGU9PT0hMD8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIFkodGhpcyxmdW5jdGlvbihiLGMsZCl7dmFyIGU7cmV0dXJuIG4uaXNXaW5kb3coYik/Yi5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrYV06OT09PWIubm9kZVR5cGU/KGU9Yi5kb2N1bWVudEVsZW1lbnQsTWF0aC5tYXgoYi5ib2R5WyJzY3JvbGwiK2FdLGVbInNjcm9sbCIrYV0sYi5ib2R5WyJvZmZzZXQiK2FdLGVbIm9mZnNldCIrYV0sZVsiY2xpZW50IithXSkpOnZvaWQgMD09PWQ/bi5jc3MoYixjLGcpOm4uc3R5bGUoYixjLGQsZyl9LGIsZj9kOnZvaWQgMCxmLG51bGwpfX0pfSksbi5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLm9uKGEsbnVsbCxiLGMpfSx1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5vZmYoYSxudWxsLGIpfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5vbihiLGEsYyxkKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKGEsIioqIik6dGhpcy5vZmYoYixhfHwiKioiLGMpfX0pLG4uZm4uc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sbi5mbi5hbmRTZWxmPW4uZm4uYWRkQmFjaywiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoImpxdWVyeSIsW10sZnVuY3Rpb24oKXtyZXR1cm4gbn0pO3ZhciBuYz1hLmpRdWVyeSxvYz1hLiQ7cmV0dXJuIG4ubm9Db25mbGljdD1mdW5jdGlvbihiKXtyZXR1cm4gYS4kPT09biYmKGEuJD1vYyksYiYmYS5qUXVlcnk9PT1uJiYoYS5qUXVlcnk9bmMpLG59LGJ8fChhLmpRdWVyeT1hLiQ9biksbn0pOwo="}]}],"settings":{"script_blacklist_server":[{"severity":"2","rules":["/https?:\\/\\/userscripts\\.org\\/scripts\\/(source|version)/(102614).*\\.user\\.js/"]},{"name":"SaveFrom.net helper","severity":"3","rules":["/https?:\\/\\/sf-addon\\.com\\/.*\\/.*\\.user\\.js/","/https?:\\/\\/.*\\.sf-helper\\.com\\/.*\\.user\\.js/"],"reason":"Shows advertisements"},{"severity":"8","reasons":{"en":"Used for a phishing compain to compromise users of baon-nutrition.com"},"rules":["/https?:\\/\\/files\\.ulysse\\.travel\\/.*\\.user\\.js/"]}],"configMode":0,"enabled":true,"i18n":"zh_CN","scriptUpdateCheckDisabled":true,"scriptUpdateCheckPeriod":86400000}}